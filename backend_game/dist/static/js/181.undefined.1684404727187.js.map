{"version":3,"file":"static/js/181.undefined.1684404727187.js","mappings":"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","sources":["webpack://knowledge/./src/components/dynamic-table.vue","webpack://knowledge/./src/components/dynamic-table.vue?a5fc","webpack://knowledge/./src/views/admin/promotion-rewards.vue","webpack://knowledge/./src/views/admin/promotion-rewards.vue?34da"],"sourcesContent":["<template>\n  <el-table :data=\"tableData\" fit>\n    <el-table-column type=\"index\" label=\"No.\" :width=\"50\" />\n    <el-table-column v-for=\"(item, index) in tableHeader\" :key=\"index\" :label=\"item.value\" :prop=\"item.key\">\n    </el-table-column>\n    <el-table-column label=\"Operations\" width=\"120\" v-if=\"operationsData\">\n      <template #default=\"scope\">\n        <span v-for=\"item in operationsData\" :key=\"item.id\" style=\"padding-left:5px;padding-right:5px;\">\n          <el-tooltip :content=\"item.name\" placement=\"top\">\n            <el-button :type=\"item.type\" size=\"small\" @click=\"handleClick(item.event,scope.row,scope.$index)\" circle><i :class=\"item.icon\"></i></el-button>\n          </el-tooltip>\n        </span>\n      </template>\n    </el-table-column>\n    <template #empty>\n      <el-empty style=\"margin:0 auto\"></el-empty>\n    </template>\n  </el-table>\n</template>\n  \n<script setup>\nimport { ref, defineProps, defineEmits, watch } from \"vue\";\nlet tableHeader = ref([]);\nlet tableData = ref([]);\nlet operationsData = ref(null);\nlet emits = defineEmits(['commands']);\n// 表格展示数据\nconst props = defineProps({\n  data: {\n    type: Array,\n    default: () => []\n  },\n  header: {\n    type: Array,\n    default: () => []\n  },\n  operations: {\n    type: Array,\n    default: () => null\n  }\n})\nwatch(() => props.data, (val) => {\n  tableData.value = val;\n}, { immediate: true })\nwatch(() => props.header, (val) => {\n  tableHeader.value = generateHeader(val);\n}, { immediate: true })\nwatch(() => props.operations, (val) => {\n  operationsData.value = val;\n}, { immediate: true })\nfunction generateHeader(data) {\n  const ret = [];\n  for (let key of data) {\n    if (key !== \"id\") {\n      const obj = {\n        key: key,\n        value: key.replace(/\\_/g, \" \"),\n      };\n      ret.push(obj);\n    }\n  }\n  return ret;\n}\nfunction handleClick(event, item) {\n  emits('commands', { command: event, data: item })\n}\n  </script>\n<style scoped>\n/deep/ .el-table {\n  min-height: 400px;\n}\n/deep/ .el-table__header {\n  text-transform: capitalize;\n}\n</style>\n  \n  ","import script from \"./dynamic-table.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./dynamic-table.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./dynamic-table.vue?vue&type=style&index=0&id=10da8c81&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/liudongxue/Documents/brilliance/game/backend_game/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-10da8c81\"]])\n\nexport default __exports__","<template>\n  <div class=\"card\">\n    <div class=\"card-header card-header-tabs card-header-warning\">\n      <div class=\"nav-tabs-navigation\">\n        <div class=\"nav-tabs-wrapper\">\n          <ul class=\"nav nav-tabs\" data-tabs=\"tabs\">\n            <li class=\"nav-item\" @click=\"handleClick('cp')\">\n              <a class=\"nav-link\" :class=\"activeName =='cp'?' active show':''\" href=\"javascript:void(0);\" data-toggle=\"tab\">\n                <i class=\"fa fa-share-alt\"></i> Channel Providers\n                <div class=\"ripple-container\"></div>\n              </a>\n            </li>\n            <li class=\"nav-item\" @click=\"handleClick('ca')\">\n              <a class=\"nav-link\" :class=\"activeName =='ca'?' active show':''\" href=\"javascript:void(0);\" data-toggle=\"tab\">\n                <i class=\"fa fa-group\"></i> Club Administrators\n                <div class=\"ripple-container\"></div>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n    <div class=\"card-body\">\n      <div class=\"row\">\n        <div class=\"col-md-3\">\n          <label>Epoch:&nbsp;</label>\n          <div class=\"dropdown bootstrap-select\" id=\"selectpicker\">\n            <el-select v-model=\"epoch\" class=\"selectpicker btn btn-info btn-round\" placeholder=\"Select Epoch\">\n              <el-option label=\"1 2023-05-01 - 2023-05-31\" value=\"1\"></el-option>\n              <el-option label=\"2\" value=\"2\"></el-option>\n              <el-option label=\"3\" value=\"3\"></el-option>\n              <el-option label=\"4\" value=\"4\">4</el-option>\n              <el-option label=\"5\" value=\"5\"></el-option>\n            </el-select>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"form-group\">\n            <div class=\"input-group no-border\">\n              <input type=\"text\" v-model=\"search\" class=\"form-control\" placeholder=\"Search user...\">\n              <button type=\"button\" class=\"btn btn-info btn-round btn-just-icon\">\n                <i class=\"fa fa-search\"></i>\n                <div class=\"ripple-container\"></div>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <dynamic-table :data=\"tableData\" :header=\"tableHeader\" :operations=\"operations\" @commands=\"view\"></dynamic-table>\n      <el-pagination background layout=\"prev, pager, next\" :total=\"total\" v-model:current-page=\"pageNum\" @current-change=\"handlePageChange\" :page-size=\"pageSize\" />\n    </div>\n    <!--View NFT on Blockchain-->\n    <el-dialog v-model=\"visible\" title=\"View NFT on Blockchain\">\n      <div class=\"detail-box\">\n        <el-row :gutter=\"40\">\n          <el-col :span=\"8\">\n            <el-image :src=\"rowData.src\"></el-image>\n          </el-col>\n          <el-col :span=\"16\">\n            <template v-for=\"(item,key) in rowData\">\n              <div v-if=\"key !='src'\" :key=\"key\" class=\"detail-item\">\n                <span>{{ key.replace(/\\_/g,\" \")+\":\" }}</span>\n                <span>{{ item }}</span>\n              </div>\n            </template>\n          </el-col>\n        </el-row>\n      </div>\n    </el-dialog>\n    <!--View NFT on Blockchain-->\n  </div>\n</template>\n  <script setup>\nimport { ref, onMounted } from \"vue\";\nimport { gameApi } from \"@/api/request\";\nimport DynamicTable from \"@/components/dynamic-table.vue\";\nlet activeName = ref(\"cp\");\nlet tableData = ref([])\nlet tableHeader = ref([\"id\", \"user\", \"commission\", \"count_of_promoted\", \"total_amount_of_promoted\", \"awards\"])\nlet operations = ref([{ id: 1, type: 'success', icon: \"fa fa-group\", name: \"view members\", event: 'view' }, { id: 1, type: 'primary', icon: \"fa fa-cc\", name: \"Allocate awards\", event: 'allocate' }])\nlet visible = ref(false);\nlet rowData = ref({});\nlet pageNum = ref(1); let total = ref(1);\nlet pageSize = ref(10);\nlet epoch = ref(\"\")\nlet search = ref(\"\")\nfunction view(data) {\n  if (data.command == \"view\") {\n    visible.value = true;\n    queryRow(data.data);\n  }\n}\nfunction query() {\n  let data = {\n    pageSize: pageSize.value,\n    pageNum: pageNum.value,\n    type: activeName.value,\n    epoch: epoch.value ? epoch.value : null,\n    search: search.value ? search.value : null\n  }\n  gameApi.rewards(data).then((res) => {\n    if (res.data.data) {\n      tableData.value = res.data.data;\n      total.value = res.data.total;\n    }\n  })\n}\nfunction queryRow(data) {\n  let res = [data].map(i => {\n    return {\n      NFT_type: i.nft_type,\n      Game_chances: i.game_chances,\n      Blockchain: i.blockchain,\n      Token_ID: i.token_id,\n      Contract_Address: i.contract_address,\n      Minted_at: i.minted_at,\n      src: i.src\n    }\n  });\n  rowData.value = res[0];\n}\nfunction handleClick(tab) {\n  activeName.value = tab;\n  pageNum.value = 1;\n  epoch.value = \"\";\n  search.value = \"\"\n  query();\n}\nfunction handlePageChange(val) {\n  pageNum.value = val;\n  query();\n}\nonMounted(() => {\n  query();\n})\n  </script>","import script from \"./promotion-rewards.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./promotion-rewards.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["tableHeader","ref","tableData","operationsData","generateHeader","data","ret","key","obj","value","replace","push","handleClick","event","item","emits","command","watch","props","val","immediate","header","operations","__exports__","activeName","id","type","icon","name","visible","rowData","pageNum","total","pageSize","epoch","search","view","queryRow","query","gameApi","then","res","map","i","NFT_type","nft_type","Game_chances","game_chances","Blockchain","blockchain","Token_ID","token_id","Contract_Address","contract_address","Minted_at","minted_at","src","tab","handlePageChange","onMounted"],"sourceRoot":""}