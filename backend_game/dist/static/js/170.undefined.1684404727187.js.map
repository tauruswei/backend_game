{"version":3,"file":"static/js/170.undefined.1684404727187.js","mappings":"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","sources":["webpack://knowledge/./src/components/register.vue","webpack://knowledge/./src/components/register.vue?e122"],"sourcesContent":["<template>\n  <div class=\"login-bg\">\n        <div class=\"logo\" style=\"position: relative; z-index: 9; padding-left: 20px; text-align: left\">\n          <img :src=\"require('../assets/img/logo.png')\" />\n          <span class=\"wtext-l\">Chess Of Stars</span>\n        </div>\n      <div class=\"login-box\">\n        <h3 class=\"title-des wtext-xl\">Welcome !</h3>\n        <p class=\"text-muted\"><small>register your own account^^</small></p>\n        <el-form ref=\"formRef\" :rules=\"rules\" label-position=\"top\" label-width=\"100px\" :model=\"form\" style=\"padding-top: 40px\">\n          <el-form-item label=\"email\" prop=\"userName\">\n            <el-input v-model=\"form.userName\" placeholder=\"enter your email\" />\n          </el-form-item>\n          <el-form-item label=\"password\" prop=\"password\">\n            <el-input v-model=\"form.password\" type=\"password\" placeholder=\"enter your password\" show-password />\n          </el-form-item>\n          <el-form-item label=\"type\">\n            <el-select v-model=\"form.roleId\" placeholder=\"select\" style=\"width: 100%\">\n              <el-option v-for=\"(item, index) in roleList\" :key=\"index\" :label=\"item.name\" :value=\"item.id\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" class=\"w-100 shadow\" @click=\"doRegister()\">Sign Up</el-button>\n          </el-form-item>\n        </el-form>\n        <div style=\"margin-top: 60px; font-size: 14px\"><span class=\"text-muted\">Has accountï¼Ÿ</span><a href=\"/login\">Sign In</a></div>\n      </div>\n    </div>\n</template>\n<script>\nimport { ref, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nimport { userApi } from \"../api/request\";\nimport { loadingHelper } from \"@/utils/loading\";\nimport { ElMessage } from \"element-plus\";\nexport default {\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const roleList = ref([]);\n    const formRef = ref(null);\n    const form = ref({\n      userName: \"\",\n      password: \"\",\n      roleId: 1,\n    });\n    const rules = ref({});\n    rules.value.userName = [\n      { required: true, message: \"Email is required\", trigger: \"blur\" },\n      { min: 2, max: 64, message: \"The length between 2 and 64 character\", trigger: \"blur\" },\n    ];\n    rules.value.password = [{ required: true, message: \"Password is required\", trigger: \"blur\" }];\n    function getRoleList() {\n      userApi.roles().then((res) => {\n        if (res.code == 200 && res.msg == \"success\") {\n          roleList.value = res.data;\n        }\n      });\n    }\n    function doRegister() {\n      formRef.value.validate((valid) => {\n        if (valid) {\n          loadingHelper.show();\n          userApi.login(form.value).then((res) => {\n            if (res.code == 200 && res.msg == \"success\") {\n              ElMessage({\n                type: \"success\",\n                message: \"logging ...\",\n              });\n              doLogin();\n            }\n            loadingHelper.hide();\n          });\n        }\n      });\n    }\n    function doLogin() {\n      loadingHelper.show();\n      let data = {\n        userName: form.value.userName,\n        password: form.value.password,\n      };\n      userApi.login(data).then((res) => {\n        if (res.code == 200 && res.msg == \"success\") {\n          store.commit(\"setUser\", { name: res.data.user.userName, id: res.data.user.userId });\n          store.commit(\"setRole\", res.data.user.roleId);\n          store.commit(\"setToken\", res.data.token);\n          router.push({\n            path: \"/plat/dashboard\",\n          });\n        }\n        loadingHelper.hide();\n      });\n    }\n    onMounted(() => {\n      getRoleList();\n    });\n    return {\n      form,\n      doRegister,\n      roleList,\n      rules,\n      formRef,\n    };\n  },\n};\n</script>\n","import { render } from \"./register.vue?vue&type=template&id=446dd2a9\"\nimport script from \"./register.vue?vue&type=script&lang=js\"\nexport * from \"./register.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/liudongxue/Documents/brilliance/game/backend_game/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","href","_createElementBlock","_hoisted_1","_hoisted_2","src","require","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createVNode","_component_el_form","ref","rules","$setup","model","_component_el_form_item","label","prop","_component_el_input","userName","placeholder","password","type","_component_el_select","roleId","_Fragment","item","index","_createBlock","_component_el_option","key","name","value","id","_component_el_button","onClick","_hoisted_8","setup","store","useStore","router","useRouter","roleList","formRef","form","getRoleList","userApi","then","res","code","msg","data","doRegister","validate","valid","loadingHelper","ElMessage","message","doLogin","commit","user","userId","token","push","path","required","trigger","min","max","onMounted","__exports__","render"],"sourceRoot":""}