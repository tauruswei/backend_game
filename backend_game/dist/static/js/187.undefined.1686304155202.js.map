{"version":3,"file":"static/js/187.undefined.1686304155202.js","mappings":"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SAAUl7L,EAAQ9H,GACjC,OAAO+hM,GAAaj6L,EAAQ9H,GAAM+kB,MAAK,SAAUkxD,GAC/C,OAAOqsH,GAAS7d,GAAUt8J,QAAQrgB,GAASmuE,EAAMnuE,EAAOoP,YAC1D,GACF,EAEI+rL,GAAoB,SAAUhtH,GAChC,OAAO8sH,GAAS9sH,EAClB,EAEIitH,GAAQ,SAAU3uM,EAAO6T,EAAKC,GAChC,IAAI86L,EAA+B,kBAAV5uM,EAAqBmnB,WAAWnnB,GAASA,EAMlE,OALI4uM,EAAc96L,EAChB86L,EAAc96L,EACL86L,EAAc/6L,IACvB+6L,EAAc/6L,GAET+6L,CACT,EACIj6K,GAAW,WACb,MAAO,CACL,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAEJ,EACIk6K,GAAc,CAChB,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,IACA,KACA,EACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,EACA,IACA,IACA,IACA,IACA,EACA,IACA,IACA,IACA,EACA,IACA,EACA,IACA,IACA,EACA,IACA,IACA,IACA,EACA,IACA,IACA,EACA,IACA,IACA,IACA,IAEEC,GAAW,SAAUC,EAASC,GAIhC,IAHA,IAEI5pL,EAFA+8J,EAAM,GACN/2H,EAAM,IAAI7qD,MAAM,IAEXnC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAK,IAAIisC,EAAI,EAAGA,EAAI,EAAGA,IACrB83I,EAAI93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","sources":["webpack://chessofstars/./node_modules/cropperjs/dist/cropper.js","webpack://chessofstars/../../../../../../packages/components/upload/src/constants.ts","webpack://chessofstars/../../../../../../packages/components/progress/src/progress.ts","webpack://chessofstars/../../../../../../packages/components/progress/src/progress.vue","webpack://chessofstars/../../../../../packages/components/progress/index.ts","webpack://chessofstars/../../../../../../packages/components/upload/src/ajax.ts","webpack://chessofstars/../../../../../../packages/components/upload/src/upload.ts","webpack://chessofstars/../../../../../../packages/components/upload/src/upload-list.ts","webpack://chessofstars/../../../../../../packages/components/upload/src/upload-list.vue","webpack://chessofstars/./node_modules/lodash-es/cloneDeep.js","webpack://chessofstars/../../../../../../packages/components/upload/src/upload-dragger.ts","webpack://chessofstars/../../../../../../packages/components/upload/src/upload-dragger.vue","webpack://chessofstars/../../../../../../packages/components/upload/src/upload-content.ts","webpack://chessofstars/../../../../../../packages/components/upload/src/upload-content.vue","webpack://chessofstars/../../../../../../packages/components/upload/src/use-handlers.ts","webpack://chessofstars/../../../../../../packages/components/upload/src/upload.vue","webpack://chessofstars/../../../../../packages/components/upload/index.ts","webpack://chessofstars/./node_modules/tinymce/icons/default/icons.js","webpack://chessofstars/./node_modules/tinymce/plugins/advlist/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/advlist/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/anchor/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/anchor/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/autolink/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/autolink/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/autosave/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/autosave/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/code/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/code/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/codesample/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/codesample/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/directionality/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/directionality/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/fullscreen/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/fullscreen/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/hr/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/hr/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/insertdatetime/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/insertdatetime/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/link/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/link/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/lists/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/lists/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/media/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/media/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/nonbreaking/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/nonbreaking/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/noneditable/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/noneditable/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/pagebreak/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/pagebreak/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/paste/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/paste/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/preview/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/preview/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/print/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/print/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/save/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/save/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/searchreplace/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/searchreplace/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/spellchecker/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/spellchecker/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/tabfocus/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/tabfocus/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/template/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/template/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/textpattern/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/textpattern/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/visualblocks/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/visualblocks/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/visualchars/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/visualchars/plugin.js","webpack://chessofstars/./node_modules/tinymce/plugins/wordcount/index.js","webpack://chessofstars/./node_modules/tinymce/plugins/wordcount/plugin.js","webpack://chessofstars/./node_modules/tinymce/themes/silver/index.js","webpack://chessofstars/./node_modules/tinymce/themes/silver/theme.js","webpack://chessofstars/./src/components/blog/blog-addh5.vue","webpack://chessofstars/./src/components/blog/blog-addvlog.vue","webpack://chessofstars/./src/views/admin/blog.vue","webpack://chessofstars/./src/components/blog/blog-addh5.vue?7980","webpack://chessofstars/./src/components/blog/blog-addvlog.vue?15bd","webpack://chessofstars/./src/components/crope-img.vue","webpack://chessofstars/./src/components/crope-img.vue?2f10","webpack://chessofstars/./src/components/page-title.vue","webpack://chessofstars/./src/components/page-title.vue?469e","webpack://chessofstars/./src/components/tinymce/tinymce.js","webpack://chessofstars/./src/utils/uuid.js","webpack://chessofstars/./src/components/tinymce/helper.js","webpack://chessofstars/./src/hooks/core.js","webpack://chessofstars/./src/utils/is.js","webpack://chessofstars/./src/components/tinymce/tinymce.vue","webpack://chessofstars/./src/components/tinymce/tinymce.vue?0acb","webpack://chessofstars/./src/views/admin/blog.vue?68fd"],"sourcesContent":["/*!\n * Cropper.js v1.5.13\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2022-11-20T05:30:46.114Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Cropper = factory());\n})(this, (function () { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      enumerableOnly && (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      })), keys.push.apply(keys, symbols);\n    }\n    return keys;\n  }\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = null != arguments[i] ? arguments[i] : {};\n      i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n    return target;\n  }\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n    return arr2;\n  }\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'cropper';\n\n  // Actions\n  var ACTION_ALL = 'all';\n  var ACTION_CROP = 'crop';\n  var ACTION_MOVE = 'move';\n  var ACTION_ZOOM = 'zoom';\n  var ACTION_EAST = 'e';\n  var ACTION_WEST = 'w';\n  var ACTION_SOUTH = 's';\n  var ACTION_NORTH = 'n';\n  var ACTION_NORTH_EAST = 'ne';\n  var ACTION_NORTH_WEST = 'nw';\n  var ACTION_SOUTH_EAST = 'se';\n  var ACTION_SOUTH_WEST = 'sw';\n\n  // Classes\n  var CLASS_CROP = \"\".concat(NAMESPACE, \"-crop\");\n  var CLASS_DISABLED = \"\".concat(NAMESPACE, \"-disabled\");\n  var CLASS_HIDDEN = \"\".concat(NAMESPACE, \"-hidden\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_MODAL = \"\".concat(NAMESPACE, \"-modal\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\");\n\n  // Data keys\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n  var DATA_PREVIEW = \"\".concat(NAMESPACE, \"Preview\");\n\n  // Drag modes\n  var DRAG_MODE_CROP = 'crop';\n  var DRAG_MODE_MOVE = 'move';\n  var DRAG_MODE_NONE = 'none';\n\n  // Events\n  var EVENT_CROP = 'crop';\n  var EVENT_CROP_END = 'cropend';\n  var EVENT_CROP_MOVE = 'cropmove';\n  var EVENT_CROP_START = 'cropstart';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_READY = 'ready';\n  var EVENT_RESIZE = 'resize';\n  var EVENT_WHEEL = 'wheel';\n  var EVENT_ZOOM = 'zoom';\n\n  // Mime types\n  var MIME_TYPE_JPEG = 'image/jpeg';\n\n  // RegExps\n  var REGEXP_ACTIONS = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/;\n  var REGEXP_DATA_URL = /^data:/;\n  var REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\n  var REGEXP_TAG_NAME = /^img|canvas$/i;\n\n  // Misc\n  // Inspired by the default width and height of a canvas element.\n  var MIN_CONTAINER_WIDTH = 200;\n  var MIN_CONTAINER_HEIGHT = 100;\n\n  var DEFAULTS = {\n    // Define the view mode of the cropper\n    viewMode: 0,\n    // 0, 1, 2, 3\n\n    // Define the dragging mode of the cropper\n    dragMode: DRAG_MODE_CROP,\n    // 'crop', 'move' or 'none'\n\n    // Define the initial aspect ratio of the crop box\n    initialAspectRatio: NaN,\n    // Define the aspect ratio of the crop box\n    aspectRatio: NaN,\n    // An object with the previous cropping result data\n    data: null,\n    // A selector for adding extra containers to preview\n    preview: '',\n    // Re-render the cropper when resize the window\n    responsive: true,\n    // Restore the cropped area after resize the window\n    restore: true,\n    // Check if the current image is a cross-origin image\n    checkCrossOrigin: true,\n    // Check the current image's Exif Orientation information\n    checkOrientation: true,\n    // Show the black modal\n    modal: true,\n    // Show the dashed lines for guiding\n    guides: true,\n    // Show the center indicator for guiding\n    center: true,\n    // Show the white modal to highlight the crop box\n    highlight: true,\n    // Show the grid background\n    background: true,\n    // Enable to crop the image automatically when initialize\n    autoCrop: true,\n    // Define the percentage of automatic cropping area when initializes\n    autoCropArea: 0.8,\n    // Enable to move the image\n    movable: true,\n    // Enable to rotate the image\n    rotatable: true,\n    // Enable to scale the image\n    scalable: true,\n    // Enable to zoom the image\n    zoomable: true,\n    // Enable to zoom the image by dragging touch\n    zoomOnTouch: true,\n    // Enable to zoom the image by wheeling mouse\n    zoomOnWheel: true,\n    // Define zoom ratio when zoom the image by wheeling mouse\n    wheelZoomRatio: 0.1,\n    // Enable to move the crop box\n    cropBoxMovable: true,\n    // Enable to resize the crop box\n    cropBoxResizable: true,\n    // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n    toggleDragModeOnDblclick: true,\n    // Size limitation\n    minCanvasWidth: 0,\n    minCanvasHeight: 0,\n    minCropBoxWidth: 0,\n    minCropBoxHeight: 0,\n    minContainerWidth: MIN_CONTAINER_WIDTH,\n    minContainerHeight: MIN_CONTAINER_HEIGHT,\n    // Shortcuts of events\n    ready: null,\n    cropstart: null,\n    cropmove: null,\n    cropend: null,\n    crop: null,\n    zoom: null\n  };\n\n  var TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-cropper-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-cropper-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-cropper-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-cropper-action=\"se\"></span>' + '</div>' + '</div>';\n\n  /**\n   * Check if the given value is not a number.\n   */\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n\n  /**\n   * Check if the given value is a positive number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n   */\n  var isPositiveNumber = function isPositiveNumber(value) {\n    return value > 0 && value < Infinity;\n  };\n\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n  var slice = Array.prototype.slice;\n\n  /**\n   * Convert array-like or iterable object to an array.\n   * @param {*} value - The value to convert.\n   * @returns {Array} Returns a new array.\n   */\n  function toArray(value) {\n    return Array.from ? Array.from(value) : slice.call(value);\n  }\n\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\n        toArray(data).forEach(function (value, key) {\n          callback.call(data, value, key, data);\n        });\n      } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n    return data;\n  }\n\n  /**\n   * Extend the given object.\n   * @param {*} target - The target object to extend.\n   * @param {*} args - The rest objects for merging to the target object.\n   * @returns {Object} The extended object.\n   */\n  var assign = Object.assign || function assign(target) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (isObject(target) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            target[key] = arg[key];\n          });\n        }\n      });\n    }\n    return target;\n  };\n  var REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n\n  /**\n   * Normalize decimal number.\n   * Check out {@link https://0.30000000000000004.com/}\n   * @param {number} value - The value to normalize.\n   * @param {number} [times=100000000000] - The times for normalizing.\n   * @returns {number} Returns the normalized number.\n   */\n  function normalizeDecimalNumber(value) {\n    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n    return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n  }\n  var REGEXP_SUFFIX = /^width|height|left|top|marginLeft|marginTop$/;\n\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value = \"\".concat(value, \"px\");\n      }\n      style[property] = value;\n    });\n  }\n\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n  function hasClass(element, value) {\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n  function addClass(element, value) {\n    if (!value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n    var className = element.className.trim();\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n  function removeClass(element, value) {\n    if (!value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    }\n\n    // IE10-11 doesn't support the second parameter of `classList.toggle`\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_CAMEL_CASE = /([a-z\\d])([A-Z])/g;\n\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n  function toParamCase(value) {\n    return value.replace(REGEXP_CAMEL_CASE, '$1-$2').toLowerCase();\n  }\n\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n    return element.getAttribute(\"data-\".concat(toParamCase(name)));\n  }\n\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(toParamCase(name)), data);\n    }\n  }\n\n  /**\n   * Remove data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to remove.\n   */\n  function removeData(element, name) {\n    if (isObject(element[name])) {\n      try {\n        delete element[name];\n      } catch (error) {\n        element[name] = undefined;\n      }\n    } else if (element.dataset) {\n      // #128 Safari not allows to delete dataset property\n      try {\n        delete element.dataset[name];\n      } catch (error) {\n        element.dataset[name] = undefined;\n      }\n    } else {\n      element.removeAttribute(\"data-\".concat(toParamCase(name)));\n    }\n  }\n  var REGEXP_SPACES = /\\s\\s*/;\n  var onceSupported = function () {\n    var supported = false;\n    if (IS_BROWSER) {\n      var once = false;\n      var listener = function listener() {};\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n    return supported;\n  }();\n\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n      element.removeEventListener(event, handler, options);\n    });\n  }\n\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n          listeners = _element$listeners === void 0 ? {} : _element$listeners;\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          listener.apply(element, args);\n        };\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n      element.addEventListener(event, _handler, options);\n    });\n  }\n\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n  function dispatchEvent(element, type, data) {\n    var event;\n\n    // Event and CustomEvent on IE9-11 are global objects, not constructors\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, {\n        detail: data,\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n    return element.dispatchEvent(event);\n  }\n\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n  var location = WINDOW.location;\n  var REGEXP_ORIGINS = /^(\\w+:)\\/\\/([^:/?#]*):?(\\d*)/i;\n\n  /**\n   * Check if the given URL is a cross origin URL.\n   * @param {string} url - The target URL.\n   * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n   */\n  function isCrossOriginURL(url) {\n    var parts = url.match(REGEXP_ORIGINS);\n    return parts !== null && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n  }\n\n  /**\n   * Add timestamp to the given URL.\n   * @param {string} url - The target URL.\n   * @returns {string} The result URL.\n   */\n  function addTimestamp(url) {\n    var timestamp = \"timestamp=\".concat(new Date().getTime());\n    return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n  }\n\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      translateX = _ref.translateX,\n      translateY = _ref.translateY;\n    var values = [];\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    }\n\n    // Rotate should come first before scale to match orientation transform\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n    var maxRatio = 0;\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n        if (Math.abs(ratio) > Math.abs(maxRatio)) {\n          maxRatio = ratio;\n        }\n      });\n    });\n    return maxRatio;\n  }\n\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n      pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n        startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n\n  /**\n   * Get the max sizes in a rectangle under the given aspect ratio.\n   * @param {Object} data - The original sizes.\n   * @param {string} [type='contain'] - The adjust type.\n   * @returns {Object} The result sizes.\n   */\n  function getAdjustedSizes(_ref4) {\n    var aspectRatio = _ref4.aspectRatio,\n      height = _ref4.height,\n      width = _ref4.width;\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n    var isValidWidth = isPositiveNumber(width);\n    var isValidHeight = isPositiveNumber(height);\n    if (isValidWidth && isValidHeight) {\n      var adjustedWidth = height * aspectRatio;\n      if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n        height = width / aspectRatio;\n      } else {\n        width = height * aspectRatio;\n      }\n    } else if (isValidWidth) {\n      height = width / aspectRatio;\n    } else if (isValidHeight) {\n      width = height * aspectRatio;\n    }\n    return {\n      width: width,\n      height: height\n    };\n  }\n\n  /**\n   * Get the new sizes of a rectangle after rotated.\n   * @param {Object} data - The original sizes.\n   * @returns {Object} The result sizes.\n   */\n  function getRotatedSizes(_ref5) {\n    var width = _ref5.width,\n      height = _ref5.height,\n      degree = _ref5.degree;\n    degree = Math.abs(degree) % 180;\n    if (degree === 90) {\n      return {\n        width: height,\n        height: width\n      };\n    }\n    var arc = degree % 90 * Math.PI / 180;\n    var sinArc = Math.sin(arc);\n    var cosArc = Math.cos(arc);\n    var newWidth = width * cosArc + height * sinArc;\n    var newHeight = width * sinArc + height * cosArc;\n    return degree > 90 ? {\n      width: newHeight,\n      height: newWidth\n    } : {\n      width: newWidth,\n      height: newHeight\n    };\n  }\n\n  /**\n   * Get a canvas which drew the given image.\n   * @param {HTMLImageElement} image - The image for drawing.\n   * @param {Object} imageData - The image data.\n   * @param {Object} canvasData - The canvas data.\n   * @param {Object} options - The options.\n   * @returns {HTMLCanvasElement} The result canvas.\n   */\n  function getSourceCanvas(image, _ref6, _ref7, _ref8) {\n    var imageAspectRatio = _ref6.aspectRatio,\n      imageNaturalWidth = _ref6.naturalWidth,\n      imageNaturalHeight = _ref6.naturalHeight,\n      _ref6$rotate = _ref6.rotate,\n      rotate = _ref6$rotate === void 0 ? 0 : _ref6$rotate,\n      _ref6$scaleX = _ref6.scaleX,\n      scaleX = _ref6$scaleX === void 0 ? 1 : _ref6$scaleX,\n      _ref6$scaleY = _ref6.scaleY,\n      scaleY = _ref6$scaleY === void 0 ? 1 : _ref6$scaleY;\n    var aspectRatio = _ref7.aspectRatio,\n      naturalWidth = _ref7.naturalWidth,\n      naturalHeight = _ref7.naturalHeight;\n    var _ref8$fillColor = _ref8.fillColor,\n      fillColor = _ref8$fillColor === void 0 ? 'transparent' : _ref8$fillColor,\n      _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n      imageSmoothingEnabled = _ref8$imageSmoothingE === void 0 ? true : _ref8$imageSmoothingE,\n      _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n      imageSmoothingQuality = _ref8$imageSmoothingQ === void 0 ? 'low' : _ref8$imageSmoothingQ,\n      _ref8$maxWidth = _ref8.maxWidth,\n      maxWidth = _ref8$maxWidth === void 0 ? Infinity : _ref8$maxWidth,\n      _ref8$maxHeight = _ref8.maxHeight,\n      maxHeight = _ref8$maxHeight === void 0 ? Infinity : _ref8$maxHeight,\n      _ref8$minWidth = _ref8.minWidth,\n      minWidth = _ref8$minWidth === void 0 ? 0 : _ref8$minWidth,\n      _ref8$minHeight = _ref8.minHeight,\n      minHeight = _ref8$minHeight === void 0 ? 0 : _ref8$minHeight;\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n    var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight));\n\n    // Note: should always use image's natural sizes for drawing as\n    // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n    var destMaxSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var destMinSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n    var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n    var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n    context.fillStyle = fillColor;\n    context.fillRect(0, 0, width, height);\n    context.save();\n    context.translate(width / 2, height / 2);\n    context.rotate(rotate * Math.PI / 180);\n    context.scale(scaleX, scaleY);\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n    context.imageSmoothingQuality = imageSmoothingQuality;\n    context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n    context.restore();\n    return canvas;\n  }\n  var fromCharCode = String.fromCharCode;\n\n  /**\n   * Get string from char code in data view.\n   * @param {DataView} dataView - The data view for read.\n   * @param {number} start - The start index.\n   * @param {number} length - The read length.\n   * @returns {string} The read result.\n   */\n  function getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    length += start;\n    for (var i = start; i < length; i += 1) {\n      str += fromCharCode(dataView.getUint8(i));\n    }\n    return str;\n  }\n  var REGEXP_DATA_URL_HEAD = /^data:.*,/;\n\n  /**\n   * Transform Data URL to array buffer.\n   * @param {string} dataURL - The Data URL to transform.\n   * @returns {ArrayBuffer} The result array buffer.\n   */\n  function dataURLToArrayBuffer(dataURL) {\n    var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n    var binary = atob(base64);\n    var arrayBuffer = new ArrayBuffer(binary.length);\n    var uint8 = new Uint8Array(arrayBuffer);\n    forEach(uint8, function (value, i) {\n      uint8[i] = binary.charCodeAt(i);\n    });\n    return arrayBuffer;\n  }\n\n  /**\n   * Transform array buffer to Data URL.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n   * @param {string} mimeType - The mime type of the Data URL.\n   * @returns {string} The result Data URL.\n   */\n  function arrayBufferToDataURL(arrayBuffer, mimeType) {\n    var chunks = [];\n\n    // Chunk Typed Array for better performance (#435)\n    var chunkSize = 8192;\n    var uint8 = new Uint8Array(arrayBuffer);\n    while (uint8.length > 0) {\n      // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n      // eslint-disable-next-line prefer-spread\n      chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n      uint8 = uint8.subarray(chunkSize);\n    }\n    return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n  }\n\n  /**\n   * Get orientation value from given array buffer.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n   * @returns {number} The read orientation value.\n   */\n  function resetAndGetOrientation(arrayBuffer) {\n    var dataView = new DataView(arrayBuffer);\n    var orientation;\n\n    // Ignores range error when the image does not have correct Exif information\n    try {\n      var littleEndian;\n      var app1Start;\n      var ifdStart;\n\n      // Only handle JPEG image (start by 0xFFD8)\n      if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n        var length = dataView.byteLength;\n        var offset = 2;\n        while (offset + 1 < length) {\n          if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n            app1Start = offset;\n            break;\n          }\n          offset += 1;\n        }\n      }\n      if (app1Start) {\n        var exifIDCode = app1Start + 4;\n        var tiffOffset = app1Start + 10;\n        if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n          var endianness = dataView.getUint16(tiffOffset);\n          littleEndian = endianness === 0x4949;\n          if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n            if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n              var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n              if (firstIFDOffset >= 0x00000008) {\n                ifdStart = tiffOffset + firstIFDOffset;\n              }\n            }\n          }\n        }\n      }\n      if (ifdStart) {\n        var _length = dataView.getUint16(ifdStart, littleEndian);\n        var _offset;\n        var i;\n        for (i = 0; i < _length; i += 1) {\n          _offset = ifdStart + i * 12 + 2;\n          if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {\n            // 8 is the offset of the current tag's value\n            _offset += 8;\n\n            // Get the original orientation value\n            orientation = dataView.getUint16(_offset, littleEndian);\n\n            // Override the orientation with its default value\n            dataView.setUint16(_offset, 1, littleEndian);\n            break;\n          }\n        }\n      }\n    } catch (error) {\n      orientation = 1;\n    }\n    return orientation;\n  }\n\n  /**\n   * Parse Exif Orientation value.\n   * @param {number} orientation - The orientation to parse.\n   * @returns {Object} The parsed result.\n   */\n  function parseOrientation(orientation) {\n    var rotate = 0;\n    var scaleX = 1;\n    var scaleY = 1;\n    switch (orientation) {\n      // Flip horizontal\n      case 2:\n        scaleX = -1;\n        break;\n\n      // Rotate left 180°\n      case 3:\n        rotate = -180;\n        break;\n\n      // Flip vertical\n      case 4:\n        scaleY = -1;\n        break;\n\n      // Flip vertical and rotate right 90°\n      case 5:\n        rotate = 90;\n        scaleY = -1;\n        break;\n\n      // Rotate right 90°\n      case 6:\n        rotate = 90;\n        break;\n\n      // Flip horizontal and rotate right 90°\n      case 7:\n        rotate = 90;\n        scaleX = -1;\n        break;\n\n      // Rotate left 90°\n      case 8:\n        rotate = -90;\n        break;\n    }\n    return {\n      rotate: rotate,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initCanvas();\n      this.initCropBox();\n      this.renderCanvas();\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    },\n    initContainer: function initContainer() {\n      var element = this.element,\n        options = this.options,\n        container = this.container,\n        cropper = this.cropper;\n      var minWidth = Number(options.minContainerWidth);\n      var minHeight = Number(options.minContainerHeight);\n      addClass(cropper, CLASS_HIDDEN);\n      removeClass(element, CLASS_HIDDEN);\n      var containerData = {\n        width: Math.max(container.offsetWidth, minWidth >= 0 ? minWidth : MIN_CONTAINER_WIDTH),\n        height: Math.max(container.offsetHeight, minHeight >= 0 ? minHeight : MIN_CONTAINER_HEIGHT)\n      };\n      this.containerData = containerData;\n      setStyle(cropper, {\n        width: containerData.width,\n        height: containerData.height\n      });\n      addClass(element, CLASS_HIDDEN);\n      removeClass(cropper, CLASS_HIDDEN);\n    },\n    // Canvas (image wrapper)\n    initCanvas: function initCanvas() {\n      var containerData = this.containerData,\n        imageData = this.imageData;\n      var viewMode = this.options.viewMode;\n      var rotated = Math.abs(imageData.rotate) % 180 === 90;\n      var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n      var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var canvasWidth = containerData.width;\n      var canvasHeight = containerData.height;\n      if (containerData.height * aspectRatio > containerData.width) {\n        if (viewMode === 3) {\n          canvasWidth = containerData.height * aspectRatio;\n        } else {\n          canvasHeight = containerData.width / aspectRatio;\n        }\n      } else if (viewMode === 3) {\n        canvasHeight = containerData.width / aspectRatio;\n      } else {\n        canvasWidth = containerData.height * aspectRatio;\n      }\n      var canvasData = {\n        aspectRatio: aspectRatio,\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight,\n        width: canvasWidth,\n        height: canvasHeight\n      };\n      this.canvasData = canvasData;\n      this.limited = viewMode === 1 || viewMode === 2;\n      this.limitCanvas(true, true);\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      canvasData.left = (containerData.width - canvasData.width) / 2;\n      canvasData.top = (containerData.height - canvasData.height) / 2;\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      this.initialCanvasData = assign({}, canvasData);\n    },\n    limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n      var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n      var viewMode = options.viewMode;\n      var aspectRatio = canvasData.aspectRatio;\n      var cropped = this.cropped && cropBoxData;\n      if (sizeLimited) {\n        var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n        var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n        if (viewMode > 1) {\n          minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n          minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n          if (viewMode === 3) {\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        } else if (viewMode > 0) {\n          if (minCanvasWidth) {\n            minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n          } else if (minCanvasHeight) {\n            minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n          } else if (cropped) {\n            minCanvasWidth = cropBoxData.width;\n            minCanvasHeight = cropBoxData.height;\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        }\n        var _getAdjustedSizes = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: minCanvasWidth,\n          height: minCanvasHeight\n        });\n        minCanvasWidth = _getAdjustedSizes.width;\n        minCanvasHeight = _getAdjustedSizes.height;\n        canvasData.minWidth = minCanvasWidth;\n        canvasData.minHeight = minCanvasHeight;\n        canvasData.maxWidth = Infinity;\n        canvasData.maxHeight = Infinity;\n      }\n      if (positionLimited) {\n        if (viewMode > (cropped ? 0 : 1)) {\n          var newCanvasLeft = containerData.width - canvasData.width;\n          var newCanvasTop = containerData.height - canvasData.height;\n          canvasData.minLeft = Math.min(0, newCanvasLeft);\n          canvasData.minTop = Math.min(0, newCanvasTop);\n          canvasData.maxLeft = Math.max(0, newCanvasLeft);\n          canvasData.maxTop = Math.max(0, newCanvasTop);\n          if (cropped && this.limited) {\n            canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n            canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n            canvasData.maxLeft = cropBoxData.left;\n            canvasData.maxTop = cropBoxData.top;\n            if (viewMode === 2) {\n              if (canvasData.width >= containerData.width) {\n                canvasData.minLeft = Math.min(0, newCanvasLeft);\n                canvasData.maxLeft = Math.max(0, newCanvasLeft);\n              }\n              if (canvasData.height >= containerData.height) {\n                canvasData.minTop = Math.min(0, newCanvasTop);\n                canvasData.maxTop = Math.max(0, newCanvasTop);\n              }\n            }\n          }\n        } else {\n          canvasData.minLeft = -canvasData.width;\n          canvasData.minTop = -canvasData.height;\n          canvasData.maxLeft = containerData.width;\n          canvasData.maxTop = containerData.height;\n        }\n      }\n    },\n    renderCanvas: function renderCanvas(changed, transformed) {\n      var canvasData = this.canvasData,\n        imageData = this.imageData;\n      if (transformed) {\n        var _getRotatedSizes = getRotatedSizes({\n            width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n            height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n            degree: imageData.rotate || 0\n          }),\n          naturalWidth = _getRotatedSizes.width,\n          naturalHeight = _getRotatedSizes.height;\n        var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n        var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n        canvasData.left -= (width - canvasData.width) / 2;\n        canvasData.top -= (height - canvasData.height) / 2;\n        canvasData.width = width;\n        canvasData.height = height;\n        canvasData.aspectRatio = naturalWidth / naturalHeight;\n        canvasData.naturalWidth = naturalWidth;\n        canvasData.naturalHeight = naturalHeight;\n        this.limitCanvas(true, false);\n      }\n      if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n        canvasData.left = canvasData.oldLeft;\n      }\n      if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n        canvasData.top = canvasData.oldTop;\n      }\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      this.limitCanvas(false, true);\n      canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n      canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      setStyle(this.canvas, assign({\n        width: canvasData.width,\n        height: canvasData.height\n      }, getTransforms({\n        translateX: canvasData.left,\n        translateY: canvasData.top\n      })));\n      this.renderImage(changed);\n      if (this.cropped && this.limited) {\n        this.limitCropBox(true, true);\n      }\n    },\n    renderImage: function renderImage(changed) {\n      var canvasData = this.canvasData,\n        imageData = this.imageData;\n      var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n      var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n      assign(imageData, {\n        width: width,\n        height: height,\n        left: (canvasData.width - width) / 2,\n        top: (canvasData.height - height) / 2\n      });\n      setStyle(this.image, assign({\n        width: imageData.width,\n        height: imageData.height\n      }, getTransforms(assign({\n        translateX: imageData.left,\n        translateY: imageData.top\n      }, imageData))));\n      if (changed) {\n        this.output();\n      }\n    },\n    initCropBox: function initCropBox() {\n      var options = this.options,\n        canvasData = this.canvasData;\n      var aspectRatio = options.aspectRatio || options.initialAspectRatio;\n      var autoCropArea = Number(options.autoCropArea) || 0.8;\n      var cropBoxData = {\n        width: canvasData.width,\n        height: canvasData.height\n      };\n      if (aspectRatio) {\n        if (canvasData.height * aspectRatio > canvasData.width) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n      this.cropBoxData = cropBoxData;\n      this.limitCropBox(true, true);\n\n      // Initialize auto crop area\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n\n      // The width/height of auto crop area must large than \"minWidth/Height\"\n      cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n      cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n      cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n      cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n      this.initialCropBoxData = assign({}, cropBoxData);\n    },\n    limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n      var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData,\n        limited = this.limited;\n      var aspectRatio = options.aspectRatio;\n      if (sizeLimited) {\n        var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n        var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n        var maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width;\n        var maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height;\n\n        // The min/maxCropBoxWidth/Height must be less than container's width/height\n        minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n        minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n        if (aspectRatio) {\n          if (minCropBoxWidth && minCropBoxHeight) {\n            if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n              minCropBoxHeight = minCropBoxWidth / aspectRatio;\n            } else {\n              minCropBoxWidth = minCropBoxHeight * aspectRatio;\n            }\n          } else if (minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else if (minCropBoxHeight) {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n          if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n            maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n          } else {\n            maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n          }\n        }\n\n        // The minWidth/Height must be less than maxWidth/Height\n        cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n        cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n        cropBoxData.maxWidth = maxCropBoxWidth;\n        cropBoxData.maxHeight = maxCropBoxHeight;\n      }\n      if (positionLimited) {\n        if (limited) {\n          cropBoxData.minLeft = Math.max(0, canvasData.left);\n          cropBoxData.minTop = Math.max(0, canvasData.top);\n          cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n          cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n        } else {\n          cropBoxData.minLeft = 0;\n          cropBoxData.minTop = 0;\n          cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n          cropBoxData.maxTop = containerData.height - cropBoxData.height;\n        }\n      }\n    },\n    renderCropBox: function renderCropBox() {\n      var options = this.options,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData;\n      if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n        cropBoxData.left = cropBoxData.oldLeft;\n      }\n      if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n        cropBoxData.top = cropBoxData.oldTop;\n      }\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n      this.limitCropBox(false, true);\n      cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n      cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n      if (options.movable && options.cropBoxMovable) {\n        // Turn to move the canvas when the crop box is equal to the container\n        setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n      }\n      setStyle(this.cropBox, assign({\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      }, getTransforms({\n        translateX: cropBoxData.left,\n        translateY: cropBoxData.top\n      })));\n      if (this.cropped && this.limited) {\n        this.limitCanvas(true, true);\n      }\n      if (!this.disabled) {\n        this.output();\n      }\n    },\n    output: function output() {\n      this.preview();\n      dispatchEvent(this.element, EVENT_CROP, this.getData());\n    }\n  };\n\n  var preview = {\n    initPreview: function initPreview() {\n      var element = this.element,\n        crossOrigin = this.crossOrigin;\n      var preview = this.options.preview;\n      var url = crossOrigin ? this.crossOriginUrl : this.url;\n      var alt = element.alt || 'The image to preview';\n      var image = document.createElement('img');\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n      image.src = url;\n      image.alt = alt;\n      this.viewBox.appendChild(image);\n      this.viewBoxImage = image;\n      if (!preview) {\n        return;\n      }\n      var previews = preview;\n      if (typeof preview === 'string') {\n        previews = element.ownerDocument.querySelectorAll(preview);\n      } else if (preview.querySelector) {\n        previews = [preview];\n      }\n      this.previews = previews;\n      forEach(previews, function (el) {\n        var img = document.createElement('img');\n\n        // Save the original size for recover\n        setData(el, DATA_PREVIEW, {\n          width: el.offsetWidth,\n          height: el.offsetHeight,\n          html: el.innerHTML\n        });\n        if (crossOrigin) {\n          img.crossOrigin = crossOrigin;\n        }\n        img.src = url;\n        img.alt = alt;\n\n        /**\n         * Override img element styles\n         * Add `display:block` to avoid margin top issue\n         * Add `height:auto` to override `height` attribute on IE8\n         * (Occur only when margin-top <= -height)\n         */\n        img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n        el.innerHTML = '';\n        el.appendChild(img);\n      });\n    },\n    resetPreview: function resetPreview() {\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        setStyle(element, {\n          width: data.width,\n          height: data.height\n        });\n        element.innerHTML = data.html;\n        removeData(element, DATA_PREVIEW);\n      });\n    },\n    preview: function preview() {\n      var imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n      var cropBoxWidth = cropBoxData.width,\n        cropBoxHeight = cropBoxData.height;\n      var width = imageData.width,\n        height = imageData.height;\n      var left = cropBoxData.left - canvasData.left - imageData.left;\n      var top = cropBoxData.top - canvasData.top - imageData.top;\n      if (!this.cropped || this.disabled) {\n        return;\n      }\n      setStyle(this.viewBoxImage, assign({\n        width: width,\n        height: height\n      }, getTransforms(assign({\n        translateX: -left,\n        translateY: -top\n      }, imageData))));\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        var originalWidth = data.width;\n        var originalHeight = data.height;\n        var newWidth = originalWidth;\n        var newHeight = originalHeight;\n        var ratio = 1;\n        if (cropBoxWidth) {\n          ratio = originalWidth / cropBoxWidth;\n          newHeight = cropBoxHeight * ratio;\n        }\n        if (cropBoxHeight && newHeight > originalHeight) {\n          ratio = originalHeight / cropBoxHeight;\n          newWidth = cropBoxWidth * ratio;\n          newHeight = originalHeight;\n        }\n        setStyle(element, {\n          width: newWidth,\n          height: newHeight\n        });\n        setStyle(element.getElementsByTagName('img')[0], assign({\n          width: width * ratio,\n          height: height * ratio\n        }, getTransforms(assign({\n          translateX: -left * ratio,\n          translateY: -top * ratio\n        }, imageData))));\n      });\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n      if (isFunction(options.cropstart)) {\n        addListener(element, EVENT_CROP_START, options.cropstart);\n      }\n      if (isFunction(options.cropmove)) {\n        addListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n      if (isFunction(options.cropend)) {\n        addListener(element, EVENT_CROP_END, options.cropend);\n      }\n      if (isFunction(options.crop)) {\n        addListener(element, EVENT_CROP, options.crop);\n      }\n      if (isFunction(options.zoom)) {\n        addListener(element, EVENT_ZOOM, options.zoom);\n      }\n      addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleDragModeOnDblclick) {\n        addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n      addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n      addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n      if (options.responsive) {\n        addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n      if (isFunction(options.cropstart)) {\n        removeListener(element, EVENT_CROP_START, options.cropstart);\n      }\n      if (isFunction(options.cropmove)) {\n        removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n      if (isFunction(options.cropend)) {\n        removeListener(element, EVENT_CROP_END, options.cropend);\n      }\n      if (isFunction(options.crop)) {\n        removeListener(element, EVENT_CROP, options.crop);\n      }\n      if (isFunction(options.zoom)) {\n        removeListener(element, EVENT_ZOOM, options.zoom);\n      }\n      removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(cropper, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleDragModeOnDblclick) {\n        removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n      }\n      removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n      removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n      if (options.responsive) {\n        removeListener(window, EVENT_RESIZE, this.onResize);\n      }\n    }\n  };\n\n  var handlers = {\n    resize: function resize() {\n      if (this.disabled) {\n        return;\n      }\n      var options = this.options,\n        container = this.container,\n        containerData = this.containerData;\n      var ratioX = container.offsetWidth / containerData.width;\n      var ratioY = container.offsetHeight / containerData.height;\n      var ratio = Math.abs(ratioX - 1) > Math.abs(ratioY - 1) ? ratioX : ratioY;\n\n      // Resize when width changed or height changed\n      if (ratio !== 1) {\n        var canvasData;\n        var cropBoxData;\n        if (options.restore) {\n          canvasData = this.getCanvasData();\n          cropBoxData = this.getCropBoxData();\n        }\n        this.render();\n        if (options.restore) {\n          this.setCanvasData(forEach(canvasData, function (n, i) {\n            canvasData[i] = n * ratio;\n          }));\n          this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n            cropBoxData[i] = n * ratio;\n          }));\n        }\n      }\n    },\n    dblclick: function dblclick() {\n      if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n        return;\n      }\n      this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n    },\n    wheel: function wheel(event) {\n      var _this = this;\n      var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n      var delta = 1;\n      if (this.disabled) {\n        return;\n      }\n      event.preventDefault();\n\n      // Limit wheel speed to prevent zoom too fast (#21)\n      if (this.wheeling) {\n        return;\n      }\n      this.wheeling = true;\n      setTimeout(function () {\n        _this.wheeling = false;\n      }, 50);\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n      this.zoom(-delta * ratio, event);\n    },\n    cropStart: function cropStart(event) {\n      var buttons = event.buttons,\n        button = event.button;\n      if (this.disabled\n\n      // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && (\n      // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0\n\n      // Open context menu\n      || event.ctrlKey)) {\n        return;\n      }\n      var options = this.options,\n        pointers = this.pointers;\n      var action;\n      if (event.changedTouches) {\n        // Handle touch event\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        // Handle mouse event and pointer event\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n      if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n        action = ACTION_ZOOM;\n      } else {\n        action = getData(event.target, DATA_ACTION);\n      }\n      if (!REGEXP_ACTIONS.test(action)) {\n        return;\n      }\n      if (dispatchEvent(this.element, EVENT_CROP_START, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      }\n\n      // This line is required for preventing page zooming in iOS browsers\n      event.preventDefault();\n      this.action = action;\n      this.cropping = false;\n      if (action === ACTION_CROP) {\n        this.cropping = true;\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n    },\n    cropMove: function cropMove(event) {\n      var action = this.action;\n      if (this.disabled || !action) {\n        return;\n      }\n      var pointers = this.pointers;\n      event.preventDefault();\n      if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      }\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          // The first parameter should not be undefined (#432)\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n      this.change(event);\n    },\n    cropEnd: function cropEnd(event) {\n      if (this.disabled) {\n        return;\n      }\n      var action = this.action,\n        pointers = this.pointers;\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          delete pointers[touch.identifier];\n        });\n      } else {\n        delete pointers[event.pointerId || 0];\n      }\n      if (!action) {\n        return;\n      }\n      event.preventDefault();\n      if (!Object.keys(pointers).length) {\n        this.action = '';\n      }\n      if (this.cropping) {\n        this.cropping = false;\n        toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n      }\n      dispatchEvent(this.element, EVENT_CROP_END, {\n        originalEvent: event,\n        action: action\n      });\n    }\n  };\n\n  var change = {\n    change: function change(event) {\n      var options = this.options,\n        canvasData = this.canvasData,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData,\n        pointers = this.pointers;\n      var action = this.action;\n      var aspectRatio = options.aspectRatio;\n      var left = cropBoxData.left,\n        top = cropBoxData.top,\n        width = cropBoxData.width,\n        height = cropBoxData.height;\n      var right = left + width;\n      var bottom = top + height;\n      var minLeft = 0;\n      var minTop = 0;\n      var maxWidth = containerData.width;\n      var maxHeight = containerData.height;\n      var renderable = true;\n      var offset;\n\n      // Locking aspect ratio in \"free mode\" by holding shift key\n      if (!aspectRatio && event.shiftKey) {\n        aspectRatio = width && height ? width / height : 1;\n      }\n      if (this.limited) {\n        minLeft = cropBoxData.minLeft;\n        minTop = cropBoxData.minTop;\n        maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n        maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n      }\n      var pointer = pointers[Object.keys(pointers)[0]];\n      var range = {\n        x: pointer.endX - pointer.startX,\n        y: pointer.endY - pointer.startY\n      };\n      var check = function check(side) {\n        switch (side) {\n          case ACTION_EAST:\n            if (right + range.x > maxWidth) {\n              range.x = maxWidth - right;\n            }\n            break;\n          case ACTION_WEST:\n            if (left + range.x < minLeft) {\n              range.x = minLeft - left;\n            }\n            break;\n          case ACTION_NORTH:\n            if (top + range.y < minTop) {\n              range.y = minTop - top;\n            }\n            break;\n          case ACTION_SOUTH:\n            if (bottom + range.y > maxHeight) {\n              range.y = maxHeight - bottom;\n            }\n            break;\n        }\n      };\n      switch (action) {\n        // Move crop box\n        case ACTION_ALL:\n          left += range.x;\n          top += range.y;\n          break;\n\n        // Resize crop box\n        case ACTION_EAST:\n          if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_EAST);\n          width += range.x;\n          if (width < 0) {\n            action = ACTION_WEST;\n            width = -width;\n            left -= width;\n          }\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n          break;\n        case ACTION_NORTH:\n          if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n          if (height < 0) {\n            action = ACTION_SOUTH;\n            height = -height;\n            top -= height;\n          }\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n          break;\n        case ACTION_WEST:\n          if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n          if (width < 0) {\n            action = ACTION_EAST;\n            width = -width;\n            left -= width;\n          }\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n          break;\n        case ACTION_SOUTH:\n          if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_SOUTH);\n          height += range.y;\n          if (height < 0) {\n            action = ACTION_NORTH;\n            height = -height;\n            top -= height;\n          }\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n          break;\n        case ACTION_NORTH_EAST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n              renderable = false;\n              break;\n            }\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_EAST);\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            top -= height;\n          }\n          break;\n        case ACTION_NORTH_WEST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n              renderable = false;\n              break;\n            }\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n            left += cropBoxData.width - width;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_WEST);\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            top -= height;\n          }\n          break;\n        case ACTION_SOUTH_WEST:\n          if (aspectRatio) {\n            if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n            check(ACTION_WEST);\n            width -= range.x;\n            left += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_WEST);\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            top -= height;\n          }\n          break;\n        case ACTION_SOUTH_EAST:\n          if (aspectRatio) {\n            if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n            check(ACTION_EAST);\n            width += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_EAST);\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            top -= height;\n          }\n          break;\n\n        // Move canvas\n        case ACTION_MOVE:\n          this.move(range.x, range.y);\n          renderable = false;\n          break;\n\n        // Zoom canvas\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), event);\n          renderable = false;\n          break;\n\n        // Create crop box\n        case ACTION_CROP:\n          if (!range.x || !range.y) {\n            renderable = false;\n            break;\n          }\n          offset = getOffset(this.cropper);\n          left = pointer.startX - offset.left;\n          top = pointer.startY - offset.top;\n          width = cropBoxData.minWidth;\n          height = cropBoxData.minHeight;\n          if (range.x > 0) {\n            action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n          } else if (range.x < 0) {\n            left -= width;\n            action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n          }\n          if (range.y < 0) {\n            top -= height;\n          }\n\n          // Show the crop box if is hidden\n          if (!this.cropped) {\n            removeClass(this.cropBox, CLASS_HIDDEN);\n            this.cropped = true;\n            if (this.limited) {\n              this.limitCropBox(true, true);\n            }\n          }\n          break;\n      }\n      if (renderable) {\n        cropBoxData.width = width;\n        cropBoxData.height = height;\n        cropBoxData.left = left;\n        cropBoxData.top = top;\n        this.action = action;\n        this.renderCropBox();\n      }\n\n      // Override\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    }\n  };\n\n  var methods = {\n    // Show the crop box manually\n    crop: function crop() {\n      if (this.ready && !this.cropped && !this.disabled) {\n        this.cropped = true;\n        this.limitCropBox(true, true);\n        if (this.options.modal) {\n          addClass(this.dragBox, CLASS_MODAL);\n        }\n        removeClass(this.cropBox, CLASS_HIDDEN);\n        this.setCropBoxData(this.initialCropBoxData);\n      }\n      return this;\n    },\n    // Reset the image and crop box to their initial states\n    reset: function reset() {\n      if (this.ready && !this.disabled) {\n        this.imageData = assign({}, this.initialImageData);\n        this.canvasData = assign({}, this.initialCanvasData);\n        this.cropBoxData = assign({}, this.initialCropBoxData);\n        this.renderCanvas();\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n      return this;\n    },\n    // Clear the crop box\n    clear: function clear() {\n      if (this.cropped && !this.disabled) {\n        assign(this.cropBoxData, {\n          left: 0,\n          top: 0,\n          width: 0,\n          height: 0\n        });\n        this.cropped = false;\n        this.renderCropBox();\n        this.limitCanvas(true, true);\n\n        // Render canvas after crop box rendered\n        this.renderCanvas();\n        removeClass(this.dragBox, CLASS_MODAL);\n        addClass(this.cropBox, CLASS_HIDDEN);\n      }\n      return this;\n    },\n    /**\n     * Replace the image's src and rebuild the cropper\n     * @param {string} url - The new URL.\n     * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n     * @returns {Cropper} this\n     */\n    replace: function replace(url) {\n      var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (!this.disabled && url) {\n        if (this.isImg) {\n          this.element.src = url;\n        }\n        if (hasSameSize) {\n          this.url = url;\n          this.image.src = url;\n          if (this.ready) {\n            this.viewBoxImage.src = url;\n            forEach(this.previews, function (element) {\n              element.getElementsByTagName('img')[0].src = url;\n            });\n          }\n        } else {\n          if (this.isImg) {\n            this.replaced = true;\n          }\n          this.options.data = null;\n          this.uncreate();\n          this.load(url);\n        }\n      }\n      return this;\n    },\n    // Enable (unfreeze) the cropper\n    enable: function enable() {\n      if (this.ready && this.disabled) {\n        this.disabled = false;\n        removeClass(this.cropper, CLASS_DISABLED);\n      }\n      return this;\n    },\n    // Disable (freeze) the cropper\n    disable: function disable() {\n      if (this.ready && !this.disabled) {\n        this.disabled = true;\n        addClass(this.cropper, CLASS_DISABLED);\n      }\n      return this;\n    },\n    /**\n     * Destroy the cropper and remove the instance from the image\n     * @returns {Cropper} this\n     */\n    destroy: function destroy() {\n      var element = this.element;\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n      element[NAMESPACE] = undefined;\n      if (this.isImg && this.replaced) {\n        element.src = this.originalUrl;\n      }\n      this.uncreate();\n      return this;\n    },\n    /**\n     * Move the canvas with relative offsets\n     * @param {number} offsetX - The relative offset distance on the x-axis.\n     * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n     * @returns {Cropper} this\n     */\n    move: function move(offsetX) {\n      var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n      var _this$canvasData = this.canvasData,\n        left = _this$canvasData.left,\n        top = _this$canvasData.top;\n      return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n    },\n    /**\n     * Move the canvas to an absolute point\n     * @param {number} x - The x-axis coordinate.\n     * @param {number} [y=x] - The y-axis coordinate.\n     * @returns {Cropper} this\n     */\n    moveTo: function moveTo(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var canvasData = this.canvasData;\n      var changed = false;\n      x = Number(x);\n      y = Number(y);\n      if (this.ready && !this.disabled && this.options.movable) {\n        if (isNumber(x)) {\n          canvasData.left = x;\n          changed = true;\n        }\n        if (isNumber(y)) {\n          canvasData.top = y;\n          changed = true;\n        }\n        if (changed) {\n          this.renderCanvas(true);\n        }\n      }\n      return this;\n    },\n    /**\n     * Zoom the canvas with a relative ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoom: function zoom(ratio, _originalEvent) {\n      var canvasData = this.canvasData;\n      ratio = Number(ratio);\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n      return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n    },\n    /**\n     * Zoom the canvas to an absolute ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Object} pivot - The zoom pivot point coordinate.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n      var options = this.options,\n        canvasData = this.canvasData;\n      var width = canvasData.width,\n        height = canvasData.height,\n        naturalWidth = canvasData.naturalWidth,\n        naturalHeight = canvasData.naturalHeight;\n      ratio = Number(ratio);\n      if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n        if (dispatchEvent(this.element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: width / naturalWidth,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n        if (_originalEvent) {\n          var pointers = this.pointers;\n          var offset = getOffset(this.cropper);\n          var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          };\n\n          // Zoom from the triggering point of the event\n          canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n          canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n        } else {\n          // Zoom from the center of the canvas\n          canvasData.left -= (newWidth - width) / 2;\n          canvasData.top -= (newHeight - height) / 2;\n        }\n        canvasData.width = newWidth;\n        canvasData.height = newHeight;\n        this.renderCanvas(true);\n      }\n      return this;\n    },\n    /**\n     * Rotate the canvas with a relative degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotate: function rotate(degree) {\n      return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n    },\n    /**\n     * Rotate the canvas to an absolute degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotateTo: function rotateTo(degree) {\n      degree = Number(degree);\n      if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n        this.imageData.rotate = degree % 360;\n        this.renderCanvas(true, true);\n      }\n      return this;\n    },\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Cropper} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      var scaleY = this.imageData.scaleY;\n      return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n    },\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      var scaleX = this.imageData.scaleX;\n      return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n    },\n    /**\n     * Scale the image\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scale: function scale(scaleX) {\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var imageData = this.imageData;\n      var transformed = false;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n      if (this.ready && !this.disabled && this.options.scalable) {\n        if (isNumber(scaleX)) {\n          imageData.scaleX = scaleX;\n          transformed = true;\n        }\n        if (isNumber(scaleY)) {\n          imageData.scaleY = scaleY;\n          transformed = true;\n        }\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n      }\n      return this;\n    },\n    /**\n     * Get the cropped area position and size data (base on the original image)\n     * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n     * @returns {Object} The result cropped data.\n     */\n    getData: function getData() {\n      var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n      var data;\n      if (this.ready && this.cropped) {\n        data = {\n          x: cropBoxData.left - canvasData.left,\n          y: cropBoxData.top - canvasData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n        var ratio = imageData.width / imageData.naturalWidth;\n        forEach(data, function (n, i) {\n          data[i] = n / ratio;\n        });\n        if (rounded) {\n          // In case rounding off leads to extra 1px in right or bottom border\n          // we should round the top-left corner and the dimension (#343).\n          var bottom = Math.round(data.y + data.height);\n          var right = Math.round(data.x + data.width);\n          data.x = Math.round(data.x);\n          data.y = Math.round(data.y);\n          data.width = right - data.x;\n          data.height = bottom - data.y;\n        }\n      } else {\n        data = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      if (options.rotatable) {\n        data.rotate = imageData.rotate || 0;\n      }\n      if (options.scalable) {\n        data.scaleX = imageData.scaleX || 1;\n        data.scaleY = imageData.scaleY || 1;\n      }\n      return data;\n    },\n    /**\n     * Set the cropped area position and size with new data\n     * @param {Object} data - The new data.\n     * @returns {Cropper} this\n     */\n    setData: function setData(data) {\n      var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData;\n      var cropBoxData = {};\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        var transformed = false;\n        if (options.rotatable) {\n          if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n            imageData.rotate = data.rotate;\n            transformed = true;\n          }\n        }\n        if (options.scalable) {\n          if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n            imageData.scaleX = data.scaleX;\n            transformed = true;\n          }\n          if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n            imageData.scaleY = data.scaleY;\n            transformed = true;\n          }\n        }\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n        var ratio = imageData.width / imageData.naturalWidth;\n        if (isNumber(data.x)) {\n          cropBoxData.left = data.x * ratio + canvasData.left;\n        }\n        if (isNumber(data.y)) {\n          cropBoxData.top = data.y * ratio + canvasData.top;\n        }\n        if (isNumber(data.width)) {\n          cropBoxData.width = data.width * ratio;\n        }\n        if (isNumber(data.height)) {\n          cropBoxData.height = data.height * ratio;\n        }\n        this.setCropBoxData(cropBoxData);\n      }\n      return this;\n    },\n    /**\n     * Get the container size data.\n     * @returns {Object} The result container data.\n     */\n    getContainerData: function getContainerData() {\n      return this.ready ? assign({}, this.containerData) : {};\n    },\n    /**\n     * Get the image position and size data.\n     * @returns {Object} The result image data.\n     */\n    getImageData: function getImageData() {\n      return this.sized ? assign({}, this.imageData) : {};\n    },\n    /**\n     * Get the canvas position and size data.\n     * @returns {Object} The result canvas data.\n     */\n    getCanvasData: function getCanvasData() {\n      var canvasData = this.canvasData;\n      var data = {};\n      if (this.ready) {\n        forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n          data[n] = canvasData[n];\n        });\n      }\n      return data;\n    },\n    /**\n     * Set the canvas position and size with new data.\n     * @param {Object} data - The new canvas data.\n     * @returns {Cropper} this\n     */\n    setCanvasData: function setCanvasData(data) {\n      var canvasData = this.canvasData;\n      var aspectRatio = canvasData.aspectRatio;\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          canvasData.left = data.left;\n        }\n        if (isNumber(data.top)) {\n          canvasData.top = data.top;\n        }\n        if (isNumber(data.width)) {\n          canvasData.width = data.width;\n          canvasData.height = data.width / aspectRatio;\n        } else if (isNumber(data.height)) {\n          canvasData.height = data.height;\n          canvasData.width = data.height * aspectRatio;\n        }\n        this.renderCanvas(true);\n      }\n      return this;\n    },\n    /**\n     * Get the crop box position and size data.\n     * @returns {Object} The result crop box data.\n     */\n    getCropBoxData: function getCropBoxData() {\n      var cropBoxData = this.cropBoxData;\n      var data;\n      if (this.ready && this.cropped) {\n        data = {\n          left: cropBoxData.left,\n          top: cropBoxData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n      }\n      return data || {};\n    },\n    /**\n     * Set the crop box position and size with new data.\n     * @param {Object} data - The new crop box data.\n     * @returns {Cropper} this\n     */\n    setCropBoxData: function setCropBoxData(data) {\n      var cropBoxData = this.cropBoxData;\n      var aspectRatio = this.options.aspectRatio;\n      var widthChanged;\n      var heightChanged;\n      if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          cropBoxData.left = data.left;\n        }\n        if (isNumber(data.top)) {\n          cropBoxData.top = data.top;\n        }\n        if (isNumber(data.width) && data.width !== cropBoxData.width) {\n          widthChanged = true;\n          cropBoxData.width = data.width;\n        }\n        if (isNumber(data.height) && data.height !== cropBoxData.height) {\n          heightChanged = true;\n          cropBoxData.height = data.height;\n        }\n        if (aspectRatio) {\n          if (widthChanged) {\n            cropBoxData.height = cropBoxData.width / aspectRatio;\n          } else if (heightChanged) {\n            cropBoxData.width = cropBoxData.height * aspectRatio;\n          }\n        }\n        this.renderCropBox();\n      }\n      return this;\n    },\n    /**\n     * Get a canvas drawn the cropped image.\n     * @param {Object} [options={}] - The config options.\n     * @returns {HTMLCanvasElement} - The result canvas.\n     */\n    getCroppedCanvas: function getCroppedCanvas() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!this.ready || !window.HTMLCanvasElement) {\n        return null;\n      }\n      var canvasData = this.canvasData;\n      var source = getSourceCanvas(this.image, this.imageData, canvasData, options);\n\n      // Returns the source canvas if it is not cropped.\n      if (!this.cropped) {\n        return source;\n      }\n      var _this$getData = this.getData(),\n        initialX = _this$getData.x,\n        initialY = _this$getData.y,\n        initialWidth = _this$getData.width,\n        initialHeight = _this$getData.height;\n      var ratio = source.width / Math.floor(canvasData.naturalWidth);\n      if (ratio !== 1) {\n        initialX *= ratio;\n        initialY *= ratio;\n        initialWidth *= ratio;\n        initialHeight *= ratio;\n      }\n      var aspectRatio = initialWidth / initialHeight;\n      var maxSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.maxWidth || Infinity,\n        height: options.maxHeight || Infinity\n      });\n      var minSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.minWidth || 0,\n        height: options.minHeight || 0\n      }, 'cover');\n      var _getAdjustedSizes = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: options.width || (ratio !== 1 ? source.width : initialWidth),\n          height: options.height || (ratio !== 1 ? source.height : initialHeight)\n        }),\n        width = _getAdjustedSizes.width,\n        height = _getAdjustedSizes.height;\n      width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n      height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.width = normalizeDecimalNumber(width);\n      canvas.height = normalizeDecimalNumber(height);\n      context.fillStyle = options.fillColor || 'transparent';\n      context.fillRect(0, 0, width, height);\n      var _options$imageSmoothi = options.imageSmoothingEnabled,\n        imageSmoothingEnabled = _options$imageSmoothi === void 0 ? true : _options$imageSmoothi,\n        imageSmoothingQuality = options.imageSmoothingQuality;\n      context.imageSmoothingEnabled = imageSmoothingEnabled;\n      if (imageSmoothingQuality) {\n        context.imageSmoothingQuality = imageSmoothingQuality;\n      }\n\n      // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n      var sourceWidth = source.width;\n      var sourceHeight = source.height;\n\n      // Source canvas parameters\n      var srcX = initialX;\n      var srcY = initialY;\n      var srcWidth;\n      var srcHeight;\n\n      // Destination canvas parameters\n      var dstX;\n      var dstY;\n      var dstWidth;\n      var dstHeight;\n      if (srcX <= -initialWidth || srcX > sourceWidth) {\n        srcX = 0;\n        srcWidth = 0;\n        dstX = 0;\n        dstWidth = 0;\n      } else if (srcX <= 0) {\n        dstX = -srcX;\n        srcX = 0;\n        srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n        dstWidth = srcWidth;\n      } else if (srcX <= sourceWidth) {\n        dstX = 0;\n        srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n        dstWidth = srcWidth;\n      }\n      if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n        srcY = 0;\n        srcHeight = 0;\n        dstY = 0;\n        dstHeight = 0;\n      } else if (srcY <= 0) {\n        dstY = -srcY;\n        srcY = 0;\n        srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n        dstHeight = srcHeight;\n      } else if (srcY <= sourceHeight) {\n        dstY = 0;\n        srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n        dstHeight = srcHeight;\n      }\n      var params = [srcX, srcY, srcWidth, srcHeight];\n\n      // Avoid \"IndexSizeError\"\n      if (dstWidth > 0 && dstHeight > 0) {\n        var scale = width / initialWidth;\n        params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n      }\n\n      // All the numerical parameters should be integer for `drawImage`\n      // https://github.com/fengyuanchen/cropper/issues/476\n      context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function (param) {\n        return Math.floor(normalizeDecimalNumber(param));\n      }))));\n      return canvas;\n    },\n    /**\n     * Change the aspect ratio of the crop box.\n     * @param {number} aspectRatio - The new aspect ratio.\n     * @returns {Cropper} this\n     */\n    setAspectRatio: function setAspectRatio(aspectRatio) {\n      var options = this.options;\n      if (!this.disabled && !isUndefined(aspectRatio)) {\n        // 0 -> NaN\n        options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n        if (this.ready) {\n          this.initCropBox();\n          if (this.cropped) {\n            this.renderCropBox();\n          }\n        }\n      }\n      return this;\n    },\n    /**\n     * Change the drag mode.\n     * @param {string} mode - The new drag mode.\n     * @returns {Cropper} this\n     */\n    setDragMode: function setDragMode(mode) {\n      var options = this.options,\n        dragBox = this.dragBox,\n        face = this.face;\n      if (this.ready && !this.disabled) {\n        var croppable = mode === DRAG_MODE_CROP;\n        var movable = options.movable && mode === DRAG_MODE_MOVE;\n        mode = croppable || movable ? mode : DRAG_MODE_NONE;\n        options.dragMode = mode;\n        setData(dragBox, DATA_ACTION, mode);\n        toggleClass(dragBox, CLASS_CROP, croppable);\n        toggleClass(dragBox, CLASS_MOVE, movable);\n        if (!options.cropBoxMovable) {\n          // Sync drag mode to crop box when it is not movable\n          setData(face, DATA_ACTION, mode);\n          toggleClass(face, CLASS_CROP, croppable);\n          toggleClass(face, CLASS_MOVE, movable);\n        }\n      }\n      return this;\n    }\n  };\n\n  var AnotherCropper = WINDOW.Cropper;\n  var Cropper = /*#__PURE__*/function () {\n    /**\n     * Create a new Cropper.\n     * @param {Element} element - The target element for cropping.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Cropper(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      _classCallCheck(this, Cropper);\n      if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n        throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n      }\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.cropped = false;\n      this.disabled = false;\n      this.pointers = {};\n      this.ready = false;\n      this.reloading = false;\n      this.replaced = false;\n      this.sized = false;\n      this.sizing = false;\n      this.init();\n    }\n    _createClass(Cropper, [{\n      key: \"init\",\n      value: function init() {\n        var element = this.element;\n        var tagName = element.tagName.toLowerCase();\n        var url;\n        if (element[NAMESPACE]) {\n          return;\n        }\n        element[NAMESPACE] = this;\n        if (tagName === 'img') {\n          this.isImg = true;\n\n          // e.g.: \"img/picture.jpg\"\n          url = element.getAttribute('src') || '';\n          this.originalUrl = url;\n\n          // Stop when it's a blank image\n          if (!url) {\n            return;\n          }\n\n          // e.g.: \"https://example.com/img/picture.jpg\"\n          url = element.src;\n        } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n          url = element.toDataURL();\n        }\n        this.load(url);\n      }\n    }, {\n      key: \"load\",\n      value: function load(url) {\n        var _this = this;\n        if (!url) {\n          return;\n        }\n        this.url = url;\n        this.imageData = {};\n        var element = this.element,\n          options = this.options;\n        if (!options.rotatable && !options.scalable) {\n          options.checkOrientation = false;\n        }\n\n        // Only IE10+ supports Typed Arrays\n        if (!options.checkOrientation || !window.ArrayBuffer) {\n          this.clone();\n          return;\n        }\n\n        // Detect the mime type of the image directly if it is a Data URL\n        if (REGEXP_DATA_URL.test(url)) {\n          // Read ArrayBuffer from Data URL of JPEG images directly for better performance\n          if (REGEXP_DATA_URL_JPEG.test(url)) {\n            this.read(dataURLToArrayBuffer(url));\n          } else {\n            // Only a JPEG image may contains Exif Orientation information,\n            // the rest types of Data URLs are not necessary to check orientation at all.\n            this.clone();\n          }\n          return;\n        }\n\n        // 1. Detect the mime type of the image by a XMLHttpRequest.\n        // 2. Load the image as ArrayBuffer for reading orientation if its a JPEG image.\n        var xhr = new XMLHttpRequest();\n        var clone = this.clone.bind(this);\n        this.reloading = true;\n        this.xhr = xhr;\n\n        // 1. Cross origin requests are only supported for protocol schemes:\n        // http, https, data, chrome, chrome-extension.\n        // 2. Access to XMLHttpRequest from a Data URL will be blocked by CORS policy\n        // in some browsers as IE11 and Safari.\n        xhr.onabort = clone;\n        xhr.onerror = clone;\n        xhr.ontimeout = clone;\n        xhr.onprogress = function () {\n          // Abort the request directly if it not a JPEG image for better performance\n          if (xhr.getResponseHeader('content-type') !== MIME_TYPE_JPEG) {\n            xhr.abort();\n          }\n        };\n        xhr.onload = function () {\n          _this.read(xhr.response);\n        };\n        xhr.onloadend = function () {\n          _this.reloading = false;\n          _this.xhr = null;\n        };\n\n        // Bust cache when there is a \"crossOrigin\" property to avoid browser cache error\n        if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n          url = addTimestamp(url);\n        }\n\n        // The third parameter is required for avoiding side-effect (#682)\n        xhr.open('GET', url, true);\n        xhr.responseType = 'arraybuffer';\n        xhr.withCredentials = element.crossOrigin === 'use-credentials';\n        xhr.send();\n      }\n    }, {\n      key: \"read\",\n      value: function read(arrayBuffer) {\n        var options = this.options,\n          imageData = this.imageData;\n\n        // Reset the orientation value to its default value 1\n        // as some iOS browsers will render image with its orientation\n        var orientation = resetAndGetOrientation(arrayBuffer);\n        var rotate = 0;\n        var scaleX = 1;\n        var scaleY = 1;\n        if (orientation > 1) {\n          // Generate a new URL which has the default orientation value\n          this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG);\n          var _parseOrientation = parseOrientation(orientation);\n          rotate = _parseOrientation.rotate;\n          scaleX = _parseOrientation.scaleX;\n          scaleY = _parseOrientation.scaleY;\n        }\n        if (options.rotatable) {\n          imageData.rotate = rotate;\n        }\n        if (options.scalable) {\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n        }\n        this.clone();\n      }\n    }, {\n      key: \"clone\",\n      value: function clone() {\n        var element = this.element,\n          url = this.url;\n        var crossOrigin = element.crossOrigin;\n        var crossOriginUrl = url;\n        if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n          if (!crossOrigin) {\n            crossOrigin = 'anonymous';\n          }\n\n          // Bust cache when there is not a \"crossOrigin\" property (#519)\n          crossOriginUrl = addTimestamp(url);\n        }\n        this.crossOrigin = crossOrigin;\n        this.crossOriginUrl = crossOriginUrl;\n        var image = document.createElement('img');\n        if (crossOrigin) {\n          image.crossOrigin = crossOrigin;\n        }\n        image.src = crossOriginUrl || url;\n        image.alt = element.alt || 'The image to crop';\n        this.image = image;\n        image.onload = this.start.bind(this);\n        image.onerror = this.stop.bind(this);\n        addClass(image, CLASS_HIDE);\n        element.parentNode.insertBefore(image, element.nextSibling);\n      }\n    }, {\n      key: \"start\",\n      value: function start() {\n        var _this2 = this;\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        this.sizing = true;\n\n        // Match all browsers that use WebKit as the layout engine in iOS devices,\n        // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n        var isIOSWebKit = WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent);\n        var done = function done(naturalWidth, naturalHeight) {\n          assign(_this2.imageData, {\n            naturalWidth: naturalWidth,\n            naturalHeight: naturalHeight,\n            aspectRatio: naturalWidth / naturalHeight\n          });\n          _this2.initialImageData = assign({}, _this2.imageData);\n          _this2.sizing = false;\n          _this2.sized = true;\n          _this2.build();\n        };\n\n        // Most modern browsers (excepts iOS WebKit)\n        if (image.naturalWidth && !isIOSWebKit) {\n          done(image.naturalWidth, image.naturalHeight);\n          return;\n        }\n        var sizingImage = document.createElement('img');\n        var body = document.body || document.documentElement;\n        this.sizingImage = sizingImage;\n        sizingImage.onload = function () {\n          done(sizingImage.width, sizingImage.height);\n          if (!isIOSWebKit) {\n            body.removeChild(sizingImage);\n          }\n        };\n        sizingImage.src = image.src;\n\n        // iOS WebKit will convert the image automatically\n        // with its orientation once append it into DOM (#279)\n        if (!isIOSWebKit) {\n          sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n          body.appendChild(sizingImage);\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        image.parentNode.removeChild(image);\n        this.image = null;\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (!this.sized || this.ready) {\n          return;\n        }\n        var element = this.element,\n          options = this.options,\n          image = this.image;\n\n        // Create cropper elements\n        var container = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var cropper = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var canvas = cropper.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        var dragBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-drag-box\"));\n        var cropBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-crop-box\"));\n        var face = cropBox.querySelector(\".\".concat(NAMESPACE, \"-face\"));\n        this.container = container;\n        this.cropper = cropper;\n        this.canvas = canvas;\n        this.dragBox = dragBox;\n        this.cropBox = cropBox;\n        this.viewBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-view-box\"));\n        this.face = face;\n        canvas.appendChild(image);\n\n        // Hide the original image\n        addClass(element, CLASS_HIDDEN);\n\n        // Inserts the cropper after to the current image\n        container.insertBefore(cropper, element.nextSibling);\n\n        // Show the hidden image\n        removeClass(image, CLASS_HIDE);\n        this.initPreview();\n        this.bind();\n        options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n        options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n        options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n        addClass(cropBox, CLASS_HIDDEN);\n        if (!options.guides) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-dashed\")), CLASS_HIDDEN);\n        }\n        if (!options.center) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-center\")), CLASS_HIDDEN);\n        }\n        if (options.background) {\n          addClass(cropper, \"\".concat(NAMESPACE, \"-bg\"));\n        }\n        if (!options.highlight) {\n          addClass(face, CLASS_INVISIBLE);\n        }\n        if (options.cropBoxMovable) {\n          addClass(face, CLASS_MOVE);\n          setData(face, DATA_ACTION, ACTION_ALL);\n        }\n        if (!options.cropBoxResizable) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-line\")), CLASS_HIDDEN);\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-point\")), CLASS_HIDDEN);\n        }\n        this.render();\n        this.ready = true;\n        this.setDragMode(options.dragMode);\n        if (options.autoCrop) {\n          this.crop();\n        }\n        this.setData(options.data);\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n        dispatchEvent(element, EVENT_READY);\n      }\n    }, {\n      key: \"unbuild\",\n      value: function unbuild() {\n        if (!this.ready) {\n          return;\n        }\n        this.ready = false;\n        this.unbind();\n        this.resetPreview();\n        var parentNode = this.cropper.parentNode;\n        if (parentNode) {\n          parentNode.removeChild(this.cropper);\n        }\n        removeClass(this.element, CLASS_HIDDEN);\n      }\n    }, {\n      key: \"uncreate\",\n      value: function uncreate() {\n        if (this.ready) {\n          this.unbuild();\n          this.ready = false;\n          this.cropped = false;\n        } else if (this.sizing) {\n          this.sizingImage.onload = null;\n          this.sizing = false;\n          this.sized = false;\n        } else if (this.reloading) {\n          this.xhr.onabort = null;\n          this.xhr.abort();\n        } else if (this.image) {\n          this.stop();\n        }\n      }\n\n      /**\n       * Get the no conflict cropper class.\n       * @returns {Cropper} The cropper class.\n       */\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Cropper = AnotherCropper;\n        return Cropper;\n      }\n\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n    return Cropper;\n  }();\n  assign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\n  return Cropper;\n\n}));\n","import type { ComputedRef, InjectionKey } from 'vue'\n\nexport interface UploadContext {\n  accept: ComputedRef<string>\n}\n\nexport const uploadContextKey: InjectionKey<UploadContext> =\n  Symbol('uploadContextKey')\n","import { buildProps, definePropType } from '@element-plus/utils'\nimport type { ExtractPropTypes, SVGAttributes } from 'vue'\nimport type Progress from './progress.vue'\n\nexport type ProgressColor = { color: string; percentage: number }\nexport type ProgressFn = (percentage: number) => string\n\nexport const progressProps = buildProps({\n  type: {\n    type: String,\n    default: 'line',\n    values: ['line', 'circle', 'dashboard'],\n  },\n  percentage: {\n    type: Number,\n    default: 0,\n    validator: (val: number): boolean => val >= 0 && val <= 100,\n  },\n  status: {\n    type: String,\n    default: '',\n    values: ['', 'success', 'exception', 'warning'],\n  },\n  indeterminate: {\n    type: Boolean,\n    default: false,\n  },\n  duration: {\n    type: Number,\n    default: 3,\n  },\n  strokeWidth: {\n    type: Number,\n    default: 6,\n  },\n  strokeLinecap: {\n    type: definePropType<NonNullable<SVGAttributes['stroke-linecap']>>(String),\n    default: 'round',\n  },\n  textInside: {\n    type: Boolean,\n    default: false,\n  },\n  width: {\n    type: Number,\n    default: 126,\n  },\n  showText: {\n    type: Boolean,\n    default: true,\n  },\n  color: {\n    type: definePropType<string | ProgressColor[] | ProgressFn>([\n      String,\n      Array,\n      Function,\n    ]),\n    default: '',\n  },\n  striped: Boolean,\n  stripedFlow: Boolean,\n  format: {\n    type: definePropType<ProgressFn>(Function),\n    default: (percentage: number): string => `${percentage}%`,\n  },\n} as const)\n\nexport type ProgressProps = ExtractPropTypes<typeof progressProps>\nexport type ProgressInstance = InstanceType<typeof Progress>\n","<template>\n  <div\n    :class=\"[\n      ns.b(),\n      ns.m(type),\n      ns.is(status),\n      {\n        [ns.m('without-text')]: !showText,\n        [ns.m('text-inside')]: textInside,\n      },\n    ]\"\n    role=\"progressbar\"\n    :aria-valuenow=\"percentage\"\n    aria-valuemin=\"0\"\n    aria-valuemax=\"100\"\n  >\n    <div v-if=\"type === 'line'\" :class=\"ns.b('bar')\">\n      <div\n        :class=\"ns.be('bar', 'outer')\"\n        :style=\"{ height: `${strokeWidth}px` }\"\n      >\n        <div\n          :class=\"[\n            ns.be('bar', 'inner'),\n            { [ns.bem('bar', 'inner', 'indeterminate')]: indeterminate },\n            { [ns.bem('bar', 'inner', 'striped')]: striped },\n            { [ns.bem('bar', 'inner', 'striped-flow')]: stripedFlow },\n          ]\"\n          :style=\"barStyle\"\n        >\n          <div\n            v-if=\"(showText || $slots.default) && textInside\"\n            :class=\"ns.be('bar', 'innerText')\"\n          >\n            <slot :percentage=\"percentage\">\n              <span>{{ content }}</span>\n            </slot>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      v-else\n      :class=\"ns.b('circle')\"\n      :style=\"{ height: `${width}px`, width: `${width}px` }\"\n    >\n      <svg viewBox=\"0 0 100 100\">\n        <path\n          :class=\"ns.be('circle', 'track')\"\n          :d=\"trackPath\"\n          :stroke=\"`var(${ns.cssVarName('fill-color-light')}, #e5e9f2)`\"\n          :stroke-width=\"relativeStrokeWidth\"\n          fill=\"none\"\n          :style=\"trailPathStyle\"\n        />\n        <path\n          :class=\"ns.be('circle', 'path')\"\n          :d=\"trackPath\"\n          :stroke=\"stroke\"\n          fill=\"none\"\n          :opacity=\"percentage ? 1 : 0\"\n          :stroke-linecap=\"strokeLinecap\"\n          :stroke-width=\"relativeStrokeWidth\"\n          :style=\"circlePathStyle\"\n        />\n      </svg>\n    </div>\n    <div\n      v-if=\"(showText || $slots.default) && !textInside\"\n      :class=\"ns.e('text')\"\n      :style=\"{ fontSize: `${progressTextSize}px` }\"\n    >\n      <slot :percentage=\"percentage\">\n        <span v-if=\"!status\">{{ content }}</span>\n        <el-icon v-else><component :is=\"statusIcon\" /></el-icon>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { ElIcon } from '@element-plus/components/icon'\nimport {\n  Check,\n  CircleCheck,\n  CircleClose,\n  Close,\n  WarningFilled,\n} from '@element-plus/icons-vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { isFunction, isString } from '@element-plus/utils'\nimport { progressProps } from './progress'\nimport type { CSSProperties } from 'vue'\nimport type { ProgressColor } from './progress'\n\ndefineOptions({\n  name: 'ElProgress',\n})\n\nconst STATUS_COLOR_MAP: Record<string, string> = {\n  success: '#13ce66',\n  exception: '#ff4949',\n  warning: '#e6a23c',\n  default: '#20a0ff',\n}\n\nconst props = defineProps(progressProps)\n\nconst ns = useNamespace('progress')\n\nconst barStyle = computed<CSSProperties>(() => ({\n  width: `${props.percentage}%`,\n  animationDuration: `${props.duration}s`,\n  backgroundColor: getCurrentColor(props.percentage),\n}))\n\nconst relativeStrokeWidth = computed(() =>\n  ((props.strokeWidth / props.width) * 100).toFixed(1)\n)\n\nconst radius = computed(() => {\n  if (['circle', 'dashboard'].includes(props.type)) {\n    return Number.parseInt(\n      `${50 - Number.parseFloat(relativeStrokeWidth.value) / 2}`,\n      10\n    )\n  }\n  return 0\n})\n\nconst trackPath = computed(() => {\n  const r = radius.value\n  const isDashboard = props.type === 'dashboard'\n  return `\n          M 50 50\n          m 0 ${isDashboard ? '' : '-'}${r}\n          a ${r} ${r} 0 1 1 0 ${isDashboard ? '-' : ''}${r * 2}\n          a ${r} ${r} 0 1 1 0 ${isDashboard ? '' : '-'}${r * 2}\n          `\n})\n\nconst perimeter = computed(() => 2 * Math.PI * radius.value)\n\nconst rate = computed(() => (props.type === 'dashboard' ? 0.75 : 1))\n\nconst strokeDashoffset = computed(() => {\n  const offset = (-1 * perimeter.value * (1 - rate.value)) / 2\n  return `${offset}px`\n})\n\nconst trailPathStyle = computed<CSSProperties>(() => ({\n  strokeDasharray: `${perimeter.value * rate.value}px, ${perimeter.value}px`,\n  strokeDashoffset: strokeDashoffset.value,\n}))\n\nconst circlePathStyle = computed<CSSProperties>(() => ({\n  strokeDasharray: `${\n    perimeter.value * rate.value * (props.percentage / 100)\n  }px, ${perimeter.value}px`,\n  strokeDashoffset: strokeDashoffset.value,\n  transition:\n    'stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s',\n}))\n\nconst stroke = computed(() => {\n  let ret: string\n  if (props.color) {\n    ret = getCurrentColor(props.percentage)\n  } else {\n    ret = STATUS_COLOR_MAP[props.status] || STATUS_COLOR_MAP.default\n  }\n  return ret\n})\n\nconst statusIcon = computed(() => {\n  if (props.status === 'warning') {\n    return WarningFilled\n  }\n  if (props.type === 'line') {\n    return props.status === 'success' ? CircleCheck : CircleClose\n  } else {\n    return props.status === 'success' ? Check : Close\n  }\n})\n\nconst progressTextSize = computed(() => {\n  return props.type === 'line'\n    ? 12 + props.strokeWidth * 0.4\n    : props.width * 0.111111 + 2\n})\n\nconst content = computed(() => props.format(props.percentage))\n\nfunction getColors(color: ProgressColor[]) {\n  const span = 100 / color.length\n  const seriesColors = color.map((seriesColor, index) => {\n    if (isString(seriesColor)) {\n      return {\n        color: seriesColor,\n        percentage: (index + 1) * span,\n      }\n    }\n    return seriesColor\n  })\n  return seriesColors.sort((a, b) => a.percentage - b.percentage)\n}\n\nconst getCurrentColor = (percentage: number) => {\n  const { color } = props\n  if (isFunction(color)) {\n    return color(percentage)\n  } else if (isString(color)) {\n    return color\n  } else {\n    const colors = getColors(color)\n    for (const color of colors) {\n      if (color.percentage > percentage) return color.color\n    }\n    return colors[colors.length - 1]?.color\n  }\n}\n</script>\n","import { withInstall } from '@element-plus/utils'\nimport Progress from './src/progress.vue'\n\nexport const ElProgress = withInstall(Progress)\nexport default ElProgress\n\nexport * from './src/progress'\n","import { isNil } from 'lodash-unified'\nimport { throwError } from '@element-plus/utils'\nimport type {\n  UploadProgressEvent,\n  UploadRequestHandler,\n  UploadRequestOptions,\n} from './upload'\n\nconst SCOPE = 'ElUpload'\n\nexport class UploadAjaxError extends Error {\n  name = 'UploadAjaxError'\n  status: number\n  method: string\n  url: string\n\n  constructor(message: string, status: number, method: string, url: string) {\n    super(message)\n    this.status = status\n    this.method = method\n    this.url = url\n  }\n}\n\nfunction getError(\n  action: string,\n  option: UploadRequestOptions,\n  xhr: XMLHttpRequest\n) {\n  let msg: string\n  if (xhr.response) {\n    msg = `${xhr.response.error || xhr.response}`\n  } else if (xhr.responseText) {\n    msg = `${xhr.responseText}`\n  } else {\n    msg = `fail to ${option.method} ${action} ${xhr.status}`\n  }\n\n  return new UploadAjaxError(msg, xhr.status, option.method, action)\n}\n\nfunction getBody(xhr: XMLHttpRequest): XMLHttpRequestResponseType {\n  const text = xhr.responseText || xhr.response\n  if (!text) {\n    return text\n  }\n\n  try {\n    return JSON.parse(text)\n  } catch {\n    return text\n  }\n}\n\nexport const ajaxUpload: UploadRequestHandler = (option) => {\n  if (typeof XMLHttpRequest === 'undefined')\n    throwError(SCOPE, 'XMLHttpRequest is undefined')\n\n  const xhr = new XMLHttpRequest()\n  const action = option.action\n\n  if (xhr.upload) {\n    xhr.upload.addEventListener('progress', (evt) => {\n      const progressEvt = evt as UploadProgressEvent\n      progressEvt.percent = evt.total > 0 ? (evt.loaded / evt.total) * 100 : 0\n      option.onProgress(progressEvt)\n    })\n  }\n\n  const formData = new FormData()\n  if (option.data) {\n    for (const [key, value] of Object.entries(option.data)) {\n      if (Array.isArray(value)) formData.append(key, ...value)\n      else formData.append(key, value)\n    }\n  }\n  formData.append(option.filename, option.file, option.file.name)\n\n  xhr.addEventListener('error', () => {\n    option.onError(getError(action, option, xhr))\n  })\n\n  xhr.addEventListener('load', () => {\n    if (xhr.status < 200 || xhr.status >= 300) {\n      return option.onError(getError(action, option, xhr))\n    }\n    option.onSuccess(getBody(xhr))\n  })\n\n  xhr.open(option.method, action, true)\n\n  if (option.withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true\n  }\n\n  const headers = option.headers || {}\n  if (headers instanceof Headers) {\n    headers.forEach((value, key) => xhr.setRequestHeader(key, value))\n  } else {\n    for (const [key, value] of Object.entries(headers)) {\n      if (isNil(value)) continue\n      xhr.setRequestHeader(key, String(value))\n    }\n  }\n\n  xhr.send(formData)\n  return xhr\n}\n","import { NOOP } from '@vue/shared'\nimport { buildProps, definePropType, mutable } from '@element-plus/utils'\nimport { ajaxUpload } from './ajax'\n\nimport type { UploadAjaxError } from './ajax'\nimport type { Awaitable } from '@element-plus/utils'\nimport type { ExtractPropTypes } from 'vue'\nimport type Upload from './upload.vue'\n\nexport const uploadListTypes = ['text', 'picture', 'picture-card'] as const\n\nlet fileId = 1\nexport const genFileId = () => Date.now() + fileId++\n\nexport type UploadStatus = 'ready' | 'uploading' | 'success' | 'fail'\nexport interface UploadProgressEvent extends ProgressEvent {\n  percent: number\n}\n\nexport interface UploadRequestOptions {\n  action: string\n  method: string\n  data: Record<string, string | Blob | [string | Blob, string]>\n  filename: string\n  file: File\n  headers: Headers | Record<string, string | number | null | undefined>\n  onError: (evt: UploadAjaxError) => void\n  onProgress: (evt: UploadProgressEvent) => void\n  onSuccess: (response: any) => void\n  withCredentials: boolean\n}\nexport interface UploadFile {\n  name: string\n  percentage?: number\n  status: UploadStatus\n  size?: number\n  response?: unknown\n  uid: number\n  url?: string\n  raw?: UploadRawFile\n}\nexport type UploadUserFile = Omit<UploadFile, 'status' | 'uid'> &\n  Partial<Pick<UploadFile, 'status' | 'uid'>>\n\nexport type UploadFiles = UploadFile[]\nexport interface UploadRawFile extends File {\n  uid: number\n}\nexport type UploadRequestHandler = (\n  options: UploadRequestOptions\n) => XMLHttpRequest | Promise<unknown>\nexport interface UploadHooks {\n  beforeUpload: (\n    rawFile: UploadRawFile\n  ) => Awaitable<void | undefined | null | boolean | File | Blob>\n  beforeRemove: (\n    uploadFile: UploadFile,\n    uploadFiles: UploadFiles\n  ) => Awaitable<boolean>\n  onRemove: (uploadFile: UploadFile, uploadFiles: UploadFiles) => void\n  onChange: (uploadFile: UploadFile, uploadFiles: UploadFiles) => void\n  onPreview: (uploadFile: UploadFile) => void\n  onSuccess: (\n    response: any,\n    uploadFile: UploadFile,\n    uploadFiles: UploadFiles\n  ) => void\n  onProgress: (\n    evt: UploadProgressEvent,\n    uploadFile: UploadFile,\n    uploadFiles: UploadFiles\n  ) => void\n  onError: (\n    error: Error,\n    uploadFile: UploadFile,\n    uploadFiles: UploadFiles\n  ) => void\n  onExceed: (files: File[], uploadFiles: UploadUserFile[]) => void\n}\n\nexport const uploadBaseProps = buildProps({\n  action: {\n    type: String,\n    default: '#',\n  },\n  headers: {\n    type: definePropType<Headers | Record<string, any>>(Object),\n  },\n  method: {\n    type: String,\n    default: 'post',\n  },\n  data: {\n    type: Object,\n    default: () => mutable({} as const),\n  },\n  multiple: {\n    type: Boolean,\n    default: false,\n  },\n  name: {\n    type: String,\n    default: 'file',\n  },\n  drag: {\n    type: Boolean,\n    default: false,\n  },\n  withCredentials: Boolean,\n  showFileList: {\n    type: Boolean,\n    default: true,\n  },\n  accept: {\n    type: String,\n    default: '',\n  },\n  type: {\n    type: String,\n    default: 'select',\n  },\n  fileList: {\n    type: definePropType<UploadUserFile[]>(Array),\n    default: () => mutable([] as const),\n  },\n  autoUpload: {\n    type: Boolean,\n    default: true,\n  },\n  listType: {\n    type: String,\n    values: uploadListTypes,\n    default: 'text',\n  },\n  httpRequest: {\n    type: definePropType<UploadRequestHandler>(Function),\n    default: ajaxUpload,\n  },\n  disabled: Boolean,\n  limit: Number,\n} as const)\n\nexport const uploadProps = buildProps({\n  ...uploadBaseProps,\n  beforeUpload: {\n    type: definePropType<UploadHooks['beforeUpload']>(Function),\n    default: NOOP,\n  },\n  beforeRemove: {\n    type: definePropType<UploadHooks['beforeRemove']>(Function),\n  },\n  onRemove: {\n    type: definePropType<UploadHooks['onRemove']>(Function),\n    default: NOOP,\n  },\n  onChange: {\n    type: definePropType<UploadHooks['onChange']>(Function),\n    default: NOOP,\n  },\n  onPreview: {\n    type: definePropType<UploadHooks['onPreview']>(Function),\n    default: NOOP,\n  },\n  onSuccess: {\n    type: definePropType<UploadHooks['onSuccess']>(Function),\n    default: NOOP,\n  },\n  onProgress: {\n    type: definePropType<UploadHooks['onProgress']>(Function),\n    default: NOOP,\n  },\n  onError: {\n    type: definePropType<UploadHooks['onError']>(Function),\n    default: NOOP,\n  },\n  onExceed: {\n    type: definePropType<UploadHooks['onExceed']>(Function),\n    default: NOOP,\n  },\n} as const)\n\nexport type UploadProps = ExtractPropTypes<typeof uploadProps>\n\nexport type UploadInstance = InstanceType<typeof Upload>\n","import { NOOP } from '@vue/shared'\nimport { buildProps, definePropType, mutable } from '@element-plus/utils'\nimport { uploadListTypes } from './upload'\nimport type { ExtractPropTypes } from 'vue'\nimport type { UploadFile, UploadFiles, UploadHooks } from './upload'\nimport type UploadList from './upload-list.vue'\n\nexport const uploadListProps = buildProps({\n  files: {\n    type: definePropType<UploadFiles>(Array),\n    default: () => mutable([]),\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n  handlePreview: {\n    type: definePropType<UploadHooks['onPreview']>(Function),\n    default: NOOP,\n  },\n  listType: {\n    type: String,\n    values: uploadListTypes,\n    default: 'text',\n  },\n} as const)\n\nexport type UploadListProps = ExtractPropTypes<typeof uploadListProps>\nexport const uploadListEmits = {\n  remove: (file: UploadFile) => !!file,\n}\nexport type UploadListEmits = typeof uploadListEmits\nexport type UploadListInstance = InstanceType<typeof UploadList>\n","<template>\n  <transition-group\n    tag=\"ul\"\n    :class=\"[\n      nsUpload.b('list'),\n      nsUpload.bm('list', listType),\n      nsUpload.is('disabled', disabled),\n    ]\"\n    :name=\"nsList.b()\"\n  >\n    <li\n      v-for=\"file in files\"\n      :key=\"file.uid || file.name\"\n      :class=\"[\n        nsUpload.be('list', 'item'),\n        nsUpload.is(file.status),\n        { focusing },\n      ]\"\n      tabindex=\"0\"\n      @keydown.delete=\"!disabled && handleRemove(file)\"\n      @focus=\"focusing = true\"\n      @blur=\"focusing = false\"\n      @click=\"focusing = false\"\n    >\n      <slot :file=\"file\">\n        <img\n          v-if=\"\n            listType === 'picture' ||\n            (file.status !== 'uploading' && listType === 'picture-card')\n          \"\n          :class=\"nsUpload.be('list', 'item-thumbnail')\"\n          :src=\"file.url\"\n          alt=\"\"\n        />\n        <div\n          v-if=\"file.status === 'uploading' || listType !== 'picture-card'\"\n          :class=\"nsUpload.be('list', 'item-info')\"\n        >\n          <a\n            :class=\"nsUpload.be('list', 'item-name')\"\n            @click.prevent=\"handlePreview(file)\"\n          >\n            <el-icon :class=\"nsIcon.m('document')\">\n              <Document />\n            </el-icon>\n            <span :class=\"nsUpload.be('list', 'item-file-name')\">\n              {{ file.name }}\n            </span>\n          </a>\n          <el-progress\n            v-if=\"file.status === 'uploading'\"\n            :type=\"listType === 'picture-card' ? 'circle' : 'line'\"\n            :stroke-width=\"listType === 'picture-card' ? 6 : 2\"\n            :percentage=\"Number(file.percentage)\"\n            :style=\"listType === 'picture-card' ? '' : 'margin-top: 0.5rem'\"\n          />\n        </div>\n\n        <label :class=\"nsUpload.be('list', 'item-status-label')\">\n          <el-icon\n            v-if=\"listType === 'text'\"\n            :class=\"[nsIcon.m('upload-success'), nsIcon.m('circle-check')]\"\n          >\n            <circle-check />\n          </el-icon>\n          <el-icon\n            v-else-if=\"['picture-card', 'picture'].includes(listType)\"\n            :class=\"[nsIcon.m('upload-success'), nsIcon.m('check')]\"\n          >\n            <Check />\n          </el-icon>\n        </label>\n        <el-icon\n          v-if=\"!disabled\"\n          :class=\"nsIcon.m('close')\"\n          @click=\"handleRemove(file)\"\n        >\n          <Close />\n        </el-icon>\n        <!-- Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn-->\n        <!-- This is a bug which needs to be fixed -->\n        <!-- TODO: Fix the incorrect navigation interaction -->\n        <i v-if=\"!disabled\" :class=\"nsIcon.m('close-tip')\">{{\n          t('el.upload.deleteTip')\n        }}</i>\n        <span\n          v-if=\"listType === 'picture-card'\"\n          :class=\"nsUpload.be('list', 'item-actions')\"\n        >\n          <span\n            :class=\"nsUpload.be('list', 'item-preview')\"\n            @click=\"handlePreview(file)\"\n          >\n            <el-icon :class=\"nsIcon.m('zoom-in')\"><zoom-in /></el-icon>\n          </span>\n          <span\n            v-if=\"!disabled\"\n            :class=\"nsUpload.be('list', 'item-delete')\"\n            @click=\"handleRemove(file)\"\n          >\n            <el-icon :class=\"nsIcon.m('delete')\">\n              <Delete />\n            </el-icon>\n          </span>\n        </span>\n      </slot>\n    </li>\n    <slot name=\"append\" />\n  </transition-group>\n</template>\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport { ElIcon } from '@element-plus/components/icon'\nimport {\n  Check,\n  CircleCheck,\n  Close,\n  Delete,\n  Document,\n  ZoomIn,\n} from '@element-plus/icons-vue'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport ElProgress from '@element-plus/components/progress'\nimport { useFormDisabled } from '@element-plus/components/form'\n\nimport { uploadListEmits, uploadListProps } from './upload-list'\nimport type { UploadFile } from './upload'\n\ndefineOptions({\n  name: 'ElUploadList',\n})\n\ndefineProps(uploadListProps)\nconst emit = defineEmits(uploadListEmits)\n\nconst { t } = useLocale()\nconst nsUpload = useNamespace('upload')\nconst nsIcon = useNamespace('icon')\nconst nsList = useNamespace('list')\nconst disabled = useFormDisabled()\n\nconst focusing = ref(false)\n\nconst handleRemove = (file: UploadFile) => {\n  emit('remove', file)\n}\n</script>\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nexport default cloneDeep;\n","import { buildProps, isArray } from '@element-plus/utils'\n\nimport type { ExtractPropTypes } from 'vue'\nimport type UploadDragger from './upload-dragger.vue'\n\nexport const uploadDraggerProps = buildProps({\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n} as const)\nexport type UploadDraggerProps = ExtractPropTypes<typeof uploadDraggerProps>\n\nexport const uploadDraggerEmits = {\n  file: (file: File[]) => isArray(file),\n}\nexport type UploadDraggerEmits = typeof uploadDraggerEmits\n\nexport type UploadDraggerInstance = InstanceType<typeof UploadDragger>\n","<template>\n  <div\n    :class=\"[ns.b('dragger'), ns.is('dragover', dragover)]\"\n    @drop.prevent=\"onDrop\"\n    @dragover.prevent=\"onDragover\"\n    @dragleave.prevent=\"dragover = false\"\n  >\n    <slot />\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport { inject, ref } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { useFormDisabled } from '@element-plus/components/form'\nimport { throwError } from '@element-plus/utils/error'\nimport { uploadContextKey } from './constants'\nimport { uploadDraggerEmits, uploadDraggerProps } from './upload-dragger'\n\nconst COMPONENT_NAME = 'ElUploadDrag'\n\ndefineOptions({\n  name: COMPONENT_NAME,\n})\n\ndefineProps(uploadDraggerProps)\nconst emit = defineEmits(uploadDraggerEmits)\n\nconst uploaderContext = inject(uploadContextKey)\nif (!uploaderContext) {\n  throwError(\n    COMPONENT_NAME,\n    'usage: <el-upload><el-upload-dragger /></el-upload>'\n  )\n}\n\nconst ns = useNamespace('upload')\nconst dragover = ref(false)\nconst disabled = useFormDisabled()\n\nconst onDrop = (e: DragEvent) => {\n  if (disabled.value) return\n  dragover.value = false\n\n  e.stopPropagation()\n\n  const files = Array.from(e.dataTransfer!.files)\n  const accept = uploaderContext.accept.value\n  if (!accept) {\n    emit('file', files)\n    return\n  }\n\n  const filesFiltered = files.filter((file) => {\n    const { type, name } = file\n    const extension = name.includes('.') ? `.${name.split('.').pop()}` : ''\n    const baseType = type.replace(/\\/.*$/, '')\n    return accept\n      .split(',')\n      .map((type) => type.trim())\n      .filter((type) => type)\n      .some((acceptedType) => {\n        if (acceptedType.startsWith('.')) {\n          return extension === acceptedType\n        }\n        if (/\\/\\*$/.test(acceptedType)) {\n          return baseType === acceptedType.replace(/\\/\\*$/, '')\n        }\n        if (/^[^/]+\\/[^/]+$/.test(acceptedType)) {\n          return type === acceptedType\n        }\n        return false\n      })\n  })\n\n  emit('file', filesFiltered)\n}\n\nconst onDragover = () => {\n  if (!disabled.value) dragover.value = true\n}\n</script>\n","import { NOOP } from '@vue/shared'\nimport { buildProps, definePropType } from '@element-plus/utils'\nimport { uploadBaseProps } from './upload'\n\nimport type { ExtractPropTypes } from 'vue'\nimport type {\n  UploadFile,\n  UploadHooks,\n  UploadProgressEvent,\n  UploadRawFile,\n} from './upload'\nimport type UploadContent from './upload-content.vue'\nimport type { UploadAjaxError } from './ajax'\n\nexport const uploadContentProps = buildProps({\n  ...uploadBaseProps,\n\n  beforeUpload: {\n    type: definePropType<UploadHooks['beforeUpload']>(Function),\n    default: NOOP,\n  },\n  onRemove: {\n    type: definePropType<\n      (file: UploadFile | UploadRawFile, rawFile?: UploadRawFile) => void\n    >(Function),\n    default: NOOP,\n  },\n  onStart: {\n    type: definePropType<(rawFile: UploadRawFile) => void>(Function),\n    default: NOOP,\n  },\n  onSuccess: {\n    type: definePropType<(response: any, rawFile: UploadRawFile) => unknown>(\n      Function\n    ),\n    default: NOOP,\n  },\n  onProgress: {\n    type: definePropType<\n      (evt: UploadProgressEvent, rawFile: UploadRawFile) => void\n    >(Function),\n    default: NOOP,\n  },\n  onError: {\n    type: definePropType<\n      (err: UploadAjaxError, rawFile: UploadRawFile) => void\n    >(Function),\n    default: NOOP,\n  },\n  onExceed: {\n    type: definePropType<UploadHooks['onExceed']>(Function),\n    default: NOOP,\n  },\n} as const)\n\nexport type UploadContentProps = ExtractPropTypes<typeof uploadContentProps>\n\nexport type UploadContentInstance = InstanceType<typeof UploadContent>\n","<template>\n  <div\n    :class=\"[ns.b(), ns.m(listType), ns.is('drag', drag)]\"\n    tabindex=\"0\"\n    @click=\"handleClick\"\n    @keydown.self.enter.space=\"handleKeydown\"\n  >\n    <template v-if=\"drag\">\n      <upload-dragger :disabled=\"disabled\" @file=\"uploadFiles\">\n        <slot />\n      </upload-dragger>\n    </template>\n    <template v-else>\n      <slot />\n    </template>\n    <input\n      ref=\"inputRef\"\n      :class=\"ns.e('input')\"\n      :name=\"name\"\n      :multiple=\"multiple\"\n      :accept=\"accept\"\n      type=\"file\"\n      @change=\"handleChange\"\n      @click.stop\n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { shallowRef } from 'vue'\nimport { isObject } from '@vue/shared'\nimport { cloneDeep } from 'lodash-unified'\nimport { useNamespace } from '@element-plus/hooks'\nimport { entriesOf } from '@element-plus/utils'\nimport { useFormDisabled } from '@element-plus/components/form'\nimport UploadDragger from './upload-dragger.vue'\nimport { uploadContentProps } from './upload-content'\nimport { genFileId } from './upload'\nimport type { UploadContentProps } from './upload-content'\n\nimport type {\n  UploadFile,\n  UploadHooks,\n  UploadRawFile,\n  UploadRequestOptions,\n} from './upload'\n\ndefineOptions({\n  name: 'ElUploadContent',\n  inheritAttrs: false,\n})\n\nconst props = defineProps(uploadContentProps)\nconst ns = useNamespace('upload')\nconst disabled = useFormDisabled()\n\nconst requests = shallowRef<Record<string, XMLHttpRequest | Promise<unknown>>>(\n  {}\n)\nconst inputRef = shallowRef<HTMLInputElement>()\n\nconst uploadFiles = (files: File[]) => {\n  if (files.length === 0) return\n\n  const { autoUpload, limit, fileList, multiple, onStart, onExceed } = props\n\n  if (limit && fileList.length + files.length > limit) {\n    onExceed(files, fileList)\n    return\n  }\n\n  if (!multiple) {\n    files = files.slice(0, 1)\n  }\n\n  for (const file of files) {\n    const rawFile = file as UploadRawFile\n    rawFile.uid = genFileId()\n    onStart(rawFile)\n    if (autoUpload) upload(rawFile)\n  }\n}\n\nconst upload = async (rawFile: UploadRawFile) => {\n  inputRef.value!.value = ''\n\n  if (!props.beforeUpload) {\n    return doUpload(rawFile)\n  }\n\n  let hookResult: Exclude<ReturnType<UploadHooks['beforeUpload']>, Promise<any>>\n  let beforeData: UploadContentProps['data'] = {}\n\n  try {\n    const beforeUploadPromise = props.beforeUpload(rawFile)\n    beforeData = isObject(props.data) ? cloneDeep(props.data) : props.data\n    hookResult = await beforeUploadPromise\n  } catch {\n    hookResult = false\n  }\n\n  if (hookResult === false) {\n    props.onRemove(rawFile)\n    return\n  }\n\n  let file: File = rawFile\n  if (hookResult instanceof Blob) {\n    if (hookResult instanceof File) {\n      file = hookResult\n    } else {\n      file = new File([hookResult], rawFile.name, {\n        type: rawFile.type,\n      })\n    }\n  }\n\n  doUpload(\n    Object.assign(file, {\n      uid: rawFile.uid,\n    }),\n    beforeData\n  )\n}\n\nconst doUpload = (\n  rawFile: UploadRawFile,\n  beforeData?: UploadContentProps['data']\n) => {\n  const {\n    headers,\n    data,\n    method,\n    withCredentials,\n    name: filename,\n    action,\n    onProgress,\n    onSuccess,\n    onError,\n    httpRequest,\n  } = props\n\n  const { uid } = rawFile\n  const options: UploadRequestOptions = {\n    headers: headers || {},\n    withCredentials,\n    file: rawFile,\n    data: beforeData ?? data,\n    method,\n    filename,\n    action,\n    onProgress: (evt) => {\n      onProgress(evt, rawFile)\n    },\n    onSuccess: (res) => {\n      onSuccess(res, rawFile)\n      delete requests.value[uid]\n    },\n    onError: (err) => {\n      onError(err, rawFile)\n      delete requests.value[uid]\n    },\n  }\n  const request = httpRequest(options)\n  requests.value[uid] = request\n  if (request instanceof Promise) {\n    request.then(options.onSuccess, options.onError)\n  }\n}\n\nconst handleChange = (e: Event) => {\n  const files = (e.target as HTMLInputElement).files\n  if (!files) return\n  uploadFiles(Array.from(files))\n}\n\nconst handleClick = () => {\n  if (!disabled.value) {\n    inputRef.value!.value = ''\n    inputRef.value!.click()\n  }\n}\n\nconst handleKeydown = () => {\n  handleClick()\n}\n\nconst abort = (file?: UploadFile) => {\n  const _reqs = entriesOf(requests.value).filter(\n    file ? ([uid]) => String(file.uid) === uid : () => true\n  )\n  _reqs.forEach(([uid, req]) => {\n    if (req instanceof XMLHttpRequest) req.abort()\n    delete requests.value[uid]\n  })\n}\n\ndefineExpose({\n  abort,\n  upload,\n})\n</script>\n","import { watch } from 'vue'\nimport { isNil } from 'lodash-unified'\nimport { useVModel } from '@vueuse/core'\nimport { debugWarn, throwError } from '@element-plus/utils'\nimport { genFileId } from './upload'\nimport type { ShallowRef } from 'vue'\nimport type {\n  UploadContentInstance,\n  UploadContentProps,\n} from './upload-content'\nimport type {\n  UploadFile,\n  UploadFiles,\n  UploadProps,\n  UploadRawFile,\n  UploadStatus,\n} from './upload'\n\nconst SCOPE = 'ElUpload'\n\nconst revokeObjectURL = (file: UploadFile) => {\n  if (file.url?.startsWith('blob:')) {\n    URL.revokeObjectURL(file.url)\n  }\n}\n\nexport const useHandlers = (\n  props: UploadProps,\n  uploadRef: ShallowRef<UploadContentInstance | undefined>\n) => {\n  const uploadFiles = useVModel(\n    props as Omit<UploadProps, 'fileList'> & { fileList: UploadFiles },\n    'fileList',\n    undefined,\n    { passive: true }\n  )\n\n  const getFile = (rawFile: UploadRawFile) =>\n    uploadFiles.value.find((file) => file.uid === rawFile.uid)\n\n  function abort(file: UploadFile) {\n    uploadRef.value?.abort(file)\n  }\n\n  function clearFiles(\n    /** @default ['ready', 'uploading', 'success', 'fail'] */\n    states: UploadStatus[] = ['ready', 'uploading', 'success', 'fail']\n  ) {\n    uploadFiles.value = uploadFiles.value.filter(\n      (row) => !states.includes(row.status)\n    )\n  }\n\n  const handleError: UploadContentProps['onError'] = (err, rawFile) => {\n    const file = getFile(rawFile)\n    if (!file) return\n\n    console.error(err)\n    file.status = 'fail'\n    uploadFiles.value.splice(uploadFiles.value.indexOf(file), 1)\n    props.onError(err, file, uploadFiles.value)\n    props.onChange(file, uploadFiles.value)\n  }\n\n  const handleProgress: UploadContentProps['onProgress'] = (evt, rawFile) => {\n    const file = getFile(rawFile)\n    if (!file) return\n\n    props.onProgress(evt, file, uploadFiles.value)\n    file.status = 'uploading'\n    file.percentage = Math.round(evt.percent)\n  }\n\n  const handleSuccess: UploadContentProps['onSuccess'] = (\n    response,\n    rawFile\n  ) => {\n    const file = getFile(rawFile)\n    if (!file) return\n\n    file.status = 'success'\n    file.response = response\n    props.onSuccess(response, file, uploadFiles.value)\n    props.onChange(file, uploadFiles.value)\n  }\n\n  const handleStart: UploadContentProps['onStart'] = (file) => {\n    if (isNil(file.uid)) file.uid = genFileId()\n    const uploadFile: UploadFile = {\n      name: file.name,\n      percentage: 0,\n      status: 'ready',\n      size: file.size,\n      raw: file,\n      uid: file.uid,\n    }\n    if (props.listType === 'picture-card' || props.listType === 'picture') {\n      try {\n        uploadFile.url = URL.createObjectURL(file)\n      } catch (err: unknown) {\n        debugWarn(SCOPE, (err as Error).message)\n        props.onError(err as Error, uploadFile, uploadFiles.value)\n      }\n    }\n    uploadFiles.value = [...uploadFiles.value, uploadFile]\n    props.onChange(uploadFile, uploadFiles.value)\n  }\n\n  const handleRemove: UploadContentProps['onRemove'] = async (\n    file\n  ): Promise<void> => {\n    const uploadFile = file instanceof File ? getFile(file) : file\n    if (!uploadFile) throwError(SCOPE, 'file to be removed not found')\n\n    const doRemove = (file: UploadFile) => {\n      abort(file)\n      const fileList = uploadFiles.value\n      fileList.splice(fileList.indexOf(file), 1)\n      props.onRemove(file, fileList)\n      revokeObjectURL(file)\n    }\n\n    if (props.beforeRemove) {\n      const before = await props.beforeRemove(uploadFile, uploadFiles.value)\n      if (before !== false) doRemove(uploadFile)\n    } else {\n      doRemove(uploadFile)\n    }\n  }\n\n  function submit() {\n    uploadFiles.value\n      .filter(({ status }) => status === 'ready')\n      .forEach(({ raw }) => raw && uploadRef.value?.upload(raw))\n  }\n\n  watch(\n    () => props.listType,\n    (val) => {\n      if (val !== 'picture-card' && val !== 'picture') {\n        return\n      }\n\n      uploadFiles.value = uploadFiles.value.map((file) => {\n        const { raw, url } = file\n        if (!url && raw) {\n          try {\n            file.url = URL.createObjectURL(raw)\n          } catch (err: unknown) {\n            props.onError(err as Error, file, uploadFiles.value)\n          }\n        }\n        return file\n      })\n    }\n  )\n\n  watch(\n    uploadFiles,\n    (files) => {\n      for (const file of files) {\n        file.uid ||= genFileId()\n        file.status ||= 'success'\n      }\n    },\n    { immediate: true, deep: true }\n  )\n\n  return {\n    /** @description two-way binding ref from props `fileList` */\n    uploadFiles,\n    abort,\n    clearFiles,\n    handleError,\n    handleProgress,\n    handleStart,\n    handleSuccess,\n    handleRemove,\n    submit,\n  }\n}\n","<template>\n  <div>\n    <upload-list\n      v-if=\"isPictureCard && showFileList\"\n      :disabled=\"disabled\"\n      :list-type=\"listType\"\n      :files=\"uploadFiles\"\n      :handle-preview=\"onPreview\"\n      @remove=\"handleRemove\"\n    >\n      <template v-if=\"$slots.file\" #default=\"{ file }\">\n        <slot name=\"file\" :file=\"file\" />\n      </template>\n      <template #append>\n        <upload-content ref=\"uploadRef\" v-bind=\"uploadContentProps\">\n          <slot v-if=\"slots.trigger\" name=\"trigger\" />\n          <slot v-if=\"!slots.trigger && slots.default\" />\n        </upload-content>\n      </template>\n    </upload-list>\n\n    <upload-content\n      v-if=\"!isPictureCard || (isPictureCard && !showFileList)\"\n      ref=\"uploadRef\"\n      v-bind=\"uploadContentProps\"\n    >\n      <slot v-if=\"slots.trigger\" name=\"trigger\" />\n      <slot v-if=\"!slots.trigger && slots.default\" />\n    </upload-content>\n\n    <slot v-if=\"$slots.trigger\" />\n    <slot name=\"tip\" />\n    <upload-list\n      v-if=\"!isPictureCard && showFileList\"\n      :disabled=\"disabled\"\n      :list-type=\"listType\"\n      :files=\"uploadFiles\"\n      :handle-preview=\"onPreview\"\n      @remove=\"handleRemove\"\n    >\n      <template v-if=\"$slots.file\" #default=\"{ file }\">\n        <slot name=\"file\" :file=\"file\" />\n      </template>\n    </upload-list>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n  computed,\n  onBeforeUnmount,\n  provide,\n  shallowRef,\n  toRef,\n  useSlots,\n} from 'vue'\nimport { useFormDisabled } from '@element-plus/components/form'\nimport { uploadContextKey } from './constants'\nimport UploadList from './upload-list.vue'\nimport UploadContent from './upload-content.vue'\nimport { useHandlers } from './use-handlers'\nimport { uploadProps } from './upload'\n\nimport type {\n  UploadContentInstance,\n  UploadContentProps,\n} from './upload-content'\n\ndefineOptions({\n  name: 'ElUpload',\n})\n\nconst props = defineProps(uploadProps)\n\nconst slots = useSlots()\nconst disabled = useFormDisabled()\n\nconst uploadRef = shallowRef<UploadContentInstance>()\nconst {\n  abort,\n  submit,\n  clearFiles,\n  uploadFiles,\n  handleStart,\n  handleError,\n  handleRemove,\n  handleSuccess,\n  handleProgress,\n} = useHandlers(props, uploadRef)\n\nconst isPictureCard = computed(() => props.listType === 'picture-card')\n\nconst uploadContentProps = computed<UploadContentProps>(() => ({\n  ...props,\n  fileList: uploadFiles.value,\n  onStart: handleStart,\n  onProgress: handleProgress,\n  onSuccess: handleSuccess,\n  onError: handleError,\n  onRemove: handleRemove,\n}))\n\nonBeforeUnmount(() => {\n  uploadFiles.value.forEach(({ url }) => {\n    if (url?.startsWith('blob:')) URL.revokeObjectURL(url)\n  })\n})\n\nprovide(uploadContextKey, {\n  accept: toRef(props, 'accept'),\n})\n\ndefineExpose({\n  /** @description cancel upload request */\n  abort,\n  /** @description upload the file list manually */\n  submit,\n  /** @description clear the file list  */\n  clearFiles,\n  /** @description select the file manually */\n  handleStart,\n  /** @description remove the file manually */\n  handleRemove,\n})\n</script>\n","import { withInstall } from '@element-plus/utils'\nimport Upload from './src/upload.vue'\n\nexport const ElUpload = withInstall(Upload)\nexport default ElUpload\n\nexport * from './src/upload'\nexport * from './src/upload-content'\nexport * from './src/upload-list'\nexport * from './src/upload-dragger'\nexport * from './src/constants'\n","tinymce.IconManager.add('default', {\n  icons: {\n    'accessibility-check': '<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z\" fill-rule=\"nonzero\"/></svg>',\n    'action-next': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z\"/></svg>',\n    'action-prev': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z\"/></svg>',\n    'align-center': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-justify': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-left': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-none': '<svg width=\"24\" height=\"24\"><path d=\"M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z\" fill-rule=\"evenodd\"/></svg>',\n    'align-right': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-left': '<svg width=\"24\" height=\"24\"><path d=\"M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-right': '<svg width=\"24\" height=\"24\"><path d=\"M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z\" fill-rule=\"evenodd\"/></svg>',\n    'bold': '<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z\" fill-rule=\"evenodd\"/></svg>',\n    'bookmark': '<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z\" fill-rule=\"nonzero\"/></svg>',\n    'border-style': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"6\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"3\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"6.8\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"10.6\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"14.4\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"18.2\" y=\"16\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"13\" y=\"11\" rx=\"1\"/></g></svg>',\n    'border-width': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"5\" x=\"3\" y=\"5\" rx=\"1\"/><rect width=\"18\" height=\"3.5\" x=\"3\" y=\"11.5\" rx=\"1\"/><rect width=\"18\" height=\"2\" x=\"3\" y=\"17\" rx=\"1\"/></g></svg>',\n    'brightness': '<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z\" fill-rule=\"evenodd\"/></svg>',\n    'browse': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z\" fill-rule=\"nonzero\"/></svg>',\n    'cancel': '<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z\" fill-rule=\"nonzero\"/></svg>',\n    'cell-background-color': '<svg width=\"24\" height=\"24\"><path d=\"M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z\"/></svg>',\n    'cell-border-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z\" opacity=\".2\"/><path fill-rule=\"nonzero\" d=\"M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z\"/><path d=\"M13 11l-2 2H5v-2h6V6h2z\"/><path fill-rule=\"nonzero\" d=\"M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z\"/></g></svg>',\n    'change-case': '<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\n    'character-count': '<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist': '<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checkmark': '<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-down': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-left': '<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-right': '<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-up': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z\" fill-rule=\"nonzero\"/></svg>',\n    'close': '<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z\" fill-rule=\"evenodd\"/></svg>',\n    'code-sample': '<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z\" fill-rule=\"evenodd\"/></svg>',\n    'color-levels': '<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z\" fill-rule=\"evenodd\"/></svg>',\n    'color-picker': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z\" fill-rule=\"nonzero\"/></svg>',\n    'color-swatch-remove-color': '<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3L3 21\" fill-rule=\"evenodd\"/></svg>',\n    'color-swatch': '<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\n    'comment-add': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z\"/><path d=\"M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z\"/></g></svg>',\n    'comment': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z\"/></svg>',\n    'contrast': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z\" fill-rule=\"evenodd\"/></svg>',\n    'copy': '<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z\" fill-rule=\"nonzero\"/></svg>',\n    'crop': '<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z\" fill-rule=\"evenodd\"/></svg>',\n    'cut-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z\"/></svg>',\n    'cut-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z\"/></svg>',\n    'cut': '<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z\" fill-rule=\"evenodd\"/></svg>',\n    'document-properties': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n    'drag': '<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z\" fill-rule=\"evenodd\"/></svg>',\n    'duplicate-column': '<svg width=\"24\" height=\"24\"><path d=\"M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z\"/></svg>',\n    'duplicate-row': '<svg width=\"24\" height=\"24\"><path d=\"M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z\"/></svg>',\n    'duplicate': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z\"/><path d=\"M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z\"/></g></svg>',\n    'edit-block': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z\"/></svg>',\n    'edit-image': '<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z\" fill-rule=\"nonzero\"/></svg>',\n    'embed-page': '<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z\" fill-rule=\"nonzero\"/></svg>',\n    'embed': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z\" fill-rule=\"nonzero\"/></svg>',\n    'emoji': '<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z\" fill-rule=\"nonzero\"/></svg>',\n    'export': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z\"/><path d=\"M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z\"/><path d=\"M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z\"/></g></svg>',\n    'fill': '<svg width=\"24\" height=\"26\"><path d=\"M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-horizontally': '<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-vertically': '<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z\" fill-rule=\"nonzero\"/></svg>',\n    'format-painter': '<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z\" fill-rule=\"nonzero\"/></svg>',\n    'format': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z\"/></svg>',\n    'fullscreen': '<svg width=\"24\" height=\"24\"><path d=\"M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z\" fill-rule=\"nonzero\"/></svg>',\n    'gallery': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z\"/></svg>',\n    'gamma': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z\" fill-rule=\"nonzero\"/></svg>',\n    'help': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z\"/><path d=\"M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\n    'highlight-bg-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',\n    'home': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\n    'horizontal-rule': '<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\n    'image-options': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z\" fill-rule=\"nonzero\"/></svg>',\n    'image': '<svg width=\"24\" height=\"24\"><path d=\"M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z\" fill-rule=\"nonzero\"/></svg>',\n    'indent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n    'info': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-character': '<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-time': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z\"/></g></svg>',\n    'invert': '<svg width=\"24\" height=\"24\"><path d=\"M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z\" fill-rule=\"evenodd\"/></svg>',\n    'italic': '<svg width=\"24\" height=\"24\"><path d=\"M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z\" fill-rule=\"evenodd\"/></svg>',\n    'language': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z\"/></svg>',\n    'line-height': '<svg width=\"24\" height=\"24\"><path d=\"M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z\"/></svg>',\n    'line': '<svg width=\"24\" height=\"24\"><path d=\"M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z\" fill-rule=\"evenodd\"/></svg>',\n    'link': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z\" fill-rule=\"nonzero\"/></svg>',\n    'list-bull-circle': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-square': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-num-default-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-lower-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-greek-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-greek': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\n    'list-num-lower-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\n    'list-num-upper-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-upper-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-upper-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\n    'list-num-upper-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',\n    'lock': '<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z\" fill-rule=\"evenodd\"/></svg>',\n    'ltr': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n    'more-drawer': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z\" fill-rule=\"nonzero\"/></svg>',\n    'new-document': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n    'new-tab': '<svg width=\"24\" height=\"24\"><path d=\"M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z\" fill-rule=\"evenodd\"/></svg>',\n    'non-breaking': '<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'notice': '<svg width=\"24\" height=\"24\"><path d=\"M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'orientation': '<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z\" fill-rule=\"nonzero\"/></svg>',\n    'outdent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n    'page-break': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z\"/></g></svg>',\n    'paragraph': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z\"/></svg>',\n    'paste-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-row-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-text': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z\" fill-rule=\"nonzero\"/></svg>',\n    'paste': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z\" fill-rule=\"nonzero\"/></svg>',\n    'permanent-pen': '<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z\" fill-rule=\"nonzero\"/></svg>',\n    'plus': '<svg width=\"24\" height=\"24\"><path d=\"M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z\"/></svg>',\n    'preferences': '<svg width=\"24\" height=\"24\"><path d=\"M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z\" fill-rule=\"evenodd\"/></svg>',\n    'preview': '<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z\" fill-rule=\"nonzero\"/></svg>',\n    'print': '<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z\" fill-rule=\"nonzero\"/></svg>',\n    'quote': '<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z\" fill-rule=\"nonzero\"/></svg>',\n    'redo': '<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z\" fill-rule=\"nonzero\"/></svg>',\n    'reload': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z\"/></g></svg>',\n    'remove-formatting': '<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'remove': '<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z\" fill-rule=\"nonzero\"/></svg>',\n    'resize-handle': '<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z\"/></g></svg>',\n    'resize': '<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z\" fill-rule=\"evenodd\"/></svg>',\n    'restore-draft': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z\"/><path d=\"M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z\" fill-rule=\"nonzero\"/></g></svg>',\n    'rotate-left': '<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z\" fill-rule=\"nonzero\"/></svg>',\n    'rotate-right': '<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z\" fill-rule=\"nonzero\"/></svg>',\n    'rtl': '<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n    'save': '<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z\" fill-rule=\"nonzero\"/></svg>',\n    'search': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z\" fill-rule=\"nonzero\"/></svg>',\n    'select-all': '<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z\" fill-rule=\"nonzero\"/></svg>',\n    'selected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z\"/></svg>',\n    'settings': '<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z\" fill-rule=\"evenodd\"/></svg>',\n    'sharpen': '<svg width=\"24\" height=\"24\"><path d=\"M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z\" fill-rule=\"evenodd\"/></svg>',\n    'sourcecode': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z\"/></g></svg>',\n    'spell-check': '<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z\" fill-rule=\"evenodd\"/></svg>',\n    'strike-through': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z\"/><path d=\"M5 11h14a1 1 0 010 2H5a1 1 0 010-2z\" fill-rule=\"nonzero\"/></g></svg>',\n    'subscript': '<svg width=\"24\" height=\"24\"><path d=\"M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z\" fill-rule=\"nonzero\"/></svg>',\n    'superscript': '<svg width=\"24\" height=\"24\"><path d=\"M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z\" fill-rule=\"nonzero\"/></svg>',\n    'table-caption': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"12\" height=\"2\" x=\"3\" y=\"4\" rx=\"1\"/><path d=\"M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z\"/></g></svg>',\n    'table-cell-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z\"/><path fill-rule=\"nonzero\" d=\"M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z\" opacity=\".2\"/><path d=\"M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z\"/><path fill-rule=\"nonzero\" d=\"M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z\" opacity=\".2\"/></g></svg>',\n    'table-cell-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z\"/></svg>',\n    'table-cell-select-all': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z\" opacity=\".2\"/></g></svg>',\n    'table-cell-select-inner': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z\" opacity=\".2\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z\"/></g></svg>',\n    'table-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z\"/><path d=\"M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z\"/></g></svg>',\n    'table-delete-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z\"/></svg>',\n    'table-delete-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z\"/></svg>',\n    'table-delete-table': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z\"/><path d=\"M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z\"/></g></svg>',\n    'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z\"/></svg>',\n    'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z\"/></svg>',\n    'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z\"/></svg>',\n    'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z\"/></svg>',\n    'table-left-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z\"/></svg>',\n    'table-merge-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z\"/></svg>',\n    'table-row-numbering-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z\"/></svg>',\n    'table-row-numbering': '<svg width=\"24\" height=\"24\"><path d=\"M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z\"/></svg>',\n    'table-row-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z\"/></svg>',\n    'table-split-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z\"/></svg>',\n    'table-top-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z\"/></svg>',\n    'table': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z\"/></svg>',\n    'template': '<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z\" fill-rule=\"nonzero\"/></svg>',\n    'temporary-placeholder': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\n    'text-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z\"/></g></svg>',\n    'toc': '<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'translate': '<svg width=\"24\" height=\"24\"><path d=\"M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z\" fill-rule=\"evenodd\"/></svg>',\n    'underline': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'undo': '<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z\" fill-rule=\"nonzero\"/></svg>',\n    'unlink': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z\" fill-rule=\"nonzero\"/></svg>',\n    'unlock': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z\" fill-rule=\"evenodd\"/></svg>',\n    'unordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z\" fill-rule=\"evenodd\"/></svg>',\n    'unselected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z\"/></svg>',\n    'upload': '<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z\" fill-rule=\"nonzero\"/></svg>',\n    'user': '<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z\" fill-rule=\"nonzero\"/></svg>',\n    'vertical-align': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><path d=\"M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z\"/></g></svg>',\n    'visualblocks': '<svg width=\"24\" height=\"24\"><path d=\"M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z\" fill-rule=\"evenodd\"/></svg>',\n    'visualchars': '<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z\" fill-rule=\"evenodd\"/></svg>',\n    'warning': '<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z\" fill-rule=\"evenodd\"/></svg>',\n    'zoom-in': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z\" fill-rule=\"nonzero\"/></svg>',\n    'zoom-out': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z\" fill-rule=\"nonzero\"/></svg>',\n  }\n});","// Exports the \"advlist\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/advlist')\n//   ES2015:\n//     import 'tinymce/plugins/advlist'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var applyListFormat = function (editor, listName, styleValue) {\n      var cmd = listName === 'UL' ? 'InsertUnorderedList' : 'InsertOrderedList';\n      editor.execCommand(cmd, false, styleValue === false ? null : { 'list-style-type': styleValue });\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('ApplyUnorderedListStyle', function (ui, value) {\n        applyListFormat(editor, 'UL', value['list-style-type']);\n      });\n      editor.addCommand('ApplyOrderedListStyle', function (ui, value) {\n        applyListFormat(editor, 'OL', value['list-style-type']);\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getNumberStyles = function (editor) {\n      var styles = editor.getParam('advlist_number_styles', 'default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman');\n      return styles ? styles.split(/[ ,]/) : [];\n    };\n    var getBulletStyles = function (editor) {\n      var styles = editor.getParam('advlist_bullet_styles', 'default,circle,square');\n      return styles ? styles.split(/[ ,]/) : [];\n    };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var isChildOfBody = function (editor, elm) {\n      return editor.$.contains(editor.getBody(), elm);\n    };\n    var isTableCellNode = function (node) {\n      return node && /^(TH|TD)$/.test(node.nodeName);\n    };\n    var isListNode = function (editor) {\n      return function (node) {\n        return node && /^(OL|UL|DL)$/.test(node.nodeName) && isChildOfBody(editor, node);\n      };\n    };\n    var getSelectedStyleType = function (editor) {\n      var listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n      var style = editor.dom.getStyle(listElm, 'listStyleType');\n      return Optional.from(style);\n    };\n\n    var findIndex = function (list, predicate) {\n      for (var index = 0; index < list.length; index++) {\n        var element = list[index];\n        if (predicate(element)) {\n          return index;\n        }\n      }\n      return -1;\n    };\n    var styleValueToText = function (styleValue) {\n      return styleValue.replace(/\\-/g, ' ').replace(/\\b\\w/g, function (chr) {\n        return chr.toUpperCase();\n      });\n    };\n    var isWithinList = function (editor, e, nodeName) {\n      var tableCellIndex = findIndex(e.parents, isTableCellNode);\n      var parents = tableCellIndex !== -1 ? e.parents.slice(0, tableCellIndex) : e.parents;\n      var lists = global.grep(parents, isListNode(editor));\n      return lists.length > 0 && lists[0].nodeName === nodeName;\n    };\n    var makeSetupHandler = function (editor, nodeName) {\n      return function (api) {\n        var nodeChangeHandler = function (e) {\n          api.setActive(isWithinList(editor, e, nodeName));\n        };\n        editor.on('NodeChange', nodeChangeHandler);\n        return function () {\n          return editor.off('NodeChange', nodeChangeHandler);\n        };\n      };\n    };\n    var addSplitButton = function (editor, id, tooltip, cmd, nodeName, styles) {\n      editor.ui.registry.addSplitButton(id, {\n        tooltip: tooltip,\n        icon: nodeName === 'OL' ? 'ordered-list' : 'unordered-list',\n        presets: 'listpreview',\n        columns: 3,\n        fetch: function (callback) {\n          var items = global.map(styles, function (styleValue) {\n            var iconStyle = nodeName === 'OL' ? 'num' : 'bull';\n            var iconName = styleValue === 'disc' || styleValue === 'decimal' ? 'default' : styleValue;\n            var itemValue = styleValue === 'default' ? '' : styleValue;\n            var displayText = styleValueToText(styleValue);\n            return {\n              type: 'choiceitem',\n              value: itemValue,\n              icon: 'list-' + iconStyle + '-' + iconName,\n              text: displayText\n            };\n          });\n          callback(items);\n        },\n        onAction: function () {\n          return editor.execCommand(cmd);\n        },\n        onItemAction: function (_splitButtonApi, value) {\n          applyListFormat(editor, nodeName, value);\n        },\n        select: function (value) {\n          var listStyleType = getSelectedStyleType(editor);\n          return listStyleType.map(function (listStyle) {\n            return value === listStyle;\n          }).getOr(false);\n        },\n        onSetup: makeSetupHandler(editor, nodeName)\n      });\n    };\n    var addButton = function (editor, id, tooltip, cmd, nodeName, _styles) {\n      editor.ui.registry.addToggleButton(id, {\n        active: false,\n        tooltip: tooltip,\n        icon: nodeName === 'OL' ? 'ordered-list' : 'unordered-list',\n        onSetup: makeSetupHandler(editor, nodeName),\n        onAction: function () {\n          return editor.execCommand(cmd);\n        }\n      });\n    };\n    var addControl = function (editor, id, tooltip, cmd, nodeName, styles) {\n      if (styles.length > 1) {\n        addSplitButton(editor, id, tooltip, cmd, nodeName, styles);\n      } else {\n        addButton(editor, id, tooltip, cmd, nodeName);\n      }\n    };\n    var register = function (editor) {\n      addControl(editor, 'numlist', 'Numbered list', 'InsertOrderedList', 'OL', getNumberStyles(editor));\n      addControl(editor, 'bullist', 'Bullet list', 'InsertUnorderedList', 'UL', getBulletStyles(editor));\n    };\n\n    function Plugin () {\n      global$1.add('advlist', function (editor) {\n        if (editor.hasPlugin('lists')) {\n          register(editor);\n          register$1(editor);\n        } else {\n          console.error('Please use the Lists plugin together with the Advanced List plugin.');\n        }\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"anchor\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/anchor')\n//   ES2015:\n//     import 'tinymce/plugins/anchor'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var allowHtmlInNamedAnchor = function (editor) {\n      return editor.getParam('allow_html_in_named_anchor', false, 'boolean');\n    };\n\n    var namedAnchorSelector = 'a:not([href])';\n    var isEmptyString = function (str) {\n      return !str;\n    };\n    var getIdFromAnchor = function (elm) {\n      var id = elm.getAttribute('id') || elm.getAttribute('name');\n      return id || '';\n    };\n    var isAnchor = function (elm) {\n      return elm && elm.nodeName.toLowerCase() === 'a';\n    };\n    var isNamedAnchor = function (elm) {\n      return isAnchor(elm) && !elm.getAttribute('href') && getIdFromAnchor(elm) !== '';\n    };\n    var isEmptyNamedAnchor = function (elm) {\n      return isNamedAnchor(elm) && !elm.firstChild;\n    };\n\n    var removeEmptyNamedAnchorsInSelection = function (editor) {\n      var dom = editor.dom;\n      global$1(dom).walk(editor.selection.getRng(), function (nodes) {\n        global.each(nodes, function (node) {\n          if (isEmptyNamedAnchor(node)) {\n            dom.remove(node, false);\n          }\n        });\n      });\n    };\n    var isValidId = function (id) {\n      return /^[A-Za-z][A-Za-z0-9\\-:._]*$/.test(id);\n    };\n    var getNamedAnchor = function (editor) {\n      return editor.dom.getParent(editor.selection.getStart(), namedAnchorSelector);\n    };\n    var getId = function (editor) {\n      var anchor = getNamedAnchor(editor);\n      if (anchor) {\n        return getIdFromAnchor(anchor);\n      } else {\n        return '';\n      }\n    };\n    var createAnchor = function (editor, id) {\n      editor.undoManager.transact(function () {\n        if (!allowHtmlInNamedAnchor(editor)) {\n          editor.selection.collapse(true);\n        }\n        if (editor.selection.isCollapsed()) {\n          editor.insertContent(editor.dom.createHTML('a', { id: id }));\n        } else {\n          removeEmptyNamedAnchorsInSelection(editor);\n          editor.formatter.remove('namedAnchor', null, null, true);\n          editor.formatter.apply('namedAnchor', { value: id });\n          editor.addVisual();\n        }\n      });\n    };\n    var updateAnchor = function (editor, id, anchorElement) {\n      anchorElement.removeAttribute('name');\n      anchorElement.id = id;\n      editor.addVisual();\n      editor.undoManager.add();\n    };\n    var insert = function (editor, id) {\n      var anchor = getNamedAnchor(editor);\n      if (anchor) {\n        updateAnchor(editor, id, anchor);\n      } else {\n        createAnchor(editor, id);\n      }\n      editor.focus();\n    };\n\n    var insertAnchor = function (editor, newId) {\n      if (!isValidId(newId)) {\n        editor.windowManager.alert('Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.');\n        return false;\n      } else {\n        insert(editor, newId);\n        return true;\n      }\n    };\n    var open = function (editor) {\n      var currentId = getId(editor);\n      editor.windowManager.open({\n        title: 'Anchor',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [{\n              name: 'id',\n              type: 'input',\n              label: 'ID',\n              placeholder: 'example'\n            }]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: { id: currentId },\n        onSubmit: function (api) {\n          if (insertAnchor(editor, api.getData().id)) {\n            api.close();\n          }\n        }\n      });\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceAnchor', function () {\n        open(editor);\n      });\n    };\n\n    var isNamedAnchorNode = function (node) {\n      return node && isEmptyString(node.attr('href')) && !isEmptyString(node.attr('id') || node.attr('name'));\n    };\n    var isEmptyNamedAnchorNode = function (node) {\n      return isNamedAnchorNode(node) && !node.firstChild;\n    };\n    var setContentEditable = function (state) {\n      return function (nodes) {\n        for (var i = 0; i < nodes.length; i++) {\n          var node = nodes[i];\n          if (isEmptyNamedAnchorNode(node)) {\n            node.attr('contenteditable', state);\n          }\n        }\n      };\n    };\n    var setup = function (editor) {\n      editor.on('PreInit', function () {\n        editor.parser.addNodeFilter('a', setContentEditable('false'));\n        editor.serializer.addNodeFilter('a', setContentEditable(null));\n      });\n    };\n\n    var registerFormats = function (editor) {\n      editor.formatter.register('namedAnchor', {\n        inline: 'a',\n        selector: namedAnchorSelector,\n        remove: 'all',\n        split: true,\n        deep: true,\n        attributes: { id: '%value' },\n        onmatch: function (node, _fmt, _itemName) {\n          return isNamedAnchor(node);\n        }\n      });\n    };\n\n    var register = function (editor) {\n      editor.ui.registry.addToggleButton('anchor', {\n        icon: 'bookmark',\n        tooltip: 'Anchor',\n        onAction: function () {\n          return editor.execCommand('mceAnchor');\n        },\n        onSetup: function (buttonApi) {\n          return editor.selection.selectorChangedWithUnbind('a:not([href])', buttonApi.setActive).unbind;\n        }\n      });\n      editor.ui.registry.addMenuItem('anchor', {\n        icon: 'bookmark',\n        text: 'Anchor...',\n        onAction: function () {\n          return editor.execCommand('mceAnchor');\n        }\n      });\n    };\n\n    function Plugin () {\n      global$2.add('anchor', function (editor) {\n        setup(editor);\n        register$1(editor);\n        register(editor);\n        editor.on('PreInit', function () {\n          registerFormats(editor);\n        });\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"autolink\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autolink')\n//   ES2015:\n//     import 'tinymce/plugins/autolink'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var contains = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var link = function () {\n      return /(?:[A-Za-z][A-Za-z\\d.+-]{0,14}:\\/\\/(?:[-.~*+=!&;:'%@?^${}(),\\w]+@)?|www\\.|[-;:&=+$,.\\w]+@)[A-Za-z\\d-]+(?:\\.[A-Za-z\\d-]+)*(?::\\d+)?(?:\\/(?:[-+~=.,%()\\/\\w]*[-+~=%()\\/\\w])?)?(?:\\?(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?/g;\n    };\n\n    var defaultLinkPattern = new RegExp('^' + link().source + '$', 'i');\n    var getAutoLinkPattern = function (editor) {\n      return editor.getParam('autolink_pattern', defaultLinkPattern);\n    };\n    var getDefaultLinkTarget = function (editor) {\n      return editor.getParam('default_link_target', false);\n    };\n    var getDefaultLinkProtocol = function (editor) {\n      return editor.getParam('link_default_protocol', 'http', 'string');\n    };\n\n    var rangeEqualsBracketOrSpace = function (rangeString) {\n      return /^[(\\[{ \\u00a0]$/.test(rangeString);\n    };\n    var isTextNode = function (node) {\n      return node.nodeType === 3;\n    };\n    var isElement = function (node) {\n      return node.nodeType === 1;\n    };\n    var handleBracket = function (editor) {\n      return parseCurrentLine(editor, -1);\n    };\n    var handleSpacebar = function (editor) {\n      return parseCurrentLine(editor, 0);\n    };\n    var handleEnter = function (editor) {\n      return parseCurrentLine(editor, -1);\n    };\n    var scopeIndex = function (container, index) {\n      if (index < 0) {\n        index = 0;\n      }\n      if (isTextNode(container)) {\n        var len = container.data.length;\n        if (index > len) {\n          index = len;\n        }\n      }\n      return index;\n    };\n    var setStart = function (rng, container, offset) {\n      if (!isElement(container) || container.hasChildNodes()) {\n        rng.setStart(container, scopeIndex(container, offset));\n      } else {\n        rng.setStartBefore(container);\n      }\n    };\n    var setEnd = function (rng, container, offset) {\n      if (!isElement(container) || container.hasChildNodes()) {\n        rng.setEnd(container, scopeIndex(container, offset));\n      } else {\n        rng.setEndAfter(container);\n      }\n    };\n    var hasProtocol = function (url) {\n      return /^([A-Za-z][A-Za-z\\d.+-]*:\\/\\/)|mailto:/.test(url);\n    };\n    var isPunctuation = function (char) {\n      return /[?!,.;:]/.test(char);\n    };\n    var parseCurrentLine = function (editor, endOffset) {\n      var end, endContainer, bookmark, text, prev, len, rngText;\n      var autoLinkPattern = getAutoLinkPattern(editor);\n      var defaultLinkTarget = getDefaultLinkTarget(editor);\n      if (editor.dom.getParent(editor.selection.getNode(), 'a[href]') !== null) {\n        return;\n      }\n      var rng = editor.selection.getRng().cloneRange();\n      if (rng.startOffset < 5) {\n        prev = rng.endContainer.previousSibling;\n        if (!prev) {\n          if (!rng.endContainer.firstChild || !rng.endContainer.firstChild.nextSibling) {\n            return;\n          }\n          prev = rng.endContainer.firstChild.nextSibling;\n        }\n        len = prev.length;\n        setStart(rng, prev, len);\n        setEnd(rng, prev, len);\n        if (rng.endOffset < 5) {\n          return;\n        }\n        end = rng.endOffset;\n        endContainer = prev;\n      } else {\n        endContainer = rng.endContainer;\n        if (!isTextNode(endContainer) && endContainer.firstChild) {\n          while (!isTextNode(endContainer) && endContainer.firstChild) {\n            endContainer = endContainer.firstChild;\n          }\n          if (isTextNode(endContainer)) {\n            setStart(rng, endContainer, 0);\n            setEnd(rng, endContainer, endContainer.nodeValue.length);\n          }\n        }\n        if (rng.endOffset === 1) {\n          end = 2;\n        } else {\n          end = rng.endOffset - 1 - endOffset;\n        }\n      }\n      var start = end;\n      do {\n        setStart(rng, endContainer, end >= 2 ? end - 2 : 0);\n        setEnd(rng, endContainer, end >= 1 ? end - 1 : 0);\n        end -= 1;\n        rngText = rng.toString();\n      } while (!rangeEqualsBracketOrSpace(rngText) && end - 2 >= 0);\n      if (rangeEqualsBracketOrSpace(rng.toString())) {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n        end += 1;\n      } else if (rng.startOffset === 0) {\n        setStart(rng, endContainer, 0);\n        setEnd(rng, endContainer, start);\n      } else {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n      }\n      text = rng.toString();\n      if (isPunctuation(text.charAt(text.length - 1))) {\n        setEnd(rng, endContainer, start - 1);\n      }\n      text = rng.toString().trim();\n      var matches = text.match(autoLinkPattern);\n      var protocol = getDefaultLinkProtocol(editor);\n      if (matches) {\n        var url = matches[0];\n        if (startsWith(url, 'www.')) {\n          url = protocol + '://' + url;\n        } else if (contains(url, '@') && !hasProtocol(url)) {\n          url = 'mailto:' + url;\n        }\n        bookmark = editor.selection.getBookmark();\n        editor.selection.setRng(rng);\n        editor.execCommand('createlink', false, url);\n        if (defaultLinkTarget !== false) {\n          editor.dom.setAttrib(editor.selection.getNode(), 'target', defaultLinkTarget);\n        }\n        editor.selection.moveToBookmark(bookmark);\n        editor.nodeChanged();\n      }\n    };\n    var setup = function (editor) {\n      var autoUrlDetectState;\n      editor.on('keydown', function (e) {\n        if (e.keyCode === 13) {\n          return handleEnter(editor);\n        }\n      });\n      if (global.browser.isIE()) {\n        editor.on('focus', function () {\n          if (!autoUrlDetectState) {\n            autoUrlDetectState = true;\n            try {\n              editor.execCommand('AutoUrlDetect', false, true);\n            } catch (ex) {\n            }\n          }\n        });\n        return;\n      }\n      editor.on('keypress', function (e) {\n        if (e.keyCode === 41 || e.keyCode === 93 || e.keyCode === 125) {\n          return handleBracket(editor);\n        }\n      });\n      editor.on('keyup', function (e) {\n        if (e.keyCode === 32) {\n          return handleSpacebar(editor);\n        }\n      });\n    };\n\n    function Plugin () {\n      global$1.add('autolink', function (editor) {\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"autosave\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autosave')\n//   ES2015:\n//     import 'tinymce/plugins/autosave'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var eq = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isUndefined = eq(undefined);\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var fireRestoreDraft = function (editor) {\n      return editor.fire('RestoreDraft');\n    };\n    var fireStoreDraft = function (editor) {\n      return editor.fire('StoreDraft');\n    };\n    var fireRemoveDraft = function (editor) {\n      return editor.fire('RemoveDraft');\n    };\n\n    var parse = function (timeString, defaultTime) {\n      var multiples = {\n        s: 1000,\n        m: 60000\n      };\n      var toParse = timeString || defaultTime;\n      var parsedTime = /^(\\d+)([ms]?)$/.exec('' + toParse);\n      return (parsedTime[2] ? multiples[parsedTime[2]] : 1) * parseInt(toParse, 10);\n    };\n\n    var shouldAskBeforeUnload = function (editor) {\n      return editor.getParam('autosave_ask_before_unload', true);\n    };\n    var getAutoSavePrefix = function (editor) {\n      var location = document.location;\n      return editor.getParam('autosave_prefix', 'tinymce-autosave-{path}{query}{hash}-{id}-').replace(/{path}/g, location.pathname).replace(/{query}/g, location.search).replace(/{hash}/g, location.hash).replace(/{id}/g, editor.id);\n    };\n    var shouldRestoreWhenEmpty = function (editor) {\n      return editor.getParam('autosave_restore_when_empty', false);\n    };\n    var getAutoSaveInterval = function (editor) {\n      return parse(editor.getParam('autosave_interval'), '30s');\n    };\n    var getAutoSaveRetention = function (editor) {\n      return parse(editor.getParam('autosave_retention'), '20m');\n    };\n\n    var isEmpty = function (editor, html) {\n      if (isUndefined(html)) {\n        return editor.dom.isEmpty(editor.getBody());\n      } else {\n        var trimmedHtml = global$1.trim(html);\n        if (trimmedHtml === '') {\n          return true;\n        } else {\n          var fragment = new DOMParser().parseFromString(trimmedHtml, 'text/html');\n          return editor.dom.isEmpty(fragment);\n        }\n      }\n    };\n    var hasDraft = function (editor) {\n      var time = parseInt(global$2.getItem(getAutoSavePrefix(editor) + 'time'), 10) || 0;\n      if (new Date().getTime() - time > getAutoSaveRetention(editor)) {\n        removeDraft(editor, false);\n        return false;\n      }\n      return true;\n    };\n    var removeDraft = function (editor, fire) {\n      var prefix = getAutoSavePrefix(editor);\n      global$2.removeItem(prefix + 'draft');\n      global$2.removeItem(prefix + 'time');\n      if (fire !== false) {\n        fireRemoveDraft(editor);\n      }\n    };\n    var storeDraft = function (editor) {\n      var prefix = getAutoSavePrefix(editor);\n      if (!isEmpty(editor) && editor.isDirty()) {\n        global$2.setItem(prefix + 'draft', editor.getContent({\n          format: 'raw',\n          no_events: true\n        }));\n        global$2.setItem(prefix + 'time', new Date().getTime().toString());\n        fireStoreDraft(editor);\n      }\n    };\n    var restoreDraft = function (editor) {\n      var prefix = getAutoSavePrefix(editor);\n      if (hasDraft(editor)) {\n        editor.setContent(global$2.getItem(prefix + 'draft'), { format: 'raw' });\n        fireRestoreDraft(editor);\n      }\n    };\n    var startStoreDraft = function (editor) {\n      var interval = getAutoSaveInterval(editor);\n      global$3.setEditorInterval(editor, function () {\n        storeDraft(editor);\n      }, interval);\n    };\n    var restoreLastDraft = function (editor) {\n      editor.undoManager.transact(function () {\n        restoreDraft(editor);\n        removeDraft(editor);\n      });\n      editor.focus();\n    };\n\n    var get = function (editor) {\n      return {\n        hasDraft: function () {\n          return hasDraft(editor);\n        },\n        storeDraft: function () {\n          return storeDraft(editor);\n        },\n        restoreDraft: function () {\n          return restoreDraft(editor);\n        },\n        removeDraft: function (fire) {\n          return removeDraft(editor, fire);\n        },\n        isEmpty: function (html) {\n          return isEmpty(editor, html);\n        }\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var setup = function (editor) {\n      editor.editorManager.on('BeforeUnload', function (e) {\n        var msg;\n        global$1.each(global.get(), function (editor) {\n          if (editor.plugins.autosave) {\n            editor.plugins.autosave.storeDraft();\n          }\n          if (!msg && editor.isDirty() && shouldAskBeforeUnload(editor)) {\n            msg = editor.translate('You have unsaved changes are you sure you want to navigate away?');\n          }\n        });\n        if (msg) {\n          e.preventDefault();\n          e.returnValue = msg;\n        }\n      });\n    };\n\n    var makeSetupHandler = function (editor) {\n      return function (api) {\n        api.setDisabled(!hasDraft(editor));\n        var editorEventCallback = function () {\n          return api.setDisabled(!hasDraft(editor));\n        };\n        editor.on('StoreDraft RestoreDraft RemoveDraft', editorEventCallback);\n        return function () {\n          return editor.off('StoreDraft RestoreDraft RemoveDraft', editorEventCallback);\n        };\n      };\n    };\n    var register = function (editor) {\n      startStoreDraft(editor);\n      editor.ui.registry.addButton('restoredraft', {\n        tooltip: 'Restore last draft',\n        icon: 'restore-draft',\n        onAction: function () {\n          restoreLastDraft(editor);\n        },\n        onSetup: makeSetupHandler(editor)\n      });\n      editor.ui.registry.addMenuItem('restoredraft', {\n        text: 'Restore last draft',\n        icon: 'restore-draft',\n        onAction: function () {\n          restoreLastDraft(editor);\n        },\n        onSetup: makeSetupHandler(editor)\n      });\n    };\n\n    function Plugin () {\n      global$4.add('autosave', function (editor) {\n        setup(editor);\n        register(editor);\n        editor.on('init', function () {\n          if (shouldRestoreWhenEmpty(editor) && editor.dom.isEmpty(editor.getBody())) {\n            restoreDraft(editor);\n          }\n        });\n        return get(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"code\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/code')\n//   ES2015:\n//     import 'tinymce/plugins/code'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var setContent = function (editor, html) {\n      editor.focus();\n      editor.undoManager.transact(function () {\n        editor.setContent(html);\n      });\n      editor.selection.setCursorLocation();\n      editor.nodeChanged();\n    };\n    var getContent = function (editor) {\n      return editor.getContent({ source_view: true });\n    };\n\n    var open = function (editor) {\n      var editorContent = getContent(editor);\n      editor.windowManager.open({\n        title: 'Source Code',\n        size: 'large',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'textarea',\n              name: 'code'\n            }]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: { code: editorContent },\n        onSubmit: function (api) {\n          setContent(editor, api.getData().code);\n          api.close();\n        }\n      });\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceCodeEditor', function () {\n        open(editor);\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mceCodeEditor');\n      };\n      editor.ui.registry.addButton('code', {\n        icon: 'sourcecode',\n        tooltip: 'Source code',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('code', {\n        icon: 'sourcecode',\n        text: 'Source code',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global.add('code', function (editor) {\n        register$1(editor);\n        register(editor);\n        return {};\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"codesample\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/codesample')\n//   ES2015:\n//     import 'tinymce/plugins/codesample'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var get$1 = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$1(xs, 0);\n    };\n\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var isCodeSample = function (elm) {\n      return elm && elm.nodeName === 'PRE' && elm.className.indexOf('language-') !== -1;\n    };\n    var trimArg = function (predicateFn) {\n      return function (arg1, arg2) {\n        return predicateFn(arg2);\n      };\n    };\n\n    var Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var exports$1 = {}, module = { exports: exports$1 }, global = {};\n    (function (define, exports, module, require) {\n      var oldprism = window.Prism;\n      window.Prism = { manual: true };\n      (function (global, factory) {\n        typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.EphoxContactWrapper = factory());\n      }(this, function () {\n        var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n        var prismCore = { exports: {} };\n        (function (module) {\n          var _self = typeof window !== 'undefined' ? window : typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope ? self : {};\n          var Prism = function (_self) {\n            var lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n            var uniqueId = 0;\n            var plainTextGrammar = {};\n            var _ = {\n              manual: _self.Prism && _self.Prism.manual,\n              disableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n              util: {\n                encode: function encode(tokens) {\n                  if (tokens instanceof Token) {\n                    return new Token(tokens.type, encode(tokens.content), tokens.alias);\n                  } else if (Array.isArray(tokens)) {\n                    return tokens.map(encode);\n                  } else {\n                    return tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n                  }\n                },\n                type: function (o) {\n                  return Object.prototype.toString.call(o).slice(8, -1);\n                },\n                objId: function (obj) {\n                  if (!obj['__id']) {\n                    Object.defineProperty(obj, '__id', { value: ++uniqueId });\n                  }\n                  return obj['__id'];\n                },\n                clone: function deepClone(o, visited) {\n                  visited = visited || {};\n                  var clone;\n                  var id;\n                  switch (_.util.type(o)) {\n                  case 'Object':\n                    id = _.util.objId(o);\n                    if (visited[id]) {\n                      return visited[id];\n                    }\n                    clone = {};\n                    visited[id] = clone;\n                    for (var key in o) {\n                      if (o.hasOwnProperty(key)) {\n                        clone[key] = deepClone(o[key], visited);\n                      }\n                    }\n                    return clone;\n                  case 'Array':\n                    id = _.util.objId(o);\n                    if (visited[id]) {\n                      return visited[id];\n                    }\n                    clone = [];\n                    visited[id] = clone;\n                    o.forEach(function (v, i) {\n                      clone[i] = deepClone(v, visited);\n                    });\n                    return clone;\n                  default:\n                    return o;\n                  }\n                },\n                getLanguage: function (element) {\n                  while (element && !lang.test(element.className)) {\n                    element = element.parentElement;\n                  }\n                  if (element) {\n                    return (element.className.match(lang) || [\n                      ,\n                      'none'\n                    ])[1].toLowerCase();\n                  }\n                  return 'none';\n                },\n                currentScript: function () {\n                  if (typeof document === 'undefined') {\n                    return null;\n                  }\n                  if ('currentScript' in document && 1 < 2) {\n                    return document.currentScript;\n                  }\n                  try {\n                    throw new Error();\n                  } catch (err) {\n                    var src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n                    if (src) {\n                      var scripts = document.getElementsByTagName('script');\n                      for (var i in scripts) {\n                        if (scripts[i].src == src) {\n                          return scripts[i];\n                        }\n                      }\n                    }\n                    return null;\n                  }\n                },\n                isActive: function (element, className, defaultActivation) {\n                  var no = 'no-' + className;\n                  while (element) {\n                    var classList = element.classList;\n                    if (classList.contains(className)) {\n                      return true;\n                    }\n                    if (classList.contains(no)) {\n                      return false;\n                    }\n                    element = element.parentElement;\n                  }\n                  return !!defaultActivation;\n                }\n              },\n              languages: {\n                plain: plainTextGrammar,\n                plaintext: plainTextGrammar,\n                text: plainTextGrammar,\n                txt: plainTextGrammar,\n                extend: function (id, redef) {\n                  var lang = _.util.clone(_.languages[id]);\n                  for (var key in redef) {\n                    lang[key] = redef[key];\n                  }\n                  return lang;\n                },\n                insertBefore: function (inside, before, insert, root) {\n                  root = root || _.languages;\n                  var grammar = root[inside];\n                  var ret = {};\n                  for (var token in grammar) {\n                    if (grammar.hasOwnProperty(token)) {\n                      if (token == before) {\n                        for (var newToken in insert) {\n                          if (insert.hasOwnProperty(newToken)) {\n                            ret[newToken] = insert[newToken];\n                          }\n                        }\n                      }\n                      if (!insert.hasOwnProperty(token)) {\n                        ret[token] = grammar[token];\n                      }\n                    }\n                  }\n                  var old = root[inside];\n                  root[inside] = ret;\n                  _.languages.DFS(_.languages, function (key, value) {\n                    if (value === old && key != inside) {\n                      this[key] = ret;\n                    }\n                  });\n                  return ret;\n                },\n                DFS: function DFS(o, callback, type, visited) {\n                  visited = visited || {};\n                  var objId = _.util.objId;\n                  for (var i in o) {\n                    if (o.hasOwnProperty(i)) {\n                      callback.call(o, i, o[i], type || i);\n                      var property = o[i];\n                      var propertyType = _.util.type(property);\n                      if (propertyType === 'Object' && !visited[objId(property)]) {\n                        visited[objId(property)] = true;\n                        DFS(property, callback, null, visited);\n                      } else if (propertyType === 'Array' && !visited[objId(property)]) {\n                        visited[objId(property)] = true;\n                        DFS(property, callback, i, visited);\n                      }\n                    }\n                  }\n                }\n              },\n              plugins: {},\n              highlightAll: function (async, callback) {\n                _.highlightAllUnder(document, async, callback);\n              },\n              highlightAllUnder: function (container, async, callback) {\n                var env = {\n                  callback: callback,\n                  container: container,\n                  selector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n                };\n                _.hooks.run('before-highlightall', env);\n                env.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n                _.hooks.run('before-all-elements-highlight', env);\n                for (var i = 0, element; element = env.elements[i++];) {\n                  _.highlightElement(element, async === true, env.callback);\n                }\n              },\n              highlightElement: function (element, async, callback) {\n                var language = _.util.getLanguage(element);\n                var grammar = _.languages[language];\n                element.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n                var parent = element.parentElement;\n                if (parent && parent.nodeName.toLowerCase() === 'pre') {\n                  parent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n                }\n                var code = element.textContent;\n                var env = {\n                  element: element,\n                  language: language,\n                  grammar: grammar,\n                  code: code\n                };\n                function insertHighlightedCode(highlightedCode) {\n                  env.highlightedCode = highlightedCode;\n                  _.hooks.run('before-insert', env);\n                  env.element.innerHTML = env.highlightedCode;\n                  _.hooks.run('after-highlight', env);\n                  _.hooks.run('complete', env);\n                  callback && callback.call(env.element);\n                }\n                _.hooks.run('before-sanity-check', env);\n                parent = env.element.parentElement;\n                if (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n                  parent.setAttribute('tabindex', '0');\n                }\n                if (!env.code) {\n                  _.hooks.run('complete', env);\n                  callback && callback.call(env.element);\n                  return;\n                }\n                _.hooks.run('before-highlight', env);\n                if (!env.grammar) {\n                  insertHighlightedCode(_.util.encode(env.code));\n                  return;\n                }\n                if (async && _self.Worker) {\n                  var worker = new Worker(_.filename);\n                  worker.onmessage = function (evt) {\n                    insertHighlightedCode(evt.data);\n                  };\n                  worker.postMessage(JSON.stringify({\n                    language: env.language,\n                    code: env.code,\n                    immediateClose: true\n                  }));\n                } else {\n                  insertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n                }\n              },\n              highlight: function (text, grammar, language) {\n                var env = {\n                  code: text,\n                  grammar: grammar,\n                  language: language\n                };\n                _.hooks.run('before-tokenize', env);\n                env.tokens = _.tokenize(env.code, env.grammar);\n                _.hooks.run('after-tokenize', env);\n                return Token.stringify(_.util.encode(env.tokens), env.language);\n              },\n              tokenize: function (text, grammar) {\n                var rest = grammar.rest;\n                if (rest) {\n                  for (var token in rest) {\n                    grammar[token] = rest[token];\n                  }\n                  delete grammar.rest;\n                }\n                var tokenList = new LinkedList();\n                addAfter(tokenList, tokenList.head, text);\n                matchGrammar(text, tokenList, grammar, tokenList.head, 0);\n                return toArray(tokenList);\n              },\n              hooks: {\n                all: {},\n                add: function (name, callback) {\n                  var hooks = _.hooks.all;\n                  hooks[name] = hooks[name] || [];\n                  hooks[name].push(callback);\n                },\n                run: function (name, env) {\n                  var callbacks = _.hooks.all[name];\n                  if (!callbacks || !callbacks.length) {\n                    return;\n                  }\n                  for (var i = 0, callback; callback = callbacks[i++];) {\n                    callback(env);\n                  }\n                }\n              },\n              Token: Token\n            };\n            _self.Prism = _;\n            function Token(type, content, alias, matchedStr) {\n              this.type = type;\n              this.content = content;\n              this.alias = alias;\n              this.length = (matchedStr || '').length | 0;\n            }\n            Token.stringify = function stringify(o, language) {\n              if (typeof o == 'string') {\n                return o;\n              }\n              if (Array.isArray(o)) {\n                var s = '';\n                o.forEach(function (e) {\n                  s += stringify(e, language);\n                });\n                return s;\n              }\n              var env = {\n                type: o.type,\n                content: stringify(o.content, language),\n                tag: 'span',\n                classes: [\n                  'token',\n                  o.type\n                ],\n                attributes: {},\n                language: language\n              };\n              var aliases = o.alias;\n              if (aliases) {\n                if (Array.isArray(aliases)) {\n                  Array.prototype.push.apply(env.classes, aliases);\n                } else {\n                  env.classes.push(aliases);\n                }\n              }\n              _.hooks.run('wrap', env);\n              var attributes = '';\n              for (var name in env.attributes) {\n                attributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n              }\n              return '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n            };\n            function matchPattern(pattern, pos, text, lookbehind) {\n              pattern.lastIndex = pos;\n              var match = pattern.exec(text);\n              if (match && lookbehind && match[1]) {\n                var lookbehindLength = match[1].length;\n                match.index += lookbehindLength;\n                match[0] = match[0].slice(lookbehindLength);\n              }\n              return match;\n            }\n            function matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n              for (var token in grammar) {\n                if (!grammar.hasOwnProperty(token) || !grammar[token]) {\n                  continue;\n                }\n                var patterns = grammar[token];\n                patterns = Array.isArray(patterns) ? patterns : [patterns];\n                for (var j = 0; j < patterns.length; ++j) {\n                  if (rematch && rematch.cause == token + ',' + j) {\n                    return;\n                  }\n                  var patternObj = patterns[j];\n                  var inside = patternObj.inside;\n                  var lookbehind = !!patternObj.lookbehind;\n                  var greedy = !!patternObj.greedy;\n                  var alias = patternObj.alias;\n                  if (greedy && !patternObj.pattern.global) {\n                    var flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n                    patternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n                  }\n                  var pattern = patternObj.pattern || patternObj;\n                  for (var currentNode = startNode.next, pos = startPos; currentNode !== tokenList.tail; pos += currentNode.value.length, currentNode = currentNode.next) {\n                    if (rematch && pos >= rematch.reach) {\n                      break;\n                    }\n                    var str = currentNode.value;\n                    if (tokenList.length > text.length) {\n                      return;\n                    }\n                    if (str instanceof Token) {\n                      continue;\n                    }\n                    var removeCount = 1;\n                    var match;\n                    if (greedy) {\n                      match = matchPattern(pattern, pos, text, lookbehind);\n                      if (!match) {\n                        break;\n                      }\n                      var from = match.index;\n                      var to = match.index + match[0].length;\n                      var p = pos;\n                      p += currentNode.value.length;\n                      while (from >= p) {\n                        currentNode = currentNode.next;\n                        p += currentNode.value.length;\n                      }\n                      p -= currentNode.value.length;\n                      pos = p;\n                      if (currentNode.value instanceof Token) {\n                        continue;\n                      }\n                      for (var k = currentNode; k !== tokenList.tail && (p < to || typeof k.value === 'string'); k = k.next) {\n                        removeCount++;\n                        p += k.value.length;\n                      }\n                      removeCount--;\n                      str = text.slice(pos, p);\n                      match.index -= pos;\n                    } else {\n                      match = matchPattern(pattern, 0, str, lookbehind);\n                      if (!match) {\n                        continue;\n                      }\n                    }\n                    var from = match.index;\n                    var matchStr = match[0];\n                    var before = str.slice(0, from);\n                    var after = str.slice(from + matchStr.length);\n                    var reach = pos + str.length;\n                    if (rematch && reach > rematch.reach) {\n                      rematch.reach = reach;\n                    }\n                    var removeFrom = currentNode.prev;\n                    if (before) {\n                      removeFrom = addAfter(tokenList, removeFrom, before);\n                      pos += before.length;\n                    }\n                    removeRange(tokenList, removeFrom, removeCount);\n                    var wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n                    currentNode = addAfter(tokenList, removeFrom, wrapped);\n                    if (after) {\n                      addAfter(tokenList, currentNode, after);\n                    }\n                    if (removeCount > 1) {\n                      var nestedRematch = {\n                        cause: token + ',' + j,\n                        reach: reach\n                      };\n                      matchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n                      if (rematch && nestedRematch.reach > rematch.reach) {\n                        rematch.reach = nestedRematch.reach;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n            function LinkedList() {\n              var head = {\n                value: null,\n                prev: null,\n                next: null\n              };\n              var tail = {\n                value: null,\n                prev: head,\n                next: null\n              };\n              head.next = tail;\n              this.head = head;\n              this.tail = tail;\n              this.length = 0;\n            }\n            function addAfter(list, node, value) {\n              var next = node.next;\n              var newNode = {\n                value: value,\n                prev: node,\n                next: next\n              };\n              node.next = newNode;\n              next.prev = newNode;\n              list.length++;\n              return newNode;\n            }\n            function removeRange(list, node, count) {\n              var next = node.next;\n              for (var i = 0; i < count && next !== list.tail; i++) {\n                next = next.next;\n              }\n              node.next = next;\n              next.prev = node;\n              list.length -= i;\n            }\n            function toArray(list) {\n              var array = [];\n              var node = list.head.next;\n              while (node !== list.tail) {\n                array.push(node.value);\n                node = node.next;\n              }\n              return array;\n            }\n            if (!_self.document) {\n              if (!_self.addEventListener) {\n                return _;\n              }\n              if (!_.disableWorkerMessageHandler) {\n                _self.addEventListener('message', function (evt) {\n                  var message = JSON.parse(evt.data);\n                  var lang = message.language;\n                  var code = message.code;\n                  var immediateClose = message.immediateClose;\n                  _self.postMessage(_.highlight(code, _.languages[lang], lang));\n                  if (immediateClose) {\n                    _self.close();\n                  }\n                }, false);\n              }\n              return _;\n            }\n            var script = _.util.currentScript();\n            if (script) {\n              _.filename = script.src;\n              if (script.hasAttribute('data-manual')) {\n                _.manual = true;\n              }\n            }\n            function highlightAutomaticallyCallback() {\n              if (!_.manual) {\n                _.highlightAll();\n              }\n            }\n            if (!_.manual) {\n              var readyState = document.readyState;\n              if (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n                document.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n              } else {\n                if (window.requestAnimationFrame) {\n                  window.requestAnimationFrame(highlightAutomaticallyCallback);\n                } else {\n                  window.setTimeout(highlightAutomaticallyCallback, 16);\n                }\n              }\n            }\n            return _;\n          }(_self);\n          if (module.exports) {\n            module.exports = Prism;\n          }\n          if (typeof commonjsGlobal !== 'undefined') {\n            commonjsGlobal.Prism = Prism;\n          }\n        }(prismCore));\n        Prism.languages.clike = {\n          'comment': [\n            {\n              pattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n              lookbehind: true,\n              greedy: true\n            },\n            {\n              pattern: /(^|[^\\\\:])\\/\\/.*/,\n              lookbehind: true,\n              greedy: true\n            }\n          ],\n          'string': {\n            pattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n            greedy: true\n          },\n          'class-name': {\n            pattern: /(\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n            lookbehind: true,\n            inside: { 'punctuation': /[.\\\\]/ }\n          },\n          'keyword': /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n          'boolean': /\\b(?:true|false)\\b/,\n          'function': /\\b\\w+(?=\\()/,\n          'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n          'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n          'punctuation': /[{}[\\];(),.:]/\n        };\n        (function (Prism) {\n          function getPlaceholder(language, index) {\n            return '___' + language.toUpperCase() + index + '___';\n          }\n          Object.defineProperties(Prism.languages['markup-templating'] = {}, {\n            buildPlaceholders: {\n              value: function (env, language, placeholderPattern, replaceFilter) {\n                if (env.language !== language) {\n                  return;\n                }\n                var tokenStack = env.tokenStack = [];\n                env.code = env.code.replace(placeholderPattern, function (match) {\n                  if (typeof replaceFilter === 'function' && !replaceFilter(match)) {\n                    return match;\n                  }\n                  var i = tokenStack.length;\n                  var placeholder;\n                  while (env.code.indexOf(placeholder = getPlaceholder(language, i)) !== -1) {\n                    ++i;\n                  }\n                  tokenStack[i] = match;\n                  return placeholder;\n                });\n                env.grammar = Prism.languages.markup;\n              }\n            },\n            tokenizePlaceholders: {\n              value: function (env, language) {\n                if (env.language !== language || !env.tokenStack) {\n                  return;\n                }\n                env.grammar = Prism.languages[language];\n                var j = 0;\n                var keys = Object.keys(env.tokenStack);\n                function walkTokens(tokens) {\n                  for (var i = 0; i < tokens.length; i++) {\n                    if (j >= keys.length) {\n                      break;\n                    }\n                    var token = tokens[i];\n                    if (typeof token === 'string' || token.content && typeof token.content === 'string') {\n                      var k = keys[j];\n                      var t = env.tokenStack[k];\n                      var s = typeof token === 'string' ? token : token.content;\n                      var placeholder = getPlaceholder(language, k);\n                      var index = s.indexOf(placeholder);\n                      if (index > -1) {\n                        ++j;\n                        var before = s.substring(0, index);\n                        var middle = new Prism.Token(language, Prism.tokenize(t, env.grammar), 'language-' + language, t);\n                        var after = s.substring(index + placeholder.length);\n                        var replacement = [];\n                        if (before) {\n                          replacement.push.apply(replacement, walkTokens([before]));\n                        }\n                        replacement.push(middle);\n                        if (after) {\n                          replacement.push.apply(replacement, walkTokens([after]));\n                        }\n                        if (typeof token === 'string') {\n                          tokens.splice.apply(tokens, [\n                            i,\n                            1\n                          ].concat(replacement));\n                        } else {\n                          token.content = replacement;\n                        }\n                      }\n                    } else if (token.content) {\n                      walkTokens(token.content);\n                    }\n                  }\n                  return tokens;\n                }\n                walkTokens(env.tokens);\n              }\n            }\n          });\n        }(Prism));\n        Prism.languages.c = Prism.languages.extend('clike', {\n          'comment': {\n            pattern: /\\/\\/(?:[^\\r\\n\\\\]|\\\\(?:\\r\\n?|\\n|(?![\\r\\n])))*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n            greedy: true\n          },\n          'class-name': {\n            pattern: /(\\b(?:enum|struct)\\s+(?:__attribute__\\s*\\(\\([\\s\\S]*?\\)\\)\\s*)?)\\w+|\\b[a-z]\\w*_t\\b/,\n            lookbehind: true\n          },\n          'keyword': /\\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\\b/,\n          'function': /\\b[a-z_]\\w*(?=\\s*\\()/i,\n          'number': /(?:\\b0x(?:[\\da-f]+(?:\\.[\\da-f]*)?|\\.[\\da-f]+)(?:p[+-]?\\d+)?|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?)[ful]{0,4}/i,\n          'operator': />>=?|<<=?|->|([-+&|:])\\1|[?:~]|[-+*/%&|^!=<>]=?/\n        });\n        Prism.languages.insertBefore('c', 'string', {\n          'macro': {\n            pattern: /(^[\\t ]*)#\\s*[a-z](?:[^\\r\\n\\\\/]|\\/(?!\\*)|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|\\\\(?:\\r\\n|[\\s\\S]))*/im,\n            lookbehind: true,\n            greedy: true,\n            alias: 'property',\n            inside: {\n              'string': [\n                {\n                  pattern: /^(#\\s*include\\s*)<[^>]+>/,\n                  lookbehind: true\n                },\n                Prism.languages.c['string']\n              ],\n              'comment': Prism.languages.c['comment'],\n              'macro-name': [\n                {\n                  pattern: /(^#\\s*define\\s+)\\w+\\b(?!\\()/i,\n                  lookbehind: true\n                },\n                {\n                  pattern: /(^#\\s*define\\s+)\\w+\\b(?=\\()/i,\n                  lookbehind: true,\n                  alias: 'function'\n                }\n              ],\n              'directive': {\n                pattern: /^(#\\s*)[a-z]+/,\n                lookbehind: true,\n                alias: 'keyword'\n              },\n              'directive-hash': /^#/,\n              'punctuation': /##|\\\\(?=[\\r\\n])/,\n              'expression': {\n                pattern: /\\S[\\s\\S]*/,\n                inside: Prism.languages.c\n              }\n            }\n          },\n          'constant': /\\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\\b/\n        });\n        delete Prism.languages.c['boolean'];\n        (function (Prism) {\n          var keyword = /\\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\\b/;\n          var modName = /\\b(?!<keyword>)\\w+(?:\\s*\\.\\s*\\w+)*\\b/.source.replace(/<keyword>/g, function () {\n            return keyword.source;\n          });\n          Prism.languages.cpp = Prism.languages.extend('c', {\n            'class-name': [\n              {\n                pattern: RegExp(/(\\b(?:class|concept|enum|struct|typename)\\s+)(?!<keyword>)\\w+/.source.replace(/<keyword>/g, function () {\n                  return keyword.source;\n                })),\n                lookbehind: true\n              },\n              /\\b[A-Z]\\w*(?=\\s*::\\s*\\w+\\s*\\()/,\n              /\\b[A-Z_]\\w*(?=\\s*::\\s*~\\w+\\s*\\()/i,\n              /\\b\\w+(?=\\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\\s*::\\s*\\w+\\s*\\()/\n            ],\n            'keyword': keyword,\n            'number': {\n              pattern: /(?:\\b0b[01']+|\\b0x(?:[\\da-f']+(?:\\.[\\da-f']*)?|\\.[\\da-f']+)(?:p[+-]?[\\d']+)?|(?:\\b[\\d']+(?:\\.[\\d']*)?|\\B\\.[\\d']+)(?:e[+-]?[\\d']+)?)[ful]{0,4}/i,\n              greedy: true\n            },\n            'operator': />>=?|<<=?|->|--|\\+\\+|&&|\\|\\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\\b/,\n            'boolean': /\\b(?:true|false)\\b/\n          });\n          Prism.languages.insertBefore('cpp', 'string', {\n            'module': {\n              pattern: RegExp(/(\\b(?:module|import)\\s+)/.source + '(?:' + /\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|<[^<>\\r\\n]*>/.source + '|' + /<mod-name>(?:\\s*:\\s*<mod-name>)?|:\\s*<mod-name>/.source.replace(/<mod-name>/g, function () {\n                return modName;\n              }) + ')'),\n              lookbehind: true,\n              greedy: true,\n              inside: {\n                'string': /^[<\"][\\s\\S]+/,\n                'operator': /:/,\n                'punctuation': /\\./\n              }\n            },\n            'raw-string': {\n              pattern: /R\"([^()\\\\ ]{0,16})\\([\\s\\S]*?\\)\\1\"/,\n              alias: 'string',\n              greedy: true\n            }\n          });\n          Prism.languages.insertBefore('cpp', 'keyword', {\n            'generic-function': {\n              pattern: /\\b(?!operator\\b)[a-z_]\\w*\\s*<(?:[^<>]|<[^<>]*>)*>(?=\\s*\\()/i,\n              inside: {\n                'function': /^\\w+/,\n                'generic': {\n                  pattern: /<[\\s\\S]+/,\n                  alias: 'class-name',\n                  inside: Prism.languages.cpp\n                }\n              }\n            }\n          });\n          Prism.languages.insertBefore('cpp', 'operator', {\n            'double-colon': {\n              pattern: /::/,\n              alias: 'punctuation'\n            }\n          });\n          Prism.languages.insertBefore('cpp', 'class-name', {\n            'base-clause': {\n              pattern: /(\\b(?:class|struct)\\s+\\w+\\s*:\\s*)[^;{}\"'\\s]+(?:\\s+[^;{}\"'\\s]+)*(?=\\s*[;{])/,\n              lookbehind: true,\n              greedy: true,\n              inside: Prism.languages.extend('cpp', {})\n            }\n          });\n          Prism.languages.insertBefore('inside', 'double-colon', { 'class-name': /\\b[a-z_]\\w*\\b(?!\\s*::)/i }, Prism.languages.cpp['base-clause']);\n        }(Prism));\n        (function (Prism) {\n          function replace(pattern, replacements) {\n            return pattern.replace(/<<(\\d+)>>/g, function (m, index) {\n              return '(?:' + replacements[+index] + ')';\n            });\n          }\n          function re(pattern, replacements, flags) {\n            return RegExp(replace(pattern, replacements), flags || '');\n          }\n          function nested(pattern, depthLog2) {\n            for (var i = 0; i < depthLog2; i++) {\n              pattern = pattern.replace(/<<self>>/g, function () {\n                return '(?:' + pattern + ')';\n              });\n            }\n            return pattern.replace(/<<self>>/g, '[^\\\\s\\\\S]');\n          }\n          var keywordKinds = {\n            type: 'bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void',\n            typeDeclaration: 'class enum interface record struct',\n            contextual: 'add alias and ascending async await by descending from(?=\\\\s*(?:\\\\w|$)) get global group into init(?=\\\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\\\s*{)',\n            other: 'abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield'\n          };\n          function keywordsToPattern(words) {\n            return '\\\\b(?:' + words.trim().replace(/ /g, '|') + ')\\\\b';\n          }\n          var typeDeclarationKeywords = keywordsToPattern(keywordKinds.typeDeclaration);\n          var keywords = RegExp(keywordsToPattern(keywordKinds.type + ' ' + keywordKinds.typeDeclaration + ' ' + keywordKinds.contextual + ' ' + keywordKinds.other));\n          var nonTypeKeywords = keywordsToPattern(keywordKinds.typeDeclaration + ' ' + keywordKinds.contextual + ' ' + keywordKinds.other);\n          var nonContextualKeywords = keywordsToPattern(keywordKinds.type + ' ' + keywordKinds.typeDeclaration + ' ' + keywordKinds.other);\n          var generic = nested(/<(?:[^<>;=+\\-*/%&|^]|<<self>>)*>/.source, 2);\n          var nestedRound = nested(/\\((?:[^()]|<<self>>)*\\)/.source, 2);\n          var name = /@?\\b[A-Za-z_]\\w*\\b/.source;\n          var genericName = replace(/<<0>>(?:\\s*<<1>>)?/.source, [\n            name,\n            generic\n          ]);\n          var identifier = replace(/(?!<<0>>)<<1>>(?:\\s*\\.\\s*<<1>>)*/.source, [\n            nonTypeKeywords,\n            genericName\n          ]);\n          var array = /\\[\\s*(?:,\\s*)*\\]/.source;\n          var typeExpressionWithoutTuple = replace(/<<0>>(?:\\s*(?:\\?\\s*)?<<1>>)*(?:\\s*\\?)?/.source, [\n            identifier,\n            array\n          ]);\n          var tupleElement = replace(/[^,()<>[\\];=+\\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source, [\n            generic,\n            nestedRound,\n            array\n          ]);\n          var tuple = replace(/\\(<<0>>+(?:,<<0>>+)+\\)/.source, [tupleElement]);\n          var typeExpression = replace(/(?:<<0>>|<<1>>)(?:\\s*(?:\\?\\s*)?<<2>>)*(?:\\s*\\?)?/.source, [\n            tuple,\n            identifier,\n            array\n          ]);\n          var typeInside = {\n            'keyword': keywords,\n            'punctuation': /[<>()?,.:[\\]]/\n          };\n          var character = /'(?:[^\\r\\n'\\\\]|\\\\.|\\\\[Uux][\\da-fA-F]{1,8})'/.source;\n          var regularString = /\"(?:\\\\.|[^\\\\\"\\r\\n])*\"/.source;\n          var verbatimString = /@\"(?:\"\"|\\\\[\\s\\S]|[^\\\\\"])*\"(?!\")/.source;\n          Prism.languages.csharp = Prism.languages.extend('clike', {\n            'string': [\n              {\n                pattern: re(/(^|[^$\\\\])<<0>>/.source, [verbatimString]),\n                lookbehind: true,\n                greedy: true\n              },\n              {\n                pattern: re(/(^|[^@$\\\\])<<0>>/.source, [regularString]),\n                lookbehind: true,\n                greedy: true\n              },\n              {\n                pattern: RegExp(character),\n                greedy: true,\n                alias: 'character'\n              }\n            ],\n            'class-name': [\n              {\n                pattern: re(/(\\busing\\s+static\\s+)<<0>>(?=\\s*;)/.source, [identifier]),\n                lookbehind: true,\n                inside: typeInside\n              },\n              {\n                pattern: re(/(\\busing\\s+<<0>>\\s*=\\s*)<<1>>(?=\\s*;)/.source, [\n                  name,\n                  typeExpression\n                ]),\n                lookbehind: true,\n                inside: typeInside\n              },\n              {\n                pattern: re(/(\\busing\\s+)<<0>>(?=\\s*=)/.source, [name]),\n                lookbehind: true\n              },\n              {\n                pattern: re(/(\\b<<0>>\\s+)<<1>>/.source, [\n                  typeDeclarationKeywords,\n                  genericName\n                ]),\n                lookbehind: true,\n                inside: typeInside\n              },\n              {\n                pattern: re(/(\\bcatch\\s*\\(\\s*)<<0>>/.source, [identifier]),\n                lookbehind: true,\n                inside: typeInside\n              },\n              {\n                pattern: re(/(\\bwhere\\s+)<<0>>/.source, [name]),\n                lookbehind: true\n              },\n              {\n                pattern: re(/(\\b(?:is(?:\\s+not)?|as)\\s+)<<0>>/.source, [typeExpressionWithoutTuple]),\n                lookbehind: true,\n                inside: typeInside\n              },\n              {\n                pattern: re(/\\b<<0>>(?=\\s+(?!<<1>>|with\\s*\\{)<<2>>(?:\\s*[=,;:{)\\]]|\\s+(?:in|when)\\b))/.source, [\n                  typeExpression,\n                  nonContextualKeywords,\n                  name\n                ]),\n                inside: typeInside\n              }\n            ],\n            'keyword': keywords,\n            'number': /(?:\\b0(?:x[\\da-f_]*[\\da-f]|b[01_]*[01])|(?:\\B\\.\\d+(?:_+\\d+)*|\\b\\d+(?:_+\\d+)*(?:\\.\\d+(?:_+\\d+)*)?)(?:e[-+]?\\d+(?:_+\\d+)*)?)(?:ul|lu|[dflmu])?\\b/i,\n            'operator': />>=?|<<=?|[-=]>|([-+&|])\\1|~|\\?\\?=?|[-+*/%&|^!=<>]=?/,\n            'punctuation': /\\?\\.?|::|[{}[\\];(),.:]/\n          });\n          Prism.languages.insertBefore('csharp', 'number', {\n            'range': {\n              pattern: /\\.\\./,\n              alias: 'operator'\n            }\n          });\n          Prism.languages.insertBefore('csharp', 'punctuation', {\n            'named-parameter': {\n              pattern: re(/([(,]\\s*)<<0>>(?=\\s*:)/.source, [name]),\n              lookbehind: true,\n              alias: 'punctuation'\n            }\n          });\n          Prism.languages.insertBefore('csharp', 'class-name', {\n            'namespace': {\n              pattern: re(/(\\b(?:namespace|using)\\s+)<<0>>(?:\\s*\\.\\s*<<0>>)*(?=\\s*[;{])/.source, [name]),\n              lookbehind: true,\n              inside: { 'punctuation': /\\./ }\n            },\n            'type-expression': {\n              pattern: re(/(\\b(?:default|typeof|sizeof)\\s*\\(\\s*(?!\\s))(?:[^()\\s]|\\s(?!\\s)|<<0>>)*(?=\\s*\\))/.source, [nestedRound]),\n              lookbehind: true,\n              alias: 'class-name',\n              inside: typeInside\n            },\n            'return-type': {\n              pattern: re(/<<0>>(?=\\s+(?:<<1>>\\s*(?:=>|[({]|\\.\\s*this\\s*\\[)|this\\s*\\[))/.source, [\n                typeExpression,\n                identifier\n              ]),\n              inside: typeInside,\n              alias: 'class-name'\n            },\n            'constructor-invocation': {\n              pattern: re(/(\\bnew\\s+)<<0>>(?=\\s*[[({])/.source, [typeExpression]),\n              lookbehind: true,\n              inside: typeInside,\n              alias: 'class-name'\n            },\n            'generic-method': {\n              pattern: re(/<<0>>\\s*<<1>>(?=\\s*\\()/.source, [\n                name,\n                generic\n              ]),\n              inside: {\n                'function': re(/^<<0>>/.source, [name]),\n                'generic': {\n                  pattern: RegExp(generic),\n                  alias: 'class-name',\n                  inside: typeInside\n                }\n              }\n            },\n            'type-list': {\n              pattern: re(/\\b((?:<<0>>\\s+<<1>>|record\\s+<<1>>\\s*<<5>>|where\\s+<<2>>)\\s*:\\s*)(?:<<3>>|<<4>>|<<1>>\\s*<<5>>|<<6>>)(?:\\s*,\\s*(?:<<3>>|<<4>>|<<6>>))*(?=\\s*(?:where|[{;]|=>|$))/.source, [\n                typeDeclarationKeywords,\n                genericName,\n                name,\n                typeExpression,\n                keywords.source,\n                nestedRound,\n                /\\bnew\\s*\\(\\s*\\)/.source\n              ]),\n              lookbehind: true,\n              inside: {\n                'record-arguments': {\n                  pattern: re(/(^(?!new\\s*\\()<<0>>\\s*)<<1>>/.source, [\n                    genericName,\n                    nestedRound\n                  ]),\n                  lookbehind: true,\n                  greedy: true,\n                  inside: Prism.languages.csharp\n                },\n                'keyword': keywords,\n                'class-name': {\n                  pattern: RegExp(typeExpression),\n                  greedy: true,\n                  inside: typeInside\n                },\n                'punctuation': /[,()]/\n              }\n            },\n            'preprocessor': {\n              pattern: /(^[\\t ]*)#.*/m,\n              lookbehind: true,\n              alias: 'property',\n              inside: {\n                'directive': {\n                  pattern: /(#)\\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\\b/,\n                  lookbehind: true,\n                  alias: 'keyword'\n                }\n              }\n            }\n          });\n          var regularStringOrCharacter = regularString + '|' + character;\n          var regularStringCharacterOrComment = replace(/\\/(?![*/])|\\/\\/[^\\r\\n]*[\\r\\n]|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|<<0>>/.source, [regularStringOrCharacter]);\n          var roundExpression = nested(replace(/[^\"'/()]|<<0>>|\\(<<self>>*\\)/.source, [regularStringCharacterOrComment]), 2);\n          var attrTarget = /\\b(?:assembly|event|field|method|module|param|property|return|type)\\b/.source;\n          var attr = replace(/<<0>>(?:\\s*\\(<<1>>*\\))?/.source, [\n            identifier,\n            roundExpression\n          ]);\n          Prism.languages.insertBefore('csharp', 'class-name', {\n            'attribute': {\n              pattern: re(/((?:^|[^\\s\\w>)?])\\s*\\[\\s*)(?:<<0>>\\s*:\\s*)?<<1>>(?:\\s*,\\s*<<1>>)*(?=\\s*\\])/.source, [\n                attrTarget,\n                attr\n              ]),\n              lookbehind: true,\n              greedy: true,\n              inside: {\n                'target': {\n                  pattern: re(/^<<0>>(?=\\s*:)/.source, [attrTarget]),\n                  alias: 'keyword'\n                },\n                'attribute-arguments': {\n                  pattern: re(/\\(<<0>>*\\)/.source, [roundExpression]),\n                  inside: Prism.languages.csharp\n                },\n                'class-name': {\n                  pattern: RegExp(identifier),\n                  inside: { 'punctuation': /\\./ }\n                },\n                'punctuation': /[:,]/\n              }\n            }\n          });\n          var formatString = /:[^}\\r\\n]+/.source;\n          var mInterpolationRound = nested(replace(/[^\"'/()]|<<0>>|\\(<<self>>*\\)/.source, [regularStringCharacterOrComment]), 2);\n          var mInterpolation = replace(/\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}/.source, [\n            mInterpolationRound,\n            formatString\n          ]);\n          var sInterpolationRound = nested(replace(/[^\"'/()]|\\/(?!\\*)|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|<<0>>|\\(<<self>>*\\)/.source, [regularStringOrCharacter]), 2);\n          var sInterpolation = replace(/\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}/.source, [\n            sInterpolationRound,\n            formatString\n          ]);\n          function createInterpolationInside(interpolation, interpolationRound) {\n            return {\n              'interpolation': {\n                pattern: re(/((?:^|[^{])(?:\\{\\{)*)<<0>>/.source, [interpolation]),\n                lookbehind: true,\n                inside: {\n                  'format-string': {\n                    pattern: re(/(^\\{(?:(?![}:])<<0>>)*)<<1>>(?=\\}$)/.source, [\n                      interpolationRound,\n                      formatString\n                    ]),\n                    lookbehind: true,\n                    inside: { 'punctuation': /^:/ }\n                  },\n                  'punctuation': /^\\{|\\}$/,\n                  'expression': {\n                    pattern: /[\\s\\S]+/,\n                    alias: 'language-csharp',\n                    inside: Prism.languages.csharp\n                  }\n                }\n              },\n              'string': /[\\s\\S]+/\n            };\n          }\n          Prism.languages.insertBefore('csharp', 'string', {\n            'interpolation-string': [\n              {\n                pattern: re(/(^|[^\\\\])(?:\\$@|@\\$)\"(?:\"\"|\\\\[\\s\\S]|\\{\\{|<<0>>|[^\\\\{\"])*\"/.source, [mInterpolation]),\n                lookbehind: true,\n                greedy: true,\n                inside: createInterpolationInside(mInterpolation, mInterpolationRound)\n              },\n              {\n                pattern: re(/(^|[^@\\\\])\\$\"(?:\\\\.|\\{\\{|<<0>>|[^\\\\\"{])*\"/.source, [sInterpolation]),\n                lookbehind: true,\n                greedy: true,\n                inside: createInterpolationInside(sInterpolation, sInterpolationRound)\n              }\n            ]\n          });\n        }(Prism));\n        Prism.languages.dotnet = Prism.languages.cs = Prism.languages.csharp;\n        (function (Prism) {\n          var string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n          Prism.languages.css = {\n            'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n            'atrule': {\n              pattern: /@[\\w-](?:[^;{\\s]|\\s+(?![\\s{]))*(?:;|(?=\\s*\\{))/,\n              inside: {\n                'rule': /^@[\\w-]+/,\n                'selector-function-argument': {\n                  pattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n                  lookbehind: true,\n                  alias: 'selector'\n                },\n                'keyword': {\n                  pattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n                  lookbehind: true\n                }\n              }\n            },\n            'url': {\n              pattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n              greedy: true,\n              inside: {\n                'function': /^url/i,\n                'punctuation': /^\\(|\\)$/,\n                'string': {\n                  pattern: RegExp('^' + string.source + '$'),\n                  alias: 'url'\n                }\n              }\n            },\n            'selector': {\n              pattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n              lookbehind: true\n            },\n            'string': {\n              pattern: string,\n              greedy: true\n            },\n            'property': {\n              pattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n              lookbehind: true\n            },\n            'important': /!important\\b/i,\n            'function': {\n              pattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n              lookbehind: true\n            },\n            'punctuation': /[(){};:,]/\n          };\n          Prism.languages.css['atrule'].inside.rest = Prism.languages.css;\n          var markup = Prism.languages.markup;\n          if (markup) {\n            markup.tag.addInlined('style', 'css');\n            markup.tag.addAttribute('style', 'css');\n          }\n        }(Prism));\n        (function (Prism) {\n          var keywords = /\\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\\b/;\n          var classNamePrefix = /(^|[^\\w.])(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*/.source;\n          var className = {\n            pattern: RegExp(classNamePrefix + /[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b/.source),\n            lookbehind: true,\n            inside: {\n              'namespace': {\n                pattern: /^[a-z]\\w*(?:\\s*\\.\\s*[a-z]\\w*)*(?:\\s*\\.)?/,\n                inside: { 'punctuation': /\\./ }\n              },\n              'punctuation': /\\./\n            }\n          };\n          Prism.languages.java = Prism.languages.extend('clike', {\n            'class-name': [\n              className,\n              {\n                pattern: RegExp(classNamePrefix + /[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()])/.source),\n                lookbehind: true,\n                inside: className.inside\n              }\n            ],\n            'keyword': keywords,\n            'function': [\n              Prism.languages.clike.function,\n              {\n                pattern: /(::\\s*)[a-z_]\\w*/,\n                lookbehind: true\n              }\n            ],\n            'number': /\\b0b[01][01_]*L?\\b|\\b0x(?:\\.[\\da-f_p+-]+|[\\da-f_]+(?:\\.[\\da-f_p+-]+)?)\\b|(?:\\b\\d[\\d_]*(?:\\.[\\d_]*)?|\\B\\.\\d[\\d_]*)(?:e[+-]?\\d[\\d_]*)?[dfl]?/i,\n            'operator': {\n              pattern: /(^|[^.])(?:<<=?|>>>?=?|->|--|\\+\\+|&&|\\|\\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,\n              lookbehind: true\n            }\n          });\n          Prism.languages.insertBefore('java', 'string', {\n            'triple-quoted-string': {\n              pattern: /\"\"\"[ \\t]*[\\r\\n](?:(?:\"|\"\")?(?:\\\\.|[^\"\\\\]))*\"\"\"/,\n              greedy: true,\n              alias: 'string'\n            }\n          });\n          Prism.languages.insertBefore('java', 'class-name', {\n            'annotation': {\n              pattern: /(^|[^.])@\\w+(?:\\s*\\.\\s*\\w+)*/,\n              lookbehind: true,\n              alias: 'punctuation'\n            },\n            'generics': {\n              pattern: /<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&))*>)*>)*>)*>/,\n              inside: {\n                'class-name': className,\n                'keyword': keywords,\n                'punctuation': /[<>(),.:]/,\n                'operator': /[?&|]/\n              }\n            },\n            'namespace': {\n              pattern: RegExp(/(\\b(?:exports|import(?:\\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\\s+)(?!<keyword>)[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?/.source.replace(/<keyword>/g, function () {\n                return keywords.source;\n              })),\n              lookbehind: true,\n              inside: { 'punctuation': /\\./ }\n            }\n          });\n        }(Prism));\n        Prism.languages.javascript = Prism.languages.extend('clike', {\n          'class-name': [\n            Prism.languages.clike['class-name'],\n            {\n              pattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:prototype|constructor))/,\n              lookbehind: true\n            }\n          ],\n          'keyword': [\n            {\n              pattern: /((?:^|\\})\\s*)catch\\b/,\n              lookbehind: true\n            },\n            {\n              pattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n              lookbehind: true\n            }\n          ],\n          'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n          'number': /\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,\n          'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n        });\n        Prism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/;\n        Prism.languages.insertBefore('javascript', 'keyword', {\n          'regex': {\n            pattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,\n            lookbehind: true,\n            greedy: true,\n            inside: {\n              'regex-source': {\n                pattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n                lookbehind: true,\n                alias: 'language-regex',\n                inside: Prism.languages.regex\n              },\n              'regex-delimiter': /^\\/|\\/$/,\n              'regex-flags': /^[a-z]+$/\n            }\n          },\n          'function-variable': {\n            pattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n            alias: 'function'\n          },\n          'parameter': [\n            {\n              pattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n              lookbehind: true,\n              inside: Prism.languages.javascript\n            },\n            {\n              pattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n              lookbehind: true,\n              inside: Prism.languages.javascript\n            },\n            {\n              pattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n              lookbehind: true,\n              inside: Prism.languages.javascript\n            },\n            {\n              pattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n              lookbehind: true,\n              inside: Prism.languages.javascript\n            }\n          ],\n          'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n        });\n        Prism.languages.insertBefore('javascript', 'string', {\n          'hashbang': {\n            pattern: /^#!.*/,\n            greedy: true,\n            alias: 'comment'\n          },\n          'template-string': {\n            pattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n            greedy: true,\n            inside: {\n              'template-punctuation': {\n                pattern: /^`|`$/,\n                alias: 'string'\n              },\n              'interpolation': {\n                pattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n                lookbehind: true,\n                inside: {\n                  'interpolation-punctuation': {\n                    pattern: /^\\$\\{|\\}$/,\n                    alias: 'punctuation'\n                  },\n                  rest: Prism.languages.javascript\n                }\n              },\n              'string': /[\\s\\S]+/\n            }\n          }\n        });\n        if (Prism.languages.markup) {\n          Prism.languages.markup.tag.addInlined('script', 'javascript');\n          Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source, 'javascript');\n        }\n        Prism.languages.js = Prism.languages.javascript;\n        Prism.languages.markup = {\n          'comment': {\n            pattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n            greedy: true\n          },\n          'prolog': {\n            pattern: /<\\?[\\s\\S]+?\\?>/,\n            greedy: true\n          },\n          'doctype': {\n            pattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n            greedy: true,\n            inside: {\n              'internal-subset': {\n                pattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n                lookbehind: true,\n                greedy: true,\n                inside: null\n              },\n              'string': {\n                pattern: /\"[^\"]*\"|'[^']*'/,\n                greedy: true\n              },\n              'punctuation': /^<!|>$|[[\\]]/,\n              'doctype-tag': /^DOCTYPE/i,\n              'name': /[^\\s<>'\"]+/\n            }\n          },\n          'cdata': {\n            pattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n            greedy: true\n          },\n          'tag': {\n            pattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n            greedy: true,\n            inside: {\n              'tag': {\n                pattern: /^<\\/?[^\\s>\\/]+/,\n                inside: {\n                  'punctuation': /^<\\/?/,\n                  'namespace': /^[^\\s>\\/:]+:/\n                }\n              },\n              'special-attr': [],\n              'attr-value': {\n                pattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n                inside: {\n                  'punctuation': [\n                    {\n                      pattern: /^=/,\n                      alias: 'attr-equals'\n                    },\n                    /\"|'/\n                  ]\n                }\n              },\n              'punctuation': /\\/?>/,\n              'attr-name': {\n                pattern: /[^\\s>\\/]+/,\n                inside: { 'namespace': /^[^\\s>\\/:]+:/ }\n              }\n            }\n          },\n          'entity': [\n            {\n              pattern: /&[\\da-z]{1,8};/i,\n              alias: 'named-entity'\n            },\n            /&#x?[\\da-f]{1,8};/i\n          ]\n        };\n        Prism.languages.markup['tag'].inside['attr-value'].inside['entity'] = Prism.languages.markup['entity'];\n        Prism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n        Prism.hooks.add('wrap', function (env) {\n          if (env.type === 'entity') {\n            env.attributes['title'] = env.content.replace(/&amp;/, '&');\n          }\n        });\n        Object.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n          value: function addInlined(tagName, lang) {\n            var includedCdataInside = {};\n            includedCdataInside['language-' + lang] = {\n              pattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n              lookbehind: true,\n              inside: Prism.languages[lang]\n            };\n            includedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n            var inside = {\n              'included-cdata': {\n                pattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n                inside: includedCdataInside\n              }\n            };\n            inside['language-' + lang] = {\n              pattern: /[\\s\\S]+/,\n              inside: Prism.languages[lang]\n            };\n            var def = {};\n            def[tagName] = {\n              pattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () {\n                return tagName;\n              }), 'i'),\n              lookbehind: true,\n              greedy: true,\n              inside: inside\n            };\n            Prism.languages.insertBefore('markup', 'cdata', def);\n          }\n        });\n        Object.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n          value: function (attrName, lang) {\n            Prism.languages.markup.tag.inside['special-attr'].push({\n              pattern: RegExp(/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source, 'i'),\n              lookbehind: true,\n              inside: {\n                'attr-name': /^[^\\s=]+/,\n                'attr-value': {\n                  pattern: /=[\\s\\S]+/,\n                  inside: {\n                    'value': {\n                      pattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n                      lookbehind: true,\n                      alias: [\n                        lang,\n                        'language-' + lang\n                      ],\n                      inside: Prism.languages[lang]\n                    },\n                    'punctuation': [\n                      {\n                        pattern: /^=/,\n                        alias: 'attr-equals'\n                      },\n                      /\"|'/\n                    ]\n                  }\n                }\n              }\n            });\n          }\n        });\n        Prism.languages.html = Prism.languages.markup;\n        Prism.languages.mathml = Prism.languages.markup;\n        Prism.languages.svg = Prism.languages.markup;\n        Prism.languages.xml = Prism.languages.extend('markup', {});\n        Prism.languages.ssml = Prism.languages.xml;\n        Prism.languages.atom = Prism.languages.xml;\n        Prism.languages.rss = Prism.languages.xml;\n        (function (Prism) {\n          var comment = /\\/\\*[\\s\\S]*?\\*\\/|\\/\\/.*|#(?!\\[).*/;\n          var constant = [\n            {\n              pattern: /\\b(?:false|true)\\b/i,\n              alias: 'boolean'\n            },\n            {\n              pattern: /(::\\s*)\\b[a-z_]\\w*\\b(?!\\s*\\()/i,\n              greedy: true,\n              lookbehind: true\n            },\n            {\n              pattern: /(\\b(?:case|const)\\s+)\\b[a-z_]\\w*(?=\\s*[;=])/i,\n              greedy: true,\n              lookbehind: true\n            },\n            /\\b(?:null)\\b/i,\n            /\\b[A-Z_][A-Z0-9_]*\\b(?!\\s*\\()/\n          ];\n          var number = /\\b0b[01]+(?:_[01]+)*\\b|\\b0o[0-7]+(?:_[0-7]+)*\\b|\\b0x[\\da-f]+(?:_[\\da-f]+)*\\b|(?:\\b\\d+(?:_\\d+)*\\.?(?:\\d+(?:_\\d+)*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i;\n          var operator = /<?=>|\\?\\?=?|\\.{3}|\\??->|[!=]=?=?|::|\\*\\*=?|--|\\+\\+|&&|\\|\\||<<|>>|[?~]|[/^|%*&<>.+-]=?/;\n          var punctuation = /[{}\\[\\](),:;]/;\n          Prism.languages.php = {\n            'delimiter': {\n              pattern: /\\?>$|^<\\?(?:php(?=\\s)|=)?/i,\n              alias: 'important'\n            },\n            'comment': comment,\n            'variable': /\\$+(?:\\w+\\b|(?=\\{))/i,\n            'package': {\n              pattern: /(namespace\\s+|use\\s+(?:function\\s+)?)(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n              lookbehind: true,\n              inside: { 'punctuation': /\\\\/ }\n            },\n            'class-name-definition': {\n              pattern: /(\\b(?:class|enum|interface|trait)\\s+)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n              lookbehind: true,\n              alias: 'class-name'\n            },\n            'function-definition': {\n              pattern: /(\\bfunction\\s+)[a-z_]\\w*(?=\\s*\\()/i,\n              lookbehind: true,\n              alias: 'function'\n            },\n            'keyword': [\n              {\n                pattern: /(\\(\\s*)\\b(?:bool|boolean|int|integer|float|string|object|array)\\b(?=\\s*\\))/i,\n                alias: 'type-casting',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /([(,?]\\s*)\\b(?:bool|int|float|string|object|array(?!\\s*\\()|mixed|self|static|callable|iterable|(?:null|false)(?=\\s*\\|))\\b(?=\\s*\\$)/i,\n                alias: 'type-hint',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /([(,?]\\s*[\\w|]\\|\\s*)(?:null|false)\\b(?=\\s*\\$)/i,\n                alias: 'type-hint',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)\\b(?:bool|int|float|string|object|void|array(?!\\s*\\()|mixed|self|static|callable|iterable|(?:null|false)(?=\\s*\\|))\\b/i,\n                alias: 'return-type',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /(\\)\\s*:\\s*(?:\\?\\s*)?[\\w|]\\|\\s*)(?:null|false)\\b/i,\n                alias: 'return-type',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /\\b(?:bool|int|float|string|object|void|array(?!\\s*\\()|mixed|iterable|(?:null|false)(?=\\s*\\|))\\b/i,\n                alias: 'type-declaration',\n                greedy: true\n              },\n              {\n                pattern: /(\\|\\s*)(?:null|false)\\b/i,\n                alias: 'type-declaration',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /\\b(?:parent|self|static)(?=\\s*::)/i,\n                alias: 'static-context',\n                greedy: true\n              },\n              {\n                pattern: /(\\byield\\s+)from\\b/i,\n                lookbehind: true\n              },\n              /\\bclass\\b/i,\n              {\n                pattern: /((?:^|[^\\s>:]|(?:^|[^-])>|(?:^|[^:]):)\\s*)\\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\\b/i,\n                lookbehind: true\n              }\n            ],\n            'argument-name': {\n              pattern: /([(,]\\s+)\\b[a-z_]\\w*(?=\\s*:(?!:))/i,\n              lookbehind: true\n            },\n            'class-name': [\n              {\n                pattern: /(\\b(?:extends|implements|instanceof|new(?!\\s+self|\\s+static))\\s+|\\bcatch\\s*\\()\\b[a-z_]\\w*(?!\\\\)\\b/i,\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /(\\|\\s*)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /\\b[a-z_]\\w*(?!\\\\)\\b(?=\\s*\\|)/i,\n                greedy: true\n              },\n              {\n                pattern: /(\\|\\s*)(?:\\\\?\\b[a-z_]\\w*)+\\b/i,\n                alias: 'class-name-fully-qualified',\n                greedy: true,\n                lookbehind: true,\n                inside: { 'punctuation': /\\\\/ }\n              },\n              {\n                pattern: /(?:\\\\?\\b[a-z_]\\w*)+\\b(?=\\s*\\|)/i,\n                alias: 'class-name-fully-qualified',\n                greedy: true,\n                inside: { 'punctuation': /\\\\/ }\n              },\n              {\n                pattern: /(\\b(?:extends|implements|instanceof|new(?!\\s+self\\b|\\s+static\\b))\\s+|\\bcatch\\s*\\()(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n                alias: 'class-name-fully-qualified',\n                greedy: true,\n                lookbehind: true,\n                inside: { 'punctuation': /\\\\/ }\n              },\n              {\n                pattern: /\\b[a-z_]\\w*(?=\\s*\\$)/i,\n                alias: 'type-declaration',\n                greedy: true\n              },\n              {\n                pattern: /(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*\\$)/i,\n                alias: [\n                  'class-name-fully-qualified',\n                  'type-declaration'\n                ],\n                greedy: true,\n                inside: { 'punctuation': /\\\\/ }\n              },\n              {\n                pattern: /\\b[a-z_]\\w*(?=\\s*::)/i,\n                alias: 'static-context',\n                greedy: true\n              },\n              {\n                pattern: /(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*::)/i,\n                alias: [\n                  'class-name-fully-qualified',\n                  'static-context'\n                ],\n                greedy: true,\n                inside: { 'punctuation': /\\\\/ }\n              },\n              {\n                pattern: /([(,?]\\s*)[a-z_]\\w*(?=\\s*\\$)/i,\n                alias: 'type-hint',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /([(,?]\\s*)(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*\\$)/i,\n                alias: [\n                  'class-name-fully-qualified',\n                  'type-hint'\n                ],\n                greedy: true,\n                lookbehind: true,\n                inside: { 'punctuation': /\\\\/ }\n              },\n              {\n                pattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n                alias: 'return-type',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n                alias: [\n                  'class-name-fully-qualified',\n                  'return-type'\n                ],\n                greedy: true,\n                lookbehind: true,\n                inside: { 'punctuation': /\\\\/ }\n              }\n            ],\n            'constant': constant,\n            'function': {\n              pattern: /(^|[^\\\\\\w])\\\\?[a-z_](?:[\\w\\\\]*\\w)?(?=\\s*\\()/i,\n              lookbehind: true,\n              inside: { 'punctuation': /\\\\/ }\n            },\n            'property': {\n              pattern: /(->\\s*)\\w+/,\n              lookbehind: true\n            },\n            'number': number,\n            'operator': operator,\n            'punctuation': punctuation\n          };\n          var string_interpolation = {\n            pattern: /\\{\\$(?:\\{(?:\\{[^{}]+\\}|[^{}]+)\\}|[^{}])+\\}|(^|[^\\\\{])\\$+(?:\\w+(?:\\[[^\\r\\n\\[\\]]+\\]|->\\w+)?)/,\n            lookbehind: true,\n            inside: Prism.languages.php\n          };\n          var string = [\n            {\n              pattern: /<<<'([^']+)'[\\r\\n](?:.*[\\r\\n])*?\\1;/,\n              alias: 'nowdoc-string',\n              greedy: true,\n              inside: {\n                'delimiter': {\n                  pattern: /^<<<'[^']+'|[a-z_]\\w*;$/i,\n                  alias: 'symbol',\n                  inside: { 'punctuation': /^<<<'?|[';]$/ }\n                }\n              }\n            },\n            {\n              pattern: /<<<(?:\"([^\"]+)\"[\\r\\n](?:.*[\\r\\n])*?\\1;|([a-z_]\\w*)[\\r\\n](?:.*[\\r\\n])*?\\2;)/i,\n              alias: 'heredoc-string',\n              greedy: true,\n              inside: {\n                'delimiter': {\n                  pattern: /^<<<(?:\"[^\"]+\"|[a-z_]\\w*)|[a-z_]\\w*;$/i,\n                  alias: 'symbol',\n                  inside: { 'punctuation': /^<<<\"?|[\";]$/ }\n                },\n                'interpolation': string_interpolation\n              }\n            },\n            {\n              pattern: /`(?:\\\\[\\s\\S]|[^\\\\`])*`/,\n              alias: 'backtick-quoted-string',\n              greedy: true\n            },\n            {\n              pattern: /'(?:\\\\[\\s\\S]|[^\\\\'])*'/,\n              alias: 'single-quoted-string',\n              greedy: true\n            },\n            {\n              pattern: /\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"/,\n              alias: 'double-quoted-string',\n              greedy: true,\n              inside: { 'interpolation': string_interpolation }\n            }\n          ];\n          Prism.languages.insertBefore('php', 'variable', {\n            'string': string,\n            'attribute': {\n              pattern: /#\\[(?:[^\"'\\/#]|\\/(?![*/])|\\/\\/.*$|#(?!\\[).*$|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"|'(?:\\\\[\\s\\S]|[^\\\\'])*')+\\](?=\\s*[a-z$#])/im,\n              greedy: true,\n              inside: {\n                'attribute-content': {\n                  pattern: /^(#\\[)[\\s\\S]+(?=\\]$)/,\n                  lookbehind: true,\n                  inside: {\n                    'comment': comment,\n                    'string': string,\n                    'attribute-class-name': [\n                      {\n                        pattern: /([^:]|^)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n                        alias: 'class-name',\n                        greedy: true,\n                        lookbehind: true\n                      },\n                      {\n                        pattern: /([^:]|^)(?:\\\\?\\b[a-z_]\\w*)+/i,\n                        alias: [\n                          'class-name',\n                          'class-name-fully-qualified'\n                        ],\n                        greedy: true,\n                        lookbehind: true,\n                        inside: { 'punctuation': /\\\\/ }\n                      }\n                    ],\n                    'constant': constant,\n                    'number': number,\n                    'operator': operator,\n                    'punctuation': punctuation\n                  }\n                },\n                'delimiter': {\n                  pattern: /^#\\[|\\]$/,\n                  alias: 'punctuation'\n                }\n              }\n            }\n          });\n          Prism.hooks.add('before-tokenize', function (env) {\n            if (!/<\\?/.test(env.code)) {\n              return;\n            }\n            var phpPattern = /<\\?(?:[^\"'/#]|\\/(?![*/])|(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|(?:\\/\\/|#(?!\\[))(?:[^?\\n\\r]|\\?(?!>))*(?=$|\\?>|[\\r\\n])|#\\[|\\/\\*(?:[^*]|\\*(?!\\/))*(?:\\*\\/|$))*?(?:\\?>|$)/gi;\n            Prism.languages['markup-templating'].buildPlaceholders(env, 'php', phpPattern);\n          });\n          Prism.hooks.add('after-tokenize', function (env) {\n            Prism.languages['markup-templating'].tokenizePlaceholders(env, 'php');\n          });\n        }(Prism));\n        Prism.languages.python = {\n          'comment': {\n            pattern: /(^|[^\\\\])#.*/,\n            lookbehind: true\n          },\n          'string-interpolation': {\n            pattern: /(?:f|rf|fr)(?:(\"\"\"|''')[\\s\\S]*?\\1|(\"|')(?:\\\\.|(?!\\2)[^\\\\\\r\\n])*\\2)/i,\n            greedy: true,\n            inside: {\n              'interpolation': {\n                pattern: /((?:^|[^{])(?:\\{\\{)*)\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}])+\\})+\\})+\\}/,\n                lookbehind: true,\n                inside: {\n                  'format-spec': {\n                    pattern: /(:)[^:(){}]+(?=\\}$)/,\n                    lookbehind: true\n                  },\n                  'conversion-option': {\n                    pattern: /![sra](?=[:}]$)/,\n                    alias: 'punctuation'\n                  },\n                  rest: null\n                }\n              },\n              'string': /[\\s\\S]+/\n            }\n          },\n          'triple-quoted-string': {\n            pattern: /(?:[rub]|rb|br)?(\"\"\"|''')[\\s\\S]*?\\1/i,\n            greedy: true,\n            alias: 'string'\n          },\n          'string': {\n            pattern: /(?:[rub]|rb|br)?(\"|')(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/i,\n            greedy: true\n          },\n          'function': {\n            pattern: /((?:^|\\s)def[ \\t]+)[a-zA-Z_]\\w*(?=\\s*\\()/g,\n            lookbehind: true\n          },\n          'class-name': {\n            pattern: /(\\bclass\\s+)\\w+/i,\n            lookbehind: true\n          },\n          'decorator': {\n            pattern: /(^[\\t ]*)@\\w+(?:\\.\\w+)*/im,\n            lookbehind: true,\n            alias: [\n              'annotation',\n              'punctuation'\n            ],\n            inside: { 'punctuation': /\\./ }\n          },\n          'keyword': /\\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\\b/,\n          'builtin': /\\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\\b/,\n          'boolean': /\\b(?:True|False|None)\\b/,\n          'number': /\\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\\b|(?:\\b\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\B\\.\\d+(?:_\\d+)*)(?:e[+-]?\\d+(?:_\\d+)*)?j?\\b/i,\n          'operator': /[-+%=]=?|!=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]/,\n          'punctuation': /[{}[\\];(),.:]/\n        };\n        Prism.languages.python['string-interpolation'].inside['interpolation'].inside.rest = Prism.languages.python;\n        Prism.languages.py = Prism.languages.python;\n        (function (Prism) {\n          Prism.languages.ruby = Prism.languages.extend('clike', {\n            'comment': [\n              /#.*/,\n              {\n                pattern: /^=begin\\s[\\s\\S]*?^=end/m,\n                greedy: true\n              }\n            ],\n            'class-name': {\n              pattern: /(\\b(?:class)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n              lookbehind: true,\n              inside: { 'punctuation': /[.\\\\]/ }\n            },\n            'keyword': /\\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\\b/\n          });\n          var interpolation = {\n            pattern: /#\\{[^}]+\\}/,\n            inside: {\n              'delimiter': {\n                pattern: /^#\\{|\\}$/,\n                alias: 'tag'\n              },\n              rest: Prism.languages.ruby\n            }\n          };\n          delete Prism.languages.ruby.function;\n          Prism.languages.insertBefore('ruby', 'keyword', {\n            'regex': [\n              {\n                pattern: RegExp(/%r/.source + '(?:' + [\n                  /([^a-zA-Z0-9\\s{(\\[<])(?:(?!\\1)[^\\\\]|\\\\[\\s\\S])*\\1/.source,\n                  /\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)/.source,\n                  /\\{(?:[^#{}\\\\]|#(?:\\{[^}]+\\})?|\\\\[\\s\\S])*\\}/.source,\n                  /\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\]/.source,\n                  /<(?:[^<>\\\\]|\\\\[\\s\\S])*>/.source\n                ].join('|') + ')' + /[egimnosux]{0,6}/.source),\n                greedy: true,\n                inside: { 'interpolation': interpolation }\n              },\n              {\n                pattern: /(^|[^/])\\/(?!\\/)(?:\\[[^\\r\\n\\]]+\\]|\\\\.|[^[/\\\\\\r\\n])+\\/[egimnosux]{0,6}(?=\\s*(?:$|[\\r\\n,.;})#]))/,\n                lookbehind: true,\n                greedy: true,\n                inside: { 'interpolation': interpolation }\n              }\n            ],\n            'variable': /[@$]+[a-zA-Z_]\\w*(?:[?!]|\\b)/,\n            'symbol': {\n              pattern: /(^|[^:]):[a-zA-Z_]\\w*(?:[?!]|\\b)/,\n              lookbehind: true\n            },\n            'method-definition': {\n              pattern: /(\\bdef\\s+)[\\w.]+/,\n              lookbehind: true,\n              inside: {\n                'function': /\\w+$/,\n                rest: Prism.languages.ruby\n              }\n            }\n          });\n          Prism.languages.insertBefore('ruby', 'number', {\n            'builtin': /\\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\\b/,\n            'constant': /\\b[A-Z]\\w*(?:[?!]|\\b)/\n          });\n          Prism.languages.ruby.string = [\n            {\n              pattern: RegExp(/%[qQiIwWxs]?/.source + '(?:' + [\n                /([^a-zA-Z0-9\\s{(\\[<])(?:(?!\\1)[^\\\\]|\\\\[\\s\\S])*\\1/.source,\n                /\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)/.source,\n                /\\{(?:[^#{}\\\\]|#(?:\\{[^}]+\\})?|\\\\[\\s\\S])*\\}/.source,\n                /\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\]/.source,\n                /<(?:[^<>\\\\]|\\\\[\\s\\S])*>/.source\n              ].join('|') + ')'),\n              greedy: true,\n              inside: { 'interpolation': interpolation }\n            },\n            {\n              pattern: /(\"|')(?:#\\{[^}]+\\}|#(?!\\{)|\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\#\\r\\n])*\\1/,\n              greedy: true,\n              inside: { 'interpolation': interpolation }\n            },\n            {\n              pattern: /<<[-~]?([a-z_]\\w*)[\\r\\n](?:.*[\\r\\n])*?[\\t ]*\\1/i,\n              alias: 'heredoc-string',\n              greedy: true,\n              inside: {\n                'delimiter': {\n                  pattern: /^<<[-~]?[a-z_]\\w*|[a-z_]\\w*$/i,\n                  alias: 'symbol',\n                  inside: { 'punctuation': /^<<[-~]?/ }\n                },\n                'interpolation': interpolation\n              }\n            },\n            {\n              pattern: /<<[-~]?'([a-z_]\\w*)'[\\r\\n](?:.*[\\r\\n])*?[\\t ]*\\1/i,\n              alias: 'heredoc-string',\n              greedy: true,\n              inside: {\n                'delimiter': {\n                  pattern: /^<<[-~]?'[a-z_]\\w*'|[a-z_]\\w*$/i,\n                  alias: 'symbol',\n                  inside: { 'punctuation': /^<<[-~]?'|'$/ }\n                }\n              }\n            }\n          ];\n          Prism.languages.rb = Prism.languages.ruby;\n        }(Prism));\n        var Prism$1 = prismCore.exports;\n        var prismjs = { boltExport: Prism$1 };\n        return prismjs;\n      }));\n      var prism = window.Prism;\n      window.Prism = oldprism;\n      return prism;\n    }(undefined, exports$1, module));\n    var Prism$1 = module.exports.boltExport;\n\n    var getLanguages$1 = function (editor) {\n      return editor.getParam('codesample_languages');\n    };\n    var useGlobalPrismJS = function (editor) {\n      return editor.getParam('codesample_global_prismjs', false, 'boolean');\n    };\n\n    var get = function (editor) {\n      return Global.Prism && useGlobalPrismJS(editor) ? Global.Prism : Prism$1;\n    };\n\n    var getSelectedCodeSample = function (editor) {\n      var node = editor.selection ? editor.selection.getNode() : null;\n      return someIf(isCodeSample(node), node);\n    };\n    var insertCodeSample = function (editor, language, code) {\n      editor.undoManager.transact(function () {\n        var node = getSelectedCodeSample(editor);\n        code = global$1.DOM.encode(code);\n        return node.fold(function () {\n          editor.insertContent('<pre id=\"__new\" class=\"language-' + language + '\">' + code + '</pre>');\n          editor.selection.select(editor.$('#__new').removeAttr('id')[0]);\n        }, function (n) {\n          editor.dom.setAttrib(n, 'class', 'language-' + language);\n          n.innerHTML = code;\n          get(editor).highlightElement(n);\n          editor.selection.select(n);\n        });\n      });\n    };\n    var getCurrentCode = function (editor) {\n      var node = getSelectedCodeSample(editor);\n      return node.fold(constant(''), function (n) {\n        return n.textContent;\n      });\n    };\n\n    var getLanguages = function (editor) {\n      var defaultLanguages = [\n        {\n          text: 'HTML/XML',\n          value: 'markup'\n        },\n        {\n          text: 'JavaScript',\n          value: 'javascript'\n        },\n        {\n          text: 'CSS',\n          value: 'css'\n        },\n        {\n          text: 'PHP',\n          value: 'php'\n        },\n        {\n          text: 'Ruby',\n          value: 'ruby'\n        },\n        {\n          text: 'Python',\n          value: 'python'\n        },\n        {\n          text: 'Java',\n          value: 'java'\n        },\n        {\n          text: 'C',\n          value: 'c'\n        },\n        {\n          text: 'C#',\n          value: 'csharp'\n        },\n        {\n          text: 'C++',\n          value: 'cpp'\n        }\n      ];\n      var customLanguages = getLanguages$1(editor);\n      return customLanguages ? customLanguages : defaultLanguages;\n    };\n    var getCurrentLanguage = function (editor, fallback) {\n      var node = getSelectedCodeSample(editor);\n      return node.fold(function () {\n        return fallback;\n      }, function (n) {\n        var matches = n.className.match(/language-(\\w+)/);\n        return matches ? matches[1] : fallback;\n      });\n    };\n\n    var open = function (editor) {\n      var languages = getLanguages(editor);\n      var defaultLanguage = head(languages).fold(constant(''), function (l) {\n        return l.value;\n      });\n      var currentLanguage = getCurrentLanguage(editor, defaultLanguage);\n      var currentCode = getCurrentCode(editor);\n      editor.windowManager.open({\n        title: 'Insert/Edit Code Sample',\n        size: 'large',\n        body: {\n          type: 'panel',\n          items: [\n            {\n              type: 'selectbox',\n              name: 'language',\n              label: 'Language',\n              items: languages\n            },\n            {\n              type: 'textarea',\n              name: 'code',\n              label: 'Code view'\n            }\n          ]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: {\n          language: currentLanguage,\n          code: currentCode\n        },\n        onSubmit: function (api) {\n          var data = api.getData();\n          insertCodeSample(editor, data.language, data.code);\n          api.close();\n        }\n      });\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('codesample', function () {\n        var node = editor.selection.getNode();\n        if (editor.selection.isCollapsed() || isCodeSample(node)) {\n          open(editor);\n        } else {\n          editor.formatter.toggle('code');\n        }\n      });\n    };\n\n    var setup = function (editor) {\n      var $ = editor.$;\n      editor.on('PreProcess', function (e) {\n        $('pre[contenteditable=false]', e.node).filter(trimArg(isCodeSample)).each(function (idx, elm) {\n          var $elm = $(elm), code = elm.textContent;\n          $elm.attr('class', $.trim($elm.attr('class')));\n          $elm.removeAttr('contentEditable');\n          $elm.empty().append($('<code></code>').each(function () {\n            this.textContent = code;\n          }));\n        });\n      });\n      editor.on('SetContent', function () {\n        var unprocessedCodeSamples = $('pre').filter(trimArg(isCodeSample)).filter(function (idx, elm) {\n          return elm.contentEditable !== 'false';\n        });\n        if (unprocessedCodeSamples.length) {\n          editor.undoManager.transact(function () {\n            unprocessedCodeSamples.each(function (idx, elm) {\n              $(elm).find('br').each(function (idx, elm) {\n                elm.parentNode.replaceChild(editor.getDoc().createTextNode('\\n'), elm);\n              });\n              elm.contentEditable = 'false';\n              elm.innerHTML = editor.dom.encode(elm.textContent);\n              get(editor).highlightElement(elm);\n              elm.className = $.trim(elm.className);\n            });\n          });\n        }\n      });\n    };\n\n    var isCodeSampleSelection = function (editor) {\n      var node = editor.selection.getStart();\n      return editor.dom.is(node, 'pre[class*=\"language-\"]');\n    };\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('codesample');\n      };\n      editor.ui.registry.addToggleButton('codesample', {\n        icon: 'code-sample',\n        tooltip: 'Insert/edit code sample',\n        onAction: onAction,\n        onSetup: function (api) {\n          var nodeChangeHandler = function () {\n            api.setActive(isCodeSampleSelection(editor));\n          };\n          editor.on('NodeChange', nodeChangeHandler);\n          return function () {\n            return editor.off('NodeChange', nodeChangeHandler);\n          };\n        }\n      });\n      editor.ui.registry.addMenuItem('codesample', {\n        text: 'Code sample...',\n        icon: 'code-sample',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$2.add('codesample', function (editor) {\n        setup(editor);\n        register(editor);\n        register$1(editor);\n        editor.on('dblclick', function (ev) {\n          if (isCodeSample(ev.target)) {\n            open(editor);\n          }\n        });\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"directionality\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/directionality')\n//   ES2015:\n//     import 'tinymce/plugins/directionality'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType$1('string');\n    var isBoolean = isSimpleType('boolean');\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var is = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var name = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement = isType(ELEMENT);\n    var isText = isType(TEXT);\n    var isDocument = isType(DOCUMENT);\n    var isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    var isTag = function (tag) {\n      return function (e) {\n        return isElement(e) && name(e) === tag;\n      };\n    };\n\n    var owner = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument(dos) ? dos : owner(dos);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var children$2 = function (element) {\n      return map(element.dom.childNodes, SugarElement.fromDom);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var remove = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n\n    var inBody = function (element) {\n      var dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n\n    var ancestor$1 = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n\n    var ancestor = function (scope, selector, isRoot) {\n      return ancestor$1(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var get = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n\n    var getDirection = function (element) {\n      return get(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n    };\n\n    var children$1 = function (scope, predicate) {\n      return filter(children$2(scope), predicate);\n    };\n\n    var children = function (scope, selector) {\n      return children$1(scope, function (e) {\n        return is(e, selector);\n      });\n    };\n\n    var getParentElement = function (element) {\n      return parent(element).filter(isElement);\n    };\n    var getNormalizedBlock = function (element, isListItem) {\n      var normalizedElement = isListItem ? ancestor(element, 'ol,ul') : Optional.some(element);\n      return normalizedElement.getOr(element);\n    };\n    var isListItem = isTag('li');\n    var setDir = function (editor, dir) {\n      var selectedBlocks = editor.selection.getSelectedBlocks();\n      if (selectedBlocks.length > 0) {\n        each(selectedBlocks, function (block) {\n          var blockElement = SugarElement.fromDom(block);\n          var isBlockElementListItem = isListItem(blockElement);\n          var normalizedBlock = getNormalizedBlock(blockElement, isBlockElementListItem);\n          var normalizedBlockParent = getParentElement(normalizedBlock);\n          normalizedBlockParent.each(function (parent) {\n            var parentDirection = getDirection(parent);\n            if (parentDirection !== dir) {\n              set(normalizedBlock, 'dir', dir);\n            } else if (getDirection(normalizedBlock) !== dir) {\n              remove(normalizedBlock, 'dir');\n            }\n            if (isBlockElementListItem) {\n              var listItems = children(normalizedBlock, 'li[dir]');\n              each(listItems, function (listItem) {\n                return remove(listItem, 'dir');\n              });\n            }\n          });\n        });\n        editor.nodeChanged();\n      }\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceDirectionLTR', function () {\n        setDir(editor, 'ltr');\n      });\n      editor.addCommand('mceDirectionRTL', function () {\n        setDir(editor, 'rtl');\n      });\n    };\n\n    var getNodeChangeHandler = function (editor, dir) {\n      return function (api) {\n        var nodeChangeHandler = function (e) {\n          var element = SugarElement.fromDom(e.element);\n          api.setActive(getDirection(element) === dir);\n        };\n        editor.on('NodeChange', nodeChangeHandler);\n        return function () {\n          return editor.off('NodeChange', nodeChangeHandler);\n        };\n      };\n    };\n    var register = function (editor) {\n      editor.ui.registry.addToggleButton('ltr', {\n        tooltip: 'Left to right',\n        icon: 'ltr',\n        onAction: function () {\n          return editor.execCommand('mceDirectionLTR');\n        },\n        onSetup: getNodeChangeHandler(editor, 'ltr')\n      });\n      editor.ui.registry.addToggleButton('rtl', {\n        tooltip: 'Right to left',\n        icon: 'rtl',\n        onAction: function () {\n          return editor.execCommand('mceDirectionRTL');\n        },\n        onSetup: getNodeChangeHandler(editor, 'rtl')\n      });\n    };\n\n    function Plugin () {\n      global.add('directionality', function (editor) {\n        register$1(editor);\n        register(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"fullscreen\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/fullscreen')\n//   ES2015:\n//     import 'tinymce/plugins/fullscreen'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var get$5 = function (fullscreenState) {\n      return {\n        isFullscreen: function () {\n          return fullscreenState.get() !== null;\n        }\n      };\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType$1('string');\n    var isArray = isType$1('array');\n    var isBoolean = isSimpleType('boolean');\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var unbindable = function () {\n      return singleton(function (s) {\n        return s.unbind();\n      });\n    };\n    var value = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var nativePush = Array.prototype.push;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter$1 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find$1 = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind$3 = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var get$4 = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$4(xs, 0);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var keys = Object.keys;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n\n    var contains = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n\n    var isSupported$1 = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement = isType(ELEMENT);\n    var isText = isType(TEXT);\n    var isDocument = isType(DOCUMENT);\n    var isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$2(group(1), group(2));\n    };\n    var detect$3 = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find(versionRegexes, cleanedAgent);\n    };\n    var unknown$2 = function () {\n      return nu$2(0, 0);\n    };\n    var nu$2 = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$2,\n      detect: detect$3,\n      unknown: unknown$2\n    };\n\n    var detectBrowser$1 = function (browsers, userAgentData) {\n      return findMap(userAgentData.brands, function (uaBrand) {\n        var lcBrand = uaBrand.brand.toLowerCase();\n        return find$1(browsers, function (browser) {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(function (info) {\n          return {\n            current: info.name,\n            version: Version.nu(parseInt(uaBrand.version, 10), 0)\n          };\n        });\n      });\n    };\n\n    var detect$2 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find$1(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$2(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$2(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains(uastring, 'edge/') && contains(uastring, 'chrome') && contains(uastring, 'safari') && contains(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains(uastring, 'chrome') && !contains(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains(uastring, 'msie') || contains(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains(uastring, 'safari') || contains(uastring, 'mobile/')) && contains(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains(uastring, 'iphone') || contains(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$1 = function () {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$1 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown = function () {\n      return nu({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown,\n      nu: nu,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    var detect$1 = function (userAgent, userAgentDataOpt, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = userAgentDataOpt.bind(function (userAgentData) {\n        return detectBrowser$1(browsers, userAgentData);\n      }).orThunk(function () {\n        return detectBrowser(browsers, userAgent);\n      }).fold(Browser.unknown, Browser.nu);\n      var os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$1 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch);\n    });\n    var detect = function () {\n      return platform();\n    };\n\n    var is = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all$1 = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n\n    var owner = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument(dos) ? dos : owner(dos);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var parents = function (element, isRoot) {\n      var stop = isFunction(isRoot) ? isRoot : never;\n      var dom = element.dom;\n      var ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        var rawParent = dom.parentNode;\n        var p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    var siblings$2 = function (element) {\n      var filterSelf = function (elements) {\n        return filter$1(elements, function (x) {\n          return !eq(element, x);\n        });\n      };\n      return parent(element).map(children).map(filterSelf).getOr([]);\n    };\n    var children = function (element) {\n      return map(element.dom.childNodes, SugarElement.fromDom);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var isSupported = constant(supported);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n    var getOriginalEventTarget = function (event) {\n      if (isSupported() && isNonNullable(event.target)) {\n        var el = SugarElement.fromDom(event.target);\n        if (isElement(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            var composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    var isOpenShadowHost = function (element) {\n      return isNonNullable(element.dom.shadowRoot);\n    };\n\n    var inBody = function (element) {\n      var dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n    var getBody = function (doc) {\n      var b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var get$3 = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var remove = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var setAll = function (element, css) {\n      var dom = element.dom;\n      each(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var get$2 = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n\n    var mkEvent = function (target, x, y, stop, prevent, kill, raw) {\n      return {\n        target: target,\n        x: x,\n        y: y,\n        stop: stop,\n        prevent: prevent,\n        kill: kill,\n        raw: raw\n      };\n    };\n    var fromRawEvent = function (rawEvent) {\n      var target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      var stop = function () {\n        return rawEvent.stopPropagation();\n      };\n      var prevent = function () {\n        return rawEvent.preventDefault();\n      };\n      var kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    var handle = function (filter, handler) {\n      return function (rawEvent) {\n        if (filter(rawEvent)) {\n          handler(fromRawEvent(rawEvent));\n        }\n      };\n    };\n    var binder = function (element, event, filter, handler, useCapture) {\n      var wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    var bind$2 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, false);\n    };\n    var unbind = function (element, event, handler, useCapture) {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    var filter = always;\n    var bind$1 = function (element, event, handler) {\n      return bind$2(element, event, filter, handler);\n    };\n\n    var r = function (left, top) {\n      var translate = function (x, y) {\n        return r(left + x, top + y);\n      };\n      return {\n        left: left,\n        top: top,\n        translate: translate\n      };\n    };\n    var SugarPosition = r;\n\n    var get$1 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n\n    var get = function (_win) {\n      var win = _win === undefined ? window : _win;\n      if (detect().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win['visualViewport']);\n      }\n    };\n    var bounds = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var getBounds = function (_win) {\n      var win = _win === undefined ? window : _win;\n      var doc = win.document;\n      var scroll = get$1(SugarElement.fromDom(doc));\n      return get(win).fold(function () {\n        var html = win.document.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds(scroll.left, scroll.top, width, height);\n      }, function (visualViewport) {\n        return bounds(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height);\n      });\n    };\n    var bind = function (name, callback, _win) {\n      return get(_win).map(function (visualViewport) {\n        var handler = function (e) {\n          return callback(fromRawEvent(e));\n        };\n        visualViewport.addEventListener(name, handler);\n        return {\n          unbind: function () {\n            return visualViewport.removeEventListener(name, handler);\n          }\n        };\n      }).getOrThunk(function () {\n        return { unbind: noop };\n      });\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var fireFullscreenStateChanged = function (editor, state) {\n      editor.fire('FullscreenStateChanged', { state: state });\n    };\n\n    var getFullscreenNative = function (editor) {\n      return editor.getParam('fullscreen_native', false, 'boolean');\n    };\n\n    var getFullscreenRoot = function (editor) {\n      var elem = SugarElement.fromDom(editor.getElement());\n      return getShadowRoot(elem).map(getShadowHost).getOrThunk(function () {\n        return getBody(owner(elem));\n      });\n    };\n    var getFullscreenElement = function (root) {\n      if (root.fullscreenElement !== undefined) {\n        return root.fullscreenElement;\n      } else if (root.msFullscreenElement !== undefined) {\n        return root.msFullscreenElement;\n      } else if (root.webkitFullscreenElement !== undefined) {\n        return root.webkitFullscreenElement;\n      } else {\n        return null;\n      }\n    };\n    var getFullscreenchangeEventName = function () {\n      if (document.fullscreenElement !== undefined) {\n        return 'fullscreenchange';\n      } else if (document.msFullscreenElement !== undefined) {\n        return 'MSFullscreenChange';\n      } else if (document.webkitFullscreenElement !== undefined) {\n        return 'webkitfullscreenchange';\n      } else {\n        return 'fullscreenchange';\n      }\n    };\n    var requestFullscreen = function (sugarElem) {\n      var elem = sugarElem.dom;\n      if (elem.requestFullscreen) {\n        elem.requestFullscreen();\n      } else if (elem.msRequestFullscreen) {\n        elem.msRequestFullscreen();\n      } else if (elem.webkitRequestFullScreen) {\n        elem.webkitRequestFullScreen();\n      }\n    };\n    var exitFullscreen = function (sugarDoc) {\n      var doc = sugarDoc.dom;\n      if (doc.exitFullscreen) {\n        doc.exitFullscreen();\n      } else if (doc.msExitFullscreen) {\n        doc.msExitFullscreen();\n      } else if (doc.webkitCancelFullScreen) {\n        doc.webkitCancelFullScreen();\n      }\n    };\n    var isFullscreenElement = function (elem) {\n      return elem.dom === getFullscreenElement(owner(elem).dom);\n    };\n\n    var ancestors$1 = function (scope, predicate, isRoot) {\n      return filter$1(parents(scope, isRoot), predicate);\n    };\n    var siblings$1 = function (scope, predicate) {\n      return filter$1(siblings$2(scope), predicate);\n    };\n\n    var all = function (selector) {\n      return all$1(selector);\n    };\n    var ancestors = function (scope, selector, isRoot) {\n      return ancestors$1(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n    var siblings = function (scope, selector) {\n      return siblings$1(scope, function (e) {\n        return is(e, selector);\n      });\n    };\n\n    var attr = 'data-ephox-mobile-fullscreen-style';\n    var siblingStyles = 'display:none!important;';\n    var ancestorPosition = 'position:absolute!important;';\n    var ancestorStyles = 'top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;';\n    var bgFallback = 'background-color:rgb(255,255,255)!important;';\n    var isAndroid = global$1.os.isAndroid();\n    var matchColor = function (editorBody) {\n      var color = get$2(editorBody, 'background-color');\n      return color !== undefined && color !== '' ? 'background-color:' + color + '!important' : bgFallback;\n    };\n    var clobberStyles = function (dom, container, editorBody) {\n      var gatherSiblings = function (element) {\n        return siblings(element, '*:not(.tox-silver-sink)');\n      };\n      var clobber = function (clobberStyle) {\n        return function (element) {\n          var styles = get$3(element, 'style');\n          var backup = styles === undefined ? 'no-styles' : styles.trim();\n          if (backup === clobberStyle) {\n            return;\n          } else {\n            set(element, attr, backup);\n            setAll(element, dom.parseStyle(clobberStyle));\n          }\n        };\n      };\n      var ancestors$1 = ancestors(container, '*');\n      var siblings$1 = bind$3(ancestors$1, gatherSiblings);\n      var bgColor = matchColor(editorBody);\n      each$1(siblings$1, clobber(siblingStyles));\n      each$1(ancestors$1, clobber(ancestorPosition + ancestorStyles + bgColor));\n      var containerStyles = isAndroid === true ? '' : ancestorPosition;\n      clobber(containerStyles + ancestorStyles + bgColor)(container);\n    };\n    var restoreStyles = function (dom) {\n      var clobberedEls = all('[' + attr + ']');\n      each$1(clobberedEls, function (element) {\n        var restore = get$3(element, attr);\n        if (restore !== 'no-styles') {\n          setAll(element, dom.parseStyle(restore));\n        } else {\n          remove(element, 'style');\n        }\n        remove(element, attr);\n      });\n    };\n\n    var DOM = global$2.DOM;\n    var getScrollPos = function () {\n      return getBounds(window);\n    };\n    var setScrollPos = function (pos) {\n      return window.scrollTo(pos.x, pos.y);\n    };\n    var viewportUpdate = get().fold(function () {\n      return {\n        bind: noop,\n        unbind: noop\n      };\n    }, function (visualViewport) {\n      var editorContainer = value();\n      var resizeBinder = unbindable();\n      var scrollBinder = unbindable();\n      var refreshScroll = function () {\n        document.body.scrollTop = 0;\n        document.documentElement.scrollTop = 0;\n      };\n      var refreshVisualViewport = function () {\n        window.requestAnimationFrame(function () {\n          editorContainer.on(function (container) {\n            return setAll(container, {\n              top: visualViewport.offsetTop + 'px',\n              left: visualViewport.offsetLeft + 'px',\n              height: visualViewport.height + 'px',\n              width: visualViewport.width + 'px'\n            });\n          });\n        });\n      };\n      var update = global.throttle(function () {\n        refreshScroll();\n        refreshVisualViewport();\n      }, 50);\n      var bind$1 = function (element) {\n        editorContainer.set(element);\n        update();\n        resizeBinder.set(bind('resize', update));\n        scrollBinder.set(bind('scroll', update));\n      };\n      var unbind = function () {\n        editorContainer.on(function () {\n          resizeBinder.clear();\n          scrollBinder.clear();\n        });\n        editorContainer.clear();\n      };\n      return {\n        bind: bind$1,\n        unbind: unbind\n      };\n    });\n    var toggleFullscreen = function (editor, fullscreenState) {\n      var body = document.body;\n      var documentElement = document.documentElement;\n      var editorContainer = editor.getContainer();\n      var editorContainerS = SugarElement.fromDom(editorContainer);\n      var fullscreenRoot = getFullscreenRoot(editor);\n      var fullscreenInfo = fullscreenState.get();\n      var editorBody = SugarElement.fromDom(editor.getBody());\n      var isTouch = global$1.deviceType.isTouch();\n      var editorContainerStyle = editorContainer.style;\n      var iframe = editor.iframeElement;\n      var iframeStyle = iframe.style;\n      var handleClasses = function (handler) {\n        handler(body, 'tox-fullscreen');\n        handler(documentElement, 'tox-fullscreen');\n        handler(editorContainer, 'tox-fullscreen');\n        getShadowRoot(editorContainerS).map(function (root) {\n          return getShadowHost(root).dom;\n        }).each(function (host) {\n          handler(host, 'tox-fullscreen');\n          handler(host, 'tox-shadowhost');\n        });\n      };\n      var cleanup = function () {\n        if (isTouch) {\n          restoreStyles(editor.dom);\n        }\n        handleClasses(DOM.removeClass);\n        viewportUpdate.unbind();\n        Optional.from(fullscreenState.get()).each(function (info) {\n          return info.fullscreenChangeHandler.unbind();\n        });\n      };\n      if (!fullscreenInfo) {\n        var fullscreenChangeHandler = bind$1(owner(fullscreenRoot), getFullscreenchangeEventName(), function (_evt) {\n          if (getFullscreenNative(editor)) {\n            if (!isFullscreenElement(fullscreenRoot) && fullscreenState.get() !== null) {\n              toggleFullscreen(editor, fullscreenState);\n            }\n          }\n        });\n        var newFullScreenInfo = {\n          scrollPos: getScrollPos(),\n          containerWidth: editorContainerStyle.width,\n          containerHeight: editorContainerStyle.height,\n          containerTop: editorContainerStyle.top,\n          containerLeft: editorContainerStyle.left,\n          iframeWidth: iframeStyle.width,\n          iframeHeight: iframeStyle.height,\n          fullscreenChangeHandler: fullscreenChangeHandler\n        };\n        if (isTouch) {\n          clobberStyles(editor.dom, editorContainerS, editorBody);\n        }\n        iframeStyle.width = iframeStyle.height = '100%';\n        editorContainerStyle.width = editorContainerStyle.height = '';\n        handleClasses(DOM.addClass);\n        viewportUpdate.bind(editorContainerS);\n        editor.on('remove', cleanup);\n        fullscreenState.set(newFullScreenInfo);\n        if (getFullscreenNative(editor)) {\n          requestFullscreen(fullscreenRoot);\n        }\n        fireFullscreenStateChanged(editor, true);\n      } else {\n        fullscreenInfo.fullscreenChangeHandler.unbind();\n        if (getFullscreenNative(editor) && isFullscreenElement(fullscreenRoot)) {\n          exitFullscreen(owner(fullscreenRoot));\n        }\n        iframeStyle.width = fullscreenInfo.iframeWidth;\n        iframeStyle.height = fullscreenInfo.iframeHeight;\n        editorContainerStyle.width = fullscreenInfo.containerWidth;\n        editorContainerStyle.height = fullscreenInfo.containerHeight;\n        editorContainerStyle.top = fullscreenInfo.containerTop;\n        editorContainerStyle.left = fullscreenInfo.containerLeft;\n        setScrollPos(fullscreenInfo.scrollPos);\n        fullscreenState.set(null);\n        fireFullscreenStateChanged(editor, false);\n        cleanup();\n        editor.off('remove', cleanup);\n      }\n    };\n\n    var register$1 = function (editor, fullscreenState) {\n      editor.addCommand('mceFullScreen', function () {\n        toggleFullscreen(editor, fullscreenState);\n      });\n    };\n\n    var makeSetupHandler = function (editor, fullscreenState) {\n      return function (api) {\n        api.setActive(fullscreenState.get() !== null);\n        var editorEventCallback = function (e) {\n          return api.setActive(e.state);\n        };\n        editor.on('FullscreenStateChanged', editorEventCallback);\n        return function () {\n          return editor.off('FullscreenStateChanged', editorEventCallback);\n        };\n      };\n    };\n    var register = function (editor, fullscreenState) {\n      var onAction = function () {\n        return editor.execCommand('mceFullScreen');\n      };\n      editor.ui.registry.addToggleMenuItem('fullscreen', {\n        text: 'Fullscreen',\n        icon: 'fullscreen',\n        shortcut: 'Meta+Shift+F',\n        onAction: onAction,\n        onSetup: makeSetupHandler(editor, fullscreenState)\n      });\n      editor.ui.registry.addToggleButton('fullscreen', {\n        tooltip: 'Fullscreen',\n        icon: 'fullscreen',\n        onAction: onAction,\n        onSetup: makeSetupHandler(editor, fullscreenState)\n      });\n    };\n\n    function Plugin () {\n      global$3.add('fullscreen', function (editor) {\n        var fullscreenState = Cell(null);\n        if (editor.inline) {\n          return get$5(fullscreenState);\n        }\n        register$1(editor, fullscreenState);\n        register(editor, fullscreenState);\n        editor.addShortcut('Meta+Shift+F', '', 'mceFullScreen');\n        return get$5(fullscreenState);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"hr\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/hr')\n//   ES2015:\n//     import 'tinymce/plugins/hr'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var register$1 = function (editor) {\n      editor.addCommand('InsertHorizontalRule', function () {\n        editor.execCommand('mceInsertContent', false, '<hr />');\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('InsertHorizontalRule');\n      };\n      editor.ui.registry.addButton('hr', {\n        icon: 'horizontal-rule',\n        tooltip: 'Horizontal line',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('hr', {\n        icon: 'horizontal-rule',\n        text: 'Horizontal line',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global.add('hr', function (editor) {\n        register$1(editor);\n        register(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"insertdatetime\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/insertdatetime')\n//   ES2015:\n//     import 'tinymce/plugins/insertdatetime'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var getDateFormat = function (editor) {\n      return editor.getParam('insertdatetime_dateformat', editor.translate('%Y-%m-%d'));\n    };\n    var getTimeFormat = function (editor) {\n      return editor.getParam('insertdatetime_timeformat', editor.translate('%H:%M:%S'));\n    };\n    var getFormats = function (editor) {\n      return editor.getParam('insertdatetime_formats', [\n        '%H:%M:%S',\n        '%Y-%m-%d',\n        '%I:%M:%S %p',\n        '%D'\n      ]);\n    };\n    var getDefaultDateTime = function (editor) {\n      var formats = getFormats(editor);\n      return formats.length > 0 ? formats[0] : getTimeFormat(editor);\n    };\n    var shouldInsertTimeElement = function (editor) {\n      return editor.getParam('insertdatetime_element', false);\n    };\n\n    var daysShort = 'Sun Mon Tue Wed Thu Fri Sat Sun'.split(' ');\n    var daysLong = 'Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday'.split(' ');\n    var monthsShort = 'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec'.split(' ');\n    var monthsLong = 'January February March April May June July August September October November December'.split(' ');\n    var addZeros = function (value, len) {\n      value = '' + value;\n      if (value.length < len) {\n        for (var i = 0; i < len - value.length; i++) {\n          value = '0' + value;\n        }\n      }\n      return value;\n    };\n    var getDateTime = function (editor, fmt, date) {\n      if (date === void 0) {\n        date = new Date();\n      }\n      fmt = fmt.replace('%D', '%m/%d/%Y');\n      fmt = fmt.replace('%r', '%I:%M:%S %p');\n      fmt = fmt.replace('%Y', '' + date.getFullYear());\n      fmt = fmt.replace('%y', '' + date.getYear());\n      fmt = fmt.replace('%m', addZeros(date.getMonth() + 1, 2));\n      fmt = fmt.replace('%d', addZeros(date.getDate(), 2));\n      fmt = fmt.replace('%H', '' + addZeros(date.getHours(), 2));\n      fmt = fmt.replace('%M', '' + addZeros(date.getMinutes(), 2));\n      fmt = fmt.replace('%S', '' + addZeros(date.getSeconds(), 2));\n      fmt = fmt.replace('%I', '' + ((date.getHours() + 11) % 12 + 1));\n      fmt = fmt.replace('%p', '' + (date.getHours() < 12 ? 'AM' : 'PM'));\n      fmt = fmt.replace('%B', '' + editor.translate(monthsLong[date.getMonth()]));\n      fmt = fmt.replace('%b', '' + editor.translate(monthsShort[date.getMonth()]));\n      fmt = fmt.replace('%A', '' + editor.translate(daysLong[date.getDay()]));\n      fmt = fmt.replace('%a', '' + editor.translate(daysShort[date.getDay()]));\n      fmt = fmt.replace('%%', '%');\n      return fmt;\n    };\n    var updateElement = function (editor, timeElm, computerTime, userTime) {\n      var newTimeElm = editor.dom.create('time', { datetime: computerTime }, userTime);\n      timeElm.parentNode.insertBefore(newTimeElm, timeElm);\n      editor.dom.remove(timeElm);\n      editor.selection.select(newTimeElm, true);\n      editor.selection.collapse(false);\n    };\n    var insertDateTime = function (editor, format) {\n      if (shouldInsertTimeElement(editor)) {\n        var userTime = getDateTime(editor, format);\n        var computerTime = void 0;\n        if (/%[HMSIp]/.test(format)) {\n          computerTime = getDateTime(editor, '%Y-%m-%dT%H:%M');\n        } else {\n          computerTime = getDateTime(editor, '%Y-%m-%d');\n        }\n        var timeElm = editor.dom.getParent(editor.selection.getStart(), 'time');\n        if (timeElm) {\n          updateElement(editor, timeElm, computerTime, userTime);\n        } else {\n          editor.insertContent('<time datetime=\"' + computerTime + '\">' + userTime + '</time>');\n        }\n      } else {\n        editor.insertContent(getDateTime(editor, format));\n      }\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceInsertDate', function (_ui, value) {\n        insertDateTime(editor, value !== null && value !== void 0 ? value : getDateFormat(editor));\n      });\n      editor.addCommand('mceInsertTime', function (_ui, value) {\n        insertDateTime(editor, value !== null && value !== void 0 ? value : getTimeFormat(editor));\n      });\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var register = function (editor) {\n      var formats = getFormats(editor);\n      var defaultFormat = Cell(getDefaultDateTime(editor));\n      var insertDateTime = function (format) {\n        return editor.execCommand('mceInsertDate', false, format);\n      };\n      editor.ui.registry.addSplitButton('insertdatetime', {\n        icon: 'insert-time',\n        tooltip: 'Insert date/time',\n        select: function (value) {\n          return value === defaultFormat.get();\n        },\n        fetch: function (done) {\n          done(global.map(formats, function (format) {\n            return {\n              type: 'choiceitem',\n              text: getDateTime(editor, format),\n              value: format\n            };\n          }));\n        },\n        onAction: function (_api) {\n          insertDateTime(defaultFormat.get());\n        },\n        onItemAction: function (_api, value) {\n          defaultFormat.set(value);\n          insertDateTime(value);\n        }\n      });\n      var makeMenuItemHandler = function (format) {\n        return function () {\n          defaultFormat.set(format);\n          insertDateTime(format);\n        };\n      };\n      editor.ui.registry.addNestedMenuItem('insertdatetime', {\n        icon: 'insert-time',\n        text: 'Date/time',\n        getSubmenuItems: function () {\n          return global.map(formats, function (format) {\n            return {\n              type: 'menuitem',\n              text: getDateTime(editor, format),\n              onAction: makeMenuItemHandler(format)\n            };\n          });\n        }\n      });\n    };\n\n    function Plugin () {\n      global$1.add('insertdatetime', function (editor) {\n        register$1(editor);\n        register(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"link\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/link')\n//   ES2015:\n//     import 'tinymce/plugins/link'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString = isType('string');\n    var isArray = isType('array');\n    var isNull = eq(null);\n    var isBoolean = isSimpleType('boolean');\n    var isFunction = isSimpleType('function');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var tripleEquals = function (a, b) {\n      return a === b;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var contains = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var foldl = function (xs, f, acc) {\n      each$1(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var is = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lhs.exists(function (left) {\n        return comparator(left, rhs);\n      });\n    };\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var assumeExternalTargets = function (editor) {\n      var externalTargets = editor.getParam('link_assume_external_targets', false);\n      if (isBoolean(externalTargets) && externalTargets) {\n        return 1;\n      } else if (isString(externalTargets) && (externalTargets === 'http' || externalTargets === 'https')) {\n        return externalTargets;\n      }\n      return 0;\n    };\n    var hasContextToolbar = function (editor) {\n      return editor.getParam('link_context_toolbar', false, 'boolean');\n    };\n    var getLinkList = function (editor) {\n      return editor.getParam('link_list');\n    };\n    var getDefaultLinkTarget = function (editor) {\n      return editor.getParam('default_link_target');\n    };\n    var getTargetList = function (editor) {\n      return editor.getParam('target_list', true);\n    };\n    var getRelList = function (editor) {\n      return editor.getParam('rel_list', [], 'array');\n    };\n    var getLinkClassList = function (editor) {\n      return editor.getParam('link_class_list', [], 'array');\n    };\n    var shouldShowLinkTitle = function (editor) {\n      return editor.getParam('link_title', true, 'boolean');\n    };\n    var allowUnsafeLinkTarget = function (editor) {\n      return editor.getParam('allow_unsafe_link_target', false, 'boolean');\n    };\n    var useQuickLink = function (editor) {\n      return editor.getParam('link_quicklink', false, 'boolean');\n    };\n    var getDefaultLinkProtocol = function (editor) {\n      return editor.getParam('link_default_protocol', 'http', 'string');\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getValue = function (item) {\n      return isString(item.value) ? item.value : '';\n    };\n    var getText = function (item) {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    var sanitizeList = function (list, extractValue) {\n      var out = [];\n      global$5.each(list, function (item) {\n        var text = getText(item);\n        if (item.menu !== undefined) {\n          var items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text: text,\n            items: items\n          });\n        } else {\n          var value = extractValue(item);\n          out.push({\n            text: text,\n            value: value\n          });\n        }\n      });\n      return out;\n    };\n    var sanitizeWith = function (extracter) {\n      if (extracter === void 0) {\n        extracter = getValue;\n      }\n      return function (list) {\n        return Optional.from(list).map(function (list) {\n          return sanitizeList(list, extracter);\n        });\n      };\n    };\n    var sanitize = function (list) {\n      return sanitizeWith(getValue)(list);\n    };\n    var createUi = function (name, label) {\n      return function (items) {\n        return {\n          name: name,\n          type: 'listbox',\n          label: label,\n          items: items\n        };\n      };\n    };\n    var ListOptions = {\n      sanitize: sanitize,\n      sanitizeWith: sanitizeWith,\n      createUi: createUi,\n      getValue: getValue\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var filter = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n    var hasNonNullableKey = function (obj, key) {\n      return has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var isAnchor = function (elm) {\n      return elm && elm.nodeName.toLowerCase() === 'a';\n    };\n    var isLink = function (elm) {\n      return isAnchor(elm) && !!getHref(elm);\n    };\n    var collectNodesInRange = function (rng, predicate) {\n      if (rng.collapsed) {\n        return [];\n      } else {\n        var contents = rng.cloneContents();\n        var walker = new global$4(contents.firstChild, contents);\n        var elements = [];\n        var current = contents.firstChild;\n        do {\n          if (predicate(current)) {\n            elements.push(current);\n          }\n        } while (current = walker.next());\n        return elements;\n      }\n    };\n    var hasProtocol = function (url) {\n      return /^\\w+:/i.test(url);\n    };\n    var getHref = function (elm) {\n      var href = elm.getAttribute('data-mce-href');\n      return href ? href : elm.getAttribute('href');\n    };\n    var applyRelTargetRules = function (rel, isUnsafe) {\n      var rules = ['noopener'];\n      var rels = rel ? rel.split(/\\s+/) : [];\n      var toString = function (rels) {\n        return global$5.trim(rels.sort().join(' '));\n      };\n      var addTargetRules = function (rels) {\n        rels = removeTargetRules(rels);\n        return rels.length > 0 ? rels.concat(rules) : rules;\n      };\n      var removeTargetRules = function (rels) {\n        return rels.filter(function (val) {\n          return global$5.inArray(rules, val) === -1;\n        });\n      };\n      var newRels = isUnsafe ? addTargetRules(rels) : removeTargetRules(rels);\n      return newRels.length > 0 ? toString(newRels) : '';\n    };\n    var trimCaretContainers = function (text) {\n      return text.replace(/\\uFEFF/g, '');\n    };\n    var getAnchorElement = function (editor, selectedElm) {\n      selectedElm = selectedElm || editor.selection.getNode();\n      if (isImageFigure(selectedElm)) {\n        return editor.dom.select('a[href]', selectedElm)[0];\n      } else {\n        return editor.dom.getParent(selectedElm, 'a[href]');\n      }\n    };\n    var getAnchorText = function (selection, anchorElm) {\n      var text = anchorElm ? anchorElm.innerText || anchorElm.textContent : selection.getContent({ format: 'text' });\n      return trimCaretContainers(text);\n    };\n    var hasLinks = function (elements) {\n      return global$5.grep(elements, isLink).length > 0;\n    };\n    var hasLinksInSelection = function (rng) {\n      return collectNodesInRange(rng, isLink).length > 0;\n    };\n    var isOnlyTextSelected = function (editor) {\n      var inlineTextElements = editor.schema.getTextInlineElements();\n      var isElement = function (elm) {\n        return elm.nodeType === 1 && !isAnchor(elm) && !has(inlineTextElements, elm.nodeName.toLowerCase());\n      };\n      var elements = collectNodesInRange(editor.selection.getRng(), isElement);\n      return elements.length === 0;\n    };\n    var isImageFigure = function (elm) {\n      return elm && elm.nodeName === 'FIGURE' && /\\bimage\\b/i.test(elm.className);\n    };\n    var getLinkAttrs = function (data) {\n      var attrs = [\n        'title',\n        'rel',\n        'class',\n        'target'\n      ];\n      return foldl(attrs, function (acc, key) {\n        data[key].each(function (value) {\n          acc[key] = value.length > 0 ? value : null;\n        });\n        return acc;\n      }, { href: data.href });\n    };\n    var handleExternalTargets = function (href, assumeExternalTargets) {\n      if ((assumeExternalTargets === 'http' || assumeExternalTargets === 'https') && !hasProtocol(href)) {\n        return assumeExternalTargets + '://' + href;\n      }\n      return href;\n    };\n    var applyLinkOverrides = function (editor, linkAttrs) {\n      var newLinkAttrs = __assign({}, linkAttrs);\n      if (!(getRelList(editor).length > 0) && allowUnsafeLinkTarget(editor) === false) {\n        var newRel = applyRelTargetRules(newLinkAttrs.rel, newLinkAttrs.target === '_blank');\n        newLinkAttrs.rel = newRel ? newRel : null;\n      }\n      if (Optional.from(newLinkAttrs.target).isNone() && getTargetList(editor) === false) {\n        newLinkAttrs.target = getDefaultLinkTarget(editor);\n      }\n      newLinkAttrs.href = handleExternalTargets(newLinkAttrs.href, assumeExternalTargets(editor));\n      return newLinkAttrs;\n    };\n    var updateLink = function (editor, anchorElm, text, linkAttrs) {\n      text.each(function (text) {\n        if (has(anchorElm, 'innerText')) {\n          anchorElm.innerText = text;\n        } else {\n          anchorElm.textContent = text;\n        }\n      });\n      editor.dom.setAttribs(anchorElm, linkAttrs);\n      editor.selection.select(anchorElm);\n    };\n    var createLink = function (editor, selectedElm, text, linkAttrs) {\n      if (isImageFigure(selectedElm)) {\n        linkImageFigure(editor, selectedElm, linkAttrs);\n      } else {\n        text.fold(function () {\n          editor.execCommand('mceInsertLink', false, linkAttrs);\n        }, function (text) {\n          editor.insertContent(editor.dom.createHTML('a', linkAttrs, editor.dom.encode(text)));\n        });\n      }\n    };\n    var linkDomMutation = function (editor, attachState, data) {\n      var selectedElm = editor.selection.getNode();\n      var anchorElm = getAnchorElement(editor, selectedElm);\n      var linkAttrs = applyLinkOverrides(editor, getLinkAttrs(data));\n      editor.undoManager.transact(function () {\n        if (data.href === attachState.href) {\n          attachState.attach();\n        }\n        if (anchorElm) {\n          editor.focus();\n          updateLink(editor, anchorElm, data.text, linkAttrs);\n        } else {\n          createLink(editor, selectedElm, data.text, linkAttrs);\n        }\n      });\n    };\n    var unlinkSelection = function (editor) {\n      var dom = editor.dom, selection = editor.selection;\n      var bookmark = selection.getBookmark();\n      var rng = selection.getRng().cloneRange();\n      var startAnchorElm = dom.getParent(rng.startContainer, 'a[href]', editor.getBody());\n      var endAnchorElm = dom.getParent(rng.endContainer, 'a[href]', editor.getBody());\n      if (startAnchorElm) {\n        rng.setStartBefore(startAnchorElm);\n      }\n      if (endAnchorElm) {\n        rng.setEndAfter(endAnchorElm);\n      }\n      selection.setRng(rng);\n      editor.execCommand('unlink');\n      selection.moveToBookmark(bookmark);\n    };\n    var unlinkDomMutation = function (editor) {\n      editor.undoManager.transact(function () {\n        var node = editor.selection.getNode();\n        if (isImageFigure(node)) {\n          unlinkImageFigure(editor, node);\n        } else {\n          unlinkSelection(editor);\n        }\n        editor.focus();\n      });\n    };\n    var unwrapOptions = function (data) {\n      var cls = data.class, href = data.href, rel = data.rel, target = data.target, text = data.text, title = data.title;\n      return filter({\n        class: cls.getOrNull(),\n        href: href,\n        rel: rel.getOrNull(),\n        target: target.getOrNull(),\n        text: text.getOrNull(),\n        title: title.getOrNull()\n      }, function (v, _k) {\n        return isNull(v) === false;\n      });\n    };\n    var sanitizeData = function (editor, data) {\n      var href = data.href;\n      return __assign(__assign({}, data), { href: global$3.isDomSafe(href, 'a', editor.settings) ? href : '' });\n    };\n    var link = function (editor, attachState, data) {\n      var sanitizedData = sanitizeData(editor, data);\n      editor.hasPlugin('rtc', true) ? editor.execCommand('createlink', false, unwrapOptions(sanitizedData)) : linkDomMutation(editor, attachState, sanitizedData);\n    };\n    var unlink = function (editor) {\n      editor.hasPlugin('rtc', true) ? editor.execCommand('unlink') : unlinkDomMutation(editor);\n    };\n    var unlinkImageFigure = function (editor, fig) {\n      var img = editor.dom.select('img', fig)[0];\n      if (img) {\n        var a = editor.dom.getParents(img, 'a[href]', fig)[0];\n        if (a) {\n          a.parentNode.insertBefore(img, a);\n          editor.dom.remove(a);\n        }\n      }\n    };\n    var linkImageFigure = function (editor, fig, attrs) {\n      var img = editor.dom.select('img', fig)[0];\n      if (img) {\n        var a = editor.dom.create('a', attrs);\n        img.parentNode.insertBefore(a, img);\n        a.appendChild(img);\n      }\n    };\n\n    var isListGroup = function (item) {\n      return hasNonNullableKey(item, 'items');\n    };\n    var findTextByValue = function (value, catalog) {\n      return findMap(catalog, function (item) {\n        if (isListGroup(item)) {\n          return findTextByValue(value, item.items);\n        } else {\n          return someIf(item.value === value, item);\n        }\n      });\n    };\n    var getDelta = function (persistentText, fieldName, catalog, data) {\n      var value = data[fieldName];\n      var hasPersistentText = persistentText.length > 0;\n      return value !== undefined ? findTextByValue(value, catalog).map(function (i) {\n        return {\n          url: {\n            value: i.value,\n            meta: {\n              text: hasPersistentText ? persistentText : i.text,\n              attach: noop\n            }\n          },\n          text: hasPersistentText ? persistentText : i.text\n        };\n      }) : Optional.none();\n    };\n    var findCatalog = function (catalogs, fieldName) {\n      if (fieldName === 'link') {\n        return catalogs.link;\n      } else if (fieldName === 'anchor') {\n        return catalogs.anchor;\n      } else {\n        return Optional.none();\n      }\n    };\n    var init = function (initialData, linkCatalog) {\n      var persistentData = {\n        text: initialData.text,\n        title: initialData.title\n      };\n      var getTitleFromUrlChange = function (url) {\n        return someIf(persistentData.title.length <= 0, Optional.from(url.meta.title).getOr(''));\n      };\n      var getTextFromUrlChange = function (url) {\n        return someIf(persistentData.text.length <= 0, Optional.from(url.meta.text).getOr(url.value));\n      };\n      var onUrlChange = function (data) {\n        var text = getTextFromUrlChange(data.url);\n        var title = getTitleFromUrlChange(data.url);\n        if (text.isSome() || title.isSome()) {\n          return Optional.some(__assign(__assign({}, text.map(function (text) {\n            return { text: text };\n          }).getOr({})), title.map(function (title) {\n            return { title: title };\n          }).getOr({})));\n        } else {\n          return Optional.none();\n        }\n      };\n      var onCatalogChange = function (data, change) {\n        var catalog = findCatalog(linkCatalog, change.name).getOr([]);\n        return getDelta(persistentData.text, change.name, catalog, data);\n      };\n      var onChange = function (getData, change) {\n        var name = change.name;\n        if (name === 'url') {\n          return onUrlChange(getData());\n        } else if (contains([\n            'anchor',\n            'link'\n          ], name)) {\n          return onCatalogChange(getData(), change);\n        } else if (name === 'text' || name === 'title') {\n          persistentData[name] = getData()[name];\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      };\n      return { onChange: onChange };\n    };\n    var DialogChanges = {\n      init: init,\n      getDelta: getDelta\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var delayedConfirm = function (editor, message, callback) {\n      var rng = editor.selection.getRng();\n      global$2.setEditorTimeout(editor, function () {\n        editor.windowManager.confirm(message, function (state) {\n          editor.selection.setRng(rng);\n          callback(state);\n        });\n      });\n    };\n    var tryEmailTransform = function (data) {\n      var url = data.href;\n      var suggestMailTo = url.indexOf('@') > 0 && url.indexOf('/') === -1 && url.indexOf('mailto:') === -1;\n      return suggestMailTo ? Optional.some({\n        message: 'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?',\n        preprocess: function (oldData) {\n          return __assign(__assign({}, oldData), { href: 'mailto:' + url });\n        }\n      }) : Optional.none();\n    };\n    var tryProtocolTransform = function (assumeExternalTargets, defaultLinkProtocol) {\n      return function (data) {\n        var url = data.href;\n        var suggestProtocol = assumeExternalTargets === 1 && !hasProtocol(url) || assumeExternalTargets === 0 && /^\\s*www(\\.|\\d\\.)/i.test(url);\n        return suggestProtocol ? Optional.some({\n          message: 'The URL you entered seems to be an external link. Do you want to add the required ' + defaultLinkProtocol + ':// prefix?',\n          preprocess: function (oldData) {\n            return __assign(__assign({}, oldData), { href: defaultLinkProtocol + '://' + url });\n          }\n        }) : Optional.none();\n      };\n    };\n    var preprocess = function (editor, data) {\n      return findMap([\n        tryEmailTransform,\n        tryProtocolTransform(assumeExternalTargets(editor), getDefaultLinkProtocol(editor))\n      ], function (f) {\n        return f(data);\n      }).fold(function () {\n        return global$1.resolve(data);\n      }, function (transform) {\n        return new global$1(function (callback) {\n          delayedConfirm(editor, transform.message, function (state) {\n            callback(state ? transform.preprocess(data) : data);\n          });\n        });\n      });\n    };\n    var DialogConfirms = { preprocess: preprocess };\n\n    var getAnchors = function (editor) {\n      var anchorNodes = editor.dom.select('a:not([href])');\n      var anchors = bind(anchorNodes, function (anchor) {\n        var id = anchor.name || anchor.id;\n        return id ? [{\n            text: id,\n            value: '#' + id\n          }] : [];\n      });\n      return anchors.length > 0 ? Optional.some([{\n          text: 'None',\n          value: ''\n        }].concat(anchors)) : Optional.none();\n    };\n    var AnchorListOptions = { getAnchors: getAnchors };\n\n    var getClasses = function (editor) {\n      var list = getLinkClassList(editor);\n      if (list.length > 0) {\n        return ListOptions.sanitize(list);\n      }\n      return Optional.none();\n    };\n    var ClassListOptions = { getClasses: getClasses };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.XHR');\n\n    var parseJson = function (text) {\n      try {\n        return Optional.some(JSON.parse(text));\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    var getLinks = function (editor) {\n      var extractor = function (item) {\n        return editor.convertURL(item.value || item.url, 'href');\n      };\n      var linkList = getLinkList(editor);\n      return new global$1(function (callback) {\n        if (isString(linkList)) {\n          global.send({\n            url: linkList,\n            success: function (text) {\n              return callback(parseJson(text));\n            },\n            error: function (_) {\n              return callback(Optional.none());\n            }\n          });\n        } else if (isFunction(linkList)) {\n          linkList(function (output) {\n            return callback(Optional.some(output));\n          });\n        } else {\n          callback(Optional.from(linkList));\n        }\n      }).then(function (optItems) {\n        return optItems.bind(ListOptions.sanitizeWith(extractor)).map(function (items) {\n          if (items.length > 0) {\n            var noneItem = [{\n                text: 'None',\n                value: ''\n              }];\n            return noneItem.concat(items);\n          } else {\n            return items;\n          }\n        });\n      });\n    };\n    var LinkListOptions = { getLinks: getLinks };\n\n    var getRels = function (editor, initialTarget) {\n      var list = getRelList(editor);\n      if (list.length > 0) {\n        var isTargetBlank_1 = is(initialTarget, '_blank');\n        var enforceSafe = allowUnsafeLinkTarget(editor) === false;\n        var safeRelExtractor = function (item) {\n          return applyRelTargetRules(ListOptions.getValue(item), isTargetBlank_1);\n        };\n        var sanitizer = enforceSafe ? ListOptions.sanitizeWith(safeRelExtractor) : ListOptions.sanitize;\n        return sanitizer(list);\n      }\n      return Optional.none();\n    };\n    var RelOptions = { getRels: getRels };\n\n    var fallbacks = [\n      {\n        text: 'Current window',\n        value: ''\n      },\n      {\n        text: 'New window',\n        value: '_blank'\n      }\n    ];\n    var getTargets = function (editor) {\n      var list = getTargetList(editor);\n      if (isArray(list)) {\n        return ListOptions.sanitize(list).orThunk(function () {\n          return Optional.some(fallbacks);\n        });\n      } else if (list === false) {\n        return Optional.none();\n      }\n      return Optional.some(fallbacks);\n    };\n    var TargetOptions = { getTargets: getTargets };\n\n    var nonEmptyAttr = function (dom, elem, name) {\n      var val = dom.getAttrib(elem, name);\n      return val !== null && val.length > 0 ? Optional.some(val) : Optional.none();\n    };\n    var extractFromAnchor = function (editor, anchor) {\n      var dom = editor.dom;\n      var onlyText = isOnlyTextSelected(editor);\n      var text = onlyText ? Optional.some(getAnchorText(editor.selection, anchor)) : Optional.none();\n      var url = anchor ? Optional.some(dom.getAttrib(anchor, 'href')) : Optional.none();\n      var target = anchor ? Optional.from(dom.getAttrib(anchor, 'target')) : Optional.none();\n      var rel = nonEmptyAttr(dom, anchor, 'rel');\n      var linkClass = nonEmptyAttr(dom, anchor, 'class');\n      var title = nonEmptyAttr(dom, anchor, 'title');\n      return {\n        url: url,\n        text: text,\n        title: title,\n        target: target,\n        rel: rel,\n        linkClass: linkClass\n      };\n    };\n    var collect = function (editor, linkNode) {\n      return LinkListOptions.getLinks(editor).then(function (links) {\n        var anchor = extractFromAnchor(editor, linkNode);\n        return {\n          anchor: anchor,\n          catalogs: {\n            targets: TargetOptions.getTargets(editor),\n            rels: RelOptions.getRels(editor, anchor.target),\n            classes: ClassListOptions.getClasses(editor),\n            anchor: AnchorListOptions.getAnchors(editor),\n            link: links\n          },\n          optNode: Optional.from(linkNode),\n          flags: { titleEnabled: shouldShowLinkTitle(editor) }\n        };\n      });\n    };\n    var DialogInfo = { collect: collect };\n\n    var handleSubmit = function (editor, info) {\n      return function (api) {\n        var data = api.getData();\n        if (!data.url.value) {\n          unlink(editor);\n          api.close();\n          return;\n        }\n        var getChangedValue = function (key) {\n          return Optional.from(data[key]).filter(function (value) {\n            return !is(info.anchor[key], value);\n          });\n        };\n        var changedData = {\n          href: data.url.value,\n          text: getChangedValue('text'),\n          target: getChangedValue('target'),\n          rel: getChangedValue('rel'),\n          class: getChangedValue('linkClass'),\n          title: getChangedValue('title')\n        };\n        var attachState = {\n          href: data.url.value,\n          attach: data.url.meta !== undefined && data.url.meta.attach ? data.url.meta.attach : noop\n        };\n        DialogConfirms.preprocess(editor, changedData).then(function (pData) {\n          link(editor, attachState, pData);\n        });\n        api.close();\n      };\n    };\n    var collectData = function (editor) {\n      var anchorNode = getAnchorElement(editor);\n      return DialogInfo.collect(editor, anchorNode);\n    };\n    var getInitialData = function (info, defaultTarget) {\n      var anchor = info.anchor;\n      var url = anchor.url.getOr('');\n      return {\n        url: {\n          value: url,\n          meta: { original: { value: url } }\n        },\n        text: anchor.text.getOr(''),\n        title: anchor.title.getOr(''),\n        anchor: url,\n        link: url,\n        rel: anchor.rel.getOr(''),\n        target: anchor.target.or(defaultTarget).getOr(''),\n        linkClass: anchor.linkClass.getOr('')\n      };\n    };\n    var makeDialog = function (settings, onSubmit, editor) {\n      var urlInput = [{\n          name: 'url',\n          type: 'urlinput',\n          filetype: 'file',\n          label: 'URL'\n        }];\n      var displayText = settings.anchor.text.map(function () {\n        return {\n          name: 'text',\n          type: 'input',\n          label: 'Text to display'\n        };\n      }).toArray();\n      var titleText = settings.flags.titleEnabled ? [{\n          name: 'title',\n          type: 'input',\n          label: 'Title'\n        }] : [];\n      var defaultTarget = Optional.from(getDefaultLinkTarget(editor));\n      var initialData = getInitialData(settings, defaultTarget);\n      var catalogs = settings.catalogs;\n      var dialogDelta = DialogChanges.init(initialData, catalogs);\n      var body = {\n        type: 'panel',\n        items: flatten([\n          urlInput,\n          displayText,\n          titleText,\n          cat([\n            catalogs.anchor.map(ListOptions.createUi('anchor', 'Anchors')),\n            catalogs.rels.map(ListOptions.createUi('rel', 'Rel')),\n            catalogs.targets.map(ListOptions.createUi('target', 'Open link in...')),\n            catalogs.link.map(ListOptions.createUi('link', 'Link list')),\n            catalogs.classes.map(ListOptions.createUi('linkClass', 'Class'))\n          ])\n        ])\n      };\n      return {\n        title: 'Insert/Edit Link',\n        size: 'normal',\n        body: body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: initialData,\n        onChange: function (api, _a) {\n          var name = _a.name;\n          dialogDelta.onChange(api.getData, { name: name }).each(function (newData) {\n            api.setData(newData);\n          });\n        },\n        onSubmit: onSubmit\n      };\n    };\n    var open$1 = function (editor) {\n      var data = collectData(editor);\n      data.then(function (info) {\n        var onSubmit = handleSubmit(editor, info);\n        return makeDialog(info, onSubmit, editor);\n      }).then(function (spec) {\n        editor.windowManager.open(spec);\n      });\n    };\n\n    var appendClickRemove = function (link, evt) {\n      document.body.appendChild(link);\n      link.dispatchEvent(evt);\n      document.body.removeChild(link);\n    };\n    var open = function (url) {\n      var link = document.createElement('a');\n      link.target = '_blank';\n      link.href = url;\n      link.rel = 'noreferrer noopener';\n      var evt = document.createEvent('MouseEvents');\n      evt.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      appendClickRemove(link, evt);\n    };\n\n    var getLink = function (editor, elm) {\n      return editor.dom.getParent(elm, 'a[href]');\n    };\n    var getSelectedLink = function (editor) {\n      return getLink(editor, editor.selection.getStart());\n    };\n    var hasOnlyAltModifier = function (e) {\n      return e.altKey === true && e.shiftKey === false && e.ctrlKey === false && e.metaKey === false;\n    };\n    var gotoLink = function (editor, a) {\n      if (a) {\n        var href = getHref(a);\n        if (/^#/.test(href)) {\n          var targetEl = editor.$(href);\n          if (targetEl.length) {\n            editor.selection.scrollIntoView(targetEl[0], true);\n          }\n        } else {\n          open(a.href);\n        }\n      }\n    };\n    var openDialog = function (editor) {\n      return function () {\n        open$1(editor);\n      };\n    };\n    var gotoSelectedLink = function (editor) {\n      return function () {\n        gotoLink(editor, getSelectedLink(editor));\n      };\n    };\n    var setupGotoLinks = function (editor) {\n      editor.on('click', function (e) {\n        var link = getLink(editor, e.target);\n        if (link && global$6.metaKeyPressed(e)) {\n          e.preventDefault();\n          gotoLink(editor, link);\n        }\n      });\n      editor.on('keydown', function (e) {\n        var link = getSelectedLink(editor);\n        if (link && e.keyCode === 13 && hasOnlyAltModifier(e)) {\n          e.preventDefault();\n          gotoLink(editor, link);\n        }\n      });\n    };\n    var toggleState = function (editor, toggler) {\n      editor.on('NodeChange', toggler);\n      return function () {\n        return editor.off('NodeChange', toggler);\n      };\n    };\n    var toggleActiveState = function (editor) {\n      return function (api) {\n        var updateState = function () {\n          return api.setActive(!editor.mode.isReadOnly() && getAnchorElement(editor, editor.selection.getNode()) !== null);\n        };\n        updateState();\n        return toggleState(editor, updateState);\n      };\n    };\n    var toggleEnabledState = function (editor) {\n      return function (api) {\n        var updateState = function () {\n          return api.setDisabled(getAnchorElement(editor, editor.selection.getNode()) === null);\n        };\n        updateState();\n        return toggleState(editor, updateState);\n      };\n    };\n    var toggleUnlinkState = function (editor) {\n      return function (api) {\n        var hasLinks$1 = function (parents) {\n          return hasLinks(parents) || hasLinksInSelection(editor.selection.getRng());\n        };\n        var parents = editor.dom.getParents(editor.selection.getStart());\n        api.setDisabled(!hasLinks$1(parents));\n        return toggleState(editor, function (e) {\n          return api.setDisabled(!hasLinks$1(e.parents));\n        });\n      };\n    };\n\n    var register = function (editor) {\n      editor.addCommand('mceLink', function () {\n        if (useQuickLink(editor)) {\n          editor.fire('contexttoolbar-show', { toolbarKey: 'quicklink' });\n        } else {\n          openDialog(editor)();\n        }\n      });\n    };\n\n    var setup = function (editor) {\n      editor.addShortcut('Meta+K', '', function () {\n        editor.execCommand('mceLink');\n      });\n    };\n\n    var setupButtons = function (editor) {\n      editor.ui.registry.addToggleButton('link', {\n        icon: 'link',\n        tooltip: 'Insert/edit link',\n        onAction: openDialog(editor),\n        onSetup: toggleActiveState(editor)\n      });\n      editor.ui.registry.addButton('openlink', {\n        icon: 'new-tab',\n        tooltip: 'Open link',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleEnabledState(editor)\n      });\n      editor.ui.registry.addButton('unlink', {\n        icon: 'unlink',\n        tooltip: 'Remove link',\n        onAction: function () {\n          return unlink(editor);\n        },\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    var setupMenuItems = function (editor) {\n      editor.ui.registry.addMenuItem('openlink', {\n        text: 'Open link',\n        icon: 'new-tab',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleEnabledState(editor)\n      });\n      editor.ui.registry.addMenuItem('link', {\n        icon: 'link',\n        text: 'Link...',\n        shortcut: 'Meta+K',\n        onAction: openDialog(editor)\n      });\n      editor.ui.registry.addMenuItem('unlink', {\n        icon: 'unlink',\n        text: 'Remove link',\n        onAction: function () {\n          return unlink(editor);\n        },\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    var setupContextMenu = function (editor) {\n      var inLink = 'link unlink openlink';\n      var noLink = 'link';\n      editor.ui.registry.addContextMenu('link', {\n        update: function (element) {\n          return hasLinks(editor.dom.getParents(element, 'a')) ? inLink : noLink;\n        }\n      });\n    };\n    var setupContextToolbars = function (editor) {\n      var collapseSelectionToEnd = function (editor) {\n        editor.selection.collapse(false);\n      };\n      var onSetupLink = function (buttonApi) {\n        var node = editor.selection.getNode();\n        buttonApi.setDisabled(!getAnchorElement(editor, node));\n        return noop;\n      };\n      var getLinkText = function (value) {\n        var anchor = getAnchorElement(editor);\n        var onlyText = isOnlyTextSelected(editor);\n        if (!anchor && onlyText) {\n          var text = getAnchorText(editor.selection, anchor);\n          return Optional.some(text.length > 0 ? text : value);\n        } else {\n          return Optional.none();\n        }\n      };\n      editor.ui.registry.addContextForm('quicklink', {\n        launch: {\n          type: 'contextformtogglebutton',\n          icon: 'link',\n          tooltip: 'Link',\n          onSetup: toggleActiveState(editor)\n        },\n        label: 'Link',\n        predicate: function (node) {\n          return !!getAnchorElement(editor, node) && hasContextToolbar(editor);\n        },\n        initValue: function () {\n          var elm = getAnchorElement(editor);\n          return !!elm ? getHref(elm) : '';\n        },\n        commands: [\n          {\n            type: 'contextformtogglebutton',\n            icon: 'link',\n            tooltip: 'Link',\n            primary: true,\n            onSetup: function (buttonApi) {\n              var node = editor.selection.getNode();\n              buttonApi.setActive(!!getAnchorElement(editor, node));\n              return toggleActiveState(editor)(buttonApi);\n            },\n            onAction: function (formApi) {\n              var value = formApi.getValue();\n              var text = getLinkText(value);\n              var attachState = {\n                href: value,\n                attach: noop\n              };\n              link(editor, attachState, {\n                href: value,\n                text: text,\n                title: Optional.none(),\n                rel: Optional.none(),\n                target: Optional.none(),\n                class: Optional.none()\n              });\n              collapseSelectionToEnd(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'unlink',\n            tooltip: 'Remove link',\n            onSetup: onSetupLink,\n            onAction: function (formApi) {\n              unlink(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'new-tab',\n            tooltip: 'Open link',\n            onSetup: onSetupLink,\n            onAction: function (formApi) {\n              gotoSelectedLink(editor)();\n              formApi.hide();\n            }\n          }\n        ]\n      });\n    };\n\n    function Plugin () {\n      global$7.add('link', function (editor) {\n        setupButtons(editor);\n        setupMenuItems(editor);\n        setupContextMenu(editor);\n        setupContextToolbars(editor);\n        setupGotoLinks(editor);\n        register(editor);\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"lists\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/lists')\n//   ES2015:\n//     import 'tinymce/plugins/lists'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType$1('string');\n    var isObject = isType$1('object');\n    var isArray = isType$1('array');\n    var isBoolean = isSimpleType('boolean');\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var tripleEquals = function (a, b) {\n      return a === b;\n    };\n    var not = function (f) {\n      return function (t) {\n        return !f(t);\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativePush = Array.prototype.push;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter$1 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var groupBy = function (xs, f) {\n      if (xs.length === 0) {\n        return [];\n      } else {\n        var wasType = f(xs[0]);\n        var r = [];\n        var group = [];\n        for (var i = 0, len = xs.length; i < len; i++) {\n          var x = xs[i];\n          var type = f(x);\n          if (type !== wasType) {\n            r.push(group);\n            group = [];\n          }\n          wasType = type;\n          group.push(x);\n        }\n        if (group.length !== 0) {\n          r.push(group);\n        }\n        return r;\n      }\n    };\n    var foldl = function (xs, f, acc) {\n      each$1(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find$1 = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var get$1 = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$1(xs, 0);\n    };\n    var last = function (xs) {\n      return get$1(xs, xs.length - 1);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$2(group(1), group(2));\n    };\n    var detect$3 = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find(versionRegexes, cleanedAgent);\n    };\n    var unknown$2 = function () {\n      return nu$2(0, 0);\n    };\n    var nu$2 = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$2,\n      detect: detect$3,\n      unknown: unknown$2\n    };\n\n    var detectBrowser$1 = function (browsers, userAgentData) {\n      return findMap(userAgentData.brands, function (uaBrand) {\n        var lcBrand = uaBrand.brand.toLowerCase();\n        return find$1(browsers, function (browser) {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(function (info) {\n          return {\n            current: info.name,\n            version: Version.nu(parseInt(uaBrand.version, 10), 0)\n          };\n        });\n      });\n    };\n\n    var detect$2 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find$1(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$2(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$2(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var contains$1 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var blank = function (r) {\n      return function (s) {\n        return s.replace(r, '');\n      };\n    };\n    var trim = blank(/^\\s+|\\s+$/g);\n    var isNotEmpty = function (s) {\n      return s.length > 0;\n    };\n    var isEmpty$1 = function (s) {\n      return !isNotEmpty(s);\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$1(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$1 = function () {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$1 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown = function () {\n      return nu({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown,\n      nu: nu,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    var detect$1 = function (userAgent, userAgentDataOpt, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = userAgentDataOpt.bind(function (userAgentData) {\n        return detectBrowser$1(browsers, userAgentData);\n      }).orThunk(function () {\n        return detectBrowser(browsers, userAgent);\n      }).fold(Browser.unknown, Browser.nu);\n      var os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$1 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch);\n    });\n    var detect = function () {\n      return platform();\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n\n    var ELEMENT = 1;\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var is$2 = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom;\n      var d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return documentPositionContainedBy(e1.dom, e2.dom);\n    };\n    var contains = function (e1, e2) {\n      return detect().browser.isIE() ? ieContains(e1, e2) : regularContains(e1, e2);\n    };\n    var is$1 = is$2;\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var keys = Object.keys;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var filter = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var name = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement = isType(ELEMENT);\n    var isTag = function (tag) {\n      return function (e) {\n        return isElement(e) && name(e) === tag;\n      };\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var setAll = function (element, attrs) {\n      var dom = element.dom;\n      each(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var clone$1 = function (element) {\n      return foldl(element.dom.attributes, function (acc, attr) {\n        acc[attr.name] = attr.value;\n        return acc;\n      }, {});\n    };\n\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var children = function (element) {\n      return map(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var child = function (element, index) {\n      var cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    var firstChild = function (element) {\n      return child(element, 0);\n    };\n    var lastChild = function (element) {\n      return child(element, element.dom.childNodes.length - 1);\n    };\n\n    var before$1 = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var append$1 = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n\n    var before = function (marker, elements) {\n      each$1(elements, function (x) {\n        before$1(marker, x);\n      });\n    };\n    var append = function (parent, elements) {\n      each$1(elements, function (x) {\n        append$1(parent, x);\n      });\n    };\n\n    var remove = function (element) {\n      var dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    var clone = function (original, isDeep) {\n      return SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    };\n    var deep = function (original) {\n      return clone(original, true);\n    };\n    var shallowAs = function (original, tag) {\n      var nu = SugarElement.fromTag(tag);\n      var attributes = clone$1(original);\n      setAll(nu, attributes);\n      return nu;\n    };\n    var mutate = function (original, tag) {\n      var nu = shallowAs(original, tag);\n      before$1(original, nu);\n      var children$1 = children(original);\n      append(nu, children$1);\n      remove(original);\n      return nu;\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var matchNodeName = function (name) {\n      return function (node) {\n        return node && node.nodeName.toLowerCase() === name;\n      };\n    };\n    var matchNodeNames = function (regex) {\n      return function (node) {\n        return node && regex.test(node.nodeName);\n      };\n    };\n    var isTextNode = function (node) {\n      return node && node.nodeType === 3;\n    };\n    var isListNode = matchNodeNames(/^(OL|UL|DL)$/);\n    var isOlUlNode = matchNodeNames(/^(OL|UL)$/);\n    var isOlNode = matchNodeName('ol');\n    var isListItemNode = matchNodeNames(/^(LI|DT|DD)$/);\n    var isDlItemNode = matchNodeNames(/^(DT|DD)$/);\n    var isTableCellNode = matchNodeNames(/^(TH|TD)$/);\n    var isBr = matchNodeName('br');\n    var isFirstChild = function (node) {\n      return node.parentNode.firstChild === node;\n    };\n    var isTextBlock = function (editor, node) {\n      return node && !!editor.schema.getTextBlockElements()[node.nodeName];\n    };\n    var isBlock = function (node, blockElements) {\n      return node && node.nodeName in blockElements;\n    };\n    var isBogusBr = function (dom, node) {\n      if (!isBr(node)) {\n        return false;\n      }\n      return dom.isBlock(node.nextSibling) && !isBr(node.previousSibling);\n    };\n    var isEmpty = function (dom, elm, keepBookmarks) {\n      var empty = dom.isEmpty(elm);\n      if (keepBookmarks && dom.select('span[data-mce-type=bookmark]', elm).length > 0) {\n        return false;\n      }\n      return empty;\n    };\n    var isChildOfBody = function (dom, elm) {\n      return dom.isChildOf(elm, dom.getRoot());\n    };\n\n    var shouldIndentOnTab = function (editor) {\n      return editor.getParam('lists_indent_on_tab', true);\n    };\n    var getForcedRootBlock = function (editor) {\n      var block = editor.getParam('forced_root_block', 'p');\n      if (block === false) {\n        return '';\n      } else if (block === true) {\n        return 'p';\n      } else {\n        return block;\n      }\n    };\n    var getForcedRootBlockAttrs = function (editor) {\n      return editor.getParam('forced_root_block_attrs', {});\n    };\n\n    var createTextBlock = function (editor, contentNode) {\n      var dom = editor.dom;\n      var blockElements = editor.schema.getBlockElements();\n      var fragment = dom.createFragment();\n      var blockName = getForcedRootBlock(editor);\n      var node, textBlock, hasContentNode;\n      if (blockName) {\n        textBlock = dom.create(blockName);\n        if (textBlock.tagName === blockName.toUpperCase()) {\n          dom.setAttribs(textBlock, getForcedRootBlockAttrs(editor));\n        }\n        if (!isBlock(contentNode.firstChild, blockElements)) {\n          fragment.appendChild(textBlock);\n        }\n      }\n      if (contentNode) {\n        while (node = contentNode.firstChild) {\n          var nodeName = node.nodeName;\n          if (!hasContentNode && (nodeName !== 'SPAN' || node.getAttribute('data-mce-type') !== 'bookmark')) {\n            hasContentNode = true;\n          }\n          if (isBlock(node, blockElements)) {\n            fragment.appendChild(node);\n            textBlock = null;\n          } else {\n            if (blockName) {\n              if (!textBlock) {\n                textBlock = dom.create(blockName);\n                fragment.appendChild(textBlock);\n              }\n              textBlock.appendChild(node);\n            } else {\n              fragment.appendChild(node);\n            }\n          }\n        }\n      }\n      if (!blockName) {\n        fragment.appendChild(dom.create('br'));\n      } else {\n        if (!hasContentNode) {\n          textBlock.appendChild(dom.create('br', { 'data-mce-bogus': '1' }));\n        }\n      }\n      return fragment;\n    };\n\n    var DOM$2 = global$3.DOM;\n    var splitList = function (editor, list, li) {\n      var removeAndKeepBookmarks = function (targetNode) {\n        global$2.each(bookmarks, function (node) {\n          targetNode.parentNode.insertBefore(node, li.parentNode);\n        });\n        DOM$2.remove(targetNode);\n      };\n      var bookmarks = DOM$2.select('span[data-mce-type=\"bookmark\"]', list);\n      var newBlock = createTextBlock(editor, li);\n      var tmpRng = DOM$2.createRng();\n      tmpRng.setStartAfter(li);\n      tmpRng.setEndAfter(list);\n      var fragment = tmpRng.extractContents();\n      for (var node = fragment.firstChild; node; node = node.firstChild) {\n        if (node.nodeName === 'LI' && editor.dom.isEmpty(node)) {\n          DOM$2.remove(node);\n          break;\n        }\n      }\n      if (!editor.dom.isEmpty(fragment)) {\n        DOM$2.insertAfter(fragment, list);\n      }\n      DOM$2.insertAfter(newBlock, list);\n      if (isEmpty(editor.dom, li.parentNode)) {\n        removeAndKeepBookmarks(li.parentNode);\n      }\n      DOM$2.remove(li);\n      if (isEmpty(editor.dom, list)) {\n        DOM$2.remove(list);\n      }\n    };\n\n    var isDescriptionDetail = isTag('dd');\n    var isDescriptionTerm = isTag('dt');\n    var outdentDlItem = function (editor, item) {\n      if (isDescriptionDetail(item)) {\n        mutate(item, 'dt');\n      } else if (isDescriptionTerm(item)) {\n        parent(item).each(function (dl) {\n          return splitList(editor, dl.dom, item.dom);\n        });\n      }\n    };\n    var indentDlItem = function (item) {\n      if (isDescriptionTerm(item)) {\n        mutate(item, 'dd');\n      }\n    };\n    var dlIndentation = function (editor, indentation, dlItems) {\n      if (indentation === 'Indent') {\n        each$1(dlItems, indentDlItem);\n      } else {\n        each$1(dlItems, function (item) {\n          return outdentDlItem(editor, item);\n        });\n      }\n    };\n\n    var getNormalizedPoint = function (container, offset) {\n      if (isTextNode(container)) {\n        return {\n          container: container,\n          offset: offset\n        };\n      }\n      var node = global$6.getNode(container, offset);\n      if (isTextNode(node)) {\n        return {\n          container: node,\n          offset: offset >= container.childNodes.length ? node.data.length : 0\n        };\n      } else if (node.previousSibling && isTextNode(node.previousSibling)) {\n        return {\n          container: node.previousSibling,\n          offset: node.previousSibling.data.length\n        };\n      } else if (node.nextSibling && isTextNode(node.nextSibling)) {\n        return {\n          container: node.nextSibling,\n          offset: 0\n        };\n      }\n      return {\n        container: container,\n        offset: offset\n      };\n    };\n    var normalizeRange = function (rng) {\n      var outRng = rng.cloneRange();\n      var rangeStart = getNormalizedPoint(rng.startContainer, rng.startOffset);\n      outRng.setStart(rangeStart.container, rangeStart.offset);\n      var rangeEnd = getNormalizedPoint(rng.endContainer, rng.endOffset);\n      outRng.setEnd(rangeEnd.container, rangeEnd.offset);\n      return outRng;\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DomQuery');\n\n    var getParentList = function (editor, node) {\n      var selectionStart = node || editor.selection.getStart(true);\n      return editor.dom.getParent(selectionStart, 'OL,UL,DL', getClosestListRootElm(editor, selectionStart));\n    };\n    var isParentListSelected = function (parentList, selectedBlocks) {\n      return parentList && selectedBlocks.length === 1 && selectedBlocks[0] === parentList;\n    };\n    var findSubLists = function (parentList) {\n      return filter$1(parentList.querySelectorAll('ol,ul,dl'), isListNode);\n    };\n    var getSelectedSubLists = function (editor) {\n      var parentList = getParentList(editor);\n      var selectedBlocks = editor.selection.getSelectedBlocks();\n      if (isParentListSelected(parentList, selectedBlocks)) {\n        return findSubLists(parentList);\n      } else {\n        return filter$1(selectedBlocks, function (elm) {\n          return isListNode(elm) && parentList !== elm;\n        });\n      }\n    };\n    var findParentListItemsNodes = function (editor, elms) {\n      var listItemsElms = global$2.map(elms, function (elm) {\n        var parentLi = editor.dom.getParent(elm, 'li,dd,dt', getClosestListRootElm(editor, elm));\n        return parentLi ? parentLi : elm;\n      });\n      return global$1.unique(listItemsElms);\n    };\n    var getSelectedListItems = function (editor) {\n      var selectedBlocks = editor.selection.getSelectedBlocks();\n      return filter$1(findParentListItemsNodes(editor, selectedBlocks), isListItemNode);\n    };\n    var getSelectedDlItems = function (editor) {\n      return filter$1(getSelectedListItems(editor), isDlItemNode);\n    };\n    var getClosestListRootElm = function (editor, elm) {\n      var parentTableCell = editor.dom.getParents(elm, 'TD,TH');\n      return parentTableCell.length > 0 ? parentTableCell[0] : editor.getBody();\n    };\n    var findLastParentListNode = function (editor, elm) {\n      var parentLists = editor.dom.getParents(elm, 'ol,ul', getClosestListRootElm(editor, elm));\n      return last(parentLists);\n    };\n    var getSelectedLists = function (editor) {\n      var firstList = findLastParentListNode(editor, editor.selection.getStart());\n      var subsequentLists = filter$1(editor.selection.getSelectedBlocks(), isOlUlNode);\n      return firstList.toArray().concat(subsequentLists);\n    };\n    var getSelectedListRoots = function (editor) {\n      var selectedLists = getSelectedLists(editor);\n      return getUniqueListRoots(editor, selectedLists);\n    };\n    var getUniqueListRoots = function (editor, lists) {\n      var listRoots = map(lists, function (list) {\n        return findLastParentListNode(editor, list).getOr(list);\n      });\n      return global$1.unique(listRoots);\n    };\n\n    var is = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lhs.exists(function (left) {\n        return comparator(left, rhs);\n      });\n    };\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    };\n\n    var fromElements = function (elements, scope) {\n      var doc = scope || document;\n      var fragment = doc.createDocumentFragment();\n      each$1(elements, function (element) {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    var fireListEvent = function (editor, action, element) {\n      return editor.fire('ListMutation', {\n        action: action,\n        element: element\n      });\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var set = function (element, property, value) {\n      var dom = element.dom;\n      internalSet(dom, property, value);\n    };\n\n    var joinSegment = function (parent, child) {\n      append$1(parent.item, child.list);\n    };\n    var joinSegments = function (segments) {\n      for (var i = 1; i < segments.length; i++) {\n        joinSegment(segments[i - 1], segments[i]);\n      }\n    };\n    var appendSegments = function (head$1, tail) {\n      lift2(last(head$1), head(tail), joinSegment);\n    };\n    var createSegment = function (scope, listType) {\n      var segment = {\n        list: SugarElement.fromTag(listType, scope),\n        item: SugarElement.fromTag('li', scope)\n      };\n      append$1(segment.list, segment.item);\n      return segment;\n    };\n    var createSegments = function (scope, entry, size) {\n      var segments = [];\n      for (var i = 0; i < size; i++) {\n        segments.push(createSegment(scope, entry.listType));\n      }\n      return segments;\n    };\n    var populateSegments = function (segments, entry) {\n      for (var i = 0; i < segments.length - 1; i++) {\n        set(segments[i].item, 'list-style-type', 'none');\n      }\n      last(segments).each(function (segment) {\n        setAll(segment.list, entry.listAttributes);\n        setAll(segment.item, entry.itemAttributes);\n        append(segment.item, entry.content);\n      });\n    };\n    var normalizeSegment = function (segment, entry) {\n      if (name(segment.list) !== entry.listType) {\n        segment.list = mutate(segment.list, entry.listType);\n      }\n      setAll(segment.list, entry.listAttributes);\n    };\n    var createItem = function (scope, attr, content) {\n      var item = SugarElement.fromTag('li', scope);\n      setAll(item, attr);\n      append(item, content);\n      return item;\n    };\n    var appendItem = function (segment, item) {\n      append$1(segment.list, item);\n      segment.item = item;\n    };\n    var writeShallow = function (scope, cast, entry) {\n      var newCast = cast.slice(0, entry.depth);\n      last(newCast).each(function (segment) {\n        var item = createItem(scope, entry.itemAttributes, entry.content);\n        appendItem(segment, item);\n        normalizeSegment(segment, entry);\n      });\n      return newCast;\n    };\n    var writeDeep = function (scope, cast, entry) {\n      var segments = createSegments(scope, entry, entry.depth - cast.length);\n      joinSegments(segments);\n      populateSegments(segments, entry);\n      appendSegments(cast, segments);\n      return cast.concat(segments);\n    };\n    var composeList = function (scope, entries) {\n      var cast = foldl(entries, function (cast, entry) {\n        return entry.depth > cast.length ? writeDeep(scope, cast, entry) : writeShallow(scope, cast, entry);\n      }, []);\n      return head(cast).map(function (segment) {\n        return segment.list;\n      });\n    };\n\n    var isList = function (el) {\n      return is$1(el, 'OL,UL');\n    };\n    var hasFirstChildList = function (el) {\n      return firstChild(el).exists(isList);\n    };\n    var hasLastChildList = function (el) {\n      return lastChild(el).exists(isList);\n    };\n\n    var isIndented = function (entry) {\n      return entry.depth > 0;\n    };\n    var isSelected = function (entry) {\n      return entry.isSelected;\n    };\n    var cloneItemContent = function (li) {\n      var children$1 = children(li);\n      var content = hasLastChildList(li) ? children$1.slice(0, -1) : children$1;\n      return map(content, deep);\n    };\n    var createEntry = function (li, depth, isSelected) {\n      return parent(li).filter(isElement).map(function (list) {\n        return {\n          depth: depth,\n          dirty: false,\n          isSelected: isSelected,\n          content: cloneItemContent(li),\n          itemAttributes: clone$1(li),\n          listAttributes: clone$1(list),\n          listType: name(list)\n        };\n      });\n    };\n\n    var indentEntry = function (indentation, entry) {\n      switch (indentation) {\n      case 'Indent':\n        entry.depth++;\n        break;\n      case 'Outdent':\n        entry.depth--;\n        break;\n      case 'Flatten':\n        entry.depth = 0;\n      }\n      entry.dirty = true;\n    };\n\n    var cloneListProperties = function (target, source) {\n      target.listType = source.listType;\n      target.listAttributes = __assign({}, source.listAttributes);\n    };\n    var cleanListProperties = function (entry) {\n      entry.listAttributes = filter(entry.listAttributes, function (_value, key) {\n        return key !== 'start';\n      });\n    };\n    var closestSiblingEntry = function (entries, start) {\n      var depth = entries[start].depth;\n      var matches = function (entry) {\n        return entry.depth === depth && !entry.dirty;\n      };\n      var until = function (entry) {\n        return entry.depth < depth;\n      };\n      return findUntil(reverse(entries.slice(0, start)), matches, until).orThunk(function () {\n        return findUntil(entries.slice(start + 1), matches, until);\n      });\n    };\n    var normalizeEntries = function (entries) {\n      each$1(entries, function (entry, i) {\n        closestSiblingEntry(entries, i).fold(function () {\n          if (entry.dirty) {\n            cleanListProperties(entry);\n          }\n        }, function (matchingEntry) {\n          return cloneListProperties(entry, matchingEntry);\n        });\n      });\n      return entries;\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var parseItem = function (depth, itemSelection, selectionState, item) {\n      return firstChild(item).filter(isList).fold(function () {\n        itemSelection.each(function (selection) {\n          if (eq(selection.start, item)) {\n            selectionState.set(true);\n          }\n        });\n        var currentItemEntry = createEntry(item, depth, selectionState.get());\n        itemSelection.each(function (selection) {\n          if (eq(selection.end, item)) {\n            selectionState.set(false);\n          }\n        });\n        var childListEntries = lastChild(item).filter(isList).map(function (list) {\n          return parseList(depth, itemSelection, selectionState, list);\n        }).getOr([]);\n        return currentItemEntry.toArray().concat(childListEntries);\n      }, function (list) {\n        return parseList(depth, itemSelection, selectionState, list);\n      });\n    };\n    var parseList = function (depth, itemSelection, selectionState, list) {\n      return bind(children(list), function (element) {\n        var parser = isList(element) ? parseList : parseItem;\n        var newDepth = depth + 1;\n        return parser(newDepth, itemSelection, selectionState, element);\n      });\n    };\n    var parseLists = function (lists, itemSelection) {\n      var selectionState = Cell(false);\n      var initialDepth = 0;\n      return map(lists, function (list) {\n        return {\n          sourceList: list,\n          entries: parseList(initialDepth, itemSelection, selectionState, list)\n        };\n      });\n    };\n\n    var outdentedComposer = function (editor, entries) {\n      var normalizedEntries = normalizeEntries(entries);\n      return map(normalizedEntries, function (entry) {\n        var content = fromElements(entry.content);\n        return SugarElement.fromDom(createTextBlock(editor, content.dom));\n      });\n    };\n    var indentedComposer = function (editor, entries) {\n      var normalizedEntries = normalizeEntries(entries);\n      return composeList(editor.contentDocument, normalizedEntries).toArray();\n    };\n    var composeEntries = function (editor, entries) {\n      return bind(groupBy(entries, isIndented), function (entries) {\n        var groupIsIndented = head(entries).exists(isIndented);\n        return groupIsIndented ? indentedComposer(editor, entries) : outdentedComposer(editor, entries);\n      });\n    };\n    var indentSelectedEntries = function (entries, indentation) {\n      each$1(filter$1(entries, isSelected), function (entry) {\n        return indentEntry(indentation, entry);\n      });\n    };\n    var getItemSelection = function (editor) {\n      var selectedListItems = map(getSelectedListItems(editor), SugarElement.fromDom);\n      return lift2(find$1(selectedListItems, not(hasFirstChildList)), find$1(reverse(selectedListItems), not(hasFirstChildList)), function (start, end) {\n        return {\n          start: start,\n          end: end\n        };\n      });\n    };\n    var listIndentation = function (editor, lists, indentation) {\n      var entrySets = parseLists(lists, getItemSelection(editor));\n      each$1(entrySets, function (entrySet) {\n        indentSelectedEntries(entrySet.entries, indentation);\n        var composedLists = composeEntries(editor, entrySet.entries);\n        each$1(composedLists, function (composedList) {\n          fireListEvent(editor, indentation === 'Indent' ? 'IndentList' : 'OutdentList', composedList.dom);\n        });\n        before(entrySet.sourceList, composedLists);\n        remove(entrySet.sourceList);\n      });\n    };\n\n    var selectionIndentation = function (editor, indentation) {\n      var lists = map(getSelectedListRoots(editor), SugarElement.fromDom);\n      var dlItems = map(getSelectedDlItems(editor), SugarElement.fromDom);\n      var isHandled = false;\n      if (lists.length || dlItems.length) {\n        var bookmark = editor.selection.getBookmark();\n        listIndentation(editor, lists, indentation);\n        dlIndentation(editor, indentation, dlItems);\n        editor.selection.moveToBookmark(bookmark);\n        editor.selection.setRng(normalizeRange(editor.selection.getRng()));\n        editor.nodeChanged();\n        isHandled = true;\n      }\n      return isHandled;\n    };\n    var indentListSelection = function (editor) {\n      return selectionIndentation(editor, 'Indent');\n    };\n    var outdentListSelection = function (editor) {\n      return selectionIndentation(editor, 'Outdent');\n    };\n    var flattenListSelection = function (editor) {\n      return selectionIndentation(editor, 'Flatten');\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.dom.BookmarkManager');\n\n    var DOM$1 = global$3.DOM;\n    var createBookmark = function (rng) {\n      var bookmark = {};\n      var setupEndPoint = function (start) {\n        var container = rng[start ? 'startContainer' : 'endContainer'];\n        var offset = rng[start ? 'startOffset' : 'endOffset'];\n        if (container.nodeType === 1) {\n          var offsetNode = DOM$1.create('span', { 'data-mce-type': 'bookmark' });\n          if (container.hasChildNodes()) {\n            offset = Math.min(offset, container.childNodes.length - 1);\n            if (start) {\n              container.insertBefore(offsetNode, container.childNodes[offset]);\n            } else {\n              DOM$1.insertAfter(offsetNode, container.childNodes[offset]);\n            }\n          } else {\n            container.appendChild(offsetNode);\n          }\n          container = offsetNode;\n          offset = 0;\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      setupEndPoint(true);\n      if (!rng.collapsed) {\n        setupEndPoint();\n      }\n      return bookmark;\n    };\n    var resolveBookmark = function (bookmark) {\n      var restoreEndPoint = function (start) {\n        var node;\n        var nodeIndex = function (container) {\n          var node = container.parentNode.firstChild, idx = 0;\n          while (node) {\n            if (node === container) {\n              return idx;\n            }\n            if (node.nodeType !== 1 || node.getAttribute('data-mce-type') !== 'bookmark') {\n              idx++;\n            }\n            node = node.nextSibling;\n          }\n          return -1;\n        };\n        var container = node = bookmark[start ? 'startContainer' : 'endContainer'];\n        var offset = bookmark[start ? 'startOffset' : 'endOffset'];\n        if (!container) {\n          return;\n        }\n        if (container.nodeType === 1) {\n          offset = nodeIndex(container);\n          container = container.parentNode;\n          DOM$1.remove(node);\n          if (!container.hasChildNodes() && DOM$1.isBlock(container)) {\n            container.appendChild(DOM$1.create('br'));\n          }\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      restoreEndPoint(true);\n      restoreEndPoint();\n      var rng = DOM$1.createRng();\n      rng.setStart(bookmark.startContainer, bookmark.startOffset);\n      if (bookmark.endContainer) {\n        rng.setEnd(bookmark.endContainer, bookmark.endOffset);\n      }\n      return normalizeRange(rng);\n    };\n\n    var listToggleActionFromListName = function (listName) {\n      switch (listName) {\n      case 'UL':\n        return 'ToggleUlList';\n      case 'OL':\n        return 'ToggleOlList';\n      case 'DL':\n        return 'ToggleDLList';\n      }\n    };\n\n    var isCustomList = function (list) {\n      return /\\btox\\-/.test(list.className);\n    };\n    var listState = function (editor, listName, activate) {\n      var nodeChangeHandler = function (e) {\n        var inList = findUntil(e.parents, isListNode, isTableCellNode).filter(function (list) {\n          return list.nodeName === listName && !isCustomList(list);\n        }).isSome();\n        activate(inList);\n      };\n      var parents = editor.dom.getParents(editor.selection.getNode());\n      nodeChangeHandler({ parents: parents });\n      editor.on('NodeChange', nodeChangeHandler);\n      return function () {\n        return editor.off('NodeChange', nodeChangeHandler);\n      };\n    };\n\n    var updateListStyle = function (dom, el, detail) {\n      var type = detail['list-style-type'] ? detail['list-style-type'] : null;\n      dom.setStyle(el, 'list-style-type', type);\n    };\n    var setAttribs = function (elm, attrs) {\n      global$2.each(attrs, function (value, key) {\n        elm.setAttribute(key, value);\n      });\n    };\n    var updateListAttrs = function (dom, el, detail) {\n      setAttribs(el, detail['list-attributes']);\n      global$2.each(dom.select('li', el), function (li) {\n        setAttribs(li, detail['list-item-attributes']);\n      });\n    };\n    var updateListWithDetails = function (dom, el, detail) {\n      updateListStyle(dom, el, detail);\n      updateListAttrs(dom, el, detail);\n    };\n    var removeStyles = function (dom, element, styles) {\n      global$2.each(styles, function (style) {\n        var _a;\n        return dom.setStyle(element, (_a = {}, _a[style] = '', _a));\n      });\n    };\n    var getEndPointNode = function (editor, rng, start, root) {\n      var container = rng[start ? 'startContainer' : 'endContainer'];\n      var offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (container.nodeType === 1) {\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n      }\n      if (!start && isBr(container.nextSibling)) {\n        container = container.nextSibling;\n      }\n      while (container.parentNode !== root) {\n        if (isTextBlock(editor, container)) {\n          return container;\n        }\n        if (/^(TD|TH)$/.test(container.parentNode.nodeName)) {\n          return container;\n        }\n        container = container.parentNode;\n      }\n      return container;\n    };\n    var getSelectedTextBlocks = function (editor, rng, root) {\n      var textBlocks = [];\n      var dom = editor.dom;\n      var startNode = getEndPointNode(editor, rng, true, root);\n      var endNode = getEndPointNode(editor, rng, false, root);\n      var block;\n      var siblings = [];\n      for (var node = startNode; node; node = node.nextSibling) {\n        siblings.push(node);\n        if (node === endNode) {\n          break;\n        }\n      }\n      global$2.each(siblings, function (node) {\n        if (isTextBlock(editor, node)) {\n          textBlocks.push(node);\n          block = null;\n          return;\n        }\n        if (dom.isBlock(node) || isBr(node)) {\n          if (isBr(node)) {\n            dom.remove(node);\n          }\n          block = null;\n          return;\n        }\n        var nextSibling = node.nextSibling;\n        if (global.isBookmarkNode(node)) {\n          if (isListNode(nextSibling) || isTextBlock(editor, nextSibling) || !nextSibling && node.parentNode === root) {\n            block = null;\n            return;\n          }\n        }\n        if (!block) {\n          block = dom.create('p');\n          node.parentNode.insertBefore(block, node);\n          textBlocks.push(block);\n        }\n        block.appendChild(node);\n      });\n      return textBlocks;\n    };\n    var hasCompatibleStyle = function (dom, sib, detail) {\n      var sibStyle = dom.getStyle(sib, 'list-style-type');\n      var detailStyle = detail ? detail['list-style-type'] : '';\n      detailStyle = detailStyle === null ? '' : detailStyle;\n      return sibStyle === detailStyle;\n    };\n    var applyList = function (editor, listName, detail) {\n      var rng = editor.selection.getRng();\n      var listItemName = 'LI';\n      var root = getClosestListRootElm(editor, editor.selection.getStart(true));\n      var dom = editor.dom;\n      if (dom.getContentEditable(editor.selection.getNode()) === 'false') {\n        return;\n      }\n      listName = listName.toUpperCase();\n      if (listName === 'DL') {\n        listItemName = 'DT';\n      }\n      var bookmark = createBookmark(rng);\n      var selectedTextBlocks = getSelectedTextBlocks(editor, rng, root);\n      global$2.each(selectedTextBlocks, function (block) {\n        var listBlock;\n        var sibling = block.previousSibling;\n        var parent = block.parentNode;\n        if (!isListItemNode(parent)) {\n          if (sibling && isListNode(sibling) && sibling.nodeName === listName && hasCompatibleStyle(dom, sibling, detail)) {\n            listBlock = sibling;\n            block = dom.rename(block, listItemName);\n            sibling.appendChild(block);\n          } else {\n            listBlock = dom.create(listName);\n            block.parentNode.insertBefore(listBlock, block);\n            listBlock.appendChild(block);\n            block = dom.rename(block, listItemName);\n          }\n          removeStyles(dom, block, [\n            'margin',\n            'margin-right',\n            'margin-bottom',\n            'margin-left',\n            'margin-top',\n            'padding',\n            'padding-right',\n            'padding-bottom',\n            'padding-left',\n            'padding-top'\n          ]);\n          updateListWithDetails(dom, listBlock, detail);\n          mergeWithAdjacentLists(editor.dom, listBlock);\n        }\n      });\n      editor.selection.setRng(resolveBookmark(bookmark));\n    };\n    var isValidLists = function (list1, list2) {\n      return list1 && list2 && isListNode(list1) && list1.nodeName === list2.nodeName;\n    };\n    var hasSameListStyle = function (dom, list1, list2) {\n      var targetStyle = dom.getStyle(list1, 'list-style-type', true);\n      var style = dom.getStyle(list2, 'list-style-type', true);\n      return targetStyle === style;\n    };\n    var hasSameClasses = function (elm1, elm2) {\n      return elm1.className === elm2.className;\n    };\n    var shouldMerge = function (dom, list1, list2) {\n      return isValidLists(list1, list2) && hasSameListStyle(dom, list1, list2) && hasSameClasses(list1, list2);\n    };\n    var mergeWithAdjacentLists = function (dom, listBlock) {\n      var sibling, node;\n      sibling = listBlock.nextSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        while (node = sibling.firstChild) {\n          listBlock.appendChild(node);\n        }\n        dom.remove(sibling);\n      }\n      sibling = listBlock.previousSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        while (node = sibling.lastChild) {\n          listBlock.insertBefore(node, listBlock.firstChild);\n        }\n        dom.remove(sibling);\n      }\n    };\n    var updateList$1 = function (editor, list, listName, detail) {\n      if (list.nodeName !== listName) {\n        var newList = editor.dom.rename(list, listName);\n        updateListWithDetails(editor.dom, newList, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), newList);\n      } else {\n        updateListWithDetails(editor.dom, list, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), list);\n      }\n    };\n    var toggleMultipleLists = function (editor, parentList, lists, listName, detail) {\n      var parentIsList = isListNode(parentList);\n      if (parentIsList && parentList.nodeName === listName && !hasListStyleDetail(detail)) {\n        flattenListSelection(editor);\n      } else {\n        applyList(editor, listName, detail);\n        var bookmark = createBookmark(editor.selection.getRng());\n        var allLists = parentIsList ? __spreadArray([parentList], lists, true) : lists;\n        global$2.each(allLists, function (elm) {\n          updateList$1(editor, elm, listName, detail);\n        });\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    var hasListStyleDetail = function (detail) {\n      return 'list-style-type' in detail;\n    };\n    var toggleSingleList = function (editor, parentList, listName, detail) {\n      if (parentList === editor.getBody()) {\n        return;\n      }\n      if (parentList) {\n        if (parentList.nodeName === listName && !hasListStyleDetail(detail) && !isCustomList(parentList)) {\n          flattenListSelection(editor);\n        } else {\n          var bookmark = createBookmark(editor.selection.getRng());\n          updateListWithDetails(editor.dom, parentList, detail);\n          var newList = editor.dom.rename(parentList, listName);\n          mergeWithAdjacentLists(editor.dom, newList);\n          editor.selection.setRng(resolveBookmark(bookmark));\n          applyList(editor, listName, detail);\n          fireListEvent(editor, listToggleActionFromListName(listName), newList);\n        }\n      } else {\n        applyList(editor, listName, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), parentList);\n      }\n    };\n    var toggleList = function (editor, listName, _detail) {\n      var parentList = getParentList(editor);\n      var selectedSubLists = getSelectedSubLists(editor);\n      var detail = isObject(_detail) ? _detail : {};\n      if (selectedSubLists.length > 0) {\n        toggleMultipleLists(editor, parentList, selectedSubLists, listName, detail);\n      } else {\n        toggleSingleList(editor, parentList, listName, detail);\n      }\n    };\n\n    var DOM = global$3.DOM;\n    var normalizeList = function (dom, list) {\n      var parentNode = list.parentNode;\n      if (parentNode.nodeName === 'LI' && parentNode.firstChild === list) {\n        var sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n          if (isEmpty(dom, parentNode)) {\n            DOM.remove(parentNode);\n          }\n        } else {\n          DOM.setStyle(parentNode, 'listStyleType', 'none');\n        }\n      }\n      if (isListNode(parentNode)) {\n        var sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n        }\n      }\n    };\n    var normalizeLists = function (dom, element) {\n      var lists = global$2.grep(dom.select('ol,ul', element));\n      global$2.each(lists, function (list) {\n        normalizeList(dom, list);\n      });\n    };\n\n    var findNextCaretContainer = function (editor, rng, isForward, root) {\n      var node = rng.startContainer;\n      var offset = rng.startOffset;\n      if (isTextNode(node) && (isForward ? offset < node.data.length : offset > 0)) {\n        return node;\n      }\n      var nonEmptyBlocks = editor.schema.getNonEmptyElements();\n      if (node.nodeType === 1) {\n        node = global$6.getNode(node, offset);\n      }\n      var walker = new global$5(node, root);\n      if (isForward) {\n        if (isBogusBr(editor.dom, node)) {\n          walker.next();\n        }\n      }\n      while (node = walker[isForward ? 'next' : 'prev2']()) {\n        if (node.nodeName === 'LI' && !node.hasChildNodes()) {\n          return node;\n        }\n        if (nonEmptyBlocks[node.nodeName]) {\n          return node;\n        }\n        if (isTextNode(node) && node.data.length > 0) {\n          return node;\n        }\n      }\n    };\n    var hasOnlyOneBlockChild = function (dom, elm) {\n      var childNodes = elm.childNodes;\n      return childNodes.length === 1 && !isListNode(childNodes[0]) && dom.isBlock(childNodes[0]);\n    };\n    var unwrapSingleBlockChild = function (dom, elm) {\n      if (hasOnlyOneBlockChild(dom, elm)) {\n        dom.remove(elm.firstChild, true);\n      }\n    };\n    var moveChildren = function (dom, fromElm, toElm) {\n      var node;\n      var targetElm = hasOnlyOneBlockChild(dom, toElm) ? toElm.firstChild : toElm;\n      unwrapSingleBlockChild(dom, fromElm);\n      if (!isEmpty(dom, fromElm, true)) {\n        while (node = fromElm.firstChild) {\n          targetElm.appendChild(node);\n        }\n      }\n    };\n    var mergeLiElements = function (dom, fromElm, toElm) {\n      var listNode;\n      var ul = fromElm.parentNode;\n      if (!isChildOfBody(dom, fromElm) || !isChildOfBody(dom, toElm)) {\n        return;\n      }\n      if (isListNode(toElm.lastChild)) {\n        listNode = toElm.lastChild;\n      }\n      if (ul === toElm.lastChild) {\n        if (isBr(ul.previousSibling)) {\n          dom.remove(ul.previousSibling);\n        }\n      }\n      var node = toElm.lastChild;\n      if (node && isBr(node) && fromElm.hasChildNodes()) {\n        dom.remove(node);\n      }\n      if (isEmpty(dom, toElm, true)) {\n        dom.$(toElm).empty();\n      }\n      moveChildren(dom, fromElm, toElm);\n      if (listNode) {\n        toElm.appendChild(listNode);\n      }\n      var contains$1 = contains(SugarElement.fromDom(toElm), SugarElement.fromDom(fromElm));\n      var nestedLists = contains$1 ? dom.getParents(fromElm, isListNode, toElm) : [];\n      dom.remove(fromElm);\n      each$1(nestedLists, function (list) {\n        if (isEmpty(dom, list) && list !== dom.getRoot()) {\n          dom.remove(list);\n        }\n      });\n    };\n    var mergeIntoEmptyLi = function (editor, fromLi, toLi) {\n      editor.dom.$(toLi).empty();\n      mergeLiElements(editor.dom, fromLi, toLi);\n      editor.selection.setCursorLocation(toLi, 0);\n    };\n    var mergeForward = function (editor, rng, fromLi, toLi) {\n      var dom = editor.dom;\n      if (dom.isEmpty(toLi)) {\n        mergeIntoEmptyLi(editor, fromLi, toLi);\n      } else {\n        var bookmark = createBookmark(rng);\n        mergeLiElements(dom, fromLi, toLi);\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    var mergeBackward = function (editor, rng, fromLi, toLi) {\n      var bookmark = createBookmark(rng);\n      mergeLiElements(editor.dom, fromLi, toLi);\n      var resolvedBookmark = resolveBookmark(bookmark);\n      editor.selection.setRng(resolvedBookmark);\n    };\n    var backspaceDeleteFromListToListCaret = function (editor, isForward) {\n      var dom = editor.dom, selection = editor.selection;\n      var selectionStartElm = selection.getStart();\n      var root = getClosestListRootElm(editor, selectionStartElm);\n      var li = dom.getParent(selection.getStart(), 'LI', root);\n      if (li) {\n        var ul = li.parentNode;\n        if (ul === editor.getBody() && isEmpty(dom, ul)) {\n          return true;\n        }\n        var rng_1 = normalizeRange(selection.getRng());\n        var otherLi_1 = dom.getParent(findNextCaretContainer(editor, rng_1, isForward, root), 'LI', root);\n        if (otherLi_1 && otherLi_1 !== li) {\n          editor.undoManager.transact(function () {\n            if (isForward) {\n              mergeForward(editor, rng_1, otherLi_1, li);\n            } else {\n              if (isFirstChild(li)) {\n                outdentListSelection(editor);\n              } else {\n                mergeBackward(editor, rng_1, li, otherLi_1);\n              }\n            }\n          });\n          return true;\n        } else if (!otherLi_1) {\n          if (!isForward && rng_1.startOffset === 0 && rng_1.endOffset === 0) {\n            editor.undoManager.transact(function () {\n              flattenListSelection(editor);\n            });\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    var removeBlock = function (dom, block, root) {\n      var parentBlock = dom.getParent(block.parentNode, dom.isBlock, root);\n      dom.remove(block);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        dom.remove(parentBlock);\n      }\n    };\n    var backspaceDeleteIntoListCaret = function (editor, isForward) {\n      var dom = editor.dom;\n      var selectionStartElm = editor.selection.getStart();\n      var root = getClosestListRootElm(editor, selectionStartElm);\n      var block = dom.getParent(selectionStartElm, dom.isBlock, root);\n      if (block && dom.isEmpty(block)) {\n        var rng = normalizeRange(editor.selection.getRng());\n        var otherLi_2 = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi_2) {\n          editor.undoManager.transact(function () {\n            removeBlock(dom, block, root);\n            mergeWithAdjacentLists(dom, otherLi_2.parentNode);\n            editor.selection.select(otherLi_2, true);\n            editor.selection.collapse(isForward);\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    var backspaceDeleteCaret = function (editor, isForward) {\n      return backspaceDeleteFromListToListCaret(editor, isForward) || backspaceDeleteIntoListCaret(editor, isForward);\n    };\n    var backspaceDeleteRange = function (editor) {\n      var selectionStartElm = editor.selection.getStart();\n      var root = getClosestListRootElm(editor, selectionStartElm);\n      var startListParent = editor.dom.getParent(selectionStartElm, 'LI,DT,DD', root);\n      if (startListParent || getSelectedListItems(editor).length > 0) {\n        editor.undoManager.transact(function () {\n          editor.execCommand('Delete');\n          normalizeLists(editor.dom, editor.getBody());\n        });\n        return true;\n      }\n      return false;\n    };\n    var backspaceDelete = function (editor, isForward) {\n      return editor.selection.isCollapsed() ? backspaceDeleteCaret(editor, isForward) : backspaceDeleteRange(editor);\n    };\n    var setup$1 = function (editor) {\n      editor.on('keydown', function (e) {\n        if (e.keyCode === global$4.BACKSPACE) {\n          if (backspaceDelete(editor, false)) {\n            e.preventDefault();\n          }\n        } else if (e.keyCode === global$4.DELETE) {\n          if (backspaceDelete(editor, true)) {\n            e.preventDefault();\n          }\n        }\n      });\n    };\n\n    var get = function (editor) {\n      return {\n        backspaceDelete: function (isForward) {\n          backspaceDelete(editor, isForward);\n        }\n      };\n    };\n\n    var updateList = function (editor, update) {\n      var parentList = getParentList(editor);\n      editor.undoManager.transact(function () {\n        if (isObject(update.styles)) {\n          editor.dom.setStyles(parentList, update.styles);\n        }\n        if (isObject(update.attrs)) {\n          each(update.attrs, function (v, k) {\n            return editor.dom.setAttrib(parentList, k, v);\n          });\n        }\n      });\n    };\n\n    var parseAlphabeticBase26 = function (str) {\n      var chars = reverse(trim(str).split(''));\n      var values = map(chars, function (char, i) {\n        var charValue = char.toUpperCase().charCodeAt(0) - 'A'.charCodeAt(0) + 1;\n        return Math.pow(26, i) * charValue;\n      });\n      return foldl(values, function (sum, v) {\n        return sum + v;\n      }, 0);\n    };\n    var composeAlphabeticBase26 = function (value) {\n      value--;\n      if (value < 0) {\n        return '';\n      } else {\n        var remainder = value % 26;\n        var quotient = Math.floor(value / 26);\n        var rest = composeAlphabeticBase26(quotient);\n        var char = String.fromCharCode('A'.charCodeAt(0) + remainder);\n        return rest + char;\n      }\n    };\n    var isUppercase = function (str) {\n      return /^[A-Z]+$/.test(str);\n    };\n    var isLowercase = function (str) {\n      return /^[a-z]+$/.test(str);\n    };\n    var isNumeric = function (str) {\n      return /^[0-9]+$/.test(str);\n    };\n    var deduceListType = function (start) {\n      if (isNumeric(start)) {\n        return 2;\n      } else if (isUppercase(start)) {\n        return 0;\n      } else if (isLowercase(start)) {\n        return 1;\n      } else if (isEmpty$1(start)) {\n        return 3;\n      } else {\n        return 4;\n      }\n    };\n    var parseStartValue = function (start) {\n      switch (deduceListType(start)) {\n      case 2:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start: start\n        });\n      case 0:\n        return Optional.some({\n          listStyleType: Optional.some('upper-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 1:\n        return Optional.some({\n          listStyleType: Optional.some('lower-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 3:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start: ''\n        });\n      case 4:\n        return Optional.none();\n      }\n    };\n    var parseDetail = function (detail) {\n      var start = parseInt(detail.start, 10);\n      if (is(detail.listStyleType, 'upper-alpha')) {\n        return composeAlphabeticBase26(start);\n      } else if (is(detail.listStyleType, 'lower-alpha')) {\n        return composeAlphabeticBase26(start).toLowerCase();\n      } else {\n        return detail.start;\n      }\n    };\n\n    var open = function (editor) {\n      var currentList = getParentList(editor);\n      if (!isOlNode(currentList)) {\n        return;\n      }\n      editor.windowManager.open({\n        title: 'List Properties',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'input',\n              name: 'start',\n              label: 'Start list at number',\n              inputMode: 'numeric'\n            }]\n        },\n        initialData: {\n          start: parseDetail({\n            start: editor.dom.getAttrib(currentList, 'start', '1'),\n            listStyleType: Optional.some(editor.dom.getStyle(currentList, 'list-style-type'))\n          })\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: function (api) {\n          var data = api.getData();\n          parseStartValue(data.start).each(function (detail) {\n            editor.execCommand('mceListUpdate', false, {\n              attrs: { start: detail.start === '1' ? '' : detail.start },\n              styles: { 'list-style-type': detail.listStyleType.getOr('') }\n            });\n          });\n          api.close();\n        }\n      });\n    };\n\n    var queryListCommandState = function (editor, listName) {\n      return function () {\n        var parentList = getParentList(editor);\n        return parentList && parentList.nodeName === listName;\n      };\n    };\n    var registerDialog = function (editor) {\n      editor.addCommand('mceListProps', function () {\n        open(editor);\n      });\n    };\n    var register$2 = function (editor) {\n      editor.on('BeforeExecCommand', function (e) {\n        var cmd = e.command.toLowerCase();\n        if (cmd === 'indent') {\n          indentListSelection(editor);\n        } else if (cmd === 'outdent') {\n          outdentListSelection(editor);\n        }\n      });\n      editor.addCommand('InsertUnorderedList', function (ui, detail) {\n        toggleList(editor, 'UL', detail);\n      });\n      editor.addCommand('InsertOrderedList', function (ui, detail) {\n        toggleList(editor, 'OL', detail);\n      });\n      editor.addCommand('InsertDefinitionList', function (ui, detail) {\n        toggleList(editor, 'DL', detail);\n      });\n      editor.addCommand('RemoveList', function () {\n        flattenListSelection(editor);\n      });\n      registerDialog(editor);\n      editor.addCommand('mceListUpdate', function (ui, detail) {\n        if (isObject(detail)) {\n          updateList(editor, detail);\n        }\n      });\n      editor.addQueryStateHandler('InsertUnorderedList', queryListCommandState(editor, 'UL'));\n      editor.addQueryStateHandler('InsertOrderedList', queryListCommandState(editor, 'OL'));\n      editor.addQueryStateHandler('InsertDefinitionList', queryListCommandState(editor, 'DL'));\n    };\n\n    var setupTabKey = function (editor) {\n      editor.on('keydown', function (e) {\n        if (e.keyCode !== global$4.TAB || global$4.metaKeyPressed(e)) {\n          return;\n        }\n        editor.undoManager.transact(function () {\n          if (e.shiftKey ? outdentListSelection(editor) : indentListSelection(editor)) {\n            e.preventDefault();\n          }\n        });\n      });\n    };\n    var setup = function (editor) {\n      if (shouldIndentOnTab(editor)) {\n        setupTabKey(editor);\n      }\n      setup$1(editor);\n    };\n\n    var register$1 = function (editor) {\n      var exec = function (command) {\n        return function () {\n          return editor.execCommand(command);\n        };\n      };\n      if (!editor.hasPlugin('advlist')) {\n        editor.ui.registry.addToggleButton('numlist', {\n          icon: 'ordered-list',\n          active: false,\n          tooltip: 'Numbered list',\n          onAction: exec('InsertOrderedList'),\n          onSetup: function (api) {\n            return listState(editor, 'OL', api.setActive);\n          }\n        });\n        editor.ui.registry.addToggleButton('bullist', {\n          icon: 'unordered-list',\n          active: false,\n          tooltip: 'Bullet list',\n          onAction: exec('InsertUnorderedList'),\n          onSetup: function (api) {\n            return listState(editor, 'UL', api.setActive);\n          }\n        });\n      }\n    };\n\n    var register = function (editor) {\n      var listProperties = {\n        text: 'List properties...',\n        icon: 'ordered-list',\n        onAction: function () {\n          return editor.execCommand('mceListProps');\n        },\n        onSetup: function (api) {\n          return listState(editor, 'OL', function (active) {\n            return api.setDisabled(!active);\n          });\n        }\n      };\n      editor.ui.registry.addMenuItem('listprops', listProperties);\n      editor.ui.registry.addContextMenu('lists', {\n        update: function (node) {\n          var parentList = getParentList(editor, node);\n          return isOlNode(parentList) ? ['listprops'] : [];\n        }\n      });\n    };\n\n    function Plugin () {\n      global$7.add('lists', function (editor) {\n        if (editor.hasPlugin('rtc', true) === false) {\n          setup(editor);\n          register$2(editor);\n        } else {\n          registerDialog(editor);\n        }\n        register$1(editor);\n        register(editor);\n        return get(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"media\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/media')\n//   ES2015:\n//     import 'tinymce/plugins/media'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isString = isType('string');\n    var isObject = isType('object');\n    var isArray = isType('array');\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var nativePush = Array.prototype.push;\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var get$1 = function (obj, key) {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var getScripts = function (editor) {\n      return editor.getParam('media_scripts');\n    };\n    var getAudioTemplateCallback = function (editor) {\n      return editor.getParam('audio_template_callback');\n    };\n    var getVideoTemplateCallback = function (editor) {\n      return editor.getParam('video_template_callback');\n    };\n    var hasLiveEmbeds = function (editor) {\n      return editor.getParam('media_live_embeds', true);\n    };\n    var shouldFilterHtml = function (editor) {\n      return editor.getParam('media_filter_html', true);\n    };\n    var getUrlResolver = function (editor) {\n      return editor.getParam('media_url_resolver');\n    };\n    var hasAltSource = function (editor) {\n      return editor.getParam('media_alt_source', true);\n    };\n    var hasPoster = function (editor) {\n      return editor.getParam('media_poster', true);\n    };\n    var hasDimensions = function (editor) {\n      return editor.getParam('media_dimensions', true);\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.html.SaxParser');\n\n    var getVideoScriptMatch = function (prefixes, src) {\n      if (prefixes) {\n        for (var i = 0; i < prefixes.length; i++) {\n          if (src.indexOf(prefixes[i].filter) !== -1) {\n            return prefixes[i];\n          }\n        }\n      }\n    };\n\n    var DOM$1 = global$7.DOM;\n    var trimPx = function (value) {\n      return value.replace(/px$/, '');\n    };\n    var getEphoxEmbedData = function (attrs) {\n      var style = attrs.map.style;\n      var styles = style ? DOM$1.parseStyle(style) : {};\n      return {\n        type: 'ephox-embed-iri',\n        source: attrs.map['data-ephox-embed-iri'],\n        altsource: '',\n        poster: '',\n        width: get$1(styles, 'max-width').map(trimPx).getOr(''),\n        height: get$1(styles, 'max-height').map(trimPx).getOr('')\n      };\n    };\n    var htmlToData = function (prefixes, html) {\n      var isEphoxEmbed = Cell(false);\n      var data = {};\n      global$6({\n        validate: false,\n        allow_conditional_comments: true,\n        start: function (name, attrs) {\n          if (isEphoxEmbed.get()) ; else if (has(attrs.map, 'data-ephox-embed-iri')) {\n            isEphoxEmbed.set(true);\n            data = getEphoxEmbedData(attrs);\n          } else {\n            if (!data.source && name === 'param') {\n              data.source = attrs.map.movie;\n            }\n            if (name === 'iframe' || name === 'object' || name === 'embed' || name === 'video' || name === 'audio') {\n              if (!data.type) {\n                data.type = name;\n              }\n              data = global$8.extend(attrs.map, data);\n            }\n            if (name === 'script') {\n              var videoScript = getVideoScriptMatch(prefixes, attrs.map.src);\n              if (!videoScript) {\n                return;\n              }\n              data = {\n                type: 'script',\n                source: attrs.map.src,\n                width: String(videoScript.width),\n                height: String(videoScript.height)\n              };\n            }\n            if (name === 'source') {\n              if (!data.source) {\n                data.source = attrs.map.src;\n              } else if (!data.altsource) {\n                data.altsource = attrs.map.src;\n              }\n            }\n            if (name === 'img' && !data.poster) {\n              data.poster = attrs.map.src;\n            }\n          }\n        }\n      }).parse(html);\n      data.source = data.source || data.src || data.data;\n      data.altsource = data.altsource || '';\n      data.poster = data.poster || '';\n      return data;\n    };\n\n    var guess = function (url) {\n      var mimes = {\n        mp3: 'audio/mpeg',\n        m4a: 'audio/x-m4a',\n        wav: 'audio/wav',\n        mp4: 'video/mp4',\n        webm: 'video/webm',\n        ogg: 'video/ogg',\n        swf: 'application/x-shockwave-flash'\n      };\n      var fileEnd = url.toLowerCase().split('.').pop();\n      var mime = mimes[fileEnd];\n      return mime ? mime : '';\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.html.Schema');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.html.Writer');\n\n    var DOM = global$7.DOM;\n    var addPx = function (value) {\n      return /^[0-9.]+$/.test(value) ? value + 'px' : value;\n    };\n    var setAttributes = function (attrs, updatedAttrs) {\n      each(updatedAttrs, function (val, name) {\n        var value = '' + val;\n        if (attrs.map[name]) {\n          var i = attrs.length;\n          while (i--) {\n            var attr = attrs[i];\n            if (attr.name === name) {\n              if (value) {\n                attrs.map[name] = value;\n                attr.value = value;\n              } else {\n                delete attrs.map[name];\n                attrs.splice(i, 1);\n              }\n            }\n          }\n        } else if (value) {\n          attrs.push({\n            name: name,\n            value: value\n          });\n          attrs.map[name] = value;\n        }\n      });\n    };\n    var updateEphoxEmbed = function (data, attrs) {\n      var style = attrs.map.style;\n      var styleMap = style ? DOM.parseStyle(style) : {};\n      styleMap['max-width'] = addPx(data.width);\n      styleMap['max-height'] = addPx(data.height);\n      setAttributes(attrs, { style: DOM.serializeStyle(styleMap) });\n    };\n    var sources = [\n      'source',\n      'altsource'\n    ];\n    var updateHtml = function (html, data, updateAll) {\n      var writer = global$4();\n      var isEphoxEmbed = Cell(false);\n      var sourceCount = 0;\n      var hasImage;\n      global$6({\n        validate: false,\n        allow_conditional_comments: true,\n        comment: function (text) {\n          writer.comment(text);\n        },\n        cdata: function (text) {\n          writer.cdata(text);\n        },\n        text: function (text, raw) {\n          writer.text(text, raw);\n        },\n        start: function (name, attrs, empty) {\n          if (isEphoxEmbed.get()) ; else if (has(attrs.map, 'data-ephox-embed-iri')) {\n            isEphoxEmbed.set(true);\n            updateEphoxEmbed(data, attrs);\n          } else {\n            switch (name) {\n            case 'video':\n            case 'object':\n            case 'embed':\n            case 'img':\n            case 'iframe':\n              if (data.height !== undefined && data.width !== undefined) {\n                setAttributes(attrs, {\n                  width: data.width,\n                  height: data.height\n                });\n              }\n              break;\n            }\n            if (updateAll) {\n              switch (name) {\n              case 'video':\n                setAttributes(attrs, {\n                  poster: data.poster,\n                  src: ''\n                });\n                if (data.altsource) {\n                  setAttributes(attrs, { src: '' });\n                }\n                break;\n              case 'iframe':\n                setAttributes(attrs, { src: data.source });\n                break;\n              case 'source':\n                if (sourceCount < 2) {\n                  setAttributes(attrs, {\n                    src: data[sources[sourceCount]],\n                    type: data[sources[sourceCount] + 'mime']\n                  });\n                  if (!data[sources[sourceCount]]) {\n                    return;\n                  }\n                }\n                sourceCount++;\n                break;\n              case 'img':\n                if (!data.poster) {\n                  return;\n                }\n                hasImage = true;\n                break;\n              }\n            }\n          }\n          writer.start(name, attrs, empty);\n        },\n        end: function (name) {\n          if (!isEphoxEmbed.get()) {\n            if (name === 'video' && updateAll) {\n              for (var index = 0; index < 2; index++) {\n                if (data[sources[index]]) {\n                  var attrs = [];\n                  attrs.map = {};\n                  if (sourceCount <= index) {\n                    setAttributes(attrs, {\n                      src: data[sources[index]],\n                      type: data[sources[index] + 'mime']\n                    });\n                    writer.start('source', attrs, true);\n                  }\n                }\n              }\n            }\n            if (data.poster && name === 'object' && updateAll && !hasImage) {\n              var imgAttrs = [];\n              imgAttrs.map = {};\n              setAttributes(imgAttrs, {\n                src: data.poster,\n                width: data.width,\n                height: data.height\n              });\n              writer.start('img', imgAttrs, true);\n            }\n          }\n          writer.end(name);\n        }\n      }, global$5({})).parse(html);\n      return writer.getContent();\n    };\n\n    var urlPatterns = [\n      {\n        regex: /youtu\\.be\\/([\\w\\-_\\?&=.]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube\\.com(.+)v=([^&]+)(&([a-z0-9&=\\-_]+))?/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$2?$4',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube.com\\/embed\\/([a-z0-9\\?&=\\-_]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/(.*)\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$2?title=0&amp;byline=0',\n        allowFullscreen: true\n      },\n      {\n        regex: /maps\\.google\\.([a-z]{2,3})\\/maps\\/(.+)msid=(.+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'maps.google.com/maps/ms?msid=$2&output=embed\"',\n        allowFullscreen: false\n      },\n      {\n        regex: /dailymotion\\.com\\/video\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /dai\\.ly\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      }\n    ];\n    var getProtocol = function (url) {\n      var protocolMatches = url.match(/^(https?:\\/\\/|www\\.)(.+)$/i);\n      if (protocolMatches && protocolMatches.length > 1) {\n        return protocolMatches[1] === 'www.' ? 'https://' : protocolMatches[1];\n      } else {\n        return 'https://';\n      }\n    };\n    var getUrl = function (pattern, url) {\n      var protocol = getProtocol(url);\n      var match = pattern.regex.exec(url);\n      var newUrl = protocol + pattern.url;\n      var _loop_1 = function (i) {\n        newUrl = newUrl.replace('$' + i, function () {\n          return match[i] ? match[i] : '';\n        });\n      };\n      for (var i = 0; i < match.length; i++) {\n        _loop_1(i);\n      }\n      return newUrl.replace(/\\?$/, '');\n    };\n    var matchPattern = function (url) {\n      var patterns = urlPatterns.filter(function (pattern) {\n        return pattern.regex.test(url);\n      });\n      if (patterns.length > 0) {\n        return global$8.extend({}, patterns[0], { url: getUrl(patterns[0], url) });\n      } else {\n        return null;\n      }\n    };\n\n    var getIframeHtml = function (data) {\n      var allowFullscreen = data.allowfullscreen ? ' allowFullscreen=\"1\"' : '';\n      return '<iframe src=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\"' + allowFullscreen + '></iframe>';\n    };\n    var getFlashHtml = function (data) {\n      var html = '<object data=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" type=\"application/x-shockwave-flash\">';\n      if (data.poster) {\n        html += '<img src=\"' + data.poster + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" />';\n      }\n      html += '</object>';\n      return html;\n    };\n    var getAudioHtml = function (data, audioTemplateCallback) {\n      if (audioTemplateCallback) {\n        return audioTemplateCallback(data);\n      } else {\n        return '<audio controls=\"controls\" src=\"' + data.source + '\">' + (data.altsource ? '\\n<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</audio>';\n      }\n    };\n    var getVideoHtml = function (data, videoTemplateCallback) {\n      if (videoTemplateCallback) {\n        return videoTemplateCallback(data);\n      } else {\n        return '<video width=\"' + data.width + '\" height=\"' + data.height + '\"' + (data.poster ? ' poster=\"' + data.poster + '\"' : '') + ' controls=\"controls\">\\n' + '<source src=\"' + data.source + '\"' + (data.sourcemime ? ' type=\"' + data.sourcemime + '\"' : '') + ' />\\n' + (data.altsource ? '<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</video>';\n      }\n    };\n    var getScriptHtml = function (data) {\n      return '<script src=\"' + data.source + '\"></script>';\n    };\n    var dataToHtml = function (editor, dataIn) {\n      var data = global$8.extend({}, dataIn);\n      if (!data.source) {\n        global$8.extend(data, htmlToData(getScripts(editor), data.embed));\n        if (!data.source) {\n          return '';\n        }\n      }\n      if (!data.altsource) {\n        data.altsource = '';\n      }\n      if (!data.poster) {\n        data.poster = '';\n      }\n      data.source = editor.convertURL(data.source, 'source');\n      data.altsource = editor.convertURL(data.altsource, 'source');\n      data.sourcemime = guess(data.source);\n      data.altsourcemime = guess(data.altsource);\n      data.poster = editor.convertURL(data.poster, 'poster');\n      var pattern = matchPattern(data.source);\n      if (pattern) {\n        data.source = pattern.url;\n        data.type = pattern.type;\n        data.allowfullscreen = pattern.allowFullscreen;\n        data.width = data.width || String(pattern.w);\n        data.height = data.height || String(pattern.h);\n      }\n      if (data.embed) {\n        return updateHtml(data.embed, data, true);\n      } else {\n        var videoScript = getVideoScriptMatch(getScripts(editor), data.source);\n        if (videoScript) {\n          data.type = 'script';\n          data.width = String(videoScript.width);\n          data.height = String(videoScript.height);\n        }\n        var audioTemplateCallback = getAudioTemplateCallback(editor);\n        var videoTemplateCallback = getVideoTemplateCallback(editor);\n        data.width = data.width || '300';\n        data.height = data.height || '150';\n        global$8.each(data, function (value, key) {\n          data[key] = editor.dom.encode('' + value);\n        });\n        if (data.type === 'iframe') {\n          return getIframeHtml(data);\n        } else if (data.sourcemime === 'application/x-shockwave-flash') {\n          return getFlashHtml(data);\n        } else if (data.sourcemime.indexOf('audio') !== -1) {\n          return getAudioHtml(data, audioTemplateCallback);\n        } else if (data.type === 'script') {\n          return getScriptHtml(data);\n        } else {\n          return getVideoHtml(data, videoTemplateCallback);\n        }\n      }\n    };\n\n    var isMediaElement = function (element) {\n      return element.hasAttribute('data-mce-object') || element.hasAttribute('data-ephox-embed-iri');\n    };\n    var setup$2 = function (editor) {\n      editor.on('click keyup touchend', function () {\n        var selectedNode = editor.selection.getNode();\n        if (selectedNode && editor.dom.hasClass(selectedNode, 'mce-preview-object')) {\n          if (editor.dom.getAttrib(selectedNode, 'data-mce-selected')) {\n            selectedNode.setAttribute('data-mce-selected', '2');\n          }\n        }\n      });\n      editor.on('ObjectSelected', function (e) {\n        var objectType = e.target.getAttribute('data-mce-object');\n        if (objectType === 'script') {\n          e.preventDefault();\n        }\n      });\n      editor.on('ObjectResized', function (e) {\n        var target = e.target;\n        if (target.getAttribute('data-mce-object')) {\n          var html = target.getAttribute('data-mce-html');\n          if (html) {\n            html = unescape(html);\n            target.setAttribute('data-mce-html', escape(updateHtml(html, {\n              width: String(e.width),\n              height: String(e.height)\n            })));\n          }\n        }\n      });\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var cache = {};\n    var embedPromise = function (data, dataToHtml, handler) {\n      return new global$3(function (res, rej) {\n        var wrappedResolve = function (response) {\n          if (response.html) {\n            cache[data.source] = response;\n          }\n          return res({\n            url: data.source,\n            html: response.html ? response.html : dataToHtml(data)\n          });\n        };\n        if (cache[data.source]) {\n          wrappedResolve(cache[data.source]);\n        } else {\n          handler({ url: data.source }, wrappedResolve, rej);\n        }\n      });\n    };\n    var defaultPromise = function (data, dataToHtml) {\n      return global$3.resolve({\n        html: dataToHtml(data),\n        url: data.source\n      });\n    };\n    var loadedData = function (editor) {\n      return function (data) {\n        return dataToHtml(editor, data);\n      };\n    };\n    var getEmbedHtml = function (editor, data) {\n      var embedHandler = getUrlResolver(editor);\n      return embedHandler ? embedPromise(data, loadedData(editor), embedHandler) : defaultPromise(data, loadedData(editor));\n    };\n    var isCached = function (url) {\n      return has(cache, url);\n    };\n\n    var extractMeta = function (sourceInput, data) {\n      return get$1(data, sourceInput).bind(function (mainData) {\n        return get$1(mainData, 'meta');\n      });\n    };\n    var getValue = function (data, metaData, sourceInput) {\n      return function (prop) {\n        var _a;\n        var getFromData = function () {\n          return get$1(data, prop);\n        };\n        var getFromMetaData = function () {\n          return get$1(metaData, prop);\n        };\n        var getNonEmptyValue = function (c) {\n          return get$1(c, 'value').bind(function (v) {\n            return v.length > 0 ? Optional.some(v) : Optional.none();\n          });\n        };\n        var getFromValueFirst = function () {\n          return getFromData().bind(function (child) {\n            return isObject(child) ? getNonEmptyValue(child).orThunk(getFromMetaData) : getFromMetaData().orThunk(function () {\n              return Optional.from(child);\n            });\n          });\n        };\n        var getFromMetaFirst = function () {\n          return getFromMetaData().orThunk(function () {\n            return getFromData().bind(function (child) {\n              return isObject(child) ? getNonEmptyValue(child) : Optional.from(child);\n            });\n          });\n        };\n        return _a = {}, _a[prop] = (prop === sourceInput ? getFromValueFirst() : getFromMetaFirst()).getOr(''), _a;\n      };\n    };\n    var getDimensions = function (data, metaData) {\n      var dimensions = {};\n      get$1(data, 'dimensions').each(function (dims) {\n        each$1([\n          'width',\n          'height'\n        ], function (prop) {\n          get$1(metaData, prop).orThunk(function () {\n            return get$1(dims, prop);\n          }).each(function (value) {\n            return dimensions[prop] = value;\n          });\n        });\n      });\n      return dimensions;\n    };\n    var unwrap = function (data, sourceInput) {\n      var metaData = sourceInput ? extractMeta(sourceInput, data).getOr({}) : {};\n      var get = getValue(data, metaData, sourceInput);\n      return __assign(__assign(__assign(__assign(__assign({}, get('source')), get('altsource')), get('poster')), get('embed')), getDimensions(data, metaData));\n    };\n    var wrap = function (data) {\n      var wrapped = __assign(__assign({}, data), {\n        source: { value: get$1(data, 'source').getOr('') },\n        altsource: { value: get$1(data, 'altsource').getOr('') },\n        poster: { value: get$1(data, 'poster').getOr('') }\n      });\n      each$1([\n        'width',\n        'height'\n      ], function (prop) {\n        get$1(data, prop).each(function (value) {\n          var dimensions = wrapped.dimensions || {};\n          dimensions[prop] = value;\n          wrapped.dimensions = dimensions;\n        });\n      });\n      return wrapped;\n    };\n    var handleError = function (editor) {\n      return function (error) {\n        var errorMessage = error && error.msg ? 'Media embed handler error: ' + error.msg : 'Media embed handler threw unknown error.';\n        editor.notificationManager.open({\n          type: 'error',\n          text: errorMessage\n        });\n      };\n    };\n    var snippetToData = function (editor, embedSnippet) {\n      return htmlToData(getScripts(editor), embedSnippet);\n    };\n    var getEditorData = function (editor) {\n      var element = editor.selection.getNode();\n      var snippet = isMediaElement(element) ? editor.serializer.serialize(element, { selection: true }) : '';\n      return __assign({ embed: snippet }, htmlToData(getScripts(editor), snippet));\n    };\n    var addEmbedHtml = function (api, editor) {\n      return function (response) {\n        if (isString(response.url) && response.url.trim().length > 0) {\n          var html = response.html;\n          var snippetData = snippetToData(editor, html);\n          var nuData = __assign(__assign({}, snippetData), {\n            source: response.url,\n            embed: html\n          });\n          api.setData(wrap(nuData));\n        }\n      };\n    };\n    var selectPlaceholder = function (editor, beforeObjects) {\n      var afterObjects = editor.dom.select('*[data-mce-object]');\n      for (var i = 0; i < beforeObjects.length; i++) {\n        for (var y = afterObjects.length - 1; y >= 0; y--) {\n          if (beforeObjects[i] === afterObjects[y]) {\n            afterObjects.splice(y, 1);\n          }\n        }\n      }\n      editor.selection.select(afterObjects[0]);\n    };\n    var handleInsert = function (editor, html) {\n      var beforeObjects = editor.dom.select('*[data-mce-object]');\n      editor.insertContent(html);\n      selectPlaceholder(editor, beforeObjects);\n      editor.nodeChanged();\n    };\n    var submitForm = function (prevData, newData, editor) {\n      newData.embed = updateHtml(newData.embed, newData);\n      if (newData.embed && (prevData.source === newData.source || isCached(newData.source))) {\n        handleInsert(editor, newData.embed);\n      } else {\n        getEmbedHtml(editor, newData).then(function (response) {\n          handleInsert(editor, response.html);\n        }).catch(handleError(editor));\n      }\n    };\n    var showDialog = function (editor) {\n      var editorData = getEditorData(editor);\n      var currentData = Cell(editorData);\n      var initialData = wrap(editorData);\n      var handleSource = function (prevData, api) {\n        var serviceData = unwrap(api.getData(), 'source');\n        if (prevData.source !== serviceData.source) {\n          addEmbedHtml(win, editor)({\n            url: serviceData.source,\n            html: ''\n          });\n          getEmbedHtml(editor, serviceData).then(addEmbedHtml(win, editor)).catch(handleError(editor));\n        }\n      };\n      var handleEmbed = function (api) {\n        var data = unwrap(api.getData());\n        var dataFromEmbed = snippetToData(editor, data.embed);\n        api.setData(wrap(dataFromEmbed));\n      };\n      var handleUpdate = function (api, sourceInput) {\n        var data = unwrap(api.getData(), sourceInput);\n        var embed = dataToHtml(editor, data);\n        api.setData(wrap(__assign(__assign({}, data), { embed: embed })));\n      };\n      var mediaInput = [{\n          name: 'source',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Source'\n        }];\n      var sizeInput = !hasDimensions(editor) ? [] : [{\n          type: 'sizeinput',\n          name: 'dimensions',\n          label: 'Constrain proportions',\n          constrain: true\n        }];\n      var generalTab = {\n        title: 'General',\n        name: 'general',\n        items: flatten([\n          mediaInput,\n          sizeInput\n        ])\n      };\n      var embedTextarea = {\n        type: 'textarea',\n        name: 'embed',\n        label: 'Paste your embed code below:'\n      };\n      var embedTab = {\n        title: 'Embed',\n        items: [embedTextarea]\n      };\n      var advancedFormItems = [];\n      if (hasAltSource(editor)) {\n        advancedFormItems.push({\n          name: 'altsource',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Alternative source URL'\n        });\n      }\n      if (hasPoster(editor)) {\n        advancedFormItems.push({\n          name: 'poster',\n          type: 'urlinput',\n          filetype: 'image',\n          label: 'Media poster (Image URL)'\n        });\n      }\n      var advancedTab = {\n        title: 'Advanced',\n        name: 'advanced',\n        items: advancedFormItems\n      };\n      var tabs = [\n        generalTab,\n        embedTab\n      ];\n      if (advancedFormItems.length > 0) {\n        tabs.push(advancedTab);\n      }\n      var body = {\n        type: 'tabpanel',\n        tabs: tabs\n      };\n      var win = editor.windowManager.open({\n        title: 'Insert/Edit Media',\n        size: 'normal',\n        body: body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: function (api) {\n          var serviceData = unwrap(api.getData());\n          submitForm(currentData.get(), serviceData, editor);\n          api.close();\n        },\n        onChange: function (api, detail) {\n          switch (detail.name) {\n          case 'source':\n            handleSource(currentData.get(), api);\n            break;\n          case 'embed':\n            handleEmbed(api);\n            break;\n          case 'dimensions':\n          case 'altsource':\n          case 'poster':\n            handleUpdate(api, detail.name);\n            break;\n          }\n          currentData.set(unwrap(api.getData()));\n        },\n        initialData: initialData\n      });\n    };\n\n    var get = function (editor) {\n      var showDialog$1 = function () {\n        showDialog(editor);\n      };\n      return { showDialog: showDialog$1 };\n    };\n\n    var register$1 = function (editor) {\n      var showDialog$1 = function () {\n        showDialog(editor);\n      };\n      editor.addCommand('mceMedia', showDialog$1);\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    var sanitize = function (editor, html) {\n      if (shouldFilterHtml(editor) === false) {\n        return html;\n      }\n      var writer = global$4();\n      var blocked;\n      global$6({\n        validate: false,\n        allow_conditional_comments: false,\n        comment: function (text) {\n          if (!blocked) {\n            writer.comment(text);\n          }\n        },\n        cdata: function (text) {\n          if (!blocked) {\n            writer.cdata(text);\n          }\n        },\n        text: function (text, raw) {\n          if (!blocked) {\n            writer.text(text, raw);\n          }\n        },\n        start: function (name, attrs, empty) {\n          blocked = true;\n          if (name === 'script' || name === 'noscript' || name === 'svg') {\n            return;\n          }\n          for (var i = attrs.length - 1; i >= 0; i--) {\n            var attrName = attrs[i].name;\n            if (attrName.indexOf('on') === 0) {\n              delete attrs.map[attrName];\n              attrs.splice(i, 1);\n            }\n            if (attrName === 'style') {\n              attrs[i].value = editor.dom.serializeStyle(editor.dom.parseStyle(attrs[i].value), name);\n            }\n          }\n          writer.start(name, attrs, empty);\n          blocked = false;\n        },\n        end: function (name) {\n          if (blocked) {\n            return;\n          }\n          writer.end(name);\n        }\n      }, global$5({})).parse(html);\n      return writer.getContent();\n    };\n\n    var isLiveEmbedNode = function (node) {\n      var name = node.name;\n      return name === 'iframe' || name === 'video' || name === 'audio';\n    };\n    var getDimension = function (node, styles, dimension, defaultValue) {\n      if (defaultValue === void 0) {\n        defaultValue = null;\n      }\n      var value = node.attr(dimension);\n      if (isNonNullable(value)) {\n        return value;\n      } else if (!has(styles, dimension)) {\n        return defaultValue;\n      } else {\n        return null;\n      }\n    };\n    var setDimensions = function (node, previewNode, styles) {\n      var useDefaults = previewNode.name === 'img' || node.name === 'video';\n      var defaultWidth = useDefaults ? '300' : null;\n      var fallbackHeight = node.name === 'audio' ? '30' : '150';\n      var defaultHeight = useDefaults ? fallbackHeight : null;\n      previewNode.attr({\n        width: getDimension(node, styles, 'width', defaultWidth),\n        height: getDimension(node, styles, 'height', defaultHeight)\n      });\n    };\n    var appendNodeContent = function (editor, nodeName, previewNode, html) {\n      var newNode = global({\n        forced_root_block: false,\n        validate: false\n      }, editor.schema).parse(html, { context: nodeName });\n      while (newNode.firstChild) {\n        previewNode.append(newNode.firstChild);\n      }\n    };\n    var createPlaceholderNode = function (editor, node) {\n      var name = node.name;\n      var placeHolder = new global$2('img', 1);\n      placeHolder.shortEnded = true;\n      retainAttributesAndInnerHtml(editor, node, placeHolder);\n      setDimensions(node, placeHolder, {});\n      placeHolder.attr({\n        'style': node.attr('style'),\n        'src': global$1.transparentSrc,\n        'data-mce-object': name,\n        'class': 'mce-object mce-object-' + name\n      });\n      return placeHolder;\n    };\n    var createPreviewNode = function (editor, node) {\n      var name = node.name;\n      var previewWrapper = new global$2('span', 1);\n      previewWrapper.attr({\n        'contentEditable': 'false',\n        'style': node.attr('style'),\n        'data-mce-object': name,\n        'class': 'mce-preview-object mce-object-' + name\n      });\n      retainAttributesAndInnerHtml(editor, node, previewWrapper);\n      var styles = editor.dom.parseStyle(node.attr('style'));\n      var previewNode = new global$2(name, 1);\n      setDimensions(node, previewNode, styles);\n      previewNode.attr({\n        src: node.attr('src'),\n        style: node.attr('style'),\n        class: node.attr('class')\n      });\n      if (name === 'iframe') {\n        previewNode.attr({\n          allowfullscreen: node.attr('allowfullscreen'),\n          frameborder: '0'\n        });\n      } else {\n        var attrs = [\n          'controls',\n          'crossorigin',\n          'currentTime',\n          'loop',\n          'muted',\n          'poster',\n          'preload'\n        ];\n        each$1(attrs, function (attrName) {\n          previewNode.attr(attrName, node.attr(attrName));\n        });\n        var sanitizedHtml = previewWrapper.attr('data-mce-html');\n        if (isNonNullable(sanitizedHtml)) {\n          appendNodeContent(editor, name, previewNode, unescape(sanitizedHtml));\n        }\n      }\n      var shimNode = new global$2('span', 1);\n      shimNode.attr('class', 'mce-shim');\n      previewWrapper.append(previewNode);\n      previewWrapper.append(shimNode);\n      return previewWrapper;\n    };\n    var retainAttributesAndInnerHtml = function (editor, sourceNode, targetNode) {\n      var attribs = sourceNode.attributes;\n      var ai = attribs.length;\n      while (ai--) {\n        var attrName = attribs[ai].name;\n        var attrValue = attribs[ai].value;\n        if (attrName !== 'width' && attrName !== 'height' && attrName !== 'style') {\n          if (attrName === 'data' || attrName === 'src') {\n            attrValue = editor.convertURL(attrValue, attrName);\n          }\n          targetNode.attr('data-mce-p-' + attrName, attrValue);\n        }\n      }\n      var innerHtml = sourceNode.firstChild && sourceNode.firstChild.value;\n      if (innerHtml) {\n        targetNode.attr('data-mce-html', escape(sanitize(editor, innerHtml)));\n        targetNode.firstChild = null;\n      }\n    };\n    var isPageEmbedWrapper = function (node) {\n      var nodeClass = node.attr('class');\n      return nodeClass && /\\btiny-pageembed\\b/.test(nodeClass);\n    };\n    var isWithinEmbedWrapper = function (node) {\n      while (node = node.parent) {\n        if (node.attr('data-ephox-embed-iri') || isPageEmbedWrapper(node)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var placeHolderConverter = function (editor) {\n      return function (nodes) {\n        var i = nodes.length;\n        var node;\n        var videoScript;\n        while (i--) {\n          node = nodes[i];\n          if (!node.parent) {\n            continue;\n          }\n          if (node.parent.attr('data-mce-object')) {\n            continue;\n          }\n          if (node.name === 'script') {\n            videoScript = getVideoScriptMatch(getScripts(editor), node.attr('src'));\n            if (!videoScript) {\n              continue;\n            }\n          }\n          if (videoScript) {\n            if (videoScript.width) {\n              node.attr('width', videoScript.width.toString());\n            }\n            if (videoScript.height) {\n              node.attr('height', videoScript.height.toString());\n            }\n          }\n          if (isLiveEmbedNode(node) && hasLiveEmbeds(editor) && global$1.ceFalse) {\n            if (!isWithinEmbedWrapper(node)) {\n              node.replace(createPreviewNode(editor, node));\n            }\n          } else {\n            if (!isWithinEmbedWrapper(node)) {\n              node.replace(createPlaceholderNode(editor, node));\n            }\n          }\n        }\n      };\n    };\n\n    var setup$1 = function (editor) {\n      editor.on('preInit', function () {\n        var specialElements = editor.schema.getSpecialElements();\n        global$8.each('video audio iframe object'.split(' '), function (name) {\n          specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n        });\n        var boolAttrs = editor.schema.getBoolAttrs();\n        global$8.each('webkitallowfullscreen mozallowfullscreen allowfullscreen'.split(' '), function (name) {\n          boolAttrs[name] = {};\n        });\n        editor.parser.addNodeFilter('iframe,video,audio,object,embed,script', placeHolderConverter(editor));\n        editor.serializer.addAttributeFilter('data-mce-object', function (nodes, name) {\n          var i = nodes.length;\n          var node;\n          var realElm;\n          var ai;\n          var attribs;\n          var innerHtml;\n          var innerNode;\n          var realElmName;\n          var className;\n          while (i--) {\n            node = nodes[i];\n            if (!node.parent) {\n              continue;\n            }\n            realElmName = node.attr(name);\n            realElm = new global$2(realElmName, 1);\n            if (realElmName !== 'audio' && realElmName !== 'script') {\n              className = node.attr('class');\n              if (className && className.indexOf('mce-preview-object') !== -1) {\n                realElm.attr({\n                  width: node.firstChild.attr('width'),\n                  height: node.firstChild.attr('height')\n                });\n              } else {\n                realElm.attr({\n                  width: node.attr('width'),\n                  height: node.attr('height')\n                });\n              }\n            }\n            realElm.attr({ style: node.attr('style') });\n            attribs = node.attributes;\n            ai = attribs.length;\n            while (ai--) {\n              var attrName = attribs[ai].name;\n              if (attrName.indexOf('data-mce-p-') === 0) {\n                realElm.attr(attrName.substr(11), attribs[ai].value);\n              }\n            }\n            if (realElmName === 'script') {\n              realElm.attr('type', 'text/javascript');\n            }\n            innerHtml = node.attr('data-mce-html');\n            if (innerHtml) {\n              innerNode = new global$2('#text', 3);\n              innerNode.raw = true;\n              innerNode.value = sanitize(editor, unescape(innerHtml));\n              realElm.append(innerNode);\n            }\n            node.replace(realElm);\n          }\n        });\n      });\n      editor.on('SetContent', function () {\n        editor.$('span.mce-preview-object').each(function (index, elm) {\n          var $elm = editor.$(elm);\n          if ($elm.find('span.mce-shim').length === 0) {\n            $elm.append('<span class=\"mce-shim\"></span>');\n          }\n        });\n      });\n    };\n\n    var setup = function (editor) {\n      editor.on('ResolveName', function (e) {\n        var name;\n        if (e.target.nodeType === 1 && (name = e.target.getAttribute('data-mce-object'))) {\n          e.name = name;\n        }\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mceMedia');\n      };\n      editor.ui.registry.addToggleButton('media', {\n        tooltip: 'Insert/edit media',\n        icon: 'embed',\n        onAction: onAction,\n        onSetup: function (buttonApi) {\n          var selection = editor.selection;\n          buttonApi.setActive(isMediaElement(selection.getNode()));\n          return selection.selectorChangedWithUnbind('img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]', buttonApi.setActive).unbind;\n        }\n      });\n      editor.ui.registry.addMenuItem('media', {\n        icon: 'embed',\n        text: 'Media...',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$9.add('media', function (editor) {\n        register$1(editor);\n        register(editor);\n        setup(editor);\n        setup$1(editor);\n        setup$2(editor);\n        return get(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"nonbreaking\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/nonbreaking')\n//   ES2015:\n//     import 'tinymce/plugins/nonbreaking'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var getKeyboardSpaces = function (editor) {\n      var spaces = editor.getParam('nonbreaking_force_tab', 0);\n      if (typeof spaces === 'boolean') {\n        return spaces === true ? 3 : 0;\n      } else {\n        return spaces;\n      }\n    };\n    var wrapNbsps = function (editor) {\n      return editor.getParam('nonbreaking_wrap', true, 'boolean');\n    };\n\n    var stringRepeat = function (string, repeats) {\n      var str = '';\n      for (var index = 0; index < repeats; index++) {\n        str += string;\n      }\n      return str;\n    };\n    var isVisualCharsEnabled = function (editor) {\n      return editor.plugins.visualchars ? editor.plugins.visualchars.isEnabled() : false;\n    };\n    var insertNbsp = function (editor, times) {\n      var classes = function () {\n        return isVisualCharsEnabled(editor) ? 'mce-nbsp-wrap mce-nbsp' : 'mce-nbsp-wrap';\n      };\n      var nbspSpan = function () {\n        return '<span class=\"' + classes() + '\" contenteditable=\"false\">' + stringRepeat('&nbsp;', times) + '</span>';\n      };\n      var shouldWrap = wrapNbsps(editor);\n      var html = shouldWrap || editor.plugins.visualchars ? nbspSpan() : stringRepeat('&nbsp;', times);\n      editor.undoManager.transact(function () {\n        return editor.insertContent(html);\n      });\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceNonBreaking', function () {\n        insertNbsp(editor, 1);\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var setup = function (editor) {\n      var spaces = getKeyboardSpaces(editor);\n      if (spaces > 0) {\n        editor.on('keydown', function (e) {\n          if (e.keyCode === global.TAB && !e.isDefaultPrevented()) {\n            if (e.shiftKey) {\n              return;\n            }\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            insertNbsp(editor, spaces);\n          }\n        });\n      }\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mceNonBreaking');\n      };\n      editor.ui.registry.addButton('nonbreaking', {\n        icon: 'non-breaking',\n        tooltip: 'Nonbreaking space',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('nonbreaking', {\n        icon: 'non-breaking',\n        text: 'Nonbreaking space',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$1.add('nonbreaking', function (editor) {\n        register$1(editor);\n        register(editor);\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"noneditable\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/noneditable')\n//   ES2015:\n//     import 'tinymce/plugins/noneditable'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getNonEditableClass = function (editor) {\n      return editor.getParam('noneditable_noneditable_class', 'mceNonEditable');\n    };\n    var getEditableClass = function (editor) {\n      return editor.getParam('noneditable_editable_class', 'mceEditable');\n    };\n    var getNonEditableRegExps = function (editor) {\n      var nonEditableRegExps = editor.getParam('noneditable_regexp', []);\n      if (nonEditableRegExps && nonEditableRegExps.constructor === RegExp) {\n        return [nonEditableRegExps];\n      } else {\n        return nonEditableRegExps;\n      }\n    };\n\n    var hasClass = function (checkClassName) {\n      return function (node) {\n        return (' ' + node.attr('class') + ' ').indexOf(checkClassName) !== -1;\n      };\n    };\n    var replaceMatchWithSpan = function (editor, content, cls) {\n      return function (match) {\n        var args = arguments, index = args[args.length - 2];\n        var prevChar = index > 0 ? content.charAt(index - 1) : '';\n        if (prevChar === '\"') {\n          return match;\n        }\n        if (prevChar === '>') {\n          var findStartTagIndex = content.lastIndexOf('<', index);\n          if (findStartTagIndex !== -1) {\n            var tagHtml = content.substring(findStartTagIndex, index);\n            if (tagHtml.indexOf('contenteditable=\"false\"') !== -1) {\n              return match;\n            }\n          }\n        }\n        return '<span class=\"' + cls + '\" data-mce-content=\"' + editor.dom.encode(args[0]) + '\">' + editor.dom.encode(typeof args[1] === 'string' ? args[1] : args[0]) + '</span>';\n      };\n    };\n    var convertRegExpsToNonEditable = function (editor, nonEditableRegExps, e) {\n      var i = nonEditableRegExps.length, content = e.content;\n      if (e.format === 'raw') {\n        return;\n      }\n      while (i--) {\n        content = content.replace(nonEditableRegExps[i], replaceMatchWithSpan(editor, content, getNonEditableClass(editor)));\n      }\n      e.content = content;\n    };\n    var setup = function (editor) {\n      var contentEditableAttrName = 'contenteditable';\n      var editClass = ' ' + global.trim(getEditableClass(editor)) + ' ';\n      var nonEditClass = ' ' + global.trim(getNonEditableClass(editor)) + ' ';\n      var hasEditClass = hasClass(editClass);\n      var hasNonEditClass = hasClass(nonEditClass);\n      var nonEditableRegExps = getNonEditableRegExps(editor);\n      editor.on('PreInit', function () {\n        if (nonEditableRegExps.length > 0) {\n          editor.on('BeforeSetContent', function (e) {\n            convertRegExpsToNonEditable(editor, nonEditableRegExps, e);\n          });\n        }\n        editor.parser.addAttributeFilter('class', function (nodes) {\n          var i = nodes.length, node;\n          while (i--) {\n            node = nodes[i];\n            if (hasEditClass(node)) {\n              node.attr(contentEditableAttrName, 'true');\n            } else if (hasNonEditClass(node)) {\n              node.attr(contentEditableAttrName, 'false');\n            }\n          }\n        });\n        editor.serializer.addAttributeFilter(contentEditableAttrName, function (nodes) {\n          var i = nodes.length, node;\n          while (i--) {\n            node = nodes[i];\n            if (!hasEditClass(node) && !hasNonEditClass(node)) {\n              continue;\n            }\n            if (nonEditableRegExps.length > 0 && node.attr('data-mce-content')) {\n              node.name = '#text';\n              node.type = 3;\n              node.raw = true;\n              node.value = node.attr('data-mce-content');\n            } else {\n              node.attr(contentEditableAttrName, null);\n            }\n          }\n        });\n      });\n    };\n\n    function Plugin () {\n      global$1.add('noneditable', function (editor) {\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"pagebreak\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/pagebreak')\n//   ES2015:\n//     import 'tinymce/plugins/pagebreak'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var getSeparatorHtml = function (editor) {\n      return editor.getParam('pagebreak_separator', '<!-- pagebreak -->');\n    };\n    var shouldSplitBlock = function (editor) {\n      return editor.getParam('pagebreak_split_block', false);\n    };\n\n    var pageBreakClass = 'mce-pagebreak';\n    var getPlaceholderHtml = function (shouldSplitBlock) {\n      var html = '<img src=\"' + global.transparentSrc + '\" class=\"' + pageBreakClass + '\" data-mce-resize=\"false\" data-mce-placeholder />';\n      return shouldSplitBlock ? '<p>' + html + '</p>' : html;\n    };\n    var setup$1 = function (editor) {\n      var separatorHtml = getSeparatorHtml(editor);\n      var shouldSplitBlock$1 = function () {\n        return shouldSplitBlock(editor);\n      };\n      var pageBreakSeparatorRegExp = new RegExp(separatorHtml.replace(/[\\?\\.\\*\\[\\]\\(\\)\\{\\}\\+\\^\\$\\:]/g, function (a) {\n        return '\\\\' + a;\n      }), 'gi');\n      editor.on('BeforeSetContent', function (e) {\n        e.content = e.content.replace(pageBreakSeparatorRegExp, getPlaceholderHtml(shouldSplitBlock$1()));\n      });\n      editor.on('PreInit', function () {\n        editor.serializer.addNodeFilter('img', function (nodes) {\n          var i = nodes.length, node, className;\n          while (i--) {\n            node = nodes[i];\n            className = node.attr('class');\n            if (className && className.indexOf(pageBreakClass) !== -1) {\n              var parentNode = node.parent;\n              if (editor.schema.getBlockElements()[parentNode.name] && shouldSplitBlock$1()) {\n                parentNode.type = 3;\n                parentNode.value = separatorHtml;\n                parentNode.raw = true;\n                node.remove();\n                continue;\n              }\n              node.type = 3;\n              node.value = separatorHtml;\n              node.raw = true;\n            }\n          }\n        });\n      });\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mcePageBreak', function () {\n        editor.insertContent(getPlaceholderHtml(shouldSplitBlock(editor)));\n      });\n    };\n\n    var setup = function (editor) {\n      editor.on('ResolveName', function (e) {\n        if (e.target.nodeName === 'IMG' && editor.dom.hasClass(e.target, pageBreakClass)) {\n          e.name = 'pagebreak';\n        }\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mcePageBreak');\n      };\n      editor.ui.registry.addButton('pagebreak', {\n        icon: 'page-break',\n        tooltip: 'Page break',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('pagebreak', {\n        text: 'Page break',\n        icon: 'page-break',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$1.add('pagebreak', function (editor) {\n        register$1(editor);\n        register(editor);\n        setup$1(editor);\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"paste\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/paste')\n//   ES2015:\n//     import 'tinymce/plugins/paste'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var hasProPlugin = function (editor) {\n      if (editor.hasPlugin('powerpaste', true)) {\n        if (typeof window.console !== 'undefined' && window.console.log) {\n          window.console.log('PowerPaste is incompatible with Paste plugin! Remove \\'paste\\' from the \\'plugins\\' option.');\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    var get = function (clipboard) {\n      return { clipboard: clipboard };\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isArray = isType('array');\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from$1 = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from$1\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativePush = Array.prototype.push;\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter$1 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var from = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var value = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    var repeat = function (s, count) {\n      return count <= 0 ? '' : new Array(count + 1).join(s);\n    };\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var firePastePreProcess = function (editor, html, internal, isWordHtml) {\n      return editor.fire('PastePreProcess', {\n        content: html,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePostProcess = function (editor, node, internal, isWordHtml) {\n      return editor.fire('PastePostProcess', {\n        node: node,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePlainTextToggle = function (editor, state) {\n      return editor.fire('PastePlainTextToggle', { state: state });\n    };\n    var firePaste = function (editor, ieFake) {\n      return editor.fire('paste', { ieFake: ieFake });\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var shouldBlockDrop = function (editor) {\n      return editor.getParam('paste_block_drop', false);\n    };\n    var shouldPasteDataImages = function (editor) {\n      return editor.getParam('paste_data_images', false);\n    };\n    var shouldFilterDrop = function (editor) {\n      return editor.getParam('paste_filter_drop', true);\n    };\n    var getPreProcess = function (editor) {\n      return editor.getParam('paste_preprocess');\n    };\n    var getPostProcess = function (editor) {\n      return editor.getParam('paste_postprocess');\n    };\n    var getWebkitStyles = function (editor) {\n      return editor.getParam('paste_webkit_styles');\n    };\n    var shouldRemoveWebKitStyles = function (editor) {\n      return editor.getParam('paste_remove_styles_if_webkit', true);\n    };\n    var shouldMergeFormats = function (editor) {\n      return editor.getParam('paste_merge_formats', true);\n    };\n    var isSmartPasteEnabled = function (editor) {\n      return editor.getParam('smart_paste', true);\n    };\n    var isPasteAsTextEnabled = function (editor) {\n      return editor.getParam('paste_as_text', false);\n    };\n    var getRetainStyleProps = function (editor) {\n      return editor.getParam('paste_retain_style_properties');\n    };\n    var getWordValidElements = function (editor) {\n      var defaultValidElements = '-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,' + '-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,' + 'td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody';\n      return editor.getParam('paste_word_valid_elements', defaultValidElements);\n    };\n    var shouldConvertWordFakeLists = function (editor) {\n      return editor.getParam('paste_convert_word_fake_lists', true);\n    };\n    var shouldUseDefaultFilters = function (editor) {\n      return editor.getParam('paste_enable_default_filters', true);\n    };\n    var getValidate = function (editor) {\n      return editor.getParam('validate');\n    };\n    var getAllowHtmlDataUrls = function (editor) {\n      return editor.getParam('allow_html_data_urls', false, 'boolean');\n    };\n    var getPasteDataImages = function (editor) {\n      return editor.getParam('paste_data_images', false, 'boolean');\n    };\n    var getImagesDataImgFilter = function (editor) {\n      return editor.getParam('images_dataimg_filter');\n    };\n    var getImagesReuseFilename = function (editor) {\n      return editor.getParam('images_reuse_filename');\n    };\n    var getForcedRootBlock = function (editor) {\n      return editor.getParam('forced_root_block');\n    };\n    var getForcedRootBlockAttrs = function (editor) {\n      return editor.getParam('forced_root_block_attrs');\n    };\n    var getTabSpaces = function (editor) {\n      return editor.getParam('paste_tab_spaces', 4, 'number');\n    };\n    var getAllowedImageFileTypes = function (editor) {\n      var defaultImageFileTypes = 'jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp';\n      return global$6.explode(editor.getParam('images_file_types', defaultImageFileTypes, 'string'));\n    };\n\n    var internalMimeType = 'x-tinymce/html';\n    var internalMark = '<!-- ' + internalMimeType + ' -->';\n    var mark = function (html) {\n      return internalMark + html;\n    };\n    var unmark = function (html) {\n      return html.replace(internalMark, '');\n    };\n    var isMarked = function (html) {\n      return html.indexOf(internalMark) !== -1;\n    };\n    var internalHtmlMime = constant(internalMimeType);\n\n    var hasOwnProperty = Object.hasOwnProperty;\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    var isPlainText = function (text) {\n      return !/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);\n    };\n    var toBRs = function (text) {\n      return text.replace(/\\r?\\n/g, '<br>');\n    };\n    var openContainer = function (rootTag, rootAttrs) {\n      var attrs = [];\n      var tag = '<' + rootTag;\n      if (typeof rootAttrs === 'object') {\n        for (var key in rootAttrs) {\n          if (has(rootAttrs, key)) {\n            attrs.push(key + '=\"' + global$5.encodeAllRaw(rootAttrs[key]) + '\"');\n          }\n        }\n        if (attrs.length) {\n          tag += ' ' + attrs.join(' ');\n        }\n      }\n      return tag + '>';\n    };\n    var toBlockElements = function (text, rootTag, rootAttrs) {\n      var blocks = text.split(/\\n\\n/);\n      var tagOpen = openContainer(rootTag, rootAttrs);\n      var tagClose = '</' + rootTag + '>';\n      var paragraphs = global$6.map(blocks, function (p) {\n        return p.split(/\\n/).join('<br />');\n      });\n      var stitch = function (p) {\n        return tagOpen + p + tagClose;\n      };\n      return paragraphs.length === 1 ? paragraphs[0] : global$6.map(paragraphs, stitch).join('');\n    };\n    var convert = function (text, rootTag, rootAttrs) {\n      return rootTag ? toBlockElements(text, rootTag === true ? 'p' : rootTag, rootAttrs) : toBRs(text);\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    var nbsp = '\\xA0';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.html.Schema');\n\n    var isRegExp = function (val) {\n      return val.constructor === RegExp;\n    };\n    var filter = function (content, items) {\n      global$6.each(items, function (v) {\n        if (isRegExp(v)) {\n          content = content.replace(v, '');\n        } else {\n          content = content.replace(v[0], v[1]);\n        }\n      });\n      return content;\n    };\n    var innerText = function (html) {\n      var schema = global$1();\n      var domParser = global$4({}, schema);\n      var text = '';\n      var shortEndedElements = schema.getShortEndedElements();\n      var ignoreElements = global$6.makeMap('script noscript style textarea video audio iframe object', ' ');\n      var blockElements = schema.getBlockElements();\n      var walk = function (node) {\n        var name = node.name, currentNode = node;\n        if (name === 'br') {\n          text += '\\n';\n          return;\n        }\n        if (name === 'wbr') {\n          return;\n        }\n        if (shortEndedElements[name]) {\n          text += ' ';\n        }\n        if (ignoreElements[name]) {\n          text += ' ';\n          return;\n        }\n        if (node.type === 3) {\n          text += node.value;\n        }\n        if (!node.shortEnded) {\n          if (node = node.firstChild) {\n            do {\n              walk(node);\n            } while (node = node.next);\n          }\n        }\n        if (blockElements[name] && currentNode.next) {\n          text += '\\n';\n          if (name === 'p') {\n            text += '\\n';\n          }\n        }\n      };\n      html = filter(html, [/<!\\[[^\\]]+\\]>/g]);\n      walk(domParser.parse(html));\n      return text;\n    };\n    var trimHtml = function (html) {\n      var trimSpaces = function (all, s1, s2) {\n        if (!s1 && !s2) {\n          return ' ';\n        }\n        return nbsp;\n      };\n      html = filter(html, [\n        /^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig,\n        /<!--StartFragment-->|<!--EndFragment-->/g,\n        [\n          /( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,\n          trimSpaces\n        ],\n        /<br class=\"Apple-interchange-newline\">/g,\n        /<br>$/i\n      ]);\n      return html;\n    };\n    var createIdGenerator = function (prefix) {\n      var count = 0;\n      return function () {\n        return prefix + count++;\n      };\n    };\n    var getImageMimeType = function (ext) {\n      var lowerExt = ext.toLowerCase();\n      var mimeOverrides = {\n        jpg: 'jpeg',\n        jpe: 'jpeg',\n        jfi: 'jpeg',\n        jif: 'jpeg',\n        jfif: 'jpeg',\n        pjpeg: 'jpeg',\n        pjp: 'jpeg',\n        svg: 'svg+xml'\n      };\n      return global$6.hasOwn(mimeOverrides, lowerExt) ? 'image/' + mimeOverrides[lowerExt] : 'image/' + lowerExt;\n    };\n\n    var isWordContent = function (content) {\n      return /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^']*\\bmso-|w:WordDocument/i.test(content) || /class=\"OutlineElement/.test(content) || /id=\"?docs\\-internal\\-guid\\-/.test(content);\n    };\n    var isNumericList = function (text) {\n      var found = false;\n      var patterns = [\n        /^[IVXLMCD]+\\.[ \\u00a0]/,\n        /^[ivxlmcd]+\\.[ \\u00a0]/,\n        /^[a-z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[A-Z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[0-9]+\\.[ \\u00a0]/,\n        /^[\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d]+\\.[ \\u00a0]/,\n        /^[\\u58f1\\u5f10\\u53c2\\u56db\\u4f0d\\u516d\\u4e03\\u516b\\u4e5d\\u62fe]+\\.[ \\u00a0]/\n      ];\n      text = text.replace(/^[\\u00a0 ]+/, '');\n      global$6.each(patterns, function (pattern) {\n        if (pattern.test(text)) {\n          found = true;\n          return false;\n        }\n      });\n      return found;\n    };\n    var isBulletList = function (text) {\n      return /^[\\s\\u00a0]*[\\u2022\\u00b7\\u00a7\\u25CF]\\s*/.test(text);\n    };\n    var convertFakeListsToProperLists = function (node) {\n      var currentListNode, prevListNode, lastLevel = 1;\n      var getText = function (node) {\n        var txt = '';\n        if (node.type === 3) {\n          return node.value;\n        }\n        if (node = node.firstChild) {\n          do {\n            txt += getText(node);\n          } while (node = node.next);\n        }\n        return txt;\n      };\n      var trimListStart = function (node, regExp) {\n        if (node.type === 3) {\n          if (regExp.test(node.value)) {\n            node.value = node.value.replace(regExp, '');\n            return false;\n          }\n        }\n        if (node = node.firstChild) {\n          do {\n            if (!trimListStart(node, regExp)) {\n              return false;\n            }\n          } while (node = node.next);\n        }\n        return true;\n      };\n      var removeIgnoredNodes = function (node) {\n        if (node._listIgnore) {\n          node.remove();\n          return;\n        }\n        if (node = node.firstChild) {\n          do {\n            removeIgnoredNodes(node);\n          } while (node = node.next);\n        }\n      };\n      var convertParagraphToLi = function (paragraphNode, listName, start) {\n        var level = paragraphNode._listLevel || lastLevel;\n        if (level !== lastLevel) {\n          if (level < lastLevel) {\n            if (currentListNode) {\n              currentListNode = currentListNode.parent.parent;\n            }\n          } else {\n            prevListNode = currentListNode;\n            currentListNode = null;\n          }\n        }\n        if (!currentListNode || currentListNode.name !== listName) {\n          prevListNode = prevListNode || currentListNode;\n          currentListNode = new global$2(listName, 1);\n          if (start > 1) {\n            currentListNode.attr('start', '' + start);\n          }\n          paragraphNode.wrap(currentListNode);\n        } else {\n          currentListNode.append(paragraphNode);\n        }\n        paragraphNode.name = 'li';\n        if (level > lastLevel && prevListNode) {\n          prevListNode.lastChild.append(currentListNode);\n        }\n        lastLevel = level;\n        removeIgnoredNodes(paragraphNode);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n        trimListStart(paragraphNode, /^\\s*([\\u2022\\u00b7\\u00a7\\u25CF]|\\w+\\.)/);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n      };\n      var elements = [];\n      var child = node.firstChild;\n      while (typeof child !== 'undefined' && child !== null) {\n        elements.push(child);\n        child = child.walk();\n        if (child !== null) {\n          while (typeof child !== 'undefined' && child.parent !== node) {\n            child = child.walk();\n          }\n        }\n      }\n      for (var i = 0; i < elements.length; i++) {\n        node = elements[i];\n        if (node.name === 'p' && node.firstChild) {\n          var nodeText = getText(node);\n          if (isBulletList(nodeText)) {\n            convertParagraphToLi(node, 'ul');\n            continue;\n          }\n          if (isNumericList(nodeText)) {\n            var matches = /([0-9]+)\\./.exec(nodeText);\n            var start = 1;\n            if (matches) {\n              start = parseInt(matches[1], 10);\n            }\n            convertParagraphToLi(node, 'ol', start);\n            continue;\n          }\n          if (node._listLevel) {\n            convertParagraphToLi(node, 'ul', 1);\n            continue;\n          }\n          currentListNode = null;\n        } else {\n          prevListNode = currentListNode;\n          currentListNode = null;\n        }\n      }\n    };\n    var filterStyles = function (editor, validStyles, node, styleValue) {\n      var outputStyles = {};\n      var styles = editor.dom.parseStyle(styleValue);\n      global$6.each(styles, function (value, name) {\n        switch (name) {\n        case 'mso-list':\n          var matches = /\\w+ \\w+([0-9]+)/i.exec(styleValue);\n          if (matches) {\n            node._listLevel = parseInt(matches[1], 10);\n          }\n          if (/Ignore/i.test(value) && node.firstChild) {\n            node._listIgnore = true;\n            node.firstChild._listIgnore = true;\n          }\n          break;\n        case 'horiz-align':\n          name = 'text-align';\n          break;\n        case 'vert-align':\n          name = 'vertical-align';\n          break;\n        case 'font-color':\n        case 'mso-foreground':\n          name = 'color';\n          break;\n        case 'mso-background':\n        case 'mso-highlight':\n          name = 'background';\n          break;\n        case 'font-weight':\n        case 'font-style':\n          if (value !== 'normal') {\n            outputStyles[name] = value;\n          }\n          return;\n        case 'mso-element':\n          if (/^(comment|comment-list)$/i.test(value)) {\n            node.remove();\n            return;\n          }\n          break;\n        }\n        if (name.indexOf('mso-comment') === 0) {\n          node.remove();\n          return;\n        }\n        if (name.indexOf('mso-') === 0) {\n          return;\n        }\n        if (getRetainStyleProps(editor) === 'all' || validStyles && validStyles[name]) {\n          outputStyles[name] = value;\n        }\n      });\n      if (/(bold)/i.test(outputStyles['font-weight'])) {\n        delete outputStyles['font-weight'];\n        node.wrap(new global$2('b', 1));\n      }\n      if (/(italic)/i.test(outputStyles['font-style'])) {\n        delete outputStyles['font-style'];\n        node.wrap(new global$2('i', 1));\n      }\n      var outputStyle = editor.dom.serializeStyle(outputStyles, node.name);\n      if (outputStyle) {\n        return outputStyle;\n      }\n      return null;\n    };\n    var filterWordContent = function (editor, content) {\n      var validStyles;\n      var retainStyleProperties = getRetainStyleProps(editor);\n      if (retainStyleProperties) {\n        validStyles = global$6.makeMap(retainStyleProperties.split(/[, ]/));\n      }\n      content = filter(content, [\n        /<br class=\"?Apple-interchange-newline\"?>/gi,\n        /<b[^>]+id=\"?docs-internal-[^>]*>/gi,\n        /<!--[\\s\\S]+?-->/gi,\n        /<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|img|meta|link|style|\\w:\\w+)(?=[\\s\\/>]))[^>]*>/gi,\n        [\n          /<(\\/?)s>/gi,\n          '<$1strike>'\n        ],\n        [\n          /&nbsp;/gi,\n          nbsp\n        ],\n        [\n          /<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s\\u00a0]*)<\\/span>/gi,\n          function (str, spaces) {\n            return spaces.length > 0 ? spaces.replace(/./, ' ').slice(Math.floor(spaces.length / 2)).split('').join(nbsp) : '';\n          }\n        ]\n      ]);\n      var validElements = getWordValidElements(editor);\n      var schema = global$1({\n        valid_elements: validElements,\n        valid_children: '-li[p]'\n      });\n      global$6.each(schema.elements, function (rule) {\n        if (!rule.attributes.class) {\n          rule.attributes.class = {};\n          rule.attributesOrder.push('class');\n        }\n        if (!rule.attributes.style) {\n          rule.attributes.style = {};\n          rule.attributesOrder.push('style');\n        }\n      });\n      var domParser = global$4({}, schema);\n      domParser.addAttributeFilter('style', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          node.attr('style', filterStyles(editor, validStyles, node, node.attr('style')));\n          if (node.name === 'span' && node.parent && !node.attributes.length) {\n            node.unwrap();\n          }\n        }\n      });\n      domParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length, node, className;\n        while (i--) {\n          node = nodes[i];\n          className = node.attr('class');\n          if (/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(className)) {\n            node.remove();\n          }\n          node.attr('class', null);\n        }\n      });\n      domParser.addNodeFilter('del', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].remove();\n        }\n      });\n      domParser.addNodeFilter('a', function (nodes) {\n        var i = nodes.length, node, href, name;\n        while (i--) {\n          node = nodes[i];\n          href = node.attr('href');\n          name = node.attr('name');\n          if (href && href.indexOf('#_msocom_') !== -1) {\n            node.remove();\n            continue;\n          }\n          if (href && href.indexOf('file://') === 0) {\n            href = href.split('#')[1];\n            if (href) {\n              href = '#' + href;\n            }\n          }\n          if (!href && !name) {\n            node.unwrap();\n          } else {\n            if (name && !/^_?(?:toc|edn|ftn)/i.test(name)) {\n              node.unwrap();\n              continue;\n            }\n            node.attr({\n              href: href,\n              name: name\n            });\n          }\n        }\n      });\n      var rootNode = domParser.parse(content);\n      if (shouldConvertWordFakeLists(editor)) {\n        convertFakeListsToProperLists(rootNode);\n      }\n      content = global$3({ validate: getValidate(editor) }, schema).serialize(rootNode);\n      return content;\n    };\n    var preProcess$1 = function (editor, content) {\n      return shouldUseDefaultFilters(editor) ? filterWordContent(editor, content) : content;\n    };\n\n    var preProcess = function (editor, html) {\n      var parser = global$4({}, editor.schema);\n      parser.addNodeFilter('meta', function (nodes) {\n        global$6.each(nodes, function (node) {\n          node.remove();\n        });\n      });\n      var fragment = parser.parse(html, {\n        forced_root_block: false,\n        isRootContent: true\n      });\n      return global$3({ validate: getValidate(editor) }, editor.schema).serialize(fragment);\n    };\n    var processResult = function (content, cancelled) {\n      return {\n        content: content,\n        cancelled: cancelled\n      };\n    };\n    var postProcessFilter = function (editor, html, internal, isWordHtml) {\n      var tempBody = editor.dom.create('div', { style: 'display:none' }, html);\n      var postProcessArgs = firePastePostProcess(editor, tempBody, internal, isWordHtml);\n      return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());\n    };\n    var filterContent = function (editor, content, internal, isWordHtml) {\n      var preProcessArgs = firePastePreProcess(editor, content, internal, isWordHtml);\n      var filteredContent = preProcess(editor, preProcessArgs.content);\n      if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {\n        return postProcessFilter(editor, filteredContent, internal, isWordHtml);\n      } else {\n        return processResult(filteredContent, preProcessArgs.isDefaultPrevented());\n      }\n    };\n    var process = function (editor, html, internal) {\n      var isWordHtml = isWordContent(html);\n      var content = isWordHtml ? preProcess$1(editor, html) : html;\n      return filterContent(editor, content, internal, isWordHtml);\n    };\n\n    var pasteHtml$1 = function (editor, html) {\n      editor.insertContent(html, {\n        merge: shouldMergeFormats(editor),\n        paste: true\n      });\n      return true;\n    };\n    var isAbsoluteUrl = function (url) {\n      return /^https?:\\/\\/[\\w\\?\\-\\/+=.&%@~#]+$/i.test(url);\n    };\n    var isImageUrl = function (editor, url) {\n      return isAbsoluteUrl(url) && exists(getAllowedImageFileTypes(editor), function (type) {\n        return endsWith(url.toLowerCase(), '.' + type.toLowerCase());\n      });\n    };\n    var createImage = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.insertContent('<img src=\"' + url + '\">');\n      });\n      return true;\n    };\n    var createLink = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.execCommand('mceInsertLink', false, url);\n      });\n      return true;\n    };\n    var linkSelection = function (editor, html, pasteHtmlFn) {\n      return editor.selection.isCollapsed() === false && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;\n    };\n    var insertImage = function (editor, html, pasteHtmlFn) {\n      return isImageUrl(editor, html) ? createImage(editor, html, pasteHtmlFn) : false;\n    };\n    var smartInsertContent = function (editor, html) {\n      global$6.each([\n        linkSelection,\n        insertImage,\n        pasteHtml$1\n      ], function (action) {\n        return action(editor, html, pasteHtml$1) !== true;\n      });\n    };\n    var insertContent = function (editor, html, pasteAsText) {\n      if (pasteAsText || isSmartPasteEnabled(editor) === false) {\n        pasteHtml$1(editor, html);\n      } else {\n        smartInsertContent(editor, html);\n      }\n    };\n\n    var isCollapsibleWhitespace = function (c) {\n      return ' \\f\\t\\x0B'.indexOf(c) !== -1;\n    };\n    var isNewLineChar = function (c) {\n      return c === '\\n' || c === '\\r';\n    };\n    var isNewline = function (text, idx) {\n      return idx < text.length && idx >= 0 ? isNewLineChar(text[idx]) : false;\n    };\n    var normalizeWhitespace = function (editor, text) {\n      var tabSpace = repeat(' ', getTabSpaces(editor));\n      var normalizedText = text.replace(/\\t/g, tabSpace);\n      var result = foldl(normalizedText, function (acc, c) {\n        if (isCollapsibleWhitespace(c) || c === nbsp) {\n          if (acc.pcIsSpace || acc.str === '' || acc.str.length === normalizedText.length - 1 || isNewline(normalizedText, acc.str.length + 1)) {\n            return {\n              pcIsSpace: false,\n              str: acc.str + nbsp\n            };\n          } else {\n            return {\n              pcIsSpace: true,\n              str: acc.str + ' '\n            };\n          }\n        } else {\n          return {\n            pcIsSpace: isNewLineChar(c),\n            str: acc.str + c\n          };\n        }\n      }, {\n        pcIsSpace: false,\n        str: ''\n      });\n      return result.str;\n    };\n\n    var doPaste = function (editor, content, internal, pasteAsText) {\n      var args = process(editor, content, internal);\n      if (args.cancelled === false) {\n        insertContent(editor, args.content, pasteAsText);\n      }\n    };\n    var pasteHtml = function (editor, html, internalFlag) {\n      var internal = internalFlag ? internalFlag : isMarked(html);\n      doPaste(editor, unmark(html), internal, false);\n    };\n    var pasteText = function (editor, text) {\n      var encodedText = editor.dom.encode(text).replace(/\\r\\n/g, '\\n');\n      var normalizedText = normalizeWhitespace(editor, encodedText);\n      var html = convert(normalizedText, getForcedRootBlock(editor), getForcedRootBlockAttrs(editor));\n      doPaste(editor, html, false, true);\n    };\n    var getDataTransferItems = function (dataTransfer) {\n      var items = {};\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n      if (dataTransfer) {\n        if (dataTransfer.getData) {\n          var legacyText = dataTransfer.getData('Text');\n          if (legacyText && legacyText.length > 0) {\n            if (legacyText.indexOf(mceInternalUrlPrefix) === -1) {\n              items['text/plain'] = legacyText;\n            }\n          }\n        }\n        if (dataTransfer.types) {\n          for (var i = 0; i < dataTransfer.types.length; i++) {\n            var contentType = dataTransfer.types[i];\n            try {\n              items[contentType] = dataTransfer.getData(contentType);\n            } catch (ex) {\n              items[contentType] = '';\n            }\n          }\n        }\n      }\n      return items;\n    };\n    var getClipboardContent = function (editor, clipboardEvent) {\n      return getDataTransferItems(clipboardEvent.clipboardData || editor.getDoc().dataTransfer);\n    };\n    var hasContentType = function (clipboardContent, mimeType) {\n      return mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\n    };\n    var hasHtmlOrText = function (content) {\n      return hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\n    };\n    var parseDataUri = function (uri) {\n      var matches = /data:([^;]+);base64,([a-z0-9\\+\\/=]+)/i.exec(uri);\n      if (matches) {\n        return {\n          type: matches[1],\n          data: decodeURIComponent(matches[2])\n        };\n      } else {\n        return {\n          type: null,\n          data: null\n        };\n      }\n    };\n    var isValidDataUriImage = function (editor, imgElm) {\n      var filter = getImagesDataImgFilter(editor);\n      return filter ? filter(imgElm) : true;\n    };\n    var extractFilename = function (editor, str) {\n      var m = str.match(/([\\s\\S]+?)(?:\\.[a-z0-9.]+)$/i);\n      return isNonNullable(m) ? editor.dom.encode(m[1]) : null;\n    };\n    var uniqueId = createIdGenerator('mceclip');\n    var pasteImage = function (editor, imageItem) {\n      var _a = parseDataUri(imageItem.uri), base64 = _a.data, type = _a.type;\n      var id = uniqueId();\n      var file = imageItem.blob;\n      var img = new Image();\n      img.src = imageItem.uri;\n      if (isValidDataUriImage(editor, img)) {\n        var blobCache = editor.editorUpload.blobCache;\n        var blobInfo = void 0;\n        var existingBlobInfo = blobCache.getByData(base64, type);\n        if (!existingBlobInfo) {\n          var useFileName = getImagesReuseFilename(editor) && isNonNullable(file.name);\n          var name_1 = useFileName ? extractFilename(editor, file.name) : id;\n          var filename = useFileName ? file.name : undefined;\n          blobInfo = blobCache.create(id, file, base64, name_1, filename);\n          blobCache.add(blobInfo);\n        } else {\n          blobInfo = existingBlobInfo;\n        }\n        pasteHtml(editor, '<img src=\"' + blobInfo.blobUri() + '\">', false);\n      } else {\n        pasteHtml(editor, '<img src=\"' + imageItem.uri + '\">', false);\n      }\n    };\n    var isClipboardEvent = function (event) {\n      return event.type === 'paste';\n    };\n    var isDataTransferItem = function (item) {\n      return isNonNullable(item.getAsFile);\n    };\n    var readFilesAsDataUris = function (items) {\n      return global$8.all(map(items, function (item) {\n        return new global$8(function (resolve) {\n          var blob = isDataTransferItem(item) ? item.getAsFile() : item;\n          var reader = new window.FileReader();\n          reader.onload = function () {\n            resolve({\n              blob: blob,\n              uri: reader.result\n            });\n          };\n          reader.readAsDataURL(blob);\n        });\n      }));\n    };\n    var isImage = function (editor) {\n      var allowedExtensions = getAllowedImageFileTypes(editor);\n      return function (file) {\n        return startsWith(file.type, 'image/') && exists(allowedExtensions, function (extension) {\n          return getImageMimeType(extension) === file.type;\n        });\n      };\n    };\n    var getImagesFromDataTransfer = function (editor, dataTransfer) {\n      var items = dataTransfer.items ? bind(from(dataTransfer.items), function (item) {\n        return item.kind === 'file' ? [item.getAsFile()] : [];\n      }) : [];\n      var files = dataTransfer.files ? from(dataTransfer.files) : [];\n      return filter$1(items.length > 0 ? items : files, isImage(editor));\n    };\n    var pasteImageData = function (editor, e, rng) {\n      var dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;\n      if (getPasteDataImages(editor) && dataTransfer) {\n        var images = getImagesFromDataTransfer(editor, dataTransfer);\n        if (images.length > 0) {\n          e.preventDefault();\n          readFilesAsDataUris(images).then(function (fileResults) {\n            if (rng) {\n              editor.selection.setRng(rng);\n            }\n            each(fileResults, function (result) {\n              pasteImage(editor, result);\n            });\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    var isBrokenAndroidClipboardEvent = function (e) {\n      var clipboardData = e.clipboardData;\n      return navigator.userAgent.indexOf('Android') !== -1 && clipboardData && clipboardData.items && clipboardData.items.length === 0;\n    };\n    var isKeyboardPasteEvent = function (e) {\n      return global$7.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;\n    };\n    var registerEventHandlers = function (editor, pasteBin, pasteFormat) {\n      var keyboardPasteEvent = value();\n      var keyboardPastePressed = value();\n      var keyboardPastePlainTextState;\n      editor.on('keyup', keyboardPastePressed.clear);\n      editor.on('keydown', function (e) {\n        var removePasteBinOnKeyUp = function (e) {\n          if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n            pasteBin.remove();\n          }\n        };\n        if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n          keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;\n          if (keyboardPastePlainTextState && global$a.webkit && navigator.userAgent.indexOf('Version/') !== -1) {\n            return;\n          }\n          e.stopImmediatePropagation();\n          keyboardPasteEvent.set(e);\n          keyboardPastePressed.set(true);\n          if (global$a.ie && keyboardPastePlainTextState) {\n            e.preventDefault();\n            firePaste(editor, true);\n            return;\n          }\n          pasteBin.remove();\n          pasteBin.create();\n          editor.once('keyup', removePasteBinOnKeyUp);\n          editor.once('paste', function () {\n            editor.off('keyup', removePasteBinOnKeyUp);\n          });\n        }\n      });\n      var insertClipboardContent = function (editor, clipboardContent, isKeyBoardPaste, plainTextMode, internal) {\n        var content;\n        if (hasContentType(clipboardContent, 'text/html')) {\n          content = clipboardContent['text/html'];\n        } else {\n          content = pasteBin.getHtml();\n          internal = internal ? internal : isMarked(content);\n          if (pasteBin.isDefaultContent(content)) {\n            plainTextMode = true;\n          }\n        }\n        content = trimHtml(content);\n        pasteBin.remove();\n        var isPlainTextHtml = internal === false && isPlainText(content);\n        var isAbsoluteUrl$1 = isAbsoluteUrl(content);\n        if (!content.length || isPlainTextHtml && !isAbsoluteUrl$1) {\n          plainTextMode = true;\n        }\n        if (plainTextMode || isAbsoluteUrl$1) {\n          if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {\n            content = clipboardContent['text/plain'];\n          } else {\n            content = innerText(content);\n          }\n        }\n        if (pasteBin.isDefaultContent(content)) {\n          if (!isKeyBoardPaste) {\n            editor.windowManager.alert('Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.');\n          }\n          return;\n        }\n        if (plainTextMode) {\n          pasteText(editor, content);\n        } else {\n          pasteHtml(editor, content, internal);\n        }\n      };\n      var getLastRng = function () {\n        return pasteBin.getLastRng() || editor.selection.getRng();\n      };\n      editor.on('paste', function (e) {\n        var isKeyboardPaste = keyboardPasteEvent.isSet() || keyboardPastePressed.isSet();\n        if (isKeyboardPaste) {\n          keyboardPasteEvent.clear();\n        }\n        var clipboardContent = getClipboardContent(editor, e);\n        var plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;\n        var internal = hasContentType(clipboardContent, internalHtmlMime());\n        keyboardPastePlainTextState = false;\n        if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\n          pasteBin.remove();\n          return;\n        }\n        if (!hasHtmlOrText(clipboardContent) && pasteImageData(editor, e, getLastRng())) {\n          pasteBin.remove();\n          return;\n        }\n        if (!isKeyboardPaste) {\n          e.preventDefault();\n        }\n        if (global$a.ie && (!isKeyboardPaste || e.ieFake) && !hasContentType(clipboardContent, 'text/html')) {\n          pasteBin.create();\n          editor.dom.bind(pasteBin.getEl(), 'paste', function (e) {\n            e.stopPropagation();\n          });\n          editor.getDoc().execCommand('Paste', false, null);\n          clipboardContent['text/html'] = pasteBin.getHtml();\n        }\n        if (hasContentType(clipboardContent, 'text/html')) {\n          e.preventDefault();\n          if (!internal) {\n            internal = isMarked(clipboardContent['text/html']);\n          }\n          insertClipboardContent(editor, clipboardContent, isKeyboardPaste, plainTextMode, internal);\n        } else {\n          global$9.setEditorTimeout(editor, function () {\n            insertClipboardContent(editor, clipboardContent, isKeyboardPaste, plainTextMode, internal);\n          }, 0);\n        }\n      });\n    };\n    var registerEventsAndFilters = function (editor, pasteBin, pasteFormat) {\n      registerEventHandlers(editor, pasteBin, pasteFormat);\n      var src;\n      editor.parser.addNodeFilter('img', function (nodes, name, args) {\n        var isPasteInsert = function (args) {\n          return args.data && args.data.paste === true;\n        };\n        var remove = function (node) {\n          if (!node.attr('data-mce-object') && src !== global$a.transparentSrc) {\n            node.remove();\n          }\n        };\n        var isWebKitFakeUrl = function (src) {\n          return src.indexOf('webkit-fake-url') === 0;\n        };\n        var isDataUri = function (src) {\n          return src.indexOf('data:') === 0;\n        };\n        if (!getPasteDataImages(editor) && isPasteInsert(args)) {\n          var i = nodes.length;\n          while (i--) {\n            src = nodes[i].attr('src');\n            if (!src) {\n              continue;\n            }\n            if (isWebKitFakeUrl(src)) {\n              remove(nodes[i]);\n            } else if (!getAllowHtmlDataUrls(editor) && isDataUri(src)) {\n              remove(nodes[i]);\n            }\n          }\n        }\n      });\n    };\n\n    var getPasteBinParent = function (editor) {\n      return global$a.ie && editor.inline ? document.body : editor.getBody();\n    };\n    var isExternalPasteBin = function (editor) {\n      return getPasteBinParent(editor) !== editor.getBody();\n    };\n    var delegatePasteEvents = function (editor, pasteBinElm, pasteBinDefaultContent) {\n      if (isExternalPasteBin(editor)) {\n        editor.dom.bind(pasteBinElm, 'paste keyup', function (_e) {\n          if (!isDefault(editor, pasteBinDefaultContent)) {\n            editor.fire('paste');\n          }\n        });\n      }\n    };\n    var create = function (editor, lastRngCell, pasteBinDefaultContent) {\n      var dom = editor.dom, body = editor.getBody();\n      lastRngCell.set(editor.selection.getRng());\n      var pasteBinElm = editor.dom.add(getPasteBinParent(editor), 'div', {\n        'id': 'mcepastebin',\n        'class': 'mce-pastebin',\n        'contentEditable': true,\n        'data-mce-bogus': 'all',\n        'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'\n      }, pasteBinDefaultContent);\n      if (global$a.ie || global$a.gecko) {\n        dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);\n      }\n      dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', function (e) {\n        e.stopPropagation();\n      });\n      delegatePasteEvents(editor, pasteBinElm, pasteBinDefaultContent);\n      pasteBinElm.focus();\n      editor.selection.select(pasteBinElm, true);\n    };\n    var remove = function (editor, lastRngCell) {\n      if (getEl(editor)) {\n        var pasteBinClone = void 0;\n        var lastRng = lastRngCell.get();\n        while (pasteBinClone = editor.dom.get('mcepastebin')) {\n          editor.dom.remove(pasteBinClone);\n          editor.dom.unbind(pasteBinClone);\n        }\n        if (lastRng) {\n          editor.selection.setRng(lastRng);\n        }\n      }\n      lastRngCell.set(null);\n    };\n    var getEl = function (editor) {\n      return editor.dom.get('mcepastebin');\n    };\n    var getHtml = function (editor) {\n      var copyAndRemove = function (toElm, fromElm) {\n        toElm.appendChild(fromElm);\n        editor.dom.remove(fromElm, true);\n      };\n      var pasteBinClones = global$6.grep(getPasteBinParent(editor).childNodes, function (elm) {\n        return elm.id === 'mcepastebin';\n      });\n      var pasteBinElm = pasteBinClones.shift();\n      global$6.each(pasteBinClones, function (pasteBinClone) {\n        copyAndRemove(pasteBinElm, pasteBinClone);\n      });\n      var dirtyWrappers = editor.dom.select('div[id=mcepastebin]', pasteBinElm);\n      for (var i = dirtyWrappers.length - 1; i >= 0; i--) {\n        var cleanWrapper = editor.dom.create('div');\n        pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);\n        copyAndRemove(cleanWrapper, dirtyWrappers[i]);\n      }\n      return pasteBinElm ? pasteBinElm.innerHTML : '';\n    };\n    var isDefaultContent = function (pasteBinDefaultContent, content) {\n      return content === pasteBinDefaultContent;\n    };\n    var isPasteBin = function (elm) {\n      return elm && elm.id === 'mcepastebin';\n    };\n    var isDefault = function (editor, pasteBinDefaultContent) {\n      var pasteBinElm = getEl(editor);\n      return isPasteBin(pasteBinElm) && isDefaultContent(pasteBinDefaultContent, pasteBinElm.innerHTML);\n    };\n    var PasteBin = function (editor) {\n      var lastRng = Cell(null);\n      var pasteBinDefaultContent = '%MCEPASTEBIN%';\n      return {\n        create: function () {\n          return create(editor, lastRng, pasteBinDefaultContent);\n        },\n        remove: function () {\n          return remove(editor, lastRng);\n        },\n        getEl: function () {\n          return getEl(editor);\n        },\n        getHtml: function () {\n          return getHtml(editor);\n        },\n        getLastRng: lastRng.get,\n        isDefault: function () {\n          return isDefault(editor, pasteBinDefaultContent);\n        },\n        isDefaultContent: function (content) {\n          return isDefaultContent(pasteBinDefaultContent, content);\n        }\n      };\n    };\n\n    var Clipboard = function (editor, pasteFormat) {\n      var pasteBin = PasteBin(editor);\n      editor.on('PreInit', function () {\n        return registerEventsAndFilters(editor, pasteBin, pasteFormat);\n      });\n      return {\n        pasteFormat: pasteFormat,\n        pasteHtml: function (html, internalFlag) {\n          return pasteHtml(editor, html, internalFlag);\n        },\n        pasteText: function (text) {\n          return pasteText(editor, text);\n        },\n        pasteImageData: function (e, rng) {\n          return pasteImageData(editor, e, rng);\n        },\n        getDataTransferItems: getDataTransferItems,\n        hasHtmlOrText: hasHtmlOrText,\n        hasContentType: hasContentType\n      };\n    };\n\n    var togglePlainTextPaste = function (editor, clipboard) {\n      if (clipboard.pasteFormat.get() === 'text') {\n        clipboard.pasteFormat.set('html');\n        firePastePlainTextToggle(editor, false);\n      } else {\n        clipboard.pasteFormat.set('text');\n        firePastePlainTextToggle(editor, true);\n      }\n      editor.focus();\n    };\n\n    var register$2 = function (editor, clipboard) {\n      editor.addCommand('mceTogglePlainTextPaste', function () {\n        togglePlainTextPaste(editor, clipboard);\n      });\n      editor.addCommand('mceInsertClipboardContent', function (ui, value) {\n        if (value.content) {\n          clipboard.pasteHtml(value.content, value.internal);\n        }\n        if (value.text) {\n          clipboard.pasteText(value.text);\n        }\n      });\n    };\n\n    var hasWorkingClipboardApi = function (clipboardData) {\n      return global$a.iOS === false && typeof (clipboardData === null || clipboardData === void 0 ? void 0 : clipboardData.setData) === 'function';\n    };\n    var setHtml5Clipboard = function (clipboardData, html, text) {\n      if (hasWorkingClipboardApi(clipboardData)) {\n        try {\n          clipboardData.clearData();\n          clipboardData.setData('text/html', html);\n          clipboardData.setData('text/plain', text);\n          clipboardData.setData(internalHtmlMime(), html);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    };\n    var setClipboardData = function (evt, data, fallback, done) {\n      if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {\n        evt.preventDefault();\n        done();\n      } else {\n        fallback(data.html, done);\n      }\n    };\n    var fallback = function (editor) {\n      return function (html, done) {\n        var markedHtml = mark(html);\n        var outer = editor.dom.create('div', {\n          'contenteditable': 'false',\n          'data-mce-bogus': 'all'\n        });\n        var inner = editor.dom.create('div', { contenteditable: 'true' }, markedHtml);\n        editor.dom.setStyles(outer, {\n          position: 'fixed',\n          top: '0',\n          left: '-3000px',\n          width: '1000px',\n          overflow: 'hidden'\n        });\n        outer.appendChild(inner);\n        editor.dom.add(editor.getBody(), outer);\n        var range = editor.selection.getRng();\n        inner.focus();\n        var offscreenRange = editor.dom.createRng();\n        offscreenRange.selectNodeContents(inner);\n        editor.selection.setRng(offscreenRange);\n        global$9.setTimeout(function () {\n          editor.selection.setRng(range);\n          outer.parentNode.removeChild(outer);\n          done();\n        }, 0);\n      };\n    };\n    var getData = function (editor) {\n      return {\n        html: editor.selection.getContent({ contextual: true }),\n        text: editor.selection.getContent({ format: 'text' })\n      };\n    };\n    var isTableSelection = function (editor) {\n      return !!editor.dom.getParent(editor.selection.getStart(), 'td[data-mce-selected],th[data-mce-selected]', editor.getBody());\n    };\n    var hasSelectedContent = function (editor) {\n      return !editor.selection.isCollapsed() || isTableSelection(editor);\n    };\n    var cut = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), function () {\n            if (global$a.browser.isChrome() || global$a.browser.isFirefox()) {\n              var rng_1 = editor.selection.getRng();\n              global$9.setEditorTimeout(editor, function () {\n                editor.selection.setRng(rng_1);\n                editor.execCommand('Delete');\n              }, 0);\n            } else {\n              editor.execCommand('Delete');\n            }\n          });\n        }\n      };\n    };\n    var copy = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), noop);\n        }\n      };\n    };\n    var register$1 = function (editor) {\n      editor.on('cut', cut(editor));\n      editor.on('copy', copy(editor));\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var getCaretRangeFromEvent = function (editor, e) {\n      return global.getCaretRangeFromPoint(e.clientX, e.clientY, editor.getDoc());\n    };\n    var isPlainTextFileUrl = function (content) {\n      var plainTextContent = content['text/plain'];\n      return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\n    };\n    var setFocusedRange = function (editor, rng) {\n      editor.focus();\n      editor.selection.setRng(rng);\n    };\n    var setup$2 = function (editor, clipboard, draggingInternallyState) {\n      if (shouldBlockDrop(editor)) {\n        editor.on('dragend dragover draggesture dragdrop drop drag', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n        });\n      }\n      if (!shouldPasteDataImages(editor)) {\n        editor.on('drop', function (e) {\n          var dataTransfer = e.dataTransfer;\n          if (dataTransfer && dataTransfer.files && dataTransfer.files.length > 0) {\n            e.preventDefault();\n          }\n        });\n      }\n      editor.on('drop', function (e) {\n        var rng = getCaretRangeFromEvent(editor, e);\n        if (e.isDefaultPrevented() || draggingInternallyState.get()) {\n          return;\n        }\n        var dropContent = clipboard.getDataTransferItems(e.dataTransfer);\n        var internal = clipboard.hasContentType(dropContent, internalHtmlMime());\n        if ((!clipboard.hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && clipboard.pasteImageData(e, rng)) {\n          return;\n        }\n        if (rng && shouldFilterDrop(editor)) {\n          var content_1 = dropContent['mce-internal'] || dropContent['text/html'] || dropContent['text/plain'];\n          if (content_1) {\n            e.preventDefault();\n            global$9.setEditorTimeout(editor, function () {\n              editor.undoManager.transact(function () {\n                if (dropContent['mce-internal']) {\n                  editor.execCommand('Delete');\n                }\n                setFocusedRange(editor, rng);\n                content_1 = trimHtml(content_1);\n                if (!dropContent['text/html']) {\n                  clipboard.pasteText(content_1);\n                } else {\n                  clipboard.pasteHtml(content_1, internal);\n                }\n              });\n            });\n          }\n        }\n      });\n      editor.on('dragstart', function (_e) {\n        draggingInternallyState.set(true);\n      });\n      editor.on('dragover dragend', function (e) {\n        if (shouldPasteDataImages(editor) && draggingInternallyState.get() === false) {\n          e.preventDefault();\n          setFocusedRange(editor, getCaretRangeFromEvent(editor, e));\n        }\n        if (e.type === 'dragend') {\n          draggingInternallyState.set(false);\n        }\n      });\n    };\n\n    var setup$1 = function (editor) {\n      var plugin = editor.plugins.paste;\n      var preProcess = getPreProcess(editor);\n      if (preProcess) {\n        editor.on('PastePreProcess', function (e) {\n          preProcess.call(plugin, plugin, e);\n        });\n      }\n      var postProcess = getPostProcess(editor);\n      if (postProcess) {\n        editor.on('PastePostProcess', function (e) {\n          postProcess.call(plugin, plugin, e);\n        });\n      }\n    };\n\n    var addPreProcessFilter = function (editor, filterFunc) {\n      editor.on('PastePreProcess', function (e) {\n        e.content = filterFunc(editor, e.content, e.internal, e.wordContent);\n      });\n    };\n    var addPostProcessFilter = function (editor, filterFunc) {\n      editor.on('PastePostProcess', function (e) {\n        filterFunc(editor, e.node);\n      });\n    };\n    var removeExplorerBrElementsAfterBlocks = function (editor, html) {\n      if (!isWordContent(html)) {\n        return html;\n      }\n      var blockElements = [];\n      global$6.each(editor.schema.getBlockElements(), function (block, blockName) {\n        blockElements.push(blockName);\n      });\n      var explorerBlocksRegExp = new RegExp('(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*(<\\\\/?(' + blockElements.join('|') + ')[^>]*>)(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*', 'g');\n      html = filter(html, [[\n          explorerBlocksRegExp,\n          '$1'\n        ]]);\n      html = filter(html, [\n        [\n          /<br><br>/g,\n          '<BR><BR>'\n        ],\n        [\n          /<br>/g,\n          ' '\n        ],\n        [\n          /<BR><BR>/g,\n          '<br>'\n        ]\n      ]);\n      return html;\n    };\n    var removeWebKitStyles = function (editor, content, internal, isWordHtml) {\n      if (isWordHtml || internal) {\n        return content;\n      }\n      var webKitStylesSetting = getWebkitStyles(editor);\n      var webKitStyles;\n      if (shouldRemoveWebKitStyles(editor) === false || webKitStylesSetting === 'all') {\n        return content;\n      }\n      if (webKitStylesSetting) {\n        webKitStyles = webKitStylesSetting.split(/[, ]/);\n      }\n      if (webKitStyles) {\n        var dom_1 = editor.dom, node_1 = editor.selection.getNode();\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, function (all, before, value, after) {\n          var inputStyles = dom_1.parseStyle(dom_1.decode(value));\n          var outputStyles = {};\n          if (webKitStyles === 'none') {\n            return before + after;\n          }\n          for (var i = 0; i < webKitStyles.length; i++) {\n            var inputValue = inputStyles[webKitStyles[i]], currentValue = dom_1.getStyle(node_1, webKitStyles[i], true);\n            if (/color/.test(webKitStyles[i])) {\n              inputValue = dom_1.toHex(inputValue);\n              currentValue = dom_1.toHex(currentValue);\n            }\n            if (currentValue !== inputValue) {\n              outputStyles[webKitStyles[i]] = inputValue;\n            }\n          }\n          var outputStyle = dom_1.serializeStyle(outputStyles, 'span');\n          if (outputStyle) {\n            return before + ' style=\"' + outputStyle + '\"' + after;\n          }\n          return before + after;\n        });\n      } else {\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, '$1$3');\n      }\n      content = content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi, function (all, before, value, after) {\n        return before + ' style=\"' + value + '\"' + after;\n      });\n      return content;\n    };\n    var removeUnderlineAndFontInAnchor = function (editor, root) {\n      editor.$('a', root).find('font,u').each(function (i, node) {\n        editor.dom.remove(node, true);\n      });\n    };\n    var setup = function (editor) {\n      if (global$a.webkit) {\n        addPreProcessFilter(editor, removeWebKitStyles);\n      }\n      if (global$a.ie) {\n        addPreProcessFilter(editor, removeExplorerBrElementsAfterBlocks);\n        addPostProcessFilter(editor, removeUnderlineAndFontInAnchor);\n      }\n    };\n\n    var makeSetupHandler = function (editor, clipboard) {\n      return function (api) {\n        api.setActive(clipboard.pasteFormat.get() === 'text');\n        var pastePlainTextToggleHandler = function (e) {\n          return api.setActive(e.state);\n        };\n        editor.on('PastePlainTextToggle', pastePlainTextToggleHandler);\n        return function () {\n          return editor.off('PastePlainTextToggle', pastePlainTextToggleHandler);\n        };\n      };\n    };\n    var register = function (editor, clipboard) {\n      var onAction = function () {\n        return editor.execCommand('mceTogglePlainTextPaste');\n      };\n      editor.ui.registry.addToggleButton('pastetext', {\n        active: false,\n        icon: 'paste-text',\n        tooltip: 'Paste as text',\n        onAction: onAction,\n        onSetup: makeSetupHandler(editor, clipboard)\n      });\n      editor.ui.registry.addToggleMenuItem('pastetext', {\n        text: 'Paste as text',\n        icon: 'paste-text',\n        onAction: onAction,\n        onSetup: makeSetupHandler(editor, clipboard)\n      });\n    };\n\n    function Plugin () {\n      global$b.add('paste', function (editor) {\n        if (hasProPlugin(editor) === false) {\n          var draggingInternallyState = Cell(false);\n          var pasteFormat = Cell(isPasteAsTextEnabled(editor) ? 'text' : 'html');\n          var clipboard = Clipboard(editor, pasteFormat);\n          setup(editor);\n          register(editor, clipboard);\n          register$2(editor, clipboard);\n          setup$1(editor);\n          register$1(editor);\n          setup$2(editor, clipboard, draggingInternallyState);\n          return get(clipboard);\n        }\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"preview\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/preview')\n//   ES2015:\n//     import 'tinymce/plugins/preview'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getContentStyle = function (editor) {\n      return editor.getParam('content_style', '', 'string');\n    };\n    var shouldUseContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors', false, 'boolean');\n    };\n    var getBodyClassByHash = function (editor) {\n      var bodyClass = editor.getParam('body_class', '', 'hash');\n      return bodyClass[editor.id] || '';\n    };\n    var getBodyClass = function (editor) {\n      var bodyClass = editor.getParam('body_class', '', 'string');\n      if (bodyClass.indexOf('=') === -1) {\n        return bodyClass;\n      } else {\n        return getBodyClassByHash(editor);\n      }\n    };\n    var getBodyIdByHash = function (editor) {\n      var bodyId = editor.getParam('body_id', '', 'hash');\n      return bodyId[editor.id] || bodyId;\n    };\n    var getBodyId = function (editor) {\n      var bodyId = editor.getParam('body_id', 'tinymce', 'string');\n      if (bodyId.indexOf('=') === -1) {\n        return bodyId;\n      } else {\n        return getBodyIdByHash(editor);\n      }\n    };\n\n    var getPreviewHtml = function (editor) {\n      var headHtml = '';\n      var encode = editor.dom.encode;\n      var contentStyle = getContentStyle(editor);\n      headHtml += '<base href=\"' + encode(editor.documentBaseURI.getURI()) + '\">';\n      var cors = shouldUseContentCssCors(editor) ? ' crossorigin=\"anonymous\"' : '';\n      global.each(editor.contentCSS, function (url) {\n        headHtml += '<link type=\"text/css\" rel=\"stylesheet\" href=\"' + encode(editor.documentBaseURI.toAbsolute(url)) + '\"' + cors + '>';\n      });\n      if (contentStyle) {\n        headHtml += '<style type=\"text/css\">' + contentStyle + '</style>';\n      }\n      var bodyId = getBodyId(editor);\n      var bodyClass = getBodyClass(editor);\n      var isMetaKeyPressed = global$1.mac ? 'e.metaKey' : 'e.ctrlKey && !e.altKey';\n      var preventClicksOnLinksScript = '<script>' + 'document.addEventListener && document.addEventListener(\"click\", function(e) {' + 'for (var elm = e.target; elm; elm = elm.parentNode) {' + 'if (elm.nodeName === \"A\" && !(' + isMetaKeyPressed + ')) {' + 'e.preventDefault();' + '}' + '}' + '}, false);' + '</script> ';\n      var directionality = editor.getBody().dir;\n      var dirAttr = directionality ? ' dir=\"' + encode(directionality) + '\"' : '';\n      var previewHtml = '<!DOCTYPE html>' + '<html>' + '<head>' + headHtml + '</head>' + '<body id=\"' + encode(bodyId) + '\" class=\"mce-content-body ' + encode(bodyClass) + '\"' + dirAttr + '>' + editor.getContent() + preventClicksOnLinksScript + '</body>' + '</html>';\n      return previewHtml;\n    };\n\n    var open = function (editor) {\n      var content = getPreviewHtml(editor);\n      var dataApi = editor.windowManager.open({\n        title: 'Preview',\n        size: 'large',\n        body: {\n          type: 'panel',\n          items: [{\n              name: 'preview',\n              type: 'iframe',\n              sandboxed: true\n            }]\n        },\n        buttons: [{\n            type: 'cancel',\n            name: 'close',\n            text: 'Close',\n            primary: true\n          }],\n        initialData: { preview: content }\n      });\n      dataApi.focus('close');\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mcePreview', function () {\n        open(editor);\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mcePreview');\n      };\n      editor.ui.registry.addButton('preview', {\n        icon: 'preview',\n        tooltip: 'Preview',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('preview', {\n        icon: 'preview',\n        text: 'Preview',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$2.add('preview', function (editor) {\n        register$1(editor);\n        register(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"print\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/print')\n//   ES2015:\n//     import 'tinymce/plugins/print'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var register$1 = function (editor) {\n      editor.addCommand('mcePrint', function () {\n        if (global.browser.isIE()) {\n          editor.getDoc().execCommand('print', false, null);\n        } else {\n          editor.getWin().print();\n        }\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mcePrint');\n      };\n      editor.ui.registry.addButton('print', {\n        icon: 'print',\n        tooltip: 'Print',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('print', {\n        text: 'Print...',\n        icon: 'print',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$1.add('print', function (editor) {\n        register$1(editor);\n        register(editor);\n        editor.addShortcut('Meta+P', '', 'mcePrint');\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"save\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/save')\n//   ES2015:\n//     import 'tinymce/plugins/save'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var enableWhenDirty = function (editor) {\n      return editor.getParam('save_enablewhendirty', true);\n    };\n    var hasOnSaveCallback = function (editor) {\n      return !!editor.getParam('save_onsavecallback');\n    };\n    var hasOnCancelCallback = function (editor) {\n      return !!editor.getParam('save_oncancelcallback');\n    };\n\n    var displayErrorMessage = function (editor, message) {\n      editor.notificationManager.open({\n        text: message,\n        type: 'error'\n      });\n    };\n    var save = function (editor) {\n      var formObj = global$1.DOM.getParent(editor.id, 'form');\n      if (enableWhenDirty(editor) && !editor.isDirty()) {\n        return;\n      }\n      editor.save();\n      if (hasOnSaveCallback(editor)) {\n        editor.execCallback('save_onsavecallback', editor);\n        editor.nodeChanged();\n        return;\n      }\n      if (formObj) {\n        editor.setDirty(false);\n        if (!formObj.onsubmit || formObj.onsubmit()) {\n          if (typeof formObj.submit === 'function') {\n            formObj.submit();\n          } else {\n            displayErrorMessage(editor, 'Error: Form submit field collision.');\n          }\n        }\n        editor.nodeChanged();\n      } else {\n        displayErrorMessage(editor, 'Error: No form element found.');\n      }\n    };\n    var cancel = function (editor) {\n      var h = global.trim(editor.startContent);\n      if (hasOnCancelCallback(editor)) {\n        editor.execCallback('save_oncancelcallback', editor);\n        return;\n      }\n      editor.resetContent(h);\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceSave', function () {\n        save(editor);\n      });\n      editor.addCommand('mceCancel', function () {\n        cancel(editor);\n      });\n    };\n\n    var stateToggle = function (editor) {\n      return function (api) {\n        var handler = function () {\n          api.setDisabled(enableWhenDirty(editor) && !editor.isDirty());\n        };\n        handler();\n        editor.on('NodeChange dirty', handler);\n        return function () {\n          return editor.off('NodeChange dirty', handler);\n        };\n      };\n    };\n    var register = function (editor) {\n      editor.ui.registry.addButton('save', {\n        icon: 'save',\n        tooltip: 'Save',\n        disabled: true,\n        onAction: function () {\n          return editor.execCommand('mceSave');\n        },\n        onSetup: stateToggle(editor)\n      });\n      editor.ui.registry.addButton('cancel', {\n        icon: 'cancel',\n        tooltip: 'Cancel',\n        disabled: true,\n        onAction: function () {\n          return editor.execCommand('mceCancel');\n        },\n        onSetup: stateToggle(editor)\n      });\n      editor.addShortcut('Meta+S', '', 'mceSave');\n    };\n\n    function Plugin () {\n      global$2.add('save', function (editor) {\n        register(editor);\n        register$1(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"searchreplace\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/searchreplace')\n//   ES2015:\n//     import 'tinymce/plugins/searchreplace'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType$1('string');\n    var isArray = isType$1('array');\n    var isBoolean = isSimpleType('boolean');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var punctuationStr = '[!-#%-*,-\\\\/:;?@\\\\[-\\\\]_{}\\xA1\\xAB\\xB7\\xBB\\xBF;\\xB7\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1361-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u3008\\u3009\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30\\u2E31\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uff3f\\uFF5B\\uFF5D\\uFF5F-\\uFF65]';\n\n    var punctuation$1 = constant(punctuationStr);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var punctuation = punctuation$1;\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var nativeSlice = Array.prototype.slice;\n    var nativePush = Array.prototype.push;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var groupBy = function (xs, f) {\n      if (xs.length === 0) {\n        return [];\n      } else {\n        var wasType = f(xs[0]);\n        var r = [];\n        var group = [];\n        for (var i = 0, len = xs.length; i < len; i++) {\n          var x = xs[i];\n          var type = f(x);\n          if (type !== wasType) {\n            r.push(group);\n            group = [];\n          }\n          wasType = type;\n          group.push(x);\n        }\n        if (group.length !== 0) {\n          r.push(group);\n        }\n        return r;\n      }\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n\n    var hasOwnProperty = Object.hasOwnProperty;\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isText$1 = isType(TEXT);\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionPreceding = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_PRECEDING);\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var children = function (element) {\n      return map(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var spot = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n    var leaf = function (element, offset) {\n      var cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    var before = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var append = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n    var wrap = function (element, wrapper) {\n      before(element, wrapper);\n      append(wrapper, element);\n    };\n\n    var NodeValue = function (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    };\n\n    var api = NodeValue(isText$1, 'text');\n    var get$1 = function (element) {\n      return api.get(element);\n    };\n\n    var descendants = function (scope, selector) {\n      return all(selector, scope);\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var isSimpleBoundary = function (dom, node) {\n      return dom.isBlock(node) || has(dom.schema.getShortEndedElements(), node.nodeName);\n    };\n    var isContentEditableFalse = function (dom, node) {\n      return dom.getContentEditable(node) === 'false';\n    };\n    var isContentEditableTrueInCef = function (dom, node) {\n      return dom.getContentEditable(node) === 'true' && dom.getContentEditableParent(node.parentNode) === 'false';\n    };\n    var isHidden = function (dom, node) {\n      return !dom.isBlock(node) && has(dom.schema.getWhiteSpaceElements(), node.nodeName);\n    };\n    var isBoundary = function (dom, node) {\n      return isSimpleBoundary(dom, node) || isContentEditableFalse(dom, node) || isHidden(dom, node) || isContentEditableTrueInCef(dom, node);\n    };\n    var isText = function (node) {\n      return node.nodeType === 3;\n    };\n    var nuSection = function () {\n      return {\n        sOffset: 0,\n        fOffset: 0,\n        elements: []\n      };\n    };\n    var toLeaf = function (node, offset) {\n      return leaf(SugarElement.fromDom(node), offset);\n    };\n    var walk = function (dom, walkerFn, startNode, callbacks, endNode, skipStart) {\n      if (skipStart === void 0) {\n        skipStart = true;\n      }\n      var next = skipStart ? walkerFn(false) : startNode;\n      while (next) {\n        var isCefNode = isContentEditableFalse(dom, next);\n        if (isCefNode || isHidden(dom, next)) {\n          var stopWalking = isCefNode ? callbacks.cef(next) : callbacks.boundary(next);\n          if (stopWalking) {\n            break;\n          } else {\n            next = walkerFn(true);\n            continue;\n          }\n        } else if (isSimpleBoundary(dom, next)) {\n          if (callbacks.boundary(next)) {\n            break;\n          }\n        } else if (isText(next)) {\n          callbacks.text(next);\n        }\n        if (next === endNode) {\n          break;\n        } else {\n          next = walkerFn(false);\n        }\n      }\n    };\n    var collectTextToBoundary = function (dom, section, node, rootNode, forwards) {\n      if (isBoundary(dom, node)) {\n        return;\n      }\n      var rootBlock = dom.getParent(rootNode, dom.isBlock);\n      var walker = new global(node, rootBlock);\n      var walkerFn = forwards ? walker.next.bind(walker) : walker.prev.bind(walker);\n      walk(dom, walkerFn, node, {\n        boundary: always,\n        cef: always,\n        text: function (next) {\n          if (forwards) {\n            section.fOffset += next.length;\n          } else {\n            section.sOffset += next.length;\n          }\n          section.elements.push(SugarElement.fromDom(next));\n        }\n      });\n    };\n    var collect = function (dom, rootNode, startNode, endNode, callbacks, skipStart) {\n      if (skipStart === void 0) {\n        skipStart = true;\n      }\n      var walker = new global(startNode, rootNode);\n      var sections = [];\n      var current = nuSection();\n      collectTextToBoundary(dom, current, startNode, rootNode, false);\n      var finishSection = function () {\n        if (current.elements.length > 0) {\n          sections.push(current);\n          current = nuSection();\n        }\n        return false;\n      };\n      walk(dom, walker.next.bind(walker), startNode, {\n        boundary: finishSection,\n        cef: function (node) {\n          finishSection();\n          if (callbacks) {\n            sections.push.apply(sections, callbacks.cef(node));\n          }\n          return false;\n        },\n        text: function (next) {\n          current.elements.push(SugarElement.fromDom(next));\n          if (callbacks) {\n            callbacks.text(next, current);\n          }\n        }\n      }, endNode, skipStart);\n      if (endNode) {\n        collectTextToBoundary(dom, current, endNode, rootNode, true);\n      }\n      finishSection();\n      return sections;\n    };\n    var collectRangeSections = function (dom, rng) {\n      var start = toLeaf(rng.startContainer, rng.startOffset);\n      var startNode = start.element.dom;\n      var end = toLeaf(rng.endContainer, rng.endOffset);\n      var endNode = end.element.dom;\n      return collect(dom, rng.commonAncestorContainer, startNode, endNode, {\n        text: function (node, section) {\n          if (node === endNode) {\n            section.fOffset += node.length - end.offset;\n          } else if (node === startNode) {\n            section.sOffset += start.offset;\n          }\n        },\n        cef: function (node) {\n          var sections = bind(descendants(SugarElement.fromDom(node), '*[contenteditable=true]'), function (e) {\n            var ceTrueNode = e.dom;\n            return collect(dom, ceTrueNode, ceTrueNode);\n          });\n          return sort(sections, function (a, b) {\n            return documentPositionPreceding(a.elements[0].dom, b.elements[0].dom) ? 1 : -1;\n          });\n        }\n      }, false);\n    };\n    var fromRng = function (dom, rng) {\n      return rng.collapsed ? [] : collectRangeSections(dom, rng);\n    };\n    var fromNode = function (dom, node) {\n      var rng = dom.createRng();\n      rng.selectNode(node);\n      return fromRng(dom, rng);\n    };\n    var fromNodes = function (dom, nodes) {\n      return bind(nodes, function (node) {\n        return fromNode(dom, node);\n      });\n    };\n\n    var find$2 = function (text, pattern, start, finish) {\n      if (start === void 0) {\n        start = 0;\n      }\n      if (finish === void 0) {\n        finish = text.length;\n      }\n      var regex = pattern.regex;\n      regex.lastIndex = start;\n      var results = [];\n      var match;\n      while (match = regex.exec(text)) {\n        var matchedText = match[pattern.matchIndex];\n        var matchStart = match.index + match[0].indexOf(matchedText);\n        var matchFinish = matchStart + matchedText.length;\n        if (matchFinish > finish) {\n          break;\n        }\n        results.push({\n          start: matchStart,\n          finish: matchFinish\n        });\n        regex.lastIndex = matchFinish;\n      }\n      return results;\n    };\n    var extract = function (elements, matches) {\n      var nodePositions = foldl(elements, function (acc, element) {\n        var content = get$1(element);\n        var start = acc.last;\n        var finish = start + content.length;\n        var positions = bind(matches, function (match, matchIdx) {\n          if (match.start < finish && match.finish > start) {\n            return [{\n                element: element,\n                start: Math.max(start, match.start) - start,\n                finish: Math.min(finish, match.finish) - start,\n                matchId: matchIdx\n              }];\n          } else {\n            return [];\n          }\n        });\n        return {\n          results: acc.results.concat(positions),\n          last: finish\n        };\n      }, {\n        results: [],\n        last: 0\n      }).results;\n      return groupBy(nodePositions, function (position) {\n        return position.matchId;\n      });\n    };\n\n    var find$1 = function (pattern, sections) {\n      return bind(sections, function (section) {\n        var elements = section.elements;\n        var content = map(elements, get$1).join('');\n        var positions = find$2(content, pattern, section.sOffset, content.length - section.fOffset);\n        return extract(elements, positions);\n      });\n    };\n    var mark = function (matches, replacementNode) {\n      eachr(matches, function (match, idx) {\n        eachr(match, function (pos) {\n          var wrapper = SugarElement.fromDom(replacementNode.cloneNode(false));\n          set(wrapper, 'data-mce-index', idx);\n          var textNode = pos.element.dom;\n          if (textNode.length === pos.finish && pos.start === 0) {\n            wrap(pos.element, wrapper);\n          } else {\n            if (textNode.length !== pos.finish) {\n              textNode.splitText(pos.finish);\n            }\n            var matchNode = textNode.splitText(pos.start);\n            wrap(SugarElement.fromDom(matchNode), wrapper);\n          }\n        });\n      });\n    };\n    var findAndMark = function (dom, pattern, node, replacementNode) {\n      var textSections = fromNode(dom, node);\n      var matches = find$1(pattern, textSections);\n      mark(matches, replacementNode);\n      return matches.length;\n    };\n    var findAndMarkInSelection = function (dom, pattern, selection, replacementNode) {\n      var bookmark = selection.getBookmark();\n      var nodes = dom.select('td[data-mce-selected],th[data-mce-selected]');\n      var textSections = nodes.length > 0 ? fromNodes(dom, nodes) : fromRng(dom, selection.getRng());\n      var matches = find$1(pattern, textSections);\n      mark(matches, replacementNode);\n      selection.moveToBookmark(bookmark);\n      return matches.length;\n    };\n\n    var getElmIndex = function (elm) {\n      var value = elm.getAttribute('data-mce-index');\n      if (typeof value === 'number') {\n        return '' + value;\n      }\n      return value;\n    };\n    var markAllMatches = function (editor, currentSearchState, pattern, inSelection) {\n      var marker = editor.dom.create('span', { 'data-mce-bogus': 1 });\n      marker.className = 'mce-match-marker';\n      var node = editor.getBody();\n      done(editor, currentSearchState, false);\n      if (inSelection) {\n        return findAndMarkInSelection(editor.dom, pattern, editor.selection, marker);\n      } else {\n        return findAndMark(editor.dom, pattern, node, marker);\n      }\n    };\n    var unwrap = function (node) {\n      var parentNode = node.parentNode;\n      if (node.firstChild) {\n        parentNode.insertBefore(node.firstChild, node);\n      }\n      node.parentNode.removeChild(node);\n    };\n    var findSpansByIndex = function (editor, index) {\n      var spans = [];\n      var nodes = global$1.toArray(editor.getBody().getElementsByTagName('span'));\n      if (nodes.length) {\n        for (var i = 0; i < nodes.length; i++) {\n          var nodeIndex = getElmIndex(nodes[i]);\n          if (nodeIndex === null || !nodeIndex.length) {\n            continue;\n          }\n          if (nodeIndex === index.toString()) {\n            spans.push(nodes[i]);\n          }\n        }\n      }\n      return spans;\n    };\n    var moveSelection = function (editor, currentSearchState, forward) {\n      var searchState = currentSearchState.get();\n      var testIndex = searchState.index;\n      var dom = editor.dom;\n      forward = forward !== false;\n      if (forward) {\n        if (testIndex + 1 === searchState.count) {\n          testIndex = 0;\n        } else {\n          testIndex++;\n        }\n      } else {\n        if (testIndex - 1 === -1) {\n          testIndex = searchState.count - 1;\n        } else {\n          testIndex--;\n        }\n      }\n      dom.removeClass(findSpansByIndex(editor, searchState.index), 'mce-match-marker-selected');\n      var spans = findSpansByIndex(editor, testIndex);\n      if (spans.length) {\n        dom.addClass(findSpansByIndex(editor, testIndex), 'mce-match-marker-selected');\n        editor.selection.scrollIntoView(spans[0]);\n        return testIndex;\n      }\n      return -1;\n    };\n    var removeNode = function (dom, node) {\n      var parent = node.parentNode;\n      dom.remove(node);\n      if (dom.isEmpty(parent)) {\n        dom.remove(parent);\n      }\n    };\n    var escapeSearchText = function (text, wholeWord) {\n      var escapedText = text.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&').replace(/\\s/g, '[^\\\\S\\\\r\\\\n\\\\uFEFF]');\n      var wordRegex = '(' + escapedText + ')';\n      return wholeWord ? '(?:^|\\\\s|' + punctuation() + ')' + wordRegex + ('(?=$|\\\\s|' + punctuation() + ')') : wordRegex;\n    };\n    var find = function (editor, currentSearchState, text, matchCase, wholeWord, inSelection) {\n      var selection = editor.selection;\n      var escapedText = escapeSearchText(text, wholeWord);\n      var isForwardSelection = selection.isForward();\n      var pattern = {\n        regex: new RegExp(escapedText, matchCase ? 'g' : 'gi'),\n        matchIndex: 1\n      };\n      var count = markAllMatches(editor, currentSearchState, pattern, inSelection);\n      if (global$2.browser.isSafari()) {\n        selection.setRng(selection.getRng(), isForwardSelection);\n      }\n      if (count) {\n        var newIndex = moveSelection(editor, currentSearchState, true);\n        currentSearchState.set({\n          index: newIndex,\n          count: count,\n          text: text,\n          matchCase: matchCase,\n          wholeWord: wholeWord,\n          inSelection: inSelection\n        });\n      }\n      return count;\n    };\n    var next = function (editor, currentSearchState) {\n      var index = moveSelection(editor, currentSearchState, true);\n      currentSearchState.set(__assign(__assign({}, currentSearchState.get()), { index: index }));\n    };\n    var prev = function (editor, currentSearchState) {\n      var index = moveSelection(editor, currentSearchState, false);\n      currentSearchState.set(__assign(__assign({}, currentSearchState.get()), { index: index }));\n    };\n    var isMatchSpan = function (node) {\n      var matchIndex = getElmIndex(node);\n      return matchIndex !== null && matchIndex.length > 0;\n    };\n    var replace = function (editor, currentSearchState, text, forward, all) {\n      var searchState = currentSearchState.get();\n      var currentIndex = searchState.index;\n      var currentMatchIndex, nextIndex = currentIndex;\n      forward = forward !== false;\n      var node = editor.getBody();\n      var nodes = global$1.grep(global$1.toArray(node.getElementsByTagName('span')), isMatchSpan);\n      for (var i = 0; i < nodes.length; i++) {\n        var nodeIndex = getElmIndex(nodes[i]);\n        var matchIndex = currentMatchIndex = parseInt(nodeIndex, 10);\n        if (all || matchIndex === searchState.index) {\n          if (text.length) {\n            nodes[i].firstChild.nodeValue = text;\n            unwrap(nodes[i]);\n          } else {\n            removeNode(editor.dom, nodes[i]);\n          }\n          while (nodes[++i]) {\n            matchIndex = parseInt(getElmIndex(nodes[i]), 10);\n            if (matchIndex === currentMatchIndex) {\n              removeNode(editor.dom, nodes[i]);\n            } else {\n              i--;\n              break;\n            }\n          }\n          if (forward) {\n            nextIndex--;\n          }\n        } else if (currentMatchIndex > currentIndex) {\n          nodes[i].setAttribute('data-mce-index', String(currentMatchIndex - 1));\n        }\n      }\n      currentSearchState.set(__assign(__assign({}, searchState), {\n        count: all ? 0 : searchState.count - 1,\n        index: nextIndex\n      }));\n      if (forward) {\n        next(editor, currentSearchState);\n      } else {\n        prev(editor, currentSearchState);\n      }\n      return !all && currentSearchState.get().count > 0;\n    };\n    var done = function (editor, currentSearchState, keepEditorSelection) {\n      var startContainer, endContainer;\n      var searchState = currentSearchState.get();\n      var nodes = global$1.toArray(editor.getBody().getElementsByTagName('span'));\n      for (var i = 0; i < nodes.length; i++) {\n        var nodeIndex = getElmIndex(nodes[i]);\n        if (nodeIndex !== null && nodeIndex.length) {\n          if (nodeIndex === searchState.index.toString()) {\n            if (!startContainer) {\n              startContainer = nodes[i].firstChild;\n            }\n            endContainer = nodes[i].firstChild;\n          }\n          unwrap(nodes[i]);\n        }\n      }\n      currentSearchState.set(__assign(__assign({}, searchState), {\n        index: -1,\n        count: 0,\n        text: ''\n      }));\n      if (startContainer && endContainer) {\n        var rng = editor.dom.createRng();\n        rng.setStart(startContainer, 0);\n        rng.setEnd(endContainer, endContainer.data.length);\n        if (keepEditorSelection !== false) {\n          editor.selection.setRng(rng);\n        }\n        return rng;\n      }\n    };\n    var hasNext = function (editor, currentSearchState) {\n      return currentSearchState.get().count > 1;\n    };\n    var hasPrev = function (editor, currentSearchState) {\n      return currentSearchState.get().count > 1;\n    };\n\n    var get = function (editor, currentState) {\n      var done$1 = function (keepEditorSelection) {\n        return done(editor, currentState, keepEditorSelection);\n      };\n      var find$1 = function (text, matchCase, wholeWord, inSelection) {\n        if (inSelection === void 0) {\n          inSelection = false;\n        }\n        return find(editor, currentState, text, matchCase, wholeWord, inSelection);\n      };\n      var next$1 = function () {\n        return next(editor, currentState);\n      };\n      var prev$1 = function () {\n        return prev(editor, currentState);\n      };\n      var replace$1 = function (text, forward, all) {\n        return replace(editor, currentState, text, forward, all);\n      };\n      return {\n        done: done$1,\n        find: find$1,\n        next: next$1,\n        prev: prev$1,\n        replace: replace$1\n      };\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var value = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var open = function (editor, currentSearchState) {\n      var dialogApi = value();\n      editor.undoManager.add();\n      var selectedText = global$1.trim(editor.selection.getContent({ format: 'text' }));\n      var updateButtonStates = function (api) {\n        var updateNext = hasNext(editor, currentSearchState) ? api.enable : api.disable;\n        updateNext('next');\n        var updatePrev = hasPrev(editor, currentSearchState) ? api.enable : api.disable;\n        updatePrev('prev');\n      };\n      var updateSearchState = function (api) {\n        var data = api.getData();\n        var current = currentSearchState.get();\n        currentSearchState.set(__assign(__assign({}, current), {\n          matchCase: data.matchcase,\n          wholeWord: data.wholewords,\n          inSelection: data.inselection\n        }));\n      };\n      var disableAll = function (api, disable) {\n        var buttons = [\n          'replace',\n          'replaceall',\n          'prev',\n          'next'\n        ];\n        var toggle = disable ? api.disable : api.enable;\n        each(buttons, toggle);\n      };\n      var notFoundAlert = function (api) {\n        editor.windowManager.alert('Could not find the specified string.', function () {\n          api.focus('findtext');\n        });\n      };\n      var focusButtonIfRequired = function (api, name) {\n        if (global$2.browser.isSafari() && global$2.deviceType.isTouch() && (name === 'find' || name === 'replace' || name === 'replaceall')) {\n          api.focus(name);\n        }\n      };\n      var reset = function (api) {\n        done(editor, currentSearchState, false);\n        disableAll(api, true);\n        updateButtonStates(api);\n      };\n      var doFind = function (api) {\n        var data = api.getData();\n        var last = currentSearchState.get();\n        if (!data.findtext.length) {\n          reset(api);\n          return;\n        }\n        if (last.text === data.findtext && last.matchCase === data.matchcase && last.wholeWord === data.wholewords) {\n          next(editor, currentSearchState);\n        } else {\n          var count = find(editor, currentSearchState, data.findtext, data.matchcase, data.wholewords, data.inselection);\n          if (count <= 0) {\n            notFoundAlert(api);\n          }\n          disableAll(api, count === 0);\n        }\n        updateButtonStates(api);\n      };\n      var initialState = currentSearchState.get();\n      var initialData = {\n        findtext: selectedText,\n        replacetext: '',\n        wholewords: initialState.wholeWord,\n        matchcase: initialState.matchCase,\n        inselection: initialState.inSelection\n      };\n      var spec = {\n        title: 'Find and Replace',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [\n            {\n              type: 'bar',\n              items: [\n                {\n                  type: 'input',\n                  name: 'findtext',\n                  placeholder: 'Find',\n                  maximized: true,\n                  inputMode: 'search'\n                },\n                {\n                  type: 'button',\n                  name: 'prev',\n                  text: 'Previous',\n                  icon: 'action-prev',\n                  disabled: true,\n                  borderless: true\n                },\n                {\n                  type: 'button',\n                  name: 'next',\n                  text: 'Next',\n                  icon: 'action-next',\n                  disabled: true,\n                  borderless: true\n                }\n              ]\n            },\n            {\n              type: 'input',\n              name: 'replacetext',\n              placeholder: 'Replace with',\n              inputMode: 'search'\n            }\n          ]\n        },\n        buttons: [\n          {\n            type: 'menu',\n            name: 'options',\n            icon: 'preferences',\n            tooltip: 'Preferences',\n            align: 'start',\n            items: [\n              {\n                type: 'togglemenuitem',\n                name: 'matchcase',\n                text: 'Match case'\n              },\n              {\n                type: 'togglemenuitem',\n                name: 'wholewords',\n                text: 'Find whole words only'\n              },\n              {\n                type: 'togglemenuitem',\n                name: 'inselection',\n                text: 'Find in selection'\n              }\n            ]\n          },\n          {\n            type: 'custom',\n            name: 'find',\n            text: 'Find',\n            primary: true\n          },\n          {\n            type: 'custom',\n            name: 'replace',\n            text: 'Replace',\n            disabled: true\n          },\n          {\n            type: 'custom',\n            name: 'replaceall',\n            text: 'Replace all',\n            disabled: true\n          }\n        ],\n        initialData: initialData,\n        onChange: function (api, details) {\n          if (details.name === 'findtext' && currentSearchState.get().count > 0) {\n            reset(api);\n          }\n        },\n        onAction: function (api, details) {\n          var data = api.getData();\n          switch (details.name) {\n          case 'find':\n            doFind(api);\n            break;\n          case 'replace':\n            if (!replace(editor, currentSearchState, data.replacetext)) {\n              reset(api);\n            } else {\n              updateButtonStates(api);\n            }\n            break;\n          case 'replaceall':\n            replace(editor, currentSearchState, data.replacetext, true, true);\n            reset(api);\n            break;\n          case 'prev':\n            prev(editor, currentSearchState);\n            updateButtonStates(api);\n            break;\n          case 'next':\n            next(editor, currentSearchState);\n            updateButtonStates(api);\n            break;\n          case 'matchcase':\n          case 'wholewords':\n          case 'inselection':\n            updateSearchState(api);\n            reset(api);\n            break;\n          }\n          focusButtonIfRequired(api, details.name);\n        },\n        onSubmit: function (api) {\n          doFind(api);\n          focusButtonIfRequired(api, 'find');\n        },\n        onClose: function () {\n          editor.focus();\n          done(editor, currentSearchState);\n          editor.undoManager.add();\n        }\n      };\n      dialogApi.set(editor.windowManager.open(spec, { inline: 'toolbar' }));\n    };\n\n    var register$1 = function (editor, currentSearchState) {\n      editor.addCommand('SearchReplace', function () {\n        open(editor, currentSearchState);\n      });\n    };\n\n    var showDialog = function (editor, currentSearchState) {\n      return function () {\n        open(editor, currentSearchState);\n      };\n    };\n    var register = function (editor, currentSearchState) {\n      editor.ui.registry.addMenuItem('searchreplace', {\n        text: 'Find and replace...',\n        shortcut: 'Meta+F',\n        onAction: showDialog(editor, currentSearchState),\n        icon: 'search'\n      });\n      editor.ui.registry.addButton('searchreplace', {\n        tooltip: 'Find and replace',\n        onAction: showDialog(editor, currentSearchState),\n        icon: 'search'\n      });\n      editor.shortcuts.add('Meta+F', '', showDialog(editor, currentSearchState));\n    };\n\n    function Plugin () {\n      global$3.add('searchreplace', function (editor) {\n        var currentSearchState = Cell({\n          index: -1,\n          count: 0,\n          text: '',\n          matchCase: false,\n          wholeWord: false,\n          inSelection: false\n        });\n        register$1(editor, currentSearchState);\n        register(editor, currentSearchState);\n        return get(editor, currentSearchState);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"spellchecker\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/spellchecker')\n//   ES2015:\n//     import 'tinymce/plugins/spellchecker'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var hasProPlugin = function (editor) {\n      if (editor.hasPlugin('tinymcespellchecker', true)) {\n        if (typeof window.console !== 'undefined' && window.console.log) {\n          window.console.log('Spell Checker Pro is incompatible with Spell Checker plugin! ' + 'Remove \\'spellchecker\\' from the \\'plugins\\' option.');\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    var hasOwnProperty = Object.hasOwnProperty;\n    var isEmpty = function (r) {\n      for (var x in r) {\n        if (hasOwnProperty.call(r, x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.XHR');\n\n    var fireSpellcheckStart = function (editor) {\n      return editor.fire('SpellcheckStart');\n    };\n    var fireSpellcheckEnd = function (editor) {\n      return editor.fire('SpellcheckEnd');\n    };\n\n    var getLanguages = function (editor) {\n      var defaultLanguages = 'English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv';\n      return editor.getParam('spellchecker_languages', defaultLanguages);\n    };\n    var getLanguage = function (editor) {\n      var defaultLanguage = editor.getParam('language', 'en');\n      return editor.getParam('spellchecker_language', defaultLanguage);\n    };\n    var getRpcUrl = function (editor) {\n      return editor.getParam('spellchecker_rpc_url');\n    };\n    var getSpellcheckerCallback = function (editor) {\n      return editor.getParam('spellchecker_callback');\n    };\n    var getSpellcheckerWordcharPattern = function (editor) {\n      var defaultPattern = new RegExp('[^' + '\\\\s!\"#$%&()*+,-./:;<=>?@[\\\\]^_{|}`' + '\\xA7\\xA9\\xAB\\xAE\\xB1\\xB6\\xB7\\xB8\\xBB' + '\\xBC\\xBD\\xBE\\xBF\\xD7\\xF7\\xA4\\u201D\\u201C\\u201E\\xA0\\u2002\\u2003\\u2009' + ']+', 'g');\n      return editor.getParam('spellchecker_wordchar_pattern', defaultPattern);\n    };\n\n    var isContentEditableFalse = function (node) {\n      return node && node.nodeType === 1 && node.contentEditable === 'false';\n    };\n    var DomTextMatcher = function (node, editor) {\n      var m, matches = [];\n      var dom = editor.dom;\n      var blockElementsMap = editor.schema.getBlockElements();\n      var hiddenTextElementsMap = editor.schema.getWhiteSpaceElements();\n      var shortEndedElementsMap = editor.schema.getShortEndedElements();\n      var createMatch = function (m, data) {\n        if (!m[0]) {\n          throw new Error('findAndReplaceDOMText cannot handle zero-length matches');\n        }\n        return {\n          start: m.index,\n          end: m.index + m[0].length,\n          text: m[0],\n          data: data\n        };\n      };\n      var getText = function (node) {\n        if (node.nodeType === 3) {\n          return node.data;\n        }\n        if (hiddenTextElementsMap[node.nodeName] && !blockElementsMap[node.nodeName]) {\n          return '';\n        }\n        if (isContentEditableFalse(node)) {\n          return '\\n';\n        }\n        var txt = '';\n        if (blockElementsMap[node.nodeName] || shortEndedElementsMap[node.nodeName]) {\n          txt += '\\n';\n        }\n        if (node = node.firstChild) {\n          do {\n            txt += getText(node);\n          } while (node = node.nextSibling);\n        }\n        return txt;\n      };\n      var stepThroughMatches = function (node, matches, replaceFn) {\n        var startNode, endNode, startNodeIndex, endNodeIndex, innerNodes = [], atIndex = 0, curNode = node, matchLocation, matchIndex = 0;\n        matches = matches.slice(0);\n        matches.sort(function (a, b) {\n          return a.start - b.start;\n        });\n        matchLocation = matches.shift();\n        out:\n          while (true) {\n            if (blockElementsMap[curNode.nodeName] || shortEndedElementsMap[curNode.nodeName] || isContentEditableFalse(curNode)) {\n              atIndex++;\n            }\n            if (curNode.nodeType === 3) {\n              if (!endNode && curNode.length + atIndex >= matchLocation.end) {\n                endNode = curNode;\n                endNodeIndex = matchLocation.end - atIndex;\n              } else if (startNode) {\n                innerNodes.push(curNode);\n              }\n              if (!startNode && curNode.length + atIndex > matchLocation.start) {\n                startNode = curNode;\n                startNodeIndex = matchLocation.start - atIndex;\n              }\n              atIndex += curNode.length;\n            }\n            if (startNode && endNode) {\n              curNode = replaceFn({\n                startNode: startNode,\n                startNodeIndex: startNodeIndex,\n                endNode: endNode,\n                endNodeIndex: endNodeIndex,\n                innerNodes: innerNodes,\n                match: matchLocation.text,\n                matchIndex: matchIndex\n              });\n              atIndex -= endNode.length - endNodeIndex;\n              startNode = null;\n              endNode = null;\n              innerNodes = [];\n              matchLocation = matches.shift();\n              matchIndex++;\n              if (!matchLocation) {\n                break;\n              }\n            } else if ((!hiddenTextElementsMap[curNode.nodeName] || blockElementsMap[curNode.nodeName]) && curNode.firstChild) {\n              if (!isContentEditableFalse(curNode)) {\n                curNode = curNode.firstChild;\n                continue;\n              }\n            } else if (curNode.nextSibling) {\n              curNode = curNode.nextSibling;\n              continue;\n            }\n            while (true) {\n              if (curNode.nextSibling) {\n                curNode = curNode.nextSibling;\n                break;\n              } else if (curNode.parentNode !== node) {\n                curNode = curNode.parentNode;\n              } else {\n                break out;\n              }\n            }\n          }\n      };\n      var genReplacer = function (callback) {\n        var makeReplacementNode = function (fill, matchIndex) {\n          var match = matches[matchIndex];\n          if (!match.stencil) {\n            match.stencil = callback(match);\n          }\n          var clone = match.stencil.cloneNode(false);\n          clone.setAttribute('data-mce-index', '' + matchIndex);\n          if (fill) {\n            clone.appendChild(dom.doc.createTextNode(fill));\n          }\n          return clone;\n        };\n        return function (range) {\n          var before;\n          var after;\n          var parentNode;\n          var startNode = range.startNode;\n          var endNode = range.endNode;\n          var matchIndex = range.matchIndex;\n          var doc = dom.doc;\n          if (startNode === endNode) {\n            var node_1 = startNode;\n            parentNode = node_1.parentNode;\n            if (range.startNodeIndex > 0) {\n              before = doc.createTextNode(node_1.data.substring(0, range.startNodeIndex));\n              parentNode.insertBefore(before, node_1);\n            }\n            var el = makeReplacementNode(range.match, matchIndex);\n            parentNode.insertBefore(el, node_1);\n            if (range.endNodeIndex < node_1.length) {\n              after = doc.createTextNode(node_1.data.substring(range.endNodeIndex));\n              parentNode.insertBefore(after, node_1);\n            }\n            node_1.parentNode.removeChild(node_1);\n            return el;\n          }\n          before = doc.createTextNode(startNode.data.substring(0, range.startNodeIndex));\n          after = doc.createTextNode(endNode.data.substring(range.endNodeIndex));\n          var elA = makeReplacementNode(startNode.data.substring(range.startNodeIndex), matchIndex);\n          for (var i = 0, l = range.innerNodes.length; i < l; ++i) {\n            var innerNode = range.innerNodes[i];\n            var innerEl = makeReplacementNode(innerNode.data, matchIndex);\n            innerNode.parentNode.replaceChild(innerEl, innerNode);\n          }\n          var elB = makeReplacementNode(endNode.data.substring(0, range.endNodeIndex), matchIndex);\n          parentNode = startNode.parentNode;\n          parentNode.insertBefore(before, startNode);\n          parentNode.insertBefore(elA, startNode);\n          parentNode.removeChild(startNode);\n          parentNode = endNode.parentNode;\n          parentNode.insertBefore(elB, endNode);\n          parentNode.insertBefore(after, endNode);\n          parentNode.removeChild(endNode);\n          return elB;\n        };\n      };\n      var unwrapElement = function (element) {\n        var parentNode = element.parentNode;\n        while (element.childNodes.length > 0) {\n          parentNode.insertBefore(element.childNodes[0], element);\n        }\n        parentNode.removeChild(element);\n      };\n      var hasClass = function (elm) {\n        return elm.className.indexOf('mce-spellchecker-word') !== -1;\n      };\n      var getWrappersByIndex = function (index) {\n        var elements = node.getElementsByTagName('*'), wrappers = [];\n        index = typeof index === 'number' ? '' + index : null;\n        for (var i = 0; i < elements.length; i++) {\n          var element = elements[i], dataIndex = element.getAttribute('data-mce-index');\n          if (dataIndex !== null && dataIndex.length && hasClass(element)) {\n            if (dataIndex === index || index === null) {\n              wrappers.push(element);\n            }\n          }\n        }\n        return wrappers;\n      };\n      var indexOf = function (match) {\n        var i = matches.length;\n        while (i--) {\n          if (matches[i] === match) {\n            return i;\n          }\n        }\n        return -1;\n      };\n      function filter(callback) {\n        var filteredMatches = [];\n        each(function (match, i) {\n          if (callback(match, i)) {\n            filteredMatches.push(match);\n          }\n        });\n        matches = filteredMatches;\n        return this;\n      }\n      function each(callback) {\n        for (var i = 0, l = matches.length; i < l; i++) {\n          if (callback(matches[i], i) === false) {\n            break;\n          }\n        }\n        return this;\n      }\n      function wrap(callback) {\n        if (matches.length) {\n          stepThroughMatches(node, matches, genReplacer(callback));\n        }\n        return this;\n      }\n      function find(regex, data) {\n        if (text && regex.global) {\n          while (m = regex.exec(text)) {\n            matches.push(createMatch(m, data));\n          }\n        }\n        return this;\n      }\n      function unwrap(match) {\n        var i;\n        var elements = getWrappersByIndex(match ? indexOf(match) : null);\n        i = elements.length;\n        while (i--) {\n          unwrapElement(elements[i]);\n        }\n        return this;\n      }\n      var matchFromElement = function (element) {\n        return matches[element.getAttribute('data-mce-index')];\n      };\n      var elementFromMatch = function (match) {\n        return getWrappersByIndex(indexOf(match))[0];\n      };\n      function add(start, length, data) {\n        matches.push({\n          start: start,\n          end: start + length,\n          text: text.substr(start, length),\n          data: data\n        });\n        return this;\n      }\n      var rangeFromMatch = function (match) {\n        var wrappers = getWrappersByIndex(indexOf(match));\n        var rng = editor.dom.createRng();\n        rng.setStartBefore(wrappers[0]);\n        rng.setEndAfter(wrappers[wrappers.length - 1]);\n        return rng;\n      };\n      var replace = function (match, text) {\n        var rng = rangeFromMatch(match);\n        rng.deleteContents();\n        if (text.length > 0) {\n          rng.insertNode(editor.dom.doc.createTextNode(text));\n        }\n        return rng;\n      };\n      function reset() {\n        matches.splice(0, matches.length);\n        unwrap();\n        return this;\n      }\n      var text = getText(node);\n      return {\n        text: text,\n        matches: matches,\n        each: each,\n        filter: filter,\n        reset: reset,\n        matchFromElement: matchFromElement,\n        elementFromMatch: elementFromMatch,\n        find: find,\n        add: add,\n        wrap: wrap,\n        unwrap: unwrap,\n        replace: replace,\n        rangeFromMatch: rangeFromMatch,\n        indexOf: indexOf\n      };\n    };\n\n    var getTextMatcher = function (editor, textMatcherState) {\n      if (!textMatcherState.get()) {\n        var textMatcher = DomTextMatcher(editor.getBody(), editor);\n        textMatcherState.set(textMatcher);\n      }\n      return textMatcherState.get();\n    };\n    var defaultSpellcheckCallback = function (editor, pluginUrl, currentLanguageState) {\n      return function (method, text, doneCallback, errorCallback) {\n        var data = {\n          method: method,\n          lang: currentLanguageState.get()\n        };\n        var postData = '';\n        data[method === 'addToDictionary' ? 'word' : 'text'] = text;\n        global$2.each(data, function (value, key) {\n          if (postData) {\n            postData += '&';\n          }\n          postData += key + '=' + encodeURIComponent(value);\n        });\n        global.send({\n          url: new global$1(pluginUrl).toAbsolute(getRpcUrl(editor)),\n          type: 'post',\n          content_type: 'application/x-www-form-urlencoded',\n          data: postData,\n          success: function (result) {\n            var parseResult = JSON.parse(result);\n            if (!parseResult) {\n              var message = editor.translate('Server response wasn\\'t proper JSON.');\n              errorCallback(message);\n            } else if (parseResult.error) {\n              errorCallback(parseResult.error);\n            } else {\n              doneCallback(parseResult);\n            }\n          },\n          error: function () {\n            var message = editor.translate('The spelling service was not found: (') + getRpcUrl(editor) + editor.translate(')');\n            errorCallback(message);\n          }\n        });\n      };\n    };\n    var sendRpcCall = function (editor, pluginUrl, currentLanguageState, name, data, successCallback, errorCallback) {\n      var userSpellcheckCallback = getSpellcheckerCallback(editor);\n      var spellCheckCallback = userSpellcheckCallback ? userSpellcheckCallback : defaultSpellcheckCallback(editor, pluginUrl, currentLanguageState);\n      spellCheckCallback.call(editor.plugins.spellchecker, name, data, successCallback, errorCallback);\n    };\n    var spellcheck = function (editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState) {\n      if (finish(editor, startedState, textMatcherState)) {\n        return;\n      }\n      var errorCallback = function (message) {\n        editor.notificationManager.open({\n          text: message,\n          type: 'error'\n        });\n        editor.setProgressState(false);\n        finish(editor, startedState, textMatcherState);\n      };\n      var successCallback = function (data) {\n        markErrors(editor, startedState, textMatcherState, lastSuggestionsState, data);\n      };\n      editor.setProgressState(true);\n      sendRpcCall(editor, pluginUrl, currentLanguageState, 'spellcheck', getTextMatcher(editor, textMatcherState).text, successCallback, errorCallback);\n      editor.focus();\n    };\n    var checkIfFinished = function (editor, startedState, textMatcherState) {\n      if (!editor.dom.select('span.mce-spellchecker-word').length) {\n        finish(editor, startedState, textMatcherState);\n      }\n    };\n    var addToDictionary = function (editor, pluginUrl, startedState, textMatcherState, currentLanguageState, word, spans) {\n      editor.setProgressState(true);\n      sendRpcCall(editor, pluginUrl, currentLanguageState, 'addToDictionary', word, function () {\n        editor.setProgressState(false);\n        editor.dom.remove(spans, true);\n        checkIfFinished(editor, startedState, textMatcherState);\n      }, function (message) {\n        editor.notificationManager.open({\n          text: message,\n          type: 'error'\n        });\n        editor.setProgressState(false);\n      });\n    };\n    var ignoreWord = function (editor, startedState, textMatcherState, word, spans, all) {\n      editor.selection.collapse();\n      if (all) {\n        global$2.each(editor.dom.select('span.mce-spellchecker-word'), function (span) {\n          if (span.getAttribute('data-mce-word') === word) {\n            editor.dom.remove(span, true);\n          }\n        });\n      } else {\n        editor.dom.remove(spans, true);\n      }\n      checkIfFinished(editor, startedState, textMatcherState);\n    };\n    var finish = function (editor, startedState, textMatcherState) {\n      var bookmark = editor.selection.getBookmark();\n      getTextMatcher(editor, textMatcherState).reset();\n      editor.selection.moveToBookmark(bookmark);\n      textMatcherState.set(null);\n      if (startedState.get()) {\n        startedState.set(false);\n        fireSpellcheckEnd(editor);\n        return true;\n      }\n    };\n    var getElmIndex = function (elm) {\n      var value = elm.getAttribute('data-mce-index');\n      if (typeof value === 'number') {\n        return '' + value;\n      }\n      return value;\n    };\n    var findSpansByIndex = function (editor, index) {\n      var spans = [];\n      var nodes = global$2.toArray(editor.getBody().getElementsByTagName('span'));\n      if (nodes.length) {\n        for (var i = 0; i < nodes.length; i++) {\n          var nodeIndex = getElmIndex(nodes[i]);\n          if (nodeIndex === null || !nodeIndex.length) {\n            continue;\n          }\n          if (nodeIndex === index.toString()) {\n            spans.push(nodes[i]);\n          }\n        }\n      }\n      return spans;\n    };\n    var markErrors = function (editor, startedState, textMatcherState, lastSuggestionsState, data) {\n      var hasDictionarySupport = !!data.dictionary;\n      var suggestions = data.words;\n      editor.setProgressState(false);\n      if (isEmpty(suggestions)) {\n        var message = editor.translate('No misspellings found.');\n        editor.notificationManager.open({\n          text: message,\n          type: 'info'\n        });\n        startedState.set(false);\n        return;\n      }\n      lastSuggestionsState.set({\n        suggestions: suggestions,\n        hasDictionarySupport: hasDictionarySupport\n      });\n      var bookmark = editor.selection.getBookmark();\n      getTextMatcher(editor, textMatcherState).find(getSpellcheckerWordcharPattern(editor)).filter(function (match) {\n        return !!suggestions[match.text];\n      }).wrap(function (match) {\n        return editor.dom.create('span', {\n          'class': 'mce-spellchecker-word',\n          'aria-invalid': 'spelling',\n          'data-mce-bogus': 1,\n          'data-mce-word': match.text\n        });\n      });\n      editor.selection.moveToBookmark(bookmark);\n      startedState.set(true);\n      fireSpellcheckStart(editor);\n    };\n\n    var get = function (editor, startedState, lastSuggestionsState, textMatcherState, currentLanguageState) {\n      var getWordCharPattern = function () {\n        return getSpellcheckerWordcharPattern(editor);\n      };\n      var markErrors$1 = function (data) {\n        markErrors(editor, startedState, textMatcherState, lastSuggestionsState, data);\n      };\n      return {\n        getTextMatcher: textMatcherState.get,\n        getWordCharPattern: getWordCharPattern,\n        markErrors: markErrors$1,\n        getLanguage: currentLanguageState.get\n      };\n    };\n\n    var register$1 = function (editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState) {\n      editor.addCommand('mceSpellCheck', function () {\n        spellcheck(editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState);\n      });\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var spellcheckerEvents = 'SpellcheckStart SpellcheckEnd';\n    var buildMenuItems = function (listName, languageValues) {\n      var items = [];\n      global$2.each(languageValues, function (languageValue) {\n        items.push({\n          selectable: true,\n          text: languageValue.name,\n          data: languageValue.value\n        });\n      });\n      return items;\n    };\n    var getItems = function (editor) {\n      return global$2.map(getLanguages(editor).split(','), function (langPair) {\n        var langPairs = langPair.split('=');\n        return {\n          name: langPairs[0],\n          value: langPairs[1]\n        };\n      });\n    };\n    var register = function (editor, pluginUrl, startedState, textMatcherState, currentLanguageState, lastSuggestionsState) {\n      var languageMenuItems = buildMenuItems('Language', getItems(editor));\n      var startSpellchecking = function () {\n        spellcheck(editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState);\n      };\n      var buttonArgs = {\n        tooltip: 'Spellcheck',\n        onAction: startSpellchecking,\n        icon: 'spell-check',\n        onSetup: function (buttonApi) {\n          var setButtonState = function () {\n            buttonApi.setActive(startedState.get());\n          };\n          editor.on(spellcheckerEvents, setButtonState);\n          return function () {\n            editor.off(spellcheckerEvents, setButtonState);\n          };\n        }\n      };\n      var splitButtonArgs = __assign(__assign({}, buttonArgs), {\n        type: 'splitbutton',\n        select: function (value) {\n          return value === currentLanguageState.get();\n        },\n        fetch: function (callback) {\n          var items = global$2.map(languageMenuItems, function (languageItem) {\n            return {\n              type: 'choiceitem',\n              value: languageItem.data,\n              text: languageItem.text\n            };\n          });\n          callback(items);\n        },\n        onItemAction: function (splitButtonApi, value) {\n          currentLanguageState.set(value);\n        }\n      });\n      if (languageMenuItems.length > 1) {\n        editor.ui.registry.addSplitButton('spellchecker', splitButtonArgs);\n      } else {\n        editor.ui.registry.addToggleButton('spellchecker', buttonArgs);\n      }\n      editor.ui.registry.addToggleMenuItem('spellchecker', {\n        text: 'Spellcheck',\n        icon: 'spell-check',\n        onSetup: function (menuApi) {\n          menuApi.setActive(startedState.get());\n          var setMenuItemCheck = function () {\n            menuApi.setActive(startedState.get());\n          };\n          editor.on(spellcheckerEvents, setMenuItemCheck);\n          return function () {\n            editor.off(spellcheckerEvents, setMenuItemCheck);\n          };\n        },\n        onAction: startSpellchecking\n      });\n    };\n\n    var ignoreAll = true;\n    var getSuggestions = function (editor, pluginUrl, lastSuggestionsState, startedState, textMatcherState, currentLanguageState, word, spans) {\n      var items = [];\n      var suggestions = lastSuggestionsState.get().suggestions[word];\n      global$2.each(suggestions, function (suggestion) {\n        items.push({\n          text: suggestion,\n          onAction: function () {\n            editor.insertContent(editor.dom.encode(suggestion));\n            editor.dom.remove(spans);\n            checkIfFinished(editor, startedState, textMatcherState);\n          }\n        });\n      });\n      var hasDictionarySupport = lastSuggestionsState.get().hasDictionarySupport;\n      if (hasDictionarySupport) {\n        items.push({ type: 'separator' });\n        items.push({\n          text: 'Add to dictionary',\n          onAction: function () {\n            addToDictionary(editor, pluginUrl, startedState, textMatcherState, currentLanguageState, word, spans);\n          }\n        });\n      }\n      items.push.apply(items, [\n        { type: 'separator' },\n        {\n          text: 'Ignore',\n          onAction: function () {\n            ignoreWord(editor, startedState, textMatcherState, word, spans);\n          }\n        },\n        {\n          text: 'Ignore all',\n          onAction: function () {\n            ignoreWord(editor, startedState, textMatcherState, word, spans, ignoreAll);\n          }\n        }\n      ]);\n      return items;\n    };\n    var setup = function (editor, pluginUrl, lastSuggestionsState, startedState, textMatcherState, currentLanguageState) {\n      var update = function (element) {\n        var target = element;\n        if (target.className === 'mce-spellchecker-word') {\n          var spans = findSpansByIndex(editor, getElmIndex(target));\n          if (spans.length > 0) {\n            var rng = editor.dom.createRng();\n            rng.setStartBefore(spans[0]);\n            rng.setEndAfter(spans[spans.length - 1]);\n            editor.selection.setRng(rng);\n            return getSuggestions(editor, pluginUrl, lastSuggestionsState, startedState, textMatcherState, currentLanguageState, target.getAttribute('data-mce-word'), spans);\n          }\n        } else {\n          return [];\n        }\n      };\n      editor.ui.registry.addContextMenu('spellchecker', { update: update });\n    };\n\n    function Plugin () {\n      global$3.add('spellchecker', function (editor, pluginUrl) {\n        if (hasProPlugin(editor) === false) {\n          var startedState = Cell(false);\n          var currentLanguageState = Cell(getLanguage(editor));\n          var textMatcherState = Cell(null);\n          var lastSuggestionsState = Cell(null);\n          register(editor, pluginUrl, startedState, textMatcherState, currentLanguageState, lastSuggestionsState);\n          setup(editor, pluginUrl, lastSuggestionsState, startedState, textMatcherState, currentLanguageState);\n          register$1(editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState);\n          return get(editor, startedState, lastSuggestionsState, textMatcherState, currentLanguageState);\n        }\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"tabfocus\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/tabfocus')\n//   ES2015:\n//     import 'tinymce/plugins/tabfocus'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var getTabFocusElements = function (editor) {\n      return editor.getParam('tabfocus_elements', ':prev,:next');\n    };\n    var getTabFocus = function (editor) {\n      return editor.getParam('tab_focus', getTabFocusElements(editor));\n    };\n\n    var DOM = global$5.DOM;\n    var tabCancel = function (e) {\n      if (e.keyCode === global.TAB && !e.ctrlKey && !e.altKey && !e.metaKey) {\n        e.preventDefault();\n      }\n    };\n    var setup = function (editor) {\n      var tabHandler = function (e) {\n        var x;\n        if (e.keyCode !== global.TAB || e.ctrlKey || e.altKey || e.metaKey || e.isDefaultPrevented()) {\n          return;\n        }\n        var find = function (direction) {\n          var el = DOM.select(':input:enabled,*[tabindex]:not(iframe)');\n          var canSelectRecursive = function (e) {\n            var castElem = e;\n            return e.nodeName === 'BODY' || castElem.type !== 'hidden' && castElem.style.display !== 'none' && castElem.style.visibility !== 'hidden' && canSelectRecursive(e.parentNode);\n          };\n          var canSelect = function (el) {\n            return /INPUT|TEXTAREA|BUTTON/.test(el.tagName) && global$4.get(e.id) && el.tabIndex !== -1 && canSelectRecursive(el);\n          };\n          global$1.each(el, function (e, i) {\n            if (e.id === editor.id) {\n              x = i;\n              return false;\n            }\n          });\n          if (direction > 0) {\n            for (var i = x + 1; i < el.length; i++) {\n              if (canSelect(el[i])) {\n                return el[i];\n              }\n            }\n          } else {\n            for (var i = x - 1; i >= 0; i--) {\n              if (canSelect(el[i])) {\n                return el[i];\n              }\n            }\n          }\n          return null;\n        };\n        var v = global$1.explode(getTabFocus(editor));\n        if (v.length === 1) {\n          v[1] = v[0];\n          v[0] = ':prev';\n        }\n        var el;\n        if (e.shiftKey) {\n          if (v[0] === ':prev') {\n            el = find(-1);\n          } else {\n            el = DOM.get(v[0]);\n          }\n        } else {\n          if (v[1] === ':next') {\n            el = find(1);\n          } else {\n            el = DOM.get(v[1]);\n          }\n        }\n        if (el) {\n          var focusEditor = global$4.get(el.id || el.name);\n          if (el.id && focusEditor) {\n            focusEditor.focus();\n          } else {\n            global$2.setTimeout(function () {\n              if (!global$3.webkit) {\n                window.focus();\n              }\n              el.focus();\n            }, 10);\n          }\n          e.preventDefault();\n        }\n      };\n      editor.on('init', function () {\n        if (editor.inline) {\n          DOM.setAttrib(editor.getBody(), 'tabIndex', null);\n        }\n        editor.on('keyup', tabCancel);\n        if (global$3.gecko) {\n          editor.on('keypress keydown', tabHandler);\n        } else {\n          editor.on('keydown', tabHandler);\n        }\n      });\n    };\n\n    function Plugin () {\n      global$6.add('tabfocus', function (editor) {\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"template\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/template')\n//   ES2015:\n//     import 'tinymce/plugins/template'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType('string');\n    var isFunction = isSimpleType('function');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var never = constant(false);\n    var always = constant(true);\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.XHR');\n\n    var getCreationDateClasses = function (editor) {\n      return editor.getParam('template_cdate_classes', 'cdate');\n    };\n    var getModificationDateClasses = function (editor) {\n      return editor.getParam('template_mdate_classes', 'mdate');\n    };\n    var getSelectedContentClasses = function (editor) {\n      return editor.getParam('template_selected_content_classes', 'selcontent');\n    };\n    var getPreviewReplaceValues = function (editor) {\n      return editor.getParam('template_preview_replace_values');\n    };\n    var getContentStyle = function (editor) {\n      return editor.getParam('content_style', '', 'string');\n    };\n    var shouldUseContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors', false, 'boolean');\n    };\n    var getTemplateReplaceValues = function (editor) {\n      return editor.getParam('template_replace_values');\n    };\n    var getTemplates = function (editor) {\n      return editor.getParam('templates');\n    };\n    var getCdateFormat = function (editor) {\n      return editor.getParam('template_cdate_format', editor.translate('%Y-%m-%d'));\n    };\n    var getMdateFormat = function (editor) {\n      return editor.getParam('template_mdate_format', editor.translate('%Y-%m-%d'));\n    };\n    var getBodyClassFromHash = function (editor) {\n      var bodyClass = editor.getParam('body_class', '', 'hash');\n      return bodyClass[editor.id] || '';\n    };\n    var getBodyClass = function (editor) {\n      var bodyClass = editor.getParam('body_class', '', 'string');\n      if (bodyClass.indexOf('=') === -1) {\n        return bodyClass;\n      } else {\n        return getBodyClassFromHash(editor);\n      }\n    };\n\n    var addZeros = function (value, len) {\n      value = '' + value;\n      if (value.length < len) {\n        for (var i = 0; i < len - value.length; i++) {\n          value = '0' + value;\n        }\n      }\n      return value;\n    };\n    var getDateTime = function (editor, fmt, date) {\n      if (date === void 0) {\n        date = new Date();\n      }\n      var daysShort = 'Sun Mon Tue Wed Thu Fri Sat Sun'.split(' ');\n      var daysLong = 'Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday'.split(' ');\n      var monthsShort = 'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec'.split(' ');\n      var monthsLong = 'January February March April May June July August September October November December'.split(' ');\n      fmt = fmt.replace('%D', '%m/%d/%Y');\n      fmt = fmt.replace('%r', '%I:%M:%S %p');\n      fmt = fmt.replace('%Y', '' + date.getFullYear());\n      fmt = fmt.replace('%y', '' + date.getYear());\n      fmt = fmt.replace('%m', addZeros(date.getMonth() + 1, 2));\n      fmt = fmt.replace('%d', addZeros(date.getDate(), 2));\n      fmt = fmt.replace('%H', '' + addZeros(date.getHours(), 2));\n      fmt = fmt.replace('%M', '' + addZeros(date.getMinutes(), 2));\n      fmt = fmt.replace('%S', '' + addZeros(date.getSeconds(), 2));\n      fmt = fmt.replace('%I', '' + ((date.getHours() + 11) % 12 + 1));\n      fmt = fmt.replace('%p', '' + (date.getHours() < 12 ? 'AM' : 'PM'));\n      fmt = fmt.replace('%B', '' + editor.translate(monthsLong[date.getMonth()]));\n      fmt = fmt.replace('%b', '' + editor.translate(monthsShort[date.getMonth()]));\n      fmt = fmt.replace('%A', '' + editor.translate(daysLong[date.getDay()]));\n      fmt = fmt.replace('%a', '' + editor.translate(daysShort[date.getDay()]));\n      fmt = fmt.replace('%%', '%');\n      return fmt;\n    };\n\n    var createTemplateList = function (editor, callback) {\n      return function () {\n        var templateList = getTemplates(editor);\n        if (isFunction(templateList)) {\n          templateList(callback);\n        } else if (isString(templateList)) {\n          global$2.send({\n            url: templateList,\n            success: function (text) {\n              callback(JSON.parse(text));\n            }\n          });\n        } else {\n          callback(templateList);\n        }\n      };\n    };\n    var replaceTemplateValues = function (html, templateValues) {\n      global$3.each(templateValues, function (v, k) {\n        if (isFunction(v)) {\n          v = v(k);\n        }\n        html = html.replace(new RegExp('\\\\{\\\\$' + k + '\\\\}', 'g'), v);\n      });\n      return html;\n    };\n    var replaceVals = function (editor, scope) {\n      var dom = editor.dom, vl = getTemplateReplaceValues(editor);\n      global$3.each(dom.select('*', scope), function (e) {\n        global$3.each(vl, function (v, k) {\n          if (dom.hasClass(e, k)) {\n            if (isFunction(v)) {\n              v(e);\n            }\n          }\n        });\n      });\n    };\n    var hasClass = function (n, c) {\n      return new RegExp('\\\\b' + c + '\\\\b', 'g').test(n.className);\n    };\n    var insertTemplate = function (editor, _ui, html) {\n      var dom = editor.dom;\n      var sel = editor.selection.getContent();\n      html = replaceTemplateValues(html, getTemplateReplaceValues(editor));\n      var el = dom.create('div', null, html);\n      var n = dom.select('.mceTmpl', el);\n      if (n && n.length > 0) {\n        el = dom.create('div', null);\n        el.appendChild(n[0].cloneNode(true));\n      }\n      global$3.each(dom.select('*', el), function (n) {\n        if (hasClass(n, getCreationDateClasses(editor).replace(/\\s+/g, '|'))) {\n          n.innerHTML = getDateTime(editor, getCdateFormat(editor));\n        }\n        if (hasClass(n, getModificationDateClasses(editor).replace(/\\s+/g, '|'))) {\n          n.innerHTML = getDateTime(editor, getMdateFormat(editor));\n        }\n        if (hasClass(n, getSelectedContentClasses(editor).replace(/\\s+/g, '|'))) {\n          n.innerHTML = sel;\n        }\n      });\n      replaceVals(editor, el);\n      editor.execCommand('mceInsertContent', false, el.innerHTML);\n      editor.addVisual();\n    };\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var hasOwnProperty = Object.hasOwnProperty;\n    var get = function (obj, key) {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var entitiesAttr = {\n      '\"': '&quot;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '&': '&amp;',\n      '\\'': '&#039;'\n    };\n    var htmlEscape = function (html) {\n      return html.replace(/[\"'<>&]/g, function (match) {\n        return get(entitiesAttr, match).getOr(match);\n      });\n    };\n\n    var getPreviewContent = function (editor, html) {\n      if (html.indexOf('<html>') === -1) {\n        var contentCssEntries_1 = '';\n        var contentStyle = getContentStyle(editor);\n        var cors_1 = shouldUseContentCssCors(editor) ? ' crossorigin=\"anonymous\"' : '';\n        global$3.each(editor.contentCSS, function (url) {\n          contentCssEntries_1 += '<link type=\"text/css\" rel=\"stylesheet\" href=\"' + editor.documentBaseURI.toAbsolute(url) + '\"' + cors_1 + '>';\n        });\n        if (contentStyle) {\n          contentCssEntries_1 += '<style type=\"text/css\">' + contentStyle + '</style>';\n        }\n        var bodyClass = getBodyClass(editor);\n        var encode = editor.dom.encode;\n        var isMetaKeyPressed = global$1.mac ? 'e.metaKey' : 'e.ctrlKey && !e.altKey';\n        var preventClicksOnLinksScript = '<script>' + 'document.addEventListener && document.addEventListener(\"click\", function(e) {' + 'for (var elm = e.target; elm; elm = elm.parentNode) {' + 'if (elm.nodeName === \"A\" && !(' + isMetaKeyPressed + ')) {' + 'e.preventDefault();' + '}' + '}' + '}, false);' + '</script> ';\n        var directionality = editor.getBody().dir;\n        var dirAttr = directionality ? ' dir=\"' + encode(directionality) + '\"' : '';\n        html = '<!DOCTYPE html>' + '<html>' + '<head>' + '<base href=\"' + encode(editor.documentBaseURI.getURI()) + '\">' + contentCssEntries_1 + preventClicksOnLinksScript + '</head>' + '<body class=\"' + encode(bodyClass) + '\"' + dirAttr + '>' + html + '</body>' + '</html>';\n      }\n      return replaceTemplateValues(html, getPreviewReplaceValues(editor));\n    };\n    var open = function (editor, templateList) {\n      var createTemplates = function () {\n        if (!templateList || templateList.length === 0) {\n          var message = editor.translate('No templates defined.');\n          editor.notificationManager.open({\n            text: message,\n            type: 'info'\n          });\n          return Optional.none();\n        }\n        return Optional.from(global$3.map(templateList, function (template, index) {\n          var isUrlTemplate = function (t) {\n            return t.url !== undefined;\n          };\n          return {\n            selected: index === 0,\n            text: template.title,\n            value: {\n              url: isUrlTemplate(template) ? Optional.from(template.url) : Optional.none(),\n              content: !isUrlTemplate(template) ? Optional.from(template.content) : Optional.none(),\n              description: template.description\n            }\n          };\n        }));\n      };\n      var createSelectBoxItems = function (templates) {\n        return map(templates, function (t) {\n          return {\n            text: t.text,\n            value: t.text\n          };\n        });\n      };\n      var findTemplate = function (templates, templateTitle) {\n        return find(templates, function (t) {\n          return t.text === templateTitle;\n        });\n      };\n      var loadFailedAlert = function (api) {\n        editor.windowManager.alert('Could not load the specified template.', function () {\n          return api.focus('template');\n        });\n      };\n      var getTemplateContent = function (t) {\n        return new global(function (resolve, reject) {\n          t.value.url.fold(function () {\n            return resolve(t.value.content.getOr(''));\n          }, function (url) {\n            return global$2.send({\n              url: url,\n              success: function (html) {\n                resolve(html);\n              },\n              error: function (e) {\n                reject(e);\n              }\n            });\n          });\n        });\n      };\n      var onChange = function (templates, updateDialog) {\n        return function (api, change) {\n          if (change.name === 'template') {\n            var newTemplateTitle = api.getData().template;\n            findTemplate(templates, newTemplateTitle).each(function (t) {\n              api.block('Loading...');\n              getTemplateContent(t).then(function (previewHtml) {\n                updateDialog(api, t, previewHtml);\n              }).catch(function () {\n                updateDialog(api, t, '');\n                api.disable('save');\n                loadFailedAlert(api);\n              });\n            });\n          }\n        };\n      };\n      var onSubmit = function (templates) {\n        return function (api) {\n          var data = api.getData();\n          findTemplate(templates, data.template).each(function (t) {\n            getTemplateContent(t).then(function (previewHtml) {\n              editor.execCommand('mceInsertTemplate', false, previewHtml);\n              api.close();\n            }).catch(function () {\n              api.disable('save');\n              loadFailedAlert(api);\n            });\n          });\n        };\n      };\n      var openDialog = function (templates) {\n        var selectBoxItems = createSelectBoxItems(templates);\n        var buildDialogSpec = function (bodyItems, initialData) {\n          return {\n            title: 'Insert Template',\n            size: 'large',\n            body: {\n              type: 'panel',\n              items: bodyItems\n            },\n            initialData: initialData,\n            buttons: [\n              {\n                type: 'cancel',\n                name: 'cancel',\n                text: 'Cancel'\n              },\n              {\n                type: 'submit',\n                name: 'save',\n                text: 'Save',\n                primary: true\n              }\n            ],\n            onSubmit: onSubmit(templates),\n            onChange: onChange(templates, updateDialog)\n          };\n        };\n        var updateDialog = function (dialogApi, template, previewHtml) {\n          var content = getPreviewContent(editor, previewHtml);\n          var bodyItems = [\n            {\n              type: 'selectbox',\n              name: 'template',\n              label: 'Templates',\n              items: selectBoxItems\n            },\n            {\n              type: 'htmlpanel',\n              html: '<p aria-live=\"polite\">' + htmlEscape(template.value.description) + '</p>'\n            },\n            {\n              label: 'Preview',\n              type: 'iframe',\n              name: 'preview',\n              sandboxed: false\n            }\n          ];\n          var initialData = {\n            template: template.text,\n            preview: content\n          };\n          dialogApi.unblock();\n          dialogApi.redial(buildDialogSpec(bodyItems, initialData));\n          dialogApi.focus('template');\n        };\n        var dialogApi = editor.windowManager.open(buildDialogSpec([], {\n          template: '',\n          preview: ''\n        }));\n        dialogApi.block('Loading...');\n        getTemplateContent(templates[0]).then(function (previewHtml) {\n          updateDialog(dialogApi, templates[0], previewHtml);\n        }).catch(function () {\n          updateDialog(dialogApi, templates[0], '');\n          dialogApi.disable('save');\n          loadFailedAlert(dialogApi);\n        });\n      };\n      var optTemplates = createTemplates();\n      optTemplates.each(openDialog);\n    };\n\n    var showDialog = function (editor) {\n      return function (templates) {\n        open(editor, templates);\n      };\n    };\n    var register$1 = function (editor) {\n      editor.addCommand('mceInsertTemplate', curry(insertTemplate, editor));\n      editor.addCommand('mceTemplate', createTemplateList(editor, showDialog(editor)));\n    };\n\n    var setup = function (editor) {\n      editor.on('PreProcess', function (o) {\n        var dom = editor.dom, dateFormat = getMdateFormat(editor);\n        global$3.each(dom.select('div', o.node), function (e) {\n          if (dom.hasClass(e, 'mceTmpl')) {\n            global$3.each(dom.select('*', e), function (e) {\n              if (dom.hasClass(e, getModificationDateClasses(editor).replace(/\\s+/g, '|'))) {\n                e.innerHTML = getDateTime(editor, dateFormat);\n              }\n            });\n            replaceVals(editor, e);\n          }\n        });\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mceTemplate');\n      };\n      editor.ui.registry.addButton('template', {\n        icon: 'template',\n        tooltip: 'Insert template',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('template', {\n        icon: 'template',\n        text: 'Insert template...',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$4.add('template', function (editor) {\n        register(editor);\n        register$1(editor);\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"textpattern\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/textpattern')\n//   ES2015:\n//     import 'tinymce/plugins/textpattern'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isString = isType('string');\n    var isObject = isType('object');\n    var isArray = isType('array');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var contains = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var get$1 = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$1(xs, 0);\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var generate$1 = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              var foldArgs = [];\n              for (var _i = 0; _i < arguments.length; _i++) {\n                foldArgs[_i] = arguments[_i];\n              }\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              var target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$1 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    var partition = function (results) {\n      var errors = [];\n      var values = [];\n      each(results, function (result) {\n        result.fold(function (err) {\n          errors.push(err);\n        }, function (value) {\n          values.push(value);\n        });\n      });\n      return {\n        errors: errors,\n        values: values\n      };\n    };\n\n    var value = function (o) {\n      var or = function (_opt) {\n        return value(o);\n      };\n      var orThunk = function (_f) {\n        return value(o);\n      };\n      var map = function (f) {\n        return value(f(o));\n      };\n      var mapError = function (_f) {\n        return value(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOptional = function () {\n        return Optional.some(o);\n      };\n      return {\n        isValue: always,\n        isError: never,\n        getOr: constant(o),\n        getOrThunk: constant(o),\n        getOrDie: constant(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOptional: toOptional\n      };\n    };\n    var error$1 = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = identity;\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (_f) {\n        return error$1(message);\n      };\n      var mapError = function (f) {\n        return error$1(f(message));\n      };\n      var bind = function (_f) {\n        return error$1(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        isValue: never,\n        isError: always,\n        getOr: identity,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOptional: Optional.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error$1(err);\n      }, value);\n    };\n    var Result = {\n      value: value,\n      error: error$1,\n      fromOption: fromOption\n    };\n\n    var isInlinePattern = function (pattern) {\n      return pattern.type === 'inline-command' || pattern.type === 'inline-format';\n    };\n    var isBlockPattern = function (pattern) {\n      return pattern.type === 'block-command' || pattern.type === 'block-format';\n    };\n    var sortPatterns = function (patterns) {\n      return sort(patterns, function (a, b) {\n        if (a.start.length === b.start.length) {\n          return 0;\n        }\n        return a.start.length > b.start.length ? -1 : 1;\n      });\n    };\n    var normalizePattern = function (pattern) {\n      var err = function (message) {\n        return Result.error({\n          message: message,\n          pattern: pattern\n        });\n      };\n      var formatOrCmd = function (name, onFormat, onCommand) {\n        if (pattern.format !== undefined) {\n          var formats = void 0;\n          if (isArray(pattern.format)) {\n            if (!forall(pattern.format, isString)) {\n              return err(name + ' pattern has non-string items in the `format` array');\n            }\n            formats = pattern.format;\n          } else if (isString(pattern.format)) {\n            formats = [pattern.format];\n          } else {\n            return err(name + ' pattern has non-string `format` parameter');\n          }\n          return Result.value(onFormat(formats));\n        } else if (pattern.cmd !== undefined) {\n          if (!isString(pattern.cmd)) {\n            return err(name + ' pattern has non-string `cmd` parameter');\n          }\n          return Result.value(onCommand(pattern.cmd, pattern.value));\n        } else {\n          return err(name + ' pattern is missing both `format` and `cmd` parameters');\n        }\n      };\n      if (!isObject(pattern)) {\n        return err('Raw pattern is not an object');\n      }\n      if (!isString(pattern.start)) {\n        return err('Raw pattern is missing `start` parameter');\n      }\n      if (pattern.end !== undefined) {\n        if (!isString(pattern.end)) {\n          return err('Inline pattern has non-string `end` parameter');\n        }\n        if (pattern.start.length === 0 && pattern.end.length === 0) {\n          return err('Inline pattern has empty `start` and `end` parameters');\n        }\n        var start_1 = pattern.start;\n        var end_1 = pattern.end;\n        if (end_1.length === 0) {\n          end_1 = start_1;\n          start_1 = '';\n        }\n        return formatOrCmd('Inline', function (format) {\n          return {\n            type: 'inline-format',\n            start: start_1,\n            end: end_1,\n            format: format\n          };\n        }, function (cmd, value) {\n          return {\n            type: 'inline-command',\n            start: start_1,\n            end: end_1,\n            cmd: cmd,\n            value: value\n          };\n        });\n      } else if (pattern.replacement !== undefined) {\n        if (!isString(pattern.replacement)) {\n          return err('Replacement pattern has non-string `replacement` parameter');\n        }\n        if (pattern.start.length === 0) {\n          return err('Replacement pattern has empty `start` parameter');\n        }\n        return Result.value({\n          type: 'inline-command',\n          start: '',\n          end: pattern.start,\n          cmd: 'mceInsertContent',\n          value: pattern.replacement\n        });\n      } else {\n        if (pattern.start.length === 0) {\n          return err('Block pattern has empty `start` parameter');\n        }\n        return formatOrCmd('Block', function (formats) {\n          return {\n            type: 'block-format',\n            start: pattern.start,\n            format: formats[0]\n          };\n        }, function (command, commandValue) {\n          return {\n            type: 'block-command',\n            start: pattern.start,\n            cmd: command,\n            value: commandValue\n          };\n        });\n      }\n    };\n    var denormalizePattern = function (pattern) {\n      if (pattern.type === 'block-command') {\n        return {\n          start: pattern.start,\n          cmd: pattern.cmd,\n          value: pattern.value\n        };\n      } else if (pattern.type === 'block-format') {\n        return {\n          start: pattern.start,\n          format: pattern.format\n        };\n      } else if (pattern.type === 'inline-command') {\n        if (pattern.cmd === 'mceInsertContent' && pattern.start === '') {\n          return {\n            start: pattern.end,\n            replacement: pattern.value\n          };\n        } else {\n          return {\n            start: pattern.start,\n            end: pattern.end,\n            cmd: pattern.cmd,\n            value: pattern.value\n          };\n        }\n      } else if (pattern.type === 'inline-format') {\n        return {\n          start: pattern.start,\n          end: pattern.end,\n          format: pattern.format.length === 1 ? pattern.format[0] : pattern.format\n        };\n      }\n    };\n    var createPatternSet = function (patterns) {\n      return {\n        inlinePatterns: filter(patterns, isInlinePattern),\n        blockPatterns: sortPatterns(filter(patterns, isBlockPattern))\n      };\n    };\n\n    var get = function (patternsState) {\n      var setPatterns = function (newPatterns) {\n        var normalized = partition(map(newPatterns, normalizePattern));\n        if (normalized.errors.length > 0) {\n          var firstError = normalized.errors[0];\n          throw new Error(firstError.message + ':\\n' + JSON.stringify(firstError.pattern, null, 2));\n        }\n        patternsState.set(createPatternSet(normalized.values));\n      };\n      var getPatterns = function () {\n        return __spreadArray(__spreadArray([], map(patternsState.get().inlinePatterns, denormalizePattern), true), map(patternsState.get().blockPatterns, denormalizePattern), true);\n      };\n      return {\n        setPatterns: setPatterns,\n        getPatterns: getPatterns\n      };\n    };\n\n    var Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var error = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      var console = Global.console;\n      if (console) {\n        if (console.error) {\n          console.error.apply(console, args);\n        } else {\n          console.log.apply(console, args);\n        }\n      }\n    };\n    var defaultPatterns = [\n      {\n        start: '*',\n        end: '*',\n        format: 'italic'\n      },\n      {\n        start: '**',\n        end: '**',\n        format: 'bold'\n      },\n      {\n        start: '#',\n        format: 'h1'\n      },\n      {\n        start: '##',\n        format: 'h2'\n      },\n      {\n        start: '###',\n        format: 'h3'\n      },\n      {\n        start: '####',\n        format: 'h4'\n      },\n      {\n        start: '#####',\n        format: 'h5'\n      },\n      {\n        start: '######',\n        format: 'h6'\n      },\n      {\n        start: '1. ',\n        cmd: 'InsertOrderedList'\n      },\n      {\n        start: '* ',\n        cmd: 'InsertUnorderedList'\n      },\n      {\n        start: '- ',\n        cmd: 'InsertUnorderedList'\n      }\n    ];\n    var getPatternSet = function (editor) {\n      var patterns = editor.getParam('textpattern_patterns', defaultPatterns, 'array');\n      if (!isArray(patterns)) {\n        error('The setting textpattern_patterns should be an array');\n        return {\n          inlinePatterns: [],\n          blockPatterns: []\n        };\n      }\n      var normalized = partition(map(patterns, normalizePattern));\n      each(normalized.errors, function (err) {\n        return error(err.message, err.pattern);\n      });\n      return createPatternSet(normalized.values);\n    };\n    var getForcedRootBlock = function (editor) {\n      var block = editor.getParam('forced_root_block', 'p');\n      if (block === false) {\n        return '';\n      } else if (block === true) {\n        return 'p';\n      } else {\n        return block;\n      }\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var zeroWidth = '\\uFEFF';\n    var nbsp = '\\xA0';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global = tinymce.util.Tools.resolve('tinymce.dom.TextSeeker');\n\n    var point = function (container, offset) {\n      return {\n        container: container,\n        offset: offset\n      };\n    };\n\n    var isText = function (node) {\n      return node.nodeType === Node.TEXT_NODE;\n    };\n    var cleanEmptyNodes = function (dom, node, isRoot) {\n      if (node && dom.isEmpty(node) && !isRoot(node)) {\n        var parent_1 = node.parentNode;\n        dom.remove(node);\n        cleanEmptyNodes(dom, parent_1, isRoot);\n      }\n    };\n    var deleteRng = function (dom, rng, isRoot, clean) {\n      if (clean === void 0) {\n        clean = true;\n      }\n      var startParent = rng.startContainer.parentNode;\n      var endParent = rng.endContainer.parentNode;\n      rng.deleteContents();\n      if (clean && !isRoot(rng.startContainer)) {\n        if (isText(rng.startContainer) && rng.startContainer.data.length === 0) {\n          dom.remove(rng.startContainer);\n        }\n        if (isText(rng.endContainer) && rng.endContainer.data.length === 0) {\n          dom.remove(rng.endContainer);\n        }\n        cleanEmptyNodes(dom, startParent, isRoot);\n        if (startParent !== endParent) {\n          cleanEmptyNodes(dom, endParent, isRoot);\n        }\n      }\n    };\n    var isBlockFormatName = function (name, formatter) {\n      var formatSet = formatter.get(name);\n      return isArray(formatSet) && head(formatSet).exists(function (format) {\n        return has(format, 'block');\n      });\n    };\n    var isReplacementPattern = function (pattern) {\n      return pattern.start.length === 0;\n    };\n    var getParentBlock = function (editor, rng) {\n      var parentBlockOpt = Optional.from(editor.dom.getParent(rng.startContainer, editor.dom.isBlock));\n      if (getForcedRootBlock(editor) === '') {\n        return parentBlockOpt.orThunk(function () {\n          return Optional.some(editor.getBody());\n        });\n      } else {\n        return parentBlockOpt;\n      }\n    };\n\n    var DOM = global$1.DOM;\n    var alwaysNext = function (startNode) {\n      return function (node) {\n        return startNode === node ? -1 : 0;\n      };\n    };\n    var isBoundary = function (dom) {\n      return function (node) {\n        return dom.isBlock(node) || contains([\n          'BR',\n          'IMG',\n          'HR',\n          'INPUT'\n        ], node.nodeName) || dom.getContentEditable(node) === 'false';\n      };\n    };\n    var textBefore = function (node, offset, rootNode) {\n      if (isText(node) && offset >= 0) {\n        return Optional.some(point(node, offset));\n      } else {\n        var textSeeker = global(DOM);\n        return Optional.from(textSeeker.backwards(node, offset, alwaysNext(node), rootNode)).map(function (prev) {\n          return point(prev.container, prev.container.data.length);\n        });\n      }\n    };\n    var textAfter = function (node, offset, rootNode) {\n      if (isText(node) && offset >= node.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        var textSeeker = global(DOM);\n        return Optional.from(textSeeker.forwards(node, offset, alwaysNext(node), rootNode)).map(function (prev) {\n          return point(prev.container, 0);\n        });\n      }\n    };\n    var scanLeft = function (node, offset, rootNode) {\n      if (!isText(node)) {\n        return Optional.none();\n      }\n      var text = node.textContent;\n      if (offset >= 0 && offset <= text.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        var textSeeker = global(DOM);\n        return Optional.from(textSeeker.backwards(node, offset, alwaysNext(node), rootNode)).bind(function (prev) {\n          var prevText = prev.container.data;\n          return scanLeft(prev.container, offset + prevText.length, rootNode);\n        });\n      }\n    };\n    var scanRight = function (node, offset, rootNode) {\n      if (!isText(node)) {\n        return Optional.none();\n      }\n      var text = node.textContent;\n      if (offset <= text.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        var textSeeker = global(DOM);\n        return Optional.from(textSeeker.forwards(node, offset, alwaysNext(node), rootNode)).bind(function (next) {\n          return scanRight(next.container, offset - text.length, rootNode);\n        });\n      }\n    };\n    var repeatLeft = function (dom, node, offset, process, rootNode) {\n      var search = global(dom, isBoundary(dom));\n      return Optional.from(search.backwards(node, offset, process, rootNode));\n    };\n\n    var generatePath = function (root, node, offset) {\n      if (isText(node) && (offset < 0 || offset > node.data.length)) {\n        return [];\n      }\n      var p = [offset];\n      var current = node;\n      while (current !== root && current.parentNode) {\n        var parent_1 = current.parentNode;\n        for (var i = 0; i < parent_1.childNodes.length; i++) {\n          if (parent_1.childNodes[i] === current) {\n            p.push(i);\n            break;\n          }\n        }\n        current = parent_1;\n      }\n      return current === root ? p.reverse() : [];\n    };\n    var generatePathRange = function (root, startNode, startOffset, endNode, endOffset) {\n      var start = generatePath(root, startNode, startOffset);\n      var end = generatePath(root, endNode, endOffset);\n      return {\n        start: start,\n        end: end\n      };\n    };\n    var resolvePath = function (root, path) {\n      var nodePath = path.slice();\n      var offset = nodePath.pop();\n      var resolvedNode = foldl(nodePath, function (optNode, index) {\n        return optNode.bind(function (node) {\n          return Optional.from(node.childNodes[index]);\n        });\n      }, Optional.some(root));\n      return resolvedNode.bind(function (node) {\n        if (isText(node) && (offset < 0 || offset > node.data.length)) {\n          return Optional.none();\n        } else {\n          return Optional.some({\n            node: node,\n            offset: offset\n          });\n        }\n      });\n    };\n    var resolvePathRange = function (root, range) {\n      return resolvePath(root, range.start).bind(function (_a) {\n        var startNode = _a.node, startOffset = _a.offset;\n        return resolvePath(root, range.end).map(function (_a) {\n          var endNode = _a.node, endOffset = _a.offset;\n          var rng = document.createRange();\n          rng.setStart(startNode, startOffset);\n          rng.setEnd(endNode, endOffset);\n          return rng;\n        });\n      });\n    };\n    var generatePathRangeFromRange = function (root, range) {\n      return generatePathRange(root, range.startContainer, range.startOffset, range.endContainer, range.endOffset);\n    };\n\n    var stripPattern = function (dom, block, pattern) {\n      var firstTextNode = textAfter(block, 0, block);\n      firstTextNode.each(function (spot) {\n        var node = spot.container;\n        scanRight(node, pattern.start.length, block).each(function (end) {\n          var rng = dom.createRng();\n          rng.setStart(node, 0);\n          rng.setEnd(end.container, end.offset);\n          deleteRng(dom, rng, function (e) {\n            return e === block;\n          });\n        });\n      });\n    };\n    var applyPattern$1 = function (editor, match) {\n      var dom = editor.dom;\n      var pattern = match.pattern;\n      var rng = resolvePathRange(dom.getRoot(), match.range).getOrDie('Unable to resolve path range');\n      getParentBlock(editor, rng).each(function (block) {\n        if (pattern.type === 'block-format') {\n          if (isBlockFormatName(pattern.format, editor.formatter)) {\n            editor.undoManager.transact(function () {\n              stripPattern(editor.dom, block, pattern);\n              editor.formatter.apply(pattern.format);\n            });\n          }\n        } else if (pattern.type === 'block-command') {\n          editor.undoManager.transact(function () {\n            stripPattern(editor.dom, block, pattern);\n            editor.execCommand(pattern.cmd, false, pattern.value);\n          });\n        }\n      });\n      return true;\n    };\n    var findPattern$1 = function (patterns, text) {\n      var nuText = text.replace(nbsp, ' ');\n      return find(patterns, function (pattern) {\n        return text.indexOf(pattern.start) === 0 || nuText.indexOf(pattern.start) === 0;\n      });\n    };\n    var findPatterns$1 = function (editor, patterns) {\n      var dom = editor.dom;\n      var rng = editor.selection.getRng();\n      return getParentBlock(editor, rng).filter(function (block) {\n        var forcedRootBlock = getForcedRootBlock(editor);\n        var matchesForcedRootBlock = forcedRootBlock === '' && dom.is(block, 'body') || dom.is(block, forcedRootBlock);\n        return block !== null && matchesForcedRootBlock;\n      }).bind(function (block) {\n        var blockText = block.textContent;\n        var matchedPattern = findPattern$1(patterns, blockText);\n        return matchedPattern.map(function (pattern) {\n          if (global$2.trim(blockText).length === pattern.start.length) {\n            return [];\n          }\n          return [{\n              pattern: pattern,\n              range: generatePathRange(dom.getRoot(), block, 0, block, 0)\n            }];\n        });\n      }).getOr([]);\n    };\n    var applyMatches$1 = function (editor, matches) {\n      if (matches.length === 0) {\n        return;\n      }\n      var bookmark = editor.selection.getBookmark();\n      each(matches, function (match) {\n        return applyPattern$1(editor, match);\n      });\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    var unique = 0;\n    var generate = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n\n    var newMarker = function (dom, id) {\n      return dom.create('span', {\n        'data-mce-type': 'bookmark',\n        id: id\n      });\n    };\n    var rangeFromMarker = function (dom, marker) {\n      var rng = dom.createRng();\n      rng.setStartAfter(marker.start);\n      rng.setEndBefore(marker.end);\n      return rng;\n    };\n    var createMarker = function (dom, markerPrefix, pathRange) {\n      var rng = resolvePathRange(dom.getRoot(), pathRange).getOrDie('Unable to resolve path range');\n      var startNode = rng.startContainer;\n      var endNode = rng.endContainer;\n      var textEnd = rng.endOffset === 0 ? endNode : endNode.splitText(rng.endOffset);\n      var textStart = rng.startOffset === 0 ? startNode : startNode.splitText(rng.startOffset);\n      return {\n        prefix: markerPrefix,\n        end: textEnd.parentNode.insertBefore(newMarker(dom, markerPrefix + '-end'), textEnd),\n        start: textStart.parentNode.insertBefore(newMarker(dom, markerPrefix + '-start'), textStart)\n      };\n    };\n    var removeMarker = function (dom, marker, isRoot) {\n      cleanEmptyNodes(dom, dom.get(marker.prefix + '-end'), isRoot);\n      cleanEmptyNodes(dom, dom.get(marker.prefix + '-start'), isRoot);\n    };\n\n    var matchesPattern = function (dom, block, patternContent) {\n      return function (element, offset) {\n        var text = element.data;\n        var searchText = text.substring(0, offset);\n        var startEndIndex = searchText.lastIndexOf(patternContent.charAt(patternContent.length - 1));\n        var startIndex = searchText.lastIndexOf(patternContent);\n        if (startIndex !== -1) {\n          return startIndex + patternContent.length;\n        } else if (startEndIndex !== -1) {\n          return startEndIndex + 1;\n        } else {\n          return -1;\n        }\n      };\n    };\n    var findPatternStartFromSpot = function (dom, pattern, block, spot) {\n      var startPattern = pattern.start;\n      var startSpot = repeatLeft(dom, spot.container, spot.offset, matchesPattern(dom, block, startPattern), block);\n      return startSpot.bind(function (spot) {\n        if (spot.offset >= startPattern.length) {\n          var rng = dom.createRng();\n          rng.setStart(spot.container, spot.offset - startPattern.length);\n          rng.setEnd(spot.container, spot.offset);\n          return Optional.some(rng);\n        } else {\n          var offset = spot.offset - startPattern.length;\n          return scanLeft(spot.container, offset, block).map(function (nextSpot) {\n            var rng = dom.createRng();\n            rng.setStart(nextSpot.container, nextSpot.offset);\n            rng.setEnd(spot.container, spot.offset);\n            return rng;\n          }).filter(function (rng) {\n            return rng.toString() === startPattern;\n          }).orThunk(function () {\n            return findPatternStartFromSpot(dom, pattern, block, point(spot.container, 0));\n          });\n        }\n      });\n    };\n    var findPatternStart = function (dom, pattern, node, offset, block, requireGap) {\n      if (requireGap === void 0) {\n        requireGap = false;\n      }\n      if (pattern.start.length === 0 && !requireGap) {\n        var rng = dom.createRng();\n        rng.setStart(node, offset);\n        rng.setEnd(node, offset);\n        return Optional.some(rng);\n      }\n      return textBefore(node, offset, block).bind(function (spot) {\n        var start = findPatternStartFromSpot(dom, pattern, block, spot);\n        return start.bind(function (startRange) {\n          if (requireGap) {\n            if (startRange.endContainer === spot.container && startRange.endOffset === spot.offset) {\n              return Optional.none();\n            } else if (spot.offset === 0 && startRange.endContainer.textContent.length === startRange.endOffset) {\n              return Optional.none();\n            }\n          }\n          return Optional.some(startRange);\n        });\n      });\n    };\n    var findPattern = function (editor, block, details) {\n      var dom = editor.dom;\n      var root = dom.getRoot();\n      var pattern = details.pattern;\n      var endNode = details.position.container;\n      var endOffset = details.position.offset;\n      return scanLeft(endNode, endOffset - details.pattern.end.length, block).bind(function (spot) {\n        var endPathRng = generatePathRange(root, spot.container, spot.offset, endNode, endOffset);\n        if (isReplacementPattern(pattern)) {\n          return Optional.some({\n            matches: [{\n                pattern: pattern,\n                startRng: endPathRng,\n                endRng: endPathRng\n              }],\n            position: spot\n          });\n        } else {\n          var resultsOpt = findPatternsRec(editor, details.remainingPatterns, spot.container, spot.offset, block);\n          var results_1 = resultsOpt.getOr({\n            matches: [],\n            position: spot\n          });\n          var pos = results_1.position;\n          var start = findPatternStart(dom, pattern, pos.container, pos.offset, block, resultsOpt.isNone());\n          return start.map(function (startRng) {\n            var startPathRng = generatePathRangeFromRange(root, startRng);\n            return {\n              matches: results_1.matches.concat([{\n                  pattern: pattern,\n                  startRng: startPathRng,\n                  endRng: endPathRng\n                }]),\n              position: point(startRng.startContainer, startRng.startOffset)\n            };\n          });\n        }\n      });\n    };\n    var findPatternsRec = function (editor, patterns, node, offset, block) {\n      var dom = editor.dom;\n      return textBefore(node, offset, dom.getRoot()).bind(function (endSpot) {\n        var rng = dom.createRng();\n        rng.setStart(block, 0);\n        rng.setEnd(node, offset);\n        var text = rng.toString();\n        for (var i = 0; i < patterns.length; i++) {\n          var pattern = patterns[i];\n          if (!endsWith(text, pattern.end)) {\n            continue;\n          }\n          var patternsWithoutCurrent = patterns.slice();\n          patternsWithoutCurrent.splice(i, 1);\n          var result = findPattern(editor, block, {\n            pattern: pattern,\n            remainingPatterns: patternsWithoutCurrent,\n            position: endSpot\n          });\n          if (result.isSome()) {\n            return result;\n          }\n        }\n        return Optional.none();\n      });\n    };\n    var applyPattern = function (editor, pattern, patternRange) {\n      editor.selection.setRng(patternRange);\n      if (pattern.type === 'inline-format') {\n        each(pattern.format, function (format) {\n          editor.formatter.apply(format);\n        });\n      } else {\n        editor.execCommand(pattern.cmd, false, pattern.value);\n      }\n    };\n    var applyReplacementPattern = function (editor, pattern, marker, isRoot) {\n      var markerRange = rangeFromMarker(editor.dom, marker);\n      deleteRng(editor.dom, markerRange, isRoot);\n      applyPattern(editor, pattern, markerRange);\n    };\n    var applyPatternWithContent = function (editor, pattern, startMarker, endMarker, isRoot) {\n      var dom = editor.dom;\n      var markerEndRange = rangeFromMarker(dom, endMarker);\n      var markerStartRange = rangeFromMarker(dom, startMarker);\n      deleteRng(dom, markerStartRange, isRoot);\n      deleteRng(dom, markerEndRange, isRoot);\n      var patternMarker = {\n        prefix: startMarker.prefix,\n        start: startMarker.end,\n        end: endMarker.start\n      };\n      var patternRange = rangeFromMarker(dom, patternMarker);\n      applyPattern(editor, pattern, patternRange);\n    };\n    var addMarkers = function (dom, matches) {\n      var markerPrefix = generate('mce_textpattern');\n      var matchesWithEnds = foldr(matches, function (acc, match) {\n        var endMarker = createMarker(dom, markerPrefix + ('_end' + acc.length), match.endRng);\n        return acc.concat([__assign(__assign({}, match), { endMarker: endMarker })]);\n      }, []);\n      return foldr(matchesWithEnds, function (acc, match) {\n        var idx = matchesWithEnds.length - acc.length - 1;\n        var startMarker = isReplacementPattern(match.pattern) ? match.endMarker : createMarker(dom, markerPrefix + ('_start' + idx), match.startRng);\n        return acc.concat([__assign(__assign({}, match), { startMarker: startMarker })]);\n      }, []);\n    };\n    var findPatterns = function (editor, patterns, space) {\n      var rng = editor.selection.getRng();\n      if (rng.collapsed === false) {\n        return [];\n      }\n      return getParentBlock(editor, rng).bind(function (block) {\n        var offset = rng.startOffset - (space ? 1 : 0);\n        return findPatternsRec(editor, patterns, rng.startContainer, offset, block);\n      }).fold(function () {\n        return [];\n      }, function (result) {\n        return result.matches;\n      });\n    };\n    var applyMatches = function (editor, matches) {\n      if (matches.length === 0) {\n        return;\n      }\n      var dom = editor.dom;\n      var bookmark = editor.selection.getBookmark();\n      var matchesWithMarkers = addMarkers(dom, matches);\n      each(matchesWithMarkers, function (match) {\n        var block = dom.getParent(match.startMarker.start, dom.isBlock);\n        var isRoot = function (node) {\n          return node === block;\n        };\n        if (isReplacementPattern(match.pattern)) {\n          applyReplacementPattern(editor, match.pattern, match.endMarker, isRoot);\n        } else {\n          applyPatternWithContent(editor, match.pattern, match.startMarker, match.endMarker, isRoot);\n        }\n        removeMarker(dom, match.endMarker, isRoot);\n        removeMarker(dom, match.startMarker, isRoot);\n      });\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    var handleEnter = function (editor, patternSet) {\n      if (!editor.selection.isCollapsed()) {\n        return false;\n      }\n      var inlineMatches = findPatterns(editor, patternSet.inlinePatterns, false);\n      var blockMatches = findPatterns$1(editor, patternSet.blockPatterns);\n      if (blockMatches.length > 0 || inlineMatches.length > 0) {\n        editor.undoManager.add();\n        editor.undoManager.extra(function () {\n          editor.execCommand('mceInsertNewLine');\n        }, function () {\n          editor.insertContent(zeroWidth);\n          applyMatches(editor, inlineMatches);\n          applyMatches$1(editor, blockMatches);\n          var range = editor.selection.getRng();\n          var spot = textBefore(range.startContainer, range.startOffset, editor.dom.getRoot());\n          editor.execCommand('mceInsertNewLine');\n          spot.each(function (s) {\n            var node = s.container;\n            if (node.data.charAt(s.offset - 1) === zeroWidth) {\n              node.deleteData(s.offset - 1, 1);\n              cleanEmptyNodes(editor.dom, node.parentNode, function (e) {\n                return e === editor.dom.getRoot();\n              });\n            }\n          });\n        });\n        return true;\n      }\n      return false;\n    };\n    var handleInlineKey = function (editor, patternSet) {\n      var inlineMatches = findPatterns(editor, patternSet.inlinePatterns, true);\n      if (inlineMatches.length > 0) {\n        editor.undoManager.transact(function () {\n          applyMatches(editor, inlineMatches);\n        });\n      }\n    };\n    var checkKeyEvent = function (codes, event, predicate) {\n      for (var i = 0; i < codes.length; i++) {\n        if (predicate(codes[i], event)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var checkKeyCode = function (codes, event) {\n      return checkKeyEvent(codes, event, function (code, event) {\n        return code === event.keyCode && global$3.modifierPressed(event) === false;\n      });\n    };\n    var checkCharCode = function (chars, event) {\n      return checkKeyEvent(chars, event, function (chr, event) {\n        return chr.charCodeAt(0) === event.charCode;\n      });\n    };\n\n    var setup = function (editor, patternsState) {\n      var charCodes = [\n        ',',\n        '.',\n        ';',\n        ':',\n        '!',\n        '?'\n      ];\n      var keyCodes = [32];\n      editor.on('keydown', function (e) {\n        if (e.keyCode === 13 && !global$3.modifierPressed(e)) {\n          if (handleEnter(editor, patternsState.get())) {\n            e.preventDefault();\n          }\n        }\n      }, true);\n      editor.on('keyup', function (e) {\n        if (checkKeyCode(keyCodes, e)) {\n          handleInlineKey(editor, patternsState.get());\n        }\n      });\n      editor.on('keypress', function (e) {\n        if (checkCharCode(charCodes, e)) {\n          global$4.setEditorTimeout(editor, function () {\n            handleInlineKey(editor, patternsState.get());\n          });\n        }\n      });\n    };\n\n    function Plugin () {\n      global$5.add('textpattern', function (editor) {\n        var patternsState = Cell(getPatternSet(editor));\n        setup(editor, patternsState);\n        return get(patternsState);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"visualblocks\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/visualblocks')\n//   ES2015:\n//     import 'tinymce/plugins/visualblocks'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var fireVisualBlocks = function (editor, state) {\n      editor.fire('VisualBlocks', { state: state });\n    };\n\n    var toggleVisualBlocks = function (editor, pluginUrl, enabledState) {\n      var dom = editor.dom;\n      dom.toggleClass(editor.getBody(), 'mce-visualblocks');\n      enabledState.set(!enabledState.get());\n      fireVisualBlocks(editor, enabledState.get());\n    };\n\n    var register$1 = function (editor, pluginUrl, enabledState) {\n      editor.addCommand('mceVisualBlocks', function () {\n        toggleVisualBlocks(editor, pluginUrl, enabledState);\n      });\n    };\n\n    var isEnabledByDefault = function (editor) {\n      return editor.getParam('visualblocks_default_state', false, 'boolean');\n    };\n\n    var setup = function (editor, pluginUrl, enabledState) {\n      editor.on('PreviewFormats AfterPreviewFormats', function (e) {\n        if (enabledState.get()) {\n          editor.dom.toggleClass(editor.getBody(), 'mce-visualblocks', e.type === 'afterpreviewformats');\n        }\n      });\n      editor.on('init', function () {\n        if (isEnabledByDefault(editor)) {\n          toggleVisualBlocks(editor, pluginUrl, enabledState);\n        }\n      });\n    };\n\n    var toggleActiveState = function (editor, enabledState) {\n      return function (api) {\n        api.setActive(enabledState.get());\n        var editorEventCallback = function (e) {\n          return api.setActive(e.state);\n        };\n        editor.on('VisualBlocks', editorEventCallback);\n        return function () {\n          return editor.off('VisualBlocks', editorEventCallback);\n        };\n      };\n    };\n    var register = function (editor, enabledState) {\n      var onAction = function () {\n        return editor.execCommand('mceVisualBlocks');\n      };\n      editor.ui.registry.addToggleButton('visualblocks', {\n        icon: 'visualblocks',\n        tooltip: 'Show blocks',\n        onAction: onAction,\n        onSetup: toggleActiveState(editor, enabledState)\n      });\n      editor.ui.registry.addToggleMenuItem('visualblocks', {\n        text: 'Show blocks',\n        icon: 'visualblocks',\n        onAction: onAction,\n        onSetup: toggleActiveState(editor, enabledState)\n      });\n    };\n\n    function Plugin () {\n      global.add('visualblocks', function (editor, pluginUrl) {\n        var enabledState = Cell(false);\n        register$1(editor, pluginUrl, enabledState);\n        register(editor, enabledState);\n        setup(editor, pluginUrl, enabledState);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"visualchars\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/visualchars')\n//   ES2015:\n//     import 'tinymce/plugins/visualchars'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var get$2 = function (toggleState) {\n      var isEnabled = function () {\n        return toggleState.get();\n      };\n      return { isEnabled: isEnabled };\n    };\n\n    var fireVisualChars = function (editor, state) {\n      return editor.fire('VisualChars', { state: state });\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType$1('string');\n    var isBoolean = isSimpleType('boolean');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    var keys = Object.keys;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var TEXT = 3;\n\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var value = function (element) {\n      return element.dom.nodeValue;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isText = isType(TEXT);\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var get$1 = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var remove$3 = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var read = function (element, attr) {\n      var value = get$1(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add$2 = function (element, attr, id) {\n      var old = read(element, attr);\n      var nu = old.concat([id]);\n      set(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$2 = function (element, attr, id) {\n      var nu = filter(read(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set(element, attr, nu.join(' '));\n      } else {\n        remove$3(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom.classList !== undefined;\n    };\n    var get = function (element) {\n      return read(element, 'class');\n    };\n    var add$1 = function (element, clazz) {\n      return add$2(element, 'class', clazz);\n    };\n    var remove$1 = function (element, clazz) {\n      return remove$2(element, 'class', clazz);\n    };\n\n    var add = function (element, clazz) {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$1(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom.classList : get(element);\n      if (classList.length === 0) {\n        remove$3(element, 'class');\n      }\n    };\n    var remove = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$1(element, clazz);\n      }\n      cleanClass(element);\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var charMap = {\n      '\\xA0': 'nbsp',\n      '\\xAD': 'shy'\n    };\n    var charMapToRegExp = function (charMap, global) {\n      var regExp = '';\n      each(charMap, function (_value, key) {\n        regExp += key;\n      });\n      return new RegExp('[' + regExp + ']', global ? 'g' : '');\n    };\n    var charMapToSelector = function (charMap) {\n      var selector = '';\n      each(charMap, function (value) {\n        if (selector) {\n          selector += ',';\n        }\n        selector += 'span.mce-' + value;\n      });\n      return selector;\n    };\n    var regExp = charMapToRegExp(charMap);\n    var regExpGlobal = charMapToRegExp(charMap, true);\n    var selector = charMapToSelector(charMap);\n    var nbspClass = 'mce-nbsp';\n\n    var wrapCharWithSpan = function (value) {\n      return '<span data-mce-bogus=\"1\" class=\"mce-' + charMap[value] + '\">' + value + '</span>';\n    };\n\n    var isMatch = function (n) {\n      var value$1 = value(n);\n      return isText(n) && value$1 !== undefined && regExp.test(value$1);\n    };\n    var filterDescendants = function (scope, predicate) {\n      var result = [];\n      var dom = scope.dom;\n      var children = map(dom.childNodes, SugarElement.fromDom);\n      each$1(children, function (x) {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(filterDescendants(x, predicate));\n      });\n      return result;\n    };\n    var findParentElm = function (elm, rootElm) {\n      while (elm.parentNode) {\n        if (elm.parentNode === rootElm) {\n          return elm;\n        }\n        elm = elm.parentNode;\n      }\n    };\n    var replaceWithSpans = function (text) {\n      return text.replace(regExpGlobal, wrapCharWithSpan);\n    };\n\n    var isWrappedNbsp = function (node) {\n      return node.nodeName.toLowerCase() === 'span' && node.classList.contains('mce-nbsp-wrap');\n    };\n    var show = function (editor, rootElm) {\n      var nodeList = filterDescendants(SugarElement.fromDom(rootElm), isMatch);\n      each$1(nodeList, function (n) {\n        var parent = n.dom.parentNode;\n        if (isWrappedNbsp(parent)) {\n          add(SugarElement.fromDom(parent), nbspClass);\n        } else {\n          var withSpans = replaceWithSpans(editor.dom.encode(value(n)));\n          var div = editor.dom.create('div', null, withSpans);\n          var node = void 0;\n          while (node = div.lastChild) {\n            editor.dom.insertAfter(node, n.dom);\n          }\n          editor.dom.remove(n.dom);\n        }\n      });\n    };\n    var hide = function (editor, rootElm) {\n      var nodeList = editor.dom.select(selector, rootElm);\n      each$1(nodeList, function (node) {\n        if (isWrappedNbsp(node)) {\n          remove(SugarElement.fromDom(node), nbspClass);\n        } else {\n          editor.dom.remove(node, true);\n        }\n      });\n    };\n    var toggle = function (editor) {\n      var body = editor.getBody();\n      var bookmark = editor.selection.getBookmark();\n      var parentNode = findParentElm(editor.selection.getNode(), body);\n      parentNode = parentNode !== undefined ? parentNode : body;\n      hide(editor, parentNode);\n      show(editor, parentNode);\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    var applyVisualChars = function (editor, toggleState) {\n      fireVisualChars(editor, toggleState.get());\n      var body = editor.getBody();\n      if (toggleState.get() === true) {\n        show(editor, body);\n      } else {\n        hide(editor, body);\n      }\n    };\n    var toggleVisualChars = function (editor, toggleState) {\n      toggleState.set(!toggleState.get());\n      var bookmark = editor.selection.getBookmark();\n      applyVisualChars(editor, toggleState);\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    var register$1 = function (editor, toggleState) {\n      editor.addCommand('mceVisualChars', function () {\n        toggleVisualChars(editor, toggleState);\n      });\n    };\n\n    var isEnabledByDefault = function (editor) {\n      return editor.getParam('visualchars_default_state', false);\n    };\n    var hasForcedRootBlock = function (editor) {\n      return editor.getParam('forced_root_block') !== false;\n    };\n\n    var setup$1 = function (editor, toggleState) {\n      editor.on('init', function () {\n        applyVisualChars(editor, toggleState);\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var setup = function (editor, toggleState) {\n      var debouncedToggle = global.debounce(function () {\n        toggle(editor);\n      }, 300);\n      if (hasForcedRootBlock(editor)) {\n        editor.on('keydown', function (e) {\n          if (toggleState.get() === true) {\n            e.keyCode === 13 ? toggle(editor) : debouncedToggle();\n          }\n        });\n      }\n      editor.on('remove', debouncedToggle.stop);\n    };\n\n    var toggleActiveState = function (editor, enabledStated) {\n      return function (api) {\n        api.setActive(enabledStated.get());\n        var editorEventCallback = function (e) {\n          return api.setActive(e.state);\n        };\n        editor.on('VisualChars', editorEventCallback);\n        return function () {\n          return editor.off('VisualChars', editorEventCallback);\n        };\n      };\n    };\n    var register = function (editor, toggleState) {\n      var onAction = function () {\n        return editor.execCommand('mceVisualChars');\n      };\n      editor.ui.registry.addToggleButton('visualchars', {\n        tooltip: 'Show invisible characters',\n        icon: 'visualchars',\n        onAction: onAction,\n        onSetup: toggleActiveState(editor, toggleState)\n      });\n      editor.ui.registry.addToggleMenuItem('visualchars', {\n        text: 'Show invisible characters',\n        icon: 'visualchars',\n        onAction: onAction,\n        onSetup: toggleActiveState(editor, toggleState)\n      });\n    };\n\n    function Plugin () {\n      global$1.add('visualchars', function (editor) {\n        var toggleState = Cell(isEnabledByDefault(editor));\n        register$1(editor, toggleState);\n        register(editor, toggleState);\n        setup(editor, toggleState);\n        setup$1(editor, toggleState);\n        return get$2(toggleState);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"wordcount\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/wordcount')\n//   ES2015:\n//     import 'tinymce/plugins/wordcount'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var identity = function (x) {\n      return x;\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var zeroWidth = '\\uFEFF';\n    var removeZwsp$1 = function (s) {\n      return s.replace(/\\uFEFF/g, '');\n    };\n\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n\n    var punctuationStr = '[!-#%-*,-\\\\/:;?@\\\\[-\\\\]_{}\\xA1\\xAB\\xB7\\xBB\\xBF;\\xB7\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1361-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u3008\\u3009\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30\\u2E31\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uff3f\\uFF5B\\uFF5D\\uFF5F-\\uFF65]';\n    var regExps = {\n      aletter: '[A-Za-z\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05F3\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u10a0-\\u10c5\\u10d0-\\u10fa\\u10fc\\u1100-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1a00-\\u1a16\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bc0-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u24B6-\\u24E9\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2d00-\\u2d25\\u2d30-\\u2d65\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005\\u303b\\u303c\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790\\ua791\\ua7a0-\\ua7a9\\ua7fa-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uffa0-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc]',\n      midnumlet: '[-\\'\\\\.\\u2018\\u2019\\u2024\\uFE52\\uFF07\\uFF0E]',\n      midletter: '[:\\xB7\\xB7\\u05F4\\u2027\\uFE13\\uFE55\\uFF1A]',\n      midnum: '[\\xB1+*/,;;\\u0589\\u060C\\u060D\\u066C\\u07F8\\u2044\\uFE10\\uFE14\\uFE50\\uFE54\\uFF0C\\uFF1B]',\n      numeric: '[0-9\\u0660-\\u0669\\u066B\\u06f0-\\u06f9\\u07c0-\\u07c9\\u0966-\\u096f\\u09e6-\\u09ef\\u0a66-\\u0a6f\\u0ae6-\\u0aef\\u0b66-\\u0b6f\\u0be6-\\u0bef\\u0c66-\\u0c6f\\u0ce6-\\u0cef\\u0d66-\\u0d6f\\u0e50-\\u0e59\\u0ed0-\\u0ed9\\u0f20-\\u0f29\\u1040-\\u1049\\u1090-\\u1099\\u17e0-\\u17e9\\u1810-\\u1819\\u1946-\\u194f\\u19d0-\\u19d9\\u1a80-\\u1a89\\u1a90-\\u1a99\\u1b50-\\u1b59\\u1bb0-\\u1bb9\\u1c40-\\u1c49\\u1c50-\\u1c59\\ua620-\\ua629\\ua8d0-\\ua8d9\\ua900-\\ua909\\ua9d0-\\ua9d9\\uaa50-\\uaa59\\uabf0-\\uabf9]',\n      cr: '\\\\r',\n      lf: '\\\\n',\n      newline: '[\\x0B\\f\\x85\\u2028\\u2029]',\n      extend: '[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0c01-\\u0c03\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d02\\u0d03\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f\\u109a-\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b6-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u19b0-\\u19c0\\u19c8\\u19c9\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1baa\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf2\\u1dc0-\\u1de6\\u1dfc-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\uA672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa7b\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe3-\\uabea\\uabec\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]',\n      format: '[\\xAD\\u0600-\\u0603\\u06DD\\u070F\\u17b4\\u17b5\\u200E\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u206A-\\u206F\\uFEFF\\uFFF9-\\uFFFB]',\n      katakana: '[\\u3031-\\u3035\\u309B\\u309C\\u30A0-\\u30fa\\u30fc-\\u30ff\\u31f0-\\u31ff\\u32D0-\\u32FE\\u3300-\\u3357\\uff66-\\uff9d]',\n      extendnumlet: '[=_\\u203f\\u2040\\u2054\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff3f\\u2200-\\u22FF<>]',\n      punctuation: punctuationStr\n    };\n    var characterIndices = {\n      ALETTER: 0,\n      MIDNUMLET: 1,\n      MIDLETTER: 2,\n      MIDNUM: 3,\n      NUMERIC: 4,\n      CR: 5,\n      LF: 6,\n      NEWLINE: 7,\n      EXTEND: 8,\n      FORMAT: 9,\n      KATAKANA: 10,\n      EXTENDNUMLET: 11,\n      AT: 12,\n      OTHER: 13\n    };\n    var SETS$1 = [\n      new RegExp(regExps.aletter),\n      new RegExp(regExps.midnumlet),\n      new RegExp(regExps.midletter),\n      new RegExp(regExps.midnum),\n      new RegExp(regExps.numeric),\n      new RegExp(regExps.cr),\n      new RegExp(regExps.lf),\n      new RegExp(regExps.newline),\n      new RegExp(regExps.extend),\n      new RegExp(regExps.format),\n      new RegExp(regExps.katakana),\n      new RegExp(regExps.extendnumlet),\n      new RegExp('@')\n    ];\n    var EMPTY_STRING$1 = '';\n    var PUNCTUATION$1 = new RegExp('^' + regExps.punctuation + '$');\n    var WHITESPACE$1 = /^\\s+$/;\n\n    var SETS = SETS$1;\n    var OTHER = characterIndices.OTHER;\n    var getType = function (char) {\n      var type = OTHER;\n      var setsLength = SETS.length;\n      for (var j = 0; j < setsLength; ++j) {\n        var set = SETS[j];\n        if (set && set.test(char)) {\n          type = j;\n          break;\n        }\n      }\n      return type;\n    };\n    var memoize = function (func) {\n      var cache = {};\n      return function (char) {\n        if (cache[char]) {\n          return cache[char];\n        } else {\n          var result = func(char);\n          cache[char] = result;\n          return result;\n        }\n      };\n    };\n    var classify = function (characters) {\n      var memoized = memoize(getType);\n      return map(characters, memoized);\n    };\n\n    var isWordBoundary = function (map, index) {\n      var type = map[index];\n      var nextType = map[index + 1];\n      if (index < 0 || index > map.length - 1 && index !== 0) {\n        return false;\n      }\n      if (type === characterIndices.ALETTER && nextType === characterIndices.ALETTER) {\n        return false;\n      }\n      var nextNextType = map[index + 2];\n      if (type === characterIndices.ALETTER && (nextType === characterIndices.MIDLETTER || nextType === characterIndices.MIDNUMLET || nextType === characterIndices.AT) && nextNextType === characterIndices.ALETTER) {\n        return false;\n      }\n      var prevType = map[index - 1];\n      if ((type === characterIndices.MIDLETTER || type === characterIndices.MIDNUMLET || nextType === characterIndices.AT) && nextType === characterIndices.ALETTER && prevType === characterIndices.ALETTER) {\n        return false;\n      }\n      if ((type === characterIndices.NUMERIC || type === characterIndices.ALETTER) && (nextType === characterIndices.NUMERIC || nextType === characterIndices.ALETTER)) {\n        return false;\n      }\n      if ((type === characterIndices.MIDNUM || type === characterIndices.MIDNUMLET) && nextType === characterIndices.NUMERIC && prevType === characterIndices.NUMERIC) {\n        return false;\n      }\n      if (type === characterIndices.NUMERIC && (nextType === characterIndices.MIDNUM || nextType === characterIndices.MIDNUMLET) && nextNextType === characterIndices.NUMERIC) {\n        return false;\n      }\n      if (type === characterIndices.EXTEND || type === characterIndices.FORMAT || prevType === characterIndices.EXTEND || prevType === characterIndices.FORMAT || nextType === characterIndices.EXTEND || nextType === characterIndices.FORMAT) {\n        return false;\n      }\n      if (type === characterIndices.CR && nextType === characterIndices.LF) {\n        return false;\n      }\n      if (type === characterIndices.NEWLINE || type === characterIndices.CR || type === characterIndices.LF) {\n        return true;\n      }\n      if (nextType === characterIndices.NEWLINE || nextType === characterIndices.CR || nextType === characterIndices.LF) {\n        return true;\n      }\n      if (type === characterIndices.KATAKANA && nextType === characterIndices.KATAKANA) {\n        return false;\n      }\n      if (nextType === characterIndices.EXTENDNUMLET && (type === characterIndices.ALETTER || type === characterIndices.NUMERIC || type === characterIndices.KATAKANA || type === characterIndices.EXTENDNUMLET)) {\n        return false;\n      }\n      if (type === characterIndices.EXTENDNUMLET && (nextType === characterIndices.ALETTER || nextType === characterIndices.NUMERIC || nextType === characterIndices.KATAKANA)) {\n        return false;\n      }\n      if (type === characterIndices.AT) {\n        return false;\n      }\n      return true;\n    };\n\n    var EMPTY_STRING = EMPTY_STRING$1;\n    var WHITESPACE = WHITESPACE$1;\n    var PUNCTUATION = PUNCTUATION$1;\n    var isProtocol = function (str) {\n      return str === 'http' || str === 'https';\n    };\n    var findWordEnd = function (characters, startIndex) {\n      var i;\n      for (i = startIndex; i < characters.length; i++) {\n        if (WHITESPACE.test(characters[i])) {\n          break;\n        }\n      }\n      return i;\n    };\n    var findUrlEnd = function (characters, startIndex) {\n      var endIndex = findWordEnd(characters, startIndex + 1);\n      var peakedWord = characters.slice(startIndex + 1, endIndex).join(EMPTY_STRING);\n      return peakedWord.substr(0, 3) === '://' ? endIndex : startIndex;\n    };\n    var findWords = function (chars, sChars, characterMap, options) {\n      var words = [];\n      var word = [];\n      for (var i = 0; i < characterMap.length; ++i) {\n        word.push(chars[i]);\n        if (isWordBoundary(characterMap, i)) {\n          var ch = sChars[i];\n          if ((options.includeWhitespace || !WHITESPACE.test(ch)) && (options.includePunctuation || !PUNCTUATION.test(ch))) {\n            var startOfWord = i - word.length + 1;\n            var endOfWord = i + 1;\n            var str = sChars.slice(startOfWord, endOfWord).join(EMPTY_STRING);\n            if (isProtocol(str)) {\n              var endOfUrl = findUrlEnd(sChars, i);\n              var url = chars.slice(endOfWord, endOfUrl);\n              Array.prototype.push.apply(word, url);\n              i = endOfUrl;\n            }\n            words.push(word);\n          }\n          word = [];\n        }\n      }\n      return words;\n    };\n    var getDefaultOptions = function () {\n      return {\n        includeWhitespace: false,\n        includePunctuation: false\n      };\n    };\n    var getWords$1 = function (chars, extract, options) {\n      options = __assign(__assign({}, getDefaultOptions()), options);\n      var filteredChars = [];\n      var extractedChars = [];\n      for (var i = 0; i < chars.length; i++) {\n        var ch = extract(chars[i]);\n        if (ch !== zeroWidth) {\n          filteredChars.push(chars[i]);\n          extractedChars.push(ch);\n        }\n      }\n      var characterMap = classify(extractedChars);\n      return findWords(filteredChars, extractedChars, characterMap, options);\n    };\n\n    var getWords = getWords$1;\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var getText = function (node, schema) {\n      var blockElements = schema.getBlockElements();\n      var shortEndedElements = schema.getShortEndedElements();\n      var isNewline = function (node) {\n        return blockElements[node.nodeName] || shortEndedElements[node.nodeName];\n      };\n      var textBlocks = [];\n      var txt = '';\n      var treeWalker = new global$1(node, node);\n      while (node = treeWalker.next()) {\n        if (node.nodeType === 3) {\n          txt += removeZwsp$1(node.data);\n        } else if (isNewline(node) && txt.length) {\n          textBlocks.push(txt);\n          txt = '';\n        }\n      }\n      if (txt.length) {\n        textBlocks.push(txt);\n      }\n      return textBlocks;\n    };\n\n    var removeZwsp = function (text) {\n      return text.replace(/\\u200B/g, '');\n    };\n    var strLen = function (str) {\n      return str.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, '_').length;\n    };\n    var countWords = function (node, schema) {\n      var text = removeZwsp(getText(node, schema).join('\\n'));\n      return getWords(text.split(''), identity).length;\n    };\n    var countCharacters = function (node, schema) {\n      var text = getText(node, schema).join('');\n      return strLen(text);\n    };\n    var countCharactersWithoutSpaces = function (node, schema) {\n      var text = getText(node, schema).join('').replace(/\\s/g, '');\n      return strLen(text);\n    };\n\n    var createBodyCounter = function (editor, count) {\n      return function () {\n        return count(editor.getBody(), editor.schema);\n      };\n    };\n    var createSelectionCounter = function (editor, count) {\n      return function () {\n        return count(editor.selection.getRng().cloneContents(), editor.schema);\n      };\n    };\n    var createBodyWordCounter = function (editor) {\n      return createBodyCounter(editor, countWords);\n    };\n    var get = function (editor) {\n      return {\n        body: {\n          getWordCount: createBodyWordCounter(editor),\n          getCharacterCount: createBodyCounter(editor, countCharacters),\n          getCharacterCountWithoutSpaces: createBodyCounter(editor, countCharactersWithoutSpaces)\n        },\n        selection: {\n          getWordCount: createSelectionCounter(editor, countWords),\n          getCharacterCount: createSelectionCounter(editor, countCharacters),\n          getCharacterCountWithoutSpaces: createSelectionCounter(editor, countCharactersWithoutSpaces)\n        },\n        getCount: createBodyWordCounter(editor)\n      };\n    };\n\n    var open = function (editor, api) {\n      editor.windowManager.open({\n        title: 'Word Count',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'table',\n              header: [\n                'Count',\n                'Document',\n                'Selection'\n              ],\n              cells: [\n                [\n                  'Words',\n                  String(api.body.getWordCount()),\n                  String(api.selection.getWordCount())\n                ],\n                [\n                  'Characters (no spaces)',\n                  String(api.body.getCharacterCountWithoutSpaces()),\n                  String(api.selection.getCharacterCountWithoutSpaces())\n                ],\n                [\n                  'Characters',\n                  String(api.body.getCharacterCount()),\n                  String(api.selection.getCharacterCount())\n                ]\n              ]\n            }]\n        },\n        buttons: [{\n            type: 'cancel',\n            name: 'close',\n            text: 'Close',\n            primary: true\n          }]\n      });\n    };\n\n    var register$1 = function (editor, api) {\n      editor.addCommand('mceWordCount', function () {\n        return open(editor, api);\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var fireWordCountUpdate = function (editor, api) {\n      editor.fire('wordCountUpdate', {\n        wordCount: {\n          words: api.body.getWordCount(),\n          characters: api.body.getCharacterCount(),\n          charactersWithoutSpaces: api.body.getCharacterCountWithoutSpaces()\n        }\n      });\n    };\n\n    var updateCount = function (editor, api) {\n      fireWordCountUpdate(editor, api);\n    };\n    var setup = function (editor, api, delay) {\n      var debouncedUpdate = global.debounce(function () {\n        return updateCount(editor, api);\n      }, delay);\n      editor.on('init', function () {\n        updateCount(editor, api);\n        global.setEditorTimeout(editor, function () {\n          editor.on('SetContent BeforeAddUndo Undo Redo ViewUpdate keyup', debouncedUpdate);\n        }, 0);\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mceWordCount');\n      };\n      editor.ui.registry.addButton('wordcount', {\n        tooltip: 'Word count',\n        icon: 'character-count',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('wordcount', {\n        text: 'Word count',\n        icon: 'character-count',\n        onAction: onAction\n      });\n    };\n\n    function Plugin (delay) {\n      if (delay === void 0) {\n        delay = 300;\n      }\n      global$2.add('wordcount', function (editor) {\n        var api = get(editor);\n        register$1(editor, api);\n        register(editor);\n        setup(editor, api, delay);\n        return api;\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"silver\" theme for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/themes/silver')\n//   ES2015:\n//     import 'tinymce/themes/silver'\nrequire('./theme.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq$1 = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString = isType$1('string');\n    var isObject = isType$1('object');\n    var isArray = isType$1('array');\n    var isNull = eq$1(null);\n    var isBoolean = isSimpleType('boolean');\n    var isUndefined = eq$1(undefined);\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n    var isArrayOf = function (value, pred) {\n      if (isArray(value)) {\n        for (var i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    var noop = function () {\n    };\n    var noarg = function (f) {\n      return function () {\n        return f();\n      };\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant$1 = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity$1 = function (x) {\n      return x;\n    };\n    var tripleEquals = function (a, b) {\n      return a === b;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function (t) {\n        return !f(t);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var never = constant$1(false);\n    var always = constant$1(true);\n\n    var global$g = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __rest(s, e) {\n      var t = {};\n      for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n          t[p] = s[p];\n      if (s != null && typeof Object.getOwnPropertySymbols === 'function')\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n            t[p[i]] = s[p[i]];\n        }\n      return t;\n    }\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity$1;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant$1(null),\n        getOrUndefined: constant$1(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant$1('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant$1(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from$1 = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from$1\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var indexOf = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    var contains$2 = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var range$2 = function (num, f) {\n      var r = [];\n      for (var i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    var chunk$1 = function (array, size) {\n      var r = [];\n      for (var i = 0; i < array.length; i += size) {\n        var s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    var map$2 = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var partition$3 = function (xs, pred) {\n      var pass = [];\n      var fail = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        var arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass: pass,\n        fail: fail\n      };\n    };\n    var filter$2 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each$1(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find$5 = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var findIndex$1 = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind$3 = function (xs, f) {\n      return flatten(map$2(xs, f));\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var difference = function (a1, a2) {\n      return filter$2(a1, function (x) {\n        return !contains$2(a2, x);\n      });\n    };\n    var mapToObject = function (xs, f) {\n      var r = {};\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    var pure$2 = function (x) {\n      return [x];\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var get$f = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$f(xs, 0);\n    };\n    var last$2 = function (xs) {\n      return get$f(xs, xs.length - 1);\n    };\n    var from = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map$1 = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var filter$1 = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    var mapToArray = function (obj, f) {\n      var r = [];\n      each(obj, function (value, name) {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    var find$4 = function (obj, pred) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        if (pred(x, i, obj)) {\n          return Optional.some(x);\n        }\n      }\n      return Optional.none();\n    };\n    var values = function (obj) {\n      return mapToArray(obj, identity$1);\n    };\n    var get$e = function (obj, key) {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has$2 = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n    var hasNonNullableKey = function (obj, key) {\n      return has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n\n    var is$1 = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lhs.exists(function (left) {\n        return comparator(left, rhs);\n      });\n    };\n    var equals = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    };\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var sequence = function (arr) {\n      var r = [];\n      for (var i = 0; i < arr.length; i++) {\n        var x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Optional.none();\n        }\n      }\n      return Optional.some(r);\n    };\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    };\n    var lift3 = function (oa, ob, oc, f) {\n      return oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    };\n    var mapFrom = function (a, f) {\n      return a !== undefined && a !== null ? Optional.some(f(a)) : Optional.none();\n    };\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var addToEnd = function (str, suffix) {\n      return str + suffix;\n    };\n    var removeFromStart = function (str, numChars) {\n      return str.substring(numChars);\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var removeLeading = function (str, prefix) {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    var ensureTrailing = function (str, suffix) {\n      return endsWith(str, suffix) ? str : addToEnd(str, suffix);\n    };\n    var contains$1 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    var blank = function (r) {\n      return function (s) {\n        return s.replace(r, '');\n      };\n    };\n    var trim$1 = blank(/^\\s+|\\s+$/g);\n    var isNotEmpty = function (s) {\n      return s.length > 0;\n    };\n    var isEmpty = function (s) {\n      return !isNotEmpty(s);\n    };\n\n    var isSupported$1 = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var fromHtml$2 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml$2,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var name$2 = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement$2 = isType(ELEMENT);\n    var isText$1 = isType(TEXT);\n    var isDocument = isType(DOCUMENT);\n    var isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant$1(isiPad),\n        isiPhone: constant$1(isiPhone),\n        isTablet: constant$1(isTablet),\n        isPhone: constant$1(isPhone),\n        isTouch: constant$1(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant$1(iOSwebview),\n        isDesktop: constant$1(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$3 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$d(group(1), group(2));\n    };\n    var detect$4 = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$3();\n      }\n      return find$3(versionRegexes, cleanedAgent);\n    };\n    var unknown$3 = function () {\n      return nu$d(0, 0);\n    };\n    var nu$d = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$d,\n      detect: detect$4,\n      unknown: unknown$3\n    };\n\n    var detectBrowser$1 = function (browsers, userAgentData) {\n      return findMap(userAgentData.brands, function (uaBrand) {\n        var lcBrand = uaBrand.brand.toLowerCase();\n        return find$5(browsers, function (browser) {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(function (info) {\n          return {\n            current: info.name,\n            version: Version.nu(parseInt(uaBrand.version, 10), 0)\n          };\n        });\n      });\n    };\n\n    var detect$3 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find$5(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$3(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$3(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$1(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant$1(browsers),\n      oses: constant$1(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$2 = function () {\n      return nu$c({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$c = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$2,\n      nu: nu$c,\n      edge: constant$1(edge),\n      chrome: constant$1(chrome),\n      ie: constant$1(ie),\n      opera: constant$1(opera),\n      firefox: constant$1(firefox),\n      safari: constant$1(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown$1 = function () {\n      return nu$b({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$b = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown$1,\n      nu: nu$b,\n      windows: constant$1(windows),\n      ios: constant$1(ios),\n      android: constant$1(android),\n      linux: constant$1(linux),\n      osx: constant$1(osx),\n      solaris: constant$1(solaris),\n      freebsd: constant$1(freebsd),\n      chromeos: constant$1(chromeos)\n    };\n\n    var detect$2 = function (userAgent, userAgentDataOpt, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = userAgentDataOpt.bind(function (userAgentData) {\n        return detectBrowser$1(browsers, userAgentData);\n      }).orThunk(function () {\n        return detectBrowser(browsers, userAgent);\n      }).fold(Browser.unknown, Browser.nu);\n      var os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$2 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch);\n    });\n    var detect$1 = function () {\n      return platform();\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n\n    var is = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all$3 = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$2(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom;\n      var d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return documentPositionContainedBy(e1.dom, e2.dom);\n    };\n    var contains = function (e1, e2) {\n      return detect$1().browser.isIE() ? ieContains(e1, e2) : regularContains(e1, e2);\n    };\n\n    var owner$4 = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument(dos) ? dos : owner$4(dos);\n    };\n    var documentElement = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    };\n    var defaultView = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var parentNode = function (element) {\n      return parent(element);\n    };\n    var offsetParent = function (element) {\n      return Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    };\n    var children = function (element) {\n      return map$2(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var child$2 = function (element, index) {\n      var cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    var firstChild = function (element) {\n      return child$2(element, 0);\n    };\n    var spot = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n    var leaf = function (element, offset) {\n      var cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var isSupported = constant$1(supported);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getContentContainer = function (dos) {\n      return isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    };\n    var isInShadowRoot = function (e) {\n      return getShadowRoot(e).isSome();\n    };\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n    var getOriginalEventTarget = function (event) {\n      if (isSupported() && isNonNullable(event.target)) {\n        var el = SugarElement.fromDom(event.target);\n        if (isElement$2(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            var composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    var isOpenShadowHost = function (element) {\n      return isNonNullable(element.dom.shadowRoot);\n    };\n\n    var inBody = function (element) {\n      var dom = isText$1(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n    var body = function () {\n      return getBody(SugarElement.fromDom(document));\n    };\n    var getBody = function (doc) {\n      var b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set$8 = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var setAll$1 = function (element, attrs) {\n      var dom = element.dom;\n      each(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var get$d = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var getOpt = function (element, key) {\n      return Optional.from(get$d(element, key));\n    };\n    var has$1 = function (element, key) {\n      var dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    var remove$7 = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var internalRemove = function (dom, property) {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    var set$7 = function (element, property, value) {\n      var dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    var setAll = function (element, css) {\n      var dom = element.dom;\n      each(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var setOptions = function (element, css) {\n      var dom = element.dom;\n      each(css, function (v, k) {\n        v.fold(function () {\n          internalRemove(dom, k);\n        }, function (value) {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    var get$c = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw = function (element, property) {\n      var dom = element.dom;\n      var raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var getAllRaw = function (element) {\n      var css = {};\n      var dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (var i = 0; i < dom.style.length; i++) {\n          var ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    var isValidValue = function (tag, property, value) {\n      var element = SugarElement.fromTag(tag);\n      set$7(element, property, value);\n      var style = getRaw(element, property);\n      return style.isSome();\n    };\n    var remove$6 = function (element, property) {\n      var dom = element.dom;\n      internalRemove(dom, property);\n      if (is$1(getOpt(element, 'style').map(trim$1), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    var reflow = function (e) {\n      return e.dom.offsetWidth;\n    };\n\n    var Dimension = function (name, getOffset) {\n      var set = function (element, h) {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        var dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      var get = function (element) {\n        var r = getOffset(element);\n        if (r <= 0 || r === null) {\n          var css = get$c(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      var getOuter = get;\n      var aggregate = function (element, properties) {\n        return foldl(properties, function (acc, property) {\n          var val = get$c(element, property);\n          var value = val === undefined ? 0 : parseInt(val, 10);\n          return isNaN(value) ? acc : acc + value;\n        }, 0);\n      };\n      var max = function (element, value, properties) {\n        var cumulativeInclusions = aggregate(element, properties);\n        var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set: set,\n        get: get,\n        getOuter: getOuter,\n        aggregate: aggregate,\n        max: max\n      };\n    };\n\n    var api$3 = Dimension('height', function (element) {\n      var dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    var get$b = function (element) {\n      return api$3.get(element);\n    };\n    var getOuter$2 = function (element) {\n      return api$3.getOuter(element);\n    };\n    var setMax$1 = function (element, value) {\n      var inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      var absMax = api$3.max(element, value, inclusions);\n      set$7(element, 'max-height', absMax + 'px');\n    };\n\n    var r$1 = function (left, top) {\n      var translate = function (x, y) {\n        return r$1(left + x, top + y);\n      };\n      return {\n        left: left,\n        top: top,\n        translate: translate\n      };\n    };\n    var SugarPosition = r$1;\n\n    var boxPosition = function (dom) {\n      var box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    var firstDefinedOrZero = function (a, b) {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    var absolute$3 = function (element) {\n      var doc = element.dom.ownerDocument;\n      var body = doc.body;\n      var win = doc.defaultView;\n      var html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      var scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      var scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport$1(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    var viewport$1 = function (element) {\n      var dom = element.dom;\n      var doc = dom.ownerDocument;\n      var body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    var api$2 = Dimension('width', function (element) {\n      return element.dom.offsetWidth;\n    });\n    var set$6 = function (element, h) {\n      return api$2.set(element, h);\n    };\n    var get$a = function (element) {\n      return api$2.get(element);\n    };\n    var getOuter$1 = function (element) {\n      return api$2.getOuter(element);\n    };\n    var setMax = function (element, value) {\n      var inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      var absMax = api$2.max(element, value, inclusions);\n      set$7(element, 'max-width', absMax + 'px');\n    };\n\n    var mkEvent = function (target, x, y, stop, prevent, kill, raw) {\n      return {\n        target: target,\n        x: x,\n        y: y,\n        stop: stop,\n        prevent: prevent,\n        kill: kill,\n        raw: raw\n      };\n    };\n    var fromRawEvent$1 = function (rawEvent) {\n      var target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      var stop = function () {\n        return rawEvent.stopPropagation();\n      };\n      var prevent = function () {\n        return rawEvent.preventDefault();\n      };\n      var kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    var handle = function (filter, handler) {\n      return function (rawEvent) {\n        if (filter(rawEvent)) {\n          handler(fromRawEvent$1(rawEvent));\n        }\n      };\n    };\n    var binder = function (element, event, filter, handler, useCapture) {\n      var wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    var bind$2 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, false);\n    };\n    var capture$1 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, true);\n    };\n    var unbind = function (element, event, handler, useCapture) {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    var before$2 = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var after$2 = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append$2(v, element);\n        });\n      }, function (v) {\n        before$2(v, element);\n      });\n    };\n    var prepend$1 = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append$2(parent, element);\n      }, function (v) {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    var append$2 = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n    var appendAt = function (parent, element, index) {\n      child$2(parent, index).fold(function () {\n        append$2(parent, element);\n      }, function (v) {\n        before$2(v, element);\n      });\n    };\n\n    var before$1 = function (marker, elements) {\n      each$1(elements, function (x) {\n        before$2(marker, x);\n      });\n    };\n    var append$1 = function (parent, elements) {\n      each$1(elements, function (x) {\n        append$2(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom.textContent = '';\n      each$1(children(element), function (rogue) {\n        remove$5(rogue);\n      });\n    };\n    var remove$5 = function (element) {\n      var dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        before$1(wrapper, children$1);\n      }\n      remove$5(wrapper);\n    };\n\n    var get$9 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    var to = function (x, y, _DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n\n    var get$8 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      if (detect$1().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win['visualViewport']);\n      }\n    };\n    var bounds$1 = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var getBounds$3 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      var doc = win.document;\n      var scroll = get$9(SugarElement.fromDom(doc));\n      return get$8(win).fold(function () {\n        var html = win.document.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds$1(scroll.left, scroll.top, width, height);\n      }, function (visualViewport) {\n        return bounds$1(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height);\n      });\n    };\n\n    var walkUp = function (navigation, doc) {\n      var frame = navigation.view(doc);\n      return frame.fold(constant$1([]), function (f) {\n        var parent = navigation.owner(f);\n        var rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    var pathTo = function (element, navigation) {\n      var d = navigation.owner(element);\n      var paths = walkUp(navigation, d);\n      return Optional.some(paths);\n    };\n\n    var view = function (doc) {\n      var _a;\n      var element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    var owner$3 = function (element) {\n      return owner$4(element);\n    };\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$3\n    });\n\n    var find$2 = function (element) {\n      var doc = SugarElement.fromDom(document);\n      var scroll = get$9(doc);\n      var path = pathTo(element, Navigation);\n      return path.fold(curry(absolute$3, element), function (frames) {\n        var offset = viewport$1(element);\n        var r = foldr(frames, function (b, a) {\n          var loc = viewport$1(a);\n          return {\n            left: b.left + loc.left,\n            top: b.top + loc.top\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n      });\n    };\n\n    var pointed = function (point, width, height) {\n      return {\n        point: point,\n        width: width,\n        height: height\n      };\n    };\n    var rect = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    };\n    var bounds = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var box$1 = function (element) {\n      var xy = absolute$3(element);\n      var w = getOuter$1(element);\n      var h = getOuter$2(element);\n      return bounds(xy.left, xy.top, w, h);\n    };\n    var absolute$2 = function (element) {\n      var position = find$2(element);\n      var width = getOuter$1(element);\n      var height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    var win = function () {\n      return getBounds$3(window);\n    };\n\n    var value$3 = function (o) {\n      var or = function (_opt) {\n        return value$3(o);\n      };\n      var orThunk = function (_f) {\n        return value$3(o);\n      };\n      var map = function (f) {\n        return value$3(f(o));\n      };\n      var mapError = function (_f) {\n        return value$3(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOptional = function () {\n        return Optional.some(o);\n      };\n      return {\n        isValue: always,\n        isError: never,\n        getOr: constant$1(o),\n        getOrThunk: constant$1(o),\n        getOrDie: constant$1(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOptional: toOptional\n      };\n    };\n    var error$1 = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = identity$1;\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (_f) {\n        return error$1(message);\n      };\n      var mapError = function (f) {\n        return error$1(f(message));\n      };\n      var bind = function (_f) {\n        return error$1(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        isValue: never,\n        isError: always,\n        getOr: identity$1,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOptional: Optional.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error$1(err);\n      }, value$3);\n    };\n    var Result = {\n      value: value$3,\n      error: error$1,\n      fromOption: fromOption\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    var fold$1 = function (res, onError, onValue) {\n      return res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    };\n    var partition$2 = function (results) {\n      var values = [];\n      var errors = [];\n      each$1(results, function (obj) {\n        fold$1(obj, function (err) {\n          return errors.push(err);\n        }, function (val) {\n          return values.push(val);\n        });\n      });\n      return {\n        values: values,\n        errors: errors\n      };\n    };\n    var mapError = function (res, f) {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    var map = function (res, f) {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    var bind$1 = function (res, f) {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    var bindError = function (res, f) {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    var svalue = function (v) {\n      return {\n        stype: SimpleResultType.Value,\n        svalue: v\n      };\n    };\n    var serror = function (e) {\n      return {\n        stype: SimpleResultType.Error,\n        serror: e\n      };\n    };\n    var toResult$1 = function (res) {\n      return fold$1(res, Result.error, Result.value);\n    };\n    var fromResult$1 = function (res) {\n      return res.fold(serror, svalue);\n    };\n    var SimpleResult = {\n      fromResult: fromResult$1,\n      toResult: toResult$1,\n      svalue: svalue,\n      partition: partition$2,\n      serror: serror,\n      bind: bind$1,\n      bindError: bindError,\n      map: map,\n      mapError: mapError,\n      fold: fold$1\n    };\n\n    var field$2 = function (key, newKey, presence, prop) {\n      return {\n        tag: 'field',\n        key: key,\n        newKey: newKey,\n        presence: presence,\n        prop: prop\n      };\n    };\n    var customField$1 = function (newKey, instantiator) {\n      return {\n        tag: 'custom',\n        newKey: newKey,\n        instantiator: instantiator\n      };\n    };\n    var fold = function (value, ifField, ifCustom) {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    var shallow$1 = function (old, nu) {\n      return nu;\n    };\n    var deep = function (old, nu) {\n      var bothObjects = isObject(old) && isObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          objects[_i] = arguments[_i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var deepMerge = baseMerge(deep);\n    var merge$1 = baseMerge(shallow$1);\n\n    var required$2 = function () {\n      return {\n        tag: 'required',\n        process: {}\n      };\n    };\n    var defaultedThunk = function (fallbackThunk) {\n      return {\n        tag: 'defaultedThunk',\n        process: fallbackThunk\n      };\n    };\n    var defaulted$1 = function (fallback) {\n      return defaultedThunk(constant$1(fallback));\n    };\n    var asOption = function () {\n      return {\n        tag: 'option',\n        process: {}\n      };\n    };\n    var mergeWithThunk = function (baseThunk) {\n      return {\n        tag: 'mergeWithThunk',\n        process: baseThunk\n      };\n    };\n    var mergeWith = function (base) {\n      return mergeWithThunk(constant$1(base));\n    };\n\n    var mergeValues$1 = function (values, base) {\n      return values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge$1.apply(undefined, values))) : SimpleResult.svalue(base);\n    };\n    var mergeErrors$1 = function (errors) {\n      return compose(SimpleResult.serror, flatten)(errors);\n    };\n    var consolidateObj = function (objects, base) {\n      var partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    var consolidateArr = function (objects) {\n      var partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    var ResultCombine = {\n      consolidateObj: consolidateObj,\n      consolidateArr: consolidateArr\n    };\n\n    var formatObj = function (input) {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    var formatErrors = function (errors) {\n      var es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant$1('... (only showing first ten failures)')\n        }]) : errors;\n      return map$2(es, function (e) {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    var nu$a = function (path, getErrorInfo) {\n      return SimpleResult.serror([{\n          path: path,\n          getErrorInfo: getErrorInfo\n        }]);\n    };\n    var missingRequired = function (path, key, obj) {\n      return nu$a(path, function () {\n        return 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj);\n      });\n    };\n    var missingKey = function (path, key) {\n      return nu$a(path, function () {\n        return 'Choice schema did not contain choice key: \"' + key + '\"';\n      });\n    };\n    var missingBranch = function (path, branches, branch) {\n      return nu$a(path, function () {\n        return 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches);\n      });\n    };\n    var unsupportedFields = function (path, unsupported) {\n      return nu$a(path, function () {\n        return 'There are unsupported fields: [' + unsupported.join(', ') + '] specified';\n      });\n    };\n    var custom = function (path, err) {\n      return nu$a(path, constant$1(err));\n    };\n\n    var value$2 = function (validator) {\n      var extract = function (path, val) {\n        return SimpleResult.bindError(validator(val), function (err) {\n          return custom(path, err);\n        });\n      };\n      var toString = constant$1('val');\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var anyValue$1 = value$2(SimpleResult.svalue);\n\n    var requiredAccess = function (path, obj, key, bundle) {\n      return get$e(obj, key).fold(function () {\n        return missingRequired(path, key, obj);\n      }, bundle);\n    };\n    var fallbackAccess = function (obj, key, fallback, bundle) {\n      var v = get$e(obj, key).getOrThunk(function () {\n        return fallback(obj);\n      });\n      return bundle(v);\n    };\n    var optionAccess = function (obj, key, bundle) {\n      return bundle(get$e(obj, key));\n    };\n    var optionDefaultedAccess = function (obj, key, fallback, bundle) {\n      var opt = get$e(obj, key).map(function (val) {\n        return val === true ? fallback(obj) : val;\n      });\n      return bundle(opt);\n    };\n    var extractField = function (field, path, obj, key, prop) {\n      var bundle = function (av) {\n        return prop.extract(path.concat([key]), av);\n      };\n      var bundleAsOption = function (optValue) {\n        return optValue.fold(function () {\n          return SimpleResult.svalue(Optional.none());\n        }, function (ov) {\n          var result = prop.extract(path.concat([key]), ov);\n          return SimpleResult.map(result, Optional.some);\n        });\n      };\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant$1({}), function (v) {\n            var result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    var extractFields = function (path, obj, fields) {\n      var success = {};\n      var errors = [];\n      for (var _i = 0, fields_1 = fields; _i < fields_1.length; _i++) {\n        var field = fields_1[_i];\n        fold(field, function (key, newKey, presence, prop) {\n          var result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, function (err) {\n            errors.push.apply(errors, err);\n          }, function (res) {\n            success[newKey] = res;\n          });\n        }, function (newKey, instantiator) {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    var valueThunk = function (getDelegate) {\n      var extract = function (path, val) {\n        return getDelegate().extract(path, val);\n      };\n      var toString = function () {\n        return getDelegate().toString();\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var getSetKeys = function (obj) {\n      return keys(filter$1(obj, isNonNullable));\n    };\n    var objOfOnly = function (fields) {\n      var delegate = objOf(fields);\n      var fieldNames = foldr(fields, function (acc, value) {\n        return fold(value, function (key) {\n          var _a;\n          return deepMerge(acc, (_a = {}, _a[key] = true, _a));\n        }, constant$1(acc));\n      }, {});\n      var extract = function (path, o) {\n        var keys = isBoolean(o) ? [] : getSetKeys(o);\n        var extra = filter$2(keys, function (k) {\n          return !hasNonNullableKey(fieldNames, k);\n        });\n        return extra.length === 0 ? delegate.extract(path, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract: extract,\n        toString: delegate.toString\n      };\n    };\n    var objOf = function (values) {\n      var extract = function (path, o) {\n        return extractFields(path, o, values);\n      };\n      var toString = function () {\n        var fieldStrings = map$2(values, function (value) {\n          return fold(value, function (key, _okey, _presence, prop) {\n            return key + ' -> ' + prop.toString();\n          }, function (newKey, _instantiator) {\n            return 'state(' + newKey + ')';\n          });\n        });\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var arrOf = function (prop) {\n      var extract = function (path, array) {\n        var results = map$2(array, function (a, i) {\n          return prop.extract(path.concat(['[' + i + ']']), a);\n        });\n        return ResultCombine.consolidateArr(results);\n      };\n      var toString = function () {\n        return 'array(' + prop.toString() + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var oneOf = function (props) {\n      var extract = function (path, val) {\n        var errors = [];\n        for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n          var prop = props_1[_i];\n          var res = prop.extract(path, val);\n          if (res.stype === SimpleResultType.Value) {\n            return res;\n          }\n          errors.push(res);\n        }\n        return ResultCombine.consolidateArr(errors);\n      };\n      var toString = function () {\n        return 'oneOf(' + map$2(props, function (prop) {\n          return prop.toString();\n        }).join(', ') + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var setOf$1 = function (validator, prop) {\n      var validateKeys = function (path, keys) {\n        return arrOf(value$2(validator)).extract(path, keys);\n      };\n      var extract = function (path, o) {\n        var keys$1 = keys(o);\n        var validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, function (validKeys) {\n          var schema = map$2(validKeys, function (vk) {\n            return field$2(vk, vk, required$2(), prop);\n          });\n          return objOf(schema).extract(path, o);\n        });\n      };\n      var toString = function () {\n        return 'setOf(' + prop.toString() + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var thunk = function (_desc, processor) {\n      var getP = cached(processor);\n      var extract = function (path, val) {\n        return getP().extract(path, val);\n      };\n      var toString = function () {\n        return getP().toString();\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var arrOfObj = compose(arrOf, objOf);\n\n    var anyValue = constant$1(anyValue$1);\n    var typedValue = function (validator, expectedType) {\n      return value$2(function (a) {\n        var actualType = typeof a;\n        return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror('Expected type: ' + expectedType + ' but got: ' + actualType);\n      });\n    };\n    var number = typedValue(isNumber, 'number');\n    var string = typedValue(isString, 'string');\n    var boolean = typedValue(isBoolean, 'boolean');\n    var functionProcessor = typedValue(isFunction, 'function');\n    var isPostMessageable = function (val) {\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(function (prop) {\n          return isPostMessageable(val[prop]);\n        });\n      default:\n        return false;\n      }\n    };\n    var postMessageable = value$2(function (a) {\n      if (isPostMessageable(a)) {\n        return SimpleResult.svalue(a);\n      } else {\n        return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n      }\n    });\n\n    var chooseFrom = function (path, input, branches, ch) {\n      var fields = get$e(branches, ch);\n      return fields.fold(function () {\n        return missingBranch(path, branches, ch);\n      }, function (vp) {\n        return vp.extract(path.concat(['branch: ' + ch]), input);\n      });\n    };\n    var choose$2 = function (key, branches) {\n      var extract = function (path, input) {\n        var choice = get$e(input, key);\n        return choice.fold(function () {\n          return missingKey(path, key);\n        }, function (chosen) {\n          return chooseFrom(path, input, branches, chosen);\n        });\n      };\n      var toString = function () {\n        return 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n\n    var arrOfVal = function () {\n      return arrOf(anyValue$1);\n    };\n    var valueOf = function (validator) {\n      return value$2(function (v) {\n        return validator(v).fold(SimpleResult.serror, SimpleResult.svalue);\n      });\n    };\n    var setOf = function (validator, prop) {\n      return setOf$1(function (v) {\n        return SimpleResult.fromResult(validator(v));\n      }, prop);\n    };\n    var extractValue = function (label, prop, obj) {\n      var res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, function (errs) {\n        return {\n          input: obj,\n          errors: errs\n        };\n      });\n    };\n    var asRaw = function (label, prop, obj) {\n      return SimpleResult.toResult(extractValue(label, prop, obj));\n    };\n    var getOrDie = function (extraction) {\n      return extraction.fold(function (errInfo) {\n        throw new Error(formatError(errInfo));\n      }, identity$1);\n    };\n    var asRawOrDie$1 = function (label, prop, obj) {\n      return getOrDie(asRaw(label, prop, obj));\n    };\n    var formatError = function (errInfo) {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    var choose$1 = function (key, branches) {\n      return choose$2(key, map$1(branches, objOf));\n    };\n    var thunkOf = function (desc, schema) {\n      return thunk(desc, schema);\n    };\n\n    var field$1 = field$2;\n    var customField = customField$1;\n    var validateEnum = function (values) {\n      return valueOf(function (value) {\n        return contains$2(values, value) ? Result.value(value) : Result.error('Unsupported value: \"' + value + '\", choose one of \"' + values.join(', ') + '\".');\n      });\n    };\n    var required$1 = function (key) {\n      return field$1(key, key, required$2(), anyValue());\n    };\n    var requiredOf = function (key, schema) {\n      return field$1(key, key, required$2(), schema);\n    };\n    var requiredNumber = function (key) {\n      return requiredOf(key, number);\n    };\n    var requiredString = function (key) {\n      return requiredOf(key, string);\n    };\n    var requiredStringEnum = function (key, values) {\n      return field$1(key, key, required$2(), validateEnum(values));\n    };\n    var requiredBoolean = function (key) {\n      return requiredOf(key, boolean);\n    };\n    var requiredFunction = function (key) {\n      return requiredOf(key, functionProcessor);\n    };\n    var forbid = function (key, message) {\n      return field$1(key, key, asOption(), value$2(function (_v) {\n        return SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message);\n      }));\n    };\n    var requiredObjOf = function (key, objSchema) {\n      return field$1(key, key, required$2(), objOf(objSchema));\n    };\n    var requiredArrayOfObj = function (key, objFields) {\n      return field$1(key, key, required$2(), arrOfObj(objFields));\n    };\n    var requiredArrayOf = function (key, schema) {\n      return field$1(key, key, required$2(), arrOf(schema));\n    };\n    var option = function (key) {\n      return field$1(key, key, asOption(), anyValue());\n    };\n    var optionOf = function (key, schema) {\n      return field$1(key, key, asOption(), schema);\n    };\n    var optionNumber = function (key) {\n      return optionOf(key, number);\n    };\n    var optionString = function (key) {\n      return optionOf(key, string);\n    };\n    var optionFunction = function (key) {\n      return optionOf(key, functionProcessor);\n    };\n    var optionArrayOf = function (key, schema) {\n      return optionOf(key, arrOf(schema));\n    };\n    var optionObjOf = function (key, objSchema) {\n      return optionOf(key, objOf(objSchema));\n    };\n    var optionObjOfOnly = function (key, objSchema) {\n      return optionOf(key, objOfOnly(objSchema));\n    };\n    var defaulted = function (key, fallback) {\n      return field$1(key, key, defaulted$1(fallback), anyValue());\n    };\n    var defaultedOf = function (key, fallback, schema) {\n      return field$1(key, key, defaulted$1(fallback), schema);\n    };\n    var defaultedNumber = function (key, fallback) {\n      return defaultedOf(key, fallback, number);\n    };\n    var defaultedString = function (key, fallback) {\n      return defaultedOf(key, fallback, string);\n    };\n    var defaultedStringEnum = function (key, fallback, values) {\n      return defaultedOf(key, fallback, validateEnum(values));\n    };\n    var defaultedBoolean = function (key, fallback) {\n      return defaultedOf(key, fallback, boolean);\n    };\n    var defaultedFunction = function (key, fallback) {\n      return defaultedOf(key, fallback, functionProcessor);\n    };\n    var defaultedPostMsg = function (key, fallback) {\n      return defaultedOf(key, fallback, postMessageable);\n    };\n    var defaultedArrayOf = function (key, fallback, schema) {\n      return defaultedOf(key, fallback, arrOf(schema));\n    };\n    var defaultedObjOf = function (key, fallback, objSchema) {\n      return defaultedOf(key, fallback, objOf(objSchema));\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var generate$7 = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each$1(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              var foldArgs = [];\n              for (var _i = 0; _i < arguments.length; _i++) {\n                foldArgs[_i] = arguments[_i];\n              }\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              var target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$7 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    var partition$1 = function (results) {\n      var errors = [];\n      var values = [];\n      each$1(results, function (result) {\n        result.fold(function (err) {\n          errors.push(err);\n        }, function (value) {\n          values.push(value);\n        });\n      });\n      return {\n        errors: errors,\n        values: values\n      };\n    };\n\n    var exclude$1 = function (obj, fields) {\n      var r = {};\n      each(obj, function (v, k) {\n        if (!contains$2(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    var wrap$2 = function (key, value) {\n      var _a;\n      return _a = {}, _a[key] = value, _a;\n    };\n    var wrapAll$1 = function (keyvalues) {\n      var r = {};\n      each$1(keyvalues, function (kv) {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    var exclude = function (obj, fields) {\n      return exclude$1(obj, fields);\n    };\n    var wrap$1 = function (key, value) {\n      return wrap$2(key, value);\n    };\n    var wrapAll = function (keyvalues) {\n      return wrapAll$1(keyvalues);\n    };\n    var mergeValues = function (values, base) {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge$1.apply(undefined, values)));\n    };\n    var mergeErrors = function (errors) {\n      return Result.error(flatten(errors));\n    };\n    var consolidate = function (objs, base) {\n      var partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n\n    var ensureIsRoot = function (isRoot) {\n      return isFunction(isRoot) ? isRoot : never;\n    };\n    var ancestor$2 = function (scope, transform, isRoot) {\n      var element = scope.dom;\n      var stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        var transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$4 = function (scope, transform, isRoot) {\n      var current = transform(scope);\n      var stop = ensureIsRoot(isRoot);\n      return current.orThunk(function () {\n        return stop(scope) ? Optional.none() : ancestor$2(scope, transform, stop);\n      });\n    };\n\n    var isSource = function (component, simulatedEvent) {\n      return eq(component.element, simulatedEvent.event.target);\n    };\n\n    var defaultEventHandler = {\n      can: always,\n      abort: never,\n      run: noop\n    };\n    var nu$9 = function (parts) {\n      if (!hasNonNullableKey(parts, 'can') && !hasNonNullableKey(parts, 'abort') && !hasNonNullableKey(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return __assign(__assign({}, defaultEventHandler), parts);\n    };\n    var all$2 = function (handlers, f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return foldl(handlers, function (acc, handler) {\n          return acc && f(handler).apply(undefined, args);\n        }, true);\n      };\n    };\n    var any = function (handlers, f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return foldl(handlers, function (acc, handler) {\n          return acc || f(handler).apply(undefined, args);\n        }, false);\n      };\n    };\n    var read$2 = function (handler) {\n      return isFunction(handler) ? {\n        can: always,\n        abort: never,\n        run: handler\n      } : handler;\n    };\n    var fuse$1 = function (handlers) {\n      var can = all$2(handlers, function (handler) {\n        return handler.can;\n      });\n      var abort = any(handlers, function (handler) {\n        return handler.abort;\n      });\n      var run = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        each$1(handlers, function (handler) {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return {\n        can: can,\n        abort: abort,\n        run: run\n      };\n    };\n\n    var constant = constant$1;\n    var touchstart = constant('touchstart');\n    var touchmove = constant('touchmove');\n    var touchend = constant('touchend');\n    var touchcancel = constant('touchcancel');\n    var mousedown = constant('mousedown');\n    var mousemove = constant('mousemove');\n    var mouseout = constant('mouseout');\n    var mouseup = constant('mouseup');\n    var mouseover = constant('mouseover');\n    var focusin = constant('focusin');\n    var focusout = constant('focusout');\n    var keydown = constant('keydown');\n    var keyup = constant('keyup');\n    var input = constant('input');\n    var change = constant('change');\n    var click = constant('click');\n    var transitioncancel = constant('transitioncancel');\n    var transitionend = constant('transitionend');\n    var transitionstart = constant('transitionstart');\n    var selectstart = constant('selectstart');\n\n    var prefixName = function (name) {\n      return constant$1('alloy.' + name);\n    };\n    var alloy = { tap: prefixName('tap') };\n    var focus$4 = prefixName('focus');\n    var postBlur = prefixName('blur.post');\n    var postPaste = prefixName('paste.post');\n    var receive = prefixName('receive');\n    var execute$5 = prefixName('execute');\n    var focusItem = prefixName('focus.item');\n    var tap = alloy.tap;\n    var longpress = prefixName('longpress');\n    var sandboxClose = prefixName('sandbox.close');\n    var typeaheadCancel = prefixName('typeahead.cancel');\n    var systemInit = prefixName('system.init');\n    var documentTouchmove = prefixName('system.touchmove');\n    var documentTouchend = prefixName('system.touchend');\n    var windowScroll = prefixName('system.scroll');\n    var windowResize = prefixName('system.resize');\n    var attachedToDom = prefixName('system.attached');\n    var detachedFromDom = prefixName('system.detached');\n    var dismissRequested = prefixName('system.dismissRequested');\n    var repositionRequested = prefixName('system.repositionRequested');\n    var focusShifted = prefixName('focusmanager.shifted');\n    var slotVisibility = prefixName('slotcontainer.visibility');\n    var changeTab = prefixName('change.tab');\n    var dismissTab = prefixName('dismiss.tab');\n    var highlight$1 = prefixName('highlight');\n    var dehighlight$1 = prefixName('dehighlight');\n\n    var emit = function (component, event) {\n      dispatchWith(component, component.element, event, {});\n    };\n    var emitWith = function (component, event, properties) {\n      dispatchWith(component, component.element, event, properties);\n    };\n    var emitExecute = function (component) {\n      emit(component, execute$5());\n    };\n    var dispatch = function (component, target, event) {\n      dispatchWith(component, target, event, {});\n    };\n    var dispatchWith = function (component, target, event, properties) {\n      var data = __assign({ target: target }, properties);\n      component.getSystem().triggerEvent(event, target, data);\n    };\n    var dispatchEvent = function (component, target, event, simulatedEvent) {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event);\n    };\n\n    var derive$2 = function (configs) {\n      return wrapAll(configs);\n    };\n    var abort = function (name, predicate) {\n      return {\n        key: name,\n        value: nu$9({ abort: predicate })\n      };\n    };\n    var can = function (name, predicate) {\n      return {\n        key: name,\n        value: nu$9({ can: predicate })\n      };\n    };\n    var preventDefault = function (name) {\n      return {\n        key: name,\n        value: nu$9({\n          run: function (component, simulatedEvent) {\n            simulatedEvent.event.prevent();\n          }\n        })\n      };\n    };\n    var run$1 = function (name, handler) {\n      return {\n        key: name,\n        value: nu$9({ run: handler })\n      };\n    };\n    var runActionExtra = function (name, action, extra) {\n      return {\n        key: name,\n        value: nu$9({\n          run: function (component, simulatedEvent) {\n            action.apply(undefined, [\n              component,\n              simulatedEvent\n            ].concat(extra));\n          }\n        })\n      };\n    };\n    var runOnName = function (name) {\n      return function (handler) {\n        return run$1(name, handler);\n      };\n    };\n    var runOnSourceName = function (name) {\n      return function (handler) {\n        return {\n          key: name,\n          value: nu$9({\n            run: function (component, simulatedEvent) {\n              if (isSource(component, simulatedEvent)) {\n                handler(component, simulatedEvent);\n              }\n            }\n          })\n        };\n      };\n    };\n    var redirectToUid = function (name, uid) {\n      return run$1(name, function (component, simulatedEvent) {\n        component.getSystem().getByUid(uid).each(function (redirectee) {\n          dispatchEvent(redirectee, redirectee.element, name, simulatedEvent);\n        });\n      });\n    };\n    var redirectToPart = function (name, detail, partName) {\n      var uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    var runWithTarget = function (name, f) {\n      return run$1(name, function (component, simulatedEvent) {\n        var ev = simulatedEvent.event;\n        var target = component.getSystem().getByDom(ev.target).getOrThunk(function () {\n          var closest = closest$4(ev.target, function (el) {\n            return component.getSystem().getByDom(el).toOptional();\n          }, never);\n          return closest.getOr(component);\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    var cutter = function (name) {\n      return run$1(name, function (component, simulatedEvent) {\n        simulatedEvent.cut();\n      });\n    };\n    var stopper = function (name) {\n      return run$1(name, function (component, simulatedEvent) {\n        simulatedEvent.stop();\n      });\n    };\n    var runOnSource = function (name, f) {\n      return runOnSourceName(name)(f);\n    };\n    var runOnAttached = runOnSourceName(attachedToDom());\n    var runOnDetached = runOnSourceName(detachedFromDom());\n    var runOnInit = runOnSourceName(systemInit());\n    var runOnExecute$1 = runOnName(execute$5());\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    var get$7 = function (element) {\n      return element.dom.innerHTML;\n    };\n    var set$5 = function (element, content) {\n      var owner = owner$4(element);\n      var docDom = owner.dom;\n      var fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      var contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append$2(element, fragment);\n    };\n    var getOuter = function (element) {\n      var container = SugarElement.fromTag('div');\n      var clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$2(container, clone);\n      return get$7(container);\n    };\n\n    var clone$1 = function (original, isDeep) {\n      return SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    };\n    var shallow = function (original) {\n      return clone$1(original, false);\n    };\n\n    var getHtml = function (element) {\n      if (isShadowRoot(element)) {\n        return '#shadow-root';\n      } else {\n        var clone = shallow(element);\n        return getOuter(clone);\n      }\n    };\n\n    var element = function (elem) {\n      return getHtml(elem);\n    };\n\n    var isRecursive = function (component, originator, target) {\n      return eq(originator, component.element) && !eq(originator, target);\n    };\n    var events$i = derive$2([can(focus$4(), function (component, simulatedEvent) {\n        var event = simulatedEvent.event;\n        var originator = event.originator;\n        var target = event.target;\n        if (isRecursive(component, originator, target)) {\n          console.warn(focus$4() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus$4() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$i\n    });\n\n    var unique = 0;\n    var generate$6 = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var prefix$1 = constant$1('alloy-id-');\n    var idAttr$1 = constant$1('data-alloy-id');\n\n    var prefix = prefix$1();\n    var idAttr = idAttr$1();\n    var write = function (label, elem) {\n      var id = generate$6(prefix + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    var writeOnly = function (elem, uid) {\n      Object.defineProperty(elem.dom, idAttr, {\n        value: uid,\n        writable: true\n      });\n    };\n    var read$1 = function (elem) {\n      var id = isElement$2(elem) ? elem.dom[idAttr] : null;\n      return Optional.from(id);\n    };\n    var generate$5 = function (prefix) {\n      return generate$6(prefix);\n    };\n\n    var make$8 = identity$1;\n\n    var NoContextApi = function (getComp) {\n      var getMessage = function (event) {\n        return 'The component must be in a context to execute: ' + event + (getComp ? '\\n' + element(getComp().element) + ' is not in context.' : '');\n      };\n      var fail = function (event) {\n        return function () {\n          throw new Error(getMessage(event));\n        };\n      };\n      var warn = function (event) {\n        return function () {\n          console.warn(getMessage(event));\n        };\n      };\n      return {\n        debugInfo: constant$1('fake'),\n        triggerEvent: warn('triggerEvent'),\n        triggerFocus: warn('triggerFocus'),\n        triggerEscape: warn('triggerEscape'),\n        broadcast: warn('broadcast'),\n        broadcastOn: warn('broadcastOn'),\n        broadcastEvent: warn('broadcastEvent'),\n        build: fail('build'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        isConnected: never\n      };\n    };\n    var singleton$1 = NoContextApi();\n\n    var markAsBehaviourApi = function (f, apiName, apiFunction) {\n      var delegate = apiFunction.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: apiName,\n          parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n        };\n      };\n      return f;\n    };\n    var cleanParameters = function (parameters) {\n      return map$2(parameters, function (p) {\n        return endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p;\n      });\n    };\n    var markAsExtraApi = function (f, extraName) {\n      var delegate = f.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: extraName,\n          parameters: cleanParameters(parameters)\n        };\n      };\n      return f;\n    };\n    var markAsSketchApi = function (f, apiFunction) {\n      var delegate = apiFunction.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: 'OVERRIDE',\n          parameters: cleanParameters(parameters.slice(1))\n        };\n      };\n      return f;\n    };\n\n    var premadeTag = generate$6('alloy-premade');\n    var premade$1 = function (comp) {\n      return wrap$1(premadeTag, comp);\n    };\n    var getPremade = function (spec) {\n      return get$e(spec, premadeTag);\n    };\n    var makeApi = function (f) {\n      return markAsSketchApi(function (component) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          rest[_i - 1] = arguments[_i];\n        }\n        return f.apply(void 0, __spreadArray([\n          component.getApis(),\n          component\n        ], rest, false));\n      }, f);\n    };\n\n    var NoState = {\n      init: function () {\n        return nu$8({ readState: constant$1('No State required') });\n      }\n    };\n    var nu$8 = function (spec) {\n      return spec;\n    };\n\n    var generateFrom$1 = function (spec, all) {\n      var schema = map$2(all, function (a) {\n        return optionObjOf(a.name(), [\n          required$1('config'),\n          defaulted('state', NoState)\n        ]);\n      });\n      var validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(function (errInfo) {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, identity$1);\n      return {\n        list: all,\n        data: map$1(validated, function (optBlobThunk) {\n          var output = optBlobThunk.map(function (blob) {\n            return {\n              config: blob.config,\n              state: blob.state.init(blob.config)\n            };\n          });\n          return constant$1(output);\n        })\n      };\n    };\n    var getBehaviours$3 = function (bData) {\n      return bData.list;\n    };\n    var getData$2 = function (bData) {\n      return bData.data;\n    };\n\n    var byInnerKey = function (data, tuple) {\n      var r = {};\n      each(data, function (detail, key) {\n        each(detail, function (value, indexKey) {\n          var chain = get$e(r, indexKey).getOr([]);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    var nu$7 = function (s) {\n      return {\n        classes: isUndefined(s.classes) ? [] : s.classes,\n        attributes: isUndefined(s.attributes) ? {} : s.attributes,\n        styles: isUndefined(s.styles) ? {} : s.styles\n      };\n    };\n    var merge = function (defnA, mod) {\n      return __assign(__assign({}, defnA), {\n        attributes: __assign(__assign({}, defnA.attributes), mod.attributes),\n        styles: __assign(__assign({}, defnA.styles), mod.styles),\n        classes: defnA.classes.concat(mod.classes)\n      });\n    };\n\n    var combine$2 = function (info, baseMod, behaviours, base) {\n      var modsByBehaviour = __assign({}, baseMod);\n      each$1(behaviours, function (behaviour) {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      var byAspect = byInnerKey(modsByBehaviour, function (name, modification) {\n        return {\n          name: name,\n          modification: modification\n        };\n      });\n      var combineObjects = function (objects) {\n        return foldr(objects, function (b, a) {\n          return __assign(__assign({}, a.modification), b);\n        }, {});\n      };\n      var combinedClasses = foldr(byAspect.classes, function (b, a) {\n        return a.modification.concat(b);\n      }, []);\n      var combinedAttributes = combineObjects(byAspect.attributes);\n      var combinedStyles = combineObjects(byAspect.styles);\n      return nu$7({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    var sortKeys = function (label, keyName, array, order) {\n      try {\n        var sorted = sort(array, function (a, b) {\n          var aKey = a[keyName];\n          var bKey = b[keyName];\n          var aIndex = order.indexOf(aKey);\n          var bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    var uncurried = function (handler, purpose) {\n      return {\n        handler: handler,\n        purpose: purpose\n      };\n    };\n    var curried = function (handler, purpose) {\n      return {\n        cHandler: handler,\n        purpose: purpose\n      };\n    };\n    var curryArgs = function (descHandler, extraArgs) {\n      return curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose);\n    };\n    var getCurried = function (descHandler) {\n      return descHandler.cHandler;\n    };\n\n    var behaviourTuple = function (name, handler) {\n      return {\n        name: name,\n        handler: handler\n      };\n    };\n    var nameToHandlers = function (behaviours, info) {\n      var r = {};\n      each$1(behaviours, function (behaviour) {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    var groupByEvents = function (info, behaviours, base) {\n      var behaviourEvents = __assign(__assign({}, base), nameToHandlers(behaviours, info));\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    var combine$1 = function (info, eventOrder, behaviours, base) {\n      var byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    var assemble = function (rawHandler) {\n      var handler = read$2(rawHandler);\n      return function (component, simulatedEvent) {\n        var rest = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n          rest[_i - 2] = arguments[_i];\n        }\n        var args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    var missingOrderError = function (eventName, tuples) {\n      return Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map$2(tuples, function (c) {\n          return c.name;\n        }), null, 2)]);\n    };\n    var fuse = function (tuples, eventOrder, eventName) {\n      var order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(function (sortedTuples) {\n          var handlers = map$2(sortedTuples, function (tuple) {\n            return tuple.handler;\n          });\n          return fuse$1(handlers);\n        });\n      }\n    };\n    var combineGroups = function (byEventName, eventOrder) {\n      var r = mapToArray(byEventName, function (tuples, eventName) {\n        var combined = tuples.length === 1 ? Result.value(tuples[0].handler) : fuse(tuples, eventOrder, eventName);\n        return combined.map(function (handler) {\n          var assembled = assemble(handler);\n          var purpose = tuples.length > 1 ? filter$2(eventOrder[eventName], function (o) {\n            return exists(tuples, function (t) {\n              return t.name === o;\n            });\n          }).join(' > ') : tuples[0].name;\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    var _a$2;\n    var baseBehaviour = 'alloy.base.behaviour';\n    var schema$z = objOf([\n      field$1('dom', 'dom', required$2(), objOf([\n        required$1('tag'),\n        defaulted('styles', {}),\n        defaulted('classes', []),\n        defaulted('attributes', {}),\n        option('value'),\n        option('innerHtml')\n      ])),\n      required$1('components'),\n      required$1('uid'),\n      defaulted('events', {}),\n      defaulted('apis', {}),\n      field$1('eventOrder', 'eventOrder', mergeWith((_a$2 = {}, _a$2[execute$5()] = [\n        'disabling',\n        baseBehaviour,\n        'toggling',\n        'typeaheadevents'\n      ], _a$2[focus$4()] = [\n        baseBehaviour,\n        'focusing',\n        'keying'\n      ], _a$2[systemInit()] = [\n        baseBehaviour,\n        'disabling',\n        'toggling',\n        'representing'\n      ], _a$2[input()] = [\n        baseBehaviour,\n        'representing',\n        'streaming',\n        'invalidating'\n      ], _a$2[detachedFromDom()] = [\n        baseBehaviour,\n        'representing',\n        'item-events',\n        'tooltipping'\n      ], _a$2[mousedown()] = [\n        'focusing',\n        baseBehaviour,\n        'item-type-events'\n      ], _a$2[touchstart()] = [\n        'focusing',\n        baseBehaviour,\n        'item-type-events'\n      ], _a$2[mouseover()] = [\n        'item-type-events',\n        'tooltipping'\n      ], _a$2[receive()] = [\n        'receiving',\n        'reflecting',\n        'tooltipping'\n      ], _a$2)), anyValue()),\n      option('domModification')\n    ]);\n    var toInfo = function (spec) {\n      return asRaw('custom.definition', schema$z, spec);\n    };\n    var toDefinition = function (detail) {\n      return __assign(__assign({}, detail.dom), {\n        uid: detail.uid,\n        domChildren: map$2(detail.components, function (comp) {\n          return comp.element;\n        })\n      });\n    };\n    var toModification = function (detail) {\n      return detail.domModification.fold(function () {\n        return nu$7({});\n      }, nu$7);\n    };\n    var toEvents = function (info) {\n      return info.events;\n    };\n\n    var read = function (element, attr) {\n      var value = get$d(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add$4 = function (element, attr, id) {\n      var old = read(element, attr);\n      var nu = old.concat([id]);\n      set$8(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$4 = function (element, attr, id) {\n      var nu = filter$2(read(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set$8(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom.classList !== undefined;\n    };\n    var get$6 = function (element) {\n      return read(element, 'class');\n    };\n    var add$3 = function (element, clazz) {\n      return add$4(element, 'class', clazz);\n    };\n    var remove$3 = function (element, clazz) {\n      return remove$4(element, 'class', clazz);\n    };\n\n    var add$2 = function (element, clazz) {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom.classList : get$6(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    var remove$2 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has = function (element, clazz) {\n      return supports(element) && element.dom.classList.contains(clazz);\n    };\n\n    var add$1 = function (element, classes) {\n      each$1(classes, function (x) {\n        add$2(element, x);\n      });\n    };\n    var remove$1 = function (element, classes) {\n      each$1(classes, function (x) {\n        remove$2(element, x);\n      });\n    };\n    var hasAll = function (element, classes) {\n      return forall(classes, function (clazz) {\n        return has(element, clazz);\n      });\n    };\n\n    var get$5 = function (element) {\n      return element.dom.value;\n    };\n    var set$4 = function (element, value) {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom.value = value;\n    };\n\n    var renderToDom = function (definition) {\n      var subject = SugarElement.fromTag(definition.tag);\n      setAll$1(subject, definition.attributes);\n      add$1(subject, definition.classes);\n      setAll(subject, definition.styles);\n      definition.innerHtml.each(function (html) {\n        return set$5(subject, html);\n      });\n      var children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(function (value) {\n        set$4(subject, value);\n      });\n      if (!definition.uid) {\n        debugger;\n      }\n      writeOnly(subject, definition.uid);\n      return subject;\n    };\n\n    var getBehaviours$2 = function (spec) {\n      var behaviours = get$e(spec, 'behaviours').getOr({});\n      return bind$3(keys(behaviours), function (name) {\n        var behaviour = behaviours[name];\n        return isNonNullable(behaviour) ? [behaviour.me] : [];\n      });\n    };\n    var generateFrom = function (spec, all) {\n      return generateFrom$1(spec, all);\n    };\n    var generate$4 = function (spec) {\n      var all = getBehaviours$2(spec);\n      return generateFrom(spec, all);\n    };\n\n    var getDomDefinition = function (info, bList, bData) {\n      var definition = toDefinition(info);\n      var infoModification = toModification(info);\n      var baseModification = { 'alloy.base.modification': infoModification };\n      var modification = bList.length > 0 ? combine$2(bData, baseModification, bList, definition) : infoModification;\n      return merge(definition, modification);\n    };\n    var getEvents = function (info, bList, bData) {\n      var baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    var build$2 = function (spec) {\n      var getMe = function () {\n        return me;\n      };\n      var systemApi = Cell(singleton$1);\n      var info = getOrDie(toInfo(spec));\n      var bBlob = generate$4(spec);\n      var bList = getBehaviours$3(bBlob);\n      var bData = getData$2(bBlob);\n      var modDefinition = getDomDefinition(info, bList, bData);\n      var item = renderToDom(modDefinition);\n      var events = getEvents(info, bList, bData);\n      var subcomponents = Cell(info.components);\n      var connect = function (newApi) {\n        systemApi.set(newApi);\n      };\n      var disconnect = function () {\n        systemApi.set(NoContextApi(getMe));\n      };\n      var syncComponents = function () {\n        var children$1 = children(item);\n        var subs = bind$3(children$1, function (child) {\n          return systemApi.get().getByDom(child).fold(function () {\n            return [];\n          }, pure$2);\n        });\n        subcomponents.set(subs);\n      };\n      var config = function (behaviour) {\n        var b = bData;\n        var f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : function () {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      var hasConfigured = function (behaviour) {\n        return isFunction(bData[behaviour.name()]);\n      };\n      var getApis = function () {\n        return info.apis;\n      };\n      var readState = function (behaviourName) {\n        return bData[behaviourName]().map(function (b) {\n          return b.state.readState();\n        }).getOr('not enabled');\n      };\n      var me = {\n        uid: spec.uid,\n        getSystem: systemApi.get,\n        config: config,\n        hasConfigured: hasConfigured,\n        spec: spec,\n        readState: readState,\n        getApis: getApis,\n        connect: connect,\n        disconnect: disconnect,\n        element: item,\n        syncComponents: syncComponents,\n        components: subcomponents.get,\n        events: events\n      };\n      return me;\n    };\n\n    var buildSubcomponents = function (spec) {\n      var components = get$e(spec, 'components').getOr([]);\n      return map$2(components, build$1);\n    };\n    var buildFromSpec = function (userSpec) {\n      var _a = make$8(userSpec), specEvents = _a.events, spec = __rest(_a, ['events']);\n      var components = buildSubcomponents(spec);\n      var completeSpec = __assign(__assign({}, spec), {\n        events: __assign(__assign({}, DefaultEvents), specEvents),\n        components: components\n      });\n      return Result.value(build$2(completeSpec));\n    };\n    var text = function (textContent) {\n      var element = SugarElement.fromText(textContent);\n      return external$2({ element: element });\n    };\n    var external$2 = function (spec) {\n      var extSpec = asRawOrDie$1('external.component', objOfOnly([\n        required$1('element'),\n        option('uid')\n      ]), spec);\n      var systemApi = Cell(NoContextApi());\n      var connect = function (newApi) {\n        systemApi.set(newApi);\n      };\n      var disconnect = function () {\n        systemApi.set(NoContextApi(function () {\n          return me;\n        }));\n      };\n      var uid = extSpec.uid.getOrThunk(function () {\n        return generate$5('external');\n      });\n      writeOnly(extSpec.element, uid);\n      var me = {\n        uid: uid,\n        getSystem: systemApi.get,\n        config: Optional.none,\n        hasConfigured: never,\n        connect: connect,\n        disconnect: disconnect,\n        getApis: function () {\n          return {};\n        },\n        element: extSpec.element,\n        spec: spec,\n        readState: constant$1('No state'),\n        syncComponents: noop,\n        components: constant$1([]),\n        events: {}\n      };\n      return premade$1(me);\n    };\n    var uids = generate$5;\n    var isSketchSpec$1 = function (spec) {\n      return has$2(spec, 'uid');\n    };\n    var build$1 = function (spec) {\n      return getPremade(spec).getOrThunk(function () {\n        var userSpecWithUid = isSketchSpec$1(spec) ? spec : __assign({ uid: uids('') }, spec);\n        return buildFromSpec(userSpecWithUid).getOrDie();\n      });\n    };\n    var premade = premade$1;\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    }\n\n    var ancestor$1 = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$3 = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    var child$1 = function (scope, predicate) {\n      var pred = function (node) {\n        return predicate(SugarElement.fromDom(node));\n      };\n      var result = find$5(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    var descendant$1 = function (scope, predicate) {\n      var descend = function (node) {\n        for (var i = 0; i < node.childNodes.length; i++) {\n          var child_1 = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child_1)) {\n            return Optional.some(child_1);\n          }\n          var res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    var closest$2 = function (scope, predicate, isRoot) {\n      return closest$3(scope, predicate, isRoot).isSome();\n    };\n\n    var ancestor = function (scope, selector, isRoot) {\n      return ancestor$1(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n    var child = function (scope, selector) {\n      return child$1(scope, function (e) {\n        return is(e, selector);\n      });\n    };\n    var descendant = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$1 = function (scope, selector, isRoot) {\n      var is$1 = function (element, selector) {\n        return is(element, selector);\n      };\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    var find$1 = function (queryElem) {\n      var dependent = closest$3(queryElem, function (elem) {\n        if (!isElement$2(elem)) {\n          return false;\n        }\n        var id = get$d(elem, 'id');\n        return id !== undefined && id.indexOf('aria-owns') > -1;\n      });\n      return dependent.bind(function (dep) {\n        var id = get$d(dep, 'id');\n        var dos = getRootNode(dep);\n        return descendant(dos, '[aria-owns=\"' + id + '\"]');\n      });\n    };\n    var manager = function () {\n      var ariaId = generate$6('aria-owns');\n      var link = function (elem) {\n        set$8(elem, 'aria-owns', ariaId);\n      };\n      var unlink = function (elem) {\n        remove$7(elem, 'aria-owns');\n      };\n      return {\n        id: ariaId,\n        link: link,\n        unlink: unlink\n      };\n    };\n\n    var isAriaPartOf = function (component, queryElem) {\n      return find$1(queryElem).exists(function (owner) {\n        return isPartOf$1(component, owner);\n      });\n    };\n    var isPartOf$1 = function (component, queryElem) {\n      return closest$2(queryElem, function (el) {\n        return eq(el, component.element);\n      }, never) || isAriaPartOf(component, queryElem);\n    };\n\n    var unknown = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    var eventConfig = Cell({});\n    var makeEventLogger = function (eventName, initialTarget) {\n      var sequence = [];\n      var startTime = new Date().getTime();\n      return {\n        logEventCut: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'cut',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logEventStopped: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'stopped',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logNoParent: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'no-parent',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logEventNoHandlers: function (_name, target) {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target: target\n          });\n        },\n        logEventResponse: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'response',\n            purpose: purpose,\n            target: target\n          });\n        },\n        write: function () {\n          var finishTime = new Date().getTime();\n          if (contains$2([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom,\n            sequence: map$2(sequence, function (s) {\n              if (!contains$2([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    var processEvent = function (eventName, initialTarget, f) {\n      var status = get$e(eventConfig.get(), eventName).orThunk(function () {\n        var patterns = keys(eventConfig.get());\n        return findMap(patterns, function (p) {\n          return eventName.indexOf(p) > -1 ? Optional.some(eventConfig.get()[p]) : Optional.none();\n        });\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          var logger = makeEventLogger(eventName, initialTarget);\n          var output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    var path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    var getTrace = function () {\n      var err = new Error();\n      if (err.stack !== undefined) {\n        var lines = err.stack.split('\\n');\n        return find$5(lines, function (line) {\n          return line.indexOf('alloy') > 0 && !exists(path, function (p) {\n            return line.indexOf(p) > -1;\n          });\n        }).getOr(unknown);\n      } else {\n        return unknown;\n      }\n    };\n    var ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    var monitorEvent = function (eventName, initialTarget, f) {\n      return processEvent(eventName, initialTarget, f);\n    };\n    var noLogger = constant$1(ignoreEvent);\n\n    var menuFields = constant$1([\n      required$1('menu'),\n      required$1('selectedMenu')\n    ]);\n    var itemFields = constant$1([\n      required$1('item'),\n      required$1('selectedItem')\n    ]);\n    constant$1(objOf(itemFields().concat(menuFields())));\n    var itemSchema$3 = constant$1(objOf(itemFields()));\n\n    var _initSize = requiredObjOf('initSize', [\n      required$1('numColumns'),\n      required$1('numRows')\n    ]);\n    var itemMarkers = function () {\n      return requiredOf('markers', itemSchema$3());\n    };\n    var tieredMenuMarkers = function () {\n      return requiredObjOf('markers', [required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    };\n    var markers$1 = function (required) {\n      return requiredObjOf('markers', map$2(required, required$1));\n    };\n    var onPresenceHandler = function (label, fieldName, presence) {\n      getTrace();\n      return field$1(fieldName, fieldName, presence, valueOf(function (f) {\n        return Result.value(function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          return f.apply(undefined, args);\n        });\n      }));\n    };\n    var onHandler = function (fieldName) {\n      return onPresenceHandler('onHandler', fieldName, defaulted$1(noop));\n    };\n    var onKeyboardHandler = function (fieldName) {\n      return onPresenceHandler('onKeyboardHandler', fieldName, defaulted$1(Optional.none));\n    };\n    var onStrictHandler = function (fieldName) {\n      return onPresenceHandler('onHandler', fieldName, required$2());\n    };\n    var onStrictKeyboardHandler = function (fieldName) {\n      return onPresenceHandler('onKeyboardHandler', fieldName, required$2());\n    };\n    var output$1 = function (name, value) {\n      return customField(name, constant$1(value));\n    };\n    var snapshot = function (name) {\n      return customField(name, identity$1);\n    };\n    var initSize = constant$1(_initSize);\n\n    var nu$6 = function (x, y, bubble, direction, placement, boundsRestriction, labelPrefix, alwaysFit) {\n      if (alwaysFit === void 0) {\n        alwaysFit = false;\n      }\n      return {\n        x: x,\n        y: y,\n        bubble: bubble,\n        direction: direction,\n        placement: placement,\n        restriction: boundsRestriction,\n        label: labelPrefix + '-' + placement,\n        alwaysFit: alwaysFit\n      };\n    };\n\n    var adt$a = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    var cata$2 = function (subject, southeast, southwest, northeast, northwest, south, north, east, west) {\n      return subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    };\n    var cataVertical = function (subject, south, middle, north) {\n      return subject.fold(south, south, north, north, south, north, middle, middle);\n    };\n    var cataHorizontal = function (subject, east, middle, west) {\n      return subject.fold(east, west, east, west, middle, middle, east, west);\n    };\n    var southeast$3 = adt$a.southeast;\n    var southwest$3 = adt$a.southwest;\n    var northeast$3 = adt$a.northeast;\n    var northwest$3 = adt$a.northwest;\n    var south$3 = adt$a.south;\n    var north$3 = adt$a.north;\n    var east$3 = adt$a.east;\n    var west$3 = adt$a.west;\n\n    var cycleBy = function (value, delta, min, max) {\n      var r = value + delta;\n      if (r > max) {\n        return min;\n      } else if (r < min) {\n        return max;\n      } else {\n        return r;\n      }\n    };\n    var clamp$1 = function (value, min, max) {\n      return Math.min(Math.max(value, min), max);\n    };\n\n    var getRestriction = function (anchor, restriction) {\n      switch (restriction) {\n      case 1:\n        return anchor.x;\n      case 0:\n        return anchor.x + anchor.width;\n      case 2:\n        return anchor.y;\n      case 3:\n        return anchor.y + anchor.height;\n      }\n    };\n    var boundsRestriction = function (anchor, restrictions) {\n      return mapToObject([\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], function (dir) {\n        return get$e(restrictions, dir).map(function (restriction) {\n          return getRestriction(anchor, restriction);\n        });\n      });\n    };\n    var adjustBounds = function (bounds$1, restriction, bubbleOffset) {\n      var applyRestriction = function (dir, current) {\n        return restriction[dir].map(function (pos) {\n          var isVerticalAxis = dir === 'top' || dir === 'bottom';\n          var offset = isVerticalAxis ? bubbleOffset.top : bubbleOffset.left;\n          var comparator = dir === 'left' || dir === 'top' ? Math.max : Math.min;\n          var newPos = comparator(pos, current) + offset;\n          return isVerticalAxis ? clamp$1(newPos, bounds$1.y, bounds$1.bottom) : clamp$1(newPos, bounds$1.x, bounds$1.right);\n        }).getOr(current);\n      };\n      var adjustedLeft = applyRestriction('left', bounds$1.x);\n      var adjustedTop = applyRestriction('top', bounds$1.y);\n      var adjustedRight = applyRestriction('right', bounds$1.right);\n      var adjustedBottom = applyRestriction('bottom', bounds$1.bottom);\n      return bounds(adjustedLeft, adjustedTop, adjustedRight - adjustedLeft, adjustedBottom - adjustedTop);\n    };\n\n    var labelPrefix$2 = 'layout';\n    var eastX$1 = function (anchor) {\n      return anchor.x;\n    };\n    var middleX$1 = function (anchor, element) {\n      return anchor.x + anchor.width / 2 - element.width / 2;\n    };\n    var westX$1 = function (anchor, element) {\n      return anchor.x + anchor.width - element.width;\n    };\n    var northY$2 = function (anchor, element) {\n      return anchor.y - element.height;\n    };\n    var southY$2 = function (anchor) {\n      return anchor.y + anchor.height;\n    };\n    var centreY$1 = function (anchor, element) {\n      return anchor.y + anchor.height / 2 - element.height / 2;\n    };\n    var eastEdgeX$1 = function (anchor) {\n      return anchor.x + anchor.width;\n    };\n    var westEdgeX$1 = function (anchor, element) {\n      return anchor.x - element.width;\n    };\n    var southeast$2 = function (anchor, element, bubbles) {\n      return nu$6(eastX$1(anchor), southY$2(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 1,\n        top: 3\n      }), labelPrefix$2);\n    };\n    var southwest$2 = function (anchor, element, bubbles) {\n      return nu$6(westX$1(anchor, element), southY$2(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 0,\n        top: 3\n      }), labelPrefix$2);\n    };\n    var northeast$2 = function (anchor, element, bubbles) {\n      return nu$6(eastX$1(anchor), northY$2(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 1,\n        bottom: 2\n      }), labelPrefix$2);\n    };\n    var northwest$2 = function (anchor, element, bubbles) {\n      return nu$6(westX$1(anchor, element), northY$2(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 0,\n        bottom: 2\n      }), labelPrefix$2);\n    };\n    var north$2 = function (anchor, element, bubbles) {\n      return nu$6(middleX$1(anchor, element), northY$2(anchor, element), bubbles.north(), north$3(), 'north', boundsRestriction(anchor, { bottom: 2 }), labelPrefix$2);\n    };\n    var south$2 = function (anchor, element, bubbles) {\n      return nu$6(middleX$1(anchor, element), southY$2(anchor), bubbles.south(), south$3(), 'south', boundsRestriction(anchor, { top: 3 }), labelPrefix$2);\n    };\n    var east$2 = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX$1(anchor), centreY$1(anchor, element), bubbles.east(), east$3(), 'east', boundsRestriction(anchor, { left: 0 }), labelPrefix$2);\n    };\n    var west$2 = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX$1(anchor, element), centreY$1(anchor, element), bubbles.west(), west$3(), 'west', boundsRestriction(anchor, { right: 1 }), labelPrefix$2);\n    };\n    var all$1 = function () {\n      return [\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        south$2,\n        north$2,\n        east$2,\n        west$2\n      ];\n    };\n    var allRtl$1 = function () {\n      return [\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        south$2,\n        north$2,\n        east$2,\n        west$2\n      ];\n    };\n    var aboveOrBelow = function () {\n      return [\n        northeast$2,\n        northwest$2,\n        southeast$2,\n        southwest$2,\n        north$2,\n        south$2\n      ];\n    };\n    var aboveOrBelowRtl = function () {\n      return [\n        northwest$2,\n        northeast$2,\n        southwest$2,\n        southeast$2,\n        north$2,\n        south$2\n      ];\n    };\n    var belowOrAbove = function () {\n      return [\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        south$2,\n        north$2\n      ];\n    };\n    var belowOrAboveRtl = function () {\n      return [\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        south$2,\n        north$2\n      ];\n    };\n\n    var chooseChannels = function (channels, message) {\n      return message.universal ? channels : filter$2(channels, function (ch) {\n        return contains$2(message.channels, ch);\n      });\n    };\n    var events$h = function (receiveConfig) {\n      return derive$2([run$1(receive(), function (component, message) {\n          var channelMap = receiveConfig.channels;\n          var channels = keys(channelMap);\n          var receivingData = message;\n          var targetChannels = chooseChannels(channels, receivingData);\n          each$1(targetChannels, function (ch) {\n            var channelInfo = channelMap[ch];\n            var channelSchema = channelInfo.schema;\n            var data = asRawOrDie$1('channel[' + ch + '] data\\nReceiver: ' + element(component.element), channelSchema, receivingData.data);\n            channelInfo.onReceive(component, data);\n          });\n        })]);\n    };\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$h\n    });\n\n    var ReceivingSchema = [requiredOf('channels', setOf(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted('schema', anyValue())\n      ])))];\n\n    var executeEvent = function (bConfig, bState, executor) {\n      return runOnExecute$1(function (component) {\n        executor(component, bConfig, bState);\n      });\n    };\n    var loadEvent = function (bConfig, bState, f) {\n      return runOnInit(function (component, _simulatedEvent) {\n        f(component, bConfig, bState);\n      });\n    };\n    var create$8 = function (schema, name, active, apis, extra, state) {\n      var configSchema = objOfOnly(schema);\n      var schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    var createModes$1 = function (modes, name, active, apis, extra, state) {\n      var configSchema = modes;\n      var schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    var wrapApi = function (bName, apiFunction, apiName) {\n      var f = function (component) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          rest[_i - 1] = arguments[_i];\n        }\n        var args = [component].concat(rest);\n        return component.config({ name: constant$1(bName) }).fold(function () {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, function (info) {\n          var rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    var revokeBehaviour = function (name) {\n      return {\n        key: name,\n        value: undefined\n      };\n    };\n    var doCreate = function (configSchema, schemaSchema, name, active, apis, extra, state) {\n      var getConfig = function (info) {\n        return hasNonNullableKey(info, name) ? info[name]() : Optional.none();\n      };\n      var wrappedApis = map$1(apis, function (apiF, apiName) {\n        return wrapApi(name, apiF, apiName);\n      });\n      var wrappedExtra = map$1(extra, function (extraF, extraName) {\n        return markAsExtraApi(extraF, extraName);\n      });\n      var me = __assign(__assign(__assign({}, wrappedExtra), wrappedApis), {\n        revoke: curry(revokeBehaviour, name),\n        config: function (spec) {\n          var prepared = asRawOrDie$1(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me: me,\n              configAsRaw: cached(function () {\n                return asRawOrDie$1(name + '-config', configSchema, spec);\n              }),\n              initialConfig: spec,\n              state: state\n            }\n          };\n        },\n        schema: constant$1(schemaSchema),\n        exhibit: function (info, base) {\n          return lift2(getConfig(info), get$e(active, 'exhibit'), function (behaviourInfo, exhibitor) {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          }).getOrThunk(function () {\n            return nu$7({});\n          });\n        },\n        name: constant$1(name),\n        handlers: function (info) {\n          return getConfig(info).map(function (behaviourInfo) {\n            var getEvents = get$e(active, 'events').getOr(function () {\n              return {};\n            });\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      });\n      return me;\n    };\n\n    var derive$1 = function (capabilities) {\n      return wrapAll(capabilities);\n    };\n    var simpleSchema = objOfOnly([\n      required$1('fields'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    var create$7 = function (data) {\n      var value = asRawOrDie$1('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create$8(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    var modeSchema = objOfOnly([\n      required$1('branchKey'),\n      required$1('branches'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    var createModes = function (data) {\n      var value = asRawOrDie$1('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes$1(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    var revoke = constant$1(undefined);\n\n    var Receiving = create$7({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    var exhibit$6 = function (base, posConfig) {\n      return nu$7({\n        classes: [],\n        styles: posConfig.useFixed() ? {} : { position: 'relative' }\n      });\n    };\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$6\n    });\n\n    var getDocument = function () {\n      return SugarElement.fromDom(document);\n    };\n\n    var focus$3 = function (element) {\n      return element.dom.focus();\n    };\n    var blur$1 = function (element) {\n      return element.dom.blur();\n    };\n    var hasFocus = function (element) {\n      var root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    var active = function (root) {\n      if (root === void 0) {\n        root = getDocument();\n      }\n      return Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    };\n    var search = function (element) {\n      return active(getRootNode(element)).filter(function (e) {\n        return element.dom.contains(e.dom);\n      });\n    };\n\n    var preserve$1 = function (f, container) {\n      var dos = getRootNode(container);\n      var refocus = active(dos).bind(function (focused) {\n        var hasFocus = function (elem) {\n          return eq(focused, elem);\n        };\n        return hasFocus(container) ? Optional.some(container) : descendant$1(container, hasFocus);\n      });\n      var result = f(container);\n      refocus.each(function (oldFocus) {\n        active(dos).filter(function (newFocus) {\n          return eq(newFocus, oldFocus);\n        }).fold(function () {\n          focus$3(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    var NuPositionCss = function (position, left, top, right, bottom) {\n      var toPx = function (num) {\n        return num + 'px';\n      };\n      return {\n        position: position,\n        left: left.map(toPx),\n        top: top.map(toPx),\n        right: right.map(toPx),\n        bottom: bottom.map(toPx)\n      };\n    };\n    var toOptions = function (position) {\n      return __assign(__assign({}, position), { position: Optional.some(position.position) });\n    };\n    var applyPositionCss = function (element, position) {\n      setOptions(element, toOptions(position));\n    };\n\n    var adt$9 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    var positionWithDirection = function (posName, decision, x, y, width, height) {\n      var decisionRect = decision.rect;\n      var decisionX = decisionRect.x - x;\n      var decisionY = decisionRect.y - y;\n      var decisionWidth = decisionRect.width;\n      var decisionHeight = decisionRect.height;\n      var decisionRight = width - (decisionX + decisionWidth);\n      var decisionBottom = height - (decisionY + decisionHeight);\n      var left = Optional.some(decisionX);\n      var top = Optional.some(decisionY);\n      var right = Optional.some(decisionRight);\n      var bottom = Optional.some(decisionBottom);\n      var none = Optional.none();\n      return cata$2(decision.direction, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, none, top, right, none);\n      }, function () {\n        return NuPositionCss(posName, left, none, none, bottom);\n      }, function () {\n        return NuPositionCss(posName, none, none, right, bottom);\n      }, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, left, none, none, bottom);\n      }, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, none, top, right, none);\n      });\n    };\n    var reposition = function (origin, decision) {\n      return origin.fold(function () {\n        var decisionRect = decision.rect;\n        return NuPositionCss('absolute', Optional.some(decisionRect.x), Optional.some(decisionRect.y), Optional.none(), Optional.none());\n      }, function (x, y, width, height) {\n        return positionWithDirection('absolute', decision, x, y, width, height);\n      }, function (x, y, width, height) {\n        return positionWithDirection('fixed', decision, x, y, width, height);\n      });\n    };\n    var toBox = function (origin, element) {\n      var rel = curry(find$2, element);\n      var position = origin.fold(rel, rel, function () {\n        var scroll = get$9();\n        return find$2(element).translate(-scroll.left, -scroll.top);\n      });\n      var width = getOuter$1(element);\n      var height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    var viewport = function (origin, getBounds) {\n      return getBounds.fold(function () {\n        return origin.fold(win, win, bounds);\n      }, function (b) {\n        return origin.fold(b, b, function () {\n          var bounds$1 = b();\n          var pos = translate$2(origin, bounds$1.x, bounds$1.y);\n          return bounds(pos.left, pos.top, bounds$1.width, bounds$1.height);\n        });\n      });\n    };\n    var translate$2 = function (origin, x, y) {\n      var pos = SugarPosition(x, y);\n      var removeScroll = function () {\n        var outerScroll = get$9();\n        return pos.translate(-outerScroll.left, -outerScroll.top);\n      };\n      return origin.fold(constant$1(pos), constant$1(pos), removeScroll);\n    };\n    var cata$1 = function (subject, onNone, onRelative, onFixed) {\n      return subject.fold(onNone, onRelative, onFixed);\n    };\n    adt$9.none;\n    var relative$1 = adt$9.relative;\n    var fixed$1 = adt$9.fixed;\n\n    var anchor = function (anchorBox, origin) {\n      return {\n        anchorBox: anchorBox,\n        origin: origin\n      };\n    };\n    var box = function (anchorBox, origin) {\n      return anchor(anchorBox, origin);\n    };\n\n    var placementAttribute = 'data-alloy-placement';\n    var setPlacement$1 = function (element, placement) {\n      set$8(element, placementAttribute, placement);\n    };\n    var getPlacement = function (element) {\n      return getOpt(element, placementAttribute);\n    };\n    var reset$2 = function (element) {\n      return remove$7(element, placementAttribute);\n    };\n\n    var adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'visibleW',\n          'visibleH',\n          'isVisible'\n        ]\n      }\n    ]);\n    var determinePosition = function (box, bounds) {\n      var boundsX = bounds.x, boundsY = bounds.y, boundsRight = bounds.right, boundsBottom = bounds.bottom;\n      var x = box.x, y = box.y, right = box.right, bottom = box.bottom, width = box.width, height = box.height;\n      var xInBounds = x >= boundsX && x <= boundsRight;\n      var yInBounds = y >= boundsY && y <= boundsBottom;\n      var originInBounds = xInBounds && yInBounds;\n      var rightInBounds = right <= boundsRight && right >= boundsX;\n      var bottomInBounds = bottom <= boundsBottom && bottom >= boundsY;\n      var sizeInBounds = rightInBounds && bottomInBounds;\n      var visibleW = Math.min(width, x >= boundsX ? boundsRight - x : right - boundsX);\n      var visibleH = Math.min(height, y >= boundsY ? boundsBottom - y : bottom - boundsY);\n      return {\n        originInBounds: originInBounds,\n        sizeInBounds: sizeInBounds,\n        visibleW: visibleW,\n        visibleH: visibleH\n      };\n    };\n    var calcReposition = function (box, bounds$1) {\n      var boundsX = bounds$1.x, boundsY = bounds$1.y, boundsRight = bounds$1.right, boundsBottom = bounds$1.bottom;\n      var x = box.x, y = box.y, width = box.width, height = box.height;\n      var maxX = Math.max(boundsX, boundsRight - width);\n      var maxY = Math.max(boundsY, boundsBottom - height);\n      var restrictedX = clamp$1(x, boundsX, maxX);\n      var restrictedY = clamp$1(y, boundsY, maxY);\n      var restrictedWidth = Math.min(restrictedX + width, boundsRight) - restrictedX;\n      var restrictedHeight = Math.min(restrictedY + height, boundsBottom) - restrictedY;\n      return bounds(restrictedX, restrictedY, restrictedWidth, restrictedHeight);\n    };\n    var calcMaxSizes = function (direction, box, bounds) {\n      var upAvailable = constant$1(box.bottom - bounds.y);\n      var downAvailable = constant$1(bounds.bottom - box.y);\n      var maxHeight = cataVertical(direction, downAvailable, downAvailable, upAvailable);\n      var westAvailable = constant$1(box.right - bounds.x);\n      var eastAvailable = constant$1(bounds.right - box.x);\n      var maxWidth = cataHorizontal(direction, eastAvailable, eastAvailable, westAvailable);\n      return {\n        maxWidth: maxWidth,\n        maxHeight: maxHeight\n      };\n    };\n    var attempt = function (candidate, width, height, bounds$1) {\n      var bubble = candidate.bubble;\n      var bubbleOffset = bubble.offset;\n      var adjustedBounds = adjustBounds(bounds$1, candidate.restriction, bubbleOffset);\n      var newX = candidate.x + bubbleOffset.left;\n      var newY = candidate.y + bubbleOffset.top;\n      var box = bounds(newX, newY, width, height);\n      var _a = determinePosition(box, adjustedBounds), originInBounds = _a.originInBounds, sizeInBounds = _a.sizeInBounds, visibleW = _a.visibleW, visibleH = _a.visibleH;\n      var fits = originInBounds && sizeInBounds;\n      var fittedBox = fits ? box : calcReposition(box, adjustedBounds);\n      var isPartlyVisible = fittedBox.width > 0 && fittedBox.height > 0;\n      var _b = calcMaxSizes(candidate.direction, fittedBox, bounds$1), maxWidth = _b.maxWidth, maxHeight = _b.maxHeight;\n      var reposition = {\n        rect: fittedBox,\n        maxHeight: maxHeight,\n        maxWidth: maxWidth,\n        direction: candidate.direction,\n        placement: candidate.placement,\n        classes: {\n          on: bubble.classesOn,\n          off: bubble.classesOff\n        },\n        layout: candidate.label,\n        testY: newY\n      };\n      return fits || candidate.alwaysFit ? adt$8.fit(reposition) : adt$8.nofit(reposition, visibleW, visibleH, isPartlyVisible);\n    };\n    var attempts = function (element, candidates, anchorBox, elementBox, bubbles, bounds) {\n      var panelWidth = elementBox.width;\n      var panelHeight = elementBox.height;\n      var attemptBestFit = function (layout, reposition, visibleW, visibleH, isVisible) {\n        var next = layout(anchorBox, elementBox, bubbles, element, bounds);\n        var attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(constant$1(attemptLayout), function (newReposition, newVisibleW, newVisibleH, newIsVisible) {\n          var improved = isVisible === newIsVisible ? newVisibleH > visibleH || newVisibleW > visibleW : !isVisible && newIsVisible;\n          return improved ? attemptLayout : adt$8.nofit(reposition, visibleW, visibleH, isVisible);\n        });\n      };\n      var abc = foldl(candidates, function (b, a) {\n        var bestNext = curry(attemptBestFit, a);\n        return b.fold(constant$1(b), bestNext);\n      }, adt$8.nofit({\n        rect: anchorBox,\n        maxHeight: elementBox.height,\n        maxWidth: elementBox.width,\n        direction: southeast$3(),\n        placement: 'southeast',\n        classes: {\n          on: [],\n          off: []\n        },\n        layout: 'none',\n        testY: anchorBox.y\n      }, -1, -1, false));\n      return abc.fold(identity$1, identity$1);\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var destroyable = function () {\n      return singleton(function (s) {\n        return s.destroy();\n      });\n    };\n    var unbindable = function () {\n      return singleton(function (s) {\n        return s.unbind();\n      });\n    };\n    var api$1 = function () {\n      var subject = destroyable();\n      var run = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { run: run });\n    };\n    var value$1 = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var filter = always;\n    var bind = function (element, event, handler) {\n      return bind$2(element, event, filter, handler);\n    };\n    var capture = function (element, event, handler) {\n      return capture$1(element, event, filter, handler);\n    };\n    var fromRawEvent = fromRawEvent$1;\n\n    var properties = [\n      'top',\n      'bottom',\n      'right',\n      'left'\n    ];\n    var timerAttr = 'data-alloy-transition-timer';\n    var isTransitioning$1 = function (element, transition) {\n      return hasAll(element, transition.classes);\n    };\n    var shouldApplyTransitionCss = function (transition, decision, lastPlacement) {\n      return lastPlacement.exists(function (placer) {\n        var mode = transition.mode;\n        return mode === 'all' ? true : placer[mode] !== decision[mode];\n      });\n    };\n    var hasChanges = function (position, intermediate) {\n      var round = function (value) {\n        return parseFloat(value).toFixed(3);\n      };\n      return find$4(intermediate, function (value, key) {\n        var newValue = position[key].map(round);\n        var val = value.map(round);\n        return !equals(newValue, val);\n      }).isSome();\n    };\n    var getTransitionDuration = function (element) {\n      var get = function (name) {\n        var style = get$c(element, name);\n        var times = isString(style) ? style.split(/\\s*,\\s*/) : [];\n        return filter$2(times, isNotEmpty);\n      };\n      var parse = function (value) {\n        if (isString(value) && /^[\\d.]+/.test(value)) {\n          var num = parseFloat(value);\n          return endsWith(value, 'ms') ? num : num * 1000;\n        } else {\n          return 0;\n        }\n      };\n      var delay = get('transition-delay');\n      var duration = get('transition-duration');\n      return foldl(duration, function (acc, dur, i) {\n        var time = parse(delay[i]) + parse(dur);\n        return Math.max(acc, time);\n      }, 0);\n    };\n    var setupTransitionListeners = function (element, transition) {\n      var transitionEnd = unbindable();\n      var transitionCancel = unbindable();\n      var timer;\n      var isSourceTransition = function (e) {\n        var _a;\n        var pseudoElement = (_a = e.raw.pseudoElement) !== null && _a !== void 0 ? _a : '';\n        return eq(e.target, element) && isEmpty(pseudoElement) && contains$2(properties, e.raw.propertyName);\n      };\n      var transitionDone = function (e) {\n        if (isNullable(e) || isSourceTransition(e)) {\n          transitionEnd.clear();\n          transitionCancel.clear();\n          var type = e === null || e === void 0 ? void 0 : e.raw.type;\n          if (isNullable(type) || type === transitionend()) {\n            clearTimeout(timer);\n            remove$7(element, timerAttr);\n            remove$1(element, transition.classes);\n          }\n        }\n      };\n      var transitionStarted = function () {\n        transitionEnd.set(bind(element, transitionend(), transitionDone));\n        transitionCancel.set(bind(element, transitioncancel(), transitionDone));\n      };\n      if ('ontransitionstart' in element.dom) {\n        var transitionStart_1 = bind(element, transitionstart(), function (e) {\n          if (isSourceTransition(e)) {\n            transitionStart_1.unbind();\n            transitionStarted();\n          }\n        });\n      } else {\n        transitionStarted();\n      }\n      var duration = getTransitionDuration(element);\n      requestAnimationFrame(function () {\n        timer = setTimeout(transitionDone, duration + 17);\n        set$8(element, timerAttr, timer);\n      });\n    };\n    var startTransitioning = function (element, transition) {\n      add$1(element, transition.classes);\n      getOpt(element, timerAttr).each(function (timerId) {\n        clearTimeout(parseInt(timerId, 10));\n        remove$7(element, timerAttr);\n      });\n      setupTransitionListeners(element, transition);\n    };\n    var applyTransitionCss = function (element, origin, position, transition, decision, lastPlacement) {\n      var shouldTransition = shouldApplyTransitionCss(transition, decision, lastPlacement);\n      if (shouldTransition || isTransitioning$1(element, transition)) {\n        set$7(element, 'position', position.position);\n        var rect = toBox(origin, element);\n        var intermediatePosition_1 = reposition(origin, __assign(__assign({}, decision), { rect: rect }));\n        var intermediateCssOptions = mapToObject(properties, function (prop) {\n          return intermediatePosition_1[prop];\n        });\n        if (hasChanges(position, intermediateCssOptions)) {\n          setOptions(element, intermediateCssOptions);\n          if (shouldTransition) {\n            startTransitioning(element, transition);\n          }\n          reflow(element);\n        }\n      } else {\n        remove$1(element, transition.classes);\n      }\n    };\n\n    var elementSize = function (p) {\n      return {\n        width: getOuter$1(p),\n        height: getOuter$2(p)\n      };\n    };\n    var layout = function (anchorBox, element, bubbles, options) {\n      remove$6(element, 'max-height');\n      remove$6(element, 'max-width');\n      var elementBox = elementSize(element);\n      return attempts(element, options.preference, anchorBox, elementBox, bubbles, options.bounds);\n    };\n    var setClasses = function (element, decision) {\n      var classInfo = decision.classes;\n      remove$1(element, classInfo.off);\n      add$1(element, classInfo.on);\n    };\n    var setHeight = function (element, decision, options) {\n      var maxHeightFunction = options.maxHeightFunction;\n      maxHeightFunction(element, decision.maxHeight);\n    };\n    var setWidth = function (element, decision, options) {\n      var maxWidthFunction = options.maxWidthFunction;\n      maxWidthFunction(element, decision.maxWidth);\n    };\n    var position$2 = function (element, decision, options) {\n      var positionCss = reposition(options.origin, decision);\n      options.transition.each(function (transition) {\n        applyTransitionCss(element, options.origin, positionCss, transition, decision, options.lastPlacement);\n      });\n      applyPositionCss(element, positionCss);\n    };\n    var setPlacement = function (element, decision) {\n      setPlacement$1(element, decision.placement);\n    };\n\n    var setMaxHeight = function (element, maxHeight) {\n      setMax$1(element, Math.floor(maxHeight));\n    };\n    var anchored = constant$1(function (element, available) {\n      setMaxHeight(element, available);\n      setAll(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    var expandable$1 = constant$1(function (element, available) {\n      setMaxHeight(element, available);\n    });\n\n    var defaultOr = function (options, key, dephault) {\n      return options[key] === undefined ? dephault : options[key];\n    };\n    var simple = function (anchor, element, bubble, layouts, lastPlacement, getBounds, overrideOptions, transition) {\n      var maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      var maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      var anchorBox = anchor.anchorBox;\n      var origin = anchor.origin;\n      var options = {\n        bounds: viewport(origin, getBounds),\n        origin: origin,\n        preference: layouts,\n        maxHeightFunction: maxHeightFunction,\n        maxWidthFunction: maxWidthFunction,\n        lastPlacement: lastPlacement,\n        transition: transition\n      };\n      return go(anchorBox, element, bubble, options);\n    };\n    var go = function (anchorBox, element, bubble, options) {\n      var decision = layout(anchorBox, element, bubble, options);\n      position$2(element, decision, options);\n      setPlacement(element, decision);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n      return {\n        layout: decision.layout,\n        placement: decision.placement\n      };\n    };\n\n    var allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right',\n      'inset'\n    ];\n    var nu$5 = function (xOffset, yOffset, classes, insetModifier) {\n      if (insetModifier === void 0) {\n        insetModifier = 1;\n      }\n      var insetXOffset = xOffset * insetModifier;\n      var insetYOffset = yOffset * insetModifier;\n      var getClasses = function (prop) {\n        return get$e(classes, prop).getOr([]);\n      };\n      var make = function (xDelta, yDelta, alignmentsOn) {\n        var alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: SugarPosition(xDelta, yDelta),\n          classesOn: bind$3(alignmentsOn, getClasses),\n          classesOff: bind$3(alignmentsOff, getClasses)\n        };\n      };\n      return {\n        southeast: function () {\n          return make(-xOffset, yOffset, [\n            'top',\n            'alignLeft'\n          ]);\n        },\n        southwest: function () {\n          return make(xOffset, yOffset, [\n            'top',\n            'alignRight'\n          ]);\n        },\n        south: function () {\n          return make(-xOffset / 2, yOffset, [\n            'top',\n            'alignCentre'\n          ]);\n        },\n        northeast: function () {\n          return make(-xOffset, -yOffset, [\n            'bottom',\n            'alignLeft'\n          ]);\n        },\n        northwest: function () {\n          return make(xOffset, -yOffset, [\n            'bottom',\n            'alignRight'\n          ]);\n        },\n        north: function () {\n          return make(-xOffset / 2, -yOffset, [\n            'bottom',\n            'alignCentre'\n          ]);\n        },\n        east: function () {\n          return make(xOffset, -yOffset / 2, [\n            'valignCentre',\n            'left'\n          ]);\n        },\n        west: function () {\n          return make(-xOffset, -yOffset / 2, [\n            'valignCentre',\n            'right'\n          ]);\n        },\n        insetNortheast: function () {\n          return make(insetXOffset, insetYOffset, [\n            'top',\n            'alignLeft',\n            'inset'\n          ]);\n        },\n        insetNorthwest: function () {\n          return make(-insetXOffset, insetYOffset, [\n            'top',\n            'alignRight',\n            'inset'\n          ]);\n        },\n        insetNorth: function () {\n          return make(-insetXOffset / 2, insetYOffset, [\n            'top',\n            'alignCentre',\n            'inset'\n          ]);\n        },\n        insetSoutheast: function () {\n          return make(insetXOffset, -insetYOffset, [\n            'bottom',\n            'alignLeft',\n            'inset'\n          ]);\n        },\n        insetSouthwest: function () {\n          return make(-insetXOffset, -insetYOffset, [\n            'bottom',\n            'alignRight',\n            'inset'\n          ]);\n        },\n        insetSouth: function () {\n          return make(-insetXOffset / 2, -insetYOffset, [\n            'bottom',\n            'alignCentre',\n            'inset'\n          ]);\n        },\n        insetEast: function () {\n          return make(-insetXOffset, -insetYOffset / 2, [\n            'valignCentre',\n            'right',\n            'inset'\n          ]);\n        },\n        insetWest: function () {\n          return make(insetXOffset, -insetYOffset / 2, [\n            'valignCentre',\n            'left',\n            'inset'\n          ]);\n        }\n      };\n    };\n    var fallback = function () {\n      return nu$5(0, 0, {});\n    };\n\n    var nu$4 = identity$1;\n\n    var onDirection = function (isLtr, isRtl) {\n      return function (element) {\n        return getDirection(element) === 'rtl' ? isRtl : isLtr;\n      };\n    };\n    var getDirection = function (element) {\n      return get$c(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n    };\n\n    var AttributeValue;\n    (function (AttributeValue) {\n      AttributeValue['TopToBottom'] = 'toptobottom';\n      AttributeValue['BottomToTop'] = 'bottomtotop';\n    }(AttributeValue || (AttributeValue = {})));\n    var Attribute = 'data-alloy-vertical-dir';\n    var isBottomToTopDir = function (el) {\n      return closest$2(el, function (current) {\n        return isElement$2(current) && get$d(current, 'data-alloy-vertical-dir') === AttributeValue.BottomToTop;\n      });\n    };\n\n    var schema$y = function () {\n      return optionObjOf('layouts', [\n        required$1('onLtr'),\n        required$1('onRtl'),\n        option('onBottomLtr'),\n        option('onBottomRtl')\n      ]);\n    };\n    var get$4 = function (elem, info, defaultLtr, defaultRtl, defaultBottomLtr, defaultBottomRtl, dirElement) {\n      var isBottomToTop = dirElement.map(isBottomToTopDir).getOr(false);\n      var customLtr = info.layouts.map(function (ls) {\n        return ls.onLtr(elem);\n      });\n      var customRtl = info.layouts.map(function (ls) {\n        return ls.onRtl(elem);\n      });\n      var ltr = isBottomToTop ? info.layouts.bind(function (ls) {\n        return ls.onBottomLtr.map(function (f) {\n          return f(elem);\n        });\n      }).or(customLtr).getOr(defaultBottomLtr) : customLtr.getOr(defaultLtr);\n      var rtl = isBottomToTop ? info.layouts.bind(function (ls) {\n        return ls.onBottomRtl.map(function (f) {\n          return f(elem);\n        });\n      }).or(customRtl).getOr(defaultBottomRtl) : customRtl.getOr(defaultRtl);\n      var f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    var placement$4 = function (component, anchorInfo, origin) {\n      var hotspot = anchorInfo.hotspot;\n      var anchorBox = toBox(origin, hotspot.element);\n      var layouts = get$4(component.element, anchorInfo, belowOrAbove(), belowOrAboveRtl(), aboveOrBelow(), aboveOrBelowRtl(), Optional.some(anchorInfo.hotspot.element));\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var HotspotAnchor = [\n      required$1('hotspot'),\n      option('bubble'),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$4)\n    ];\n\n    var placement$3 = function (component, anchorInfo, origin) {\n      var pos = translate$2(origin, anchorInfo.x, anchorInfo.y);\n      var anchorBox = bounds(pos.left, pos.top, anchorInfo.width, anchorInfo.height);\n      var layouts = get$4(component.element, anchorInfo, all$1(), allRtl$1(), all$1(), allRtl$1(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var MakeshiftAnchor = [\n      required$1('x'),\n      required$1('y'),\n      defaulted('height', 0),\n      defaulted('width', 0),\n      defaulted('bubble', fallback()),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$3)\n    ];\n\n    var adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    var toFixed = function (pos) {\n      return pos.fold(identity$1, function (point, scrollLeft, scrollTop) {\n        return point.translate(-scrollLeft, -scrollTop);\n      });\n    };\n    var toAbsolute = function (pos) {\n      return pos.fold(identity$1, identity$1);\n    };\n    var sum = function (points) {\n      return foldl(points, function (b, a) {\n        return b.translate(a.left, a.top);\n      }, SugarPosition(0, 0));\n    };\n    var sumAsFixed = function (positions) {\n      var points = map$2(positions, toFixed);\n      return sum(points);\n    };\n    var sumAsAbsolute = function (positions) {\n      var points = map$2(positions, toAbsolute);\n      return sum(points);\n    };\n    var screen = adt$7.screen;\n    var absolute$1 = adt$7.absolute;\n\n    var getOffset = function (component, origin, anchorInfo) {\n      var win = defaultView(anchorInfo.root).dom;\n      var hasSameOwner = function (frame) {\n        var frameOwner = owner$4(frame);\n        var compOwner = owner$4(component.element);\n        return eq(frameOwner, compOwner);\n      };\n      return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);\n    };\n    var getRootPoint = function (component, origin, anchorInfo) {\n      var doc = owner$4(component.element);\n      var outerScroll = get$9(doc);\n      var offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$1(offset, outerScroll.left, outerScroll.top);\n    };\n\n    var getBox = function (left, top, width, height) {\n      var point = screen(SugarPosition(left, top));\n      return Optional.some(pointed(point, width, height));\n    };\n    var calcNewAnchor = function (optBox, rootPoint, anchorInfo, origin, elem) {\n      return optBox.map(function (box) {\n        var points = [\n          rootPoint,\n          box.point\n        ];\n        var topLeft = cata$1(origin, function () {\n          return sumAsAbsolute(points);\n        }, function () {\n          return sumAsAbsolute(points);\n        }, function () {\n          return sumAsFixed(points);\n        });\n        var anchorBox = rect(topLeft.left, topLeft.top, box.width, box.height);\n        var layoutsLtr = anchorInfo.showAbove ? aboveOrBelow() : belowOrAbove();\n        var layoutsRtl = anchorInfo.showAbove ? aboveOrBelowRtl() : belowOrAboveRtl();\n        var layouts = get$4(elem, anchorInfo, layoutsLtr, layoutsRtl, layoutsLtr, layoutsRtl, Optional.none());\n        return nu$4({\n          anchorBox: anchorBox,\n          bubble: anchorInfo.bubble.getOr(fallback()),\n          overrides: anchorInfo.overrides,\n          layouts: layouts,\n          placer: Optional.none()\n        });\n      });\n    };\n\n    var placement$2 = function (component, anchorInfo, origin) {\n      var rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.filter(inBody).bind(function (target) {\n        var rect = target.dom.getBoundingClientRect();\n        var nodeBox = getBox(rect.left, rect.top, rect.width, rect.height);\n        var elem = anchorInfo.node.getOr(component.element);\n        return calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      required$1('node'),\n      required$1('root'),\n      option('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$2)\n    ];\n\n    var zeroWidth = '\\uFEFF';\n    var nbsp = '\\xA0';\n\n    var create$6 = function (start, soffset, finish, foffset) {\n      return {\n        start: start,\n        soffset: soffset,\n        finish: finish,\n        foffset: foffset\n      };\n    };\n    var SimRange = { create: create$6 };\n\n    var adt$6 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart$1 = function (situ) {\n      return situ.fold(identity$1, identity$1, identity$1);\n    };\n    var before = adt$6.before;\n    var on$1 = adt$6.on;\n    var after$1 = adt$6.after;\n    var Situ = {\n      before: before,\n      on: on$1,\n      after: after$1,\n      cata: cata,\n      getStart: getStart$1\n    };\n\n    var adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt$5.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    };\n    var getStart = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return SugarElement.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, _finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, _soffset, _finish, _foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt$5.domRange;\n    var relative = adt$5.relative;\n    var exact = adt$5.exact;\n    var getWin = function (selection) {\n      var start = getStart(selection);\n      return defaultView(start);\n    };\n    var range$1 = SimRange.create;\n    var SimSelection = {\n      domRange: domRange,\n      relative: relative,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range$1\n    };\n\n    var setStart = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setStartBefore(e.dom);\n      }, function (e, o) {\n        rng.setStart(e.dom, o);\n      }, function (e) {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    var setFinish = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setEndBefore(e.dom);\n      }, function (e, o) {\n        rng.setEnd(e.dom, o);\n      }, function (e) {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    var relativeToNative = function (win, startSitu, finishSitu) {\n      var range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    var exactToNative = function (win, start, soffset, finish, foffset) {\n      var rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    var toRect = function (rect) {\n      return {\n        left: rect.left,\n        top: rect.top,\n        right: rect.right,\n        bottom: rect.bottom,\n        width: rect.width,\n        height: rect.height\n      };\n    };\n    var getFirstRect$1 = function (rng) {\n      var rects = rng.getClientRects();\n      var rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n    var getBounds$2 = function (rng) {\n      var rect = rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    var adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var fromRange = function (win, type, range) {\n      return type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    };\n    var getRanges = function (win, selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return {\n            ltr: constant$1(rng),\n            rtl: Optional.none\n          };\n        },\n        relative: function (startSitu, finishSitu) {\n          return {\n            ltr: cached(function () {\n              return relativeToNative(win, startSitu, finishSitu);\n            }),\n            rtl: cached(function () {\n              return Optional.some(relativeToNative(win, finishSitu, startSitu));\n            })\n          };\n        },\n        exact: function (start, soffset, finish, foffset) {\n          return {\n            ltr: cached(function () {\n              return exactToNative(win, start, soffset, finish, foffset);\n            }),\n            rtl: cached(function () {\n              return Optional.some(exactToNative(win, finish, foffset, start, soffset));\n            })\n          };\n        }\n      });\n    };\n    var doDiagnose = function (win, ranges) {\n      var rng = ranges.ltr();\n      if (rng.collapsed) {\n        var reversed = ranges.rtl().filter(function (rev) {\n          return rev.collapsed === false;\n        });\n        return reversed.map(function (rev) {\n          return adt$4.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset);\n        }).getOrThunk(function () {\n          return fromRange(win, adt$4.ltr, rng);\n        });\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    var diagnose = function (win, selection) {\n      var ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    var asLtrRange = function (win, selection) {\n      var diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$4.ltr;\n    adt$4.rtl;\n\n    var NodeValue = function (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    };\n\n    var api = NodeValue(isText$1, 'text');\n    var get$3 = function (element) {\n      return api.get(element);\n    };\n    var getOption = function (element) {\n      return api.getOption(element);\n    };\n\n    var getEnd = function (element) {\n      return name$2(element) === 'img' ? 1 : getOption(element).fold(function () {\n        return children(element).length;\n      }, function (v) {\n        return v.length;\n      });\n    };\n    var isTextNodeWithCursorPosition = function (el) {\n      return getOption(el).filter(function (text) {\n        return text.trim().length !== 0 || text.indexOf(nbsp) > -1;\n      }).isSome();\n    };\n    var elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    var isCursorPosition = function (elem) {\n      var hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name$2(elem));\n    };\n\n    var last$1 = function (element) {\n      return descendantRtl(element, isCursorPosition);\n    };\n    var descendantRtl = function (scope, predicate) {\n      var descend = function (element) {\n        var children$1 = children(element);\n        for (var i = children$1.length - 1; i >= 0; i--) {\n          var child = children$1[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          var res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    var descendants = function (scope, selector) {\n      return all$3(selector, scope);\n    };\n\n    var makeRange = function (start, soffset, finish, foffset) {\n      var doc = owner$4(start);\n      var rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    var after = function (start, soffset, finish, foffset) {\n      var r = makeRange(start, soffset, finish, foffset);\n      var same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    var getNativeSelection = function (win) {\n      return Optional.from(win.getSelection());\n    };\n    var readRange = function (selection) {\n      if (selection.rangeCount > 0) {\n        var firstRng = selection.getRangeAt(0);\n        var lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    var doGetExact = function (selection) {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        var anchor = SugarElement.fromDom(selection.anchorNode);\n        var focus_1 = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus_1, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus_1, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    var getExact = function (win) {\n      return getNativeSelection(win).filter(function (sel) {\n        return sel.rangeCount > 0;\n      }).bind(doGetExact);\n    };\n    var getFirstRect = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    var getBounds$1 = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return getBounds$2(rng);\n    };\n\n    var point$1 = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n    var descendOnce$1 = function (element, offset) {\n      var children$1 = children(element);\n      if (children$1.length === 0) {\n        return point$1(element, offset);\n      } else if (offset < children$1.length) {\n        return point$1(children$1[offset], 0);\n      } else {\n        var last = children$1[children$1.length - 1];\n        var len = isText$1(last) ? get$3(last).length : children(last).length;\n        return point$1(last, len);\n      }\n    };\n\n    var descendOnce = function (element, offset) {\n      return isText$1(element) ? point$1(element, offset) : descendOnce$1(element, offset);\n    };\n    var getAnchorSelection = function (win, anchorInfo) {\n      var getSelection = anchorInfo.getSelection.getOrThunk(function () {\n        return function () {\n          return getExact(win);\n        };\n      });\n      return getSelection().map(function (sel) {\n        var modStart = descendOnce(sel.start, sel.soffset);\n        var modFinish = descendOnce(sel.finish, sel.foffset);\n        return SimSelection.range(modStart.element, modStart.offset, modFinish.element, modFinish.offset);\n      });\n    };\n    var placement$1 = function (component, anchorInfo, origin) {\n      var win = defaultView(anchorInfo.root).dom;\n      var rootPoint = getRootPoint(component, origin, anchorInfo);\n      var selectionBox = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n        var optRect = getBounds$1(win, SimSelection.exactFromRange(sel)).orThunk(function () {\n          var x = SugarElement.fromText(zeroWidth);\n          before$2(sel.start, x);\n          var rect = getFirstRect(win, SimSelection.exact(x, 0, x, 1));\n          remove$5(x);\n          return rect;\n        });\n        return optRect.bind(function (rawRect) {\n          return getBox(rawRect.left, rawRect.top, rawRect.width, rawRect.height);\n        });\n      });\n      var targetElement = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n        return isElement$2(sel.start) ? Optional.some(sel.start) : parentNode(sel.start);\n      });\n      var elem = targetElement.getOr(component.element);\n      return calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option('getSelection'),\n      required$1('root'),\n      option('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$1)\n    ];\n\n    var labelPrefix$1 = 'link-layout';\n    var eastX = function (anchor) {\n      return anchor.x + anchor.width;\n    };\n    var westX = function (anchor, element) {\n      return anchor.x - element.width;\n    };\n    var northY$1 = function (anchor, element) {\n      return anchor.y - element.height + anchor.height;\n    };\n    var southY$1 = function (anchor) {\n      return anchor.y;\n    };\n    var southeast$1 = function (anchor, element, bubbles) {\n      return nu$6(eastX(anchor), southY$1(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 0,\n        top: 2\n      }), labelPrefix$1);\n    };\n    var southwest$1 = function (anchor, element, bubbles) {\n      return nu$6(westX(anchor, element), southY$1(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 1,\n        top: 2\n      }), labelPrefix$1);\n    };\n    var northeast$1 = function (anchor, element, bubbles) {\n      return nu$6(eastX(anchor), northY$1(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 0,\n        bottom: 3\n      }), labelPrefix$1);\n    };\n    var northwest$1 = function (anchor, element, bubbles) {\n      return nu$6(westX(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 1,\n        bottom: 3\n      }), labelPrefix$1);\n    };\n    var all = function () {\n      return [\n        southeast$1,\n        southwest$1,\n        northeast$1,\n        northwest$1\n      ];\n    };\n    var allRtl = function () {\n      return [\n        southwest$1,\n        southeast$1,\n        northwest$1,\n        northeast$1\n      ];\n    };\n\n    var placement = function (component, submenuInfo, origin) {\n      var anchorBox = toBox(origin, submenuInfo.item.element);\n      var layouts = get$4(component.element, submenuInfo, all(), allRtl(), all(), allRtl(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var SubmenuAnchor = [\n      required$1('item'),\n      schema$y(),\n      defaulted('overrides', {}),\n      output$1('placement', placement)\n    ];\n\n    var AnchorSchema = choose$1('type', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    var TransitionSchema = [\n      requiredArrayOf('classes', string),\n      defaultedStringEnum('mode', 'all', [\n        'all',\n        'layout',\n        'placement'\n      ])\n    ];\n    var PositionSchema = [\n      defaulted('useFixed', never),\n      option('getBounds')\n    ];\n    var PlacementSchema = [\n      requiredOf('anchor', AnchorSchema),\n      optionObjOf('transition', TransitionSchema)\n    ];\n\n    var getFixedOrigin = function () {\n      var html = document.documentElement;\n      return fixed$1(0, 0, html.clientWidth, html.clientHeight);\n    };\n    var getRelativeOrigin = function (component) {\n      var position = absolute$3(component.element);\n      var bounds = component.element.dom.getBoundingClientRect();\n      return relative$1(position.left, position.top, bounds.width, bounds.height);\n    };\n    var place = function (component, origin, anchoring, getBounds, placee, lastPlace, transition) {\n      var anchor = box(anchoring.anchorBox, origin);\n      return simple(anchor, placee.element, anchoring.bubble, anchoring.layouts, lastPlace, getBounds, anchoring.overrides, transition);\n    };\n    var position$1 = function (component, posConfig, posState, placee, placementSpec) {\n      positionWithin(component, posConfig, posState, placee, placementSpec, Optional.none());\n    };\n    var positionWithin = function (component, posConfig, posState, placee, placementSpec, boxElement) {\n      var boundsBox = boxElement.map(box$1);\n      return positionWithinBounds(component, posConfig, posState, placee, placementSpec, boundsBox);\n    };\n    var positionWithinBounds = function (component, posConfig, posState, placee, placementSpec, bounds) {\n      var placeeDetail = asRawOrDie$1('placement.info', objOf(PlacementSchema), placementSpec);\n      var anchorage = placeeDetail.anchor;\n      var element = placee.element;\n      var placeeState = posState.get(placee.uid);\n      preserve$1(function () {\n        set$7(element, 'position', 'fixed');\n        var oldVisibility = getRaw(element, 'visibility');\n        set$7(element, 'visibility', 'hidden');\n        var origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        var placer = anchorage.placement;\n        var getBounds = bounds.map(constant$1).or(posConfig.getBounds);\n        placer(component, anchorage, origin).each(function (anchoring) {\n          var doPlace = anchoring.placer.getOr(place);\n          var newState = doPlace(component, origin, anchoring, getBounds, placee, placeeState, placeeDetail.transition);\n          posState.set(placee.uid, newState);\n        });\n        oldVisibility.fold(function () {\n          remove$6(element, 'visibility');\n        }, function (vis) {\n          set$7(element, 'visibility', vis);\n        });\n        if (getRaw(element, 'left').isNone() && getRaw(element, 'top').isNone() && getRaw(element, 'right').isNone() && getRaw(element, 'bottom').isNone() && is$1(getRaw(element, 'position'), 'fixed')) {\n          remove$6(element, 'position');\n        }\n      }, element);\n    };\n    var getMode = function (component, pConfig, _pState) {\n      return pConfig.useFixed() ? 'fixed' : 'absolute';\n    };\n    var reset$1 = function (component, pConfig, posState, placee) {\n      var element = placee.element;\n      each$1([\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], function (prop) {\n        return remove$6(element, prop);\n      });\n      reset$2(element);\n      posState.clear(placee.uid);\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        position: position$1,\n        positionWithin: positionWithin,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode,\n        reset: reset$1\n    });\n\n    var init$g = function () {\n      var state = {};\n      var set = function (id, data) {\n        state[id] = data;\n      };\n      var get = function (id) {\n        return get$e(state, id);\n      };\n      var clear = function (id) {\n        if (isNonNullable(id)) {\n          delete state[id];\n        } else {\n          state = {};\n        }\n      };\n      return nu$8({\n        readState: function () {\n          return state;\n        },\n        clear: clear,\n        set: set,\n        get: get\n      });\n    };\n\n    var PositioningState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$g\n    });\n\n    var Positioning = create$7({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis,\n      state: PositioningState\n    });\n\n    var fireDetaching = function (component) {\n      emit(component, detachedFromDom());\n      var children = component.components();\n      each$1(children, fireDetaching);\n    };\n    var fireAttaching = function (component) {\n      var children = component.components();\n      each$1(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    var attach$1 = function (parent, child) {\n      append$2(parent.element, child.element);\n    };\n    var detachChildren$1 = function (component) {\n      each$1(component.components(), function (childComp) {\n        return remove$5(childComp.element);\n      });\n      empty(component.element);\n      component.syncComponents();\n    };\n    var replaceChildren = function (component, newChildren) {\n      var subs = component.components();\n      detachChildren$1(component);\n      var deleted = difference(subs, newChildren);\n      each$1(deleted, function (comp) {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each$1(newChildren, function (childComp) {\n        if (!childComp.getSystem().isConnected()) {\n          component.getSystem().addToWorld(childComp);\n          attach$1(component, childComp);\n          if (inBody(component.element)) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach$1(component, childComp);\n        }\n        component.syncComponents();\n      });\n    };\n\n    var attach = function (parent, child) {\n      attachWith(parent, child, append$2);\n    };\n    var attachWith = function (parent, child, insertion) {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element, child.element);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    var doDetach = function (component) {\n      fireDetaching(component);\n      remove$5(component.element);\n      component.getSystem().removeFromWorld(component);\n    };\n    var detach = function (component) {\n      var parent$1 = parent(component.element).bind(function (p) {\n        return component.getSystem().getByDom(p).toOptional();\n      });\n      doDetach(component);\n      parent$1.each(function (p) {\n        p.syncComponents();\n      });\n    };\n    var detachChildren = function (component) {\n      var subs = component.components();\n      each$1(subs, doDetach);\n      empty(component.element);\n      component.syncComponents();\n    };\n    var attachSystem = function (element, guiSystem) {\n      attachSystemWith(element, guiSystem, append$2);\n    };\n    var attachSystemAfter = function (element, guiSystem) {\n      attachSystemWith(element, guiSystem, after$2);\n    };\n    var attachSystemWith = function (element, guiSystem, inserter) {\n      inserter(element, guiSystem.element);\n      var children$1 = children(guiSystem.element);\n      each$1(children$1, function (child) {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    var detachSystem = function (guiSystem) {\n      var children$1 = children(guiSystem.element);\n      each$1(children$1, function (child) {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove$5(guiSystem.element);\n    };\n\n    var rebuild = function (sandbox, sConfig, sState, data) {\n      sState.get().each(function (_data) {\n        detachChildren(sandbox);\n      });\n      var point = sConfig.getAttachPoint(sandbox);\n      attach(point, sandbox);\n      var built = sandbox.getSystem().build(data);\n      attach(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    var open$1 = function (sandbox, sConfig, sState, data) {\n      var newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    var setContent = function (sandbox, sConfig, sState, data) {\n      return sState.get().map(function () {\n        return rebuild(sandbox, sConfig, sState, data);\n      });\n    };\n    var openWhileCloaked = function (sandbox, sConfig, sState, data, transaction) {\n      cloak(sandbox, sConfig);\n      open$1(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    var close$1 = function (sandbox, sConfig, sState) {\n      sState.get().each(function (data) {\n        detachChildren(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    var isOpen$1 = function (_sandbox, _sConfig, sState) {\n      return sState.isOpen();\n    };\n    var isPartOf = function (sandbox, sConfig, sState, queryElem) {\n      return isOpen$1(sandbox, sConfig, sState) && sState.get().exists(function (data) {\n        return sConfig.isPartOf(sandbox, data, queryElem);\n      });\n    };\n    var getState$2 = function (_sandbox, _sConfig, sState) {\n      return sState.get();\n    };\n    var store = function (sandbox, cssKey, attr, newValue) {\n      getRaw(sandbox.element, cssKey).fold(function () {\n        remove$7(sandbox.element, attr);\n      }, function (v) {\n        set$8(sandbox.element, attr, v);\n      });\n      set$7(sandbox.element, cssKey, newValue);\n    };\n    var restore = function (sandbox, cssKey, attr) {\n      getOpt(sandbox.element, attr).fold(function () {\n        return remove$6(sandbox.element, cssKey);\n      }, function (oldValue) {\n        return set$7(sandbox.element, cssKey, oldValue);\n      });\n    };\n    var cloak = function (sandbox, sConfig, _sState) {\n      var sink = sConfig.getAttachPoint(sandbox);\n      set$7(sandbox.element, 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    var hasPosition = function (element) {\n      return exists([\n        'top',\n        'left',\n        'right',\n        'bottom'\n      ], function (pos) {\n        return getRaw(element, pos).isSome();\n      });\n    };\n    var decloak = function (sandbox, sConfig, _sState) {\n      if (!hasPosition(sandbox.element)) {\n        remove$6(sandbox.element, 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        cloak: cloak,\n        decloak: decloak,\n        open: open$1,\n        openWhileCloaked: openWhileCloaked,\n        close: close$1,\n        isOpen: isOpen$1,\n        isPartOf: isPartOf,\n        getState: getState$2,\n        setContent: setContent\n    });\n\n    var events$g = function (sandboxConfig, sandboxState) {\n      return derive$2([run$1(sandboxClose(), function (sandbox, _simulatedEvent) {\n          close$1(sandbox, sandboxConfig, sandboxState);\n        })]);\n    };\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$g\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      required$1('isPartOf'),\n      required$1('getAttachPoint'),\n      defaulted('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    var init$f = function () {\n      var contents = value$1();\n      var readState = constant$1('not-implemented');\n      return nu$8({\n        readState: readState,\n        isOpen: contents.isSet,\n        clear: contents.clear,\n        set: contents.set,\n        get: contents.get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$f\n    });\n\n    var Sandboxing = create$7({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    var dismissPopups = constant$1('dismiss.popups');\n    var repositionPopups = constant$1('reposition.popups');\n    var mouseReleased = constant$1('mouse.released');\n\n    var schema$x = objOfOnly([\n      defaulted('isExtraPart', never),\n      optionObjOf('fireEventInstead', [defaulted('event', dismissRequested())])\n    ]);\n    var receivingChannel$1 = function (rawSpec) {\n      var _a;\n      var detail = asRawOrDie$1('Dismissal', schema$x, rawSpec);\n      return _a = {}, _a[dismissPopups()] = {\n        schema: objOfOnly([required$1('target')]),\n        onReceive: function (sandbox, data) {\n          if (Sandboxing.isOpen(sandbox)) {\n            var isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n            if (!isPart) {\n              detail.fireEventInstead.fold(function () {\n                return Sandboxing.close(sandbox);\n              }, function (fe) {\n                return emit(sandbox, fe.event);\n              });\n            }\n          }\n        }\n      }, _a;\n    };\n\n    var schema$w = objOfOnly([\n      optionObjOf('fireEventInstead', [defaulted('event', repositionRequested())]),\n      requiredFunction('doReposition')\n    ]);\n    var receivingChannel = function (rawSpec) {\n      var _a;\n      var detail = asRawOrDie$1('Reposition', schema$w, rawSpec);\n      return _a = {}, _a[repositionPopups()] = {\n        onReceive: function (sandbox) {\n          if (Sandboxing.isOpen(sandbox)) {\n            detail.fireEventInstead.fold(function () {\n              return detail.doReposition(sandbox);\n            }, function (fe) {\n              return emit(sandbox, fe.event);\n            });\n          }\n        }\n      }, _a;\n    };\n\n    var onLoad$5 = function (component, repConfig, repState) {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    var onUnload$2 = function (component, repConfig, repState) {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    var setValue$3 = function (component, repConfig, repState, data) {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    var getValue$3 = function (component, repConfig, repState) {\n      return repConfig.store.manager.getValue(component, repConfig, repState);\n    };\n    var getState$1 = function (component, repConfig, repState) {\n      return repState;\n    };\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad$5,\n        onUnload: onUnload$2,\n        setValue: setValue$3,\n        getValue: getValue$3,\n        getState: getState$1\n    });\n\n    var events$f = function (repConfig, repState) {\n      var es = repConfig.resetOnDom ? [\n        runOnAttached(function (comp, _se) {\n          onLoad$5(comp, repConfig, repState);\n        }),\n        runOnDetached(function (comp, _se) {\n          onUnload$2(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad$5)];\n      return derive$2(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$f\n    });\n\n    var memory$1 = function () {\n      var data = Cell(null);\n      var readState = function () {\n        return {\n          mode: 'memory',\n          value: data.get()\n        };\n      };\n      var isNotSet = function () {\n        return data.get() === null;\n      };\n      var clear = function () {\n        data.set(null);\n      };\n      return nu$8({\n        set: data.set,\n        get: data.get,\n        isNotSet: isNotSet,\n        clear: clear,\n        readState: readState\n      });\n    };\n    var manual = function () {\n      var readState = noop;\n      return nu$8({ readState: readState });\n    };\n    var dataset = function () {\n      var dataByValue = Cell({});\n      var dataByText = Cell({});\n      var readState = function () {\n        return {\n          mode: 'dataset',\n          dataByValue: dataByValue.get(),\n          dataByText: dataByText.get()\n        };\n      };\n      var clear = function () {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      var lookup = function (itemString) {\n        return get$e(dataByValue.get(), itemString).orThunk(function () {\n          return get$e(dataByText.get(), itemString);\n        });\n      };\n      var update = function (items) {\n        var currentDataByValue = dataByValue.get();\n        var currentDataByText = dataByText.get();\n        var newDataByValue = {};\n        var newDataByText = {};\n        each$1(items, function (item) {\n          newDataByValue[item.value] = item;\n          get$e(item, 'meta').each(function (meta) {\n            get$e(meta, 'text').each(function (text) {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set(__assign(__assign({}, currentDataByValue), newDataByValue));\n        dataByText.set(__assign(__assign({}, currentDataByText), newDataByText));\n      };\n      return nu$8({\n        readState: readState,\n        lookup: lookup,\n        update: update,\n        clear: clear\n      });\n    };\n    var init$e = function (spec) {\n      return spec.store.manager.state(spec);\n    };\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        memory: memory$1,\n        dataset: dataset,\n        manual: manual,\n        init: init$e\n    });\n\n    var setValue$2 = function (component, repConfig, repState, data) {\n      var store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    var getValue$2 = function (component, repConfig, repState) {\n      var store = repConfig.store;\n      var key = store.getDataKey(component);\n      return repState.lookup(key).getOrThunk(function () {\n        return store.getFallbackEntry(key);\n      });\n    };\n    var onLoad$4 = function (component, repConfig, repState) {\n      var store = repConfig.store;\n      store.initialValue.each(function (data) {\n        setValue$2(component, repConfig, repState, data);\n      });\n    };\n    var onUnload$1 = function (component, repConfig, repState) {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option('initialValue'),\n      required$1('getFallbackEntry'),\n      required$1('getDataKey'),\n      required$1('setValue'),\n      output$1('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$4,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    var getValue$1 = function (component, repConfig, _repState) {\n      return repConfig.store.getValue(component);\n    };\n    var setValue$1 = function (component, repConfig, _repState, data) {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    var onLoad$3 = function (component, repConfig, _repState) {\n      repConfig.store.initialValue.each(function (data) {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      required$1('getValue'),\n      defaulted('setValue', noop),\n      option('initialValue'),\n      output$1('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$3,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    var setValue = function (component, repConfig, repState, data) {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    var getValue = function (component, repConfig, repState) {\n      return repState.get();\n    };\n    var onLoad$2 = function (component, repConfig, repState) {\n      repConfig.store.initialValue.each(function (initVal) {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    var onUnload = function (component, repConfig, repState) {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option('initialValue'),\n      output$1('manager', {\n        setValue: setValue,\n        getValue: getValue,\n        onLoad: onLoad$2,\n        onUnload: onUnload,\n        state: memory$1\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted('resetOnDom', false)\n    ];\n\n    var Representing = create$7({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: function (component, source) {\n          var value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    var field = function (name, forbidden) {\n      return defaultedObjOf(name, {}, map$2(forbidden, function (f) {\n        return forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name);\n      }).concat([customField('dump', identity$1)]));\n    };\n    var get$2 = function (data) {\n      return data.dump;\n    };\n    var augment = function (data, original) {\n      return __assign(__assign({}, derive$1(original)), data.dump);\n    };\n    var SketchBehaviours = {\n      field: field,\n      augment: augment,\n      get: get$2\n    };\n\n    var _placeholder = 'placeholder';\n    var adt$3 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    var isSubstituted = function (spec) {\n      return has$2(spec, 'uiType');\n    };\n    var subPlaceholder = function (owner, detail, compSpec, placeholders) {\n      if (owner.exists(function (o) {\n          return o !== compSpec.owner;\n        })) {\n        return adt$3.single(true, constant$1(compSpec));\n      }\n      return get$e(placeholders, compSpec.name).fold(function () {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, function (newSpec) {\n        return newSpec.replace();\n      });\n    };\n    var scan = function (owner, detail, compSpec, placeholders) {\n      if (isSubstituted(compSpec) && compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$3.single(false, constant$1(compSpec));\n      }\n    };\n    var substitute = function (owner, detail, compSpec, placeholders) {\n      var base = scan(owner, detail, compSpec, placeholders);\n      return base.fold(function (req, valueThunk) {\n        var value = isSubstituted(compSpec) ? valueThunk(detail, compSpec.config, compSpec.validated) : valueThunk(detail);\n        var childSpecs = get$e(value, 'components').getOr([]);\n        var substituted = bind$3(childSpecs, function (c) {\n          return substitute(owner, detail, c, placeholders);\n        });\n        return [__assign(__assign({}, value), { components: substituted })];\n      }, function (req, valuesThunk) {\n        if (isSubstituted(compSpec)) {\n          var values = valuesThunk(detail, compSpec.config, compSpec.validated);\n          var preprocessor = compSpec.validated.preprocess.getOr(identity$1);\n          return preprocessor(values);\n        } else {\n          return valuesThunk(detail);\n        }\n      });\n    };\n    var substituteAll = function (owner, detail, components, placeholders) {\n      return bind$3(components, function (c) {\n        return substitute(owner, detail, c, placeholders);\n      });\n    };\n    var oneReplace = function (label, replacements) {\n      var called = false;\n      var used = function () {\n        return called;\n      };\n      var replace = function () {\n        if (called) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      var required = function () {\n        return replacements.fold(function (req, _) {\n          return req;\n        }, function (req, _) {\n          return req;\n        });\n      };\n      return {\n        name: constant$1(label),\n        required: required,\n        used: used,\n        replace: replace\n      };\n    };\n    var substitutePlaces = function (owner, detail, components, placeholders) {\n      var ps = map$1(placeholders, function (ph, name) {\n        return oneReplace(name, ph);\n      });\n      var outcome = substituteAll(owner, detail, components, ps);\n      each(ps, function (p) {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    var single$2 = adt$3.single;\n    var multiple = adt$3.multiple;\n    var placeholder = constant$1(_placeholder);\n\n    var adt$2 = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    var fFactory = defaulted('factory', { sketch: identity$1 });\n    var fSchema = defaulted('schema', []);\n    var fName = required$1('name');\n    var fPname = field$1('pname', 'pname', defaultedThunk(function (typeSpec) {\n      return '<alloy.' + generate$6(typeSpec.name) + '>';\n    }), anyValue());\n    var fGroupSchema = customField('schema', function () {\n      return [option('preprocess')];\n    });\n    var fDefaults = defaulted('defaults', constant$1({}));\n    var fOverrides = defaulted('overrides', constant$1({}));\n    var requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    var optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      required$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var asNamedPart = function (part) {\n      return part.fold(Optional.some, Optional.none, Optional.some, Optional.some);\n    };\n    var name$1 = function (part) {\n      var get = function (data) {\n        return data.name;\n      };\n      return part.fold(get, get, get, get);\n    };\n    var asCommon = function (part) {\n      return part.fold(identity$1, identity$1, identity$1, identity$1);\n    };\n    var convert = function (adtConstructor, partSchema) {\n      return function (spec) {\n        var data = asRawOrDie$1('Converting part type', partSchema, spec);\n        return adtConstructor(data);\n      };\n    };\n    var required = convert(adt$2.required, requiredSpec);\n    var external$1 = convert(adt$2.external, externalSpec);\n    var optional = convert(adt$2.optional, optionalSpec);\n    var group = convert(adt$2.group, groupSpec);\n    var original = constant$1('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        required: required,\n        external: external$1,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$1,\n        asCommon: asCommon,\n        original: original\n    });\n\n    var combine = function (detail, data, partSpec, partValidated) {\n      return deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    };\n    var subs = function (owner, detail, parts) {\n      var internals = {};\n      var externals = {};\n      each$1(parts, function (part) {\n        part.fold(function (data) {\n          internals[data.pname] = single$2(true, function (detail, partSpec, partValidated) {\n            return data.factory.sketch(combine(detail, data, partSpec, partValidated));\n          });\n        }, function (data) {\n          var partSpec = detail.parts[data.name];\n          externals[data.name] = constant$1(data.factory.sketch(combine(detail, data, partSpec[original()]), partSpec));\n        }, function (data) {\n          internals[data.pname] = single$2(false, function (detail, partSpec, partValidated) {\n            return data.factory.sketch(combine(detail, data, partSpec, partValidated));\n          });\n        }, function (data) {\n          internals[data.pname] = multiple(true, function (detail, _partSpec, _partValidated) {\n            var units = detail[data.name];\n            return map$2(units, function (u) {\n              return data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u)));\n            });\n          });\n        });\n      });\n      return {\n        internals: constant$1(internals),\n        externals: constant$1(externals)\n      };\n    };\n\n    var generate$3 = function (owner, parts) {\n      var r = {};\n      each$1(parts, function (part) {\n        asNamedPart(part).each(function (np) {\n          var g = doGenerateOne(owner, np.pname);\n          r[np.name] = function (config) {\n            var validated = asRawOrDie$1('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return __assign(__assign({}, g), {\n              config: config,\n              validated: validated\n            });\n          };\n        });\n      });\n      return r;\n    };\n    var doGenerateOne = function (owner, pname) {\n      return {\n        uiType: placeholder(),\n        owner: owner,\n        name: pname\n      };\n    };\n    var generateOne$1 = function (owner, pname, config) {\n      return {\n        uiType: placeholder(),\n        owner: owner,\n        name: pname,\n        config: config,\n        validated: {}\n      };\n    };\n    var schemas = function (parts) {\n      return bind$3(parts, function (part) {\n        return part.fold(Optional.none, Optional.some, Optional.none, Optional.none).map(function (data) {\n          return requiredObjOf(data.name, data.schema.concat([snapshot(original())]));\n        }).toArray();\n      });\n    };\n    var names = function (parts) {\n      return map$2(parts, name$1);\n    };\n    var substitutes = function (owner, detail, parts) {\n      return subs(owner, detail, parts);\n    };\n    var components$1 = function (owner, detail, internals) {\n      return substitutePlaces(Optional.some(owner), detail, detail.components, internals);\n    };\n    var getPart = function (component, detail, partKey) {\n      var uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOptional();\n    };\n    var getPartOrDie = function (component, detail, partKey) {\n      return getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    };\n    var getParts = function (component, detail, partKeys) {\n      var r = {};\n      var uids = detail.partUids;\n      var system = component.getSystem();\n      each$1(partKeys, function (pk) {\n        r[pk] = constant$1(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    var getAllParts = function (component, detail) {\n      var system = component.getSystem();\n      return map$1(detail.partUids, function (pUid, _k) {\n        return constant$1(system.getByUid(pUid));\n      });\n    };\n    var getAllPartNames = function (detail) {\n      return keys(detail.partUids);\n    };\n    var getPartsOrDie = function (component, detail, partKeys) {\n      var r = {};\n      var uids = detail.partUids;\n      var system = component.getSystem();\n      each$1(partKeys, function (pk) {\n        r[pk] = constant$1(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    var defaultUids = function (baseUid, partTypes) {\n      var partNames = names(partTypes);\n      return wrapAll(map$2(partNames, function (pn) {\n        return {\n          key: pn,\n          value: baseUid + '-' + pn\n        };\n      }));\n    };\n    var defaultUidsSchema = function (partTypes) {\n      return field$1('partUids', 'partUids', mergeWithThunk(function (spec) {\n        return defaultUids(spec.uid, partTypes);\n      }), anyValue());\n    };\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        generate: generate$3,\n        generateOne: generateOne$1,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components$1,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    var base = function (partSchemas, partUidsSchemas) {\n      var ps = partSchemas.length > 0 ? [requiredObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        required$1('uid'),\n        defaulted('dom', {}),\n        defaulted('components', []),\n        snapshot('originalSpec'),\n        defaulted('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    var asRawOrDie = function (label, schema, spec, partSchemas, partUidsSchemas) {\n      var baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie$1(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    var single$1 = function (owner, schema, factory, spec) {\n      var specWithUid = supplyUid(spec);\n      var detail = asRawOrDie(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    var composite$1 = function (owner, schema, partTypes, factory, spec) {\n      var specWithUid = supplyUid(spec);\n      var partSchemas = schemas(partTypes);\n      var partUidsSchema = defaultUidsSchema(partTypes);\n      var detail = asRawOrDie(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      var subs = substitutes(owner, detail, partTypes);\n      var components = components$1(owner, detail, subs.internals());\n      return factory(detail, components, specWithUid, subs.externals());\n    };\n    var hasUid = function (spec) {\n      return has$2(spec, 'uid');\n    };\n    var supplyUid = function (spec) {\n      return hasUid(spec) ? spec : __assign(__assign({}, spec), { uid: generate$5('uid') });\n    };\n\n    var isSketchSpec = function (spec) {\n      return spec.uid !== undefined;\n    };\n    var singleSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    var compositeSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      required$1('partFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    var single = function (rawConfig) {\n      var config = asRawOrDie$1('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      var sketch = function (spec) {\n        return single$1(config.name, config.configFields, config.factory, spec);\n      };\n      var apis = map$1(config.apis, makeApi);\n      var extraApis = map$1(config.extraApis, function (f, k) {\n        return markAsExtraApi(f, k);\n      });\n      return __assign(__assign({\n        name: config.name,\n        configFields: config.configFields,\n        sketch: sketch\n      }, apis), extraApis);\n    };\n    var composite = function (rawConfig) {\n      var config = asRawOrDie$1('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      var sketch = function (spec) {\n        return composite$1(config.name, config.configFields, config.partFields, config.factory, spec);\n      };\n      var parts = generate$3(config.name, config.partFields);\n      var apis = map$1(config.apis, makeApi);\n      var extraApis = map$1(config.extraApis, function (f, k) {\n        return markAsExtraApi(f, k);\n      });\n      return __assign(__assign({\n        name: config.name,\n        partFields: config.partFields,\n        configFields: config.configFields,\n        sketch: sketch,\n        parts: parts\n      }, apis), extraApis);\n    };\n\n    var inside = function (target) {\n      return name$2(target) === 'input' && get$d(target, 'type') !== 'radio' || name$2(target) === 'textarea';\n    };\n\n    var getCurrent = function (component, composeConfig, _composeState) {\n      return composeConfig.find(component);\n    };\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCurrent: getCurrent\n    });\n\n    var ComposeSchema = [required$1('find')];\n\n    var Composing = create$7({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    var nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    var onLoad$1 = function (component, disableConfig, disableState) {\n      var f = disableConfig.disabled() ? disable$1 : enable$1;\n      f(component, disableConfig);\n    };\n    var hasNative = function (component, config) {\n      return config.useNative === true && contains$2(nativeDisabled, name$2(component.element));\n    };\n    var nativeIsDisabled = function (component) {\n      return has$1(component.element, 'disabled');\n    };\n    var nativeDisable = function (component) {\n      set$8(component.element, 'disabled', 'disabled');\n    };\n    var nativeEnable = function (component) {\n      remove$7(component.element, 'disabled');\n    };\n    var ariaIsDisabled = function (component) {\n      return get$d(component.element, 'aria-disabled') === 'true';\n    };\n    var ariaDisable = function (component) {\n      set$8(component.element, 'aria-disabled', 'true');\n    };\n    var ariaEnable = function (component) {\n      set$8(component.element, 'aria-disabled', 'false');\n    };\n    var disable$1 = function (component, disableConfig, _disableState) {\n      disableConfig.disableClass.each(function (disableClass) {\n        add$2(component.element, disableClass);\n      });\n      var f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    var enable$1 = function (component, disableConfig, _disableState) {\n      disableConfig.disableClass.each(function (disableClass) {\n        remove$2(component.element, disableClass);\n      });\n      var f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    var isDisabled = function (component, disableConfig) {\n      return hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    };\n    var set$3 = function (component, disableConfig, disableState, disabled) {\n      var f = disabled ? disable$1 : enable$1;\n      f(component, disableConfig);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        enable: enable$1,\n        disable: disable$1,\n        isDisabled: isDisabled,\n        onLoad: onLoad$1,\n        set: set$3\n    });\n\n    var exhibit$5 = function (base, disableConfig) {\n      return nu$7({ classes: disableConfig.disabled() ? disableConfig.disableClass.toArray() : [] });\n    };\n    var events$e = function (disableConfig, disableState) {\n      return derive$2([\n        abort(execute$5(), function (component, _simulatedEvent) {\n          return isDisabled(component, disableConfig);\n        }),\n        loadEvent(disableConfig, disableState, onLoad$1)\n      ]);\n    };\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$5,\n        events: events$e\n    });\n\n    var DisableSchema = [\n      defaultedFunction('disabled', never),\n      defaulted('useNative', true),\n      option('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    var Disabling = create$7({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    var dehighlightAllExcept = function (component, hConfig, hState, skip) {\n      var highlighted = descendants(component.element, '.' + hConfig.highlightClass);\n      each$1(highlighted, function (h) {\n        if (!exists(skip, function (skipComp) {\n            return skipComp.element === h;\n          })) {\n          remove$2(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(function (target) {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight$1());\n          });\n        }\n      });\n    };\n    var dehighlightAll = function (component, hConfig, hState) {\n      return dehighlightAllExcept(component, hConfig, hState, []);\n    };\n    var dehighlight = function (component, hConfig, hState, target) {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$2(target.element, hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight$1());\n      }\n    };\n    var highlight = function (component, hConfig, hState, target) {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element, hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight$1());\n      }\n    };\n    var highlightFirst = function (component, hConfig, hState) {\n      getFirst(component, hConfig).each(function (firstComp) {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    var highlightLast = function (component, hConfig, hState) {\n      getLast(component, hConfig).each(function (lastComp) {\n        highlight(component, hConfig, hState, lastComp);\n      });\n    };\n    var highlightAt = function (component, hConfig, hState, index) {\n      getByIndex(component, hConfig, hState, index).fold(function (err) {\n        throw err;\n      }, function (firstComp) {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    var highlightBy = function (component, hConfig, hState, predicate) {\n      var candidates = getCandidates(component, hConfig);\n      var targetComp = find$5(candidates, predicate);\n      targetComp.each(function (c) {\n        highlight(component, hConfig, hState, c);\n      });\n    };\n    var isHighlighted = function (component, hConfig, hState, queryTarget) {\n      return has(queryTarget.element, hConfig.highlightClass);\n    };\n    var getHighlighted = function (component, hConfig, _hState) {\n      return descendant(component.element, '.' + hConfig.highlightClass).bind(function (e) {\n        return component.getSystem().getByDom(e).toOptional();\n      });\n    };\n    var getByIndex = function (component, hConfig, hState, index) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      return Optional.from(items[index]).fold(function () {\n        return Result.error(new Error('No element found with index ' + index));\n      }, component.getSystem().getByDom);\n    };\n    var getFirst = function (component, hConfig, _hState) {\n      return descendant(component.element, '.' + hConfig.itemClass).bind(function (e) {\n        return component.getSystem().getByDom(e).toOptional();\n      });\n    };\n    var getLast = function (component, hConfig, _hState) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      var last = items.length > 0 ? Optional.some(items[items.length - 1]) : Optional.none();\n      return last.bind(function (c) {\n        return component.getSystem().getByDom(c).toOptional();\n      });\n    };\n    var getDelta$2 = function (component, hConfig, hState, delta) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      var current = findIndex$1(items, function (item) {\n        return has(item, hConfig.highlightClass);\n      });\n      return current.bind(function (selected) {\n        var dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOptional();\n      });\n    };\n    var getPrevious = function (component, hConfig, hState) {\n      return getDelta$2(component, hConfig, hState, -1);\n    };\n    var getNext = function (component, hConfig, hState) {\n      return getDelta$2(component, hConfig, hState, +1);\n    };\n    var getCandidates = function (component, hConfig, _hState) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      return cat(map$2(items, function (i) {\n        return component.getSystem().getByDom(i).toOptional();\n      }));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight,\n        highlight: highlight,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      required$1('highlightClass'),\n      required$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    var Highlighting = create$7({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    var BACKSPACE = [8];\n    var TAB = [9];\n    var ENTER = [13];\n    var ESCAPE = [27];\n    var SPACE = [32];\n    var LEFT = [37];\n    var UP = [38];\n    var RIGHT = [39];\n    var DOWN = [40];\n\n    var cyclePrev = function (values, index, predicate) {\n      var before = reverse(values.slice(0, index));\n      var after = reverse(values.slice(index + 1));\n      return find$5(before.concat(after), predicate);\n    };\n    var tryPrev = function (values, index, predicate) {\n      var before = reverse(values.slice(0, index));\n      return find$5(before, predicate);\n    };\n    var cycleNext = function (values, index, predicate) {\n      var before = values.slice(0, index);\n      var after = values.slice(index + 1);\n      return find$5(after.concat(before), predicate);\n    };\n    var tryNext = function (values, index, predicate) {\n      var after = values.slice(index + 1);\n      return find$5(after, predicate);\n    };\n\n    var inSet = function (keys) {\n      return function (event) {\n        var raw = event.raw;\n        return contains$2(keys, raw.which);\n      };\n    };\n    var and = function (preds) {\n      return function (event) {\n        return forall(preds, function (pred) {\n          return pred(event);\n        });\n      };\n    };\n    var isShift = function (event) {\n      var raw = event.raw;\n      return raw.shiftKey === true;\n    };\n    var isControl = function (event) {\n      var raw = event.raw;\n      return raw.ctrlKey === true;\n    };\n    var isNotShift = not(isShift);\n\n    var rule = function (matches, action) {\n      return {\n        matches: matches,\n        classification: action\n      };\n    };\n    var choose = function (transitions, event) {\n      var transition = find$5(transitions, function (t) {\n        return t.matches(event);\n      });\n      return transition.map(function (t) {\n        return t.classification;\n      });\n    };\n\n    var reportFocusShifting = function (component, prevFocus, newFocus) {\n      var noChange = prevFocus.exists(function (p) {\n        return newFocus.exists(function (n) {\n          return eq(n, p);\n        });\n      });\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus: prevFocus,\n          newFocus: newFocus\n        });\n      }\n    };\n    var dom$2 = function () {\n      var get = function (component) {\n        return search(component.element);\n      };\n      var set = function (component, focusee) {\n        var prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element);\n        var newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n    var highlights = function () {\n      var get = function (component) {\n        return Highlighting.getHighlighted(component).map(function (item) {\n          return item.element;\n        });\n      };\n      var set = function (component, element) {\n        var prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, function (item) {\n          Highlighting.highlight(component, item);\n        });\n        var newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    var typical = function (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) {\n      var schema = function () {\n        return infoSchema.concat([\n          defaulted('focusManager', dom$2()),\n          defaultedOf('focusInside', 'onFocus', valueOf(function (val) {\n            return contains$2([\n              'onFocus',\n              'onEnterOrSpace',\n              'onApi'\n            ], val) ? Result.value(val) : Result.error('Invalid value for focusInside');\n          })),\n          output$1('handler', me),\n          output$1('state', stateInit),\n          output$1('sendFocusIn', optFocusIn)\n        ]);\n      };\n      var processKey = function (component, simulatedEvent, getRules, keyingConfig, keyingState) {\n        var rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose(rules, simulatedEvent.event).bind(function (rule) {\n          return rule(component, simulatedEvent, keyingConfig, keyingState);\n        });\n      };\n      var toEvents = function (keyingConfig, keyingState) {\n        var onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Optional.none() : optFocusIn(keyingConfig).map(function (focusIn) {\n          return run$1(focus$4(), function (component, simulatedEvent) {\n            focusIn(component, keyingConfig, keyingState);\n            simulatedEvent.stop();\n          });\n        });\n        var tryGoInsideComponent = function (component, simulatedEvent) {\n          var isEnterOrSpace = inSet(SPACE.concat(ENTER))(simulatedEvent.event);\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(function (focusIn) {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        var keyboardEvents = [\n          run$1(keydown(), function (component, simulatedEvent) {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(function () {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, function (_) {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(keyup(), function (component, simulatedEvent) {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(function (_) {\n              simulatedEvent.stop();\n            });\n          })\n        ];\n        return derive$2(onFocusHandler.toArray().concat(keyboardEvents));\n      };\n      var me = {\n        schema: schema,\n        processKey: processKey,\n        toEvents: toEvents\n      };\n      return me;\n    };\n\n    var create$5 = function (cyclicField) {\n      var schema = [\n        option('onEscape'),\n        option('onEnter'),\n        defaulted('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted('firstTabstop', 0),\n        defaulted('useTabstopAt', always),\n        option('visibilitySelector')\n      ].concat([cyclicField]);\n      var isVisible = function (tabbingConfig, element) {\n        var target = tabbingConfig.visibilitySelector.bind(function (sel) {\n          return closest$1(element, sel);\n        }).getOr(element);\n        return get$b(target) > 0;\n      };\n      var findInitial = function (component, tabbingConfig) {\n        var tabstops = descendants(component.element, tabbingConfig.selector);\n        var visibles = filter$2(tabstops, function (elem) {\n          return isVisible(tabbingConfig, elem);\n        });\n        return Optional.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      var findCurrent = function (component, tabbingConfig) {\n        return tabbingConfig.focusManager.get(component).bind(function (elem) {\n          return closest$1(elem, tabbingConfig.selector);\n        });\n      };\n      var isTabstop = function (tabbingConfig, element) {\n        return isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      };\n      var focusIn = function (component, tabbingConfig, _tabbingState) {\n        findInitial(component, tabbingConfig).each(function (target) {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      var goFromTabstop = function (component, tabstops, stopIndex, tabbingConfig, cycle) {\n        return cycle(tabstops, stopIndex, function (elem) {\n          return isTabstop(tabbingConfig, elem);\n        }).fold(function () {\n          return tabbingConfig.cyclic ? Optional.some(true) : Optional.none();\n        }, function (target) {\n          tabbingConfig.focusManager.set(component, target);\n          return Optional.some(true);\n        });\n      };\n      var go = function (component, _simulatedEvent, tabbingConfig, cycle) {\n        var tabstops = descendants(component.element, tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(function (tabstop) {\n          var optStopIndex = findIndex$1(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(function (stopIndex) {\n            return goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle);\n          });\n        });\n      };\n      var goBackwards = function (component, simulatedEvent, tabbingConfig) {\n        var navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      var goForwards = function (component, simulatedEvent, tabbingConfig) {\n        var navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      var execute = function (component, simulatedEvent, tabbingConfig) {\n        return tabbingConfig.onEnter.bind(function (f) {\n          return f(component, simulatedEvent);\n        });\n      };\n      var exit = function (component, simulatedEvent, tabbingConfig) {\n        return tabbingConfig.onEscape.bind(function (f) {\n          return f(component, simulatedEvent);\n        });\n      };\n      var getKeydownRules = constant$1([\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), goBackwards),\n        rule(inSet(TAB), goForwards),\n        rule(inSet(ESCAPE), exit),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), execute)\n      ]);\n      var getKeyupRules = constant$1([]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, function () {\n        return Optional.some(focusIn);\n      });\n    };\n\n    var AcyclicType = create$5(customField('cyclic', never));\n\n    var CyclicType = create$5(customField('cyclic', always));\n\n    var doDefaultExecute = function (component, _simulatedEvent, focused) {\n      dispatch(component, focused, execute$5());\n      return Optional.some(true);\n    };\n    var defaultExecute = function (component, simulatedEvent, focused) {\n      var isComplex = inside(focused) && inSet(SPACE)(simulatedEvent.event);\n      return isComplex ? Optional.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    var stopEventForFirefox = function (_component, _simulatedEvent) {\n      return Optional.some(true);\n    };\n\n    var schema$v = [\n      defaulted('execute', defaultExecute),\n      defaulted('useSpace', false),\n      defaulted('useEnter', true),\n      defaulted('useControlEnter', false),\n      defaulted('useDown', false)\n    ];\n    var execute$4 = function (component, simulatedEvent, executeConfig) {\n      return executeConfig.execute(component, simulatedEvent, component.element);\n    };\n    var getKeydownRules$5 = function (component, _simulatedEvent, executeConfig, _executeState) {\n      var spaceExec = executeConfig.useSpace && !inside(component.element) ? SPACE : [];\n      var enterExec = executeConfig.useEnter ? ENTER : [];\n      var downExec = executeConfig.useDown ? DOWN : [];\n      var execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$4)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER)\n        ]), execute$4)] : []);\n    };\n    var getKeyupRules$5 = function (component, _simulatedEvent, executeConfig, _executeState) {\n      return executeConfig.useSpace && !inside(component.element) ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    };\n    var ExecutionType = typical(schema$v, NoState.init, getKeydownRules$5, getKeyupRules$5, function () {\n      return Optional.none();\n    });\n\n    var flatgrid$1 = function () {\n      var dimensions = value$1();\n      var setGridSize = function (numRows, numColumns) {\n        dimensions.set({\n          numRows: numRows,\n          numColumns: numColumns\n        });\n      };\n      var getNumRows = function () {\n        return dimensions.get().map(function (d) {\n          return d.numRows;\n        });\n      };\n      var getNumColumns = function () {\n        return dimensions.get().map(function (d) {\n          return d.numColumns;\n        });\n      };\n      return nu$8({\n        readState: function () {\n          return dimensions.get().map(function (d) {\n            return {\n              numRows: String(d.numRows),\n              numColumns: String(d.numColumns)\n            };\n          }).getOr({\n            numRows: '?',\n            numColumns: '?'\n          });\n        },\n        setGridSize: setGridSize,\n        getNumRows: getNumRows,\n        getNumColumns: getNumColumns\n      });\n    };\n    var init$d = function (spec) {\n      return spec.state(spec);\n    };\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        flatgrid: flatgrid$1,\n        init: init$d\n    });\n\n    var useH = function (movement) {\n      return function (component, simulatedEvent, config, state) {\n        var move = movement(component.element);\n        return use(move, component, simulatedEvent, config, state);\n      };\n    };\n    var west$1 = function (moveLeft, moveRight) {\n      var movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    var east$1 = function (moveLeft, moveRight) {\n      var movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    var useV = function (move) {\n      return function (component, simulatedEvent, config, state) {\n        return use(move, component, simulatedEvent, config, state);\n      };\n    };\n    var use = function (move, component, simulatedEvent, config, state) {\n      var outcome = config.focusManager.get(component).bind(function (focused) {\n        return move(component.element, focused, config, state);\n      });\n      return outcome.map(function (newFocus) {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    var north$1 = useV;\n    var south$1 = useV;\n    var move$1 = useV;\n\n    var isHidden$1 = function (dom) {\n      return dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    };\n    var isVisible = function (element) {\n      return !isHidden$1(element.dom);\n    };\n\n    var locate = function (candidates, predicate) {\n      return findIndex$1(candidates, predicate).map(function (index) {\n        return {\n          index: index,\n          candidates: candidates\n        };\n      });\n    };\n\n    var locateVisible = function (container, current, selector) {\n      var predicate = function (x) {\n        return eq(x, current);\n      };\n      var candidates = descendants(container, selector);\n      var visible = filter$2(candidates, isVisible);\n      return locate(visible, predicate);\n    };\n    var findIndex = function (elements, target) {\n      return findIndex$1(elements, function (elem) {\n        return eq(target, elem);\n      });\n    };\n\n    var withGrid = function (values, index, numCols, f) {\n      var oldRow = Math.floor(index / numCols);\n      var oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(function (address) {\n        var newIndex = address.row * numCols + address.column;\n        return newIndex >= 0 && newIndex < values.length ? Optional.some(values[newIndex]) : Optional.none();\n      });\n    };\n    var cycleHorizontal$1 = function (values, index, numRows, numCols, delta) {\n      return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n        var onLastRow = oldRow === numRows - 1;\n        var colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n        var newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n        return Optional.some({\n          row: oldRow,\n          column: newColumn\n        });\n      });\n    };\n    var cycleVertical$1 = function (values, index, numRows, numCols, delta) {\n      return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n        var newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n        var onLastRow = newRow === numRows - 1;\n        var colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n        var newCol = clamp$1(oldColumn, 0, colsInRow - 1);\n        return Optional.some({\n          row: newRow,\n          column: newCol\n        });\n      });\n    };\n    var cycleRight$1 = function (values, index, numRows, numCols) {\n      return cycleHorizontal$1(values, index, numRows, numCols, +1);\n    };\n    var cycleLeft$1 = function (values, index, numRows, numCols) {\n      return cycleHorizontal$1(values, index, numRows, numCols, -1);\n    };\n    var cycleUp$1 = function (values, index, numRows, numCols) {\n      return cycleVertical$1(values, index, numRows, numCols, -1);\n    };\n    var cycleDown$1 = function (values, index, numRows, numCols) {\n      return cycleVertical$1(values, index, numRows, numCols, +1);\n    };\n\n    var schema$u = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('captureTab', false),\n      initSize()\n    ];\n    var focusIn$3 = function (component, gridConfig, _gridState) {\n      descendant(component.element, gridConfig.selector).each(function (first) {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    var findCurrent$1 = function (component, gridConfig) {\n      return gridConfig.focusManager.get(component).bind(function (elem) {\n        return closest$1(elem, gridConfig.selector);\n      });\n    };\n    var execute$3 = function (component, simulatedEvent, gridConfig, _gridState) {\n      return findCurrent$1(component, gridConfig).bind(function (focused) {\n        return gridConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var doMove$2 = function (cycle) {\n      return function (element, focused, gridConfig, gridState) {\n        return locateVisible(element, focused, gridConfig.selector).bind(function (identified) {\n          return cycle(identified.candidates, identified.index, gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns));\n        });\n      };\n    };\n    var handleTab = function (_component, _simulatedEvent, gridConfig) {\n      return gridConfig.captureTab ? Optional.some(true) : Optional.none();\n    };\n    var doEscape$1 = function (component, simulatedEvent, gridConfig) {\n      return gridConfig.onEscape(component, simulatedEvent);\n    };\n    var moveLeft$3 = doMove$2(cycleLeft$1);\n    var moveRight$3 = doMove$2(cycleRight$1);\n    var moveNorth$1 = doMove$2(cycleUp$1);\n    var moveSouth$1 = doMove$2(cycleDown$1);\n    var getKeydownRules$4 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT), east$1(moveLeft$3, moveRight$3)),\n      rule(inSet(UP), north$1(moveNorth$1)),\n      rule(inSet(DOWN), south$1(moveSouth$1)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(inSet(ESCAPE), doEscape$1),\n      rule(inSet(SPACE.concat(ENTER)), execute$3)\n    ]);\n    var getKeyupRules$4 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var FlatgridType = typical(schema$u, flatgrid$1, getKeydownRules$4, getKeyupRules$4, function () {\n      return Optional.some(focusIn$3);\n    });\n\n    var horizontal = function (container, selector, current, delta) {\n      var isDisabledButton = function (candidate) {\n        return name$2(candidate) === 'button' && get$d(candidate, 'disabled') === 'disabled';\n      };\n      var tryCycle = function (initial, index, candidates) {\n        var newIndex = cycleBy(index, delta, 0, candidates.length - 1);\n        if (newIndex === initial) {\n          return Optional.none();\n        } else {\n          return isDisabledButton(candidates[newIndex]) ? tryCycle(initial, newIndex, candidates) : Optional.from(candidates[newIndex]);\n        }\n      };\n      return locateVisible(container, current, selector).bind(function (identified) {\n        var index = identified.index;\n        var candidates = identified.candidates;\n        return tryCycle(index, index, candidates);\n      });\n    };\n\n    var schema$t = [\n      required$1('selector'),\n      defaulted('getInitial', Optional.none),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('executeOnMove', false),\n      defaulted('allowVertical', true)\n    ];\n    var findCurrent = function (component, flowConfig) {\n      return flowConfig.focusManager.get(component).bind(function (elem) {\n        return closest$1(elem, flowConfig.selector);\n      });\n    };\n    var execute$2 = function (component, simulatedEvent, flowConfig) {\n      return findCurrent(component, flowConfig).bind(function (focused) {\n        return flowConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var focusIn$2 = function (component, flowConfig, _state) {\n      flowConfig.getInitial(component).orThunk(function () {\n        return descendant(component.element, flowConfig.selector);\n      }).each(function (first) {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    var moveLeft$2 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, -1);\n    };\n    var moveRight$2 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, +1);\n    };\n    var doMove$1 = function (movement) {\n      return function (component, simulatedEvent, flowConfig, flowState) {\n        return movement(component, simulatedEvent, flowConfig, flowState).bind(function () {\n          return flowConfig.executeOnMove ? execute$2(component, simulatedEvent, flowConfig) : Optional.some(true);\n        });\n      };\n    };\n    var doEscape = function (component, simulatedEvent, flowConfig) {\n      return flowConfig.onEscape(component, simulatedEvent);\n    };\n    var getKeydownRules$3 = function (_component, _se, flowConfig, _flowState) {\n      var westMovers = LEFT.concat(flowConfig.allowVertical ? UP : []);\n      var eastMovers = RIGHT.concat(flowConfig.allowVertical ? DOWN : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$1(moveLeft$2, moveRight$2))),\n        rule(inSet(eastMovers), doMove$1(east$1(moveLeft$2, moveRight$2))),\n        rule(inSet(ENTER), execute$2),\n        rule(inSet(SPACE), execute$2),\n        rule(inSet(ESCAPE), doEscape)\n      ];\n    };\n    var getKeyupRules$3 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var FlowType = typical(schema$t, NoState.init, getKeydownRules$3, getKeyupRules$3, function () {\n      return Optional.some(focusIn$2);\n    });\n\n    var toCell = function (matrix, rowIndex, columnIndex) {\n      return Optional.from(matrix[rowIndex]).bind(function (row) {\n        return Optional.from(row[columnIndex]).map(function (cell) {\n          return {\n            rowIndex: rowIndex,\n            columnIndex: columnIndex,\n            cell: cell\n          };\n        });\n      });\n    };\n    var cycleHorizontal = function (matrix, rowIndex, startCol, deltaCol) {\n      var row = matrix[rowIndex];\n      var colsInRow = row.length;\n      var newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    var cycleVertical = function (matrix, colIndex, startRow, deltaRow) {\n      var nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      var colsInNextRow = matrix[nextRowIndex].length;\n      var nextColIndex = clamp$1(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    var moveHorizontal = function (matrix, rowIndex, startCol, deltaCol) {\n      var row = matrix[rowIndex];\n      var colsInRow = row.length;\n      var newColIndex = clamp$1(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    var moveVertical = function (matrix, colIndex, startRow, deltaRow) {\n      var nextRowIndex = clamp$1(startRow + deltaRow, 0, matrix.length - 1);\n      var colsInNextRow = matrix[nextRowIndex].length;\n      var nextColIndex = clamp$1(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    var cycleRight = function (matrix, startRow, startCol) {\n      return cycleHorizontal(matrix, startRow, startCol, +1);\n    };\n    var cycleLeft = function (matrix, startRow, startCol) {\n      return cycleHorizontal(matrix, startRow, startCol, -1);\n    };\n    var cycleUp = function (matrix, startRow, startCol) {\n      return cycleVertical(matrix, startCol, startRow, -1);\n    };\n    var cycleDown = function (matrix, startRow, startCol) {\n      return cycleVertical(matrix, startCol, startRow, +1);\n    };\n    var moveLeft$1 = function (matrix, startRow, startCol) {\n      return moveHorizontal(matrix, startRow, startCol, -1);\n    };\n    var moveRight$1 = function (matrix, startRow, startCol) {\n      return moveHorizontal(matrix, startRow, startCol, +1);\n    };\n    var moveUp$1 = function (matrix, startRow, startCol) {\n      return moveVertical(matrix, startCol, startRow, -1);\n    };\n    var moveDown$1 = function (matrix, startRow, startCol) {\n      return moveVertical(matrix, startCol, startRow, +1);\n    };\n\n    var schema$s = [\n      requiredObjOf('selectors', [\n        required$1('row'),\n        required$1('cell')\n      ]),\n      defaulted('cycles', true),\n      defaulted('previousSelector', Optional.none),\n      defaulted('execute', defaultExecute)\n    ];\n    var focusIn$1 = function (component, matrixConfig, _state) {\n      var focused = matrixConfig.previousSelector(component).orThunk(function () {\n        var selectors = matrixConfig.selectors;\n        return descendant(component.element, selectors.cell);\n      });\n      focused.each(function (cell) {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    var execute$1 = function (component, simulatedEvent, matrixConfig) {\n      return search(component.element).bind(function (focused) {\n        return matrixConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var toMatrix = function (rows, matrixConfig) {\n      return map$2(rows, function (row) {\n        return descendants(row, matrixConfig.selectors.cell);\n      });\n    };\n    var doMove = function (ifCycle, ifMove) {\n      return function (element, focused, matrixConfig) {\n        var move = matrixConfig.cycles ? ifCycle : ifMove;\n        return closest$1(focused, matrixConfig.selectors.row).bind(function (inRow) {\n          var cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n          return findIndex(cellsInRow, focused).bind(function (colIndex) {\n            var allRows = descendants(element, matrixConfig.selectors.row);\n            return findIndex(allRows, inRow).bind(function (rowIndex) {\n              var matrix = toMatrix(allRows, matrixConfig);\n              return move(matrix, rowIndex, colIndex).map(function (next) {\n                return next.cell;\n              });\n            });\n          });\n        });\n      };\n    };\n    var moveLeft = doMove(cycleLeft, moveLeft$1);\n    var moveRight = doMove(cycleRight, moveRight$1);\n    var moveNorth = doMove(cycleUp, moveUp$1);\n    var moveSouth = doMove(cycleDown, moveDown$1);\n    var getKeydownRules$2 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft, moveRight)),\n      rule(inSet(RIGHT), east$1(moveLeft, moveRight)),\n      rule(inSet(UP), north$1(moveNorth)),\n      rule(inSet(DOWN), south$1(moveSouth)),\n      rule(inSet(SPACE.concat(ENTER)), execute$1)\n    ]);\n    var getKeyupRules$2 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MatrixType = typical(schema$s, NoState.init, getKeydownRules$2, getKeyupRules$2, function () {\n      return Optional.some(focusIn$1);\n    });\n\n    var schema$r = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      defaulted('moveOnTab', false)\n    ];\n    var execute = function (component, simulatedEvent, menuConfig) {\n      return menuConfig.focusManager.get(component).bind(function (focused) {\n        return menuConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var focusIn = function (component, menuConfig, _state) {\n      descendant(component.element, menuConfig.selector).each(function (first) {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    var moveUp = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, -1);\n    };\n    var moveDown = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, +1);\n    };\n    var fireShiftTab = function (component, simulatedEvent, menuConfig, menuState) {\n      return menuConfig.moveOnTab ? move$1(moveUp)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    };\n    var fireTab = function (component, simulatedEvent, menuConfig, menuState) {\n      return menuConfig.moveOnTab ? move$1(moveDown)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    };\n    var getKeydownRules$1 = constant$1([\n      rule(inSet(UP), move$1(moveUp)),\n      rule(inSet(DOWN), move$1(moveDown)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), fireTab),\n      rule(inSet(ENTER), execute),\n      rule(inSet(SPACE), execute)\n    ]);\n    var getKeyupRules$1 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MenuType = typical(schema$r, NoState.init, getKeydownRules$1, getKeyupRules$1, function () {\n      return Optional.some(focusIn);\n    });\n\n    var schema$q = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted('stopSpaceKeyup', false),\n      option('focusIn')\n    ];\n    var getKeydownRules = function (component, simulatedEvent, specialInfo) {\n      return [\n        rule(inSet(SPACE), specialInfo.onSpace),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), specialInfo.onEnter),\n        rule(and([\n          isShift,\n          inSet(ENTER)\n        ]), specialInfo.onShiftEnter),\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), specialInfo.onShiftTab),\n        rule(and([\n          isNotShift,\n          inSet(TAB)\n        ]), specialInfo.onTab),\n        rule(inSet(UP), specialInfo.onUp),\n        rule(inSet(DOWN), specialInfo.onDown),\n        rule(inSet(LEFT), specialInfo.onLeft),\n        rule(inSet(RIGHT), specialInfo.onRight),\n        rule(inSet(SPACE), specialInfo.onSpace),\n        rule(inSet(ESCAPE), specialInfo.onEscape)\n      ];\n    };\n    var getKeyupRules = function (component, simulatedEvent, specialInfo) {\n      return specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    };\n    var SpecialType = typical(schema$q, NoState.init, getKeydownRules, getKeyupRules, function (specialInfo) {\n      return specialInfo.focusIn;\n    });\n\n    var acyclic = AcyclicType.schema();\n    var cyclic = CyclicType.schema();\n    var flow = FlowType.schema();\n    var flatgrid = FlatgridType.schema();\n    var matrix = MatrixType.schema();\n    var execution = ExecutionType.schema();\n    var menu = MenuType.schema();\n    var special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    var isFlatgridState = function (keyState) {\n      return hasNonNullableKey(keyState, 'setGridSize');\n    };\n    var Keying = createModes({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: function (keyingConfig, keyingState) {\n          var handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: function (component, keyConfig, keyState) {\n          keyConfig.sendFocusIn(keyConfig).fold(function () {\n            component.getSystem().triggerFocus(component.element, component.element);\n          }, function (sendFocusIn) {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: function (component, keyConfig, keyState, numRows, numColumns) {\n          if (!isFlatgridState(keyState)) {\n            console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    var set$2 = function (component, replaceConfig, replaceState, data) {\n      preserve$1(function () {\n        var newChildren = map$2(data, component.getSystem().build);\n        replaceChildren(component, newChildren);\n      }, component.element);\n    };\n    var insert = function (component, replaceConfig, insertion, childSpec) {\n      var child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    var append = function (component, replaceConfig, replaceState, appendee) {\n      insert(component, replaceConfig, append$2, appendee);\n    };\n    var prepend = function (component, replaceConfig, replaceState, prependee) {\n      insert(component, replaceConfig, prepend$1, prependee);\n    };\n    var remove = function (component, replaceConfig, replaceState, removee) {\n      var children = contents(component);\n      var foundChild = find$5(children, function (child) {\n        return eq(removee.element, child.element);\n      });\n      foundChild.each(detach);\n    };\n    var contents = function (component, _replaceConfig) {\n      return component.components();\n    };\n    var replaceAt = function (component, replaceConfig, replaceState, replaceeIndex, replacer) {\n      var children = contents(component);\n      return Optional.from(children[replaceeIndex]).map(function (replacee) {\n        remove(component, replaceConfig, replaceState, replacee);\n        replacer.each(function (r) {\n          insert(component, replaceConfig, function (p, c) {\n            appendAt(p, c, replaceeIndex);\n          }, r);\n        });\n        return replacee;\n      });\n    };\n    var replaceBy = function (component, replaceConfig, replaceState, replaceePred, replacer) {\n      var children = contents(component);\n      return findIndex$1(children, replaceePred).bind(function (replaceeIndex) {\n        return replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer);\n      });\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        append: append,\n        prepend: prepend,\n        remove: remove,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$2,\n        contents: contents\n    });\n\n    var Replacing = create$7({\n      fields: [],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    var events$d = function (name, eventHandlers) {\n      var events = derive$2(eventHandlers);\n      return create$7({\n        fields: [required$1('enabled')],\n        name: name,\n        active: { events: constant$1(events) }\n      });\n    };\n    var config = function (name, eventHandlers) {\n      var me = events$d(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me: me,\n          configAsRaw: constant$1({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    var focus$2 = function (component, focusConfig) {\n      if (!focusConfig.ignore) {\n        focus$3(component.element);\n        focusConfig.onFocus(component);\n      }\n    };\n    var blur = function (component, focusConfig) {\n      if (!focusConfig.ignore) {\n        blur$1(component.element);\n      }\n    };\n    var isFocused = function (component) {\n      return hasFocus(component.element);\n    };\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        focus: focus$2,\n        blur: blur,\n        isFocused: isFocused\n    });\n\n    var exhibit$4 = function (base, focusConfig) {\n      var mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$7(mod);\n    };\n    var events$c = function (focusConfig) {\n      return derive$2([run$1(focus$4(), function (component, simulatedEvent) {\n          focus$2(component, focusConfig);\n          simulatedEvent.stop();\n        })].concat(focusConfig.stopMousedown ? [run$1(mousedown(), function (_, simulatedEvent) {\n          simulatedEvent.event.prevent();\n        })] : []));\n    };\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$4,\n        events: events$c\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted('stopMousedown', false),\n      defaulted('ignore', false)\n    ];\n\n    var Focusing = create$7({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    var SetupBehaviourCellState = function (initialState) {\n      var init = function () {\n        var cell = Cell(initialState);\n        var get = function () {\n          return cell.get();\n        };\n        var set = function (newState) {\n          return cell.set(newState);\n        };\n        var clear = function () {\n          return cell.set(initialState);\n        };\n        var readState = function () {\n          return cell.get();\n        };\n        return {\n          get: get,\n          set: set,\n          clear: clear,\n          readState: readState\n        };\n      };\n      return { init: init };\n    };\n\n    var updateAriaState = function (component, toggleConfig, toggleState) {\n      var ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    var updateClass = function (component, toggleConfig, toggleState) {\n      toggleConfig.toggleClass.each(function (toggleClass) {\n        if (toggleState.get()) {\n          add$2(component.element, toggleClass);\n        } else {\n          remove$2(component.element, toggleClass);\n        }\n      });\n    };\n    var toggle$2 = function (component, toggleConfig, toggleState) {\n      set$1(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    var on = function (component, toggleConfig, toggleState) {\n      toggleState.set(true);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    var off = function (component, toggleConfig, toggleState) {\n      toggleState.set(false);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    var set$1 = function (component, toggleConfig, toggleState, state) {\n      var action = state ? on : off;\n      action(component, toggleConfig, toggleState);\n    };\n    var isOn = function (component, toggleConfig, toggleState) {\n      return toggleState.get();\n    };\n    var onLoad = function (component, toggleConfig, toggleState) {\n      set$1(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad,\n        toggle: toggle$2,\n        isOn: isOn,\n        on: on,\n        off: off,\n        set: set$1\n    });\n\n    var exhibit$3 = function () {\n      return nu$7({});\n    };\n    var events$b = function (toggleConfig, toggleState) {\n      var execute = executeEvent(toggleConfig, toggleState, toggle$2);\n      var load = loadEvent(toggleConfig, toggleState, onLoad);\n      return derive$2(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$3,\n        events: events$b\n    });\n\n    var updatePressed = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    var updateSelected = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-selected', status);\n    };\n    var updateChecked = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-checked', status);\n    };\n    var updateExpanded = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted('selected', false),\n      option('toggleClass'),\n      defaulted('toggleOnExecute', true),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted('syncWithExpanded', false),\n          output$1('update', updatePressed)\n        ],\n        checked: [output$1('update', updateChecked)],\n        expanded: [output$1('update', updateExpanded)],\n        selected: [output$1('update', updateSelected)],\n        none: [output$1('update', noop)]\n      }))\n    ];\n\n    var Toggling = create$7({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    var pointerEvents = function () {\n      var onClick = function (component, simulatedEvent) {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      return [\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        cutter(touchstart()),\n        cutter(mousedown())\n      ];\n    };\n    var events$a = function (optAction) {\n      var executeHandler = function (action) {\n        return runOnExecute$1(function (component, simulatedEvent) {\n          action(component);\n          simulatedEvent.stop();\n        });\n      };\n      return derive$2(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents()\n      ]));\n    };\n\n    var hoverEvent = 'alloy.item-hover';\n    var focusEvent = 'alloy.item-focus';\n    var onHover = function (item) {\n      if (search(item.element).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item: item });\n      }\n    };\n    var onFocus$1 = function (item) {\n      emitWith(item, focusEvent, { item: item });\n    };\n    var hover = constant$1(hoverEvent);\n    var focus$1 = constant$1(focusEvent);\n\n    var builder$2 = function (detail) {\n      return {\n        dom: detail.dom,\n        domModification: __assign(__assign({}, detail.domModification), { attributes: __assign(__assign(__assign({ 'role': detail.toggling.isSome() ? 'menuitemcheckbox' : 'menuitem' }, detail.domModification.attributes), { 'aria-haspopup': detail.hasSubmenu }), detail.hasSubmenu ? { 'aria-expanded': false } : {}) }),\n        behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n          detail.toggling.fold(Toggling.revoke, function (tConfig) {\n            return Toggling.config(__assign({ aria: { mode: 'checked' } }, tConfig));\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            stopMousedown: detail.ignoreFocus,\n            onFocus: function (component) {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({ mode: 'execution' }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          config('item-type-events', __spreadArray(__spreadArray([], pointerEvents(), true), [\n            run$1(mouseover(), onHover),\n            run$1(focusItem(), Focusing.focus)\n          ], false))\n        ]),\n        components: detail.components,\n        eventOrder: detail.eventOrder\n      };\n    };\n    var schema$p = [\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('hasSubmenu', false),\n      option('toggling'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted('ignoreFocus', false),\n      defaulted('domModification', {}),\n      output$1('builder', builder$2),\n      defaulted('eventOrder', {})\n    ];\n\n    var builder$1 = function (detail) {\n      return {\n        dom: detail.dom,\n        components: detail.components,\n        events: derive$2([stopper(focusItem())])\n      };\n    };\n    var schema$o = [\n      required$1('dom'),\n      required$1('components'),\n      output$1('builder', builder$1)\n    ];\n\n    var owner$2 = constant$1('item-widget');\n    var parts$h = constant$1([required({\n        name: 'widget',\n        overrides: function (detail) {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: function (_component) {\n                    return detail.data;\n                  },\n                  setValue: noop\n                }\n              })])\n          };\n        }\n      })]);\n\n    var builder = function (detail) {\n      var subs = substitutes(owner$2(), detail, parts$h());\n      var components = components$1(owner$2(), detail, subs.internals());\n      var focusWidget = function (component) {\n        return getPart(component, detail, 'widget').map(function (widget) {\n          Keying.focusIn(widget);\n          return widget;\n        });\n      };\n      var onHorizontalArrow = function (component, simulatedEvent) {\n        return inside(simulatedEvent.event.target) ? Optional.none() : function () {\n          if (detail.autofocus) {\n            simulatedEvent.setSource(component.element);\n            return Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }();\n      };\n      return {\n        dom: detail.dom,\n        components: components,\n        domModification: detail.domModification,\n        events: derive$2([\n          runOnExecute$1(function (component, simulatedEvent) {\n            focusWidget(component).each(function (_widget) {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), function (component, _simulatedEvent) {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: function (component) {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? function (component) {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: function (component, simulatedEvent) {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Optional.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element);\n                return Optional.none();\n              } else {\n                return Optional.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    var schema$n = [\n      required$1('uid'),\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('autofocus', false),\n      defaulted('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted('domModification', {}),\n      defaultUidsSchema(parts$h()),\n      output$1('builder', builder)\n    ];\n\n    var itemSchema$2 = choose$1('type', {\n      widget: schema$n,\n      item: schema$p,\n      separator: schema$o\n    });\n    var configureGrid = function (detail, movementInfo) {\n      return {\n        mode: 'flatgrid',\n        selector: '.' + detail.markers.item,\n        initSize: {\n          numColumns: movementInfo.initSize.numColumns,\n          numRows: movementInfo.initSize.numRows\n        },\n        focusManager: detail.focusManager\n      };\n    };\n    var configureMatrix = function (detail, movementInfo) {\n      return {\n        mode: 'matrix',\n        selectors: {\n          row: movementInfo.rowSelector,\n          cell: '.' + detail.markers.item\n        },\n        focusManager: detail.focusManager\n      };\n    };\n    var configureMenu = function (detail, movementInfo) {\n      return {\n        mode: 'menu',\n        selector: '.' + detail.markers.item,\n        moveOnTab: movementInfo.moveOnTab,\n        focusManager: detail.focusManager\n      };\n    };\n    var parts$g = constant$1([group({\n        factory: {\n          sketch: function (spec) {\n            var itemInfo = asRawOrDie$1('menu.spec item', itemSchema$2, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: function (detail, u) {\n          return has$2(u, 'uid') ? u : __assign(__assign({}, u), { uid: generate$5('item') });\n        },\n        overrides: function (detail, u) {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    var schema$m = constant$1([\n      required$1('value'),\n      required$1('items'),\n      required$1('dom'),\n      required$1('components'),\n      defaulted('eventOrder', {}),\n      field('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output$1('config', configureGrid)\n        ],\n        matrix: [\n          output$1('config', configureMatrix),\n          required$1('rowSelector')\n        ],\n        menu: [\n          defaulted('moveOnTab', true),\n          output$1('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted('fakeFocus', false),\n      defaulted('focusManager', dom$2()),\n      onHandler('onHighlight')\n    ]);\n\n    var focus = constant$1('alloy.menu-focus');\n\n    var make$7 = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.menuBehaviours, [\n          Highlighting.config({\n            highlightClass: detail.markers.selectedItem,\n            itemClass: detail.markers.item,\n            onHighlight: detail.onHighlight\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.value\n            }\n          }),\n          Composing.config({ find: Optional.some }),\n          Keying.config(detail.movement.config(detail, detail.movement))\n        ]),\n        events: derive$2([\n          run$1(focus$1(), function (menu, simulatedEvent) {\n            var event = simulatedEvent.event;\n            menu.getSystem().getByDom(event.target).each(function (item) {\n              Highlighting.highlight(menu, item);\n              simulatedEvent.stop();\n              emitWith(menu, focus(), {\n                menu: menu,\n                item: item\n              });\n            });\n          }),\n          run$1(hover(), function (menu, simulatedEvent) {\n            var item = simulatedEvent.event.item;\n            Highlighting.highlight(menu, item);\n          })\n        ]),\n        components: components,\n        eventOrder: detail.eventOrder,\n        domModification: { attributes: { role: 'menu' } }\n      };\n    };\n\n    var Menu = composite({\n      name: 'Menu',\n      configFields: schema$m(),\n      partFields: parts$g(),\n      factory: make$7\n    });\n\n    var transpose$1 = function (obj) {\n      return tupleMap(obj, function (v, k) {\n        return {\n          k: v,\n          v: k\n        };\n      });\n    };\n    var trace = function (items, byItem, byMenu, finish) {\n      return get$e(byMenu, finish).bind(function (triggerItem) {\n        return get$e(items, triggerItem).bind(function (triggerMenu) {\n          var rest = trace(items, byItem, byMenu, triggerMenu);\n          return Optional.some([triggerMenu].concat(rest));\n        });\n      }).getOr([]);\n    };\n    var generate$2 = function (menus, expansions) {\n      var items = {};\n      each(menus, function (menuItems, menu) {\n        each$1(menuItems, function (item) {\n          items[item] = menu;\n        });\n      });\n      var byItem = expansions;\n      var byMenu = transpose$1(expansions);\n      var menuPaths = map$1(byMenu, function (_triggerItem, submenu) {\n        return [submenu].concat(trace(items, byItem, byMenu, submenu));\n      });\n      return map$1(items, function (menu) {\n        return get$e(menuPaths, menu).getOr([menu]);\n      });\n    };\n\n    var init$c = function () {\n      var expansions = Cell({});\n      var menus = Cell({});\n      var paths = Cell({});\n      var primary = value$1();\n      var directory = Cell({});\n      var clear = function () {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.clear();\n      };\n      var isClear = function () {\n        return primary.get().isNone();\n      };\n      var setMenuBuilt = function (menuName, built) {\n        var _a;\n        menus.set(__assign(__assign({}, menus.get()), (_a = {}, _a[menuName] = {\n          type: 'prepared',\n          menu: built\n        }, _a)));\n      };\n      var setContents = function (sPrimary, sMenus, sExpansions, dir) {\n        primary.set(sPrimary);\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        var sPaths = generate$2(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      var getTriggeringItem = function (menuValue) {\n        return find$4(expansions.get(), function (v, _k) {\n          return v === menuValue;\n        });\n      };\n      var getTriggerData = function (menuValue, getItemByValue, path) {\n        return getPreparedMenu(menuValue).bind(function (menu) {\n          return getTriggeringItem(menuValue).bind(function (triggeringItemValue) {\n            return getItemByValue(triggeringItemValue).map(function (triggeredItem) {\n              return {\n                triggeredMenu: menu,\n                triggeringItem: triggeredItem,\n                triggeringPath: path\n              };\n            });\n          });\n        });\n      };\n      var getTriggeringPath = function (itemValue, getItemByValue) {\n        var extraPath = filter$2(lookupItem(itemValue).toArray(), function (menuValue) {\n          return getPreparedMenu(menuValue).isSome();\n        });\n        return get$e(paths.get(), itemValue).bind(function (path) {\n          var revPath = reverse(extraPath.concat(path));\n          var triggers = bind$3(revPath, function (menuValue, menuIndex) {\n            return getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(function () {\n              return is$1(primary.get(), menuValue) ? [] : [Optional.none()];\n            }, function (data) {\n              return [Optional.some(data)];\n            });\n          });\n          return sequence(triggers);\n        });\n      };\n      var expand = function (itemValue) {\n        return get$e(expansions.get(), itemValue).map(function (menu) {\n          var current = get$e(paths.get(), itemValue).getOr([]);\n          return [menu].concat(current);\n        });\n      };\n      var collapse = function (itemValue) {\n        return get$e(paths.get(), itemValue).bind(function (path) {\n          return path.length > 1 ? Optional.some(path.slice(1)) : Optional.none();\n        });\n      };\n      var refresh = function (itemValue) {\n        return get$e(paths.get(), itemValue);\n      };\n      var getPreparedMenu = function (menuValue) {\n        return lookupMenu(menuValue).bind(extractPreparedMenu);\n      };\n      var lookupMenu = function (menuValue) {\n        return get$e(menus.get(), menuValue);\n      };\n      var lookupItem = function (itemValue) {\n        return get$e(expansions.get(), itemValue);\n      };\n      var otherMenus = function (path) {\n        var menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      var getPrimary = function () {\n        return primary.get().bind(getPreparedMenu);\n      };\n      var getMenus = function () {\n        return menus.get();\n      };\n      return {\n        setMenuBuilt: setMenuBuilt,\n        setContents: setContents,\n        expand: expand,\n        refresh: refresh,\n        collapse: collapse,\n        lookupMenu: lookupMenu,\n        lookupItem: lookupItem,\n        otherMenus: otherMenus,\n        getPrimary: getPrimary,\n        getMenus: getMenus,\n        clear: clear,\n        isClear: isClear,\n        getTriggeringPath: getTriggeringPath\n      };\n    };\n    var extractPreparedMenu = function (prep) {\n      return prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n    };\n    var LayeredState = {\n      init: init$c,\n      extractPreparedMenu: extractPreparedMenu\n    };\n\n    var make$6 = function (detail, _rawUiSpec) {\n      var submenuParentItems = value$1();\n      var buildMenus = function (container, primaryName, menus) {\n        return map$1(menus, function (spec, name) {\n          var makeSketch = function () {\n            return Menu.sketch(__assign(__assign({}, spec), {\n              value: name,\n              markers: detail.markers,\n              fakeFocus: detail.fakeFocus,\n              onHighlight: detail.onHighlight,\n              focusManager: detail.fakeFocus ? highlights() : dom$2()\n            }));\n          };\n          return name === primaryName ? {\n            type: 'prepared',\n            menu: container.getSystem().build(makeSketch())\n          } : {\n            type: 'notbuilt',\n            nbMenu: makeSketch\n          };\n        });\n      };\n      var layeredState = LayeredState.init();\n      var setup = function (container) {\n        var componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        var directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      var getItemValue = function (item) {\n        return Representing.getValue(item).value;\n      };\n      var getItemByValue = function (_container, menus, itemValue) {\n        return findMap(menus, function (menu) {\n          if (!menu.getSystem().isConnected()) {\n            return Optional.none();\n          }\n          var candidates = Highlighting.getCandidates(menu);\n          return find$5(candidates, function (c) {\n            return getItemValue(c) === itemValue;\n          });\n        });\n      };\n      var toDirectory = function (_container) {\n        return map$1(detail.data.menus, function (data, _menuName) {\n          return bind$3(data.items, function (item) {\n            return item.type === 'separator' ? [] : [item.data.value];\n          });\n        });\n      };\n      var setActiveMenu = function (container, menu) {\n        Highlighting.highlight(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(function () {\n          return Highlighting.getFirst(menu);\n        }).each(function (item) {\n          dispatch(container, item.element, focusItem());\n        });\n      };\n      var getMenus = function (state, menuValues) {\n        return cat(map$2(menuValues, function (mv) {\n          return state.lookupMenu(mv).bind(function (prep) {\n            return prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n          });\n        }));\n      };\n      var closeOthers = function (container, state, path) {\n        var others = getMenus(state, state.otherMenus(path));\n        each$1(others, function (o) {\n          remove$1(o.element, [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      var getSubmenuParents = function (container) {\n        return submenuParentItems.get().getOrThunk(function () {\n          var r = {};\n          var items = descendants(container.element, '.' + detail.markers.item);\n          var parentItems = filter$2(items, function (i) {\n            return get$d(i, 'aria-haspopup') === 'true';\n          });\n          each$1(parentItems, function (i) {\n            container.getSystem().getByDom(i).each(function (itemComp) {\n              var key = getItemValue(itemComp);\n              r[key] = itemComp;\n            });\n          });\n          submenuParentItems.set(r);\n          return r;\n        });\n      };\n      var updateAriaExpansions = function (container, path) {\n        var parentItems = getSubmenuParents(container);\n        each(parentItems, function (v, k) {\n          var expanded = contains$2(path, k);\n          set$8(v.element, 'aria-expanded', expanded);\n        });\n      };\n      var updateMenuPath = function (container, state, path) {\n        return Optional.from(path[0]).bind(function (latestMenuName) {\n          return state.lookupMenu(latestMenuName).bind(function (menuPrep) {\n            if (menuPrep.type === 'notbuilt') {\n              return Optional.none();\n            } else {\n              var activeMenu = menuPrep.menu;\n              var rest = getMenus(state, path.slice(1));\n              each$1(rest, function (r) {\n                add$2(r.element, detail.markers.backgroundMenu);\n              });\n              if (!inBody(activeMenu.element)) {\n                Replacing.append(container, premade(activeMenu));\n              }\n              remove$1(activeMenu.element, [detail.markers.backgroundMenu]);\n              setActiveMenu(container, activeMenu);\n              closeOthers(container, state, path);\n              return Optional.some(activeMenu);\n            }\n          });\n        });\n      };\n      var ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      var buildIfRequired = function (container, menuName, menuPrep) {\n        if (menuPrep.type === 'notbuilt') {\n          var menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      var expandRight = function (container, item, decision) {\n        if (decision === void 0) {\n          decision = ExpandHighlightDecision.HighlightSubmenu;\n        }\n        if (item.hasConfigured(Disabling) && Disabling.isDisabled(item)) {\n          return Optional.some(item);\n        } else {\n          var value = getItemValue(item);\n          return layeredState.expand(value).bind(function (path) {\n            updateAriaExpansions(container, path);\n            return Optional.from(path[0]).bind(function (menuName) {\n              return layeredState.lookupMenu(menuName).bind(function (activeMenuPrep) {\n                var activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n                if (!inBody(activeMenu.element)) {\n                  Replacing.append(container, premade(activeMenu));\n                }\n                detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n                if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                  Highlighting.highlightFirst(activeMenu);\n                  return updateMenuPath(container, layeredState, path);\n                } else {\n                  Highlighting.dehighlightAll(activeMenu);\n                  return Optional.some(item);\n                }\n              });\n            });\n          });\n        }\n      };\n      var collapseLeft = function (container, item) {\n        var value = getItemValue(item);\n        return layeredState.collapse(value).bind(function (path) {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(function (activeMenu) {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      var updateView = function (container, item) {\n        var value = getItemValue(item);\n        return layeredState.refresh(value).bind(function (path) {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      var onRight = function (container, item) {\n        return inside(item.element) ? Optional.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      };\n      var onLeft = function (container, item) {\n        return inside(item.element) ? Optional.none() : collapseLeft(container, item);\n      };\n      var onEscape = function (container, item) {\n        return collapseLeft(container, item).orThunk(function () {\n          return detail.onEscape(container, item).map(function () {\n            return container;\n          });\n        });\n      };\n      var keyOnItem = function (f) {\n        return function (container, simulatedEvent) {\n          return closest$1(simulatedEvent.getSource(), '.' + detail.markers.item).bind(function (target) {\n            return container.getSystem().getByDom(target).toOptional().bind(function (item) {\n              return f(container, item).map(always);\n            });\n          });\n        };\n      };\n      var events = derive$2([\n        run$1(focus(), function (sandbox, simulatedEvent) {\n          var item = simulatedEvent.event.item;\n          layeredState.lookupItem(getItemValue(item)).each(function () {\n            var menu = simulatedEvent.event.menu;\n            Highlighting.highlight(sandbox, menu);\n            var value = getItemValue(simulatedEvent.event.item);\n            layeredState.refresh(value).each(function (path) {\n              return closeOthers(sandbox, layeredState, path);\n            });\n          });\n        }),\n        runOnExecute$1(function (component, simulatedEvent) {\n          var target = simulatedEvent.event.target;\n          component.getSystem().getByDom(target).each(function (item) {\n            var itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(function () {\n              detail.onExecute(component, item);\n            }, noop);\n          });\n        }),\n        runOnAttached(function (container, _simulatedEvent) {\n          setup(container).each(function (primary) {\n            Replacing.append(container, premade(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightImmediately) {\n              setActiveMenu(container, primary);\n            }\n          });\n        })\n      ].concat(detail.navigateOnHover ? [run$1(hover(), function (sandbox, simulatedEvent) {\n          var item = simulatedEvent.event.item;\n          updateView(sandbox, item);\n          expandRight(sandbox, item, ExpandHighlightDecision.HighlightParent);\n          detail.onHover(sandbox, item);\n        })] : []));\n      var getActiveItem = function (container) {\n        return Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      };\n      var collapseMenuApi = function (container) {\n        getActiveItem(container).each(function (currentItem) {\n          collapseLeft(container, currentItem);\n        });\n      };\n      var highlightPrimary = function (container) {\n        layeredState.getPrimary().each(function (primary) {\n          setActiveMenu(container, primary);\n        });\n      };\n      var extractMenuFromContainer = function (container) {\n        return Optional.from(container.components()[0]).filter(function (comp) {\n          return get$d(comp.element, 'role') === 'menu';\n        });\n      };\n      var repositionMenus = function (container) {\n        var maybeActivePrimary = layeredState.getPrimary().bind(function (primary) {\n          return getActiveItem(container).bind(function (currentItem) {\n            var itemValue = getItemValue(currentItem);\n            var allMenus = values(layeredState.getMenus());\n            var preparedMenus = cat(map$2(allMenus, LayeredState.extractPreparedMenu));\n            return layeredState.getTriggeringPath(itemValue, function (v) {\n              return getItemByValue(container, preparedMenus, v);\n            });\n          }).map(function (triggeringPath) {\n            return {\n              primary: primary,\n              triggeringPath: triggeringPath\n            };\n          });\n        });\n        maybeActivePrimary.fold(function () {\n          extractMenuFromContainer(container).each(function (primaryMenu) {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, function (_a) {\n          var primary = _a.primary, triggeringPath = _a.triggeringPath;\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      var apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary: highlightPrimary,\n        repositionMenus: repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: function (container, _keyInfo) {\n              layeredState.getPrimary().each(function (primary) {\n                dispatch(container, primary.element, focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: function (container) {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis: apis,\n        events: events\n      };\n    };\n    var collapseItem$1 = constant$1('collapse-item');\n\n    var tieredData = function (primary, menus, expansions) {\n      return {\n        primary: primary,\n        menus: menus,\n        expansions: expansions\n      };\n    };\n    var singleData = function (name, menu) {\n      return {\n        primary: name,\n        menus: wrap$1(name, menu),\n        expansions: {}\n      };\n    };\n    var collapseItem = function (text) {\n      return {\n        value: generate$6(collapseItem$1()),\n        meta: { text: text }\n      };\n    };\n    var tieredMenu = single({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted('highlightImmediately', true),\n        requiredObjOf('data', [\n          required$1('primary'),\n          required$1('menus'),\n          required$1('expansions')\n        ]),\n        defaulted('fakeFocus', false),\n        onHandler('onHighlight'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        required$1('dom'),\n        defaulted('navigateOnHover', true),\n        defaulted('stayInDom', false),\n        field('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: function (apis, tmenu) {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: function (apis, tmenu) {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: function (apis, tmenu) {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$6,\n      extraApis: {\n        tieredData: tieredData,\n        singleData: singleData,\n        collapseItem: collapseItem\n      }\n    });\n\n    var makeMenu = function (detail, menuSandbox, placementSpec, menuSpec, getBounds) {\n      var lazySink = function () {\n        return detail.lazySink(menuSandbox);\n      };\n      var layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: function () {\n            return belowOrAbove();\n          },\n          onRtl: function () {\n            return belowOrAboveRtl();\n          }\n        }\n      } : {};\n      var isFirstTierSubmenu = function (triggeringPaths) {\n        return triggeringPaths.length === 2;\n      };\n      var getSubmenuLayouts = function (triggeringPaths) {\n        return isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      };\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        highlightImmediately: menuSpec.menu.highlightImmediately,\n        onEscape: function () {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(function (handler) {\n            return handler(menuSandbox);\n          });\n          return Optional.some(true);\n        },\n        onExecute: function () {\n          return Optional.some(true);\n        },\n        onOpenMenu: function (tmenu, menu) {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), menu, placementSpec, getBounds());\n        },\n        onOpenSubmenu: function (tmenu, item, submenu, triggeringPaths) {\n          var sink = lazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: __assign({\n              type: 'submenu',\n              item: item\n            }, getSubmenuLayouts(triggeringPaths))\n          });\n        },\n        onRepositionMenu: function (tmenu, primaryMenu, submenuTriggers) {\n          var sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, primaryMenu, placementSpec, getBounds());\n          each$1(submenuTriggers, function (st) {\n            var submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: __assign({\n                type: 'submenu',\n                item: st.triggeringItem\n              }, submenuLayouts)\n            });\n          });\n        }\n      });\n    };\n    var factory$m = function (detail, spec) {\n      var isPartOfRelated = function (sandbox, queryElem) {\n        var related = detail.getRelated(sandbox);\n        return related.exists(function (rel) {\n          return isPartOf$1(rel, queryElem);\n        });\n      };\n      var setContent = function (sandbox, thing) {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      var showAt = function (sandbox, thing, placementSpec) {\n        showWithin(sandbox, thing, placementSpec, Optional.none());\n      };\n      var showWithin = function (sandbox, thing, placementSpec, boxElement) {\n        showWithinBounds(sandbox, thing, placementSpec, function () {\n          return boxElement.map(function (elem) {\n            return box$1(elem);\n          });\n        });\n      };\n      var showWithinBounds = function (sandbox, thing, placementSpec, getBounds) {\n        var sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, function () {\n          return Positioning.positionWithinBounds(sink, sandbox, placementSpec, getBounds());\n        });\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'position',\n          config: placementSpec,\n          getBounds: getBounds\n        }));\n      };\n      var showMenuAt = function (sandbox, placementSpec, menuSpec) {\n        showMenuWithinBounds(sandbox, placementSpec, menuSpec, Optional.none);\n      };\n      var showMenuWithinBounds = function (sandbox, placementSpec, menuSpec, getBounds) {\n        var menu = makeMenu(detail, sandbox, placementSpec, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'menu',\n          menu: menu\n        }));\n      };\n      var hide = function (sandbox) {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.setValue(sandbox, Optional.none());\n          Sandboxing.close(sandbox);\n        }\n      };\n      var getContent = function (sandbox) {\n        return Sandboxing.getState(sandbox);\n      };\n      var reposition = function (sandbox) {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(function (state) {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);\n              break;\n            case 'position':\n              var sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, sandbox, state.config, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      var apis = {\n        setContent: setContent,\n        showAt: showAt,\n        showWithin: showWithin,\n        showWithinBounds: showWithinBounds,\n        showMenuAt: showMenuAt,\n        showMenuWithinBounds: showMenuWithinBounds,\n        hide: hide,\n        getContent: getContent,\n        reposition: reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: function (sandbox, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: function (sandbox) {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: function (sandbox) {\n              detail.onShow(sandbox);\n            },\n            onClose: function (sandbox) {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Optional.none()\n            }\n          }),\n          Receiving.config({\n            channels: __assign(__assign({}, receivingChannel$1(__assign({ isExtraPart: spec.isExtraPart }, detail.fireDismissalEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})))), receivingChannel(__assign(__assign({}, detail.fireRepositionEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})), { doReposition: reposition })))\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis: apis\n      };\n    };\n    var InlineView = single({\n      name: 'InlineView',\n      configFields: [\n        required$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted('event', repositionRequested())]),\n        defaulted('getRelated', Optional.none),\n        defaulted('isExtraPart', never),\n        defaulted('eventOrder', Optional.none)\n      ],\n      factory: factory$m,\n      apis: {\n        showAt: function (apis, component, anchor, thing) {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithin: function (apis, component, anchor, thing, boxElement) {\n          apis.showWithin(component, anchor, thing, boxElement);\n        },\n        showWithinBounds: function (apis, component, anchor, thing, bounds) {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: function (apis, component, anchor, menuSpec) {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: function (apis, component, anchor, menuSpec, bounds) {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: function (apis, component) {\n          apis.hide(component);\n        },\n        isOpen: function (apis, component) {\n          return apis.isOpen(component);\n        },\n        getContent: function (apis, component) {\n          return apis.getContent(component);\n        },\n        setContent: function (apis, component, thing) {\n          apis.setContent(component, thing);\n        },\n        reposition: function (apis, component) {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var labelPrefix = 'layout-inset';\n    var westEdgeX = function (anchor) {\n      return anchor.x;\n    };\n    var middleX = function (anchor, element) {\n      return anchor.x + anchor.width / 2 - element.width / 2;\n    };\n    var eastEdgeX = function (anchor, element) {\n      return anchor.x + anchor.width - element.width;\n    };\n    var northY = function (anchor) {\n      return anchor.y;\n    };\n    var southY = function (anchor, element) {\n      return anchor.y + anchor.height - element.height;\n    };\n    var centreY = function (anchor, element) {\n      return anchor.y + anchor.height / 2 - element.height / 2;\n    };\n    var southwest = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), southY(anchor, element), bubbles.insetSouthwest(), northwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 0,\n        bottom: 3\n      }), labelPrefix);\n    };\n    var southeast = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), southY(anchor, element), bubbles.insetSoutheast(), northeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 1,\n        bottom: 3\n      }), labelPrefix);\n    };\n    var northwest = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), northY(anchor), bubbles.insetNorthwest(), southwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 0,\n        top: 2\n      }), labelPrefix);\n    };\n    var northeast = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), northY(anchor), bubbles.insetNortheast(), southeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 1,\n        top: 2\n      }), labelPrefix);\n    };\n    var north = function (anchor, element, bubbles) {\n      return nu$6(middleX(anchor, element), northY(anchor), bubbles.insetNorth(), south$3(), 'north', boundsRestriction(anchor, { top: 2 }), labelPrefix);\n    };\n    var south = function (anchor, element, bubbles) {\n      return nu$6(middleX(anchor, element), southY(anchor, element), bubbles.insetSouth(), north$3(), 'south', boundsRestriction(anchor, { bottom: 3 }), labelPrefix);\n    };\n    var east = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), centreY(anchor, element), bubbles.insetEast(), west$3(), 'east', boundsRestriction(anchor, { right: 0 }), labelPrefix);\n    };\n    var west = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), centreY(anchor, element), bubbles.insetWest(), east$3(), 'west', boundsRestriction(anchor, { left: 1 }), labelPrefix);\n    };\n    var lookupPreserveLayout = function (lastPlacement) {\n      switch (lastPlacement) {\n      case 'north':\n        return north;\n      case 'northeast':\n        return northeast;\n      case 'northwest':\n        return northwest;\n      case 'south':\n        return south;\n      case 'southeast':\n        return southeast;\n      case 'southwest':\n        return southwest;\n      case 'east':\n        return east;\n      case 'west':\n        return west;\n      }\n    };\n    var preserve = function (anchor, element, bubbles, placee, bounds) {\n      var layout = getPlacement(placee).map(lookupPreserveLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n    var lookupFlippedLayout = function (lastPlacement) {\n      switch (lastPlacement) {\n      case 'north':\n        return south;\n      case 'northeast':\n        return southeast;\n      case 'northwest':\n        return southwest;\n      case 'south':\n        return north;\n      case 'southeast':\n        return northeast;\n      case 'southwest':\n        return northwest;\n      case 'east':\n        return west;\n      case 'west':\n        return east;\n      }\n    };\n    var flip$2 = function (anchor, element, bubbles, placee, bounds) {\n      var layout = getPlacement(placee).map(lookupFlippedLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n\n    var global$f = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var factory$l = function (detail) {\n      var events = events$a(detail.action);\n      var tag = detail.dom.tag;\n      var lookupAttr = function (attr) {\n        return get$e(detail.dom, 'attributes').bind(function (attrs) {\n          return get$e(attrs, attr);\n        });\n      };\n      var getModAttributes = function () {\n        if (tag === 'button') {\n          var type = lookupAttr('type').getOr('button');\n          var roleAttrs = lookupAttr('role').map(function (role) {\n            return { role: role };\n          }).getOr({});\n          return __assign({ type: type }, roleAttrs);\n        } else {\n          var role = lookupAttr('role').getOr('button');\n          return { role: role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events: events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Button = single({\n      name: 'Button',\n      factory: factory$l,\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('dom'),\n        defaulted('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option('action'),\n        option('role'),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    var record = function (spec) {\n      var uid = isSketchSpec(spec) && hasNonNullableKey(spec, 'uid') ? spec.uid : generate$5('memento');\n      var get = function (anyInSystem) {\n        return anyInSystem.getSystem().getByUid(uid).getOrDie();\n      };\n      var getOpt = function (anyInSystem) {\n        return anyInSystem.getSystem().getByUid(uid).toOptional();\n      };\n      var asSpec = function () {\n        return __assign(__assign({}, spec), { uid: uid });\n      };\n      return {\n        get: get,\n        getOpt: getOpt,\n        asSpec: asSpec\n      };\n    };\n\n    var global$e = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    var rtlTransform = {\n      'indent': true,\n      'outdent': true,\n      'table-insert-column-after': true,\n      'table-insert-column-before': true,\n      'paste-column-after': true,\n      'paste-column-before': true,\n      'unordered-list': true,\n      'list-bull-circle': true,\n      'list-bull-default': true,\n      'list-bull-square': true\n    };\n    var defaultIconName = 'temporary-placeholder';\n    var defaultIcon = function (icons) {\n      return function () {\n        return get$e(icons, defaultIconName).getOr('!not found!');\n      };\n    };\n    var getIconName = function (name, icons) {\n      var lcName = name.toLowerCase();\n      if (global$e.isRtl()) {\n        var rtlName = ensureTrailing(lcName, '-rtl');\n        return has$2(icons, rtlName) ? rtlName : lcName;\n      } else {\n        return lcName;\n      }\n    };\n    var lookupIcon = function (name, icons) {\n      return get$e(icons, getIconName(name, icons));\n    };\n    var get$1 = function (name, iconProvider) {\n      var icons = iconProvider();\n      return lookupIcon(name, icons).getOrThunk(defaultIcon(icons));\n    };\n    var getOr = function (name, iconProvider, fallbackIcon) {\n      var icons = iconProvider();\n      return lookupIcon(name, icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n    };\n    var needsRtlTransform = function (iconName) {\n      return global$e.isRtl() ? has$2(rtlTransform, iconName) : false;\n    };\n    var addFocusableBehaviour = function () {\n      return config('add-focusable', [runOnAttached(function (comp) {\n          child(comp.element, 'svg').each(function (svg) {\n            return set$8(svg, 'focusable', 'false');\n          });\n        })]);\n    };\n    var renderIcon$2 = function (spec, iconName, icons, fallbackIcon) {\n      var _a, _b;\n      var rtlIconClasses = needsRtlTransform(iconName) ? ['tox-icon--flip'] : [];\n      var iconHtml = get$e(icons, getIconName(iconName, icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n      return {\n        dom: {\n          tag: spec.tag,\n          attributes: (_a = spec.attributes) !== null && _a !== void 0 ? _a : {},\n          classes: spec.classes.concat(rtlIconClasses),\n          innerHtml: iconHtml\n        },\n        behaviours: derive$1(__spreadArray(__spreadArray([], (_b = spec.behaviours) !== null && _b !== void 0 ? _b : [], true), [addFocusableBehaviour()], false))\n      };\n    };\n    var render$3 = function (iconName, spec, iconProvider, fallbackIcon) {\n      if (fallbackIcon === void 0) {\n        fallbackIcon = Optional.none();\n      }\n      return renderIcon$2(spec, iconName, iconProvider(), fallbackIcon);\n    };\n    var renderFirst = function (iconNames, spec, iconProvider) {\n      var icons = iconProvider();\n      var iconName = find$5(iconNames, function (name) {\n        return has$2(icons, getIconName(name, icons));\n      });\n      return renderIcon$2(spec, iconName.getOr(defaultIconName), icons, Optional.none());\n    };\n\n    var notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    var factory$k = function (detail) {\n      var memBannerText = record({\n        dom: {\n          tag: 'p',\n          innerHtml: detail.translationProvider(detail.text)\n        },\n        behaviours: derive$1([Replacing.config({})])\n      });\n      var renderPercentBar = function (percent) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-bar'],\n            attributes: { style: 'width: ' + percent + '%' }\n          }\n        };\n      };\n      var renderPercentText = function (percent) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-text'],\n            innerHtml: percent + '%'\n          }\n        };\n      };\n      var memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      var updateProgress = function (comp, percent) {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(function (progress) {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      var updateText = function (comp, text$1) {\n        if (comp.getSystem().isConnected()) {\n          var banner = memBannerText.get(comp);\n          Replacing.set(banner, [text(text$1)]);\n        }\n      };\n      var apis = {\n        updateProgress: updateProgress,\n        updateText: updateText\n      };\n      var iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(function (level) {\n          return Optional.from(notificationIconMap[level]);\n        }).toArray()\n      ]);\n      var memButton = record(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-notification__dismiss',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ]\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon'],\n            attributes: { 'aria-label': detail.translationProvider('Close') }\n          }, detail.iconProvider)],\n        action: function (comp) {\n          detail.onAction(comp);\n        }\n      }));\n      var notificationIconSpec = renderFirst(iconChoices, {\n        tag: 'div',\n        classes: ['tox-notification__icon']\n      }, detail.iconProvider);\n      var notificationBodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      };\n      var components = [\n        notificationIconSpec,\n        notificationBodySpec\n      ];\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: detail.level.map(function (level) {\n            return [\n              'tox-notification',\n              'tox-notification--in',\n              'tox-notification--' + level\n            ];\n          }).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          config('notification-events', [run$1(focusin(), function (comp) {\n              memButton.getOpt(comp).each(Focusing.focus);\n            })])\n        ]),\n        components: components.concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat(!detail.closeButton ? [] : [memButton.asSpec()]),\n        apis: apis\n      };\n    };\n    var Notification = single({\n      name: 'Notification',\n      factory: factory$k,\n      configFields: [\n        option('level'),\n        required$1('progress'),\n        required$1('icon'),\n        required$1('onAction'),\n        required$1('text'),\n        required$1('iconProvider'),\n        required$1('translationProvider'),\n        defaultedBoolean('closeButton', true)\n      ],\n      apis: {\n        updateProgress: function (apis, comp, percent) {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: function (apis, comp, text) {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    function NotificationManagerImpl (editor, extras, uiMothership) {\n      var sharedBackstage = extras.backstage.shared;\n      var getLayoutDirection = function (rel) {\n        switch (rel) {\n        case 'bc-bc':\n          return south;\n        case 'tc-tc':\n          return north;\n        case 'tc-bc':\n          return north$2;\n        case 'bc-tc':\n        default:\n          return south$2;\n        }\n      };\n      var reposition = function (notifications) {\n        if (notifications.length > 0) {\n          each$1(notifications, function (notification, index) {\n            if (index === 0) {\n              notification.moveRel(null, 'banner');\n            } else {\n              notification.moveRel(notifications[index - 1].getEl(), 'bc-tc');\n            }\n          });\n        }\n      };\n      var open = function (settings, closeCallback) {\n        var hideCloseButton = !settings.closeButton && settings.timeout && (settings.timeout > 0 || settings.timeout < 0);\n        var close = function () {\n          closeCallback();\n          InlineView.hide(notificationWrapper);\n        };\n        var notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains$2([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: Optional.from(settings.icon),\n          closeButton: !hideCloseButton,\n          onAction: close,\n          iconProvider: sharedBackstage.providers.icons,\n          translationProvider: sharedBackstage.providers.translate\n        }));\n        var notificationWrapper = build$1(InlineView.sketch(__assign({\n          dom: {\n            tag: 'div',\n            classes: ['tox-notifications-container']\n          },\n          lazySink: sharedBackstage.getSink,\n          fireDismissalEventInstead: {}\n        }, sharedBackstage.header.isPositionedAtTop() ? {} : { fireRepositionEventInstead: {} })));\n        uiMothership.add(notificationWrapper);\n        if (settings.timeout > 0) {\n          global$f.setTimeout(function () {\n            close();\n          }, settings.timeout);\n        }\n        var getBounds = function () {\n          var contentArea = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n          var win$1 = win();\n          var x = clamp$1(win$1.x, contentArea.x, contentArea.right);\n          var y = clamp$1(win$1.y, contentArea.y, contentArea.bottom);\n          var right = Math.max(contentArea.right, win$1.right);\n          var bottom = Math.max(contentArea.bottom, win$1.bottom);\n          return Optional.some(bounds(x, y, right - x, bottom - y));\n        };\n        return {\n          close: close,\n          moveTo: function (x, y) {\n            InlineView.showAt(notificationWrapper, premade(notification), {\n              anchor: {\n                type: 'makeshift',\n                x: x,\n                y: y\n              }\n            });\n          },\n          moveRel: function (element, rel) {\n            var notificationSpec = premade(notification);\n            var anchorOverrides = { maxHeightFunction: expandable$1() };\n            if (rel !== 'banner' && isNonNullable(element)) {\n              var layoutDirection_1 = getLayoutDirection(rel);\n              var nodeAnchor = {\n                type: 'node',\n                root: body(),\n                node: Optional.some(SugarElement.fromDom(element)),\n                overrides: anchorOverrides,\n                layouts: {\n                  onRtl: function () {\n                    return [layoutDirection_1];\n                  },\n                  onLtr: function () {\n                    return [layoutDirection_1];\n                  }\n                }\n              };\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: nodeAnchor }, getBounds);\n            } else {\n              var anchor = __assign(__assign({}, sharedBackstage.anchors.banner()), { overrides: anchorOverrides });\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: anchor }, getBounds);\n            }\n          },\n          text: function (nuText) {\n            Notification.updateText(notification, nuText);\n          },\n          settings: settings,\n          getEl: function () {\n            return notification.element.dom;\n          },\n          progressBar: {\n            value: function (percent) {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n      };\n      var close = function (notification) {\n        notification.close();\n      };\n      var getArgs = function (notification) {\n        return notification.settings;\n      };\n      return {\n        open: open,\n        close: close,\n        reposition: reposition,\n        getArgs: getArgs\n      };\n    }\n\n    var first = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (isNull(timer)) {\n          timer = setTimeout(function () {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n    var last = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        cancel();\n        timer = setTimeout(function () {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    var global$d = tinymce.util.Tools.resolve('tinymce.dom.TextSeeker');\n\n    var isBoundary = function (dom, node) {\n      return dom.isBlock(node) || contains$2([\n        'BR',\n        'IMG',\n        'HR',\n        'INPUT'\n      ], node.nodeName) || dom.getContentEditable(node) === 'false';\n    };\n    var repeatLeft = function (dom, node, offset, process, rootNode) {\n      var search = global$d(dom, function (node) {\n        return isBoundary(dom, node);\n      });\n      return Optional.from(search.backwards(node, offset, process, rootNode));\n    };\n\n    var autocompleteSelector = '[data-mce-autocompleter]';\n    var create$4 = function (editor, range) {\n      return detect(SugarElement.fromDom(editor.selection.getNode())).getOrThunk(function () {\n        var wrapper = SugarElement.fromHtml('<span data-mce-autocompleter=\"1\" data-mce-bogus=\"1\"></span>', editor.getDoc());\n        append$2(wrapper, SugarElement.fromDom(range.extractContents()));\n        range.insertNode(wrapper.dom);\n        parent(wrapper).each(function (elm) {\n          return elm.dom.normalize();\n        });\n        last$1(wrapper).map(function (last) {\n          editor.selection.setCursorLocation(last.dom, getEnd(last));\n        });\n        return wrapper;\n      });\n    };\n    var detect = function (elm) {\n      return closest$1(elm, autocompleteSelector);\n    };\n\n    var isValidTextRange = function (rng) {\n      return rng.collapsed && rng.startContainer.nodeType === 3;\n    };\n    var getText = function (rng) {\n      return rng.toString().replace(/\\u00A0/g, ' ').replace(/\\uFEFF/g, '');\n    };\n    var isWhitespace = function (chr) {\n      return chr !== '' && ' \\xA0\\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n    };\n\n    var stripTriggerChar = function (text, triggerCh) {\n      return text.substring(triggerCh.length);\n    };\n    var findChar = function (text, index, ch) {\n      var i;\n      for (i = index - 1; i >= 0; i--) {\n        var char = text.charAt(i);\n        if (isWhitespace(char)) {\n          return Optional.none();\n        }\n        if (char === ch) {\n          break;\n        }\n      }\n      return Optional.some(i);\n    };\n    var findStart = function (dom, initRange, ch, minChars) {\n      if (minChars === void 0) {\n        minChars = 0;\n      }\n      if (!isValidTextRange(initRange)) {\n        return Optional.none();\n      }\n      var findTriggerChIndex = function (element, offset, text) {\n        return findChar(text, offset, ch).getOr(offset);\n      };\n      var root = dom.getParent(initRange.startContainer, dom.isBlock) || dom.getRoot();\n      return repeatLeft(dom, initRange.startContainer, initRange.startOffset, findTriggerChIndex, root).bind(function (spot) {\n        var range = initRange.cloneRange();\n        range.setStart(spot.container, spot.offset);\n        range.setEnd(initRange.endContainer, initRange.endOffset);\n        if (range.collapsed) {\n          return Optional.none();\n        }\n        var text = getText(range);\n        var triggerCharIndex = text.lastIndexOf(ch);\n        if (triggerCharIndex !== 0 || stripTriggerChar(text, ch).length < minChars) {\n          return Optional.none();\n        } else {\n          return Optional.some({\n            text: stripTriggerChar(text, ch),\n            range: range,\n            triggerChar: ch\n          });\n        }\n      });\n    };\n    var getContext = function (dom, initRange, ch, minChars) {\n      if (minChars === void 0) {\n        minChars = 0;\n      }\n      return detect(SugarElement.fromDom(initRange.startContainer)).fold(function () {\n        return findStart(dom, initRange, ch, minChars);\n      }, function (elm) {\n        var range = dom.createRng();\n        range.selectNode(elm.dom);\n        var text = getText(range);\n        return Optional.some({\n          range: range,\n          text: stripTriggerChar(text, ch),\n          triggerChar: ch\n        });\n      });\n    };\n\n    var setup$e = function (api, editor) {\n      editor.on('keypress compositionend', api.onKeypress.throttle);\n      editor.on('remove', api.onKeypress.cancel);\n      var redirectKeyToItem = function (item, e) {\n        emitWith(item, keydown(), { raw: e });\n      };\n      editor.on('keydown', function (e) {\n        var getItem = function () {\n          return api.getView().bind(Highlighting.getHighlighted);\n        };\n        if (e.which === 8) {\n          api.onKeypress.throttle(e);\n        }\n        if (api.isActive()) {\n          if (e.which === 27) {\n            api.cancelIfNecessary();\n          }\n          if (api.isMenuOpen()) {\n            if (e.which === 13) {\n              getItem().each(emitExecute);\n              e.preventDefault();\n            } else if (e.which === 40) {\n              getItem().fold(function () {\n                api.getView().each(Highlighting.highlightFirst);\n              }, function (item) {\n                redirectKeyToItem(item, e);\n              });\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            } else if (e.which === 37 || e.which === 38 || e.which === 39) {\n              getItem().each(function (item) {\n                redirectKeyToItem(item, e);\n                e.preventDefault();\n                e.stopImmediatePropagation();\n              });\n            }\n          } else {\n            if (e.which === 13 || e.which === 38 || e.which === 40) {\n              api.cancelIfNecessary();\n            }\n          }\n        }\n      });\n      editor.on('NodeChange', function (e) {\n        if (api.isActive() && !api.isProcessingAction() && detect(SugarElement.fromDom(e.element)).isNone()) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    var AutocompleterEditorEvents = { setup: setup$e };\n\n    var global$c = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var point = function (container, offset) {\n      return {\n        container: container,\n        offset: offset\n      };\n    };\n\n    var isText = function (node) {\n      return node.nodeType === TEXT;\n    };\n    var isElement$1 = function (node) {\n      return node.nodeType === ELEMENT;\n    };\n    var toLast = function (node) {\n      if (isText(node)) {\n        return point(node, node.data.length);\n      } else {\n        var children = node.childNodes;\n        return children.length > 0 ? toLast(children[children.length - 1]) : point(node, children.length);\n      }\n    };\n    var toLeaf = function (node, offset) {\n      var children = node.childNodes;\n      if (children.length > 0 && offset < children.length) {\n        return toLeaf(children[offset], 0);\n      } else if (children.length > 0 && isElement$1(node) && children.length === offset) {\n        return toLast(children[children.length - 1]);\n      } else {\n        return point(node, offset);\n      }\n    };\n\n    var isPreviousCharContent = function (dom, leaf) {\n      return repeatLeft(dom, leaf.container, leaf.offset, function (element, offset) {\n        return offset === 0 ? -1 : offset;\n      }, dom.getRoot()).filter(function (spot) {\n        var char = spot.container.data.charAt(spot.offset - 1);\n        return !isWhitespace(char);\n      }).isSome();\n    };\n    var isStartOfWord = function (dom) {\n      return function (rng) {\n        var leaf = toLeaf(rng.startContainer, rng.startOffset);\n        return !isPreviousCharContent(dom, leaf);\n      };\n    };\n    var getTriggerContext = function (dom, initRange, database) {\n      return findMap(database.triggerChars, function (ch) {\n        return getContext(dom, initRange, ch);\n      });\n    };\n    var lookup$2 = function (editor, getDatabase) {\n      var database = getDatabase();\n      var rng = editor.selection.getRng();\n      return getTriggerContext(editor.dom, rng, database).bind(function (context) {\n        return lookupWithContext(editor, getDatabase, context);\n      });\n    };\n    var lookupWithContext = function (editor, getDatabase, context, fetchOptions) {\n      if (fetchOptions === void 0) {\n        fetchOptions = {};\n      }\n      var database = getDatabase();\n      var rng = editor.selection.getRng();\n      var startText = rng.startContainer.nodeValue;\n      var autocompleters = filter$2(database.lookupByChar(context.triggerChar), function (autocompleter) {\n        return context.text.length >= autocompleter.minChars && autocompleter.matches.getOrThunk(function () {\n          return isStartOfWord(editor.dom);\n        })(context.range, startText, context.text);\n      });\n      if (autocompleters.length === 0) {\n        return Optional.none();\n      }\n      var lookupData = global$c.all(map$2(autocompleters, function (ac) {\n        var fetchResult = ac.fetch(context.text, ac.maxResults, fetchOptions);\n        return fetchResult.then(function (results) {\n          return {\n            matchText: context.text,\n            items: results,\n            columns: ac.columns,\n            onAction: ac.onAction,\n            highlightOn: ac.highlightOn\n          };\n        });\n      }));\n      return Optional.some({\n        lookupData: lookupData,\n        context: context\n      });\n    };\n\n    var separatorMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('text')\n    ]);\n    var createSeparatorMenuItem = function (spec) {\n      return asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n    };\n\n    var autocompleterItemSchema = objOf([\n      defaulted('type', 'autocompleteitem'),\n      defaulted('active', false),\n      defaulted('disabled', false),\n      defaulted('meta', {}),\n      requiredString('value'),\n      optionString('text'),\n      optionString('icon')\n    ]);\n    var autocompleterSchema = objOf([\n      requiredString('type'),\n      requiredString('ch'),\n      defaultedNumber('minChars', 1),\n      defaulted('columns', 1),\n      defaultedNumber('maxResults', 10),\n      optionFunction('matches'),\n      requiredFunction('fetch'),\n      requiredFunction('onAction'),\n      defaultedArrayOf('highlightOn', [], string)\n    ]);\n    var createSeparatorItem = function (spec) {\n      return asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    };\n    var createAutocompleterItem = function (spec) {\n      return asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n    };\n    var createAutocompleter = function (spec) {\n      return asRaw('Autocompleter', autocompleterSchema, spec);\n    };\n\n    var baseToolbarButtonFields = [\n      defaultedBoolean('disabled', false),\n      optionString('tooltip'),\n      optionString('icon'),\n      optionString('text'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ];\n    var toolbarButtonSchema = objOf([\n      requiredString('type'),\n      requiredFunction('onAction')\n    ].concat(baseToolbarButtonFields));\n    var createToolbarButton = function (spec) {\n      return asRaw('toolbarbutton', toolbarButtonSchema, spec);\n    };\n\n    var baseToolbarToggleButtonFields = [defaultedBoolean('active', false)].concat(baseToolbarButtonFields);\n    var toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      requiredString('type'),\n      requiredFunction('onAction')\n    ]));\n    var createToggleButton = function (spec) {\n      return asRaw('ToggleButton', toggleButtonSchema, spec);\n    };\n\n    var contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    var contextButtonFields = baseToolbarButtonFields.concat([\n      defaulted('type', 'contextformbutton'),\n      defaulted('primary', false),\n      requiredFunction('onAction'),\n      customField('original', identity$1)\n    ]);\n    var contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaulted('type', 'contextformbutton'),\n      defaulted('primary', false),\n      requiredFunction('onAction'),\n      customField('original', identity$1)\n    ]);\n    var launchButtonFields = baseToolbarButtonFields.concat([defaulted('type', 'contextformbutton')]);\n    var launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaulted('type', 'contextformtogglebutton')]);\n    var toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    var contextFormSchema = objOf([\n      defaulted('type', 'contextform'),\n      defaultedFunction('initValue', constant$1('')),\n      optionString('label'),\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n    var createContextForm = function (spec) {\n      return asRaw('ContextForm', contextFormSchema, spec);\n    };\n\n    var contextToolbarSchema = objOf([\n      defaulted('type', 'contexttoolbar'),\n      requiredString('items')\n    ].concat(contextBarFields));\n    var createContextToolbar = function (spec) {\n      return asRaw('ContextToolbar', contextToolbarSchema, spec);\n    };\n\n    var stringArray = function (a) {\n      var all = {};\n      each$1(a, function (key) {\n        all[key] = {};\n      });\n      return keys(all);\n    };\n\n    var register$b = function (editor) {\n      var popups = editor.ui.registry.getAll().popups;\n      var dataset = map$1(popups, function (popup) {\n        return createAutocompleter(popup).fold(function (err) {\n          throw new Error(formatError(err));\n        }, identity$1);\n      });\n      var triggerChars = stringArray(mapToArray(dataset, function (v) {\n        return v.ch;\n      }));\n      var datasetValues = values(dataset);\n      var lookupByChar = function (ch) {\n        return filter$2(datasetValues, function (dv) {\n          return dv.ch === ch;\n        });\n      };\n      return {\n        dataset: dataset,\n        triggerChars: triggerChars,\n        lookupByChar: lookupByChar\n      };\n    };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    var navClass = 'tox-menu-nav__js';\n    var selectableClass = 'tox-collection__item';\n    var colorClass = 'tox-swatch';\n    var presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    var tickedClass = 'tox-collection__item--enabled';\n    var groupHeadingClass = 'tox-collection__group-heading';\n    var iconClass = 'tox-collection__item-icon';\n    var textClass = 'tox-collection__item-label';\n    var accessoryClass = 'tox-collection__item-accessory';\n    var caretClass = 'tox-collection__item-caret';\n    var checkmarkClass = 'tox-collection__item-checkmark';\n    var activeClass = 'tox-collection__item--active';\n    var containerClass = 'tox-collection__item-container';\n    var containerColumnClass = 'tox-collection__item-container--column';\n    var containerRowClass = 'tox-collection__item-container--row';\n    var containerAlignRightClass = 'tox-collection__item-container--align-right';\n    var containerAlignLeftClass = 'tox-collection__item-container--align-left';\n    var containerValignTopClass = 'tox-collection__item-container--valign-top';\n    var containerValignMiddleClass = 'tox-collection__item-container--valign-middle';\n    var containerValignBottomClass = 'tox-collection__item-container--valign-bottom';\n    var classForPreset = function (presets) {\n      return get$e(presetClasses, presets).getOr(navClass);\n    };\n\n    var forMenu = function (presets) {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    var classes = function (presets) {\n      return {\n        backgroundMenu: 'tox-background-menu',\n        selectedMenu: 'tox-selected-menu',\n        selectedItem: 'tox-collection__item--active',\n        hasIcons: 'tox-menu--has-icons',\n        menu: forMenu(presets),\n        tieredMenu: 'tox-tiered-menu'\n      };\n    };\n\n    var markers = function (presets) {\n      var menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    var dom$1 = function (hasIcons, columns, presets) {\n      var menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            'tox-menu-' + columns + '-column'\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    var components = [Menu.parts.items({})];\n    var part = function (hasIcons, columns, presets) {\n      var menuClasses = classes(presets);\n      var d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers(presets)\n      };\n    };\n\n    var chunk = function (rowDom, numColumns) {\n      return function (items) {\n        var chunks = chunk$1(items, numColumns);\n        return map$2(chunks, function (c) {\n          return {\n            dom: rowDom,\n            components: c\n          };\n        });\n      };\n    };\n    var forSwatch = function (columns) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-swatches-menu'\n          ]\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-swatches']\n            },\n            components: [Menu.parts.items({\n                preprocess: columns !== 'auto' ? chunk({\n                  tag: 'div',\n                  classes: ['tox-swatches__row']\n                }, columns) : identity$1\n              })]\n          }]\n      };\n    };\n    var forToolbar = function (columns) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection',\n            'tox-collection--toolbar',\n            'tox-collection--toolbar-lg'\n          ]\n        },\n        components: [Menu.parts.items({\n            preprocess: chunk({\n              tag: 'div',\n              classes: ['tox-collection__group']\n            }, columns)\n          })]\n      };\n    };\n    var preprocessCollection = function (items, isSeparator) {\n      var allSplits = [];\n      var currentSplit = [];\n      each$1(items, function (item, i) {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has$2(item.dom, 'innerHtml')) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map$2(allSplits, function (s) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-collection__group']\n          },\n          components: s\n        };\n      });\n    };\n    var forCollection = function (columns, initItems, _hasIcons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection'\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n        },\n        components: [Menu.parts.items({\n            preprocess: function (items) {\n              if (columns !== 'auto' && columns > 1) {\n                return chunk({\n                  tag: 'div',\n                  classes: ['tox-collection__group']\n                }, columns)(items);\n              } else {\n                return preprocessCollection(items, function (_item, i) {\n                  return initItems[i].type === 'separator';\n                });\n              }\n            }\n          })]\n      };\n    };\n    var forHorizontalCollection = function (initItems, _hasIcons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-collection',\n            'tox-collection--horizontal'\n          ]\n        },\n        components: [Menu.parts.items({\n            preprocess: function (items) {\n              return preprocessCollection(items, function (_item, i) {\n                return initItems[i].type === 'separator';\n              });\n            }\n          })]\n      };\n    };\n\n    var menuHasIcons = function (xs) {\n      return exists(xs, function (item) {\n        return 'icon' in item && item.icon !== undefined;\n      });\n    };\n    var handleError = function (error) {\n      console.error(formatError(error));\n      console.log(error);\n      return Optional.none();\n    };\n    var createHorizontalPartialMenuWithAlloyItems = function (value, _hasIcons, items, _columns, _presets) {\n      var structure = forHorizontalCollection(items);\n      return {\n        value: value,\n        dom: structure.dom,\n        components: structure.components,\n        items: items\n      };\n    };\n    var createPartialMenuWithAlloyItems = function (value, hasIcons, items, columns, presets) {\n      if (presets === 'color') {\n        var structure = forSwatch(columns);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal' && columns === 'auto') {\n        var structure = forCollection(columns, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal' && columns === 1) {\n        var structure = forCollection(1, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal') {\n        var structure = forCollection(columns, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'listpreview' && columns !== 'auto') {\n        var structure = forToolbar(columns);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      return {\n        value: value,\n        dom: dom$1(hasIcons, columns, presets),\n        components: components,\n        items: items\n      };\n    };\n\n    var cardImageFields = [\n      requiredString('type'),\n      requiredString('src'),\n      optionString('alt'),\n      defaultedArrayOf('classes', [], string)\n    ];\n    var cardImageSchema = objOf(cardImageFields);\n\n    var cardTextFields = [\n      requiredString('type'),\n      requiredString('text'),\n      optionString('name'),\n      defaultedArrayOf('classes', ['tox-collection__item-label'], string)\n    ];\n    var cardTextSchema = objOf(cardTextFields);\n\n    var itemSchema$1 = valueThunk(function () {\n      return choose$2('type', {\n        cardimage: cardImageSchema,\n        cardtext: cardTextSchema,\n        cardcontainer: cardContainerSchema\n      });\n    });\n    var cardContainerSchema = objOf([\n      requiredString('type'),\n      defaultedString('direction', 'horizontal'),\n      defaultedString('align', 'left'),\n      defaultedString('valign', 'middle'),\n      requiredArrayOf('items', itemSchema$1)\n    ]);\n\n    var commonMenuItemFields = [\n      defaultedBoolean('disabled', false),\n      optionString('text'),\n      optionString('shortcut'),\n      field$1('value', 'value', defaultedThunk(function () {\n        return generate$6('menuitem-value');\n      }), anyValue()),\n      defaulted('meta', {})\n    ];\n\n    var cardMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('label'),\n      requiredArrayOf('items', itemSchema$1),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedFunction('onAction', noop)\n    ].concat(commonMenuItemFields));\n    var createCardMenuItem = function (spec) {\n      return asRaw('cardmenuitem', cardMenuItemSchema, spec);\n    };\n\n    var choiceMenuItemSchema = objOf([\n      requiredString('type'),\n      defaultedBoolean('active', false),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createChoiceMenuItem = function (spec) {\n      return asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n    };\n\n    var baseFields = [\n      requiredString('type'),\n      requiredString('fancytype'),\n      defaultedFunction('onAction', noop)\n    ];\n    var insertTableFields = [defaulted('initData', {})].concat(baseFields);\n    var colorSwatchFields = [defaultedObjOf('initData', {}, [\n        defaultedBoolean('allowCustomColors', true),\n        optionArrayOf('colors', anyValue())\n      ])].concat(baseFields);\n    var fancyMenuItemSchema = choose$1('fancytype', {\n      inserttable: insertTableFields,\n      colorswatch: colorSwatchFields\n    });\n    var createFancyMenuItem = function (spec) {\n      return asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n    };\n\n    var menuItemSchema = objOf([\n      requiredString('type'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedFunction('onAction', noop),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createMenuItem = function (spec) {\n      return asRaw('menuitem', menuItemSchema, spec);\n    };\n\n    var nestedMenuItemSchema = objOf([\n      requiredString('type'),\n      requiredFunction('getSubmenuItems'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createNestedMenuItem = function (spec) {\n      return asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n    };\n\n    var toggleMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('icon'),\n      defaultedBoolean('active', false),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      requiredFunction('onAction')\n    ].concat(commonMenuItemFields));\n    var createToggleMenuItem = function (spec) {\n      return asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n    };\n\n    var detectSize = function (comp, margin, selectorClass) {\n      var descendants$1 = descendants(comp.element, '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        var columnLength = findIndex$1(descendants$1, function (c) {\n          var thisTop = c.dom.getBoundingClientRect().top;\n          var cTop = descendants$1[0].dom.getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Optional.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    var namedEvents = function (name, handlers) {\n      return derive$1([config(name, handlers)]);\n    };\n    var unnamedEvents = function (handlers) {\n      return namedEvents(generate$6('unnamed-events'), handlers);\n    };\n    var SimpleBehaviours = {\n      namedEvents: namedEvents,\n      unnamedEvents: unnamedEvents\n    };\n\n    var ExclusivityChannel = generate$6('tooltip.exclusive');\n    var ShowTooltipEvent = generate$6('tooltip.show');\n    var HideTooltipEvent = generate$6('tooltip.hide');\n\n    var hideAllExclusive = function (component, _tConfig, _tState) {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    var setComponents = function (component, tConfig, tState, specs) {\n      tState.getTooltip().each(function (tooltip) {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        hideAllExclusive: hideAllExclusive,\n        setComponents: setComponents\n    });\n\n    var events$9 = function (tooltipConfig, state) {\n      var hide = function (comp) {\n        state.getTooltip().each(function (p) {\n          detach(p);\n          tooltipConfig.onHide(comp, p);\n          state.clearTooltip();\n        });\n        state.clearTimer();\n      };\n      var show = function (comp) {\n        if (!state.isShowing()) {\n          hideAllExclusive(comp);\n          var sink = tooltipConfig.lazySink(comp).getOrDie();\n          var popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive$2(tooltipConfig.mode === 'normal' ? [\n              run$1(mouseover(), function (_) {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run$1(mouseout(), function (_) {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, popup, { anchor: tooltipConfig.anchor(comp) });\n        }\n      };\n      return derive$2(flatten([\n        [\n          run$1(ShowTooltipEvent, function (comp) {\n            state.resetTimer(function () {\n              show(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(HideTooltipEvent, function (comp) {\n            state.resetTimer(function () {\n              hide(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(receive(), function (comp, message) {\n            var receivingData = message;\n            if (!receivingData.universal) {\n              if (contains$2(receivingData.channels, ExclusivityChannel)) {\n                hide(comp);\n              }\n            }\n          }),\n          runOnDetached(function (comp) {\n            hide(comp);\n          })\n        ],\n        tooltipConfig.mode === 'normal' ? [\n          run$1(focusin(), function (comp) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(postBlur(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          }),\n          run$1(mouseover(), function (comp) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(mouseout(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          })\n        ] : [\n          run$1(highlight$1(), function (comp, _se) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(dehighlight$1(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          })\n        ]\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$9\n    });\n\n    var TooltippingSchema = [\n      required$1('lazySink'),\n      required$1('tooltipDom'),\n      defaulted('exclusive', true),\n      defaulted('tooltipComponents', []),\n      defaulted('delay', 300),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight'\n      ]),\n      defaulted('anchor', function (comp) {\n        return {\n          type: 'hotspot',\n          hotspot: comp,\n          layouts: {\n            onLtr: constant$1([\n              south$2,\n              north$2,\n              southeast$2,\n              northeast$2,\n              southwest$2,\n              northwest$2\n            ]),\n            onRtl: constant$1([\n              south$2,\n              north$2,\n              southeast$2,\n              northeast$2,\n              southwest$2,\n              northwest$2\n            ])\n          }\n        };\n      }),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    var init$b = function () {\n      var timer = value$1();\n      var popup = value$1();\n      var clearTimer = function () {\n        timer.on(clearTimeout);\n      };\n      var resetTimer = function (f, delay) {\n        clearTimer();\n        timer.set(setTimeout(f, delay));\n      };\n      var readState = constant$1('not-implemented');\n      return nu$8({\n        getTooltip: popup.get,\n        isShowing: popup.isSet,\n        setTooltip: popup.set,\n        clearTooltip: popup.clear,\n        clearTimer: clearTimer,\n        resetTimer: resetTimer,\n        readState: readState\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$b\n    });\n\n    var Tooltipping = create$7({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    var escape = function (text) {\n      return text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    };\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var getSkinUrl = function (editor) {\n      var skin = editor.getParam('skin');\n      var skinUrl = editor.getParam('skin_url');\n      if (skin !== false) {\n        var skinName = skin ? skin : 'oxide';\n        if (skinUrl) {\n          skinUrl = editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          skinUrl = global$a.baseURL + '/skins/ui/' + skinName;\n        }\n      }\n      return skinUrl;\n    };\n    var isReadOnly = function (editor) {\n      return editor.getParam('readonly', false, 'boolean');\n    };\n    var isSkinDisabled = function (editor) {\n      return editor.getParam('skin') === false;\n    };\n    var getHeightSetting = function (editor) {\n      return editor.getParam('height', Math.max(editor.getElement().offsetHeight, 200));\n    };\n    var getWidthSetting = function (editor) {\n      return editor.getParam('width', global$b.DOM.getStyle(editor.getElement(), 'width'));\n    };\n    var getMinWidthSetting = function (editor) {\n      return Optional.from(editor.getParam('min_width')).filter(isNumber);\n    };\n    var getMinHeightSetting = function (editor) {\n      return Optional.from(editor.getParam('min_height')).filter(isNumber);\n    };\n    var getMaxWidthSetting = function (editor) {\n      return Optional.from(editor.getParam('max_width')).filter(isNumber);\n    };\n    var getMaxHeightSetting = function (editor) {\n      return Optional.from(editor.getParam('max_height')).filter(isNumber);\n    };\n    var getUserStyleFormats = function (editor) {\n      return Optional.from(editor.getParam('style_formats')).filter(isArray);\n    };\n    var isMergeStyleFormats = function (editor) {\n      return editor.getParam('style_formats_merge', false, 'boolean');\n    };\n    var getLineHeightFormats = function (editor) {\n      return editor.getParam('lineheight_formats', '1 1.1 1.2 1.3 1.4 1.5 2', 'string').split(' ');\n    };\n    var getContentLanguages = function (editor) {\n      return editor.getParam('content_langs', undefined, 'array');\n    };\n    var getRemovedMenuItems = function (editor) {\n      return editor.getParam('removed_menuitems', '');\n    };\n    var isMenubarEnabled = function (editor) {\n      return editor.getParam('menubar', true, 'boolean') !== false;\n    };\n    var isToolbarEnabled = function (editor) {\n      var toolbar = editor.getParam('toolbar', true);\n      var isToolbarTrue = toolbar === true;\n      var isToolbarString = isString(toolbar);\n      var isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || isToolbarTrue);\n    };\n    var getMultipleToolbarsSetting = function (editor) {\n      var toolbars = range$2(9, function (num) {\n        return editor.getParam('toolbar' + (num + 1), false, 'string');\n      });\n      var toolbarArray = filter$2(toolbars, function (toolbar) {\n        return typeof toolbar === 'string';\n      });\n      return toolbarArray.length > 0 ? Optional.some(toolbarArray) : Optional.none();\n    };\n    var isMultipleToolbars = function (editor) {\n      return getMultipleToolbarsSetting(editor).fold(function () {\n        var toolbar = editor.getParam('toolbar', [], 'string[]');\n        return toolbar.length > 0;\n      }, always);\n    };\n    var ToolbarMode;\n    (function (ToolbarMode) {\n      ToolbarMode['default'] = 'wrap';\n      ToolbarMode['floating'] = 'floating';\n      ToolbarMode['sliding'] = 'sliding';\n      ToolbarMode['scrolling'] = 'scrolling';\n    }(ToolbarMode || (ToolbarMode = {})));\n    var getToolbarMode = function (editor) {\n      return editor.getParam('toolbar_mode', '', 'string');\n    };\n    var ToolbarLocation;\n    (function (ToolbarLocation) {\n      ToolbarLocation['auto'] = 'auto';\n      ToolbarLocation['top'] = 'top';\n      ToolbarLocation['bottom'] = 'bottom';\n    }(ToolbarLocation || (ToolbarLocation = {})));\n    var getToolbarGroups = function (editor) {\n      return editor.getParam('toolbar_groups', {}, 'object');\n    };\n    var getToolbarLocation = function (editor) {\n      return editor.getParam('toolbar_location', ToolbarLocation.auto, 'string');\n    };\n    var isToolbarLocationBottom = function (editor) {\n      return getToolbarLocation(editor) === ToolbarLocation.bottom;\n    };\n    var fixedContainerSelector = function (editor) {\n      return editor.getParam('fixed_toolbar_container', '', 'string');\n    };\n    var fixedToolbarContainerTarget = function (editor) {\n      return editor.getParam('fixed_toolbar_container_target');\n    };\n    var isToolbarPersist = function (editor) {\n      return editor.getParam('toolbar_persist', false, 'boolean');\n    };\n    var fixedContainerTarget = function (editor) {\n      if (!editor.inline) {\n        return Optional.none();\n      }\n      var selector = fixedContainerSelector(editor);\n      if (selector.length > 0) {\n        return descendant(body(), selector);\n      }\n      var element = fixedToolbarContainerTarget(editor);\n      if (isNonNullable(element)) {\n        return Optional.some(SugarElement.fromDom(element));\n      }\n      return Optional.none();\n    };\n    var useFixedContainer = function (editor) {\n      return editor.inline && fixedContainerTarget(editor).isSome();\n    };\n    var getUiContainer = function (editor) {\n      var fixedContainer = fixedContainerTarget(editor);\n      return fixedContainer.getOrThunk(function () {\n        return getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement())));\n      });\n    };\n    var isDistractionFree = function (editor) {\n      return editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    };\n    var isStickyToolbar = function (editor) {\n      var isStickyToolbar = editor.getParam('toolbar_sticky', false, 'boolean');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    var getStickyToolbarOffset = function (editor) {\n      return editor.getParam('toolbar_sticky_offset', 0, 'number');\n    };\n    var isDraggableModal$1 = function (editor) {\n      return editor.getParam('draggable_modal', false, 'boolean');\n    };\n    var getMenus = function (editor) {\n      var menu = editor.getParam('menu');\n      if (menu) {\n        return map$1(menu, function (menu) {\n          return __assign(__assign({}, menu), { items: menu.items });\n        });\n      } else {\n        return {};\n      }\n    };\n    var getMenubar = function (editor) {\n      return editor.getParam('menubar');\n    };\n    var getToolbar = function (editor) {\n      return editor.getParam('toolbar', true);\n    };\n    var getFilePickerCallback = function (editor) {\n      return editor.getParam('file_picker_callback');\n    };\n    var getFilePickerTypes = function (editor) {\n      return editor.getParam('file_picker_types');\n    };\n    var getFileBrowserCallbackTypes = function (editor) {\n      return editor.getParam('file_browser_callback_types');\n    };\n    var noTypeaheadUrls = function (editor) {\n      return editor.getParam('typeahead_urls') === false;\n    };\n    var getAnchorTop = function (editor) {\n      return editor.getParam('anchor_top', '#top');\n    };\n    var getAnchorBottom = function (editor) {\n      return editor.getParam('anchor_bottom', '#bottom');\n    };\n    var getFilePickerValidatorHandler = function (editor) {\n      var handler = editor.getParam('file_picker_validator_handler', undefined, 'function');\n      if (handler === undefined) {\n        return editor.getParam('filepicker_validator_handler', undefined, 'function');\n      } else {\n        return handler;\n      }\n    };\n\n    var ReadOnlyChannel = 'silver.readonly';\n    var ReadOnlyDataSchema = objOf([requiredBoolean('readonly')]);\n    var broadcastReadonly = function (uiComponents, readonly) {\n      var outerContainer = uiComponents.outerContainer;\n      var target = outerContainer.element;\n      if (readonly) {\n        uiComponents.mothership.broadcastOn([dismissPopups()], { target: target });\n        uiComponents.uiMothership.broadcastOn([dismissPopups()], { target: target });\n      }\n      uiComponents.mothership.broadcastOn([ReadOnlyChannel], { readonly: readonly });\n      uiComponents.uiMothership.broadcastOn([ReadOnlyChannel], { readonly: readonly });\n    };\n    var setupReadonlyModeSwitch = function (editor, uiComponents) {\n      editor.on('init', function () {\n        if (editor.mode.isReadOnly()) {\n          broadcastReadonly(uiComponents, true);\n        }\n      });\n      editor.on('SwitchMode', function () {\n        return broadcastReadonly(uiComponents, editor.mode.isReadOnly());\n      });\n      if (isReadOnly(editor)) {\n        editor.setMode('readonly');\n      }\n    };\n    var receivingConfig = function () {\n      var _a;\n      return Receiving.config({\n        channels: (_a = {}, _a[ReadOnlyChannel] = {\n          schema: ReadOnlyDataSchema,\n          onReceive: function (comp, data) {\n            Disabling.set(comp, data.readonly);\n          }\n        }, _a)\n      });\n    };\n\n    var item = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-collection__item--state-disabled'\n      });\n    };\n    var button = function (disabled) {\n      return Disabling.config({ disabled: disabled });\n    };\n    var splitButton = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-tbtn--disabled'\n      });\n    };\n    var toolbarButton = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-tbtn--disabled',\n        useNative: false\n      });\n    };\n    var DisablingConfigs = {\n      item: item,\n      button: button,\n      splitButton: splitButton,\n      toolbarButton: toolbarButton\n    };\n\n    var runWithApi = function (info, comp) {\n      var api = info.getApi(comp);\n      return function (f) {\n        f(api);\n      };\n    };\n    var onControlAttached = function (info, editorOffCell) {\n      return runOnAttached(function (comp) {\n        var run = runWithApi(info, comp);\n        run(function (api) {\n          var onDestroy = info.onSetup(api);\n          if (isFunction(onDestroy)) {\n            editorOffCell.set(onDestroy);\n          }\n        });\n      });\n    };\n    var onControlDetached = function (getApi, editorOffCell) {\n      return runOnDetached(function (comp) {\n        return runWithApi(getApi, comp)(editorOffCell.get());\n      });\n    };\n\n    var _a$1;\n    var onMenuItemExecute = function (info, itemResponse) {\n      return runOnExecute$1(function (comp, simulatedEvent) {\n        runWithApi(info, comp)(info.onAction);\n        if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n          emit(comp, sandboxClose());\n          simulatedEvent.stop();\n        }\n      });\n    };\n    var menuItemEventOrder = (_a$1 = {}, _a$1[execute$5()] = [\n      'disabling',\n      'alloy.base.behaviour',\n      'toggling',\n      'item-events'\n    ], _a$1);\n\n    var componentRenderPipeline = cat;\n    var renderCommonItem = function (spec, structure, itemResponse, providersbackstage) {\n      var editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(function () {\n            return spec.disabled || providersbackstage.isDisabled();\n          }),\n          receivingConfig(),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    var buildData = function (source) {\n      return {\n        value: source.value,\n        meta: __assign({ text: source.text.getOr('') }, source.meta)\n      };\n    };\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var convertText = function (source) {\n      var mac = {\n        alt: '&#x2325;',\n        ctrl: '&#x2303;',\n        shift: '&#x21E7;',\n        meta: '&#x2318;',\n        access: '&#x2303;&#x2325;'\n      };\n      var other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      var replace = global$9.mac ? mac : other;\n      var shortcut = source.split('+');\n      var updated = map$2(shortcut, function (segment) {\n        var search = segment.toLowerCase().trim();\n        return has$2(replace, search) ? replace[search] : segment;\n      });\n      return global$9.mac ? updated.join('') : updated.join('+');\n    };\n\n    var renderIcon$1 = function (name, icons, classes) {\n      if (classes === void 0) {\n        classes = [iconClass];\n      }\n      return render$3(name, {\n        tag: 'div',\n        classes: classes\n      }, icons);\n    };\n    var renderText = function (text$1) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [textClass]\n        },\n        components: [text(global$e.translate(text$1))]\n      };\n    };\n    var renderHtml = function (html, classes) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: classes,\n          innerHtml: html\n        }\n      };\n    };\n    var renderStyledText = function (style, text$1) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [textClass]\n        },\n        components: [{\n            dom: {\n              tag: style.tag,\n              styles: style.styles\n            },\n            components: [text(global$e.translate(text$1))]\n          }]\n      };\n    };\n    var renderShortcut = function (shortcut) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [accessoryClass],\n          innerHtml: convertText(shortcut)\n        }\n      };\n    };\n    var renderCheckmark = function (icons) {\n      return renderIcon$1('checkmark', icons, [checkmarkClass]);\n    };\n    var renderSubmenuCaret = function (icons) {\n      return renderIcon$1('chevron-right', icons, [caretClass]);\n    };\n    var renderDownwardsCaret = function (icons) {\n      return renderIcon$1('chevron-down', icons, [caretClass]);\n    };\n    var renderContainer = function (container, components) {\n      var directionClass = container.direction === 'vertical' ? containerColumnClass : containerRowClass;\n      var alignClass = container.align === 'left' ? containerAlignLeftClass : containerAlignRightClass;\n      var getValignClass = function () {\n        switch (container.valign) {\n        case 'top':\n          return containerValignTopClass;\n        case 'middle':\n          return containerValignMiddleClass;\n        case 'bottom':\n          return containerValignBottomClass;\n        }\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            containerClass,\n            directionClass,\n            alignClass,\n            getValignClass()\n          ]\n        },\n        components: components\n      };\n    };\n    var renderImage = function (src, classes, alt) {\n      return {\n        dom: {\n          tag: 'img',\n          classes: classes,\n          attributes: {\n            src: src,\n            alt: alt.getOr('')\n          }\n        }\n      };\n    };\n\n    var renderColorStructure = function (item, providerBackstage, fallbackIcon) {\n      var colorPickerCommand = 'custom';\n      var removeColorCommand = 'remove';\n      var itemText = item.ariaLabel;\n      var itemValue = item.value;\n      var iconSvg = item.iconContent.map(function (name) {\n        return getOr(name, providerBackstage.icons, fallbackIcon);\n      });\n      var getDom = function () {\n        var common = colorClass;\n        var icon = iconSvg.getOr('');\n        var attributes = itemText.map(function (text) {\n          return { title: providerBackstage.translate(text) };\n        }).getOr({});\n        var baseDom = {\n          tag: 'div',\n          attributes: attributes,\n          classes: [common]\n        };\n        if (itemValue === colorPickerCommand) {\n          return __assign(__assign({}, baseDom), {\n            tag: 'button',\n            classes: __spreadArray(__spreadArray([], baseDom.classes, true), ['tox-swatches__picker-btn'], false),\n            innerHtml: icon\n          });\n        } else if (itemValue === removeColorCommand) {\n          return __assign(__assign({}, baseDom), {\n            classes: __spreadArray(__spreadArray([], baseDom.classes, true), ['tox-swatch--remove'], false),\n            innerHtml: icon\n          });\n        } else {\n          return __assign(__assign({}, baseDom), {\n            attributes: __assign(__assign({}, baseDom.attributes), { 'data-mce-color': itemValue }),\n            styles: { 'background-color': itemValue }\n          });\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    var renderItemDomStructure = function (ariaLabel) {\n      var domTitle = ariaLabel.map(function (label) {\n        return { attributes: { title: global$e.translate(label) } };\n      }).getOr({});\n      return __assign({\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ]\n      }, domTitle);\n    };\n    var renderNormalItemStructure = function (info, providersBackstage, renderIcons, fallbackIcon) {\n      var iconSpec = {\n        tag: 'div',\n        classes: [iconClass]\n      };\n      var renderIcon = function (iconName) {\n        return render$3(iconName, iconSpec, providersBackstage.icons, fallbackIcon);\n      };\n      var renderEmptyIcon = function () {\n        return Optional.some({ dom: iconSpec });\n      };\n      var leftIcon = renderIcons ? info.iconContent.map(renderIcon).orThunk(renderEmptyIcon) : Optional.none();\n      var checkmark = info.checkMark;\n      var textRender = Optional.from(info.meta).fold(function () {\n        return renderText;\n      }, function (meta) {\n        return has$2(meta, 'style') ? curry(renderStyledText, meta.style) : renderText;\n      });\n      var content = info.htmlContent.fold(function () {\n        return info.textContent.map(textRender);\n      }, function (html) {\n        return Optional.some(renderHtml(html, [textClass]));\n      });\n      var menuItem = {\n        dom: renderItemDomStructure(info.ariaLabel),\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          checkmark,\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    var renderItemStructure = function (info, providersBackstage, renderIcons, fallbackIcon) {\n      if (fallbackIcon === void 0) {\n        fallbackIcon = Optional.none();\n      }\n      if (info.presets === 'color') {\n        return renderColorStructure(info, providersBackstage, fallbackIcon);\n      } else {\n        return renderNormalItemStructure(info, providersBackstage, renderIcons, fallbackIcon);\n      }\n    };\n\n    var tooltipBehaviour = function (meta, sharedBackstage) {\n      return get$e(meta, 'tooltipWorker').map(function (tooltipWorker) {\n        return [Tooltipping.config({\n            lazySink: sharedBackstage.getSink,\n            tooltipDom: {\n              tag: 'div',\n              classes: ['tox-tooltip-worker-container']\n            },\n            tooltipComponents: [],\n            anchor: function (comp) {\n              return {\n                type: 'submenu',\n                item: comp,\n                overrides: { maxHeightFunction: expandable$1 }\n              };\n            },\n            mode: 'follow-highlight',\n            onShow: function (component, _tooltip) {\n              tooltipWorker(function (elm) {\n                Tooltipping.setComponents(component, [external$2({ element: SugarElement.fromDom(elm) })]);\n              });\n            }\n          })];\n      }).getOr([]);\n    };\n    var encodeText = function (text) {\n      return global$b.DOM.encode(text);\n    };\n    var replaceText = function (text, matchText) {\n      var translated = global$e.translate(text);\n      var encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        var escapedMatchRegex = new RegExp(escape(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, function (match) {\n          return '<span class=\"tox-autocompleter-highlight\">' + match + '</span>';\n        });\n      } else {\n        return encoded;\n      }\n    };\n    var renderAutocompleteItem = function (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var structure = renderItemStructure({\n        presets: presets,\n        textContent: Optional.none(),\n        htmlContent: useText ? spec.text.map(function (text) {\n          return replaceText(text, matchText);\n        }) : Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Optional.none(),\n        checkMark: Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      return renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: constant$1({}),\n        onAction: function (_api) {\n          return onItemValueHandler(spec.value, spec.meta);\n        },\n        onSetup: constant$1(noop),\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec.meta, sharedBackstage)\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    var render$2 = function (items, extras) {\n      return map$2(items, function (item) {\n        switch (item.type) {\n        case 'cardcontainer':\n          return renderContainer(item, render$2(item.items, extras));\n        case 'cardimage':\n          return renderImage(item.src, item.classes, item.alt);\n        case 'cardtext':\n          var shouldHighlight = item.name.exists(function (name) {\n            return contains$2(extras.cardText.highlightOn, name);\n          });\n          var matchText = shouldHighlight ? Optional.from(extras.cardText.matchText).getOr('') : '';\n          return renderHtml(replaceText(item.text, matchText), item.classes);\n        }\n      });\n    };\n    var renderCardMenuItem = function (spec, itemResponse, sharedBackstage, extras) {\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            Disabling.set(component, state);\n            each$1(descendants(component.element, '*'), function (elm) {\n              component.getSystem().getByDom(elm).each(function (comp) {\n                if (comp.hasConfigured(Disabling)) {\n                  Disabling.set(comp, state);\n                }\n              });\n            });\n          }\n        };\n      };\n      var structure = {\n        dom: renderItemDomStructure(spec.label),\n        optComponents: [Optional.some({\n            dom: {\n              tag: 'div',\n              classes: [\n                containerClass,\n                containerRowClass\n              ]\n            },\n            components: render$2(spec.items, extras)\n          })]\n      };\n      return renderCommonItem({\n        data: buildData(__assign({ text: Optional.none() }, spec)),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: Optional.from(extras.itemBehaviours).getOr([])\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    var renderChoiceItem = function (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          setActive: function (state) {\n            Toggling.set(component, state);\n          },\n          isActive: function () {\n            return Toggling.isOn(component);\n          },\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: presets,\n        textContent: useText ? spec.text : Optional.none(),\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Optional.none(),\n        checkMark: useText ? Optional.some(renderCheckmark(providersBackstage.icons)) : Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: function (_api) {\n          return onItemValueHandler(spec.value);\n        },\n        onSetup: function (api) {\n          api.setActive(isSelected);\n          return noop;\n        },\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    var parts$f = generate$3(owner$2(), parts$h());\n\n    var hexColour = function (value) {\n      return { value: value };\n    };\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    var longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    var isHexString = function (hex) {\n      return shorthandRegex.test(hex) || longformRegex.test(hex);\n    };\n    var normalizeHex = function (hex) {\n      return removeLeading(hex, '#').toUpperCase();\n    };\n    var fromString$1 = function (hex) {\n      return isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    };\n    var getLongForm = function (hex) {\n      var hexString = hex.value.replace(shorthandRegex, function (m, r, g, b) {\n        return r + r + g + g + b + b;\n      });\n      return { value: hexString };\n    };\n    var extractValues = function (hex) {\n      var longForm = getLongForm(hex);\n      var splitForm = longformRegex.exec(longForm.value);\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    var toHex = function (component) {\n      var hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    var fromRgba = function (rgbaColour) {\n      var value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    var min = Math.min;\n    var max = Math.max;\n    var round$1 = Math.round;\n    var rgbRegex = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/;\n    var rgbaRegex = /^rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*(\\d?(?:\\.\\d+)?)\\)/;\n    var rgbaColour = function (red, green, blue, alpha) {\n      return {\n        red: red,\n        green: green,\n        blue: blue,\n        alpha: alpha\n      };\n    };\n    var isRgbaComponent = function (value) {\n      var num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    var fromHsv = function (hsv) {\n      var r;\n      var g;\n      var b;\n      var hue = (hsv.hue || 0) % 360;\n      var saturation = hsv.saturation / 100;\n      var brightness = hsv.value / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$1(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      var side = hue / 60;\n      var chroma = brightness * saturation;\n      var x = chroma * (1 - Math.abs(side % 2 - 1));\n      var match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$1(255 * (r + match));\n      g = round$1(255 * (g + match));\n      b = round$1(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    var fromHex = function (hexColour) {\n      var result = extractValues(hexColour);\n      var red = parseInt(result[1], 16);\n      var green = parseInt(result[2], 16);\n      var blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    var fromStringValues = function (red, green, blue, alpha) {\n      var r = parseInt(red, 10);\n      var g = parseInt(green, 10);\n      var b = parseInt(blue, 10);\n      var a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    var fromString = function (rgbaString) {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      var rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      var rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    var toString = function (rgba) {\n      return 'rgba(' + rgba.red + ',' + rgba.green + ',' + rgba.blue + ',' + rgba.alpha + ')';\n    };\n    var red = rgbaColour(255, 0, 0, 1);\n\n    var fireSkinLoaded$1 = function (editor) {\n      return editor.fire('SkinLoaded');\n    };\n    var fireSkinLoadError$1 = function (editor, error) {\n      return editor.fire('SkinLoadError', error);\n    };\n    var fireResizeEditor = function (editor) {\n      return editor.fire('ResizeEditor');\n    };\n    var fireResizeContent = function (editor, e) {\n      return editor.fire('ResizeContent', e);\n    };\n    var fireScrollContent = function (editor, e) {\n      return editor.fire('ScrollContent', e);\n    };\n    var fireTextColorChange = function (editor, data) {\n      return editor.fire('TextColorChange', data);\n    };\n\n    var hsvColour = function (hue, saturation, value) {\n      return {\n        hue: hue,\n        saturation: saturation,\n        value: value\n      };\n    };\n    var fromRgb = function (rgbaColour) {\n      var h = 0;\n      var s = 0;\n      var v = 0;\n      var r = rgbaColour.red / 255;\n      var g = rgbaColour.green / 255;\n      var b = rgbaColour.blue / 255;\n      var minRGB = Math.min(r, Math.min(g, b));\n      var maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      var d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    var hexToHsv = function (hex) {\n      return fromRgb(fromHex(hex));\n    };\n    var hsvToHex = function (hsv) {\n      return fromRgba(fromHsv(hsv));\n    };\n    var anyToHex = function (color) {\n      return fromString$1(color).orThunk(function () {\n        return fromString(color).map(fromRgba);\n      }).getOrThunk(function () {\n        var canvas = document.createElement('canvas');\n        canvas.height = 1;\n        canvas.width = 1;\n        var canvasContext = canvas.getContext('2d');\n        canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n        canvasContext.fillStyle = '#FFFFFF';\n        canvasContext.fillStyle = color;\n        canvasContext.fillRect(0, 0, 1, 1);\n        var rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n        var r = rgba[0];\n        var g = rgba[1];\n        var b = rgba[2];\n        var a = rgba[3];\n        return fromRgba(rgbaColour(r, g, b, a));\n      });\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    var storageName = 'tinymce-custom-colors';\n    function ColorCache (max) {\n      if (max === void 0) {\n        max = 10;\n      }\n      var storageString = global$8.getItem(storageName);\n      var localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      var prune = function (list) {\n        var diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      var cache = prune(localstorage);\n      var add = function (key) {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$8.setItem(storageName, JSON.stringify(cache));\n      };\n      var remove = function (idx) {\n        cache.splice(idx, 1);\n      };\n      var state = function () {\n        return cache.slice(0);\n      };\n      return {\n        add: add,\n        state: state\n      };\n    }\n\n    var choiceItem = 'choiceitem';\n    var defaultColors = [\n      {\n        type: choiceItem,\n        text: 'Light Green',\n        value: '#BFEDD2'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Yellow',\n        value: '#FBEEB8'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Red',\n        value: '#F8CAC6'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Purple',\n        value: '#ECCAFA'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Blue',\n        value: '#C2E0F4'\n      },\n      {\n        type: choiceItem,\n        text: 'Green',\n        value: '#2DC26B'\n      },\n      {\n        type: choiceItem,\n        text: 'Yellow',\n        value: '#F1C40F'\n      },\n      {\n        type: choiceItem,\n        text: 'Red',\n        value: '#E03E2D'\n      },\n      {\n        type: choiceItem,\n        text: 'Purple',\n        value: '#B96AD9'\n      },\n      {\n        type: choiceItem,\n        text: 'Blue',\n        value: '#3598DB'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Turquoise',\n        value: '#169179'\n      },\n      {\n        type: choiceItem,\n        text: 'Orange',\n        value: '#E67E23'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Red',\n        value: '#BA372A'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Purple',\n        value: '#843FA1'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Blue',\n        value: '#236FA1'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Gray',\n        value: '#ECF0F1'\n      },\n      {\n        type: choiceItem,\n        text: 'Medium Gray',\n        value: '#CED4D9'\n      },\n      {\n        type: choiceItem,\n        text: 'Gray',\n        value: '#95A5A6'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Gray',\n        value: '#7E8C8D'\n      },\n      {\n        type: choiceItem,\n        text: 'Navy Blue',\n        value: '#34495E'\n      },\n      {\n        type: choiceItem,\n        text: 'Black',\n        value: '#000000'\n      },\n      {\n        type: choiceItem,\n        text: 'White',\n        value: '#ffffff'\n      }\n    ];\n    var colorCache = ColorCache(10);\n    var mapColors = function (colorMap) {\n      var colors = [];\n      for (var i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: '#' + anyToHex(colorMap[i]).value,\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    var getColorCols$2 = function (editor, defaultCols) {\n      return editor.getParam('color_cols', defaultCols, 'number');\n    };\n    var hasCustomColors$1 = function (editor) {\n      return editor.getParam('custom_colors') !== false;\n    };\n    var getColorMap = function (editor) {\n      return editor.getParam('color_map');\n    };\n    var getColors$2 = function (editor) {\n      var unmapped = getColorMap(editor);\n      return unmapped !== undefined ? mapColors(unmapped) : defaultColors;\n    };\n    var getCurrentColors = function () {\n      return map$2(colorCache.state(), function (color) {\n        return {\n          type: choiceItem,\n          text: color,\n          value: color\n        };\n      });\n    };\n    var addColor = function (color) {\n      colorCache.add(color);\n    };\n\n    var fallbackColor = '#000000';\n    var getCurrentColor = function (editor, format) {\n      var color;\n      editor.dom.getParents(editor.selection.getStart(), function (elm) {\n        var value;\n        if (value = elm.style[format === 'forecolor' ? 'color' : 'background-color']) {\n          color = color ? color : value;\n        }\n      });\n      return Optional.from(color);\n    };\n    var applyFormat = function (editor, format, value) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.apply(format, { value: value });\n        editor.nodeChanged();\n      });\n    };\n    var removeFormat = function (editor, format) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, null, true);\n        editor.nodeChanged();\n      });\n    };\n    var registerCommands = function (editor) {\n      editor.addCommand('mceApplyTextcolor', function (format, value) {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', function (format) {\n        removeFormat(editor, format);\n      });\n    };\n    var calcCols = function (colors) {\n      return Math.max(5, Math.ceil(Math.sqrt(colors)));\n    };\n    var getColorCols$1 = function (editor) {\n      var colors = getColors$2(editor);\n      var defaultCols = calcCols(colors.length);\n      return getColorCols$2(editor, defaultCols);\n    };\n    var getAdditionalColors = function (hasCustom) {\n      var type = 'choiceitem';\n      var remove = {\n        type: type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      var custom = {\n        type: type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    var applyColor = function (editor, format, value, onChoice) {\n      if (value === 'custom') {\n        var dialog = colorPickerDialog(editor);\n        dialog(function (colorOpt) {\n          colorOpt.each(function (color) {\n            addColor(color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, fallbackColor);\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    var getColors$1 = function (colors, hasCustom) {\n      return colors.concat(getCurrentColors().concat(getAdditionalColors(hasCustom)));\n    };\n    var getFetch$1 = function (colors, hasCustom) {\n      return function (callback) {\n        callback(getColors$1(colors, hasCustom));\n      };\n    };\n    var setIconColor = function (splitButtonApi, name, newColor) {\n      var id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      splitButtonApi.setIconFill(id, newColor);\n    };\n    var registerTextColorButton = function (editor, name, format, tooltip, lastColor) {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip: tooltip,\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: function (value) {\n          var optCurrentRgb = getCurrentColor(editor, format);\n          return optCurrentRgb.bind(function (currentRgb) {\n            return fromString(currentRgb).map(function (rgba) {\n              var currentHex = fromRgba(rgba).value;\n              return contains$1(value.toLowerCase(), currentHex);\n            });\n          }).getOr(false);\n        },\n        columns: getColorCols$1(editor),\n        fetch: getFetch$1(getColors$2(editor), hasCustomColors$1(editor)),\n        onAction: function (_splitButtonApi) {\n          applyColor(editor, format, lastColor.get(), noop);\n        },\n        onItemAction: function (_splitButtonApi, value) {\n          applyColor(editor, format, value, function (newColor) {\n            lastColor.set(newColor);\n            fireTextColorChange(editor, {\n              name: name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: function (splitButtonApi) {\n          setIconColor(splitButtonApi, name, lastColor.get());\n          var handler = function (e) {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return function () {\n            editor.off('TextColorChange', handler);\n          };\n        }\n      });\n    };\n    var registerTextColorMenuItem = function (editor, name, format, text) {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text: text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        getSubmenuItems: function () {\n          return [{\n              type: 'fancymenuitem',\n              fancytype: 'colorswatch',\n              onAction: function (data) {\n                applyColor(editor, format, data.value, noop);\n              }\n            }];\n        }\n      });\n    };\n    var colorPickerDialog = function (editor) {\n      return function (callback, value) {\n        var isValid = false;\n        var onSubmit = function (api) {\n          var data = api.getData();\n          var hex = data.colorpicker;\n          if (isValid) {\n            callback(Optional.from(hex));\n            api.close();\n          } else {\n            editor.windowManager.alert(editor.translate([\n              'Invalid hex color code: {0}',\n              hex\n            ]));\n          }\n        };\n        var onAction = function (_api, details) {\n          if (details.name === 'hex-valid') {\n            isValid = details.value;\n          }\n        };\n        var initialData = { colorpicker: value };\n        editor.windowManager.open({\n          title: 'Color Picker',\n          size: 'normal',\n          body: {\n            type: 'panel',\n            items: [{\n                type: 'colorpicker',\n                name: 'colorpicker',\n                label: 'Color'\n              }]\n          },\n          buttons: [\n            {\n              type: 'cancel',\n              name: 'cancel',\n              text: 'Cancel'\n            },\n            {\n              type: 'submit',\n              name: 'save',\n              text: 'Save',\n              primary: true\n            }\n          ],\n          initialData: initialData,\n          onAction: onAction,\n          onSubmit: onSubmit,\n          onClose: noop,\n          onCancel: function () {\n            callback(Optional.none());\n          }\n        });\n      };\n    };\n    var register$a = function (editor) {\n      registerCommands(editor);\n      var lastForeColor = Cell(fallbackColor);\n      var lastBackColor = Cell(fallbackColor);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color');\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color');\n    };\n\n    var createPartialChoiceMenu = function (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) {\n      var hasIcons = menuHasIcons(items);\n      var presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      var alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, presets);\n    };\n    var createChoiceItems = function (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) {\n      return cat(map$2(items, function (item) {\n        if (item.type === 'choiceitem') {\n          return createChoiceMenuItem(item).fold(handleError, function (d) {\n            return Optional.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(item.value), itemResponse, providersBackstage, menuHasIcons(items)));\n          });\n        } else {\n          return Optional.none();\n        }\n      }));\n    };\n\n    var deriveMenuMovement = function (columns, presets) {\n      var menuMarkers = markers(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        var rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass\n        };\n      }\n    };\n    var deriveCollectionMovement = function (columns, presets) {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? '.' + colorClass : '.' + selectableClass\n          }\n        };\n      }\n    };\n\n    var renderColorSwatchItem = function (spec, backstage) {\n      var items = getColorItems(spec, backstage);\n      var columns = backstage.colorinput.getColorCols();\n      var presets = 'color';\n      var menuSpec = createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n        spec.onAction({ value: value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, backstage.shared.providers);\n      var widgetSpec = __assign(__assign({}, menuSpec), {\n        markers: markers(presets),\n        movement: deriveMenuMovement(columns, presets)\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget(Menu.sketch(widgetSpec))]\n      };\n    };\n    var getColorItems = function (spec, backstage) {\n      var useCustomColors = spec.initData.allowCustomColors && backstage.colorinput.hasCustomColors();\n      return spec.initData.colors.fold(function () {\n        return getColors$1(backstage.colorinput.getColors(), useCustomColors);\n      }, function (colors) {\n        return colors.concat(getAdditionalColors(useCustomColors));\n      });\n    };\n\n    var cellOverEvent = generate$6('cell-over');\n    var cellExecuteEvent = generate$6('cell-execute');\n    var makeCell = function (row, col, labelId) {\n      var _a;\n      var emitCellOver = function (c) {\n        return emitWith(c, cellOverEvent, {\n          row: row,\n          col: col\n        });\n      };\n      var emitExecute = function (c) {\n        return emitWith(c, cellExecuteEvent, {\n          row: row,\n          col: col\n        });\n      };\n      var onClick = function (c, se) {\n        se.stop();\n        emitExecute(c);\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: (_a = { role: 'button' }, _a['aria-labelledby'] = labelId, _a)\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run$1(mouseover(), Focusing.focus),\n            run$1(execute$5(), emitExecute),\n            run$1(click(), onClick),\n            run$1(tap(), onClick)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    var makeCells = function (labelId, numRows, numCols) {\n      var cells = [];\n      for (var i = 0; i < numRows; i++) {\n        var row = [];\n        for (var j = 0; j < numCols; j++) {\n          row.push(makeCell(i, j, labelId));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    var selectCells = function (cells, selectedRow, selectedColumn, numRows, numColumns) {\n      for (var i = 0; i < numRows; i++) {\n        for (var j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    var makeComponents = function (cells) {\n      return bind$3(cells, function (cellRow) {\n        return map$2(cellRow, premade);\n      });\n    };\n    var makeLabelText = function (row, col) {\n      return text(col + 'x' + row);\n    };\n    var renderInsertTableMenuItem = function (spec) {\n      var numRows = 10;\n      var numColumns = 10;\n      var sizeLabelId = generate$6('size-label');\n      var cells = makeCells(sizeLabelId, numRows, numColumns);\n      var emptyLabelText = makeLabelText(0, 0);\n      var memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label'],\n          attributes: { id: sizeLabelId }\n        },\n        components: [emptyLabelText],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runOnAttached(function (c) {\n                  Replacing.set(memLabel.get(c), [emptyLabelText]);\n                }),\n                runWithTarget(cellOverEvent, function (c, t, e) {\n                  var _a = e.event, row = _a.row, col = _a.col;\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row + 1, col + 1)]);\n                }),\n                runWithTarget(cellExecuteEvent, function (c, _, e) {\n                  var _a = e.event, row = _a.row, col = _a.col;\n                  spec.onAction({\n                    numRows: row + 1,\n                    numColumns: col + 1\n                  });\n                  emit(c, sandboxClose());\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows: numRows,\n                  numColumns: numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    };\n\n    var fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    var renderFancyMenuItem = function (spec, backstage) {\n      return get$e(fancyMenuItems, spec.fancytype).map(function (render) {\n        return render(spec, backstage);\n      });\n    };\n\n    var renderNestedItem = function (spec, itemResponse, providersBackstage, renderIcons, downwardsCaret) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      if (downwardsCaret === void 0) {\n        downwardsCaret = false;\n      }\n      var caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.some(caret),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi: getApi,\n        disabled: spec.disabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    var renderNormalItem = function (spec, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.none(),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi: getApi,\n        disabled: spec.disabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    var renderSeparatorItem = function (spec) {\n      var innerHtml = spec.text.fold(function () {\n        return {};\n      }, function (text) {\n        return { innerHtml: text };\n      });\n      return {\n        type: 'separator',\n        dom: __assign({\n          tag: 'div',\n          classes: [\n            selectableClass,\n            groupHeadingClass\n          ]\n        }, innerHtml),\n        components: []\n      };\n    };\n\n    var renderToggleMenuItem = function (spec, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          setActive: function (state) {\n            Toggling.set(component, state);\n          },\n          isActive: function () {\n            return Toggling.isOn(component);\n          },\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        checkMark: Optional.some(renderCheckmark(providersBackstage.icons)),\n        caret: Optional.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    var autocomplete = renderAutocompleteItem;\n    var separator$3 = renderSeparatorItem;\n    var normal = renderNormalItem;\n    var nested = renderNestedItem;\n    var toggle$1 = renderToggleMenuItem;\n    var fancy = renderFancyMenuItem;\n    var card = renderCardMenuItem;\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    var createMenuItemFromBridge = function (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) {\n      var providersBackstage = backstage.shared.providers;\n      var parseForHorizontalMenu = function (menuitem) {\n        return !isHorizontalMenu ? menuitem : __assign(__assign({}, menuitem), {\n          shortcut: Optional.none(),\n          icon: menuitem.text.isSome() ? Optional.none() : menuitem.icon\n        });\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons));\n        });\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu));\n        });\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons));\n        });\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(separator$3(d));\n        });\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, function (d) {\n          return fancy(parseForHorizontalMenu(d), backstage);\n        });\n      default: {\n          console.error('Unknown item in general menu', item);\n          return Optional.none();\n        }\n      }\n    };\n    var createAutocompleteItems = function (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage, highlightOn) {\n      var renderText = columns === 1;\n      var renderIcons = !renderText || menuHasIcons(items);\n      return cat(map$2(items, function (item) {\n        switch (item.type) {\n        case 'separator':\n          return createSeparatorItem(item).fold(handleError, function (d) {\n            return Optional.some(separator$3(d));\n          });\n        case 'cardmenuitem':\n          return createCardMenuItem(item).fold(handleError, function (d) {\n            return Optional.some(card(__assign(__assign({}, d), {\n              onAction: function (api) {\n                d.onAction(api);\n                onItemValueHandler(d.value, d.meta);\n              }\n            }), itemResponse, sharedBackstage, {\n              itemBehaviours: tooltipBehaviour(d.meta, sharedBackstage),\n              cardText: {\n                matchText: matchText,\n                highlightOn: highlightOn\n              }\n            }));\n          });\n        case 'autocompleteitem':\n        default:\n          return createAutocompleterItem(item).fold(handleError, function (d) {\n            return Optional.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons));\n          });\n        }\n      }));\n    };\n    var createPartialMenu = function (value, items, itemResponse, backstage, isHorizontalMenu) {\n      var hasIcons = menuHasIcons(items);\n      var alloyItems = cat(map$2(items, function (item) {\n        var itemHasIcon = function (i) {\n          return isHorizontalMenu ? !has$2(i, 'text') : hasIcons;\n        };\n        var createItem = function (i) {\n          return createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        };\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem(__assign(__assign({}, item), { disabled: true }));\n        } else {\n          return createItem(item);\n        }\n      }));\n      var createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, 'normal');\n    };\n    var createTieredDataFrom = function (partialMenu) {\n      return tieredMenu.singleData(partialMenu.value, partialMenu);\n    };\n    var createMenuFrom = function (partialMenu, columns, focusMode, presets) {\n      var focusManager = focusMode === FocusMode.ContentFocus ? highlights() : dom$2();\n      var movement = deriveMenuMovement(columns, presets);\n      var menuMarkers = markers(presets);\n      return {\n        dom: partialMenu.dom,\n        components: partialMenu.components,\n        items: partialMenu.items,\n        value: partialMenu.value,\n        markers: {\n          selectedItem: menuMarkers.selectedItem,\n          item: menuMarkers.item\n        },\n        movement: movement,\n        fakeFocus: focusMode === FocusMode.ContentFocus,\n        focusManager: focusManager,\n        menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached(function (comp, _se) {\n            detectSize(comp, 4, menuMarkers.item).each(function (_a) {\n              var numColumns = _a.numColumns, numRows = _a.numRows;\n              Keying.setGridSize(comp, numRows, numColumns);\n            });\n          })])\n      };\n    };\n\n    var register$9 = function (editor, sharedBackstage) {\n      var activeAutocompleter = value$1();\n      var processingAction = Cell(false);\n      var autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter']\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [run$1(dismissRequested(), function () {\n              return cancelIfNecessary();\n            })])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      var isMenuOpen = function () {\n        return InlineView.isOpen(autocompleter);\n      };\n      var isActive = function () {\n        return activeAutocompleter.get().isSome();\n      };\n      var hideIfNecessary = function () {\n        if (isActive()) {\n          InlineView.hide(autocompleter);\n        }\n      };\n      var cancelIfNecessary = function () {\n        if (isActive()) {\n          var lastElement = activeAutocompleter.get().map(function (ac) {\n            return ac.element;\n          });\n          detect(lastElement.getOr(SugarElement.fromDom(editor.selection.getNode()))).each(unwrap);\n          hideIfNecessary();\n          activeAutocompleter.clear();\n          processingAction.set(false);\n        }\n      };\n      var getAutocompleters = cached(function () {\n        return register$b(editor);\n      });\n      var getCombinedItems = function (triggerChar, matches) {\n        var columns = findMap(matches, function (m) {\n          return Optional.from(m.columns);\n        }).getOr(1);\n        return bind$3(matches, function (match) {\n          var choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, function (itemValue, itemMeta) {\n            var nr = editor.selection.getRng();\n            getContext(editor.dom, nr, triggerChar).fold(function () {\n              return console.error('Lost context. Cursor probably moved');\n            }, function (_a) {\n              var range = _a.range;\n              var autocompleterApi = {\n                hide: function () {\n                  cancelIfNecessary();\n                },\n                reload: function (fetchOptions) {\n                  hideIfNecessary();\n                  load(fetchOptions);\n                }\n              };\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage, match.highlightOn);\n        });\n      };\n      var commenceIfNecessary = function (context) {\n        if (!isActive()) {\n          var wrapper = create$4(editor, context.range);\n          activeAutocompleter.set({\n            triggerChar: context.triggerChar,\n            element: wrapper,\n            matchLength: context.text.length\n          });\n          processingAction.set(false);\n        }\n      };\n      var display = function (ac, context, lookupData, items) {\n        ac.matchLength = context.text.length;\n        var columns = findMap(lookupData, function (ld) {\n          return Optional.from(ld.columns);\n        }).getOr(1);\n        InlineView.showAt(autocompleter, Menu.sketch(createMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, 'normal'), columns, FocusMode.ContentFocus, 'normal')), {\n          anchor: {\n            type: 'node',\n            root: SugarElement.fromDom(editor.getBody()),\n            node: Optional.from(ac.element)\n          }\n        });\n        InlineView.getContent(autocompleter).each(Highlighting.highlightFirst);\n      };\n      var doLookup = function (fetchOptions) {\n        return activeAutocompleter.get().map(function (ac) {\n          return getContext(editor.dom, editor.selection.getRng(), ac.triggerChar).bind(function (newContext) {\n            return lookupWithContext(editor, getAutocompleters, newContext, fetchOptions);\n          });\n        }).getOrThunk(function () {\n          return lookup$2(editor, getAutocompleters);\n        });\n      };\n      var load = function (fetchOptions) {\n        doLookup(fetchOptions).fold(cancelIfNecessary, function (lookupInfo) {\n          commenceIfNecessary(lookupInfo.context);\n          lookupInfo.lookupData.then(function (lookupData) {\n            activeAutocompleter.get().map(function (ac) {\n              var context = lookupInfo.context;\n              if (ac.triggerChar === context.triggerChar) {\n                var combinedItems = getCombinedItems(context.triggerChar, lookupData);\n                if (combinedItems.length > 0) {\n                  display(ac, context, lookupData, combinedItems);\n                } else if (context.text.length - ac.matchLength >= 10) {\n                  cancelIfNecessary();\n                } else {\n                  hideIfNecessary();\n                }\n              }\n            });\n          });\n        });\n      };\n      var onKeypress = last(function (e) {\n        if (e.which === 27) {\n          return;\n        }\n        load();\n      }, 50);\n      var autocompleterUiApi = {\n        onKeypress: onKeypress,\n        cancelIfNecessary: cancelIfNecessary,\n        isMenuOpen: isMenuOpen,\n        isActive: isActive,\n        isProcessingAction: processingAction.get,\n        getView: function () {\n          return InlineView.getContent(autocompleter);\n        }\n      };\n      if (editor.hasPlugin('rtc') === false) {\n        AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n      }\n    };\n    var Autocompleter = { register: register$9 };\n\n    var closest = function (scope, selector, isRoot) {\n      return closest$1(scope, selector, isRoot).isSome();\n    };\n\n    var DelayedFunction = function (fun, delay) {\n      var ref = null;\n      var schedule = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        ref = setTimeout(function () {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      var cancel = function () {\n        if (ref !== null) {\n          clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel: cancel,\n        schedule: schedule\n      };\n    };\n\n    var SIGNIFICANT_MOVE = 5;\n    var LONGPRESS_DELAY = 400;\n    var getTouch = function (event) {\n      var raw = event.raw;\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(raw.touches[0]);\n    };\n    var isFarEnough = function (touch, data) {\n      var distX = Math.abs(touch.clientX - data.x);\n      var distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    var monitor = function (settings) {\n      var startData = value$1();\n      var longpressFired = Cell(false);\n      var longpress$1 = DelayedFunction(function (event) {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      var handleTouchstart = function (event) {\n        getTouch(event).each(function (touch) {\n          longpress$1.cancel();\n          var data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n        return Optional.none();\n      };\n      var handleTouchmove = function (event) {\n        longpress$1.cancel();\n        getTouch(event).each(function (touch) {\n          startData.on(function (data) {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n            }\n          });\n        });\n        return Optional.none();\n      };\n      var handleTouchend = function (event) {\n        longpress$1.cancel();\n        var isSame = function (data) {\n          return eq(data.target, event.target);\n        };\n        return startData.get().filter(isSame).map(function (_data) {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      var handlers = wrapAll([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      var fireIfReady = function (event, type) {\n        return get$e(handlers, type).bind(function (handler) {\n          return handler(event);\n        });\n      };\n      return { fireIfReady: fireIfReady };\n    };\n\n    var isDangerous = function (event) {\n      var keyEv = event.raw;\n      return keyEv.which === BACKSPACE[0] && !contains$2([\n        'input',\n        'textarea'\n      ], name$2(event.target)) && !closest(event.target, '[contenteditable=\"true\"]');\n    };\n    var isFirefox = function () {\n      return detect$1().browser.isFirefox();\n    };\n    var bindFocus = function (container, handler) {\n      if (isFirefox()) {\n        return capture(container, 'focus', handler);\n      } else {\n        return bind(container, 'focusin', handler);\n      }\n    };\n    var bindBlur = function (container, handler) {\n      if (isFirefox()) {\n        return capture(container, 'blur', handler);\n      } else {\n        return bind(container, 'focusout', handler);\n      }\n    };\n    var setup$d = function (container, rawSettings) {\n      var settings = __assign({ stopBackspace: true }, rawSettings);\n      var pointerEvents = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'touchcancel',\n        'gesturestart',\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      var tapEvent = monitor(settings);\n      var simpleEvents = map$2(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'transitioncancel',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), function (type) {\n        return bind(container, type, function (event) {\n          tapEvent.fireIfReady(event, type).each(function (tapStopped) {\n            if (tapStopped) {\n              event.kill();\n            }\n          });\n          var stopped = settings.triggerEvent(type, event);\n          if (stopped) {\n            event.kill();\n          }\n        });\n      });\n      var pasteTimeout = value$1();\n      var onPaste = bind(container, 'paste', function (event) {\n        tapEvent.fireIfReady(event, 'paste').each(function (tapStopped) {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        var stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(setTimeout(function () {\n          settings.triggerEvent(postPaste(), event);\n        }, 0));\n      });\n      var onKeydown = bind(container, 'keydown', function (event) {\n        var stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      var onFocusIn = bindFocus(container, function (event) {\n        var stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      var focusoutTimeout = value$1();\n      var onFocusOut = bindBlur(container, function (event) {\n        var stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(setTimeout(function () {\n          settings.triggerEvent(postBlur(), event);\n        }, 0));\n      });\n      var unbind = function () {\n        each$1(simpleEvents, function (e) {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.on(clearTimeout);\n        focusoutTimeout.on(clearTimeout);\n      };\n      return { unbind: unbind };\n    };\n\n    var derive = function (rawEvent, rawTarget) {\n      var source = get$e(rawEvent, 'target').getOr(rawTarget);\n      return Cell(source);\n    };\n\n    var fromSource = function (event, source) {\n      var stopper = Cell(false);\n      var cutter = Cell(false);\n      var stop = function () {\n        stopper.set(true);\n      };\n      var cut = function () {\n        cutter.set(true);\n      };\n      return {\n        stop: stop,\n        cut: cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event: event,\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    var fromExternal = function (event) {\n      var stopper = Cell(false);\n      var stop = function () {\n        stopper.set(true);\n      };\n      return {\n        stop: stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: never,\n        event: event,\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    var adt$1 = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    var doTriggerHandler = function (lookup, eventType, rawEvent, target, source, logger) {\n      var handler = lookup(eventType, target);\n      var simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(function () {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$1.complete();\n      }, function (handlerInfo) {\n        var descHandler = handlerInfo.descHandler;\n        var eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.complete();\n        } else {\n          return parent(handlerInfo.element).fold(function () {\n            logger.logNoParent(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.complete();\n          }, function (parent) {\n            logger.logEventResponse(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.resume(parent);\n          });\n        }\n      });\n    };\n    var doTriggerOnUntilStopped = function (lookup, eventType, rawEvent, rawTarget, source, logger) {\n      return doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(always, function (parent) {\n        return doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger);\n      }, never);\n    };\n    var triggerHandler = function (lookup, eventType, rawEvent, target, logger) {\n      var source = derive(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    var broadcast = function (listeners, rawEvent, _logger) {\n      var simulatedEvent = fromExternal(rawEvent);\n      each$1(listeners, function (listener) {\n        var descHandler = listener.descHandler;\n        var handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    var triggerUntilStopped = function (lookup, eventType, rawEvent, logger) {\n      return triggerOnUntilStopped(lookup, eventType, rawEvent, rawEvent.target, logger);\n    };\n    var triggerOnUntilStopped = function (lookup, eventType, rawEvent, rawTarget, logger) {\n      var source = derive(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    var eventHandler = function (element, descHandler) {\n      return {\n        element: element,\n        descHandler: descHandler\n      };\n    };\n    var broadcastHandler = function (id, handler) {\n      return {\n        id: id,\n        descHandler: handler\n      };\n    };\n    var EventRegistry = function () {\n      var registry = {};\n      var registerId = function (extraArgs, id, events) {\n        each(events, function (v, k) {\n          var handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      var findHandler = function (handlers, elem) {\n        return read$1(elem).bind(function (id) {\n          return get$e(handlers, id);\n        }).map(function (descHandler) {\n          return eventHandler(elem, descHandler);\n        });\n      };\n      var filterByType = function (type) {\n        return get$e(registry, type).map(function (handlers) {\n          return mapToArray(handlers, function (f, id) {\n            return broadcastHandler(id, f);\n          });\n        }).getOr([]);\n      };\n      var find = function (isAboveRoot, type, target) {\n        return get$e(registry, type).bind(function (handlers) {\n          return closest$4(target, function (elem) {\n            return findHandler(handlers, elem);\n          }, isAboveRoot);\n        });\n      };\n      var unregisterId = function (id) {\n        each(registry, function (handlersById, _eventName) {\n          if (has$2(handlersById, id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId: registerId,\n        unregisterId: unregisterId,\n        filterByType: filterByType,\n        find: find\n      };\n    };\n\n    var Registry = function () {\n      var events = EventRegistry();\n      var components = {};\n      var readOrTag = function (component) {\n        var elem = component.element;\n        return read$1(elem).getOrThunk(function () {\n          return write('uid-', component.element);\n        });\n      };\n      var failOnDuplicate = function (component, tagId) {\n        var conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element) + '\\nCannot use it for: ' + element(component.element) + '\\n' + 'The conflicting element is' + (inBody(conflict.element) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      var register = function (component) {\n        var tagId = readOrTag(component);\n        if (hasNonNullableKey(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        var extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events);\n        components[tagId] = component;\n      };\n      var unregister = function (component) {\n        read$1(component.element).each(function (tagId) {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      var filter = function (type) {\n        return events.filterByType(type);\n      };\n      var find = function (isAboveRoot, type, target) {\n        return events.find(isAboveRoot, type, target);\n      };\n      var getById = function (id) {\n        return get$e(components, id);\n      };\n      return {\n        find: find,\n        filter: filter,\n        register: register,\n        unregister: unregister,\n        getById: getById\n      };\n    };\n\n    var factory$j = function (detail) {\n      var _a = detail.dom, attributes = _a.attributes, domWithoutAttributes = __rest(_a, ['attributes']);\n      return {\n        uid: detail.uid,\n        dom: __assign({\n          tag: 'div',\n          attributes: __assign({ role: 'presentation' }, attributes)\n        }, domWithoutAttributes),\n        components: detail.components,\n        behaviours: get$2(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Container = single({\n      name: 'Container',\n      factory: factory$j,\n      configFields: [\n        defaulted('components', []),\n        field('containerBehaviours', []),\n        defaulted('events', {}),\n        defaulted('domModification', {}),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    var takeover = function (root) {\n      var isAboveRoot = function (el) {\n        return parent(root.element).fold(always, function (parent) {\n          return eq(el, parent);\n        });\n      };\n      var registry = Registry();\n      var lookup = function (eventName, target) {\n        return registry.find(isAboveRoot, eventName, target);\n      };\n      var domEvents = setup$d(root.element, {\n        triggerEvent: function (eventName, event) {\n          return monitorEvent(eventName, event.target, function (logger) {\n            return triggerUntilStopped(lookup, eventName, event, logger);\n          });\n        }\n      });\n      var systemApi = {\n        debugInfo: constant$1('real'),\n        triggerEvent: function (eventName, target, data) {\n          monitorEvent(eventName, target, function (logger) {\n            return triggerOnUntilStopped(lookup, eventName, data, target, logger);\n          });\n        },\n        triggerFocus: function (target, originator) {\n          read$1(target).fold(function () {\n            focus$3(target);\n          }, function (_alloyId) {\n            monitorEvent(focus$4(), target, function (logger) {\n              triggerHandler(lookup, focus$4(), {\n                originator: originator,\n                kill: noop,\n                prevent: noop,\n                target: target\n              }, target, logger);\n              return false;\n            });\n          });\n        },\n        triggerEscape: function (comp, simulatedEvent) {\n          systemApi.triggerEvent('keydown', comp.element, simulatedEvent.event);\n        },\n        getByUid: function (uid) {\n          return getByUid(uid);\n        },\n        getByDom: function (elem) {\n          return getByDom(elem);\n        },\n        build: build$1,\n        addToGui: function (c) {\n          add(c);\n        },\n        removeFromGui: function (c) {\n          remove(c);\n        },\n        addToWorld: function (c) {\n          addToWorld(c);\n        },\n        removeFromWorld: function (c) {\n          removeFromWorld(c);\n        },\n        broadcast: function (message) {\n          broadcast$1(message);\n        },\n        broadcastOn: function (channels, message) {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: function (eventName, event) {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: always\n      };\n      var addToWorld = function (component) {\n        component.connect(systemApi);\n        if (!isText$1(component.element)) {\n          registry.register(component);\n          each$1(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element, { target: component.element });\n        }\n      };\n      var removeFromWorld = function (component) {\n        if (!isText$1(component.element)) {\n          each$1(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      var add = function (component) {\n        attach(root, component);\n      };\n      var remove = function (component) {\n        detach(component);\n      };\n      var destroy = function () {\n        domEvents.unbind();\n        remove$5(root.element);\n      };\n      var broadcastData = function (data) {\n        var receivers = registry.filter(receive());\n        each$1(receivers, function (receiver) {\n          var descHandler = receiver.descHandler;\n          var handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      var broadcast$1 = function (message) {\n        broadcastData({\n          universal: true,\n          data: message\n        });\n      };\n      var broadcastOn = function (channels, message) {\n        broadcastData({\n          universal: false,\n          channels: channels,\n          data: message\n        });\n      };\n      var broadcastEvent = function (eventName, event) {\n        var listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      var getByUid = function (uid) {\n        return registry.getById(uid).fold(function () {\n          return Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.'));\n        }, Result.value);\n      };\n      var getByDom = function (elem) {\n        var uid = read$1(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root: root,\n        element: root.element,\n        destroy: destroy,\n        add: add,\n        remove: remove,\n        getByUid: getByUid,\n        getByDom: getByDom,\n        addToWorld: addToWorld,\n        removeFromWorld: removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn: broadcastOn,\n        broadcastEvent: broadcastEvent\n      };\n    };\n\n    var renderBar = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-bar',\n            'tox-form__controls-h-stack'\n          ]\n        },\n        components: map$2(spec.items, backstage.interpreter)\n      };\n    };\n\n    var schema$l = constant$1([\n      defaulted('prefix', 'form-field'),\n      field('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    var parts$e = constant$1([\n      optional({\n        schema: [required$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: function (spec) {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: function (spec) {\n            var excludeFactory = exclude(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [required$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    var factory$i = function (detail, components, _spec, _externals) {\n      var behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: function (container) {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: function (field) {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: function (field, value) {\n              Composing.getCurrent(field).each(function (current) {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      var events = derive$2([runOnAttached(function (component, _simulatedEvent) {\n          var ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(function (field) {\n            var id = generate$6(detail.prefix);\n            ps.label().each(function (label) {\n              set$8(label.element, 'for', id);\n              set$8(field.element, 'id', id);\n            });\n            ps['aria-descriptor']().each(function (descriptor) {\n              var descriptorId = generate$6(detail.prefix);\n              set$8(descriptor.element, 'id', descriptorId);\n              set$8(field.element, 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      var apis = {\n        getField: function (container) {\n          return getPart(container, detail, 'field');\n        },\n        getLabel: function (container) {\n          return getPart(container, detail, 'label');\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: behaviours,\n        events: events,\n        apis: apis\n      };\n    };\n    var FormField = composite({\n      name: 'FormField',\n      configFields: schema$l(),\n      partFields: parts$e(),\n      factory: factory$i,\n      apis: {\n        getField: function (apis, comp) {\n          return apis.getField(comp);\n        },\n        getLabel: function (apis, comp) {\n          return apis.getLabel(comp);\n        }\n      }\n    });\n\n    var exhibit$2 = function (base, tabConfig) {\n      return nu$7({\n        attributes: wrapAll([{\n            key: tabConfig.tabAttr,\n            value: 'true'\n          }])\n      });\n    };\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$2\n    });\n\n    var TabstopSchema = [defaulted('tabAttr', 'data-alloy-tabstop')];\n\n    var Tabstopping = create$7({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    var renderFormFieldWith = function (pLabel, pField, extraClasses, extraBehaviours) {\n      var spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    var renderFormField = function (pLabel, pField) {\n      return renderFormFieldWith(pLabel, pField, [], []);\n    };\n    var renderFormFieldSpecWith = function (pLabel, pField, extraClasses, extraBehaviours) {\n      return {\n        dom: renderFormFieldDomWith(extraClasses),\n        components: pLabel.toArray().concat([pField]),\n        fieldBehaviours: derive$1(extraBehaviours)\n      };\n    };\n    var renderFormFieldDom = function () {\n      return renderFormFieldDomWith([]);\n    };\n    var renderFormFieldDomWith = function (extraClasses) {\n      return {\n        tag: 'div',\n        classes: ['tox-form__group'].concat(extraClasses)\n      };\n    };\n    var renderLabel$2 = function (label, providersBackstage) {\n      return FormField.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label'],\n          innerHtml: providersBackstage.translate(label)\n        }\n      });\n    };\n\n    var formChangeEvent = generate$6('form-component-change');\n    var formCloseEvent = generate$6('form-close');\n    var formCancelEvent = generate$6('form-cancel');\n    var formActionEvent = generate$6('form-action');\n    var formSubmitEvent = generate$6('form-submit');\n    var formBlockEvent = generate$6('form-block');\n    var formUnblockEvent = generate$6('form-unblock');\n    var formTabChangeEvent = generate$6('form-tabchange');\n    var formResizeEvent = generate$6('form-resize');\n\n    var renderCollection = function (spec, providersBackstage) {\n      var _a;\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var runOnItem = function (f) {\n        return function (comp, se) {\n          closest$1(se.event.target, '[data-collection-item-value]').each(function (target) {\n            f(comp, se, target, get$d(target, 'data-collection-item-value'));\n          });\n        };\n      };\n      var setContents = function (comp, items) {\n        var htmlLines = map$2(items, function (item) {\n          var itemText = global$e.translate(item.text);\n          var textContent = spec.columns === 1 ? '<div class=\"tox-collection__item-label\">' + itemText + '</div>' : '';\n          var iconContent = '<div class=\"tox-collection__item-icon\">' + item.icon + '</div>';\n          var mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          var ariaLabel = itemText.replace(/\\_| \\- |\\-/g, function (match) {\n            return mapItemName[match];\n          });\n          var disabledClass = providersBackstage.isDisabled() ? ' tox-collection__item--state-disabled' : '';\n          return '<div class=\"tox-collection__item' + disabledClass + '\" tabindex=\"-1\" data-collection-item-value=\"' + global$7.encodeAllRaw(item.value) + '\" title=\"' + ariaLabel + '\" aria-label=\"' + ariaLabel + '\">' + iconContent + textContent + '</div>';\n        });\n        var chunks = spec.columns !== 'auto' && spec.columns > 1 ? chunk$1(htmlLines, spec.columns) : [htmlLines];\n        var html = map$2(chunks, function (ch) {\n          return '<div class=\"tox-collection__group\">' + ch.join('') + '</div>';\n        });\n        set$5(comp.element, html.join(''));\n      };\n      var onClick = runOnItem(function (comp, se, tgt, itemValue) {\n        se.stop();\n        if (!providersBackstage.isDisabled()) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }\n      });\n      var collectionEvents = [\n        run$1(mouseover(), runOnItem(function (comp, se, tgt) {\n          focus$3(tgt);\n        })),\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        run$1(focusin(), runOnItem(function (comp, se, tgt) {\n          descendant(comp.element, '.' + activeClass).each(function (currentActive) {\n            remove$2(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run$1(focusout(), runOnItem(function (comp) {\n          descendant(comp.element, '.' + activeClass).each(function (currentActive) {\n            remove$2(currentActive, activeClass);\n          });\n        })),\n        runOnExecute$1(runOnItem(function (comp, se, tgt, itemValue) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      var iterCollectionItems = function (comp, applyAttributes) {\n        return map$2(descendants(comp.element, '.tox-collection__item'), applyAttributes);\n      };\n      var pField = FormField.parts.field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity$1 },\n        behaviours: derive$1([\n          Disabling.config({\n            disabled: providersBackstage.isDisabled,\n            onDisabled: function (comp) {\n              iterCollectionItems(comp, function (childElm) {\n                add$2(childElm, 'tox-collection__item--state-disabled');\n                set$8(childElm, 'aria-disabled', true);\n              });\n            },\n            onEnabled: function (comp) {\n              iterCollectionItems(comp, function (childElm) {\n                remove$2(childElm, 'tox-collection__item--state-disabled');\n                remove$7(childElm, 'aria-disabled');\n              });\n            }\n          }),\n          receivingConfig(),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: []\n            },\n            onSetValue: function (comp, items) {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(function (_a) {\n                  var numRows = _a.numRows, numColumns = _a.numColumns;\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ]),\n        eventOrder: (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'alloy.base.behaviour',\n          'collection-events'\n        ], _a)\n      });\n      var extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    var schema$k = constant$1([\n      option('data'),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('tag', 'input'),\n      defaulted('inputClasses', []),\n      onHandler('onSetValue'),\n      defaulted('styles', {}),\n      defaulted('eventOrder', {}),\n      field('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted('selectOnFocus', true)\n    ]);\n    var focusBehaviours = function (detail) {\n      return derive$1([Focusing.config({\n          onFocus: !detail.selectOnFocus ? noop : function (component) {\n            var input = component.element;\n            var value = get$5(input);\n            input.dom.setSelectionRange(0, value.length);\n          }\n        })]);\n    };\n    var behaviours = function (detail) {\n      return __assign(__assign({}, focusBehaviours(detail)), augment(detail.inputBehaviours, [Representing.config({\n          store: __assign(__assign({ mode: 'manual' }, detail.data.map(function (data) {\n            return { initialValue: data };\n          }).getOr({})), {\n            getValue: function (input) {\n              return get$5(input.element);\n            },\n            setValue: function (input, data) {\n              var current = get$5(input.element);\n              if (current !== data) {\n                set$4(input.element, data);\n              }\n            }\n          }),\n          onSetValue: detail.onSetValue\n        })]));\n    };\n    var dom = function (detail) {\n      return {\n        tag: detail.tag,\n        attributes: __assign({ type: 'text' }, detail.inputAttributes),\n        styles: detail.inputStyles,\n        classes: detail.inputClasses\n      };\n    };\n\n    var factory$h = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: dom(detail),\n        components: [],\n        behaviours: behaviours(detail),\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Input = single({\n      name: 'Input',\n      configFields: schema$k(),\n      factory: factory$h\n    });\n\n    var exports$1 = {}, module = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (global, factory) {\n        typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.EphoxContactWrapper = factory());\n      }(this, function () {\n        var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n        var promise = { exports: {} };\n        (function (module) {\n          (function (root) {\n            var setTimeoutFunc = setTimeout;\n            function noop() {\n            }\n            function bind(fn, thisArg) {\n              return function () {\n                fn.apply(thisArg, arguments);\n              };\n            }\n            function Promise(fn) {\n              if (typeof this !== 'object')\n                throw new TypeError('Promises must be constructed via new');\n              if (typeof fn !== 'function')\n                throw new TypeError('not a function');\n              this._state = 0;\n              this._handled = false;\n              this._value = undefined;\n              this._deferreds = [];\n              doResolve(fn, this);\n            }\n            function handle(self, deferred) {\n              while (self._state === 3) {\n                self = self._value;\n              }\n              if (self._state === 0) {\n                self._deferreds.push(deferred);\n                return;\n              }\n              self._handled = true;\n              Promise._immediateFn(function () {\n                var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                if (cb === null) {\n                  (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                  return;\n                }\n                var ret;\n                try {\n                  ret = cb(self._value);\n                } catch (e) {\n                  reject(deferred.promise, e);\n                  return;\n                }\n                resolve(deferred.promise, ret);\n              });\n            }\n            function resolve(self, newValue) {\n              try {\n                if (newValue === self)\n                  throw new TypeError('A promise cannot be resolved with itself.');\n                if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                  var then = newValue.then;\n                  if (newValue instanceof Promise) {\n                    self._state = 3;\n                    self._value = newValue;\n                    finale(self);\n                    return;\n                  } else if (typeof then === 'function') {\n                    doResolve(bind(then, newValue), self);\n                    return;\n                  }\n                }\n                self._state = 1;\n                self._value = newValue;\n                finale(self);\n              } catch (e) {\n                reject(self, e);\n              }\n            }\n            function reject(self, newValue) {\n              self._state = 2;\n              self._value = newValue;\n              finale(self);\n            }\n            function finale(self) {\n              if (self._state === 2 && self._deferreds.length === 0) {\n                Promise._immediateFn(function () {\n                  if (!self._handled) {\n                    Promise._unhandledRejectionFn(self._value);\n                  }\n                });\n              }\n              for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                handle(self, self._deferreds[i]);\n              }\n              self._deferreds = null;\n            }\n            function Handler(onFulfilled, onRejected, promise) {\n              this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n              this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n              this.promise = promise;\n            }\n            function doResolve(fn, self) {\n              var done = false;\n              try {\n                fn(function (value) {\n                  if (done)\n                    return;\n                  done = true;\n                  resolve(self, value);\n                }, function (reason) {\n                  if (done)\n                    return;\n                  done = true;\n                  reject(self, reason);\n                });\n              } catch (ex) {\n                if (done)\n                  return;\n                done = true;\n                reject(self, ex);\n              }\n            }\n            Promise.prototype['catch'] = function (onRejected) {\n              return this.then(null, onRejected);\n            };\n            Promise.prototype.then = function (onFulfilled, onRejected) {\n              var prom = new this.constructor(noop);\n              handle(this, new Handler(onFulfilled, onRejected, prom));\n              return prom;\n            };\n            Promise.all = function (arr) {\n              var args = Array.prototype.slice.call(arr);\n              return new Promise(function (resolve, reject) {\n                if (args.length === 0)\n                  return resolve([]);\n                var remaining = args.length;\n                function res(i, val) {\n                  try {\n                    if (val && (typeof val === 'object' || typeof val === 'function')) {\n                      var then = val.then;\n                      if (typeof then === 'function') {\n                        then.call(val, function (val) {\n                          res(i, val);\n                        }, reject);\n                        return;\n                      }\n                    }\n                    args[i] = val;\n                    if (--remaining === 0) {\n                      resolve(args);\n                    }\n                  } catch (ex) {\n                    reject(ex);\n                  }\n                }\n                for (var i = 0; i < args.length; i++) {\n                  res(i, args[i]);\n                }\n              });\n            };\n            Promise.resolve = function (value) {\n              if (value && typeof value === 'object' && value.constructor === Promise) {\n                return value;\n              }\n              return new Promise(function (resolve) {\n                resolve(value);\n              });\n            };\n            Promise.reject = function (value) {\n              return new Promise(function (resolve, reject) {\n                reject(value);\n              });\n            };\n            Promise.race = function (values) {\n              return new Promise(function (resolve, reject) {\n                for (var i = 0, len = values.length; i < len; i++) {\n                  values[i].then(resolve, reject);\n                }\n              });\n            };\n            Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n              setImmediate(fn);\n            } : function (fn) {\n              setTimeoutFunc(fn, 0);\n            };\n            Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n              if (typeof console !== 'undefined' && console) {\n                console.warn('Possible Unhandled Promise Rejection:', err);\n              }\n            };\n            Promise._setImmediateFn = function _setImmediateFn(fn) {\n              Promise._immediateFn = fn;\n            };\n            Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n              Promise._unhandledRejectionFn = fn;\n            };\n            if (module.exports) {\n              module.exports = Promise;\n            } else if (!root.Promise) {\n              root.Promise = Promise;\n            }\n          }(commonjsGlobal));\n        }(promise));\n        var promisePolyfill = promise.exports;\n        var Global = function () {\n          if (typeof window !== 'undefined') {\n            return window;\n          } else {\n            return Function('return this;')();\n          }\n        }();\n        var promisePolyfill_1 = { boltExport: Global.Promise || promisePolyfill };\n        return promisePolyfill_1;\n      }));\n    }(undefined, exports$1, module));\n    var Promise$1 = module.exports.boltExport;\n\n    var nu$3 = function (baseFn) {\n      var data = Optional.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu$3(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each$1(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure$1 = function (a) {\n      return nu$3(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu$3,\n      pure: pure$1\n    };\n\n    var errorReporter = function (err) {\n      setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make$5 = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make$5(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make$5(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make$5(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make$5(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu$2 = function (baseFn) {\n      return make$5(function () {\n        return new Promise$1(baseFn);\n      });\n    };\n    var pure = function (a) {\n      return make$5(function () {\n        return Promise$1.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu$2,\n      pure: pure\n    };\n\n    var ariaElements = [\n      'input',\n      'textarea'\n    ];\n    var isAriaElement = function (elem) {\n      var name = name$2(elem);\n      return contains$2(ariaElements, name);\n    };\n    var markValid = function (component, invalidConfig) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      remove$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(function (notifyInfo) {\n        if (isAriaElement(component.element)) {\n          set$8(component.element, 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(function (container) {\n          set$5(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    var markInvalid = function (component, invalidConfig, invalidState, text) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(function (notifyInfo) {\n        if (isAriaElement(component.element)) {\n          set$8(component.element, 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(function (container) {\n          set$5(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    var query = function (component, invalidConfig, _invalidState) {\n      return invalidConfig.validator.fold(function () {\n        return Future.pure(Result.value(true));\n      }, function (validatorInfo) {\n        return validatorInfo.validate(component);\n      });\n    };\n    var run = function (component, invalidConfig, invalidState) {\n      invalidConfig.notify.each(function (notifyInfo) {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(function (valid) {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(function (err) {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, function (v) {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    var isInvalid = function (component, invalidConfig) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      return has(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run,\n        isInvalid: isInvalid\n    });\n\n    var events$8 = function (invalidConfig, invalidState) {\n      return invalidConfig.validator.map(function (validatorInfo) {\n        return derive$2([run$1(validatorInfo.onEvent, function (component) {\n            run(component, invalidConfig, invalidState).get(identity$1);\n          })].concat(validatorInfo.validateOnLoad ? [runOnAttached(function (component) {\n            run(component, invalidConfig, invalidState).get(noop);\n          })] : []));\n      }).getOr({});\n    };\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$8\n    });\n\n    var InvalidateSchema = [\n      required$1('invalidClass'),\n      defaulted('getRoot', Optional.none),\n      optionObjOf('notify', [\n        defaulted('aria', 'alert'),\n        defaulted('getContainer', Optional.none),\n        defaulted('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        required$1('validate'),\n        defaulted('onEvent', 'input'),\n        defaulted('validateOnLoad', true)\n      ])\n    ];\n\n    var Invalidating = create$7({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: function (validator) {\n          return function (component) {\n            var v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    var getCoupled = function (component, coupleConfig, coupleState, name) {\n      return coupleState.getOrCreate(component, coupleConfig, name);\n    };\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCoupled: getCoupled\n    });\n\n    var CouplingSchema = [requiredOf('others', setOf(Result.value, anyValue()))];\n\n    var init$a = function () {\n      var coupled = {};\n      var getOrCreate = function (component, coupleConfig, name) {\n        var available = keys(coupleConfig.others);\n        if (!available) {\n          throw new Error('Cannot find coupled component: ' + name + '. Known coupled components: ' + JSON.stringify(available, null, 2));\n        } else {\n          return get$e(coupled, name).getOrThunk(function () {\n            var builder = get$e(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n            var spec = builder(component);\n            var built = component.getSystem().build(spec);\n            coupled[name] = built;\n            return built;\n          });\n        }\n      };\n      var readState = constant$1({});\n      return nu$8({\n        readState: readState,\n        getOrCreate: getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$a\n    });\n\n    var Coupling = create$7({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    var suffix = constant$1('sink');\n    var partType$1 = constant$1(optional({\n      name: suffix(),\n      overrides: constant$1({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive$2([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightFirst'] = 0] = 'HighlightFirst';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 1] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n    var getAnchor = function (detail, component) {\n      var hotspot = detail.getHotspot(component).getOr(component);\n      var type = 'hotspot';\n      var overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(function () {\n        return {\n          type: type,\n          hotspot: hotspot,\n          overrides: overrides\n        };\n      }, function (layouts) {\n        return {\n          type: type,\n          hotspot: hotspot,\n          overrides: overrides,\n          layouts: layouts\n        };\n      });\n    };\n    var fetch = function (detail, mapFetch, component) {\n      var fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    var openF = function (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) {\n      var futureData = fetch(detail, mapFetch, component);\n      var getLazySink = getSink(component, detail);\n      return futureData.map(function (tdata) {\n        return tdata.bind(function (data) {\n          return Optional.from(tieredMenu.sketch(__assign(__assign({}, externals.menu()), {\n            uid: generate$5(''),\n            data: data,\n            highlightImmediately: highlightOnOpen === HighlightOnOpen.HighlightFirst,\n            onOpenMenu: function (tmenu, menu) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, menu, { anchor: anchor });\n              Sandboxing.decloak(sandbox);\n            },\n            onOpenSubmenu: function (tmenu, item, submenu) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, submenu, {\n                anchor: {\n                  type: 'submenu',\n                  item: item\n                }\n              });\n              Sandboxing.decloak(sandbox);\n            },\n            onRepositionMenu: function (tmenu, primaryMenu, submenuTriggers) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, primaryMenu, { anchor: anchor });\n              each$1(submenuTriggers, function (st) {\n                Positioning.position(sink, st.triggeredMenu, {\n                  anchor: {\n                    type: 'submenu',\n                    item: st.triggeringItem\n                  }\n                });\n              });\n            },\n            onEscape: function () {\n              Focusing.focus(component);\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n          })));\n        });\n      });\n    };\n    var open = function (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) {\n      var anchor = getAnchor(detail, hotspot);\n      var processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(function (tdata) {\n        tdata.fold(function () {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, function (data) {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    var close = function (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    var togglePopup = function (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) {\n      var sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      var showing = Sandboxing.isOpen(sandbox);\n      var action = showing ? close : open;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    var matchWidth = function (hotspot, container, useMinWidth) {\n      var menu = Composing.getCurrent(container).getOr(container);\n      var buttonWidth = get$a(hotspot.element);\n      if (useMinWidth) {\n        set$7(menu.element, 'min-width', buttonWidth + 'px');\n      } else {\n        set$6(menu.element, buttonWidth);\n      }\n    };\n    var getSink = function (anyInSystem, sinkDetail) {\n      return anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(function (internalSink) {\n        return function () {\n          return Result.value(internalSink);\n        };\n      }).getOrThunk(function () {\n        return sinkDetail.lazySink.fold(function () {\n          return function () {\n            return Result.error(new Error('No internal sink is specified, nor could an external sink be found'));\n          };\n        }, function (lazySinkFn) {\n          return function () {\n            return lazySinkFn(anyInSystem);\n          };\n        });\n      });\n    };\n    var doRepositionMenus = function (sandbox) {\n      Sandboxing.getState(sandbox).each(function (tmenu) {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    var makeSandbox$1 = function (detail, hotspot, extras) {\n      var ariaOwner = manager();\n      var onOpen = function (component, menu) {\n        var anchor = getAnchor(detail, hotspot);\n        ariaOwner.link(hotspot.element);\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      var onClose = function (component, menu) {\n        ariaOwner.unlink(hotspot.element);\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      var lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: {\n            id: ariaOwner.id,\n            role: 'listbox'\n          }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen: onOpen,\n            onClose: onClose,\n            isPartOf: function (container, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOf$1(hotspot, queryElem);\n            },\n            getAttachPoint: function () {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: function (sandbox) {\n              return Sandboxing.getState(sandbox).bind(function (menu) {\n                return Composing.getCurrent(menu);\n              });\n            }\n          }),\n          Receiving.config({ channels: __assign(__assign({}, receivingChannel$1({ isExtraPart: never })), receivingChannel({ doReposition: doRepositionMenus })) })\n        ])\n      };\n    };\n    var repositionMenus = function (comp) {\n      var sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    var sandboxFields = function () {\n      return [\n        defaulted('sandboxClasses', []),\n        SketchBehaviours.field('sandboxBehaviours', [\n          Composing,\n          Receiving,\n          Sandboxing,\n          Representing\n        ])\n      ];\n    };\n\n    var schema$j = constant$1([\n      required$1('dom'),\n      required$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      field('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      required$1('toggleClass'),\n      defaulted('eventOrder', {}),\n      option('lazySink'),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      option('role')\n    ].concat(sandboxFields()));\n    var parts$d = constant$1([\n      external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: function (detail) {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType$1()\n    ]);\n\n    var factory$g = function (detail, components, _spec, externals) {\n      var _a;\n      var lookupAttr = function (attr) {\n        return get$e(detail.dom, 'attributes').bind(function (attrs) {\n          return get$e(attrs, attr);\n        });\n      };\n      var switchToMenu = function (sandbox) {\n        Sandboxing.getState(sandbox).each(function (tmenu) {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      var action = function (component) {\n        var onOpenSync = switchToMenu;\n        togglePopup(detail, identity$1, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      var apis = {\n        expand: function (comp) {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: function (comp) {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        isOpen: Toggling.isOn,\n        close: function (comp) {\n          if (Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        repositionMenus: function (comp) {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      var triggerExecute = function (comp, _se) {\n        emitExecute(comp);\n        return Optional.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: function (hotspot) {\n                return makeSandbox$1(detail, hotspot, {\n                  onOpen: function () {\n                    return Toggling.on(hotspot);\n                  },\n                  onClose: function () {\n                    return Toggling.off(hotspot);\n                  }\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: function (comp, _se) {\n              if (Dropdown.isOpen(comp)) {\n                var sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Optional.some(true);\n            },\n            onEscape: function (comp, _se) {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Optional.some(true);\n              } else {\n                return Optional.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$a(Optional.some(action)),\n        eventOrder: __assign(__assign({}, detail.eventOrder), (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'toggling',\n          'alloy.base.behaviour'\n        ], _a)),\n        apis: apis,\n        domModification: {\n          attributes: __assign(__assign({ 'aria-haspopup': 'true' }, detail.role.fold(function () {\n            return {};\n          }, function (role) {\n            return { role: role };\n          })), detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {})\n        }\n      };\n    };\n    var Dropdown = composite({\n      name: 'Dropdown',\n      configFields: schema$j(),\n      partFields: parts$d(),\n      factory: factory$g,\n      apis: {\n        open: function (apis, comp) {\n          return apis.open(comp);\n        },\n        expand: function (apis, comp) {\n          return apis.expand(comp);\n        },\n        close: function (apis, comp) {\n          return apis.close(comp);\n        },\n        isOpen: function (apis, comp) {\n          return apis.isOpen(comp);\n        },\n        repositionMenus: function (apis, comp) {\n          return apis.repositionMenus(comp);\n        }\n      }\n    });\n\n    var exhibit$1 = function () {\n      return nu$7({\n        styles: {\n          '-webkit-user-select': 'none',\n          'user-select': 'none',\n          '-ms-user-select': 'none',\n          '-moz-user-select': '-moz-none'\n        },\n        attributes: { unselectable: 'on' }\n      });\n    };\n    var events$7 = function () {\n      return derive$2([abort(selectstart(), always)]);\n    };\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$7,\n        exhibit: exhibit$1\n    });\n\n    var Unselecting = create$7({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    var renderPanelButton = function (spec, sharedBackstage) {\n      return Dropdown.sketch({\n        dom: spec.dom,\n        components: spec.components,\n        toggleClass: 'mce-active',\n        dropdownBehaviours: derive$1([\n          DisablingConfigs.button(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          Unselecting.config({}),\n          Tabstopping.config({})\n        ]),\n        layouts: spec.layouts,\n        sandboxClasses: ['tox-dialog__popups'],\n        lazySink: sharedBackstage.getSink,\n        fetch: function (comp) {\n          return Future.nu(function (callback) {\n            return spec.fetch(callback);\n          }).map(function (items) {\n            return Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n              spec.onItemAction(comp, value);\n            }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })));\n          });\n        },\n        parts: { menu: part(false, 1, spec.presets) }\n      });\n    };\n\n    var colorInputChangeEvent = generate$6('color-input-change');\n    var colorSwatchChangeEvent = generate$6('color-swatch-change');\n    var colorPickerCancelEvent = generate$6('color-picker-cancel');\n    var renderColorInput = function (spec, sharedBackstage, colorInputBackstage) {\n      var pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        onSetValue: function (c) {\n          return Invalidating.run(c).get(noop);\n        },\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: sharedBackstage.providers.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: function (comp) {\n              return parent(comp.element);\n            },\n            notify: {\n              onValid: function (comp) {\n                var val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: function (input) {\n                var inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  var span = SugarElement.fromTag('span');\n                  set$7(span, 'background-color', inputValue);\n                  var res = getRaw(span, 'background-color').fold(function () {\n                    return Result.error('blah');\n                  }, function (_) {\n                    return Result.value(inputValue);\n                  });\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, sharedBackstage.providers);\n      });\n      var emitSwatchChange = function (colorBit, value) {\n        emitWith(colorBit, colorSwatchChangeEvent, { value: value });\n      };\n      var onItemAction = function (comp, value) {\n        memColorButton.getOpt(comp).each(function (colorBit) {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(function (valueOpt) {\n              valueOpt.fold(function () {\n                return emit(colorBit, colorPickerCancelEvent);\n              }, function (value) {\n                emitSwatchChange(colorBit, value);\n                addColor(value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      var memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: {\n          onRtl: function () {\n            return [\n              southwest$2,\n              southeast$2,\n              south$2\n            ];\n          },\n          onLtr: function () {\n            return [\n              southeast$2,\n              southwest$2,\n              south$2\n            ];\n          }\n        },\n        components: [],\n        fetch: getFetch$1(colorInputBackstage.getColors(), colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(),\n        presets: 'color',\n        onItemAction: onItemAction\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run$1(colorInputChangeEvent, function (comp, se) {\n              memColorButton.getOpt(comp).each(function (colorButton) {\n                set$7(colorButton.element, 'background-color', se.event.color);\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run$1(colorSwatchChangeEvent, function (comp, se) {\n              FormField.getField(comp).each(function (field) {\n                Representing.setValue(field, se.event.value);\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run$1(colorPickerCancelEvent, function (comp, _se) {\n              FormField.getField(comp).each(function (_field) {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    var labelPart = optional({\n      schema: [required$1('dom')],\n      name: 'label'\n    });\n    var edgePart = function (name) {\n      return optional({\n        name: '' + name + '-edge',\n        overrides: function (detail) {\n          var action = detail.model.manager.edgeActions[name];\n          return action.fold(function () {\n            return {};\n          }, function (a) {\n            return {\n              events: derive$2([\n                runActionExtra(touchstart(), function (comp, se, d) {\n                  return a(comp, d);\n                }, [detail]),\n                runActionExtra(mousedown(), function (comp, se, d) {\n                  return a(comp, d);\n                }, [detail]),\n                runActionExtra(mousemove(), function (comp, se, det) {\n                  if (det.mouseIsDown.get()) {\n                    a(comp, det);\n                  }\n                }, [detail])\n              ])\n            };\n          });\n        }\n      });\n    };\n    var tlEdgePart = edgePart('top-left');\n    var tedgePart = edgePart('top');\n    var trEdgePart = edgePart('top-right');\n    var redgePart = edgePart('right');\n    var brEdgePart = edgePart('bottom-right');\n    var bedgePart = edgePart('bottom');\n    var blEdgePart = edgePart('bottom-left');\n    var ledgePart = edgePart('left');\n    var thumbPart = required({\n      name: 'thumb',\n      defaults: constant$1({ dom: { styles: { position: 'absolute' } } }),\n      overrides: function (detail) {\n        return {\n          events: derive$2([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    var spectrumPart = required({\n      schema: [customField('mouseIsDown', function () {\n          return Cell(false);\n        })],\n      name: 'spectrum',\n      overrides: function (detail) {\n        var modelDetail = detail.model;\n        var model = modelDetail.manager;\n        var setValueFrom = function (component, simulatedEvent) {\n          return model.getValueFromEvent(simulatedEvent).map(function (value) {\n            return model.setValueFrom(component, detail, value);\n          });\n        };\n        return {\n          behaviours: derive$1([\n            Keying.config({\n              mode: 'special',\n              onLeft: function (spectrum) {\n                return model.onLeft(spectrum, detail);\n              },\n              onRight: function (spectrum) {\n                return model.onRight(spectrum, detail);\n              },\n              onUp: function (spectrum) {\n                return model.onUp(spectrum, detail);\n              },\n              onDown: function (spectrum) {\n                return model.onDown(spectrum, detail);\n              }\n            }),\n            Focusing.config({})\n          ]),\n          events: derive$2([\n            run$1(touchstart(), setValueFrom),\n            run$1(touchmove(), setValueFrom),\n            run$1(mousedown(), setValueFrom),\n            run$1(mousemove(), function (spectrum, se) {\n              if (detail.mouseIsDown.get()) {\n                setValueFrom(spectrum, se);\n              }\n            })\n          ])\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    var _sliderChangeEvent = 'slider.change.value';\n    var sliderChangeEvent = constant$1(_sliderChangeEvent);\n    var isTouchEvent$2 = function (evt) {\n      return evt.type.indexOf('touch') !== -1;\n    };\n    var getEventSource = function (simulatedEvent) {\n      var evt = simulatedEvent.event.raw;\n      if (isTouchEvent$2(evt)) {\n        var touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Optional.some(touchEvent.touches[0]).map(function (t) {\n          return SugarPosition(t.clientX, t.clientY);\n        }) : Optional.none();\n      } else {\n        var mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Optional.some(mouseEvent).map(function (me) {\n          return SugarPosition(me.clientX, me.clientY);\n        }) : Optional.none();\n      }\n    };\n\n    var t = 'top', r = 'right', b = 'bottom', l = 'left';\n    var minX = function (detail) {\n      return detail.model.minX;\n    };\n    var minY = function (detail) {\n      return detail.model.minY;\n    };\n    var min1X = function (detail) {\n      return detail.model.minX - 1;\n    };\n    var min1Y = function (detail) {\n      return detail.model.minY - 1;\n    };\n    var maxX = function (detail) {\n      return detail.model.maxX;\n    };\n    var maxY = function (detail) {\n      return detail.model.maxY;\n    };\n    var max1X = function (detail) {\n      return detail.model.maxX + 1;\n    };\n    var max1Y = function (detail) {\n      return detail.model.maxY + 1;\n    };\n    var range = function (detail, max, min) {\n      return max(detail) - min(detail);\n    };\n    var xRange = function (detail) {\n      return range(detail, maxX, minX);\n    };\n    var yRange = function (detail) {\n      return range(detail, maxY, minY);\n    };\n    var halfX = function (detail) {\n      return xRange(detail) / 2;\n    };\n    var halfY = function (detail) {\n      return yRange(detail) / 2;\n    };\n    var step = function (detail) {\n      return detail.stepSize;\n    };\n    var snap = function (detail) {\n      return detail.snapToGrid;\n    };\n    var snapStart = function (detail) {\n      return detail.snapStart;\n    };\n    var rounded = function (detail) {\n      return detail.rounded;\n    };\n    var hasEdge = function (detail, edgeName) {\n      return detail[edgeName + '-edge'] !== undefined;\n    };\n    var hasLEdge = function (detail) {\n      return hasEdge(detail, l);\n    };\n    var hasREdge = function (detail) {\n      return hasEdge(detail, r);\n    };\n    var hasTEdge = function (detail) {\n      return hasEdge(detail, t);\n    };\n    var hasBEdge = function (detail) {\n      return hasEdge(detail, b);\n    };\n    var currentValue = function (detail) {\n      return detail.model.value.get();\n    };\n\n    var xValue = function (x) {\n      return { x: x };\n    };\n    var yValue = function (y) {\n      return { y: y };\n    };\n    var xyValue = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var fireSliderChange$3 = function (component, value) {\n      emitWith(component, sliderChangeEvent(), { value: value });\n    };\n    var setToTLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    var setToTEdge = function (edge, detail) {\n      fireSliderChange$3(edge, yValue(min1Y(detail)));\n    };\n    var setToTEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    var setToTREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    var setToREdge = function (edge, detail) {\n      fireSliderChange$3(edge, xValue(max1X(detail)));\n    };\n    var setToREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    var setToBREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    var setToBEdge = function (edge, detail) {\n      fireSliderChange$3(edge, yValue(max1Y(detail)));\n    };\n    var setToBEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    var setToBLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    var setToLEdge = function (edge, detail) {\n      fireSliderChange$3(edge, xValue(min1X(detail)));\n    };\n    var setToLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    var reduceBy = function (value, min, max, step) {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    var increaseBy = function (value, min, max, step) {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    var capValue = function (value, min, max) {\n      return Math.max(min, Math.min(max, value));\n    };\n    var snapValueOf = function (value, min, max, step, snapStart) {\n      return snapStart.fold(function () {\n        var initValue = value - min;\n        var extraValue = Math.round(initValue / step) * step;\n        return capValue(min + extraValue, min - 1, max + 1);\n      }, function (start) {\n        var remainder = (value - start) % step;\n        var adjustment = Math.round(remainder / step);\n        var rawSteps = Math.floor((value - start) / step);\n        var maxSteps = Math.floor((max - start) / step);\n        var numSteps = Math.min(maxSteps, rawSteps + adjustment);\n        var r = start + numSteps * step;\n        return Math.max(start, r);\n      });\n    };\n    var findOffsetOf = function (value, min, max) {\n      return Math.min(max, Math.max(value, min)) - min;\n    };\n    var findValueOf = function (args) {\n      var min = args.min, max = args.max, range = args.range, value = args.value, step = args.step, snap = args.snap, snapStart = args.snapStart, rounded = args.rounded, hasMinEdge = args.hasMinEdge, hasMaxEdge = args.hasMaxEdge, minBound = args.minBound, maxBound = args.maxBound, screenRange = args.screenRange;\n      var capMin = hasMinEdge ? min - 1 : min;\n      var capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        var offset = findOffsetOf(value, minBound, maxBound);\n        var newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    var findOffsetOfValue$2 = function (args) {\n      var min = args.min, max = args.max, range = args.range, value = args.value, hasMinEdge = args.hasMinEdge, hasMaxEdge = args.hasMaxEdge, maxBound = args.maxBound, maxOffset = args.maxOffset, centerMinEdge = args.centerMinEdge, centerMaxEdge = args.centerMaxEdge;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    var top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    var getBounds = function (component) {\n      return component.element.dom.getBoundingClientRect();\n    };\n    var getBoundsProperty = function (bounds, property) {\n      return bounds[property];\n    };\n    var getMinXBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, left);\n    };\n    var getMaxXBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, right);\n    };\n    var getMinYBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, top);\n    };\n    var getMaxYBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    var getXScreenRange = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, width);\n    };\n    var getYScreenRange = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, height);\n    };\n    var getCenterOffsetOf = function (componentMinEdge, componentMaxEdge, spectrumMinEdge) {\n      return (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    };\n    var getXCenterOffSetOf = function (component, spectrum) {\n      var componentBounds = getBounds(component);\n      var spectrumBounds = getBounds(spectrum);\n      var componentMinEdge = getBoundsProperty(componentBounds, left);\n      var componentMaxEdge = getBoundsProperty(componentBounds, right);\n      var spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    var getYCenterOffSetOf = function (component, spectrum) {\n      var componentBounds = getBounds(component);\n      var spectrumBounds = getBounds(spectrum);\n      var componentMinEdge = getBoundsProperty(componentBounds, top);\n      var componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      var spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    var fireSliderChange$2 = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue$2 = function (x) {\n      return { x: x };\n    };\n    var findValueOfOffset$1 = function (spectrum, detail, left) {\n      var args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    var setValueFrom$2 = function (spectrum, detail, value) {\n      var xValue = findValueOfOffset$1(spectrum, detail, value);\n      var sliderVal = sliderValue$2(xValue);\n      fireSliderChange$2(spectrum, sliderVal);\n      return xValue;\n    };\n    var setToMin$2 = function (spectrum, detail) {\n      var min = minX(detail);\n      fireSliderChange$2(spectrum, sliderValue$2(min));\n    };\n    var setToMax$2 = function (spectrum, detail) {\n      var max = maxX(detail);\n      fireSliderChange$2(spectrum, sliderValue$2(max));\n    };\n    var moveBy$2 = function (direction, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var xValue = f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      fireSliderChange$2(spectrum, sliderValue$2(xValue));\n      return Optional.some(xValue);\n    };\n    var handleMovement$2 = function (direction) {\n      return function (spectrum, detail) {\n        return moveBy$2(direction, spectrum, detail).map(always);\n      };\n    };\n    var getValueFromEvent$2 = function (simulatedEvent) {\n      var pos = getEventSource(simulatedEvent);\n      return pos.map(function (p) {\n        return p.left;\n      });\n    };\n    var findOffsetOfValue$1 = function (spectrum, detail, value, minEdge, maxEdge) {\n      var minOffset = 0;\n      var maxOffset = getXScreenRange(spectrum);\n      var centerMinEdge = minEdge.bind(function (edge) {\n        return Optional.some(getXCenterOffSetOf(edge, spectrum));\n      }).getOr(minOffset);\n      var centerMaxEdge = maxEdge.bind(function (edge) {\n        return Optional.some(getXCenterOffSetOf(edge, spectrum));\n      }).getOr(maxOffset);\n      var args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset: minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset: maxOffset,\n        centerMinEdge: centerMinEdge,\n        centerMaxEdge: centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    var findPositionOfValue$1 = function (slider, spectrum, value, minEdge, maxEdge, detail) {\n      var offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    var setPositionFromValue$2 = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      var thumbRadius = get$a(thumb.element) / 2;\n      set$7(thumb.element, 'left', pos - thumbRadius + 'px');\n    };\n    var onLeft$2 = handleMovement$2(-1);\n    var onRight$2 = handleMovement$2(1);\n    var onUp$2 = Optional.none;\n    var onDown$2 = Optional.none;\n    var edgeActions$2 = {\n      'top-left': Optional.none(),\n      'top': Optional.none(),\n      'top-right': Optional.none(),\n      'right': Optional.some(setToREdge),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.none(),\n      'bottom-left': Optional.none(),\n      'left': Optional.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$2,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    var fireSliderChange$1 = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue$1 = function (y) {\n      return { y: y };\n    };\n    var findValueOfOffset = function (spectrum, detail, top) {\n      var args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    var setValueFrom$1 = function (spectrum, detail, value) {\n      var yValue = findValueOfOffset(spectrum, detail, value);\n      var sliderVal = sliderValue$1(yValue);\n      fireSliderChange$1(spectrum, sliderVal);\n      return yValue;\n    };\n    var setToMin$1 = function (spectrum, detail) {\n      var min = minY(detail);\n      fireSliderChange$1(spectrum, sliderValue$1(min));\n    };\n    var setToMax$1 = function (spectrum, detail) {\n      var max = maxY(detail);\n      fireSliderChange$1(spectrum, sliderValue$1(max));\n    };\n    var moveBy$1 = function (direction, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var yValue = f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange$1(spectrum, sliderValue$1(yValue));\n      return Optional.some(yValue);\n    };\n    var handleMovement$1 = function (direction) {\n      return function (spectrum, detail) {\n        return moveBy$1(direction, spectrum, detail).map(always);\n      };\n    };\n    var getValueFromEvent$1 = function (simulatedEvent) {\n      var pos = getEventSource(simulatedEvent);\n      return pos.map(function (p) {\n        return p.top;\n      });\n    };\n    var findOffsetOfValue = function (spectrum, detail, value, minEdge, maxEdge) {\n      var minOffset = 0;\n      var maxOffset = getYScreenRange(spectrum);\n      var centerMinEdge = minEdge.bind(function (edge) {\n        return Optional.some(getYCenterOffSetOf(edge, spectrum));\n      }).getOr(minOffset);\n      var centerMaxEdge = maxEdge.bind(function (edge) {\n        return Optional.some(getYCenterOffSetOf(edge, spectrum));\n      }).getOr(maxOffset);\n      var args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset: minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset: maxOffset,\n        centerMinEdge: centerMinEdge,\n        centerMaxEdge: centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    var findPositionOfValue = function (slider, spectrum, value, minEdge, maxEdge, detail) {\n      var offset = findOffsetOfValue(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    var setPositionFromValue$1 = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var pos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      var thumbRadius = get$b(thumb.element) / 2;\n      set$7(thumb.element, 'top', pos - thumbRadius + 'px');\n    };\n    var onLeft$1 = Optional.none;\n    var onRight$1 = Optional.none;\n    var onUp$1 = handleMovement$1(-1);\n    var onDown$1 = handleMovement$1(1);\n    var edgeActions$1 = {\n      'top-left': Optional.none(),\n      'top': Optional.some(setToTEdge),\n      'top-right': Optional.none(),\n      'right': Optional.none(),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.some(setToBEdge),\n      'bottom-left': Optional.none(),\n      'left': Optional.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    var fireSliderChange = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var setValueFrom = function (spectrum, detail, value) {\n      var xValue = findValueOfOffset$1(spectrum, detail, value.left);\n      var yValue = findValueOfOffset(spectrum, detail, value.top);\n      var val = sliderValue(xValue, yValue);\n      fireSliderChange(spectrum, val);\n      return val;\n    };\n    var moveBy = function (direction, isVerticalMovement, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var xValue = isVerticalMovement ? currentValue(detail).x : f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      var yValue = !isVerticalMovement ? currentValue(detail).y : f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange(spectrum, sliderValue(xValue, yValue));\n      return Optional.some(xValue);\n    };\n    var handleMovement = function (direction, isVerticalMovement) {\n      return function (spectrum, detail) {\n        return moveBy(direction, isVerticalMovement, spectrum, detail).map(always);\n      };\n    };\n    var setToMin = function (spectrum, detail) {\n      var mX = minX(detail);\n      var mY = minY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    var setToMax = function (spectrum, detail) {\n      var mX = maxX(detail);\n      var mY = maxY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    var getValueFromEvent = function (simulatedEvent) {\n      return getEventSource(simulatedEvent);\n    };\n    var setPositionFromValue = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var xPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      var yPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      var thumbXRadius = get$a(thumb.element) / 2;\n      var thumbYRadius = get$b(thumb.element) / 2;\n      set$7(thumb.element, 'left', xPos - thumbXRadius + 'px');\n      set$7(thumb.element, 'top', yPos - thumbYRadius + 'px');\n    };\n    var onLeft = handleMovement(-1, false);\n    var onRight = handleMovement(1, false);\n    var onUp = handleMovement(-1, true);\n    var onDown = handleMovement(1, true);\n    var edgeActions = {\n      'top-left': Optional.some(setToTLEdgeXY),\n      'top': Optional.some(setToTEdgeXY),\n      'top-right': Optional.some(setToTREdgeXY),\n      'right': Optional.some(setToREdgeXY),\n      'bottom-right': Optional.some(setToBREdgeXY),\n      'bottom': Optional.some(setToBEdgeXY),\n      'bottom-left': Optional.some(setToBLEdgeXY),\n      'left': Optional.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        getValueFromEvent: getValueFromEvent,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    var SliderSchema = [\n      defaulted('stepSize', 1),\n      defaulted('onChange', noop),\n      defaulted('onChoose', noop),\n      defaulted('onInit', noop),\n      defaulted('onDragStart', noop),\n      defaulted('onDragEnd', noop),\n      defaulted('snapToGrid', false),\n      defaulted('rounded', true),\n      option('snapStart'),\n      requiredOf('model', choose$1('mode', {\n        x: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          customField('value', function (spec) {\n            return Cell(spec.mode.minX);\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', function (spec) {\n            return Cell(spec.mode.minY);\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', function (spec) {\n            return Cell({\n              x: spec.mode.minX,\n              y: spec.mode.minY\n            });\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', TwoDModel)\n        ]\n      })),\n      field('sliderBehaviours', [\n        Keying,\n        Representing\n      ]),\n      customField('mouseIsDown', function () {\n        return Cell(false);\n      })\n    ];\n\n    var sketch$2 = function (detail, components, _spec, _externals) {\n      var _a;\n      var getThumb = function (component) {\n        return getPartOrDie(component, detail, 'thumb');\n      };\n      var getSpectrum = function (component) {\n        return getPartOrDie(component, detail, 'spectrum');\n      };\n      var getLeftEdge = function (component) {\n        return getPart(component, detail, 'left-edge');\n      };\n      var getRightEdge = function (component) {\n        return getPart(component, detail, 'right-edge');\n      };\n      var getTopEdge = function (component) {\n        return getPart(component, detail, 'top-edge');\n      };\n      var getBottomEdge = function (component) {\n        return getPart(component, detail, 'bottom-edge');\n      };\n      var modelDetail = detail.model;\n      var model = modelDetail.manager;\n      var refresh = function (slider, thumb) {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge: getLeftEdge,\n          getRightEdge: getRightEdge,\n          getTopEdge: getTopEdge,\n          getBottomEdge: getBottomEdge,\n          getSpectrum: getSpectrum\n        });\n      };\n      var setValue = function (slider, newValue) {\n        modelDetail.value.set(newValue);\n        var thumb = getThumb(slider);\n        refresh(slider, thumb);\n      };\n      var changeValue = function (slider, newValue) {\n        setValue(slider, newValue);\n        var thumb = getThumb(slider);\n        detail.onChange(slider, thumb, newValue);\n        return Optional.some(true);\n      };\n      var resetToMin = function (slider) {\n        model.setToMin(slider, detail);\n      };\n      var resetToMax = function (slider) {\n        model.setToMax(slider, detail);\n      };\n      var choose = function (slider) {\n        var fireOnChoose = function () {\n          getPart(slider, detail, 'thumb').each(function (thumb) {\n            var value = modelDetail.value.get();\n            detail.onChoose(slider, thumb, value);\n          });\n        };\n        var wasDown = detail.mouseIsDown.get();\n        detail.mouseIsDown.set(false);\n        if (wasDown) {\n          fireOnChoose();\n        }\n      };\n      var onDragStart = function (slider, simulatedEvent) {\n        simulatedEvent.stop();\n        detail.mouseIsDown.set(true);\n        detail.onDragStart(slider, getThumb(slider));\n      };\n      var onDragEnd = function (slider, simulatedEvent) {\n        simulatedEvent.stop();\n        detail.onDragEnd(slider, getThumb(slider));\n        choose(slider);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.sliderBehaviours, [\n          Keying.config({\n            mode: 'special',\n            focusIn: function (slider) {\n              return getPart(slider, detail, 'spectrum').map(Keying.focusIn).map(always);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (_) {\n                return modelDetail.value.get();\n              }\n            }\n          }),\n          Receiving.config({ channels: (_a = {}, _a[mouseReleased()] = { onReceive: choose }, _a) })\n        ]),\n        events: derive$2([\n          run$1(sliderChangeEvent(), function (slider, simulatedEvent) {\n            changeValue(slider, simulatedEvent.event.value);\n          }),\n          runOnAttached(function (slider, _simulatedEvent) {\n            var getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            var thumb = getThumb(slider);\n            refresh(slider, thumb);\n            var spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          }),\n          run$1(touchstart(), onDragStart),\n          run$1(touchend(), onDragEnd),\n          run$1(mousedown(), onDragStart),\n          run$1(mouseup(), onDragEnd)\n        ]),\n        apis: {\n          resetToMin: resetToMin,\n          resetToMax: resetToMax,\n          setValue: setValue,\n          refresh: refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    var Slider = composite({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch$2,\n      apis: {\n        setValue: function (apis, slider, value) {\n          apis.setValue(slider, value);\n        },\n        resetToMin: function (apis, slider) {\n          apis.resetToMin(slider);\n        },\n        resetToMax: function (apis, slider) {\n          apis.resetToMax(slider);\n        },\n        refresh: function (apis, slider) {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    var fieldsUpdate = generate$6('rgb-hex-update');\n    var sliderUpdate = generate$6('slider-update');\n    var paletteUpdate = generate$6('palette-update');\n\n    var sliderFactory = function (translate, getClass) {\n      var spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      var thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: { role: 'presentation' }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant$1({ y: 0 })\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: function (slider, _thumb, value) {\n          emitWith(slider, sliderUpdate, { value: value });\n        }\n      });\n    };\n\n    var owner$1 = 'form';\n    var schema$i = [field('formBehaviours', [Representing])];\n    var getPartName$1 = function (name) {\n      return '<alloy.field.' + name + '>';\n    };\n    var sketch$1 = function (fSpec) {\n      var parts = function () {\n        var record = [];\n        var field = function (name, config) {\n          record.push(name);\n          return generateOne$1(owner$1, getPartName$1(name), config);\n        };\n        return {\n          field: field,\n          record: constant$1(record)\n        };\n      }();\n      var spec = fSpec(parts);\n      var partNames = parts.record();\n      var fieldParts = map$2(partNames, function (n) {\n        return required({\n          name: n,\n          pname: getPartName$1(n)\n        });\n      });\n      return composite$1(owner$1, schema$i, fieldParts, make$4, spec);\n    };\n    var toResult = function (o, e) {\n      return o.fold(function () {\n        return Result.error(e);\n      }, Result.value);\n    };\n    var make$4 = function (detail, components) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.formBehaviours, [Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (form) {\n                var resPs = getAllParts(form, detail);\n                return map$1(resPs, function (resPThunk, pName) {\n                  return resPThunk().bind(function (v) {\n                    var opt = Composing.getCurrent(v);\n                    return toResult(opt, new Error('Cannot find a current component to extract the value from for form part \\'' + pName + '\\': ' + element(v.element)));\n                  }).map(Representing.getValue);\n                });\n              },\n              setValue: function (form, values) {\n                each(values, function (newValue, key) {\n                  getPart(form, detail, key).each(function (wrapper) {\n                    Composing.getCurrent(wrapper).each(function (field) {\n                      Representing.setValue(field, newValue);\n                    });\n                  });\n                });\n              }\n            }\n          })]),\n        apis: {\n          getField: function (form, key) {\n            return getPart(form, detail, key).bind(Composing.getCurrent);\n          }\n        }\n      };\n    };\n    var Form = {\n      getField: makeApi(function (apis, component, key) {\n        return apis.getField(component, key);\n      }),\n      sketch: sketch$1\n    };\n\n    var validInput = generate$6('valid-input');\n    var invalidInput = generate$6('invalid-input');\n    var validatingInput = generate$6('validating-input');\n    var translatePrefix = 'colorcustom.rgb.';\n    var rgbFormFactory = function (translate, getClass, onValidHexx, onInvalidHexx) {\n      var invalidation = function (label, isValid) {\n        return Invalidating.config({\n          invalidClass: getClass('invalid'),\n          notify: {\n            onValidate: function (comp) {\n              emitWith(comp, validatingInput, { type: label });\n            },\n            onValid: function (comp) {\n              emitWith(comp, validInput, {\n                type: label,\n                value: Representing.getValue(comp)\n              });\n            },\n            onInvalid: function (comp) {\n              emitWith(comp, invalidInput, {\n                type: label,\n                value: Representing.getValue(comp)\n              });\n            }\n          },\n          validator: {\n            validate: function (comp) {\n              var value = Representing.getValue(comp);\n              var res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n              return Future.pure(res);\n            },\n            validateOnLoad: false\n          }\n        });\n      };\n      var renderTextField = function (isValid, name, label, description, data) {\n        var helptext = translate(translatePrefix + 'range');\n        var pLabel = FormField.parts.label({\n          dom: {\n            tag: 'label',\n            innerHtml: label,\n            attributes: { 'aria-label': description }\n          }\n        });\n        var pField = FormField.parts.field({\n          data: data,\n          factory: Input,\n          inputAttributes: __assign({ type: 'text' }, name === 'hex' ? { 'aria-live': 'polite' } : {}),\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid),\n            Tabstopping.config({})\n          ]),\n          onSetValue: function (input) {\n            if (Invalidating.isInvalid(input)) {\n              var run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        var comps = [\n          pLabel,\n          pField\n        ];\n        var concats = name !== 'hex' ? [FormField.parts['aria-descriptor']({ text: helptext })] : [];\n        var components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' }\n          },\n          components: components\n        };\n      };\n      var copyRgbToHex = function (form, rgba) {\n        var hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(function (hexField) {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value });\n          }\n        });\n        return hex;\n      };\n      var copyRgbToForm = function (form, rgb) {\n        var red = rgb.red;\n        var green = rgb.green;\n        var blue = rgb.blue;\n        Representing.setValue(form, {\n          red: red,\n          green: green,\n          blue: blue\n        });\n      };\n      var memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      var updatePreview = function (anyInSystem, hex) {\n        memPreview.getOpt(anyInSystem).each(function (preview) {\n          set$7(preview.element, 'background-color', '#' + hex.value);\n        });\n      };\n      var factory = function () {\n        var state = {\n          red: Cell(Optional.some(255)),\n          green: Cell(Optional.some(255)),\n          blue: Cell(Optional.some(255)),\n          hex: Cell(Optional.some('ffffff'))\n        };\n        var copyHexToRgb = function (form, hex) {\n          var rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        var get = function (prop) {\n          return state[prop].get();\n        };\n        var set = function (prop, value) {\n          state[prop].set(value);\n        };\n        var getValueRgb = function () {\n          return get('red').bind(function (red) {\n            return get('green').bind(function (green) {\n              return get('blue').map(function (blue) {\n                return rgbaColour(red, green, blue, 1);\n              });\n            });\n          });\n        };\n        var setValueRgb = function (rgb) {\n          var red = rgb.red;\n          var green = rgb.green;\n          var blue = rgb.blue;\n          set('red', Optional.some(red));\n          set('green', Optional.some(green));\n          set('blue', Optional.some(blue));\n        };\n        var onInvalidInput = function (form, simulatedEvent) {\n          var data = simulatedEvent.event;\n          if (data.type !== 'hex') {\n            set(data.type, Optional.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        var onValidHex = function (form, value) {\n          onValidHexx(form);\n          var hex = hexColour(value);\n          set('hex', Optional.some(value));\n          var rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate, { hex: hex });\n          updatePreview(form, hex);\n        };\n        var onValidRgb = function (form, prop, value) {\n          var val = parseInt(value, 10);\n          set(prop, Optional.some(val));\n          getValueRgb().each(function (rgb) {\n            var hex = copyRgbToHex(form, rgb);\n            emitWith(form, fieldsUpdate, { hex: hex });\n            updatePreview(form, hex);\n          });\n        };\n        var isHexInputEvent = function (data) {\n          return data.type === 'hex';\n        };\n        var onValidInput = function (form, simulatedEvent) {\n          var data = simulatedEvent.event;\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value);\n          } else {\n            onValidRgb(form, data.type, data.value);\n          }\n        };\n        var formPartStrings = function (key) {\n          return {\n            label: translate(translatePrefix + key + '.label'),\n            description: translate(translatePrefix + key + '.description')\n          };\n        };\n        var redStrings = formPartStrings('red');\n        var greenStrings = formPartStrings('green');\n        var blueStrings = formPartStrings('blue');\n        var hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(function (parts) {\n          return {\n            dom: {\n              tag: 'form',\n              classes: [getClass('rgb-form')],\n              attributes: { 'aria-label': translate('aria.color.picker') }\n            },\n            components: [\n              parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n              parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n              parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n              parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n              memPreview.asSpec()\n            ],\n            formBehaviours: derive$1([\n              Invalidating.config({ invalidClass: getClass('form-invalid') }),\n              config('rgb-form-events', [\n                run$1(validInput, onValidInput),\n                run$1(invalidInput, onInvalidInput),\n                run$1(validatingInput, onInvalidInput)\n              ])\n            ])\n          };\n        }), {\n          apis: {\n            updateHex: function (form, hex) {\n              Representing.setValue(form, { hex: hex.value });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      var rgbFormSketcher = single({\n        factory: factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: function (apis, form, hex) {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n\n    var paletteFactory = function (_translate, getClass) {\n      var spectrumPart = Slider.parts.spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      var thumbPart = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: '<div class=' + getClass('sv-palette-inner-thumb') + ' role=\"presentation\"></div>'\n        }\n      });\n      var setColour = function (canvas, rgba) {\n        var width = canvas.width, height = canvas.height;\n        var ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        var grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        var grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      var setPaletteHue = function (slider, hue) {\n        var canvas = slider.components()[0].element.dom;\n        var hsv = hsvColour(hue, 100, 100);\n        var rgba = fromHsv(hsv);\n        setColour(canvas, toString(rgba));\n      };\n      var setPaletteThumb = function (slider, hex) {\n        var hsv = fromRgb(fromHex(hex));\n        Slider.setValue(slider, {\n          x: hsv.saturation,\n          y: 100 - hsv.value\n        });\n      };\n      var factory = function (_detail) {\n        var getInitialValue = constant$1({\n          x: 0,\n          y: 0\n        });\n        var onChange = function (slider, _thumb, value) {\n          emitWith(slider, paletteUpdate, { value: value });\n        };\n        var onInit = function (_slider, _thumb, spectrum, _value) {\n          setColour(spectrum.element.dom, toString(red));\n        };\n        var sliderBehaviours = derive$1([\n          Composing.config({ find: Optional.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue: getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange: onChange,\n          onInit: onInit,\n          sliderBehaviours: sliderBehaviours\n        });\n      };\n      var saturationBrightnessPaletteSketcher = single({\n        factory: factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setHue: function (_apis, slider, hue) {\n            setPaletteHue(slider, hue);\n          },\n          setThumb: function (_apis, slider, hex) {\n            setPaletteThumb(slider, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n\n    var makeFactory = function (translate, getClass) {\n      var factory = function (detail) {\n        var rgbForm = rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n        var sbPalette = paletteFactory(translate, getClass);\n        var hueSliderToDegrees = function (hue) {\n          return (100 - hue) / 100 * 360;\n        };\n        var hueDegreesToSlider = function (hue) {\n          return 100 - hue / 360 * 100;\n        };\n        var state = {\n          paletteRgba: Cell(red),\n          paletteHue: Cell(0)\n        };\n        var memSlider = record(sliderFactory(translate, getClass));\n        var memPalette = record(sbPalette.sketch({}));\n        var memRgb = record(rgbForm.sketch({}));\n        var updatePalette = function (anyInSystem, _hex, hue) {\n          memPalette.getOpt(anyInSystem).each(function (palette) {\n            sbPalette.setHue(palette, hue);\n          });\n        };\n        var updateFields = function (anyInSystem, hex) {\n          memRgb.getOpt(anyInSystem).each(function (form) {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        var updateSlider = function (anyInSystem, _hex, hue) {\n          memSlider.getOpt(anyInSystem).each(function (slider) {\n            Slider.setValue(slider, { y: hueDegreesToSlider(hue) });\n          });\n        };\n        var updatePaletteThumb = function (anyInSystem, hex) {\n          memPalette.getOpt(anyInSystem).each(function (palette) {\n            sbPalette.setThumb(palette, hex);\n          });\n        };\n        var updateState = function (hex, hue) {\n          var rgba = fromHex(hex);\n          state.paletteRgba.set(rgba);\n          state.paletteHue.set(hue);\n        };\n        var runUpdates = function (anyInSystem, hex, hue, updates) {\n          updateState(hex, hue);\n          each$1(updates, function (update) {\n            update(anyInSystem, hex, hue);\n          });\n        };\n        var onPaletteUpdate = function () {\n          var updates = [updateFields];\n          return function (form, simulatedEvent) {\n            var value = simulatedEvent.event.value;\n            var oldHue = state.paletteHue.get();\n            var newHsv = hsvColour(oldHue, value.x, 100 - value.y);\n            var newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, oldHue, updates);\n          };\n        };\n        var onSliderUpdate = function () {\n          var updates = [\n            updatePalette,\n            updateFields\n          ];\n          return function (form, simulatedEvent) {\n            var hue = hueSliderToDegrees(simulatedEvent.event.value.y);\n            var oldRgb = state.paletteRgba.get();\n            var oldHsv = fromRgb(oldRgb);\n            var newHsv = hsvColour(hue, oldHsv.saturation, oldHsv.value);\n            var newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, hue, updates);\n          };\n        };\n        var onFieldsUpdate = function () {\n          var updates = [\n            updatePalette,\n            updateSlider,\n            updatePaletteThumb\n          ];\n          return function (form, simulatedEvent) {\n            var hex = simulatedEvent.event.hex;\n            var hsv = hexToHsv(hex);\n            runUpdates(form, hex, hsv.hue, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            memSlider.asSpec(),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run$1(fieldsUpdate, onFieldsUpdate()),\n              run$1(paletteUpdate, onPaletteUpdate()),\n              run$1(sliderUpdate, onSliderUpdate())\n            ]),\n            Composing.config({\n              find: function (comp) {\n                return memRgb.getOpt(comp);\n              }\n            }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      var colourPickerSketcher = single({\n        name: 'ColourPicker',\n        configFields: [\n          required$1('dom'),\n          defaulted('onValidHex', noop),\n          defaulted('onInvalidHex', noop)\n        ],\n        factory: factory\n      });\n      return colourPickerSketcher;\n    };\n\n    var self$1 = function () {\n      return Composing.config({ find: Optional.some });\n    };\n    var memento$1 = function (mem) {\n      return Composing.config({ find: mem.getOpt });\n    };\n    var childAt = function (index) {\n      return Composing.config({\n        find: function (comp) {\n          return child$2(comp.element, index).bind(function (element) {\n            return comp.getSystem().getByDom(element).toOptional();\n          });\n        }\n      });\n    };\n    var ComposingConfigs = {\n      self: self$1,\n      memento: memento$1,\n      childAt: childAt\n    };\n\n    var english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red component',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green component',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue component',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'colorcustom.sb.saturation': 'Saturation',\n      'colorcustom.sb.brightness': 'Brightness',\n      'colorcustom.sb.picker': 'Saturation and Brightness Picker',\n      'colorcustom.sb.palette': 'Saturation and Brightness Palette',\n      'colorcustom.sb.instructions': 'Use arrow keys to select saturation and brightness, on x and y axes',\n      'colorcustom.hue.hue': 'Hue',\n      'colorcustom.hue.slider': 'Hue Slider',\n      'colorcustom.hue.palette': 'Hue Palette',\n      'colorcustom.hue.instructions': 'Use arrow keys to select a hue',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    var getEnglishText = function (key) {\n      return english[key];\n    };\n    var translate$1 = function (key) {\n      return getEnglishText(key);\n    };\n    var renderColorPicker = function (_spec) {\n      var getClass = function (key) {\n        return 'tox-' + key;\n      };\n      var colourPickerFactory = makeFactory(translate$1, getClass);\n      var onValidHex = function (form) {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      var onInvalidHex = function (form) {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      var memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex: onValidHex,\n        onInvalidHex: onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (comp) {\n                var picker = memPicker.get(comp);\n                var optRgbForm = Composing.getCurrent(picker);\n                var optHex = optRgbForm.bind(function (rgbForm) {\n                  var formValues = Representing.getValue(rgbForm);\n                  return formValues.hex;\n                });\n                return optHex.map(function (hex) {\n                  return '#' + hex;\n                }).getOr('');\n              },\n              setValue: function (comp, newValue) {\n                var pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n                var m = pattern.exec(newValue);\n                var picker = memPicker.get(comp);\n                var optRgbForm = Composing.getCurrent(picker);\n                optRgbForm.fold(function () {\n                  console.log('Can not find form');\n                }, function (rgbForm) {\n                  Representing.setValue(rgbForm, { hex: Optional.from(m[1]).getOr('') });\n                  Form.getField(rgbForm, 'hex').each(function (hexField) {\n                    emit(hexField, input());\n                  });\n                });\n              }\n            }\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    var isOldCustomEditor = function (spec) {\n      return has$2(spec, 'init');\n    };\n    var renderCustomEditor = function (spec) {\n      var editorApi = value$1();\n      var memReplaced = record({ dom: { tag: spec.tag } });\n      var initialValue = value$1();\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('custom-editor-events', [runOnAttached(function (component) {\n              memReplaced.getOpt(component).each(function (ta) {\n                (isOldCustomEditor(spec) ? spec.init(ta.element.dom) : global$6.load(spec.scriptId, spec.scriptUrl).then(function (init) {\n                  return init(ta.element.dom, spec.settings);\n                })).then(function (ea) {\n                  initialValue.on(function (cvalue) {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.clear();\n                  editorApi.set(ea);\n                });\n              });\n            })]),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function () {\n                return editorApi.get().fold(function () {\n                  return initialValue.get().getOr('');\n                }, function (ed) {\n                  return ed.getValue();\n                });\n              },\n              setValue: function (component, value) {\n                editorApi.get().fold(function () {\n                  initialValue.set(value);\n                }, function (ed) {\n                  return ed.setValue(value);\n                });\n              }\n            }\n          }),\n          ComposingConfigs.self()\n        ]),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var processors = objOf([\n      defaulted('preprocess', identity$1),\n      defaulted('postprocess', identity$1)\n    ]);\n    var memento = function (mem, rawProcessors) {\n      var ps = asRawOrDie$1('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function (comp) {\n            var other = mem.get(comp);\n            var rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: function (comp, rawValue) {\n            var newValue = ps.preprocess(rawValue);\n            var other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    var withComp = function (optInitialValue, getter, setter) {\n      return Representing.config(deepMerge({\n        store: {\n          mode: 'manual',\n          getValue: getter,\n          setValue: setter\n        }\n      }, optInitialValue.map(function (initialValue) {\n        return { store: { initialValue: initialValue } };\n      }).getOr({})));\n    };\n    var withElement = function (initialValue, getter, setter) {\n      return withComp(initialValue, function (c) {\n        return getter(c.element);\n      }, function (c, v) {\n        return setter(c.element, v);\n      });\n    };\n    var domValue = function (optInitialValue) {\n      return withElement(optInitialValue, get$5, set$4);\n    };\n    var domHtml = function (optInitialValue) {\n      return withElement(optInitialValue, get$7, set$5);\n    };\n    var memory = function (initialValue) {\n      return Representing.config({\n        store: {\n          mode: 'memory',\n          initialValue: initialValue\n        }\n      });\n    };\n    var RepresentingConfigs = {\n      memento: memento,\n      withElement: withElement,\n      withComp: withComp,\n      domValue: domValue,\n      domHtml: domHtml,\n      memory: memory\n    };\n\n    var defaultImageFileTypes = 'jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp';\n    var filterByExtension = function (files, providersBackstage) {\n      var allowedImageFileTypes = global$5.explode(providersBackstage.getSetting('images_file_types', defaultImageFileTypes, 'string'));\n      var isFileInAllowedTypes = function (file) {\n        return exists(allowedImageFileTypes, function (type) {\n          return endsWith(file.name.toLowerCase(), '.' + type.toLowerCase());\n        });\n      };\n      return filter$2(from(files), isFileInAllowedTypes);\n    };\n    var renderDropZone = function (spec, providersBackstage) {\n      var stopper = function (_, se) {\n        se.stop();\n      };\n      var sequence = function (actions) {\n        return function (comp, se) {\n          each$1(actions, function (a) {\n            a(comp, se);\n          });\n        };\n      };\n      var onDrop = function (comp, se) {\n        if (!Disabling.isDisabled(comp)) {\n          var transferEvent = se.event.raw;\n          handleFiles(comp, transferEvent.dataTransfer.files);\n        }\n      };\n      var onSelect = function (component, simulatedEvent) {\n        var input = simulatedEvent.event.raw.target;\n        handleFiles(component, input.files);\n      };\n      var handleFiles = function (component, files) {\n        Representing.setValue(component, filterByExtension(files, providersBackstage));\n        emitWith(component, formChangeEvent, { name: spec.name });\n      };\n      var memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [\n            cutter(click()),\n            cutter(tap())\n          ])])\n      });\n      var renderField = function (s) {\n        return {\n          uid: s.uid,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dropzone-container']\n          },\n          behaviours: derive$1([\n            RepresentingConfigs.memory([]),\n            ComposingConfigs.self(),\n            Disabling.config({}),\n            Toggling.config({\n              toggleClass: 'dragenter',\n              toggleOnExecute: false\n            }),\n            config('dropzone-events', [\n              run$1('dragenter', sequence([\n                stopper,\n                Toggling.toggle\n              ])),\n              run$1('dragleave', sequence([\n                stopper,\n                Toggling.toggle\n              ])),\n              run$1('dragover', stopper),\n              run$1('drop', sequence([\n                stopper,\n                onDrop\n              ])),\n              run$1(change(), onSelect)\n            ])\n          ]),\n          components: [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-dropzone'],\n                styles: {}\n              },\n              components: [\n                {\n                  dom: {\n                    tag: 'p',\n                    innerHtml: providersBackstage.translate('Drop an image here')\n                  }\n                },\n                Button.sketch({\n                  dom: {\n                    tag: 'button',\n                    innerHtml: providersBackstage.translate('Browse for an image'),\n                    styles: { position: 'relative' },\n                    classes: [\n                      'tox-button',\n                      'tox-button--secondary'\n                    ]\n                  },\n                  components: [memInput.asSpec()],\n                  action: function (comp) {\n                    var inputComp = memInput.get(comp);\n                    inputComp.element.dom.click();\n                  },\n                  buttonBehaviours: derive$1([\n                    Tabstopping.config({}),\n                    DisablingConfigs.button(providersBackstage.isDisabled),\n                    receivingConfig()\n                  ])\n                })\n              ]\n            }]\n        };\n      };\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({ factory: { sketch: renderField } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    var renderGrid = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-form__grid',\n            'tox-form__grid--' + spec.columns + 'col'\n          ]\n        },\n        components: map$2(spec.items, backstage.interpreter)\n      };\n    };\n\n    var beforeObject = generate$6('alloy-fake-before-tabstop');\n    var afterObject = generate$6('alloy-fake-after-tabstop');\n    var craftWithClasses = function (classes) {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes: classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    var craft = function (spec) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-navobj']\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    var triggerTab = function (placeholder, shiftKey) {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey: shiftKey\n        }\n      });\n    };\n    var onFocus = function (container, targetComp) {\n      var target = targetComp.element;\n      if (has(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    var isPseudoStop = function (element) {\n      return closest(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), never);\n    };\n\n    var platformNeedsSandboxing = !(detect$1().browser.isIE() || detect$1().browser.isEdge());\n    var getDynamicSource = function (isSandbox) {\n      var cachedValue = Cell('');\n      return {\n        getValue: function (_frameComponent) {\n          return cachedValue.get();\n        },\n        setValue: function (frameComponent, html) {\n          if (!isSandbox) {\n            set$8(frameComponent.element, 'src', 'javascript:\\'\\'');\n            var doc = frameComponent.element.dom.contentWindow.document;\n            doc.open();\n            doc.write(html);\n            doc.close();\n          } else {\n            set$8(frameComponent.element, 'srcdoc', html);\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    var renderIFrame = function (spec, providersBackstage) {\n      var isSandbox = platformNeedsSandboxing && spec.sandboxed;\n      var attributes = __assign(__assign({}, spec.label.map(function (title) {\n        return { title: title };\n      }).getOr({})), isSandbox ? { sandbox: 'allow-scripts allow-same-origin' } : {});\n      var sourcing = getDynamicSource(isSandbox);\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var factory = function (newSpec) {\n        return craft({\n          uid: newSpec.uid,\n          dom: {\n            tag: 'iframe',\n            attributes: attributes\n          },\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            RepresentingConfigs.withComp(Optional.none(), sourcing.getValue, sourcing.setValue)\n          ])\n        });\n      };\n      var pField = FormField.parts.field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    var create$3 = function (width, height) {\n      return resize$3(document.createElement('canvas'), width, height);\n    };\n    var clone = function (canvas) {\n      var tCanvas = create$3(canvas.width, canvas.height);\n      var ctx = get2dContext(tCanvas);\n      ctx.drawImage(canvas, 0, 0);\n      return tCanvas;\n    };\n    var get2dContext = function (canvas) {\n      return canvas.getContext('2d');\n    };\n    var resize$3 = function (canvas, width, height) {\n      canvas.width = width;\n      canvas.height = height;\n      return canvas;\n    };\n\n    var getWidth$1 = function (image) {\n      return image.naturalWidth || image.width;\n    };\n    var getHeight$1 = function (image) {\n      return image.naturalHeight || image.height;\n    };\n\n    var blobToImage = function (blob) {\n      return new Promise$1(function (resolve, reject) {\n        var blobUrl = URL.createObjectURL(blob);\n        var image = new Image();\n        var removeListeners = function () {\n          image.removeEventListener('load', loaded);\n          image.removeEventListener('error', error);\n        };\n        var loaded = function () {\n          removeListeners();\n          resolve(image);\n        };\n        var error = function () {\n          removeListeners();\n          reject('Unable to load data of type ' + blob.type + ': ' + blobUrl);\n        };\n        image.addEventListener('load', loaded);\n        image.addEventListener('error', error);\n        image.src = blobUrl;\n        if (image.complete) {\n          setTimeout(loaded, 0);\n        }\n      });\n    };\n    var dataUriToBlobSync = function (uri) {\n      var data = uri.split(',');\n      var matches = /data:([^;]+)/.exec(data[0]);\n      if (!matches) {\n        return Optional.none();\n      }\n      var mimetype = matches[1];\n      var base64 = data[1];\n      var sliceSize = 1024;\n      var byteCharacters = atob(base64);\n      var bytesLength = byteCharacters.length;\n      var slicesCount = Math.ceil(bytesLength / sliceSize);\n      var byteArrays = new Array(slicesCount);\n      for (var sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n        var begin = sliceIndex * sliceSize;\n        var end = Math.min(begin + sliceSize, bytesLength);\n        var bytes = new Array(end - begin);\n        for (var offset = begin, i = 0; offset < end; ++i, ++offset) {\n          bytes[i] = byteCharacters[offset].charCodeAt(0);\n        }\n        byteArrays[sliceIndex] = new Uint8Array(bytes);\n      }\n      return Optional.some(new Blob(byteArrays, { type: mimetype }));\n    };\n    var dataUriToBlob = function (uri) {\n      return new Promise$1(function (resolve, reject) {\n        dataUriToBlobSync(uri).fold(function () {\n          reject('uri is not base64: ' + uri);\n        }, resolve);\n      });\n    };\n    var canvasToBlob = function (canvas, type, quality) {\n      type = type || 'image/png';\n      if (isFunction(HTMLCanvasElement.prototype.toBlob)) {\n        return new Promise$1(function (resolve, reject) {\n          canvas.toBlob(function (blob) {\n            if (blob) {\n              resolve(blob);\n            } else {\n              reject();\n            }\n          }, type, quality);\n        });\n      } else {\n        return dataUriToBlob(canvas.toDataURL(type, quality));\n      }\n    };\n    var canvasToDataURL = function (canvas, type, quality) {\n      type = type || 'image/png';\n      return canvas.toDataURL(type, quality);\n    };\n    var blobToCanvas = function (blob) {\n      return blobToImage(blob).then(function (image) {\n        revokeImageUrl(image);\n        var canvas = create$3(getWidth$1(image), getHeight$1(image));\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0);\n        return canvas;\n      });\n    };\n    var blobToDataUri = function (blob) {\n      return new Promise$1(function (resolve) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n    var revokeImageUrl = function (image) {\n      URL.revokeObjectURL(image.src);\n    };\n\n    var create$2 = function (getCanvas, blob, uri) {\n      var initialType = blob.type;\n      var getType = constant$1(initialType);\n      var toBlob = function () {\n        return Promise$1.resolve(blob);\n      };\n      var toDataURL = constant$1(uri);\n      var toBase64 = function () {\n        return uri.split(',')[1];\n      };\n      var toAdjustedBlob = function (type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToBlob(canvas, type, quality);\n        });\n      };\n      var toAdjustedDataURL = function (type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToDataURL(canvas, type, quality);\n        });\n      };\n      var toAdjustedBase64 = function (type, quality) {\n        return toAdjustedDataURL(type, quality).then(function (dataurl) {\n          return dataurl.split(',')[1];\n        });\n      };\n      var toCanvas = function () {\n        return getCanvas.then(clone);\n      };\n      return {\n        getType: getType,\n        toBlob: toBlob,\n        toDataURL: toDataURL,\n        toBase64: toBase64,\n        toAdjustedBlob: toAdjustedBlob,\n        toAdjustedDataURL: toAdjustedDataURL,\n        toAdjustedBase64: toAdjustedBase64,\n        toCanvas: toCanvas\n      };\n    };\n    var fromBlob = function (blob) {\n      return blobToDataUri(blob).then(function (uri) {\n        return create$2(blobToCanvas(blob), blob, uri);\n      });\n    };\n    var fromCanvas = function (canvas, type) {\n      return canvasToBlob(canvas, type).then(function (blob) {\n        return create$2(Promise$1.resolve(canvas), blob, canvas.toDataURL());\n      });\n    };\n\n    var blobToImageResult = function (blob) {\n      return fromBlob(blob);\n    };\n\n    var clamp = function (value, min, max) {\n      var parsedValue = typeof value === 'string' ? parseFloat(value) : value;\n      if (parsedValue > max) {\n        parsedValue = max;\n      } else if (parsedValue < min) {\n        parsedValue = min;\n      }\n      return parsedValue;\n    };\n    var identity = function () {\n      return [\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ];\n    };\n    var DELTA_INDEX = [\n      0,\n      0.01,\n      0.02,\n      0.04,\n      0.05,\n      0.06,\n      0.07,\n      0.08,\n      0.1,\n      0.11,\n      0.12,\n      0.14,\n      0.15,\n      0.16,\n      0.17,\n      0.18,\n      0.2,\n      0.21,\n      0.22,\n      0.24,\n      0.25,\n      0.27,\n      0.28,\n      0.3,\n      0.32,\n      0.34,\n      0.36,\n      0.38,\n      0.4,\n      0.42,\n      0.44,\n      0.46,\n      0.48,\n      0.5,\n      0.53,\n      0.56,\n      0.59,\n      0.62,\n      0.65,\n      0.68,\n      0.71,\n      0.74,\n      0.77,\n      0.8,\n      0.83,\n      0.86,\n      0.89,\n      0.92,\n      0.95,\n      0.98,\n      1,\n      1.06,\n      1.12,\n      1.18,\n      1.24,\n      1.3,\n      1.36,\n      1.42,\n      1.48,\n      1.54,\n      1.6,\n      1.66,\n      1.72,\n      1.78,\n      1.84,\n      1.9,\n      1.96,\n      2,\n      2.12,\n      2.25,\n      2.37,\n      2.5,\n      2.62,\n      2.75,\n      2.87,\n      3,\n      3.2,\n      3.4,\n      3.6,\n      3.8,\n      4,\n      4.3,\n      4.7,\n      4.9,\n      5,\n      5.5,\n      6,\n      6.5,\n      6.8,\n      7,\n      7.3,\n      7.5,\n      7.8,\n      8,\n      8.4,\n      8.7,\n      9,\n      9.4,\n      9.6,\n      9.8,\n      10\n    ];\n    var multiply = function (matrix1, matrix2) {\n      var col = [];\n      var out = new Array(25);\n      var val;\n      for (var i = 0; i < 5; i++) {\n        for (var j = 0; j < 5; j++) {\n          col[j] = matrix2[j + i * 5];\n        }\n        for (var j = 0; j < 5; j++) {\n          val = 0;\n          for (var k = 0; k < 5; k++) {\n            val += matrix1[j + k * 5] * col[k];\n          }\n          out[j + i * 5] = val;\n        }\n      }\n      return out;\n    };\n    var adjustContrast = function (matrix, value) {\n      var x;\n      value = clamp(value, -1, 1);\n      value *= 100;\n      if (value < 0) {\n        x = 127 + value / 100 * 127;\n      } else {\n        x = value % 1;\n        if (x === 0) {\n          x = DELTA_INDEX[value];\n        } else {\n          x = DELTA_INDEX[Math.floor(value)] * (1 - x) + DELTA_INDEX[Math.floor(value) + 1] * x;\n        }\n        x = x * 127 + 127;\n      }\n      return multiply(matrix, [\n        x / 127,\n        0,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        x / 127,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        x / 127,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n    var adjustBrightness = function (matrix, value) {\n      value = clamp(255 * value, -255, 255);\n      return multiply(matrix, [\n        1,\n        0,\n        0,\n        0,\n        value,\n        0,\n        1,\n        0,\n        0,\n        value,\n        0,\n        0,\n        1,\n        0,\n        value,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n    var adjustColors = function (matrix, adjustR, adjustG, adjustB) {\n      adjustR = clamp(adjustR, 0, 2);\n      adjustG = clamp(adjustG, 0, 2);\n      adjustB = clamp(adjustB, 0, 2);\n      return multiply(matrix, [\n        adjustR,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustG,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustB,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n\n    var colorFilter = function (ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyColorFilter(canvas, ir.getType(), matrix);\n      });\n    };\n    var applyColorFilter = function (canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      var applyMatrix = function (pixelsData, m) {\n        var r, g, b, a;\n        var data = pixelsData.data, m0 = m[0], m1 = m[1], m2 = m[2], m3 = m[3], m4 = m[4], m5 = m[5], m6 = m[6], m7 = m[7], m8 = m[8], m9 = m[9], m10 = m[10], m11 = m[11], m12 = m[12], m13 = m[13], m14 = m[14], m15 = m[15], m16 = m[16], m17 = m[17], m18 = m[18], m19 = m[19];\n        for (var i = 0; i < data.length; i += 4) {\n          r = data[i];\n          g = data[i + 1];\n          b = data[i + 2];\n          a = data[i + 3];\n          data[i] = r * m0 + g * m1 + b * m2 + a * m3 + m4;\n          data[i + 1] = r * m5 + g * m6 + b * m7 + a * m8 + m9;\n          data[i + 2] = r * m10 + g * m11 + b * m12 + a * m13 + m14;\n          data[i + 3] = r * m15 + g * m16 + b * m17 + a * m18 + m19;\n        }\n        return pixelsData;\n      };\n      var pixels = applyMatrix(context.getImageData(0, 0, canvas.width, canvas.height), matrix);\n      context.putImageData(pixels, 0, 0);\n      return fromCanvas(canvas, type);\n    };\n    var convoluteFilter = function (ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyConvoluteFilter(canvas, ir.getType(), matrix);\n      });\n    };\n    var applyConvoluteFilter = function (canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      var applyMatrix = function (pIn, pOut, aMatrix) {\n        var clamp = function (value, min, max) {\n          if (value > max) {\n            value = max;\n          } else if (value < min) {\n            value = min;\n          }\n          return value;\n        };\n        var side = Math.round(Math.sqrt(aMatrix.length));\n        var halfSide = Math.floor(side / 2);\n        var rgba = pIn.data;\n        var drgba = pOut.data;\n        var w = pIn.width;\n        var h = pIn.height;\n        for (var y = 0; y < h; y++) {\n          for (var x = 0; x < w; x++) {\n            var r = 0;\n            var g = 0;\n            var b = 0;\n            for (var cy = 0; cy < side; cy++) {\n              for (var cx = 0; cx < side; cx++) {\n                var scx = clamp(x + cx - halfSide, 0, w - 1);\n                var scy = clamp(y + cy - halfSide, 0, h - 1);\n                var innerOffset = (scy * w + scx) * 4;\n                var wt = aMatrix[cy * side + cx];\n                r += rgba[innerOffset] * wt;\n                g += rgba[innerOffset + 1] * wt;\n                b += rgba[innerOffset + 2] * wt;\n              }\n            }\n            var offset = (y * w + x) * 4;\n            drgba[offset] = clamp(r, 0, 255);\n            drgba[offset + 1] = clamp(g, 0, 255);\n            drgba[offset + 2] = clamp(b, 0, 255);\n          }\n        }\n        return pOut;\n      };\n      var pixelsIn = context.getImageData(0, 0, canvas.width, canvas.height);\n      var pixelsOut = context.getImageData(0, 0, canvas.width, canvas.height);\n      pixelsOut = applyMatrix(pixelsIn, pixelsOut, matrix);\n      context.putImageData(pixelsOut, 0, 0);\n      return fromCanvas(canvas, type);\n    };\n    var functionColorFilter = function (colorFn) {\n      var filterImpl = function (canvas, type, value) {\n        var context = get2dContext(canvas);\n        var lookup = new Array(256);\n        var applyLookup = function (pixelsData, lookupData) {\n          var data = pixelsData.data;\n          for (var i = 0; i < data.length; i += 4) {\n            data[i] = lookupData[data[i]];\n            data[i + 1] = lookupData[data[i + 1]];\n            data[i + 2] = lookupData[data[i + 2]];\n          }\n          return pixelsData;\n        };\n        for (var i = 0; i < lookup.length; i++) {\n          lookup[i] = colorFn(i, value);\n        }\n        var pixels = applyLookup(context.getImageData(0, 0, canvas.width, canvas.height), lookup);\n        context.putImageData(pixels, 0, 0);\n        return fromCanvas(canvas, type);\n      };\n      return function (ir, value) {\n        return ir.toCanvas().then(function (canvas) {\n          return filterImpl(canvas, ir.getType(), value);\n        });\n      };\n    };\n    var complexAdjustableColorFilter = function (matrixAdjustFn) {\n      return function (ir, adjust) {\n        return colorFilter(ir, matrixAdjustFn(identity(), adjust));\n      };\n    };\n    var basicColorFilter = function (matrix) {\n      return function (ir) {\n        return colorFilter(ir, matrix);\n      };\n    };\n    var basicConvolutionFilter = function (kernel) {\n      return function (ir) {\n        return convoluteFilter(ir, kernel);\n      };\n    };\n    var invert$1 = basicColorFilter([\n      -1,\n      0,\n      0,\n      0,\n      255,\n      0,\n      -1,\n      0,\n      0,\n      255,\n      0,\n      0,\n      -1,\n      0,\n      255,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1\n    ]);\n    var brightness$1 = complexAdjustableColorFilter(adjustBrightness);\n    var contrast$1 = complexAdjustableColorFilter(adjustContrast);\n    var colorize$1 = function (ir, adjustR, adjustG, adjustB) {\n      return colorFilter(ir, adjustColors(identity(), adjustR, adjustG, adjustB));\n    };\n    var sharpen$1 = basicConvolutionFilter([\n      0,\n      -1,\n      0,\n      -1,\n      5,\n      -1,\n      0,\n      -1,\n      0\n    ]);\n    var gamma$1 = functionColorFilter(function (color, value) {\n      return Math.pow(color / 255, 1 - value) * 255;\n    });\n\n    var scale = function (image, dW, dH) {\n      var sW = getWidth$1(image);\n      var sH = getHeight$1(image);\n      var wRatio = dW / sW;\n      var hRatio = dH / sH;\n      var scaleCapped = false;\n      if (wRatio < 0.5 || wRatio > 2) {\n        wRatio = wRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      if (hRatio < 0.5 || hRatio > 2) {\n        hRatio = hRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      var scaled = _scale(image, wRatio, hRatio);\n      return !scaleCapped ? scaled : scaled.then(function (tCanvas) {\n        return scale(tCanvas, dW, dH);\n      });\n    };\n    var _scale = function (image, wRatio, hRatio) {\n      return new Promise$1(function (resolve) {\n        var sW = getWidth$1(image);\n        var sH = getHeight$1(image);\n        var dW = Math.floor(sW * wRatio);\n        var dH = Math.floor(sH * hRatio);\n        var canvas = create$3(dW, dH);\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0, sW, sH, 0, 0, dW, dH);\n        resolve(canvas);\n      });\n    };\n\n    var ceilWithPrecision = function (num, precision) {\n      if (precision === void 0) {\n        precision = 2;\n      }\n      var mul = Math.pow(10, precision);\n      var upper = Math.round(num * mul);\n      return Math.ceil(upper / mul);\n    };\n    var rotate$1 = function (ir, angle) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyRotate(canvas, ir.getType(), angle);\n      });\n    };\n    var applyRotate = function (image, type, angle) {\n      var degrees = angle < 0 ? 360 + angle : angle;\n      var rad = degrees * Math.PI / 180;\n      var width = image.width;\n      var height = image.height;\n      var sin = Math.sin(rad);\n      var cos = Math.cos(rad);\n      var newWidth = ceilWithPrecision(Math.abs(width * cos) + Math.abs(height * sin));\n      var newHeight = ceilWithPrecision(Math.abs(width * sin) + Math.abs(height * cos));\n      var canvas = create$3(newWidth, newHeight);\n      var context = get2dContext(canvas);\n      context.translate(newWidth / 2, newHeight / 2);\n      context.rotate(rad);\n      context.drawImage(image, -width / 2, -height / 2);\n      return fromCanvas(canvas, type);\n    };\n    var flip$1 = function (ir, axis) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyFlip(canvas, ir.getType(), axis);\n      });\n    };\n    var applyFlip = function (image, type, axis) {\n      var canvas = create$3(image.width, image.height);\n      var context = get2dContext(canvas);\n      if (axis === 'v') {\n        context.scale(1, -1);\n        context.drawImage(image, 0, -canvas.height);\n      } else {\n        context.scale(-1, 1);\n        context.drawImage(image, -canvas.width, 0);\n      }\n      return fromCanvas(canvas, type);\n    };\n    var crop$1 = function (ir, x, y, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyCrop(canvas, ir.getType(), x, y, w, h);\n      });\n    };\n    var applyCrop = function (image, type, x, y, w, h) {\n      var canvas = create$3(w, h);\n      var context = get2dContext(canvas);\n      context.drawImage(image, -x, -y);\n      return fromCanvas(canvas, type);\n    };\n    var resize$2 = function (ir, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return scale(canvas, w, h).then(function (newCanvas) {\n          return fromCanvas(newCanvas, ir.getType());\n        });\n      });\n    };\n\n    var invert = function (ir) {\n      return invert$1(ir);\n    };\n    var sharpen = function (ir) {\n      return sharpen$1(ir);\n    };\n    var gamma = function (ir, value) {\n      return gamma$1(ir, value);\n    };\n    var colorize = function (ir, adjustR, adjustG, adjustB) {\n      return colorize$1(ir, adjustR, adjustG, adjustB);\n    };\n    var brightness = function (ir, adjust) {\n      return brightness$1(ir, adjust);\n    };\n    var contrast = function (ir, adjust) {\n      return contrast$1(ir, adjust);\n    };\n    var flip = function (ir, axis) {\n      return flip$1(ir, axis);\n    };\n    var crop = function (ir, x, y, w, h) {\n      return crop$1(ir, x, y, w, h);\n    };\n    var resize$1 = function (ir, w, h) {\n      return resize$2(ir, w, h);\n    };\n    var rotate = function (ir, angle) {\n      return rotate$1(ir, angle);\n    };\n\n    var renderIcon = function (iconName, iconsProvider, behaviours) {\n      return render$3(iconName, {\n        tag: 'span',\n        classes: [\n          'tox-icon',\n          'tox-tbtn__icon-wrap'\n        ],\n        behaviours: behaviours\n      }, iconsProvider);\n    };\n    var renderIconFromPack = function (iconName, iconsProvider) {\n      return renderIcon(iconName, iconsProvider, []);\n    };\n    var renderReplacableIconFromPack = function (iconName, iconsProvider) {\n      return renderIcon(iconName, iconsProvider, [Replacing.config({})]);\n    };\n    var renderLabel$1 = function (text, prefix, providersBackstage) {\n      return {\n        dom: {\n          tag: 'span',\n          innerHtml: providersBackstage.translate(text),\n          classes: [prefix + '__select-label']\n        },\n        behaviours: derive$1([Replacing.config({})])\n      };\n    };\n\n    var _a;\n    var internalToolbarButtonExecute = generate$6('toolbar.button.execute');\n    var onToolbarButtonExecute = function (info) {\n      return runOnExecute$1(function (comp, _simulatedEvent) {\n        runWithApi(info, comp)(function (itemApi) {\n          emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n          info.onAction(itemApi);\n        });\n      });\n    };\n    var toolbarButtonEventOrder = (_a = {}, _a[execute$5()] = [\n      'disabling',\n      'alloy.base.behaviour',\n      'toggling',\n      'toolbar-button-events'\n    ], _a);\n\n    var updateMenuText = generate$6('update-menu-text');\n    var updateMenuIcon = generate$6('update-menu-icon');\n    var renderCommonDropdown = function (spec, prefix, sharedBackstage) {\n      var editorOffCell = Cell(noop);\n      var optMemDisplayText = spec.text.map(function (text) {\n        return record(renderLabel$1(text, prefix, sharedBackstage.providers));\n      });\n      var optMemDisplayIcon = spec.icon.map(function (iconName) {\n        return record(renderReplacableIconFromPack(iconName, sharedBackstage.providers.icons));\n      });\n      var onLeftOrRightInMenu = function (comp, se) {\n        var dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event.raw });\n        Dropdown.close(dropdown);\n        return Optional.some(true);\n      };\n      var role = spec.role.fold(function () {\n        return {};\n      }, function (role) {\n        return { role: role };\n      });\n      var tooltipAttributes = spec.tooltip.fold(function () {\n        return {};\n      }, function (tooltip) {\n        var translatedTooltip = sharedBackstage.providers.translate(tooltip);\n        return {\n          'title': translatedTooltip,\n          'aria-label': translatedTooltip\n        };\n      });\n      var iconSpec = render$3('chevron-down', {\n        tag: 'div',\n        classes: [prefix + '__select-chevron']\n      }, sharedBackstage.providers.icons);\n      var memDropdown = record(Dropdown.sketch(__assign(__assign(__assign({}, spec.uid ? { uid: spec.uid } : {}), role), {\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            prefix + '--select'\n          ].concat(map$2(spec.classes, function (c) {\n            return prefix + '--' + c;\n          })),\n          attributes: __assign({}, tooltipAttributes)\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(function (mem) {\n            return mem.asSpec();\n          }),\n          optMemDisplayText.map(function (mem) {\n            return mem.asSpec();\n          }),\n          Optional.some(iconSpec)\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        dropdownBehaviours: derive$1(__spreadArray(__spreadArray([], spec.dropdownBehaviours, true), [\n          DisablingConfigs.button(function () {\n            return spec.disabled || sharedBackstage.providers.isDisabled();\n          }),\n          receivingConfig(),\n          Unselecting.config({}),\n          Replacing.config({}),\n          config('dropdown-events', [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config('menubutton-update-display-text', [\n            run$1(updateMenuText, function (comp, se) {\n              optMemDisplayText.bind(function (mem) {\n                return mem.getOpt(comp);\n              }).each(function (displayText) {\n                Replacing.set(displayText, [text(sharedBackstage.providers.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, function (comp, se) {\n              optMemDisplayIcon.bind(function (mem) {\n                return mem.getOpt(comp);\n              }).each(function (displayIcon) {\n                Replacing.set(displayIcon, [renderReplacableIconFromPack(se.event.icon, sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ], false)),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          mousedown: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ]\n        }),\n        sandboxBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          })]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: prefix + '--active',\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        fetch: function (comp) {\n          return Future.nu(curry(spec.fetch, comp));\n        }\n      })));\n      return memDropdown.asSpec();\n    };\n\n    var isMenuItemReference = function (item) {\n      return isString(item);\n    };\n    var isSeparator$1 = function (item) {\n      return item.type === 'separator';\n    };\n    var isExpandingMenuItem = function (item) {\n      return has$2(item, 'getSubmenuItems');\n    };\n    var separator$2 = { type: 'separator' };\n    var unwrapReferences = function (items, menuItems) {\n      var realItems = foldl(items, function (acc, item) {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator$1(acc[acc.length - 1]) ? acc.concat([separator$2]) : acc;\n          } else if (has$2(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator$1(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    var getFromExpandingItem = function (item, menuItems) {\n      var submenuItems = item.getSubmenuItems();\n      var rest = expand(submenuItems, menuItems);\n      var newMenus = deepMerge(rest.menus, wrap$1(item.value, rest.items));\n      var newExpansions = deepMerge(rest.expansions, wrap$1(item.value, item.value));\n      return {\n        item: item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    var getFromItem = function (item, menuItems) {\n      return isExpandingMenuItem(item) ? getFromExpandingItem(item, menuItems) : {\n        item: item,\n        menus: {},\n        expansions: {}\n      };\n    };\n    var generateValueIfRequired = function (item) {\n      if (isSeparator$1(item)) {\n        return item;\n      } else {\n        var itemValue = get$e(item, 'value').getOrThunk(function () {\n          return generate$6('generated-menu-item');\n        });\n        return deepMerge({ value: itemValue }, item);\n      }\n    };\n    var expand = function (items, menuItems) {\n      var realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, function (acc, item) {\n        var itemWithValue = generateValueIfRequired(item);\n        var newData = getFromItem(itemWithValue, menuItems);\n        return {\n          menus: deepMerge(acc.menus, newData.menus),\n          items: [newData.item].concat(acc.items),\n          expansions: deepMerge(acc.expansions, newData.expansions)\n        };\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    var build = function (items, itemResponse, backstage, isHorizontalMenu) {\n      var primary = generate$6('primary-menu');\n      var data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Optional.none();\n      }\n      var mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, isHorizontalMenu);\n      var submenus = map$1(data.menus, function (menuItems, menuName) {\n        return createPartialMenu(menuName, menuItems, itemResponse, backstage, false);\n      });\n      var menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Optional.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    var getMenuButtonApi = function (component) {\n      return {\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        },\n        setActive: function (state) {\n          var elm = component.element;\n          if (state) {\n            add$2(elm, 'tox-tbtn--enabled');\n            set$8(elm, 'aria-pressed', true);\n          } else {\n            remove$2(elm, 'tox-tbtn--enabled');\n            remove$7(elm, 'aria-pressed');\n          }\n        },\n        isActive: function () {\n          return has(component.element, 'tox-tbtn--enabled');\n        }\n      };\n    };\n    var renderMenuButton = function (spec, prefix, backstage, role) {\n      return renderCommonDropdown({\n        text: spec.text,\n        icon: spec.icon,\n        tooltip: spec.tooltip,\n        role: role,\n        fetch: function (_comp, callback) {\n          spec.fetch(function (items) {\n            callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n          });\n        },\n        onSetup: spec.onSetup,\n        getApi: getMenuButtonApi,\n        columns: 1,\n        presets: 'normal',\n        classes: [],\n        dropdownBehaviours: [Tabstopping.config({})]\n      }, prefix, backstage.shared);\n    };\n    var getFetch = function (items, getButton, backstage) {\n      var getMenuItemAction = function (item) {\n        return function (api) {\n          var newValue = !api.isActive();\n          api.setActive(newValue);\n          item.storage.set(newValue);\n          backstage.shared.getSink().each(function (sink) {\n            getButton().getOpt(sink).each(function (orig) {\n              focus$3(orig.element);\n              emitWith(orig, formActionEvent, {\n                name: item.name,\n                value: item.storage.get()\n              });\n            });\n          });\n        };\n      };\n      var getMenuItemSetup = function (item) {\n        return function (api) {\n          api.setActive(item.storage.get());\n        };\n      };\n      return function (success) {\n        success(map$2(items, function (item) {\n          var text = item.text.fold(function () {\n            return {};\n          }, function (text) {\n            return { text: text };\n          });\n          return __assign(__assign({\n            type: item.type,\n            active: false\n          }, text), {\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          });\n        }));\n      };\n    };\n\n    var renderCommonSpec = function (spec, actionOpt, extraBehaviours, dom, components, providersBackstage) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var action = actionOpt.fold(function () {\n        return {};\n      }, function (action) {\n        return { action: action };\n      });\n      var common = __assign({\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('button press', [\n            preventDefault('click'),\n            preventDefault('mousedown')\n          ])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        }\n      }, action);\n      var domFinal = deepMerge(common, { dom: dom });\n      return deepMerge(domFinal, { components: components });\n    };\n    var renderIconButtonSpec = function (spec, action, providersBackstage, extraBehaviours) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var tooltipAttributes = spec.tooltip.map(function (tooltip) {\n        return {\n          'aria-label': providersBackstage.translate(tooltip),\n          'title': providersBackstage.translate(tooltip)\n        };\n      }).getOr({});\n      var dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: tooltipAttributes\n      };\n      var icon = spec.icon.map(function (iconName) {\n        return renderIconFromPack(iconName, providersBackstage.icons);\n      });\n      var components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    var renderIconButton = function (spec, action, providersBackstage, extraBehaviours) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var iconButtonSpec = renderIconButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours);\n      return Button.sketch(iconButtonSpec);\n    };\n    var renderButtonSpec = function (spec, action, providersBackstage, extraBehaviours, extraClasses) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      if (extraClasses === void 0) {\n        extraClasses = [];\n      }\n      var translatedText = providersBackstage.translate(spec.text);\n      var icon = spec.icon ? spec.icon.map(function (iconName) {\n        return renderIconFromPack(iconName, providersBackstage.icons);\n      }) : Optional.none();\n      var components = icon.isSome() ? componentRenderPipeline([icon]) : [];\n      var innerHtml = icon.isSome() ? {} : { innerHtml: translatedText };\n      var classes = __spreadArray(__spreadArray(__spreadArray(__spreadArray([], !spec.primary && !spec.borderless ? [\n        'tox-button',\n        'tox-button--secondary'\n      ] : ['tox-button'], true), icon.isSome() ? ['tox-button--icon'] : [], true), spec.borderless ? ['tox-button--naked'] : [], true), extraClasses, true);\n      var dom = __assign(__assign({\n        tag: 'button',\n        classes: classes\n      }, innerHtml), { attributes: { title: translatedText } });\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    var renderButton = function (spec, action, providersBackstage, extraBehaviours, extraClasses) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      if (extraClasses === void 0) {\n        extraClasses = [];\n      }\n      var buttonSpec = renderButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    var getAction = function (name, buttonType) {\n      return function (comp) {\n        if (buttonType === 'custom') {\n          emitWith(comp, formActionEvent, {\n            name: name,\n            value: {}\n          });\n        } else if (buttonType === 'submit') {\n          emit(comp, formSubmitEvent);\n        } else if (buttonType === 'cancel') {\n          emit(comp, formCancelEvent);\n        } else {\n          console.error('Unknown button type: ', buttonType);\n        }\n      };\n    };\n    var isMenuFooterButtonSpec = function (spec, buttonType) {\n      return buttonType === 'menu';\n    };\n    var isNormalFooterButtonSpec = function (spec, buttonType) {\n      return buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    };\n    var renderFooterButton = function (spec, buttonType, backstage) {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        var getButton = function () {\n          return memButton_1;\n        };\n        var menuButtonSpec = spec;\n        var fixedSpec = __assign(__assign({}, spec), {\n          onSetup: function (api) {\n            api.setDisabled(spec.disabled);\n            return noop;\n          },\n          fetch: getFetch(menuButtonSpec.items, getButton, backstage)\n        });\n        var memButton_1 = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Optional.none()));\n        return memButton_1.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        var action = getAction(spec.name, buttonType);\n        var buttonSpec = __assign(__assign({}, spec), { borderless: false });\n        return renderButton(buttonSpec, action, backstage.shared.providers, []);\n      } else {\n        console.error('Unknown footer button type: ', buttonType);\n      }\n    };\n    var renderDialogButton = function (spec, providersBackstage) {\n      var action = getAction(spec.name, 'custom');\n      return renderFormField(Optional.none(), FormField.parts.field(__assign({ factory: Button }, renderButtonSpec(spec, Optional.some(action), providersBackstage, [\n        RepresentingConfigs.memory(''),\n        ComposingConfigs.self()\n      ]))));\n    };\n\n    var schema$h = constant$1([\n      defaulted('field1Name', 'field1'),\n      defaulted('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers$1(['lockClass']),\n      defaulted('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    var getField = function (comp, detail, partName) {\n      return getPart(comp, detail, partName).bind(Composing.getCurrent);\n    };\n    var coupledPart = function (selfName, otherName) {\n      return required({\n        factory: FormField,\n        name: selfName,\n        overrides: function (detail) {\n          return {\n            fieldBehaviours: derive$1([config('coupled-input-behaviour', [run$1(input(), function (me) {\n                  getField(me, detail, otherName).each(function (other) {\n                    getPart(me, detail, 'lock').each(function (lock) {\n                      if (Toggling.isOn(lock)) {\n                        detail.onLockedChange(me, other, lock);\n                      }\n                    });\n                  });\n                })])])\n          };\n        }\n      });\n    };\n    var parts$c = constant$1([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [required$1('dom')],\n        name: 'lock',\n        overrides: function (detail) {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    var factory$f = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n          Composing.config({ find: Optional.some }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (comp) {\n                var _a;\n                var parts = getPartsOrDie(comp, detail, [\n                  'field1',\n                  'field2'\n                ]);\n                return _a = {}, _a[detail.field1Name] = Representing.getValue(parts.field1()), _a[detail.field2Name] = Representing.getValue(parts.field2()), _a;\n              },\n              setValue: function (comp, value) {\n                var parts = getPartsOrDie(comp, detail, [\n                  'field1',\n                  'field2'\n                ]);\n                if (hasNonNullableKey(value, detail.field1Name)) {\n                  Representing.setValue(parts.field1(), value[detail.field1Name]);\n                }\n                if (hasNonNullableKey(value, detail.field2Name)) {\n                  Representing.setValue(parts.field2(), value[detail.field2Name]);\n                }\n              }\n            }\n          })\n        ]),\n        apis: {\n          getField1: function (component) {\n            return getPart(component, detail, 'field1');\n          },\n          getField2: function (component) {\n            return getPart(component, detail, 'field2');\n          },\n          getLock: function (component) {\n            return getPart(component, detail, 'lock');\n          }\n        }\n      };\n    };\n    var FormCoupledInputs = composite({\n      name: 'FormCoupledInputs',\n      configFields: schema$h(),\n      partFields: parts$c(),\n      factory: factory$f,\n      apis: {\n        getField1: function (apis, component) {\n          return apis.getField1(component);\n        },\n        getField2: function (apis, component) {\n          return apis.getField2(component);\n        },\n        getLock: function (apis, component) {\n          return apis.getLock(component);\n        }\n      }\n    });\n\n    var formatSize = function (size) {\n      var unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      var maxDecimal = function (unit) {\n        return unit in unitDec ? unitDec[unit] : 1;\n      };\n      var numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    var parseSize = function (sizeText) {\n      var numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      var match = numPattern.exec(sizeText);\n      if (match !== null) {\n        var value = parseFloat(match[1]);\n        var unit = match[2];\n        return Result.value({\n          value: value,\n          unit: unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    var convertUnit = function (size, unit) {\n      var inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      var supported = function (u) {\n        return has$2(inInch, u);\n      };\n      if (size.unit === unit) {\n        return Optional.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Optional.some(size.value);\n        } else {\n          return Optional.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    var noSizeConversion = function (_input) {\n      return Optional.none();\n    };\n    var ratioSizeConversion = function (scale, unit) {\n      return function (size) {\n        return convertUnit(size, unit).map(function (value) {\n          return {\n            value: value * scale,\n            unit: unit\n          };\n        });\n      };\n    };\n    var makeRatioConverter = function (currentFieldText, otherFieldText) {\n      var cValue = parseSize(currentFieldText).toOptional();\n      var oValue = parseSize(otherFieldText).toOptional();\n      return lift2(cValue, oValue, function (cSize, oSize) {\n        return convertUnit(cSize, oSize.unit).map(function (val) {\n          return oSize.value / val;\n        }).map(function (r) {\n          return ratioSizeConversion(r, oSize.unit);\n        }).getOr(noSizeConversion);\n      }).getOr(noSizeConversion);\n    };\n\n    var renderSizeInput = function (spec, providersBackstage) {\n      var converter = noSizeConversion;\n      var ratioEvent = generate$6('ratio-event');\n      var makeIcon = function (iconName) {\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-lock-icon__' + iconName\n          ]\n        }, providersBackstage.icons);\n      };\n      var pLock = FormCoupledInputs.parts.lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { title: providersBackstage.translate(spec.label.getOr('Constrain proportions')) }\n        },\n        components: [\n          makeIcon('lock'),\n          makeIcon('unlock')\n        ],\n        buttonBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          }),\n          receivingConfig(),\n          Tabstopping.config({})\n        ])\n      });\n      var formGroup = function (components) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group']\n          },\n          components: components\n        };\n      };\n      var getFieldPart = function (isField1) {\n        return FormField.parts.field({\n          factory: Input,\n          inputClasses: ['tox-textfield'],\n          inputBehaviours: derive$1([\n            Disabling.config({\n              disabled: function () {\n                return spec.disabled || providersBackstage.isDisabled();\n              }\n            }),\n            receivingConfig(),\n            Tabstopping.config({}),\n            config('size-input-events', [\n              run$1(focusin(), function (component, _simulatedEvent) {\n                emitWith(component, ratioEvent, { isField1: isField1 });\n              }),\n              run$1(change(), function (component, _simulatedEvent) {\n                emitWith(component, formChangeEvent, { name: spec.name });\n              })\n            ])\n          ]),\n          selectOnFocus: false\n        });\n      };\n      var getLabel = function (label) {\n        return {\n          dom: {\n            tag: 'label',\n            classes: ['tox-label'],\n            innerHtml: providersBackstage.translate(label)\n          }\n        };\n      };\n      var widthField = FormCoupledInputs.parts.field1(formGroup([\n        FormField.parts.label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      var heightField = FormCoupledInputs.parts.field2(formGroup([\n        FormField.parts.label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel('&nbsp;'),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: function (current, other, _lock) {\n          parseSize(Representing.getValue(current)).each(function (size) {\n            converter(size).each(function (newSize) {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('size-input-events2', [run$1(ratioEvent, function (component, simulatedEvent) {\n              var isField1 = simulatedEvent.event.isField1;\n              var optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              var optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              var value1 = optCurrent.map(Representing.getValue).getOr('');\n              var value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            })])\n        ])\n      });\n    };\n\n    var undo = constant$1(generate$6('undo'));\n    var redo = constant$1(generate$6('redo'));\n    var zoom = constant$1(generate$6('zoom'));\n    var back = constant$1(generate$6('back'));\n    var apply = constant$1(generate$6('apply'));\n    var swap = constant$1(generate$6('swap'));\n    var transform$1 = constant$1(generate$6('transform'));\n    var tempTransform = constant$1(generate$6('temp-transform'));\n    var transformApply = constant$1(generate$6('transform-apply'));\n    var internal = {\n      undo: undo,\n      redo: redo,\n      zoom: zoom,\n      back: back,\n      apply: apply,\n      swap: swap,\n      transform: transform$1,\n      tempTransform: tempTransform,\n      transformApply: transformApply\n    };\n    var saveState = constant$1('save-state');\n    var disable = constant$1('disable');\n    var enable = constant$1('enable');\n    var external = {\n      formActionEvent: formActionEvent,\n      saveState: saveState,\n      disable: disable,\n      enable: enable\n    };\n\n    var renderEditPanel = function (imagePanel, providersBackstage) {\n      var createButton = function (text, action, disabled, primary) {\n        return record(renderButton({\n          name: text,\n          text: text,\n          disabled: disabled,\n          primary: primary,\n          icon: Optional.none(),\n          borderless: false\n        }, action, providersBackstage));\n      };\n      var createIconButton = function (icon, tooltip, action, disabled) {\n        return record(renderIconButton({\n          name: icon,\n          icon: Optional.some(icon),\n          tooltip: Optional.some(tooltip),\n          disabled: disabled,\n          primary: false,\n          borderless: false\n        }, action, providersBackstage));\n      };\n      var disableAllComponents = function (comps, eventcomp) {\n        comps.map(function (mem) {\n          var component = mem.get(eventcomp);\n          if (component.hasConfigured(Disabling)) {\n            Disabling.disable(component);\n          }\n        });\n      };\n      var enableAllComponents = function (comps, eventcomp) {\n        comps.map(function (mem) {\n          var component = mem.get(eventcomp);\n          if (component.hasConfigured(Disabling)) {\n            Disabling.enable(component);\n          }\n        });\n      };\n      var panelDom = {\n        tag: 'div',\n        classes: [\n          'tox-image-tools__toolbar',\n          'tox-image-tools-edit-panel'\n        ]\n      };\n      var noop$1 = noop;\n      var emit$1 = function (comp, event, data) {\n        emitWith(comp, event, data);\n      };\n      var emitDisable = function (component) {\n        return emit(component, external.disable());\n      };\n      var emitEnable = function (component) {\n        return emit(component, external.enable());\n      };\n      var emitTransform = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.transform(), { transform: transform });\n        emitEnable(comp);\n      };\n      var emitTempTransform = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.tempTransform(), { transform: transform });\n        emitEnable(comp);\n      };\n      var getBackSwap = function (anyInSystem) {\n        return function () {\n          memContainer.getOpt(anyInSystem).each(function (container) {\n            Replacing.set(container, [ButtonPanel]);\n          });\n        };\n      };\n      var emitTransformApply = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.transformApply(), {\n          transform: transform,\n          swap: getBackSwap(comp)\n        });\n        emitEnable(comp);\n      };\n      var createBackButton = function () {\n        return createButton('Back', function (button) {\n          return emit$1(button, internal.back(), { swap: getBackSwap(button) });\n        }, false, false);\n      };\n      var createSpacer = function () {\n        return record({\n          dom: {\n            tag: 'div',\n            classes: ['tox-spacer']\n          },\n          behaviours: derive$1([Disabling.config({})])\n        });\n      };\n      var createApplyButton = function () {\n        return createButton('Apply', function (button) {\n          return emit$1(button, internal.apply(), { swap: getBackSwap(button) });\n        }, true, true);\n      };\n      var makeCropTransform = function () {\n        return function (ir) {\n          var rect = imagePanel.getRect();\n          return crop(ir, rect.x, rect.y, rect.w, rect.h);\n        };\n      };\n      var cropPanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        createButton('Apply', function (button) {\n          var transform = makeCropTransform();\n          emitTransformApply(button, transform);\n          imagePanel.hideCrop();\n        }, false, true)\n      ];\n      var CropPanel = Container.sketch({\n        dom: panelDom,\n        components: cropPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-crop-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(cropPanelComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(cropPanelComponents, comp);\n            })\n          ])])\n      });\n      var memSize = record(renderSizeInput({\n        name: 'size',\n        label: Optional.none(),\n        constrain: true,\n        disabled: false\n      }, providersBackstage));\n      var makeResizeTransform = function (width, height) {\n        return function (ir) {\n          return resize$1(ir, width, height);\n        };\n      };\n      var resizePanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        memSize,\n        createSpacer(),\n        createButton('Apply', function (button) {\n          memSize.getOpt(button).each(function (sizeInput) {\n            var value = Representing.getValue(sizeInput);\n            var width = parseInt(value.width, 10);\n            var height = parseInt(value.height, 10);\n            var transform = makeResizeTransform(width, height);\n            emitTransformApply(button, transform);\n          });\n        }, false, true)\n      ];\n      var ResizePanel = Container.sketch({\n        dom: panelDom,\n        components: resizePanelComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-resize-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(resizePanelComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(resizePanelComponents, comp);\n            })\n          ])])\n      });\n      var makeValueTransform = function (transform, value) {\n        return function (ir) {\n          return transform(ir, value);\n        };\n      };\n      var horizontalFlip = makeValueTransform(flip, 'h');\n      var verticalFlip = makeValueTransform(flip, 'v');\n      var counterclockwiseRotate = makeValueTransform(rotate, -90);\n      var clockwiseRotate = makeValueTransform(rotate, 90);\n      var flipRotateOnAction = function (comp, operation) {\n        emitTempTransform(comp, operation);\n      };\n      var flipRotateComponents = [\n        createBackButton(),\n        createSpacer(),\n        createIconButton('flip-horizontally', 'Flip horizontally', function (button) {\n          flipRotateOnAction(button, horizontalFlip);\n        }, false),\n        createIconButton('flip-vertically', 'Flip vertically', function (button) {\n          flipRotateOnAction(button, verticalFlip);\n        }, false),\n        createIconButton('rotate-left', 'Rotate counterclockwise', function (button) {\n          flipRotateOnAction(button, counterclockwiseRotate);\n        }, false),\n        createIconButton('rotate-right', 'Rotate clockwise', function (button) {\n          flipRotateOnAction(button, clockwiseRotate);\n        }, false),\n        createSpacer(),\n        createApplyButton()\n      ];\n      var FlipRotatePanel = Container.sketch({\n        dom: panelDom,\n        components: flipRotateComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-fliprotate-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(flipRotateComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(flipRotateComponents, comp);\n            })\n          ])])\n      });\n      var makeSlider = function (label, onChoose, min, value, max) {\n        var labelPart = Slider.parts.label({\n          dom: {\n            tag: 'label',\n            classes: ['tox-label'],\n            innerHtml: providersBackstage.translate(label)\n          }\n        });\n        var spectrum = Slider.parts.spectrum({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider__rail'],\n            attributes: { role: 'presentation' }\n          }\n        });\n        var thumb = Slider.parts.thumb({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider__handle'],\n            attributes: { role: 'presentation' }\n          }\n        });\n        return record(Slider.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider'],\n            attributes: { role: 'presentation' }\n          },\n          model: {\n            mode: 'x',\n            minX: min,\n            maxX: max,\n            getInitialValue: constant$1({ x: value })\n          },\n          components: [\n            labelPart,\n            spectrum,\n            thumb\n          ],\n          sliderBehaviours: derive$1([Focusing.config({})]),\n          onChoose: onChoose\n        }));\n      };\n      var makeVariableSlider = function (label, transform, min, value, max) {\n        var onChoose = function (slider, _thumb, value) {\n          var valTransform = makeValueTransform(transform, value.x / 100);\n          emitTransform(slider, valTransform);\n        };\n        return makeSlider(label, onChoose, min, value, max);\n      };\n      var variableFilterPanelComponents = function (label, transform, min, value, max) {\n        return [\n          createBackButton(),\n          makeVariableSlider(label, transform, min, value, max),\n          createApplyButton()\n        ];\n      };\n      var createVariableFilterPanel = function (label, transform, min, value, max) {\n        var filterPanelComponents = variableFilterPanelComponents(label, transform, min, value, max);\n        return Container.sketch({\n          dom: panelDom,\n          components: filterPanelComponents.map(function (mem) {\n            return mem.asSpec();\n          }),\n          containerBehaviours: derive$1([config('image-tools-filter-panel-buttons-events', [\n              run$1(external.disable(), function (comp, _se) {\n                disableAllComponents(filterPanelComponents, comp);\n              }),\n              run$1(external.enable(), function (comp, _se) {\n                enableAllComponents(filterPanelComponents, comp);\n              })\n            ])])\n        });\n      };\n      var filterPanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        createApplyButton()\n      ];\n      var FilterPanel = Container.sketch({\n        dom: panelDom,\n        components: filterPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var BrightnessPanel = createVariableFilterPanel('Brightness', brightness, -100, 0, 100);\n      var ContrastPanel = createVariableFilterPanel('Contrast', contrast, -100, 0, 100);\n      var GammaPanel = createVariableFilterPanel('Gamma', gamma, -100, 0, 100);\n      var makeColorTransform = function (red, green, blue) {\n        return function (ir) {\n          return colorize(ir, red, green, blue);\n        };\n      };\n      var makeColorSlider = function (label) {\n        var onChoose = function (slider, _thumb, _value) {\n          var redOpt = memRed.getOpt(slider);\n          var blueOpt = memBlue.getOpt(slider);\n          var greenOpt = memGreen.getOpt(slider);\n          redOpt.each(function (red) {\n            blueOpt.each(function (blue) {\n              greenOpt.each(function (green) {\n                var r = Representing.getValue(red).x / 100;\n                var g = Representing.getValue(green).x / 100;\n                var b = Representing.getValue(blue).x / 100;\n                var transform = makeColorTransform(r, g, b);\n                emitTransform(slider, transform);\n              });\n            });\n          });\n        };\n        return makeSlider(label, onChoose, 0, 100, 200);\n      };\n      var memRed = makeColorSlider('R');\n      var memGreen = makeColorSlider('G');\n      var memBlue = makeColorSlider('B');\n      var colorizePanelComponents = [\n        createBackButton(),\n        memRed,\n        memGreen,\n        memBlue,\n        createApplyButton()\n      ];\n      var ColorizePanel = Container.sketch({\n        dom: panelDom,\n        components: colorizePanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var getTransformPanelEvent = function (panel, transform, update) {\n        return function (button) {\n          var swap = function () {\n            memContainer.getOpt(button).each(function (container) {\n              Replacing.set(container, [panel]);\n              update(container);\n            });\n          };\n          emit$1(button, internal.swap(), {\n            transform: transform,\n            swap: swap\n          });\n        };\n      };\n      var cropPanelUpdate = function (_anyInSystem) {\n        imagePanel.showCrop();\n      };\n      var resizePanelUpdate = function (anyInSystem) {\n        memSize.getOpt(anyInSystem).each(function (sizeInput) {\n          var measurements = imagePanel.getMeasurements();\n          var width = measurements.width;\n          var height = measurements.height;\n          Representing.setValue(sizeInput, {\n            width: width,\n            height: height\n          });\n        });\n      };\n      var sharpenTransform = Optional.some(sharpen);\n      var invertTransform = Optional.some(invert);\n      var buttonPanelComponents = [\n        createIconButton('crop', 'Crop', getTransformPanelEvent(CropPanel, Optional.none(), cropPanelUpdate), false),\n        createIconButton('resize', 'Resize', getTransformPanelEvent(ResizePanel, Optional.none(), resizePanelUpdate), false),\n        createIconButton('orientation', 'Orientation', getTransformPanelEvent(FlipRotatePanel, Optional.none(), noop$1), false),\n        createIconButton('brightness', 'Brightness', getTransformPanelEvent(BrightnessPanel, Optional.none(), noop$1), false),\n        createIconButton('sharpen', 'Sharpen', getTransformPanelEvent(FilterPanel, sharpenTransform, noop$1), false),\n        createIconButton('contrast', 'Contrast', getTransformPanelEvent(ContrastPanel, Optional.none(), noop$1), false),\n        createIconButton('color-levels', 'Color levels', getTransformPanelEvent(ColorizePanel, Optional.none(), noop$1), false),\n        createIconButton('gamma', 'Gamma', getTransformPanelEvent(GammaPanel, Optional.none(), noop$1), false),\n        createIconButton('invert', 'Invert', getTransformPanelEvent(FilterPanel, invertTransform, noop$1), false)\n      ];\n      var ButtonPanel = Container.sketch({\n        dom: panelDom,\n        components: buttonPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var container = Container.sketch({\n        dom: { tag: 'div' },\n        components: [ButtonPanel],\n        containerBehaviours: derive$1([Replacing.config({})])\n      });\n      var memContainer = record(container);\n      var getApplyButton = function (anyInSystem) {\n        return memContainer.getOpt(anyInSystem).map(function (container) {\n          var panel = container.components()[0];\n          return panel.components()[panel.components().length - 1];\n        });\n      };\n      return {\n        memContainer: memContainer,\n        getApplyButton: getApplyButton\n      };\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.geom.Rect');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Observable');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var getDocumentSize = function (doc) {\n      var max = Math.max;\n      var documentElement = doc.documentElement;\n      var body = doc.body;\n      var scrollWidth = max(documentElement.scrollWidth, body.scrollWidth);\n      var clientWidth = max(documentElement.clientWidth, body.clientWidth);\n      var offsetWidth = max(documentElement.offsetWidth, body.offsetWidth);\n      var scrollHeight = max(documentElement.scrollHeight, body.scrollHeight);\n      var clientHeight = max(documentElement.clientHeight, body.clientHeight);\n      var offsetHeight = max(documentElement.offsetHeight, body.offsetHeight);\n      return {\n        width: scrollWidth < offsetWidth ? clientWidth : scrollWidth,\n        height: scrollHeight < offsetHeight ? clientHeight : scrollHeight\n      };\n    };\n    var isTouchEvent$1 = function (e) {\n      return isNonNullable(e.changedTouches);\n    };\n    var updateWithTouchData = function (e) {\n      if (isTouchEvent$1(e)) {\n        var keys = 'screenX screenY pageX pageY clientX clientY'.split(' ');\n        for (var i = 0; i < keys.length; i++) {\n          e[keys[i]] = e.changedTouches[0][keys[i]];\n        }\n      }\n    };\n    function DragHelper (id, settings) {\n      var _a, _b, _c;\n      var eventOverlay;\n      var handleEvents = [];\n      var overlayEvents = [];\n      var doc = (_a = settings.document) !== null && _a !== void 0 ? _a : document;\n      var root = (_b = settings.root) !== null && _b !== void 0 ? _b : doc;\n      var sugarDoc = SugarElement.fromDom(doc);\n      var downButton;\n      var startX;\n      var startY;\n      var handleElement = SugarElement.fromDom(root.getElementById((_c = settings.handle) !== null && _c !== void 0 ? _c : id));\n      var start = function (e) {\n        var rawEvent = e.raw;\n        var docSize = getDocumentSize(doc);\n        updateWithTouchData(rawEvent);\n        e.prevent();\n        downButton = rawEvent.button;\n        startX = rawEvent.screenX;\n        startY = rawEvent.screenY;\n        var cursor = get$c(handleElement, 'cursor');\n        eventOverlay = SugarElement.fromTag('div', doc);\n        setAll(eventOverlay, {\n          'position': 'absolute',\n          'top': '0',\n          'left': '0',\n          'width': docSize.width + 'px',\n          'height': docSize.height + 'px',\n          'z-index': 2147483647 + '',\n          'opacity': '0.0001',\n          cursor: cursor\n        });\n        append$2(getBody(sugarDoc), eventOverlay);\n        overlayEvents.push(bind(sugarDoc, 'mousemove', drag), bind(sugarDoc, 'touchmove', drag), bind(sugarDoc, 'mouseup', stop), bind(sugarDoc, 'touchend', stop));\n        settings.start(rawEvent);\n      };\n      var drag = function (e) {\n        var rawEvent = e.raw;\n        updateWithTouchData(rawEvent);\n        if (rawEvent.button !== downButton) {\n          return stop(e);\n        }\n        rawEvent.deltaX = rawEvent.screenX - startX;\n        rawEvent.deltaY = rawEvent.screenY - startY;\n        e.prevent();\n        settings.drag(rawEvent);\n      };\n      var stop = function (e) {\n        updateWithTouchData(e.raw);\n        each$1(overlayEvents, function (e) {\n          return e.unbind();\n        });\n        overlayEvents = [];\n        remove$5(eventOverlay);\n        if (settings.stop) {\n          settings.stop(e.raw);\n        }\n      };\n      var destroy = function () {\n        each$1(overlayEvents.concat(handleEvents), function (e) {\n          return e.unbind();\n        });\n        overlayEvents = [];\n        handleEvents = [];\n        if (isNonNullable(eventOverlay)) {\n          remove$5(eventOverlay);\n        }\n      };\n      handleEvents.push(bind(handleElement, 'mousedown', start), bind(handleElement, 'touchstart', start));\n      return { destroy: destroy };\n    }\n\n    var count = 0;\n    var create$1 = function (currentRect, viewPortRect, clampRect, containerElm, action) {\n      var dragHelpers;\n      var events = [];\n      var prefix = 'tox-';\n      var id = prefix + 'crid-' + count++;\n      var container = SugarElement.fromDom(containerElm);\n      var handles = [\n        {\n          name: 'move',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: 0,\n          deltaH: 0,\n          label: 'Crop Mask'\n        },\n        {\n          name: 'nw',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: -1,\n          deltaH: -1,\n          label: 'Top Left Crop Handle'\n        },\n        {\n          name: 'ne',\n          xMul: 1,\n          yMul: 0,\n          deltaX: 0,\n          deltaY: 1,\n          deltaW: 1,\n          deltaH: -1,\n          label: 'Top Right Crop Handle'\n        },\n        {\n          name: 'sw',\n          xMul: 0,\n          yMul: 1,\n          deltaX: 1,\n          deltaY: 0,\n          deltaW: -1,\n          deltaH: 1,\n          label: 'Bottom Left Crop Handle'\n        },\n        {\n          name: 'se',\n          xMul: 1,\n          yMul: 1,\n          deltaX: 0,\n          deltaY: 0,\n          deltaW: 1,\n          deltaH: 1,\n          label: 'Bottom Right Crop Handle'\n        }\n      ];\n      var blockers = [\n        'top',\n        'right',\n        'bottom',\n        'left'\n      ];\n      var getAbsoluteRect = function (outerRect, relativeRect) {\n        return {\n          x: relativeRect.x + outerRect.x,\n          y: relativeRect.y + outerRect.y,\n          w: relativeRect.w,\n          h: relativeRect.h\n        };\n      };\n      var getRelativeRect = function (outerRect, innerRect) {\n        return {\n          x: innerRect.x - outerRect.x,\n          y: innerRect.y - outerRect.y,\n          w: innerRect.w,\n          h: innerRect.h\n        };\n      };\n      var getInnerRect = function () {\n        return getRelativeRect(clampRect, currentRect);\n      };\n      var moveRect = function (handle, startRect, deltaX, deltaY) {\n        var x = startRect.x + deltaX * handle.deltaX;\n        var y = startRect.y + deltaY * handle.deltaY;\n        var w = Math.max(20, startRect.w + deltaX * handle.deltaW);\n        var h = Math.max(20, startRect.h + deltaY * handle.deltaH);\n        var rect = currentRect = global$4.clamp({\n          x: x,\n          y: y,\n          w: w,\n          h: h\n        }, clampRect, handle.name === 'move');\n        rect = getRelativeRect(clampRect, rect);\n        instance.fire('updateRect', { rect: rect });\n        setInnerRect(rect);\n      };\n      var render = function () {\n        var createDragHelper = function (handle) {\n          var startRect;\n          return DragHelper(id, {\n            document: containerElm.ownerDocument,\n            root: getRootNode(container).dom,\n            handle: id + '-' + handle.name,\n            start: function () {\n              startRect = currentRect;\n            },\n            drag: function (e) {\n              moveRect(handle, startRect, e.deltaX, e.deltaY);\n            }\n          });\n        };\n        var cropContainer = SugarElement.fromTag('div');\n        setAll$1(cropContainer, {\n          id: id,\n          'class': prefix + 'croprect-container',\n          'role': 'grid',\n          'aria-dropeffect': 'execute'\n        });\n        append$2(container, cropContainer);\n        each$1(blockers, function (blocker) {\n          descendant(container, '#' + id).each(function (blockerElm) {\n            var cropBlocker = SugarElement.fromTag('div');\n            setAll$1(cropBlocker, {\n              'id': id + '-' + blocker,\n              'class': prefix + 'croprect-block',\n              'data-mce-bogus': 'all'\n            });\n            set$7(cropBlocker, 'display', 'none');\n            append$2(blockerElm, cropBlocker);\n          });\n        });\n        each$1(handles, function (handle) {\n          descendant(container, '#' + id).each(function (handleElm) {\n            var cropHandle = SugarElement.fromTag('div');\n            setAll$1(cropHandle, {\n              'id': id + '-' + handle.name,\n              'aria-label': handle.label,\n              'aria-grabbed': 'false',\n              'data-mce-bogus': 'all',\n              'role': 'gridcell',\n              'tabindex': '-1',\n              'title': handle.label\n            });\n            add$1(cropHandle, [\n              prefix + 'croprect-handle',\n              prefix + 'croprect-handle-' + handle.name\n            ]);\n            set$7(cropHandle, 'display', 'none');\n            append$2(handleElm, cropHandle);\n          });\n        });\n        dragHelpers = map$2(handles, createDragHelper);\n        repaint(currentRect);\n        var handleFocus = function (e) {\n          set$8(e.target, 'aria-grabbed', e.raw.type === 'focus' ? 'true' : 'false');\n        };\n        var handleKeydown = function (e) {\n          var activeHandle;\n          each$1(handles, function (handle) {\n            if (get$d(e.target, 'id') === id + '-' + handle.name) {\n              activeHandle = handle;\n              return false;\n            }\n          });\n          var moveAndBlock = function (evt, handle, startRect, deltaX, deltaY) {\n            evt.stopPropagation();\n            evt.preventDefault();\n            moveRect(activeHandle, startRect, deltaX, deltaY);\n          };\n          switch (e.raw.keyCode) {\n          case global$2.LEFT:\n            moveAndBlock(e, activeHandle, currentRect, -10, 0);\n            break;\n          case global$2.RIGHT:\n            moveAndBlock(e, activeHandle, currentRect, 10, 0);\n            break;\n          case global$2.UP:\n            moveAndBlock(e, activeHandle, currentRect, 0, -10);\n            break;\n          case global$2.DOWN:\n            moveAndBlock(e, activeHandle, currentRect, 0, 10);\n            break;\n          case global$2.ENTER:\n          case global$2.SPACEBAR:\n            e.prevent();\n            action();\n            break;\n          }\n        };\n        events.push(bind(container, 'focusin', handleFocus), bind(container, 'focusout', handleFocus), bind(container, 'keydown', handleKeydown));\n      };\n      var toggleVisibility = function (state) {\n        var selectors = __spreadArray(__spreadArray([], map$2(handles, function (handle) {\n          return '#' + id + '-' + handle.name;\n        }), true), map$2(blockers, function (blocker) {\n          return '#' + id + '-' + blocker;\n        }), true).join(',');\n        var elems = descendants(container, selectors);\n        if (state) {\n          each$1(elems, function (elm) {\n            return remove$6(elm, 'display');\n          });\n        } else {\n          each$1(elems, function (elm) {\n            return set$7(elm, 'display', 'none');\n          });\n        }\n      };\n      var repaint = function (rect) {\n        var updateElementRect = function (name, newRect) {\n          descendant(container, '#' + id + '-' + name).each(function (elm) {\n            setAll(elm, {\n              left: newRect.x + 'px',\n              top: newRect.y + 'px',\n              width: Math.max(0, newRect.w) + 'px',\n              height: Math.max(0, newRect.h) + 'px'\n            });\n          });\n        };\n        each$1(handles, function (handle) {\n          descendant(container, '#' + id + '-' + handle.name).each(function (elm) {\n            setAll(elm, {\n              left: rect.w * handle.xMul + rect.x + 'px',\n              top: rect.h * handle.yMul + rect.y + 'px'\n            });\n          });\n        });\n        updateElementRect('top', {\n          x: viewPortRect.x,\n          y: viewPortRect.y,\n          w: viewPortRect.w,\n          h: rect.y - viewPortRect.y\n        });\n        updateElementRect('right', {\n          x: rect.x + rect.w,\n          y: rect.y,\n          w: viewPortRect.w - rect.x - rect.w + viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('bottom', {\n          x: viewPortRect.x,\n          y: rect.y + rect.h,\n          w: viewPortRect.w,\n          h: viewPortRect.h - rect.y - rect.h + viewPortRect.y\n        });\n        updateElementRect('left', {\n          x: viewPortRect.x,\n          y: rect.y,\n          w: rect.x - viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('move', rect);\n      };\n      var setRect = function (rect) {\n        currentRect = rect;\n        repaint(currentRect);\n      };\n      var setViewPortRect = function (rect) {\n        viewPortRect = rect;\n        repaint(currentRect);\n      };\n      var setInnerRect = function (rect) {\n        setRect(getAbsoluteRect(clampRect, rect));\n      };\n      var setClampRect = function (rect) {\n        clampRect = rect;\n        repaint(currentRect);\n      };\n      var destroy = function () {\n        each$1(dragHelpers, function (helper) {\n          return helper.destroy();\n        });\n        dragHelpers = [];\n        each$1(events, function (e) {\n          return e.unbind();\n        });\n        events = [];\n      };\n      render();\n      var instance = __assign(__assign({}, global$3), {\n        toggleVisibility: toggleVisibility,\n        setClampRect: setClampRect,\n        setRect: setRect,\n        getInnerRect: getInnerRect,\n        setInnerRect: setInnerRect,\n        setViewPortRect: setViewPortRect,\n        destroy: destroy\n      });\n      return instance;\n    };\n    var CropRect = { create: create$1 };\n\n    var loadImage = function (image) {\n      return new global$c(function (resolve) {\n        var loaded = function () {\n          image.removeEventListener('load', loaded);\n          resolve(image);\n        };\n        if (image.complete) {\n          resolve(image);\n        } else {\n          image.addEventListener('load', loaded);\n        }\n      });\n    };\n    var renderImagePanel = function (initialUrl) {\n      var memBg = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-image-tools__image-bg'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      var zoomState = Cell(1);\n      var cropRect = api$1();\n      var rectState = Cell({\n        x: 0,\n        y: 0,\n        w: 1,\n        h: 1\n      });\n      var viewRectState = Cell({\n        x: 0,\n        y: 0,\n        w: 1,\n        h: 1\n      });\n      var repaintImg = function (anyInSystem, img) {\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var zoom = zoomState.get();\n          var panelW = get$a(panel.element);\n          var panelH = get$b(panel.element);\n          var width = img.dom.naturalWidth * zoom;\n          var height = img.dom.naturalHeight * zoom;\n          var left = Math.max(0, panelW / 2 - width / 2);\n          var top = Math.max(0, panelH / 2 - height / 2);\n          var css = {\n            left: left.toString() + 'px',\n            top: top.toString() + 'px',\n            width: width.toString() + 'px',\n            height: height.toString() + 'px',\n            position: 'absolute'\n          };\n          setAll(img, css);\n          memBg.getOpt(panel).each(function (bg) {\n            setAll(bg.element, css);\n          });\n          cropRect.run(function (cRect) {\n            var rect = rectState.get();\n            cRect.setRect({\n              x: rect.x * zoom + left,\n              y: rect.y * zoom + top,\n              w: rect.w * zoom,\n              h: rect.h * zoom\n            });\n            cRect.setClampRect({\n              x: left,\n              y: top,\n              w: width,\n              h: height\n            });\n            cRect.setViewPortRect({\n              x: 0,\n              y: 0,\n              w: panelW,\n              h: panelH\n            });\n          });\n        });\n      };\n      var zoomFit = function (anyInSystem, img) {\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var panelW = get$a(panel.element);\n          var panelH = get$b(panel.element);\n          var width = img.dom.naturalWidth;\n          var height = img.dom.naturalHeight;\n          var zoom = Math.min(panelW / width, panelH / height);\n          if (zoom >= 1) {\n            zoomState.set(1);\n          } else {\n            zoomState.set(zoom);\n          }\n        });\n      };\n      var updateSrc = function (anyInSystem, url) {\n        var img = SugarElement.fromTag('img');\n        set$8(img, 'src', url);\n        return loadImage(img.dom).then(function () {\n          if (anyInSystem.getSystem().isConnected()) {\n            memContainer.getOpt(anyInSystem).map(function (panel) {\n              var aImg = external$2({ element: img });\n              Replacing.replaceAt(panel, 1, Optional.some(aImg));\n              var lastViewRect = viewRectState.get();\n              var viewRect = {\n                x: 0,\n                y: 0,\n                w: img.dom.naturalWidth,\n                h: img.dom.naturalHeight\n              };\n              viewRectState.set(viewRect);\n              var rect = global$4.inflate(viewRect, -20, -20);\n              rectState.set(rect);\n              if (lastViewRect.w !== viewRect.w || lastViewRect.h !== viewRect.h) {\n                zoomFit(panel, img);\n              }\n              repaintImg(panel, img);\n            });\n          }\n        });\n      };\n      var zoom = function (anyInSystem, direction) {\n        var currentZoom = zoomState.get();\n        var newZoom = direction > 0 ? Math.min(2, currentZoom + 0.1) : Math.max(0.1, currentZoom - 0.1);\n        zoomState.set(newZoom);\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var img = panel.components()[1].element;\n          repaintImg(panel, img);\n        });\n      };\n      var showCrop = function () {\n        cropRect.run(function (cRect) {\n          cRect.toggleVisibility(true);\n        });\n      };\n      var hideCrop = function () {\n        cropRect.run(function (cRect) {\n          cRect.toggleVisibility(false);\n        });\n      };\n      var getRect = function () {\n        return rectState.get();\n      };\n      var container = Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-image-tools__image']\n        },\n        components: [\n          memBg.asSpec(),\n          {\n            dom: {\n              tag: 'img',\n              attributes: { src: initialUrl }\n            }\n          },\n          {\n            dom: { tag: 'div' },\n            behaviours: derive$1([config('image-panel-crop-events', [\n                runOnAttached(function (comp) {\n                  memContainer.getOpt(comp).each(function (container) {\n                    var el = container.element.dom;\n                    var cRect = CropRect.create({\n                      x: 10,\n                      y: 10,\n                      w: 100,\n                      h: 100\n                    }, {\n                      x: 0,\n                      y: 0,\n                      w: 200,\n                      h: 200\n                    }, {\n                      x: 0,\n                      y: 0,\n                      w: 200,\n                      h: 200\n                    }, el, noop);\n                    cRect.toggleVisibility(false);\n                    cRect.on('updateRect', function (e) {\n                      var rect = e.rect;\n                      var zoom = zoomState.get();\n                      var newRect = {\n                        x: Math.round(rect.x / zoom),\n                        y: Math.round(rect.y / zoom),\n                        w: Math.round(rect.w / zoom),\n                        h: Math.round(rect.h / zoom)\n                      };\n                      rectState.set(newRect);\n                    });\n                    cropRect.set(cRect);\n                  });\n                }),\n                runOnDetached(function () {\n                  cropRect.clear();\n                })\n              ])])\n          }\n        ],\n        containerBehaviours: derive$1([\n          Replacing.config({}),\n          config('image-panel-events', [runOnAttached(function (comp) {\n              updateSrc(comp, initialUrl);\n            })])\n        ])\n      });\n      var memContainer = record(container);\n      var getMeasurements = function () {\n        var viewRect = viewRectState.get();\n        return {\n          width: viewRect.w,\n          height: viewRect.h\n        };\n      };\n      return {\n        memContainer: memContainer,\n        updateSrc: updateSrc,\n        zoom: zoom,\n        showCrop: showCrop,\n        hideCrop: hideCrop,\n        getRect: getRect,\n        getMeasurements: getMeasurements\n      };\n    };\n\n    var createButton = function (innerHtml, icon, disabled, action, providersBackstage) {\n      return renderIconButton({\n        name: innerHtml,\n        icon: Optional.some(icon),\n        disabled: disabled,\n        tooltip: Optional.some(innerHtml),\n        primary: false,\n        borderless: false\n      }, action, providersBackstage);\n    };\n    var setButtonEnabled = function (button, enabled) {\n      if (enabled) {\n        Disabling.enable(button);\n      } else {\n        Disabling.disable(button);\n      }\n    };\n    var renderSideBar = function (providersBackstage) {\n      var updateButtonUndoStates = function (anyInSystem, undoEnabled, redoEnabled) {\n        memUndo.getOpt(anyInSystem).each(function (undo) {\n          setButtonEnabled(undo, undoEnabled);\n        });\n        memRedo.getOpt(anyInSystem).each(function (redo) {\n          setButtonEnabled(redo, redoEnabled);\n        });\n      };\n      var memUndo = record(createButton('Undo', 'undo', true, function (button) {\n        emitWith(button, internal.undo(), { direction: 1 });\n      }, providersBackstage));\n      var memRedo = record(createButton('Redo', 'redo', true, function (button) {\n        emitWith(button, internal.redo(), { direction: 1 });\n      }, providersBackstage));\n      var container = Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-image-tools__toolbar',\n            'tox-image-tools__sidebar'\n          ]\n        },\n        components: [\n          memUndo.asSpec(),\n          memRedo.asSpec(),\n          createButton('Zoom in', 'zoom-in', false, function (button) {\n            emitWith(button, internal.zoom(), { direction: 1 });\n          }, providersBackstage),\n          createButton('Zoom out', 'zoom-out', false, function (button) {\n            emitWith(button, internal.zoom(), { direction: -1 });\n          }, providersBackstage)\n        ]\n      });\n      return {\n        container: container,\n        updateButtonUndoStates: updateButtonUndoStates\n      };\n    };\n\n    function UndoStack () {\n      var data = [];\n      var index = -1;\n      var add = function (state) {\n        var removed = data.splice(++index);\n        data.push(state);\n        return {\n          state: state,\n          removed: removed\n        };\n      };\n      var undo = function () {\n        if (canUndo()) {\n          return data[--index];\n        }\n      };\n      var redo = function () {\n        if (canRedo()) {\n          return data[++index];\n        }\n      };\n      var canUndo = function () {\n        return index > 0;\n      };\n      var canRedo = function () {\n        return index !== -1 && index < data.length - 1;\n      };\n      return {\n        data: data,\n        add: add,\n        undo: undo,\n        redo: redo,\n        canUndo: canUndo,\n        canRedo: canRedo\n      };\n    }\n\n    var makeState = function (initialState) {\n      var blobState = Cell(initialState);\n      var tempState = value$1();\n      var undoStack = UndoStack();\n      undoStack.add(initialState);\n      var getBlobState = function () {\n        return blobState.get();\n      };\n      var setBlobState = function (state) {\n        blobState.set(state);\n      };\n      var getTempState = function () {\n        return tempState.get().getOrThunk(blobState.get);\n      };\n      var updateTempState = function (blob) {\n        var newTempState = createState(blob);\n        destroyTempState();\n        tempState.set(newTempState);\n        return newTempState.url;\n      };\n      var createState = function (blob) {\n        return {\n          blob: blob,\n          url: URL.createObjectURL(blob)\n        };\n      };\n      var destroyState = function (state) {\n        URL.revokeObjectURL(state.url);\n      };\n      var destroyStates = function (states) {\n        global$5.each(states, destroyState);\n      };\n      var destroyTempState = function () {\n        tempState.on(destroyState);\n        tempState.clear();\n      };\n      var addBlobState = function (blob) {\n        var newState = createState(blob);\n        setBlobState(newState);\n        var removed = undoStack.add(newState).removed;\n        destroyStates(removed);\n        return newState.url;\n      };\n      var addTempState = function (blob) {\n        var newState = createState(blob);\n        tempState.set(newState);\n        return newState.url;\n      };\n      var applyTempState = function (postApply) {\n        return tempState.get().fold(noop, function (temp) {\n          addBlobState(temp.blob);\n          postApply();\n        });\n      };\n      var undo = function () {\n        var currentState = undoStack.undo();\n        setBlobState(currentState);\n        return currentState.url;\n      };\n      var redo = function () {\n        var currentState = undoStack.redo();\n        setBlobState(currentState);\n        return currentState.url;\n      };\n      var getHistoryStates = function () {\n        var undoEnabled = undoStack.canUndo();\n        var redoEnabled = undoStack.canRedo();\n        return {\n          undoEnabled: undoEnabled,\n          redoEnabled: redoEnabled\n        };\n      };\n      return {\n        getBlobState: getBlobState,\n        setBlobState: setBlobState,\n        addBlobState: addBlobState,\n        getTempState: getTempState,\n        updateTempState: updateTempState,\n        addTempState: addTempState,\n        applyTempState: applyTempState,\n        destroyTempState: destroyTempState,\n        undo: undo,\n        redo: redo,\n        getHistoryStates: getHistoryStates\n      };\n    };\n\n    var renderImageTools = function (detail, providersBackstage) {\n      var state = makeState(detail.currentState);\n      var zoom = function (anyInSystem, simulatedEvent) {\n        var direction = simulatedEvent.event.direction;\n        imagePanel.zoom(anyInSystem, direction);\n      };\n      var updateButtonUndoStates = function (anyInSystem) {\n        var historyStates = state.getHistoryStates();\n        sideBar.updateButtonUndoStates(anyInSystem, historyStates.undoEnabled, historyStates.redoEnabled);\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.saveState(),\n          value: historyStates.undoEnabled\n        });\n      };\n      var disableUndoRedo = function (anyInSystem) {\n        sideBar.updateButtonUndoStates(anyInSystem, false, false);\n      };\n      var undo = function (anyInSystem, _simulatedEvent) {\n        var url = state.undo();\n        updateSrc(anyInSystem, url).then(function (_oImg) {\n          unblock(anyInSystem);\n          updateButtonUndoStates(anyInSystem);\n        });\n      };\n      var redo = function (anyInSystem, _simulatedEvent) {\n        var url = state.redo();\n        updateSrc(anyInSystem, url).then(function (_oImg) {\n          unblock(anyInSystem);\n          updateButtonUndoStates(anyInSystem);\n        });\n      };\n      var imageResultToBlob = function (ir) {\n        return ir.toBlob();\n      };\n      var block = function (anyInSystem) {\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.disable(),\n          value: {}\n        });\n      };\n      var unblock = function (anyInSystem) {\n        editPanel.getApplyButton(anyInSystem).each(function (applyButton) {\n          Disabling.enable(applyButton);\n        });\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.enable(),\n          value: {}\n        });\n      };\n      var updateSrc = function (anyInSystem, src) {\n        block(anyInSystem);\n        return imagePanel.updateSrc(anyInSystem, src);\n      };\n      var blobManipulate = function (anyInSystem, blob, filter, action, swap) {\n        block(anyInSystem);\n        blobToImageResult(blob).then(filter).then(imageResultToBlob).then(action).then(function (url) {\n          return updateSrc(anyInSystem, url);\n        }).then(function () {\n          updateButtonUndoStates(anyInSystem);\n          swap();\n          unblock(anyInSystem);\n        }).catch(function (err) {\n          console.log(err);\n          if (anyInSystem.getSystem().isConnected()) {\n            unblock(anyInSystem);\n          }\n        });\n      };\n      var manipulate = function (anyInSystem, filter, swap) {\n        var blob = state.getBlobState().blob;\n        var action = function (blob) {\n          return state.updateTempState(blob);\n        };\n        blobManipulate(anyInSystem, blob, filter, action, swap);\n      };\n      var tempManipulate = function (anyInSystem, filter) {\n        var blob = state.getTempState().blob;\n        var action = function (blob) {\n          return state.addTempState(blob);\n        };\n        blobManipulate(anyInSystem, blob, filter, action, noop);\n      };\n      var manipulateApply = function (anyInSystem, filter, swap) {\n        var blob = state.getBlobState().blob;\n        var action = function (blob) {\n          var url = state.addBlobState(blob);\n          destroyTempState(anyInSystem);\n          return url;\n        };\n        blobManipulate(anyInSystem, blob, filter, action, swap);\n      };\n      var apply = function (anyInSystem, simulatedEvent) {\n        var postApply = function () {\n          destroyTempState(anyInSystem);\n          var swap = simulatedEvent.event.swap;\n          swap();\n        };\n        state.applyTempState(postApply);\n      };\n      var destroyTempState = function (anyInSystem) {\n        var currentUrl = state.getBlobState().url;\n        state.destroyTempState();\n        updateButtonUndoStates(anyInSystem);\n        return currentUrl;\n      };\n      var cancel = function (anyInSystem) {\n        var currentUrl = destroyTempState(anyInSystem);\n        updateSrc(anyInSystem, currentUrl).then(function (_oImg) {\n          unblock(anyInSystem);\n        });\n      };\n      var back = function (anyInSystem, simulatedEvent) {\n        cancel(anyInSystem);\n        var swap = simulatedEvent.event.swap;\n        swap();\n        imagePanel.hideCrop();\n      };\n      var transform = function (anyInSystem, simulatedEvent) {\n        return manipulate(anyInSystem, simulatedEvent.event.transform, noop);\n      };\n      var tempTransform = function (anyInSystem, simulatedEvent) {\n        return tempManipulate(anyInSystem, simulatedEvent.event.transform);\n      };\n      var transformApply = function (anyInSystem, simulatedEvent) {\n        return manipulateApply(anyInSystem, simulatedEvent.event.transform, simulatedEvent.event.swap);\n      };\n      var imagePanel = renderImagePanel(detail.currentState.url);\n      var sideBar = renderSideBar(providersBackstage);\n      var editPanel = renderEditPanel(imagePanel, providersBackstage);\n      var swap = function (anyInSystem, simulatedEvent) {\n        disableUndoRedo(anyInSystem);\n        var transform = simulatedEvent.event.transform;\n        var swap = simulatedEvent.event.swap;\n        transform.fold(function () {\n          swap();\n        }, function (transform) {\n          manipulate(anyInSystem, transform, swap);\n        });\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' }\n        },\n        components: [\n          editPanel.memContainer.asSpec(),\n          imagePanel.memContainer.asSpec(),\n          sideBar.container\n        ],\n        behaviours: derive$1([\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function () {\n                return state.getBlobState();\n              }\n            }\n          }),\n          config('image-tools-events', [\n            run$1(internal.undo(), undo),\n            run$1(internal.redo(), redo),\n            run$1(internal.zoom(), zoom),\n            run$1(internal.back(), back),\n            run$1(internal.apply(), apply),\n            run$1(internal.transform(), transform),\n            run$1(internal.tempTransform(), tempTransform),\n            run$1(internal.transformApply(), transformApply),\n            run$1(internal.swap(), swap)\n          ]),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var renderLabel = function (spec, backstageShared) {\n      var label = {\n        dom: {\n          tag: 'label',\n          innerHtml: backstageShared.providers.translate(spec.label),\n          classes: ['tox-label']\n        }\n      };\n      var comps = map$2(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [label].concat(comps),\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          RepresentingConfigs.domHtml(Optional.none()),\n          Keying.config({ mode: 'acyclic' })\n        ])\n      };\n    };\n\n    var isSingleListItem = function (item) {\n      return !has$2(item, 'items');\n    };\n    var dataAttribute = 'data-value';\n    var fetchItems = function (dropdownComp, name, items, selectedValue) {\n      return map$2(items, function (item) {\n        if (!isSingleListItem(item)) {\n          return {\n            type: 'nestedmenuitem',\n            text: item.text,\n            getSubmenuItems: function () {\n              return fetchItems(dropdownComp, name, item.items, selectedValue);\n            }\n          };\n        } else {\n          return {\n            type: 'togglemenuitem',\n            text: item.text,\n            value: item.value,\n            active: item.value === selectedValue,\n            onAction: function () {\n              Representing.setValue(dropdownComp, item.value);\n              emitWith(dropdownComp, formChangeEvent, { name: name });\n              Focusing.focus(dropdownComp);\n            }\n          };\n        }\n      });\n    };\n    var findItemByValue = function (items, value) {\n      return findMap(items, function (item) {\n        if (!isSingleListItem(item)) {\n          return findItemByValue(item.items, value);\n        } else {\n          return someIf(item.value === value, item);\n        }\n      });\n    };\n    var renderListBox = function (spec, backstage) {\n      var providersBackstage = backstage.shared.providers;\n      var initialItem = head(spec.items).filter(isSingleListItem);\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({\n        dom: {},\n        factory: {\n          sketch: function (sketchSpec) {\n            return renderCommonDropdown({\n              uid: sketchSpec.uid,\n              text: initialItem.map(function (item) {\n                return item.text;\n              }),\n              icon: Optional.none(),\n              tooltip: spec.label,\n              role: Optional.none(),\n              fetch: function (comp, callback) {\n                var items = fetchItems(comp, spec.name, spec.items, Representing.getValue(comp));\n                callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n              },\n              onSetup: constant$1(noop),\n              getApi: constant$1({}),\n              columns: 1,\n              presets: 'normal',\n              classes: [],\n              dropdownBehaviours: [\n                Tabstopping.config({}),\n                Representing.config({\n                  store: {\n                    mode: 'manual',\n                    initialValue: initialItem.map(function (item) {\n                      return item.value;\n                    }).getOr(''),\n                    getValue: function (comp) {\n                      return get$d(comp.element, dataAttribute);\n                    },\n                    setValue: function (comp, data) {\n                      findItemByValue(spec.items, data).each(function (item) {\n                        set$8(comp.element, dataAttribute, item.value);\n                        emitWith(comp, updateMenuText, { text: item.text });\n                      });\n                    }\n                  }\n                })\n              ]\n            }, 'tox-listbox', backstage.shared);\n          }\n        }\n      });\n      var listBoxWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-listboxfield']\n        },\n        components: [pField]\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [listBoxWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: constant$1(spec.disabled),\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    var renderPanel = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: spec.classes\n        },\n        components: map$2(spec.items, backstage.shared.interpreter)\n      };\n    };\n\n    var factory$e = function (detail, _spec) {\n      var options = map$2(detail.options, function (option) {\n        return {\n          dom: {\n            tag: 'option',\n            value: option.value,\n            innerHtml: option.text\n          }\n        };\n      });\n      var initialValues = detail.data.map(function (v) {\n        return wrap$1('initialValue', v);\n      }).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: __assign({\n              mode: 'manual',\n              getValue: function (select) {\n                return get$5(select.element);\n              },\n              setValue: function (select, newValue) {\n                var found = find$5(detail.options, function (opt) {\n                  return opt.value === newValue;\n                });\n                if (found.isSome()) {\n                  set$4(select.element, newValue);\n                }\n              }\n            }, initialValues)\n          })\n        ])\n      };\n    };\n    var HtmlSelect = single({\n      name: 'HtmlSelect',\n      configFields: [\n        required$1('options'),\n        field('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted('selectClasses', []),\n        defaulted('selectAttributes', {}),\n        option('data')\n      ],\n      factory: factory$e\n    });\n\n    var renderSelectBox = function (spec, providersBackstage) {\n      var translatedOptions = map$2(spec.items, function (item) {\n        return {\n          text: providersBackstage.translate(item.text),\n          value: item.value\n        };\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({\n        dom: {},\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run$1(change(), function (component, _) {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      var chevron = spec.size > 1 ? Optional.none() : Optional.some(render$3('chevron-down', {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js']\n      }, providersBackstage.icons));\n      var selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    var renderTable = function (spec, providersBackstage) {\n      var renderTh = function (text) {\n        return {\n          dom: {\n            tag: 'th',\n            innerHtml: providersBackstage.translate(text)\n          }\n        };\n      };\n      var renderHeader = function (header) {\n        return {\n          dom: { tag: 'thead' },\n          components: [{\n              dom: { tag: 'tr' },\n              components: map$2(header, renderTh)\n            }]\n        };\n      };\n      var renderTd = function (text) {\n        return {\n          dom: {\n            tag: 'td',\n            innerHtml: providersBackstage.translate(text)\n          }\n        };\n      };\n      var renderTr = function (row) {\n        return {\n          dom: { tag: 'tr' },\n          components: map$2(row, renderTd)\n        };\n      };\n      var renderRows = function (rows) {\n        return {\n          dom: { tag: 'tbody' },\n          components: map$2(rows, renderTr)\n        };\n      };\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    var renderTextField = function (spec, providersBackstage) {\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var baseInputBehaviours = [\n        Disabling.config({\n          disabled: function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }\n        }),\n        receivingConfig(),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: function (comp) {\n            emit(comp, formSubmitEvent);\n            return Optional.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run$1(input(), function (component, _) {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run$1(postPaste(), function (component, _) {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      var validatingBehaviours = spec.validation.map(function (vl) {\n        return Invalidating.config({\n          getRoot: function (input) {\n            return parent(input.element);\n          },\n          invalidClass: 'tox-invalid',\n          validator: {\n            validate: function (input) {\n              var v = Representing.getValue(input);\n              var result = vl.validator(v);\n              return Future.pure(result === true ? Result.value(v) : Result.error(result));\n            },\n            validateOnLoad: vl.validateOnLoad\n          }\n        });\n      }).toArray();\n      var placeholder = spec.placeholder.fold(constant$1({}), function (p) {\n        return { placeholder: providersBackstage.translate(p) };\n      });\n      var inputMode = spec.inputMode.fold(constant$1({}), function (mode) {\n        return { inputmode: mode };\n      });\n      var inputAttributes = __assign(__assign({}, placeholder), inputMode);\n      var pField = FormField.parts.field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        inputAttributes: inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      var extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      var extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      var extraBehaviours = [\n        Disabling.config({\n          disabled: function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          },\n          onDisabled: function (comp) {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: function (comp) {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        }),\n        receivingConfig()\n      ];\n      return renderFormFieldWith(pLabel, pField, extraClasses2, extraBehaviours);\n    };\n    var renderInput = function (spec, providersBackstage) {\n      return renderTextField({\n        name: spec.name,\n        multiline: false,\n        label: spec.label,\n        inputMode: spec.inputMode,\n        placeholder: spec.placeholder,\n        flex: false,\n        disabled: spec.disabled,\n        classname: 'tox-textfield',\n        validation: Optional.none(),\n        maximized: spec.maximized\n      }, providersBackstage);\n    };\n    var renderTextarea = function (spec, providersBackstage) {\n      return renderTextField({\n        name: spec.name,\n        multiline: true,\n        label: spec.label,\n        inputMode: Optional.none(),\n        placeholder: spec.placeholder,\n        flex: true,\n        disabled: spec.disabled,\n        classname: 'tox-textarea',\n        validation: Optional.none(),\n        maximized: spec.maximized\n      }, providersBackstage);\n    };\n\n    var events$6 = function (streamConfig, streamState) {\n      var streams = streamConfig.stream.streams;\n      var processor = streams.setup(streamConfig, streamState);\n      return derive$2([\n        run$1(streamConfig.event, processor),\n        runOnDetached(function () {\n          return streamState.cancel();\n        })\n      ].concat(streamConfig.cancelEvent.map(function (e) {\n        return [run$1(e, function () {\n            return streamState.cancel();\n          })];\n      }).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$6\n    });\n\n    var throttle = function (_config) {\n      var state = Cell(null);\n      var readState = function () {\n        return { timer: state.get() !== null ? 'set' : 'unset' };\n      };\n      var setTimer = function (t) {\n        state.set(t);\n      };\n      var cancel = function () {\n        var t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$8({\n        readState: readState,\n        setTimer: setTimer,\n        cancel: cancel\n      });\n    };\n    var init$9 = function (spec) {\n      return spec.stream.streams.state(spec);\n    };\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        throttle: throttle,\n        init: init$9\n    });\n\n    var setup$c = function (streamInfo, streamState) {\n      var sInfo = streamInfo.stream;\n      var throttler = last(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return function (component, simulatedEvent) {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      requiredOf('stream', choose$1('mode', {\n        throttle: [\n          required$1('delay'),\n          defaulted('stopEvent', true),\n          output$1('streams', {\n            setup: setup$c,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted('event', 'input'),\n      option('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    var Streaming = create$7({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    var setValueFromItem = function (model, input, item) {\n      var itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    var setSelectionOn = function (input, f) {\n      var el = input.element;\n      var value = get$5(el);\n      var node = el.dom;\n      if (get$d(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    var setCursorAtEnd = function (input) {\n      setSelectionOn(input, function (node, value) {\n        return node.setSelectionRange(value.length, value.length);\n      });\n    };\n    var setSelectionToEnd = function (input, startOffset) {\n      setSelectionOn(input, function (node, value) {\n        return node.setSelectionRange(startOffset, value.length);\n      });\n    };\n    var attemptSelectOver = function (model, input, item) {\n      if (!model.selectsOver) {\n        return Optional.none();\n      } else {\n        var currentValue = Representing.getValue(input);\n        var inputDisplay_1 = model.getDisplayText(currentValue);\n        var itemValue = Representing.getValue(item);\n        var itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay_1) === 0 ? Optional.some(function () {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay_1.length);\n        }) : Optional.none();\n      }\n    };\n\n    var itemExecute = constant$1('alloy.typeahead.itemexecute');\n\n    var make$3 = function (detail, components, spec, externals) {\n      var navigateList = function (comp, simulatedEvent, highlighter) {\n        detail.previewing.set(false);\n        var sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(function (menu) {\n            Highlighting.getHighlighted(menu).fold(function () {\n              highlighter(menu);\n            }, function () {\n              dispatchEvent(sandbox, menu.element, 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          var onOpenSync = function (sandbox) {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n        }\n      };\n      var focusBehaviours$1 = focusBehaviours(detail);\n      var mapFetch = function (comp) {\n        return function (tdata) {\n          return tdata.map(function (data) {\n            var menus = values(data.menus);\n            var items = bind$3(menus, function (menu) {\n              return filter$2(menu.items, function (item) {\n                return item.type === 'item';\n              });\n            });\n            var repState = Representing.getState(comp);\n            repState.update(map$2(items, function (item) {\n              return item.data;\n            }));\n            return data;\n          });\n        };\n      };\n      var behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: __assign({\n            mode: 'dataset',\n            getDataKey: function (comp) {\n              return get$5(comp.element);\n            },\n            getFallbackEntry: function (itemString) {\n              return {\n                value: itemString,\n                meta: {}\n              };\n            },\n            setValue: function (comp, data) {\n              set$4(comp.element, detail.model.getDisplayText(data));\n            }\n          }, detail.initialData.map(function (d) {\n            return wrap$1('initialValue', d);\n          }).getOr({}))\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: function (component, _simulatedEvent) {\n            var sandbox = Coupling.getCoupled(component, 'sandbox');\n            var focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$5(component.element).length >= detail.minChars) {\n                var previousValue_1 = Composing.getCurrent(sandbox).bind(function (menu) {\n                  return Highlighting.getHighlighted(menu).map(Representing.getValue);\n                });\n                detail.previewing.set(true);\n                var onOpenSync = function (_sandbox) {\n                  Composing.getCurrent(sandbox).each(function (menu) {\n                    previousValue_1.fold(function () {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(menu);\n                      }\n                    }, function (pv) {\n                      Highlighting.highlightBy(menu, function (item) {\n                        var itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(menu).orThunk(function () {\n                        Highlighting.highlightFirst(menu);\n                        return Optional.none();\n                      });\n                    });\n                  });\n                };\n                open(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: function (comp, simulatedEvent) {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Optional.some(true);\n          },\n          onEscape: function (comp) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n            return Optional.none();\n          },\n          onUp: function (comp, simulatedEvent) {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Optional.some(true);\n          },\n          onEnter: function (comp) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            var sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return Composing.getCurrent(sandbox).bind(function (menu) {\n                return Highlighting.getHighlighted(menu);\n              }).map(function (item) {\n                emitWith(comp, itemExecute(), { item: item });\n                return true;\n              });\n            } else {\n              var currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Optional.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: function (hotspot) {\n              return makeSandbox$1(detail, hotspot, {\n                onOpen: function () {\n                  return Toggling.on(hotspot);\n                },\n                onClose: function () {\n                  return Toggling.off(hotspot);\n                }\n              });\n            }\n          }\n        }),\n        config('typeaheadevents', [\n          runOnExecute$1(function (comp) {\n            var onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n          }),\n          run$1(itemExecute(), function (comp, se) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event.item);\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event.item, Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run$1(postBlur(), function (typeahead) {\n            var sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      return {\n        uid: detail.uid,\n        dom: dom(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: __assign(__assign({}, focusBehaviours$1), augment(detail.typeaheadBehaviours, behaviours)),\n        eventOrder: detail.eventOrder\n      };\n    };\n\n    var schema$g = constant$1([\n      option('lazySink'),\n      required$1('fetch'),\n      defaulted('minChars', 5),\n      defaulted('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      defaulted('layouts', Optional.none()),\n      defaulted('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted('getDisplayText', function (itemData) {\n          return itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value;\n        }),\n        defaulted('selectsOver', true),\n        defaulted('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted('inputClasses', []),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('matchWidth', true),\n      defaulted('useMinWidth', false),\n      defaulted('dismissOnBlur', true),\n      markers$1(['openClass']),\n      option('initialData'),\n      field('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      customField('previewing', function () {\n        return Cell(true);\n      })\n    ].concat(schema$k()).concat(sandboxFields()));\n    var parts$b = constant$1([external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: function (detail) {\n          return {\n            fakeFocus: true,\n            onHighlight: function (menu, item) {\n              if (!detail.previewing.get()) {\n                menu.getSystem().getByUid(detail.uid).each(function (input) {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                });\n              } else {\n                menu.getSystem().getByUid(detail.uid).each(function (input) {\n                  attemptSelectOver(detail.model, input, item).fold(function () {\n                    return Highlighting.dehighlight(menu, item);\n                  }, function (fn) {\n                    return fn();\n                  });\n                });\n              }\n              detail.previewing.set(false);\n            },\n            onExecute: function (menu, item) {\n              return menu.getSystem().getByUid(detail.uid).toOptional().map(function (typeahead) {\n                emitWith(typeahead, itemExecute(), { item: item });\n                return true;\n              });\n            },\n            onHover: function (menu, item) {\n              detail.previewing.set(false);\n              menu.getSystem().getByUid(detail.uid).each(function (input) {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    var Typeahead = composite({\n      name: 'Typeahead',\n      configFields: schema$g(),\n      partFields: parts$b(),\n      factory: make$3\n    });\n\n    var wrap = function (delegate) {\n      var toCached = function () {\n        return wrap(delegate.toCached());\n      };\n      var bindFuture = function (f) {\n        return wrap(delegate.bind(function (resA) {\n          return resA.fold(function (err) {\n            return Future.pure(Result.error(err));\n          }, function (a) {\n            return f(a);\n          });\n        }));\n      };\n      var bindResult = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.bind(f);\n        }));\n      };\n      var mapResult = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.map(f);\n        }));\n      };\n      var mapError = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.mapError(f);\n        }));\n      };\n      var foldResult = function (whenError, whenValue) {\n        return delegate.map(function (res) {\n          return res.fold(whenError, whenValue);\n        });\n      };\n      var withTimeout = function (timeout, errorThunk) {\n        return wrap(Future.nu(function (callback) {\n          var timedOut = false;\n          var timer = setTimeout(function () {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(function (result) {\n            if (!timedOut) {\n              clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return __assign(__assign({}, delegate), {\n        toCached: toCached,\n        bindFuture: bindFuture,\n        bindResult: bindResult,\n        mapResult: mapResult,\n        mapError: mapError,\n        foldResult: foldResult,\n        withTimeout: withTimeout\n      });\n    };\n    var nu$1 = function (worker) {\n      return wrap(Future.nu(worker));\n    };\n    var value = function (value) {\n      return wrap(Future.pure(Result.value(value)));\n    };\n    var error = function (error) {\n      return wrap(Future.pure(Result.error(error)));\n    };\n    var fromResult = function (result) {\n      return wrap(Future.pure(result));\n    };\n    var fromFuture = function (future) {\n      return wrap(future.map(Result.value));\n    };\n    var fromPromise = function (promise) {\n      return nu$1(function (completer) {\n        promise.then(function (value) {\n          completer(Result.value(value));\n        }, function (error) {\n          completer(Result.error(error));\n        });\n      });\n    };\n    var FutureResult = {\n      nu: nu$1,\n      wrap: wrap,\n      pure: value,\n      value: value,\n      error: error,\n      fromResult: fromResult,\n      fromFuture: fromFuture,\n      fromPromise: fromPromise\n    };\n\n    var separator$1 = { type: 'separator' };\n    var toMenuItem = function (target) {\n      return {\n        type: 'menuitem',\n        value: target.url,\n        text: target.title,\n        meta: { attach: target.attach },\n        onAction: noop\n      };\n    };\n    var staticMenuItem = function (title, url) {\n      return {\n        type: 'menuitem',\n        value: url,\n        text: title,\n        meta: { attach: undefined },\n        onAction: noop\n      };\n    };\n    var toMenuItems = function (targets) {\n      return map$2(targets, toMenuItem);\n    };\n    var filterLinkTargets = function (type, targets) {\n      return filter$2(targets, function (target) {\n        return target.type === type;\n      });\n    };\n    var filteredTargets = function (type, targets) {\n      return toMenuItems(filterLinkTargets(type, targets));\n    };\n    var headerTargets = function (linkInfo) {\n      return filteredTargets('header', linkInfo.targets);\n    };\n    var anchorTargets = function (linkInfo) {\n      return filteredTargets('anchor', linkInfo.targets);\n    };\n    var anchorTargetTop = function (linkInfo) {\n      return Optional.from(linkInfo.anchorTop).map(function (url) {\n        return staticMenuItem('<top>', url);\n      }).toArray();\n    };\n    var anchorTargetBottom = function (linkInfo) {\n      return Optional.from(linkInfo.anchorBottom).map(function (url) {\n        return staticMenuItem('<bottom>', url);\n      }).toArray();\n    };\n    var historyTargets = function (history) {\n      return map$2(history, function (url) {\n        return staticMenuItem(url, url);\n      });\n    };\n    var joinMenuLists = function (items) {\n      return foldl(items, function (a, b) {\n        var bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$1, b);\n      }, []);\n    };\n    var filterByQuery = function (term, menuItems) {\n      var lowerCaseTerm = term.toLowerCase();\n      return filter$2(menuItems, function (item) {\n        var text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(item.value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    var getItems = function (fileType, input, urlBackstage) {\n      var urlInputValue = Representing.getValue(input);\n      var term = urlInputValue.meta.text !== undefined ? urlInputValue.meta.text : urlInputValue.value;\n      var info = urlBackstage.getLinkInformation();\n      return info.fold(function () {\n        return [];\n      }, function (linkInfo) {\n        var history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    var errorId = generate$6('aria-invalid');\n    var renderUrlInput = function (spec, backstage, urlBackstage) {\n      var _a;\n      var providersBackstage = backstage.shared.providers;\n      var updateHistory = function (component) {\n        var urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      var pField = FormField.parts.field({\n        factory: Typeahead,\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: function (input) {\n          var items = getItems(spec.filetype, input, urlBackstage);\n          var tdata = build(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, false);\n          return Future.pure(tdata);\n        },\n        getHotspot: function (comp) {\n          return memUrlBox.getOpt(comp);\n        },\n        onSetValue: function (comp, _newValue) {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1(flatten([\n          urlBackstage.getValidationHandler().map(function (handler) {\n            return Invalidating.config({\n              getRoot: function (comp) {\n                return parent(comp.element);\n              },\n              invalidClass: 'tox-control-wrap--status-invalid',\n              notify: {\n                onInvalid: function (comp, err) {\n                  memInvalidIcon.getOpt(comp).each(function (invalidComp) {\n                    set$8(invalidComp.element, 'title', providersBackstage.translate(err));\n                  });\n                }\n              },\n              validator: {\n                validate: function (input) {\n                  var urlEntry = Representing.getValue(input);\n                  return FutureResult.nu(function (completer) {\n                    handler({\n                      type: spec.filetype,\n                      url: urlEntry.value\n                    }, function (validation) {\n                      if (validation.status === 'invalid') {\n                        var err = Result.error(validation.message);\n                        completer(err);\n                      } else {\n                        var val = Result.value(validation.message);\n                        completer(val);\n                      }\n                    });\n                  });\n                },\n                validateOnLoad: false\n              }\n            });\n          }).toArray(),\n          [\n            Disabling.config({\n              disabled: function () {\n                return spec.disabled || providersBackstage.isDisabled();\n              }\n            }),\n            Tabstopping.config({}),\n            config('urlinput-events', flatten([\n              spec.filetype === 'file' ? [run$1(input(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                })] : [],\n              [\n                run$1(change(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                }),\n                run$1(postPaste(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                })\n              ]\n            ]))\n          ]\n        ])),\n        eventOrder: (_a = {}, _a[input()] = [\n          'streaming',\n          'urlinput-events',\n          'invalidating'\n        ], _a),\n        model: {\n          getDisplayText: function (itemData) {\n            return itemData.value;\n          },\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: function (_menu, component, _entry) {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: function (typeahead, _sandbox, _item, _value) {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var makeIcon = function (name, errId, icon, label) {\n        if (icon === void 0) {\n          icon = name;\n        }\n        if (label === void 0) {\n          label = name;\n        }\n        return render$3(icon, {\n          tag: 'div',\n          classes: [\n            'tox-icon',\n            'tox-control-wrap__status-icon-' + name\n          ],\n          attributes: __assign({\n            'title': providersBackstage.translate(label),\n            'aria-live': 'polite'\n          }, errId.fold(function () {\n            return {};\n          }, function (id) {\n            return { id: id };\n          }))\n        }, providersBackstage.icons);\n      };\n      var memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n      var memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      var optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      var browseUrlEvent = generate$6('browser.url.event');\n      var memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          })])\n      });\n      var memUrlPickerButton = record(renderButton({\n        name: spec.name,\n        icon: Optional.some('browse'),\n        text: spec.label.getOr(''),\n        disabled: spec.disabled,\n        primary: false,\n        borderless: true\n      }, function (component) {\n        return emit(component, browseUrlEvent);\n      }, providersBackstage, [], ['tox-browse-url']));\n      var controlHWrapper = function () {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__controls-h-stack']\n          },\n          components: flatten([\n            [memUrlBox.asSpec()],\n            optUrlPicker.map(function () {\n              return memUrlPickerButton.asSpec();\n            }).toArray()\n          ])\n        };\n      };\n      var openUrlPicker = function (comp) {\n        Composing.getCurrent(comp).each(function (field) {\n          var componentData = Representing.getValue(field);\n          var urlData = __assign({ fieldname: spec.name }, componentData);\n          optUrlPicker.each(function (picker) {\n            picker(urlData).get(function (chosenData) {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('url-input-events', [run$1(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    var renderAlertBanner = function (spec, providersBackstage) {\n      return Container.sketch({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: [\n            'tox-notification',\n            'tox-notification--in',\n            'tox-notification--' + spec.level\n          ]\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__icon']\n            },\n            components: [Button.sketch({\n                dom: {\n                  tag: 'button',\n                  classes: [\n                    'tox-button',\n                    'tox-button--naked',\n                    'tox-button--icon'\n                  ],\n                  innerHtml: get$1(spec.icon, providersBackstage.icons),\n                  attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n                },\n                action: function (comp) {\n                  emitWith(comp, formActionEvent, {\n                    name: 'alert-banner',\n                    value: spec.url\n                  });\n                },\n                buttonBehaviours: derive$1([addFocusableBehaviour()])\n              })]\n          },\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__body'],\n              innerHtml: providersBackstage.translate(spec.text)\n            }\n          }\n        ]\n      });\n    };\n\n    var renderCheckbox = function (spec, providerBackstage) {\n      var repBehaviour = Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function (comp) {\n            var el = comp.element.dom;\n            return el.checked;\n          },\n          setValue: function (comp, value) {\n            var el = comp.element.dom;\n            el.checked = value;\n          }\n        }\n      });\n      var toggleCheckboxHandler = function (comp) {\n        comp.element.dom.click();\n        return Optional.some(true);\n      };\n      var pField = FormField.parts.field({\n        factory: { sketch: identity$1 },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providerBackstage.isDisabled();\n            }\n          }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          repBehaviour,\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run$1(change(), function (component, _) {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      var pLabel = FormField.parts.label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label'],\n          innerHtml: providerBackstage.translate(spec.label)\n        },\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      var makeIcon = function (className) {\n        var iconName = className === 'checked' ? 'selected' : 'unselected';\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-checkbox-icon__' + className\n          ]\n        }, providerBackstage.icons);\n      };\n      var memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providerBackstage.isDisabled();\n            },\n            disableClass: 'tox-checkbox--disabled',\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    var renderHtmlPanel = function (spec) {\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html\n          }\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({})\n          ])\n        });\n      }\n    };\n\n    var make$2 = function (render) {\n      return function (parts, spec, backstage) {\n        return get$e(spec, 'name').fold(function () {\n          return render(spec, backstage);\n        }, function (fieldName) {\n          return parts.field(fieldName, render(spec, backstage));\n        });\n      };\n    };\n    var makeIframe = function (render) {\n      return function (parts, spec, backstage) {\n        var iframeSpec = deepMerge(spec, { source: 'dynamic' });\n        return make$2(render)(parts, iframeSpec, backstage);\n      };\n    };\n    var factories = {\n      bar: make$2(function (spec, backstage) {\n        return renderBar(spec, backstage.shared);\n      }),\n      collection: make$2(function (spec, backstage) {\n        return renderCollection(spec, backstage.shared.providers);\n      }),\n      alertbanner: make$2(function (spec, backstage) {\n        return renderAlertBanner(spec, backstage.shared.providers);\n      }),\n      input: make$2(function (spec, backstage) {\n        return renderInput(spec, backstage.shared.providers);\n      }),\n      textarea: make$2(function (spec, backstage) {\n        return renderTextarea(spec, backstage.shared.providers);\n      }),\n      label: make$2(function (spec, backstage) {\n        return renderLabel(spec, backstage.shared);\n      }),\n      iframe: makeIframe(function (spec, backstage) {\n        return renderIFrame(spec, backstage.shared.providers);\n      }),\n      button: make$2(function (spec, backstage) {\n        return renderDialogButton(spec, backstage.shared.providers);\n      }),\n      checkbox: make$2(function (spec, backstage) {\n        return renderCheckbox(spec, backstage.shared.providers);\n      }),\n      colorinput: make$2(function (spec, backstage) {\n        return renderColorInput(spec, backstage.shared, backstage.colorinput);\n      }),\n      colorpicker: make$2(renderColorPicker),\n      dropzone: make$2(function (spec, backstage) {\n        return renderDropZone(spec, backstage.shared.providers);\n      }),\n      grid: make$2(function (spec, backstage) {\n        return renderGrid(spec, backstage.shared);\n      }),\n      listbox: make$2(function (spec, backstage) {\n        return renderListBox(spec, backstage);\n      }),\n      selectbox: make$2(function (spec, backstage) {\n        return renderSelectBox(spec, backstage.shared.providers);\n      }),\n      sizeinput: make$2(function (spec, backstage) {\n        return renderSizeInput(spec, backstage.shared.providers);\n      }),\n      urlinput: make$2(function (spec, backstage) {\n        return renderUrlInput(spec, backstage, backstage.urlinput);\n      }),\n      customeditor: make$2(renderCustomEditor),\n      htmlpanel: make$2(renderHtmlPanel),\n      imagetools: make$2(function (spec, backstage) {\n        return renderImageTools(spec, backstage.shared.providers);\n      }),\n      table: make$2(function (spec, backstage) {\n        return renderTable(spec, backstage.shared.providers);\n      }),\n      panel: make$2(function (spec, backstage) {\n        return renderPanel(spec, backstage);\n      })\n    };\n    var noFormParts = {\n      field: function (_name, spec) {\n        return spec;\n      }\n    };\n    var interpretInForm = function (parts, spec, oldBackstage) {\n      var newBackstage = deepMerge(oldBackstage, {\n        shared: {\n          interpreter: function (childSpec) {\n            return interpretParts(parts, childSpec, newBackstage);\n          }\n        }\n      });\n      return interpretParts(parts, spec, newBackstage);\n    };\n    var interpretParts = function (parts, spec, backstage) {\n      return get$e(factories, spec.type).fold(function () {\n        console.error('Unknown factory type \"' + spec.type + '\", defaulting to container: ', spec);\n        return spec;\n      }, function (factory) {\n        return factory(parts, spec, backstage);\n      });\n    };\n    var interpretWithoutForm = function (spec, backstage) {\n      var parts = noFormParts;\n      return interpretParts(parts, spec, backstage);\n    };\n\n    var bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    var getInlineDialogAnchor = function (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) {\n      var bubbleSize = 12;\n      var overrides = { maxHeightFunction: expandable$1() };\n      var editableAreaAnchor = function () {\n        return {\n          type: 'node',\n          root: getContentContainer(contentAreaElement()),\n          node: Optional.from(contentAreaElement()),\n          bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n          layouts: {\n            onRtl: function () {\n              return [northeast];\n            },\n            onLtr: function () {\n              return [northwest];\n            }\n          },\n          overrides: overrides\n        };\n      };\n      var standardAnchor = function () {\n        return {\n          type: 'hotspot',\n          hotspot: lazyAnchorbar(),\n          bubble: nu$5(-bubbleSize, bubbleSize, bubbleAlignments$2),\n          layouts: {\n            onRtl: function () {\n              return [southeast$2];\n            },\n            onLtr: function () {\n              return [southwest$2];\n            }\n          },\n          overrides: overrides\n        };\n      };\n      return function () {\n        return lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n      };\n    };\n    var getBannerAnchor = function (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) {\n      var editableAreaAnchor = function () {\n        return {\n          type: 'node',\n          root: getContentContainer(contentAreaElement()),\n          node: Optional.from(contentAreaElement()),\n          layouts: {\n            onRtl: function () {\n              return [north];\n            },\n            onLtr: function () {\n              return [north];\n            }\n          }\n        };\n      };\n      var standardAnchor = function () {\n        return {\n          type: 'hotspot',\n          hotspot: lazyAnchorbar(),\n          layouts: {\n            onRtl: function () {\n              return [south$2];\n            },\n            onLtr: function () {\n              return [south$2];\n            }\n          }\n        };\n      };\n      return function () {\n        return lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n      };\n    };\n    var getCursorAnchor = function (editor, bodyElement) {\n      return function () {\n        return {\n          type: 'selection',\n          root: bodyElement(),\n          getSelection: function () {\n            var rng = editor.selection.getRng();\n            return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n          }\n        };\n      };\n    };\n    var getNodeAnchor$1 = function (bodyElement) {\n      return function (element) {\n        return {\n          type: 'node',\n          root: bodyElement(),\n          node: element\n        };\n      };\n    };\n    var getAnchors = function (editor, lazyAnchorbar, isToolbarTop) {\n      var useFixedToolbarContainer = useFixedContainer(editor);\n      var bodyElement = function () {\n        return SugarElement.fromDom(editor.getBody());\n      };\n      var contentAreaElement = function () {\n        return SugarElement.fromDom(editor.getContentAreaContainer());\n      };\n      var lazyUseEditableAreaAnchor = function () {\n        return useFixedToolbarContainer || !isToolbarTop();\n      };\n      return {\n        inlineDialog: getInlineDialogAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        banner: getBannerAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor$1(bodyElement)\n      };\n    };\n\n    var colorPicker = function (editor) {\n      return function (callback, value) {\n        var dialog = colorPickerDialog(editor);\n        dialog(callback, value);\n      };\n    };\n    var hasCustomColors = function (editor) {\n      return function () {\n        return hasCustomColors$1(editor);\n      };\n    };\n    var getColors = function (editor) {\n      return function () {\n        return getColors$2(editor);\n      };\n    };\n    var getColorCols = function (editor) {\n      return function () {\n        return getColorCols$1(editor);\n      };\n    };\n    var ColorInputBackstage = function (editor) {\n      return {\n        colorPicker: colorPicker(editor),\n        hasCustomColors: hasCustomColors(editor),\n        getColors: getColors(editor),\n        getColorCols: getColorCols(editor)\n      };\n    };\n\n    var isDraggableModal = function (editor) {\n      return function () {\n        return isDraggableModal$1(editor);\n      };\n    };\n    var DialogBackstage = function (editor) {\n      return { isDraggableModal: isDraggableModal(editor) };\n    };\n\n    var HeaderBackstage = function (editor) {\n      var mode = Cell(isToolbarLocationBottom(editor) ? 'bottom' : 'top');\n      return {\n        isPositionedAtTop: function () {\n          return mode.get() === 'top';\n        },\n        getDockingMode: mode.get,\n        setDockingMode: mode.set\n      };\n    };\n\n    var defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    var isNestedFormat = function (format) {\n      return has$2(format, 'items');\n    };\n    var isBlockFormat = function (format) {\n      return has$2(format, 'block');\n    };\n    var isInlineFormat = function (format) {\n      return has$2(format, 'inline');\n    };\n    var isSelectorFormat = function (format) {\n      return has$2(format, 'selector');\n    };\n    var mapFormats = function (userFormats) {\n      return foldl(userFormats, function (acc, fmt) {\n        if (isNestedFormat(fmt)) {\n          var result = mapFormats(fmt.items);\n          return {\n            customFormats: acc.customFormats.concat(result.customFormats),\n            formats: acc.formats.concat([{\n                title: fmt.title,\n                items: result.formats\n              }])\n          };\n        } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n          var formatName = isString(fmt.name) ? fmt.name : fmt.title.toLowerCase();\n          var formatNameWithPrefix = 'custom-' + formatName;\n          return {\n            customFormats: acc.customFormats.concat([{\n                name: formatNameWithPrefix,\n                format: fmt\n              }]),\n            formats: acc.formats.concat([{\n                title: fmt.title,\n                format: formatNameWithPrefix,\n                icon: fmt.icon\n              }])\n          };\n        } else {\n          return __assign(__assign({}, acc), { formats: acc.formats.concat(fmt) });\n        }\n      }, {\n        customFormats: [],\n        formats: []\n      });\n    };\n    var registerCustomFormats = function (editor, userFormats) {\n      var result = mapFormats(userFormats);\n      var registerFormats = function (customFormats) {\n        each$1(customFormats, function (fmt) {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', function () {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    var getStyleFormats = function (editor) {\n      return getUserStyleFormats(editor).map(function (userFormats) {\n        var registeredUserFormats = registerCustomFormats(editor, userFormats);\n        return isMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n      }).getOr(defaultStyleFormats);\n    };\n\n    var processBasic = function (item, isSelectedFor, getPreviewFor) {\n      var formatterSpec = {\n        type: 'formatter',\n        isSelected: isSelectedFor(item.format),\n        getStylePreview: getPreviewFor(item.format)\n      };\n      return deepMerge(item, formatterSpec);\n    };\n    var register$8 = function (editor, formats, isSelectedFor, getPreviewFor) {\n      var enrichSupported = function (item) {\n        return processBasic(item, isSelectedFor, getPreviewFor);\n      };\n      var enrichMenu = function (item) {\n        var submenuSpec = { type: 'submenu' };\n        return deepMerge(item, submenuSpec);\n      };\n      var enrichCustom = function (item) {\n        var formatName = isString(item.name) ? item.name : generate$6(item.title);\n        var formatNameWithPrefix = 'custom-' + formatName;\n        var customSpec = {\n          type: 'formatter',\n          format: formatNameWithPrefix,\n          isSelected: isSelectedFor(formatNameWithPrefix),\n          getStylePreview: getPreviewFor(formatNameWithPrefix)\n        };\n        var newItem = deepMerge(item, customSpec);\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      var doEnrich = function (items) {\n        return map$2(items, function (item) {\n          var keys$1 = keys(item);\n          if (hasNonNullableKey(item, 'items')) {\n            var newItems = doEnrich(item.items);\n            return deepMerge(enrichMenu(item), { getStyleItems: constant$1(newItems) });\n          } else if (hasNonNullableKey(item, 'format')) {\n            return enrichSupported(item);\n          } else if (keys$1.length === 1 && contains$2(keys$1, 'title')) {\n            return deepMerge(item, { type: 'separator' });\n          } else {\n            return enrichCustom(item);\n          }\n        });\n      };\n      return doEnrich(formats);\n    };\n\n    var init$8 = function (editor) {\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return fmt !== undefined ? Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          }) : Optional.none();\n        };\n      };\n      var flatten = function (fmt) {\n        var subs = fmt.items;\n        return subs !== undefined && subs.length > 0 ? bind$3(subs, flatten) : [fmt.format];\n      };\n      var settingsFormats = Cell([]);\n      var settingsFlattenedFormats = Cell([]);\n      var eventsFormats = Cell([]);\n      var eventsFlattenedFormats = Cell([]);\n      var replaceSettings = Cell(false);\n      editor.on('PreInit', function (_e) {\n        var formats = getStyleFormats(editor);\n        var enriched = register$8(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n        settingsFlattenedFormats.set(bind$3(enriched, flatten));\n      });\n      editor.on('addStyleModifications', function (e) {\n        var modifications = register$8(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n        eventsFlattenedFormats.set(bind$3(modifications, flatten));\n      });\n      var getData = function () {\n        var fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        var fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      var getFlattenedKeys = function () {\n        var fromSettings = replaceSettings.get() ? [] : settingsFlattenedFormats.get();\n        var fromEvents = eventsFlattenedFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return {\n        getData: getData,\n        getFlattenedKeys: getFlattenedKeys\n      };\n    };\n\n    var isElement = function (node) {\n      return isNonNullable(node) && node.nodeType === 1;\n    };\n    var trim = global$5.trim;\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var isContentEditableTrue = hasContentEditableState('true');\n    var isContentEditableFalse = hasContentEditableState('false');\n    var create = function (type, title, url, level, attach) {\n      return {\n        type: type,\n        title: title,\n        url: url,\n        level: level,\n        attach: attach\n      };\n    };\n    var isChildOfContentEditableTrue = function (node) {\n      while (node = node.parentNode) {\n        var value = node.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(node);\n        }\n      }\n      return false;\n    };\n    var select = function (selector, root) {\n      return map$2(descendants(SugarElement.fromDom(root), selector), function (element) {\n        return element.dom;\n      });\n    };\n    var getElementText = function (elm) {\n      return elm.innerText || elm.textContent;\n    };\n    var getOrGenerateId = function (elm) {\n      return elm.id ? elm.id : generate$6('h');\n    };\n    var isAnchor = function (elm) {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    var isValidAnchor = function (elm) {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    var isHeader = function (elm) {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    var isEditable = function (elm) {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    var isValidHeader = function (elm) {\n      return isHeader(elm) && isEditable(elm);\n    };\n    var getLevel = function (elm) {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    var headerTarget = function (elm) {\n      var headerId = getOrGenerateId(elm);\n      var attach = function () {\n        elm.id = headerId;\n      };\n      return create('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\n    };\n    var anchorTarget = function (elm) {\n      var anchorId = elm.id || elm.name;\n      var anchorText = getElementText(elm);\n      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    var getHeaderTargets = function (elms) {\n      return map$2(filter$2(elms, isValidHeader), headerTarget);\n    };\n    var getAnchorTargets = function (elms) {\n      return map$2(filter$2(elms, isValidAnchor), anchorTarget);\n    };\n    var getTargetElements = function (elm) {\n      var elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    var hasTitle = function (target) {\n      return trim(target.title).length > 0;\n    };\n    var find = function (elm) {\n      var elms = getTargetElements(elm);\n      return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    var LinkTargets = { find: find };\n\n    var STORAGE_KEY = 'tinymce-url-history';\n    var HISTORY_LENGTH = 5;\n    var isHttpUrl = function (url) {\n      return isString(url) && /^https?/.test(url);\n    };\n    var isArrayOfUrl = function (a) {\n      return isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    };\n    var isRecordOfUrlArray = function (r) {\n      return isObject(r) && find$4(r, function (value) {\n        return !isArrayOfUrl(value);\n      }).isNone();\n    };\n    var getAllHistory = function () {\n      var unparsedHistory = global$8.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      var history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    var setAllHistory = function (history) {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      global$8.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    var getHistory = function (fileType) {\n      var history = getAllHistory();\n      return get$e(history, fileType).getOr([]);\n    };\n    var addToHistory = function (url, fileType) {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      var history = getAllHistory();\n      var items = get$e(history, fileType).getOr([]);\n      var itemsWithoutUrl = filter$2(items, function (item) {\n        return item !== url;\n      });\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    var isTruthy = function (value) {\n      return !!value;\n    };\n    var makeMap = function (value) {\n      return map$1(global$5.makeMap(value, /[, ]/), isTruthy);\n    };\n    var getPicker = function (editor) {\n      return Optional.from(getFilePickerCallback(editor)).filter(isFunction);\n    };\n    var getPickerTypes = function (editor) {\n      var optFileTypes = Optional.some(getFilePickerTypes(editor)).filter(isTruthy);\n      var optLegacyTypes = Optional.some(getFileBrowserCallbackTypes(editor)).filter(isTruthy);\n      var optTypes = optFileTypes.or(optLegacyTypes).map(makeMap);\n      return getPicker(editor).fold(never, function (_picker) {\n        return optTypes.fold(always, function (types) {\n          return keys(types).length > 0 ? types : false;\n        });\n      });\n    };\n    var getPickerSetting = function (editor, filetype) {\n      var pickerTypes = getPickerTypes(editor);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(editor) : Optional.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(editor) : Optional.none();\n      }\n    };\n    var getUrlPicker = function (editor, filetype) {\n      return getPickerSetting(editor, filetype).map(function (picker) {\n        return function (entry) {\n          return Future.nu(function (completer) {\n            var handler = function (value, meta) {\n              if (!isString(value)) {\n                throw new Error('Expected value to be string');\n              }\n              if (meta !== undefined && !isObject(meta)) {\n                throw new Error('Expected meta to be a object');\n              }\n              var r = {\n                value: value,\n                meta: meta\n              };\n              completer(r);\n            };\n            var meta = __assign({\n              filetype: filetype,\n              fieldname: entry.fieldname\n            }, Optional.from(entry.meta).getOr({}));\n            picker.call(editor, handler, entry.value, meta);\n          });\n        };\n      });\n    };\n    var getTextSetting = function (value) {\n      return Optional.from(value).filter(isString).getOrUndefined();\n    };\n    var getLinkInformation = function (editor) {\n      if (noTypeaheadUrls(editor)) {\n        return Optional.none();\n      }\n      return Optional.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(getAnchorTop(editor)),\n        anchorBottom: getTextSetting(getAnchorBottom(editor))\n      });\n    };\n    var getValidationHandler = function (editor) {\n      return Optional.from(getFilePickerValidatorHandler(editor));\n    };\n    var UrlInputBackstage = function (editor) {\n      return {\n        getHistory: getHistory,\n        addToHistory: addToHistory,\n        getLinkInformation: function () {\n          return getLinkInformation(editor);\n        },\n        getValidationHandler: function () {\n          return getValidationHandler(editor);\n        },\n        getUrlPicker: function (filetype) {\n          return getUrlPicker(editor, filetype);\n        }\n      };\n    };\n\n    var init$7 = function (sink, editor, lazyAnchorbar) {\n      var contextMenuState = Cell(false);\n      var toolbar = HeaderBackstage(editor);\n      var backstage = {\n        shared: {\n          providers: {\n            icons: function () {\n              return editor.ui.registry.getAll().icons;\n            },\n            menuItems: function () {\n              return editor.ui.registry.getAll().menuItems;\n            },\n            translate: global$e.translate,\n            isDisabled: function () {\n              return editor.mode.isReadOnly() || editor.ui.isDisabled();\n            },\n            getSetting: editor.getParam.bind(editor)\n          },\n          interpreter: function (s) {\n            return interpretWithoutForm(s, backstage);\n          },\n          anchors: getAnchors(editor, lazyAnchorbar, toolbar.isPositionedAtTop),\n          header: toolbar,\n          getSink: function () {\n            return Result.value(sink);\n          }\n        },\n        urlinput: UrlInputBackstage(editor),\n        styleselect: init$8(editor),\n        colorinput: ColorInputBackstage(editor),\n        dialog: DialogBackstage(editor),\n        isContextMenuOpen: function () {\n          return contextMenuState.get();\n        },\n        setContextMenuState: function (state) {\n          return contextMenuState.set(state);\n        }\n      };\n      return backstage;\n    };\n\n    var setup$b = function (editor, mothership, uiMothership) {\n      var broadcastEvent = function (name, evt) {\n        each$1([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastEvent(name, evt);\n        });\n      };\n      var broadcastOn = function (channel, message) {\n        each$1([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastOn([channel], message);\n        });\n      };\n      var fireDismissPopups = function (evt) {\n        return broadcastOn(dismissPopups(), { target: evt.target });\n      };\n      var doc = getDocument();\n      var onTouchstart = bind(doc, 'touchstart', fireDismissPopups);\n      var onTouchmove = bind(doc, 'touchmove', function (evt) {\n        return broadcastEvent(documentTouchmove(), evt);\n      });\n      var onTouchend = bind(doc, 'touchend', function (evt) {\n        return broadcastEvent(documentTouchend(), evt);\n      });\n      var onMousedown = bind(doc, 'mousedown', fireDismissPopups);\n      var onMouseup = bind(doc, 'mouseup', function (evt) {\n        if (evt.raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: evt.target });\n        }\n      });\n      var onContentClick = function (raw) {\n        return broadcastOn(dismissPopups(), { target: SugarElement.fromDom(raw.target) });\n      };\n      var onContentMouseup = function (raw) {\n        if (raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: SugarElement.fromDom(raw.target) });\n        }\n      };\n      var onContentMousedown = function () {\n        each$1(editor.editorManager.get(), function (loopEditor) {\n          if (editor !== loopEditor) {\n            loopEditor.fire('DismissPopups', { relatedTarget: editor });\n          }\n        });\n      };\n      var onWindowScroll = function (evt) {\n        return broadcastEvent(windowScroll(), fromRawEvent(evt));\n      };\n      var onWindowResize = function (evt) {\n        broadcastOn(repositionPopups(), {});\n        broadcastEvent(windowResize(), fromRawEvent(evt));\n      };\n      var onEditorResize = function () {\n        return broadcastOn(repositionPopups(), {});\n      };\n      var onEditorProgress = function (evt) {\n        if (evt.state) {\n          broadcastOn(dismissPopups(), { target: SugarElement.fromDom(editor.getContainer()) });\n        }\n      };\n      var onDismissPopups = function (event) {\n        broadcastOn(dismissPopups(), { target: SugarElement.fromDom(event.relatedTarget.getContainer()) });\n      };\n      editor.on('PostRender', function () {\n        editor.on('click', onContentClick);\n        editor.on('tap', onContentClick);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('mousedown', onContentMousedown);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n        editor.on('AfterProgressState', onEditorProgress);\n        editor.on('DismissPopups', onDismissPopups);\n      });\n      editor.on('remove', function () {\n        editor.off('click', onContentClick);\n        editor.off('tap', onContentClick);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('mousedown', onContentMousedown);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        editor.off('AfterProgressState', onEditorProgress);\n        editor.off('DismissPopups', onDismissPopups);\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n      });\n      editor.on('detach', function () {\n        detachSystem(mothership);\n        detachSystem(uiMothership);\n        mothership.destroy();\n        uiMothership.destroy();\n      });\n    };\n\n    var parts$a = AlloyParts;\n    var partType = PartType;\n\n    var schema$f = constant$1([\n      defaulted('shell', false),\n      required$1('makeItem'),\n      defaulted('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    var customListDetail = function () {\n      return { behaviours: derive$1([Replacing.config({})]) };\n    };\n    var itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    var parts$9 = constant$1([itemsPart]);\n    var name = constant$1('CustomList');\n\n    var factory$d = function (detail, components, _spec, _external) {\n      var setItems = function (list, items) {\n        getListContainer(list).fold(function () {\n          console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, function (container) {\n          var itemComps = Replacing.contents(container);\n          var numListsRequired = items.length;\n          var numListsToAdd = numListsRequired - itemComps.length;\n          var itemsToAdd = numListsToAdd > 0 ? range$2(numListsToAdd, function () {\n            return detail.makeItem();\n          }) : [];\n          var itemsToRemove = itemComps.slice(numListsRequired);\n          each$1(itemsToRemove, function (item) {\n            return Replacing.remove(container, item);\n          });\n          each$1(itemsToAdd, function (item) {\n            return Replacing.append(container, item);\n          });\n          var builtLists = Replacing.contents(container);\n          each$1(builtLists, function (item, i) {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      var extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components: components\n      };\n      var getListContainer = function (component) {\n        return detail.shell ? Optional.some(component) : getPart(component, detail, 'items');\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems: setItems }\n      };\n    };\n    var CustomList = composite({\n      name: name(),\n      configFields: schema$f(),\n      partFields: parts$9(),\n      factory: factory$d,\n      apis: {\n        setItems: function (apis, list, items) {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    var schema$e = constant$1([\n      required$1('dom'),\n      defaulted('shell', true),\n      field('toolbarBehaviours', [Replacing])\n    ]);\n    var enhanceGroups = function () {\n      return { behaviours: derive$1([Replacing.config({})]) };\n    };\n    var parts$8 = constant$1([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    var factory$c = function (detail, components, _spec, _externals) {\n      var setGroups = function (toolbar, groups) {\n        getGroupContainer(toolbar).fold(function () {\n          console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, function (container) {\n          Replacing.set(container, groups);\n        });\n      };\n      var getGroupContainer = function (component) {\n        return detail.shell ? Optional.some(component) : getPart(component, detail, 'groups');\n      };\n      var extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components: components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: { setGroups: setGroups },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var Toolbar = composite({\n      name: 'Toolbar',\n      configFields: schema$e(),\n      partFields: parts$8(),\n      factory: factory$c,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    var setup$a = noop;\n    var isDocked$2 = never;\n    var getBehaviours$1 = constant$1([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$a,\n        isDocked: isDocked$2,\n        getBehaviours: getBehaviours$1\n    });\n\n    var getOffsetParent = function (element) {\n      var isFixed = is$1(getRaw(element, 'position'), 'fixed');\n      var offsetParent$1 = isFixed ? Optional.none() : offsetParent(element);\n      return offsetParent$1.orThunk(function () {\n        var marker = SugarElement.fromTag('span');\n        return parent(element).bind(function (parent) {\n          append$2(parent, marker);\n          var offsetParent$1 = offsetParent(marker);\n          remove$5(marker);\n          return offsetParent$1;\n        });\n      });\n    };\n    var getOrigin = function (element) {\n      return getOffsetParent(element).map(absolute$3).getOrThunk(function () {\n        return SugarPosition(0, 0);\n      });\n    };\n\n    var morphAdt = Adt.generate([\n      { static: [] },\n      { absolute: ['positionCss'] },\n      { fixed: ['positionCss'] }\n    ]);\n    var appear = function (component, contextualInfo) {\n      var elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    var disappear = function (component, contextualInfo) {\n      var elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    var isPartiallyVisible = function (box, viewport) {\n      return box.y < viewport.bottom && box.bottom > viewport.y;\n    };\n    var isTopCompletelyVisible = function (box, viewport) {\n      return box.y >= viewport.y;\n    };\n    var isBottomCompletelyVisible = function (box, viewport) {\n      return box.bottom <= viewport.bottom;\n    };\n    var isVisibleForModes = function (modes, box, viewport) {\n      return forall(modes, function (mode) {\n        switch (mode) {\n        case 'bottom':\n          return isBottomCompletelyVisible(box, viewport);\n        case 'top':\n          return isTopCompletelyVisible(box, viewport);\n        }\n      });\n    };\n    var getPrior = function (elem, state) {\n      return state.getInitialPos().map(function (pos) {\n        return bounds(pos.bounds.x, pos.bounds.y, get$a(elem), get$b(elem));\n      });\n    };\n    var storePrior = function (elem, box, state) {\n      state.setInitialPos({\n        style: getAllRaw(elem),\n        position: get$c(elem, 'position') || 'static',\n        bounds: box\n      });\n    };\n    var revertToOriginal = function (elem, box, state) {\n      return state.getInitialPos().bind(function (position) {\n        state.clearInitialPos();\n        switch (position.position) {\n        case 'static':\n          return Optional.some(morphAdt.static());\n        case 'absolute':\n          var offsetBox_1 = getOffsetParent(elem).map(box$1).getOrThunk(function () {\n            return box$1(body());\n          });\n          return Optional.some(morphAdt.absolute(NuPositionCss('absolute', get$e(position.style, 'left').map(function (_left) {\n            return box.x - offsetBox_1.x;\n          }), get$e(position.style, 'top').map(function (_top) {\n            return box.y - offsetBox_1.y;\n          }), get$e(position.style, 'right').map(function (_right) {\n            return offsetBox_1.right - box.right;\n          }), get$e(position.style, 'bottom').map(function (_bottom) {\n            return offsetBox_1.bottom - box.bottom;\n          }))));\n        default:\n          return Optional.none();\n        }\n      });\n    };\n    var morphToOriginal = function (elem, viewport, state) {\n      return getPrior(elem, state).filter(function (box) {\n        return isVisibleForModes(state.getModes(), box, viewport);\n      }).bind(function (box) {\n        return revertToOriginal(elem, box, state);\n      });\n    };\n    var morphToFixed = function (elem, viewport, state) {\n      var box = box$1(elem);\n      if (!isVisibleForModes(state.getModes(), box, viewport)) {\n        storePrior(elem, box, state);\n        var winBox = win();\n        var left = box.x - winBox.x;\n        var top_1 = viewport.y - winBox.y;\n        var bottom = winBox.bottom - viewport.bottom;\n        var isTop = box.y <= viewport.y;\n        return Optional.some(morphAdt.fixed(NuPositionCss('fixed', Optional.some(left), isTop ? Optional.some(top_1) : Optional.none(), Optional.none(), !isTop ? Optional.some(bottom) : Optional.none())));\n      } else {\n        return Optional.none();\n      }\n    };\n    var getMorph = function (component, viewport, state) {\n      var elem = component.element;\n      var isDocked = is$1(getRaw(elem, 'position'), 'fixed');\n      return isDocked ? morphToOriginal(elem, viewport, state) : morphToFixed(elem, viewport, state);\n    };\n    var getMorphToOriginal = function (component, state) {\n      var elem = component.element;\n      return getPrior(elem, state).bind(function (box) {\n        return revertToOriginal(elem, box, state);\n      });\n    };\n\n    var morphToStatic = function (component, config, state) {\n      state.setDocked(false);\n      each$1([\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'position'\n      ], function (prop) {\n        return remove$6(component.element, prop);\n      });\n      config.onUndocked(component);\n    };\n    var morphToCoord = function (component, config, state, position) {\n      var isDocked = position.position === 'fixed';\n      state.setDocked(isDocked);\n      applyPositionCss(component.element, position);\n      var method = isDocked ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    var updateVisibility = function (component, config, state, viewport, morphToDocked) {\n      if (morphToDocked === void 0) {\n        morphToDocked = false;\n      }\n      config.contextual.each(function (contextInfo) {\n        contextInfo.lazyContext(component).each(function (box) {\n          var isVisible = isPartiallyVisible(box, viewport);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$1(component.element, [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              var method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    var refreshInternal = function (component, config, state) {\n      var viewport = config.lazyViewport(component);\n      var isDocked = state.isDocked();\n      if (isDocked) {\n        updateVisibility(component, config, state, viewport);\n      }\n      getMorph(component, viewport, state).each(function (morph) {\n        morph.fold(function () {\n          return morphToStatic(component, config, state);\n        }, function (position) {\n          return morphToCoord(component, config, state, position);\n        }, function (position) {\n          updateVisibility(component, config, state, viewport, true);\n          morphToCoord(component, config, state, position);\n        });\n      });\n    };\n    var resetInternal = function (component, config, state) {\n      var elem = component.element;\n      state.setDocked(false);\n      getMorphToOriginal(component, state).each(function (morph) {\n        morph.fold(function () {\n          return morphToStatic(component, config, state);\n        }, function (position) {\n          return morphToCoord(component, config, state, position);\n        }, noop);\n      });\n      state.setVisible(true);\n      config.contextual.each(function (contextInfo) {\n        remove$1(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$4(component, config, state);\n    };\n    var refresh$4 = function (component, config, state) {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    var reset = function (component, config, state) {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    var isDocked$1 = function (component, config, state) {\n      return state.isDocked();\n    };\n    var setModes = function (component, config, state, modes) {\n      return state.setModes(modes);\n    };\n    var getModes = function (component, config, state) {\n      return state.getModes();\n    };\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$4,\n        reset: reset,\n        isDocked: isDocked$1,\n        getModes: getModes,\n        setModes: setModes\n    });\n\n    var events$5 = function (dockInfo, dockState) {\n      return derive$2([\n        runOnSource(transitionend(), function (component, simulatedEvent) {\n          dockInfo.contextual.each(function (contextInfo) {\n            if (has(component.element, contextInfo.transitionClass)) {\n              remove$1(component.element, [\n                contextInfo.transitionClass,\n                contextInfo.fadeInClass\n              ]);\n              var notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n              notify(component);\n            }\n            simulatedEvent.stop();\n          });\n        }),\n        run$1(windowScroll(), function (component, _) {\n          refresh$4(component, dockInfo, dockState);\n        }),\n        run$1(windowResize(), function (component, _) {\n          reset(component, dockInfo, dockState);\n        })\n      ]);\n    };\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$5\n    });\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        requiredString('fadeInClass'),\n        requiredString('fadeOutClass'),\n        requiredString('transitionClass'),\n        requiredFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', win),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    var init$6 = function (spec) {\n      var docked = Cell(false);\n      var visible = Cell(true);\n      var initialBounds = value$1();\n      var modes = Cell(spec.modes);\n      var readState = function () {\n        return 'docked:  ' + docked.get() + ', visible: ' + visible.get() + ', modes: ' + modes.get().join(',');\n      };\n      return nu$8({\n        isDocked: docked.get,\n        setDocked: docked.set,\n        getInitialPos: initialBounds.get,\n        setInitialPos: initialBounds.set,\n        clearInitialPos: initialBounds.clear,\n        isVisible: visible.get,\n        setVisible: visible.set,\n        getModes: modes.get,\n        setModes: modes.set,\n        readState: readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$6\n    });\n\n    var Docking = create$7({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    var toolbarHeightChange = constant$1(generate$6('toolbar-height-change'));\n\n    var visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    var editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    var editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    var scrollFromBehindHeader = function (e, containerHeader) {\n      var doc = owner$4(containerHeader);\n      var viewHeight = doc.dom.defaultView.innerHeight;\n      var scrollPos = get$9(doc);\n      var markerElement = SugarElement.fromDom(e.elm);\n      var markerPos = absolute$2(markerElement);\n      var markerHeight = get$b(markerElement);\n      var markerTop = markerPos.y;\n      var markerBottom = markerTop + markerHeight;\n      var editorHeaderPos = absolute$3(containerHeader);\n      var editorHeaderHeight = get$b(containerHeader);\n      var editorHeaderTop = editorHeaderPos.top;\n      var editorHeaderBottom = editorHeaderTop + editorHeaderHeight;\n      var editorHeaderDockedAtTop = Math.abs(editorHeaderTop - scrollPos.top) < 2;\n      var editorHeaderDockedAtBottom = Math.abs(editorHeaderBottom - (scrollPos.top + viewHeight)) < 2;\n      if (editorHeaderDockedAtTop && markerTop < editorHeaderBottom) {\n        to(scrollPos.left, markerTop - editorHeaderHeight, doc);\n      } else if (editorHeaderDockedAtBottom && markerBottom > editorHeaderTop) {\n        var y = markerTop - viewHeight + markerHeight + editorHeaderHeight;\n        to(scrollPos.left, y, doc);\n      }\n    };\n    var isDockedMode = function (header, mode) {\n      return contains$2(Docking.getModes(header), mode);\n    };\n    var updateIframeContentFlow = function (header) {\n      var getOccupiedHeight = function (elm) {\n        return getOuter$2(elm) + (parseInt(get$c(elm, 'margin-top'), 10) || 0) + (parseInt(get$c(elm, 'margin-bottom'), 10) || 0);\n      };\n      var elm = header.element;\n      parent(elm).each(function (parentElem) {\n        var padding = 'padding-' + Docking.getModes(header)[0];\n        if (Docking.isDocked(header)) {\n          var parentWidth = get$a(parentElem);\n          set$7(elm, 'width', parentWidth + 'px');\n          set$7(parentElem, padding, getOccupiedHeight(elm) + 'px');\n        } else {\n          remove$6(elm, 'width');\n          remove$6(parentElem, padding);\n        }\n      });\n    };\n    var updateSinkVisibility = function (sinkElem, visible) {\n      if (visible) {\n        remove$2(sinkElem, visibility.fadeOutClass);\n        add$1(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$2(sinkElem, visibility.fadeInClass);\n        add$1(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    var updateEditorClasses = function (editor, docked) {\n      var editorContainer = SugarElement.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$2(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$2(editorContainer, editorStickyOnClass);\n      }\n    };\n    var restoreFocus = function (headerElem, focusedElem) {\n      var ownerDoc = owner$4(focusedElem);\n      active(ownerDoc).filter(function (activeElm) {\n        return !eq(focusedElem, activeElm);\n      }).filter(function (activeElm) {\n        return eq(activeElm, SugarElement.fromDom(ownerDoc.dom.body)) || contains(headerElem, activeElm);\n      }).each(function () {\n        return focus$3(focusedElem);\n      });\n    };\n    var findFocusedElem = function (rootElm, lazySink) {\n      return search(rootElm).orThunk(function () {\n        return lazySink().toOptional().bind(function (sink) {\n          return search(sink.element);\n        });\n      });\n    };\n    var setup$9 = function (editor, sharedBackstage, lazyHeader) {\n      if (!editor.inline) {\n        if (!sharedBackstage.header.isPositionedAtTop()) {\n          editor.on('ResizeEditor', function () {\n            lazyHeader().each(Docking.reset);\n          });\n        }\n        editor.on('ResizeWindow ResizeEditor', function () {\n          lazyHeader().each(updateIframeContentFlow);\n        });\n        editor.on('SkinLoaded', function () {\n          lazyHeader().each(function (comp) {\n            Docking.isDocked(comp) ? Docking.reset(comp) : Docking.refresh(comp);\n          });\n        });\n        editor.on('FullscreenStateChanged', function () {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('AfterScrollIntoView', function (e) {\n        lazyHeader().each(function (header) {\n          Docking.refresh(header);\n          var headerElem = header.element;\n          if (isVisible(headerElem)) {\n            scrollFromBehindHeader(e, headerElem);\n          }\n        });\n      });\n      editor.on('PostRender', function () {\n        updateEditorClasses(editor, false);\n      });\n    };\n    var isDocked = function (lazyHeader) {\n      return lazyHeader().map(Docking.isDocked).getOr(false);\n    };\n    var getIframeBehaviours = function () {\n      var _a;\n      return [Receiving.config({ channels: (_a = {}, _a[toolbarHeightChange()] = { onReceive: updateIframeContentFlow }, _a) })];\n    };\n    var getBehaviours = function (editor, sharedBackstage) {\n      var focusedElm = value$1();\n      var lazySink = sharedBackstage.getSink;\n      var runOnSinkElement = function (f) {\n        lazySink().each(function (sink) {\n          return f(sink.element);\n        });\n      };\n      var onDockingSwitch = function (comp) {\n        if (!editor.inline) {\n          updateIframeContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(function (sink) {\n          return sink.getSystem().broadcastOn([repositionPopups()], {});\n        });\n      };\n      var additionalBehaviours = editor.inline ? [] : getIframeBehaviours();\n      return __spreadArray([\n        Focusing.config({}),\n        Docking.config({\n          contextual: __assign({\n            lazyContext: function (comp) {\n              var headerHeight = getOuter$2(comp.element);\n              var container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              var box = box$1(SugarElement.fromDom(container));\n              var boxHeight = box.height - headerHeight;\n              var topBound = box.y + (isDockedMode(comp, 'top') ? 0 : headerHeight);\n              return Optional.some(bounds(box.x, topBound, box.width, boxHeight));\n            },\n            onShow: function () {\n              runOnSinkElement(function (elem) {\n                return updateSinkVisibility(elem, true);\n              });\n            },\n            onShown: function (comp) {\n              runOnSinkElement(function (elem) {\n                return remove$1(elem, [\n                  visibility.transitionClass,\n                  visibility.fadeInClass\n                ]);\n              });\n              focusedElm.get().each(function (elem) {\n                restoreFocus(comp.element, elem);\n                focusedElm.clear();\n              });\n            },\n            onHide: function (comp) {\n              findFocusedElem(comp.element, lazySink).fold(focusedElm.clear, focusedElm.set);\n              runOnSinkElement(function (elem) {\n                return updateSinkVisibility(elem, false);\n              });\n            },\n            onHidden: function () {\n              runOnSinkElement(function (elem) {\n                return remove$1(elem, [visibility.transitionClass]);\n              });\n            }\n          }, visibility),\n          lazyViewport: function (comp) {\n            var win$1 = win();\n            var offset = getStickyToolbarOffset(editor);\n            var top = win$1.y + (isDockedMode(comp, 'top') ? offset : 0);\n            var height = win$1.height - (isDockedMode(comp, 'bottom') ? offset : 0);\n            return bounds(win$1.x, top, win$1.width, height);\n          },\n          modes: [sharedBackstage.header.getDockingMode()],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        })\n      ], additionalBehaviours, true);\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$9,\n        isDocked: isDocked,\n        getBehaviours: getBehaviours\n    });\n\n    var renderHeader = function (spec) {\n      var editor = spec.editor;\n      var getBehaviours$2 = spec.sticky ? getBehaviours : getBehaviours$1;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours$2(editor, spec.sharedBackstage))\n      };\n    };\n\n    var groupToolbarButtonSchema = objOf([\n      requiredString('type'),\n      requiredOf('items', oneOf([\n        arrOfObj([\n          requiredString('name'),\n          requiredArrayOf('items', string)\n        ]),\n        string\n      ]))\n    ].concat(baseToolbarButtonFields));\n    var createGroupToolbarButton = function (spec) {\n      return asRaw('GroupToolbarButton', groupToolbarButtonSchema, spec);\n    };\n\n    var baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ];\n\n    var MenuButtonSchema = objOf(__spreadArray([requiredString('type')], baseMenuButtonFields, true));\n    var createMenuButton = function (spec) {\n      return asRaw('menubutton', MenuButtonSchema, spec);\n    };\n\n    var splitButtonSchema = objOf([\n      requiredString('type'),\n      optionString('tooltip'),\n      optionString('icon'),\n      optionString('text'),\n      optionFunction('select'),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaulted('columns', 1),\n      requiredFunction('onAction'),\n      requiredFunction('onItemAction')\n    ]);\n    var createSplitButton = function (spec) {\n      return asRaw('SplitButton', splitButtonSchema, spec);\n    };\n\n    var factory$b = function (detail, spec) {\n      var setMenus = function (comp, menus) {\n        var newMenus = map$2(menus, function (m) {\n          var buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: function (callback) {\n              callback(m.getItems());\n            }\n          };\n          var internal = createMenuButton(buttonSpec).mapError(function (errInfo) {\n            return formatError(errInfo);\n          }).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Optional.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      var apis = {\n        focus: Keying.focusIn,\n        setMenus: setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(function (component) {\n              detail.onSetup(component);\n            }),\n            run$1(mouseover(), function (comp, se) {\n              descendant(comp.element, '.' + 'tox-mbtn--active').each(function (activeButton) {\n                closest$1(se.event.target, '.' + 'tox-mbtn').each(function (hoveredButton) {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(function (activeComp) {\n                      comp.getSystem().getByDom(hoveredButton).each(function (hoveredComp) {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run$1(focusShifted(), function (comp, se) {\n              se.event.prevFocus.bind(function (prev) {\n                return comp.getSystem().getByDom(prev).toOptional();\n              }).each(function (prev) {\n                se.event.newFocus.bind(function (nu) {\n                  return comp.getSystem().getByDom(nu).toOptional();\n                }).each(function (nu) {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: function (comp) {\n              detail.onEscape(comp);\n              return Optional.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis: apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single({\n      factory: factory$b,\n      name: 'silver.Menubar',\n      configFields: [\n        required$1('dom'),\n        required$1('uid'),\n        required$1('onEscape'),\n        required$1('backstage'),\n        defaulted('onSetup', noop)\n      ],\n      apis: {\n        focus: function (apis, comp) {\n          apis.focus(comp);\n        },\n        setMenus: function (apis, comp, menus) {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    var getAnimationRoot = function (component, slideConfig) {\n      return slideConfig.getAnimationRoot.fold(function () {\n        return component.element;\n      }, function (get) {\n        return get(component);\n      });\n    };\n\n    var getDimensionProperty = function (slideConfig) {\n      return slideConfig.dimension.property;\n    };\n    var getDimension = function (slideConfig, elem) {\n      return slideConfig.dimension.getDimension(elem);\n    };\n    var disableTransitions = function (component, slideConfig) {\n      var root = getAnimationRoot(component, slideConfig);\n      remove$1(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    var setShrunk = function (component, slideConfig) {\n      remove$2(component.element, slideConfig.openClass);\n      add$2(component.element, slideConfig.closedClass);\n      set$7(component.element, getDimensionProperty(slideConfig), '0px');\n      reflow(component.element);\n    };\n    var setGrown = function (component, slideConfig) {\n      remove$2(component.element, slideConfig.closedClass);\n      add$2(component.element, slideConfig.openClass);\n      remove$6(component.element, getDimensionProperty(slideConfig));\n    };\n    var doImmediateShrink = function (component, slideConfig, slideState, _calculatedSize) {\n      slideState.setCollapsed();\n      set$7(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n      reflow(component.element);\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    var doStartShrink = function (component, slideConfig, slideState, calculatedSize) {\n      var size = calculatedSize.getOrThunk(function () {\n        return getDimension(slideConfig, component.element);\n      });\n      slideState.setCollapsed();\n      set$7(component.element, getDimensionProperty(slideConfig), size);\n      reflow(component.element);\n      var root = getAnimationRoot(component, slideConfig);\n      remove$2(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    var doStartSmartShrink = function (component, slideConfig, slideState) {\n      var size = getDimension(slideConfig, component.element);\n      var shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Optional.some(size));\n    };\n    var doStartGrow = function (component, slideConfig, slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      var wasShrinking = has(root, slideConfig.shrinkingClass);\n      var beforeSize = getDimension(slideConfig, component.element);\n      setGrown(component, slideConfig);\n      var fullSize = getDimension(slideConfig, component.element);\n      var startPartialGrow = function () {\n        set$7(component.element, getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element);\n      };\n      var startCompleteGrow = function () {\n        setShrunk(component, slideConfig);\n      };\n      var setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$2(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$7(component.element, getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    var refresh$3 = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        remove$6(component.element, getDimensionProperty(slideConfig));\n        var fullSize = getDimension(slideConfig, component.element);\n        set$7(component.element, getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    var grow = function (component, slideConfig, slideState) {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    var shrink = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    var immediateShrink = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    var hasGrown = function (component, slideConfig, slideState) {\n      return slideState.isExpanded();\n    };\n    var hasShrunk = function (component, slideConfig, slideState) {\n      return slideState.isCollapsed();\n    };\n    var isGrowing = function (component, slideConfig, _slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.growingClass) === true;\n    };\n    var isShrinking = function (component, slideConfig, _slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.shrinkingClass) === true;\n    };\n    var isTransitioning = function (component, slideConfig, slideState) {\n      return isGrowing(component, slideConfig) || isShrinking(component, slideConfig);\n    };\n    var toggleGrow = function (component, slideConfig, slideState) {\n      var f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$3,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions\n    });\n\n    var exhibit = function (base, slideConfig, _slideState) {\n      var expanded = slideConfig.expanded;\n      return expanded ? nu$7({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$7({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    var events$4 = function (slideConfig, slideState) {\n      return derive$2([runOnSource(transitionend(), function (component, simulatedEvent) {\n          var raw = simulatedEvent.event.raw;\n          if (raw.propertyName === slideConfig.dimension.property) {\n            disableTransitions(component, slideConfig);\n            if (slideState.isExpanded()) {\n              remove$6(component.element, slideConfig.dimension.property);\n            }\n            var notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n            notify(component);\n          }\n        })]);\n    };\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit,\n        events: events$4\n    });\n\n    var SlidingSchema = [\n      required$1('closedClass'),\n      required$1('openClass'),\n      required$1('shrinkingClass'),\n      required$1('growingClass'),\n      option('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted('expanded', false),\n      requiredOf('dimension', choose$1('property', {\n        width: [\n          output$1('property', 'width'),\n          output$1('getDimension', function (elem) {\n            return get$a(elem) + 'px';\n          })\n        ],\n        height: [\n          output$1('property', 'height'),\n          output$1('getDimension', function (elem) {\n            return get$b(elem) + 'px';\n          })\n        ]\n      }))\n    ];\n\n    var init$5 = function (spec) {\n      var state = Cell(spec.expanded);\n      var readState = function () {\n        return 'expanded: ' + state.get();\n      };\n      return nu$8({\n        isExpanded: function () {\n          return state.get() === true;\n        },\n        isCollapsed: function () {\n          return state.get() === false;\n        },\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState: readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$5\n    });\n\n    var Sliding = create$7({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    var owner = 'container';\n    var schema$d = [field('slotBehaviours', [])];\n    var getPartName = function (name) {\n      return '<alloy.field.' + name + '>';\n    };\n    var sketch = function (sSpec) {\n      var parts = function () {\n        var record = [];\n        var slot = function (name, config) {\n          record.push(name);\n          return generateOne$1(owner, getPartName(name), config);\n        };\n        return {\n          slot: slot,\n          record: constant$1(record)\n        };\n      }();\n      var spec = sSpec(parts);\n      var partNames = parts.record();\n      var fieldParts = map$2(partNames, function (n) {\n        return required({\n          name: n,\n          pname: getPartName(n)\n        });\n      });\n      return composite$1(owner, schema$d, fieldParts, make$1, spec);\n    };\n    var make$1 = function (detail, components) {\n      var getSlotNames = function (_) {\n        return getAllPartNames(detail);\n      };\n      var getSlot = function (container, key) {\n        return getPart(container, detail, key);\n      };\n      var onSlot = function (f, def) {\n        return function (container, key) {\n          return getPart(container, detail, key).map(function (slot) {\n            return f(slot, key);\n          }).getOr(def);\n        };\n      };\n      var onSlots = function (f) {\n        return function (container, keys) {\n          each$1(keys, function (key) {\n            return f(container, key);\n          });\n        };\n      };\n      var doShowing = function (comp, _key) {\n        return get$d(comp.element, 'aria-hidden') !== 'true';\n      };\n      var doShow = function (comp, key) {\n        if (!doShowing(comp)) {\n          var element = comp.element;\n          remove$6(element, 'display');\n          remove$7(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      var doHide = function (comp, key) {\n        if (doShowing(comp)) {\n          var element = comp.element;\n          set$7(element, 'display', 'none');\n          set$8(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      var isShowing = onSlot(doShowing, false);\n      var hideSlot = onSlot(doHide);\n      var hideSlots = onSlots(hideSlot);\n      var hideAllSlots = function (container) {\n        return hideSlots(container, getSlotNames());\n      };\n      var showSlot = onSlot(doShow);\n      var apis = {\n        getSlotNames: getSlotNames,\n        getSlot: getSlot,\n        isShowing: isShowing,\n        hideSlot: hideSlot,\n        hideAllSlots: hideAllSlots,\n        showSlot: showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: get$2(detail.slotBehaviours),\n        apis: apis\n      };\n    };\n    var slotApis = map$1({\n      getSlotNames: function (apis, c) {\n        return apis.getSlotNames(c);\n      },\n      getSlot: function (apis, c, key) {\n        return apis.getSlot(c, key);\n      },\n      isShowing: function (apis, c, key) {\n        return apis.isShowing(c, key);\n      },\n      hideSlot: function (apis, c, key) {\n        return apis.hideSlot(c, key);\n      },\n      hideAllSlots: function (apis, c) {\n        return apis.hideAllSlots(c);\n      },\n      showSlot: function (apis, c, key) {\n        return apis.showSlot(c, key);\n      }\n    }, function (value) {\n      return makeApi(value);\n    });\n    var SlotContainer = __assign(__assign({}, slotApis), { sketch: sketch });\n\n    var sidebarSchema = objOf([\n      optionString('icon'),\n      optionString('tooltip'),\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ]);\n    var createSidebar = function (spec) {\n      return asRaw('sidebar', sidebarSchema, spec);\n    };\n\n    var setup$8 = function (editor) {\n      var sidebars = editor.ui.registry.getAll().sidebars;\n      each$1(keys(sidebars), function (name) {\n        var spec = sidebars[name];\n        var isActive = function () {\n          return is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')), name);\n        };\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: function (buttonApi) {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: function (buttonApi) {\n            var handleToggle = function () {\n              return buttonApi.setActive(isActive());\n            };\n            editor.on('ToggleSidebar', handleToggle);\n            return function () {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          }\n        });\n      });\n    };\n    var getApi = function (comp) {\n      return {\n        element: function () {\n          return comp.element.dom;\n        }\n      };\n    };\n    var makePanels = function (parts, panelConfigs) {\n      var specs = map$2(keys(panelConfigs), function (name) {\n        var spec = panelConfigs[name];\n        var bridged = getOrDie(createSidebar(spec));\n        return {\n          name: name,\n          getApi: getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map$2(specs, function (spec) {\n        var editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run$1(slotVisibility(), function (sidepanel, se) {\n              var data = se.event;\n              var optSidePanelSpec = find$5(specs, function (config) {\n                return config.name === data.name;\n              });\n              optSidePanelSpec.each(function (sidePanelSpec) {\n                var handler = data.visible ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    var makeSidebar = function (panelConfigs) {\n      return SlotContainer.sketch(function (parts) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane-container']\n          },\n          components: makePanels(parts, panelConfigs),\n          slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(function (slotContainer) {\n              return SlotContainer.hideAllSlots(slotContainer);\n            })])\n        };\n      });\n    };\n    var setSidebar = function (sidebar, panelConfigs) {\n      var optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(function (slider) {\n        return Replacing.set(slider, [makeSidebar(panelConfigs)]);\n      });\n    };\n    var toggleSidebar = function (sidebar, name) {\n      var optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(function (slider) {\n        var optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(function (slotContainer) {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n          }\n        });\n      });\n    };\n    var whichSidebar = function (sidebar) {\n      var optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(function (slider) {\n        var sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          var optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(function (slotContainer) {\n            return find$5(SlotContainer.getSlotNames(slotContainer), function (name) {\n              return SlotContainer.isShowing(slotContainer, name);\n            });\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var fixSize = generate$6('FixSizeEvent');\n    var autoSize = generate$6('AutoSizeEvent');\n    var renderSidebar = function (spec) {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar'],\n          attributes: { role: 'complementary' }\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-sidebar__slider']\n            },\n            components: [],\n            behaviours: derive$1([\n              Tabstopping.config({}),\n              Focusing.config({}),\n              Sliding.config({\n                dimension: { property: 'width' },\n                closedClass: 'tox-sidebar--sliding-closed',\n                openClass: 'tox-sidebar--sliding-open',\n                shrinkingClass: 'tox-sidebar--sliding-shrinking',\n                growingClass: 'tox-sidebar--sliding-growing',\n                onShrunk: function (slider) {\n                  var optSlotContainer = Composing.getCurrent(slider);\n                  optSlotContainer.each(SlotContainer.hideAllSlots);\n                  emit(slider, autoSize);\n                },\n                onGrown: function (slider) {\n                  emit(slider, autoSize);\n                },\n                onStartGrow: function (slider) {\n                  emitWith(slider, fixSize, { width: getRaw(slider.element, 'width').getOr('') });\n                },\n                onStartShrink: function (slider) {\n                  emitWith(slider, fixSize, { width: get$a(slider.element) + 'px' });\n                }\n              }),\n              Replacing.config({}),\n              Composing.config({\n                find: function (comp) {\n                  var children = Replacing.contents(comp);\n                  return head(children);\n                }\n              })\n            ])\n          }],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          config('sidebar-sliding-events', [\n            run$1(fixSize, function (comp, se) {\n              set$7(comp.element, 'width', se.event.width);\n            }),\n            run$1(autoSize, function (comp, _se) {\n              remove$6(comp.element, 'width');\n            })\n          ])\n        ])\n      };\n    };\n\n    var block = function (component, config, state, getBusySpec) {\n      set$8(component.element, 'aria-busy', true);\n      var root = config.getRoot(component).getOr(component);\n      var blockerBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: function () {\n            return Optional.some(true);\n          },\n          onShiftTab: function () {\n            return Optional.some(true);\n          }\n        }),\n        Focusing.config({})\n      ]);\n      var blockSpec = getBusySpec(root, blockerBehaviours);\n      var blocker = root.getSystem().build(blockSpec);\n      Replacing.append(root, premade(blocker));\n      if (blocker.hasConfigured(Keying) && config.focus) {\n        Keying.focusIn(blocker);\n      }\n      if (!state.isBlocked()) {\n        config.onBlock(component);\n      }\n      state.blockWith(function () {\n        return Replacing.remove(root, blocker);\n      });\n    };\n    var unblock = function (component, config, state) {\n      remove$7(component.element, 'aria-busy');\n      if (state.isBlocked()) {\n        config.onUnblock(component);\n      }\n      state.clear();\n    };\n\n    var BlockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        block: block,\n        unblock: unblock\n    });\n\n    var BlockingSchema = [\n      defaultedFunction('getRoot', Optional.none),\n      defaultedBoolean('focus', true),\n      onHandler('onBlock'),\n      onHandler('onUnblock')\n    ];\n\n    var init$4 = function () {\n      var blocker = destroyable();\n      var blockWith = function (destroy) {\n        blocker.set({ destroy: destroy });\n      };\n      return nu$8({\n        readState: blocker.isSet,\n        blockWith: blockWith,\n        clear: blocker.clear,\n        isBlocked: blocker.isSet\n      });\n    };\n\n    var BlockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$4\n    });\n\n    var Blocking = create$7({\n      fields: BlockingSchema,\n      name: 'blocking',\n      apis: BlockingApis,\n      state: BlockingState\n    });\n\n    var getAttrs = function (elem) {\n      var attributes = elem.dom.attributes !== undefined ? elem.dom.attributes : [];\n      return foldl(attributes, function (b, attr) {\n        var _a;\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return __assign(__assign({}, b), (_a = {}, _a[attr.name] = attr.value, _a));\n        }\n      }, {});\n    };\n    var getClasses = function (elem) {\n      return Array.prototype.slice.call(elem.dom.classList, 0);\n    };\n    var fromHtml = function (html) {\n      var elem = SugarElement.fromHtml(html);\n      var children$1 = children(elem);\n      var attrs = getAttrs(elem);\n      var classes = getClasses(elem);\n      var contents = children$1.length === 0 ? {} : { innerHtml: get$7(elem) };\n      return __assign({\n        tag: name$2(elem),\n        classes: classes,\n        attributes: attrs\n      }, contents);\n    };\n\n    var getBusySpec$1 = function (providerBackstage) {\n      return function (_root, _behaviours) {\n        return {\n          dom: {\n            tag: 'div',\n            attributes: {\n              'aria-label': providerBackstage.translate('Loading...'),\n              'tabindex': '0'\n            },\n            classes: ['tox-throbber__busy-spinner']\n          },\n          components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n        };\n      };\n    };\n    var focusBusyComponent = function (throbber) {\n      return Composing.getCurrent(throbber).each(function (comp) {\n        return focus$3(comp.element);\n      });\n    };\n    var toggleEditorTabIndex = function (editor, state) {\n      var tabIndexAttr = 'tabindex';\n      var dataTabIndexAttr = 'data-mce-' + tabIndexAttr;\n      Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(function (iframe) {\n        if (state) {\n          getOpt(iframe, tabIndexAttr).each(function (tabIndex) {\n            return set$8(iframe, dataTabIndexAttr, tabIndex);\n          });\n          set$8(iframe, tabIndexAttr, -1);\n        } else {\n          remove$7(iframe, tabIndexAttr);\n          getOpt(iframe, dataTabIndexAttr).each(function (tabIndex) {\n            set$8(iframe, tabIndexAttr, tabIndex);\n            remove$7(iframe, dataTabIndexAttr);\n          });\n        }\n      });\n    };\n    var toggleThrobber = function (editor, comp, state, providerBackstage) {\n      var element = comp.element;\n      toggleEditorTabIndex(editor, state);\n      if (state) {\n        Blocking.block(comp, getBusySpec$1(providerBackstage));\n        remove$6(element, 'display');\n        remove$7(element, 'aria-hidden');\n        if (editor.hasFocus()) {\n          focusBusyComponent(comp);\n        }\n      } else {\n        var throbberFocus = Composing.getCurrent(comp).exists(function (busyComp) {\n          return hasFocus(busyComp.element);\n        });\n        Blocking.unblock(comp);\n        set$7(element, 'display', 'none');\n        set$8(element, 'aria-hidden', 'true');\n        if (throbberFocus) {\n          editor.focus();\n        }\n      }\n    };\n    var renderThrobber = function (spec) {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          attributes: { 'aria-hidden': 'true' },\n          classes: ['tox-throbber'],\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([\n          Replacing.config({}),\n          Blocking.config({ focus: false }),\n          Composing.config({\n            find: function (comp) {\n              return head(comp.components());\n            }\n          })\n        ]),\n        components: []\n      };\n    };\n    var isFocusEvent = function (event) {\n      return event.type === 'focusin';\n    };\n    var isPasteBinTarget = function (event) {\n      if (isFocusEvent(event)) {\n        var node = event.composed ? head(event.composedPath()) : Optional.from(event.target);\n        return node.map(SugarElement.fromDom).filter(isElement$2).exists(function (targetElm) {\n          return has(targetElm, 'mce-pastebin');\n        });\n      } else {\n        return false;\n      }\n    };\n    var setup$7 = function (editor, lazyThrobber, sharedBackstage) {\n      var throbberState = Cell(false);\n      var timer = value$1();\n      var stealFocus = function (e) {\n        if (throbberState.get() && !isPasteBinTarget(e)) {\n          e.preventDefault();\n          focusBusyComponent(lazyThrobber());\n          editor.editorManager.setActive(editor);\n        }\n      };\n      if (!editor.inline) {\n        editor.on('PreInit', function () {\n          editor.dom.bind(editor.getWin(), 'focusin', stealFocus);\n          editor.on('BeforeExecCommand', function (e) {\n            if (e.command.toLowerCase() === 'mcefocus' && e.value !== true) {\n              stealFocus(e);\n            }\n          });\n        });\n      }\n      var toggle = function (state) {\n        if (state !== throbberState.get()) {\n          throbberState.set(state);\n          toggleThrobber(editor, lazyThrobber(), state, sharedBackstage.providers);\n          editor.fire('AfterProgressState', { state: state });\n        }\n      };\n      editor.on('ProgressState', function (e) {\n        timer.on(global$f.clearTimeout);\n        if (isNumber(e.time)) {\n          var timerId = global$f.setEditorTimeout(editor, function () {\n            return toggle(e.state);\n          }, e.time);\n          timer.set(timerId);\n        } else {\n          toggle(e.state);\n          timer.clear();\n        }\n      });\n    };\n\n    var generate$1 = function (xs, f) {\n      var init = {\n        len: 0,\n        list: []\n      };\n      var r = foldl(xs, function (b, a) {\n        var value = f(a, b.len);\n        return value.fold(constant$1(b), function (v) {\n          return {\n            len: v.finish,\n            list: b.list.concat([v])\n          };\n        });\n      }, init);\n      return r.list;\n    };\n\n    var output = function (within, extra, withinWidth) {\n      return {\n        within: within,\n        extra: extra,\n        withinWidth: withinWidth\n      };\n    };\n    var apportion = function (units, total, len) {\n      var parray = generate$1(units, function (unit, current) {\n        var width = len(unit);\n        return Optional.some({\n          element: unit,\n          start: current,\n          finish: current + width,\n          width: width\n        });\n      });\n      var within = filter$2(parray, function (unit) {\n        return unit.finish <= total;\n      });\n      var withinWidth = foldr(within, function (acc, el) {\n        return acc + el.width;\n      }, 0);\n      var extra = parray.slice(within.length);\n      return {\n        within: within,\n        extra: extra,\n        withinWidth: withinWidth\n      };\n    };\n    var toUnit = function (parray) {\n      return map$2(parray, function (unit) {\n        return unit.element;\n      });\n    };\n    var fitLast = function (within, extra, withinWidth) {\n      var fits = toUnit(within.concat(extra));\n      return output(fits, [], withinWidth);\n    };\n    var overflow = function (within, extra, overflower, withinWidth) {\n      var fits = toUnit(within).concat([overflower]);\n      return output(fits, toUnit(extra), withinWidth);\n    };\n    var fitAll = function (within, extra, withinWidth) {\n      return output(toUnit(within), [], withinWidth);\n    };\n    var tryFit = function (total, units, len) {\n      var divide = apportion(units, total, len);\n      return divide.extra.length === 0 ? Optional.some(divide) : Optional.none();\n    };\n    var partition = function (total, units, len, overflower) {\n      var divide = tryFit(total, units, len).getOrThunk(function () {\n        return apportion(units, total - len(overflower), len);\n      });\n      var within = divide.within;\n      var extra = divide.extra;\n      var withinWidth = divide.withinWidth;\n      if (extra.length === 1 && extra[0].width <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    var setGroups$1 = function (toolbar, storedGroups) {\n      var bGroups = map$2(storedGroups, function (g) {\n        return premade(g);\n      });\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    var findFocusedComp = function (comps) {\n      return findMap(comps, function (comp) {\n        return search(comp.element).bind(function (focusedElm) {\n          return comp.getSystem().getByDom(focusedElm).toOptional();\n        });\n      });\n    };\n    var refresh$2 = function (toolbar, detail, setOverflow) {\n      var builtGroups = detail.builtGroups.get();\n      if (builtGroups.length === 0) {\n        return;\n      }\n      var primary = getPartOrDie(toolbar, detail, 'primary');\n      var overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$7(primary.element, 'visibility', 'hidden');\n      var groups = builtGroups.concat([overflowGroup]);\n      var focusedComp = findFocusedComp(groups);\n      setOverflow([]);\n      setGroups$1(primary, groups);\n      var availableWidth = get$a(primary.element);\n      var overflows = partition(availableWidth, detail.builtGroups.get(), function (comp) {\n        return get$a(comp.element);\n      }, overflowGroup);\n      if (overflows.extra.length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        setOverflow([]);\n      } else {\n        setGroups$1(primary, overflows.within);\n        setOverflow(overflows.extra);\n      }\n      remove$6(primary.element, 'visibility');\n      reflow(primary.element);\n      focusedComp.each(Focusing.focus);\n    };\n\n    var schema$c = constant$1([\n      field('splitToolbarBehaviours', [Coupling]),\n      customField('builtGroups', function () {\n        return Cell([]);\n      })\n    ]);\n\n    var schema$b = constant$1([\n      markers$1(['overflowToggledClass']),\n      optionFunction('getOverflowBounds'),\n      required$1('lazySink'),\n      customField('overflowGroups', function () {\n        return Cell([]);\n      })\n    ].concat(schema$c()));\n    var parts$7 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      external$1({\n        schema: schema$e(),\n        name: 'overflow'\n      }),\n      external$1({ name: 'overflow-button' }),\n      external$1({ name: 'overflow-group' })\n    ]);\n\n    var expandable = constant$1(function (element, available) {\n      setMax(element, Math.floor(available));\n    });\n\n    var schema$a = constant$1([\n      markers$1(['toggledClass']),\n      required$1('lazySink'),\n      requiredFunction('fetch'),\n      optionFunction('getBounds'),\n      optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n      schema$y()\n    ]);\n    var parts$6 = constant$1([\n      external$1({\n        name: 'button',\n        overrides: function (detail) {\n          return {\n            dom: { attributes: { 'aria-haspopup': 'true' } },\n            buttonBehaviours: derive$1([Toggling.config({\n                toggleClass: detail.markers.toggledClass,\n                aria: { mode: 'expanded' },\n                toggleOnExecute: false\n              })])\n          };\n        }\n      }),\n      external$1({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'toolbar',\n        overrides: function (detail) {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: function (comp) {\n                  getPart(comp, detail, 'button').each(Focusing.focus);\n                  return Optional.none();\n                }\n              })])\n          };\n        }\n      })\n    ]);\n\n    var toggle = function (button, externals) {\n      var toolbarSandbox = Coupling.getCoupled(button, 'toolbarSandbox');\n      if (Sandboxing.isOpen(toolbarSandbox)) {\n        Sandboxing.close(toolbarSandbox);\n      } else {\n        Sandboxing.open(toolbarSandbox, externals.toolbar());\n      }\n    };\n    var position = function (button, toolbar, detail, layouts) {\n      var bounds = detail.getBounds.map(function (bounder) {\n        return bounder();\n      });\n      var sink = detail.lazySink(button).getOrDie();\n      Positioning.positionWithinBounds(sink, toolbar, {\n        anchor: {\n          type: 'hotspot',\n          hotspot: button,\n          layouts: layouts,\n          overrides: { maxWidthFunction: expandable() }\n        }\n      }, bounds);\n    };\n    var setGroups = function (button, toolbar, detail, layouts, groups) {\n      Toolbar.setGroups(toolbar, groups);\n      position(button, toolbar, detail, layouts);\n      Toggling.on(button);\n    };\n    var makeSandbox = function (button, spec, detail) {\n      var ariaOwner = manager();\n      var onOpen = function (sandbox, toolbar) {\n        detail.fetch().get(function (groups) {\n          setGroups(button, toolbar, detail, spec.layouts, groups);\n          ariaOwner.link(button.element);\n          Keying.focusIn(toolbar);\n        });\n      };\n      var onClose = function () {\n        Toggling.off(button);\n        Focusing.focus(button);\n        ariaOwner.unlink(button.element);\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaOwner.id }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: function (comp) {\n              Sandboxing.close(comp);\n              return Optional.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen: onOpen,\n            onClose: onClose,\n            isPartOf: function (container, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOf$1(button, queryElem);\n            },\n            getAttachPoint: function () {\n              return detail.lazySink(button).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: __assign(__assign({}, receivingChannel$1(__assign({ isExtraPart: never }, detail.fireDismissalEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})))), receivingChannel({\n              doReposition: function () {\n                Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n                  position(button, toolbar, detail, spec.layouts);\n                });\n              }\n            }))\n          })\n        ])\n      };\n    };\n    var factory$a = function (detail, components, spec, externals) {\n      return __assign(__assign({}, Button.sketch(__assign(__assign({}, externals.button()), {\n        action: function (button) {\n          toggle(button, externals);\n        },\n        buttonBehaviours: SketchBehaviours.augment({ dump: externals.button().buttonBehaviours }, [Coupling.config({\n            others: {\n              toolbarSandbox: function (button) {\n                return makeSandbox(button, spec, detail);\n              }\n            }\n          })])\n      }))), {\n        apis: {\n          setGroups: function (button, groups) {\n            Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n              setGroups(button, toolbar, detail, spec.layouts, groups);\n            });\n          },\n          reposition: function (button) {\n            Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n              position(button, toolbar, detail, spec.layouts);\n            });\n          },\n          toggle: function (button) {\n            toggle(button, externals);\n          },\n          getToolbar: function (button) {\n            return Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox'));\n          },\n          isOpen: function (button) {\n            return Sandboxing.isOpen(Coupling.getCoupled(button, 'toolbarSandbox'));\n          }\n        }\n      });\n    };\n    var FloatingToolbarButton = composite({\n      name: 'FloatingToolbarButton',\n      factory: factory$a,\n      configFields: schema$a(),\n      partFields: parts$6(),\n      apis: {\n        setGroups: function (apis, button, groups) {\n          apis.setGroups(button, groups);\n        },\n        reposition: function (apis, button) {\n          apis.reposition(button);\n        },\n        toggle: function (apis, button) {\n          apis.toggle(button);\n        },\n        getToolbar: function (apis, button) {\n          return apis.getToolbar(button);\n        },\n        isOpen: function (apis, button) {\n          return apis.isOpen(button);\n        }\n      }\n    });\n\n    var schema$9 = constant$1([\n      required$1('items'),\n      markers$1(['itemSelector']),\n      field('tgroupBehaviours', [Keying])\n    ]);\n    var parts$5 = constant$1([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    var factory$9 = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n            mode: 'flow',\n            selector: detail.markers.itemSelector\n          })]),\n        domModification: { attributes: { role: 'toolbar' } }\n      };\n    };\n    var ToolbarGroup = composite({\n      name: 'ToolbarGroup',\n      configFields: schema$9(),\n      partFields: parts$5(),\n      factory: factory$9\n    });\n\n    var buildGroups = function (comps) {\n      return map$2(comps, function (g) {\n        return premade(g);\n      });\n    };\n    var refresh$1 = function (toolbar, memFloatingToolbarButton, detail) {\n      refresh$2(toolbar, detail, function (overflowGroups) {\n        detail.overflowGroups.set(overflowGroups);\n        memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n          FloatingToolbarButton.setGroups(floatingToolbarButton, buildGroups(overflowGroups));\n        });\n      });\n    };\n    var factory$8 = function (detail, components, spec, externals) {\n      var memFloatingToolbarButton = record(FloatingToolbarButton.sketch({\n        fetch: function () {\n          return Future.nu(function (resolve) {\n            resolve(buildGroups(detail.overflowGroups.get()));\n          });\n        },\n        layouts: {\n          onLtr: function () {\n            return [\n              southwest$2,\n              southeast$2\n            ];\n          },\n          onRtl: function () {\n            return [\n              southeast$2,\n              southwest$2\n            ];\n          },\n          onBottomLtr: function () {\n            return [\n              northwest$2,\n              northeast$2\n            ];\n          },\n          onBottomRtl: function () {\n            return [\n              northeast$2,\n              northwest$2\n            ];\n          }\n        },\n        getBounds: spec.getOverflowBounds,\n        lazySink: detail.lazySink,\n        fireDismissalEventInstead: {},\n        markers: { toggledClass: detail.markers.overflowToggledClass },\n        parts: {\n          button: externals['overflow-button'](),\n          toolbar: externals.overflow()\n        }\n      }));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n            others: {\n              overflowGroup: function () {\n                return ToolbarGroup.sketch(__assign(__assign({}, externals['overflow-group']()), { items: [memFloatingToolbarButton.asSpec()] }));\n              }\n            }\n          })]),\n        apis: {\n          setGroups: function (toolbar, groups) {\n            detail.builtGroups.set(map$2(groups, toolbar.getSystem().build));\n            refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          refresh: function (toolbar) {\n            return refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          toggle: function (toolbar) {\n            memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n              FloatingToolbarButton.toggle(floatingToolbarButton);\n            });\n          },\n          isOpen: function (toolbar) {\n            return memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false);\n          },\n          reposition: function (toolbar) {\n            memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n              FloatingToolbarButton.reposition(floatingToolbarButton);\n            });\n          },\n          getOverflow: function (toolbar) {\n            return memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar);\n          }\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var SplitFloatingToolbar = composite({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$b(),\n      partFields: parts$7(),\n      factory: factory$8,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: function (apis, toolbar) {\n          apis.refresh(toolbar);\n        },\n        reposition: function (apis, toolbar) {\n          apis.reposition(toolbar);\n        },\n        toggle: function (apis, toolbar) {\n          apis.toggle(toolbar);\n        },\n        isOpen: function (apis, toolbar) {\n          return apis.isOpen(toolbar);\n        },\n        getOverflow: function (apis, toolbar) {\n          return apis.getOverflow(toolbar);\n        }\n      }\n    });\n\n    var schema$8 = constant$1([\n      markers$1([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    var parts$4 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'overflow',\n        overrides: function (detail) {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(function (button) {\n                    Toggling.off(button);\n                    Focusing.focus(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: function (comp) {\n                  Keying.focusIn(comp);\n                  detail.onOpened(comp);\n                },\n                onStartGrow: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Optional.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external$1({\n        name: 'overflow-button',\n        overrides: function (detail) {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                toggleClass: detail.markers.overflowToggledClass,\n                aria: { mode: 'pressed' },\n                toggleOnExecute: false\n              })])\n          };\n        }\n      }),\n      external$1({ name: 'overflow-group' })\n    ]);\n\n    var isOpen = function (toolbar, detail) {\n      return getPart(toolbar, detail, 'overflow').map(Sliding.hasGrown).getOr(false);\n    };\n    var toggleToolbar = function (toolbar, detail) {\n      getPart(toolbar, detail, 'overflow-button').bind(function () {\n        return getPart(toolbar, detail, 'overflow');\n      }).each(function (overf) {\n        refresh(toolbar, detail);\n        Sliding.toggleGrow(overf);\n      });\n    };\n    var refresh = function (toolbar, detail) {\n      getPart(toolbar, detail, 'overflow').each(function (overflow) {\n        refresh$2(toolbar, detail, function (groups) {\n          var builtGroups = map$2(groups, function (g) {\n            return premade(g);\n          });\n          Toolbar.setGroups(overflow, builtGroups);\n        });\n        getPart(toolbar, detail, 'overflow-button').each(function (button) {\n          if (Sliding.hasGrown(overflow)) {\n            Toggling.on(button);\n          }\n        });\n        Sliding.refresh(overflow);\n      });\n    };\n    var factory$7 = function (detail, components, spec, externals) {\n      var toolbarToggleEvent = 'alloy.toolbar.toggle';\n      var doSetGroups = function (toolbar, groups) {\n        var built = map$2(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: {\n              overflowGroup: function (toolbar) {\n                return ToolbarGroup.sketch(__assign(__assign({}, externals['overflow-group']()), {\n                  items: [Button.sketch(__assign(__assign({}, externals['overflow-button']()), {\n                      action: function (_button) {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    }))]\n                }));\n              }\n            }\n          }),\n          config('toolbar-toggle-events', [run$1(toolbarToggleEvent, function (toolbar) {\n              toggleToolbar(toolbar, detail);\n            })])\n        ]),\n        apis: {\n          setGroups: function (toolbar, groups) {\n            doSetGroups(toolbar, groups);\n            refresh(toolbar, detail);\n          },\n          refresh: function (toolbar) {\n            return refresh(toolbar, detail);\n          },\n          toggle: function (toolbar) {\n            return toggleToolbar(toolbar, detail);\n          },\n          isOpen: function (toolbar) {\n            return isOpen(toolbar, detail);\n          }\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var SplitSlidingToolbar = composite({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$8(),\n      partFields: parts$4(),\n      factory: factory$7,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: function (apis, toolbar) {\n          apis.refresh(toolbar);\n        },\n        toggle: function (apis, toolbar) {\n          apis.toggle(toolbar);\n        },\n        isOpen: function (apis, toolbar) {\n          return apis.isOpen(toolbar);\n        }\n      }\n    });\n\n    var renderToolbarGroupCommon = function (toolbarGroup) {\n      var attributes = toolbarGroup.title.fold(function () {\n        return {};\n      }, function (title) {\n        return { attributes: { title: title } };\n      });\n      return {\n        dom: __assign({\n          tag: 'div',\n          classes: ['tox-toolbar__group']\n        }, attributes),\n        components: [ToolbarGroup.parts.items({})],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), ' + '.tox-split-button:not([disabled]), ' + '.tox-toolbar-nav-js:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    var renderToolbarGroup = function (toolbarGroup) {\n      return ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    };\n    var getToolbarbehaviours = function (toolbarSpec, modeName) {\n      var onAttached = runOnAttached(function (component) {\n        var groups = map$2(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),\n        receivingConfig(),\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached])\n      ]);\n    };\n    var renderMoreToolbarCommon = function (toolbarSpec) {\n      var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Optional.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            name: 'more',\n            icon: Optional.some('more-drawer'),\n            disabled: false,\n            tooltip: Optional.some('More...'),\n            primary: false,\n            borderless: false\n          }, Optional.none(), toolbarSpec.providers)\n        },\n        splitToolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      };\n    };\n    var renderFloatingMoreToolbar = function (toolbarSpec) {\n      var baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      var overflowXOffset = 4;\n      var primary = SplitFloatingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch(__assign(__assign({}, baseSpec), {\n        lazySink: toolbarSpec.getSink,\n        getOverflowBounds: function () {\n          var headerElem = toolbarSpec.moreDrawerData.lazyHeader().element;\n          var headerBounds = absolute$2(headerElem);\n          var docElem = documentElement(headerElem);\n          var docBounds = absolute$2(docElem);\n          var height = Math.max(docElem.dom.scrollHeight, docBounds.height);\n          return bounds(headerBounds.x + overflowXOffset, docBounds.y, headerBounds.width - overflowXOffset * 2, height);\n        },\n        parts: __assign(__assign({}, baseSpec.parts), {\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: toolbarSpec.attributes\n            }\n          }\n        }),\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' }\n      }));\n    };\n    var renderSlidingMoreToolbar = function (toolbarSpec) {\n      var primary = SplitSlidingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      var overflow = SplitSlidingToolbar.parts.overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      var baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      return SplitSlidingToolbar.sketch(__assign(__assign({}, baseSpec), {\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: function (comp) {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n        },\n        onClosed: function (comp) {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n        }\n      }));\n    };\n    var renderToolbar = function (toolbarSpec) {\n      var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar'].concat(toolbarSpec.type === ToolbarMode.scrolling ? ['tox-toolbar--scrolling'] : [])\n        },\n        components: [Toolbar.parts.groups({})],\n        toolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      });\n    };\n\n    var factory$6 = function (detail, components, _spec) {\n      var apis = {\n        getSocket: function (comp) {\n          return parts$a.getPart(comp, detail, 'socket');\n        },\n        setSidebar: function (comp, panelConfigs) {\n          parts$a.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n            return setSidebar(sidebar, panelConfigs);\n          });\n        },\n        toggleSidebar: function (comp, name) {\n          parts$a.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n            return toggleSidebar(sidebar, name);\n          });\n        },\n        whichSidebar: function (comp) {\n          return parts$a.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: function (comp) {\n          return parts$a.getPart(comp, detail, 'header');\n        },\n        getToolbar: function (comp) {\n          return parts$a.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: function (comp, groups) {\n          parts$a.getPart(comp, detail, 'toolbar').each(function (toolbar) {\n            toolbar.getApis().setGroups(toolbar, groups);\n          });\n        },\n        setToolbars: function (comp, toolbars) {\n          parts$a.getPart(comp, detail, 'multiple-toolbar').each(function (mToolbar) {\n            CustomList.setItems(mToolbar, toolbars);\n          });\n        },\n        refreshToolbar: function (comp) {\n          var toolbar = parts$a.getPart(comp, detail, 'toolbar');\n          toolbar.each(function (toolbar) {\n            return toolbar.getApis().refresh(toolbar);\n          });\n        },\n        toggleToolbarDrawer: function (comp) {\n          parts$a.getPart(comp, detail, 'toolbar').each(function (toolbar) {\n            mapFrom(toolbar.getApis().toggle, function (toggle) {\n              return toggle(toolbar);\n            });\n          });\n        },\n        isToolbarDrawerToggled: function (comp) {\n          return parts$a.getPart(comp, detail, 'toolbar').bind(function (toolbar) {\n            return Optional.from(toolbar.getApis().isOpen).map(function (isOpen) {\n              return isOpen(toolbar);\n            });\n          }).getOr(false);\n        },\n        getThrobber: function (comp) {\n          return parts$a.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: function (comp) {\n          var optToolbar = parts$a.getPart(comp, detail, 'toolbar').orThunk(function () {\n            return parts$a.getPart(comp, detail, 'multiple-toolbar');\n          });\n          optToolbar.each(function (toolbar) {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: function (comp, menus) {\n          parts$a.getPart(comp, detail, 'menubar').each(function (menubar) {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: function (comp) {\n          parts$a.getPart(comp, detail, 'menubar').each(function (menubar) {\n            SilverMenubar.focus(menubar);\n          });\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: apis,\n        behaviours: detail.behaviours\n      };\n    };\n    var partMenubar = partType.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [required$1('backstage')]\n    });\n    var toolbarFactory = function (spec) {\n      if (spec.type === ToolbarMode.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.type === ToolbarMode.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    var partMultipleToolbar = partType.optional({\n      factory: {\n        sketch: function (spec) {\n          return CustomList.sketch({\n            uid: spec.uid,\n            dom: spec.dom,\n            listBehaviours: derive$1([Keying.config({\n                mode: 'acyclic',\n                selector: '.tox-toolbar'\n              })]),\n            makeItem: function () {\n              return renderToolbar({\n                type: spec.type,\n                uid: generate$6('multiple-toolbar-item'),\n                cyclicKeying: false,\n                initGroups: [],\n                providers: spec.providers,\n                onEscape: function () {\n                  spec.onEscape();\n                  return Optional.some(true);\n                }\n              });\n            },\n            setupItem: function (_mToolbar, tc, data, _index) {\n              Toolbar.setGroups(tc, data);\n            },\n            shell: true\n          });\n        }\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape')\n      ]\n    });\n    var partToolbar = partType.optional({\n      factory: {\n        sketch: function (spec) {\n          var renderer = toolbarFactory(spec);\n          var toolbarSpec = {\n            type: spec.type,\n            uid: spec.uid,\n            onEscape: function () {\n              spec.onEscape();\n              return Optional.some(true);\n            },\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            providers: spec.providers,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            },\n            attributes: spec.attributes\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape'),\n        required$1('getSink')\n      ]\n    });\n    var partHeader = partType.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [required$1('dom')]\n    });\n    var partSocket = partType.optional({\n      name: 'socket',\n      schema: [required$1('dom')]\n    });\n    var partSidebar = partType.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [required$1('dom')]\n    });\n    var partThrobber = partType.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [required$1('dom')]\n    });\n    var OuterContainer = composite({\n      name: 'OuterContainer',\n      factory: factory$6,\n      configFields: [\n        required$1('dom'),\n        required$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partThrobber\n      ],\n      apis: {\n        getSocket: function (apis, comp) {\n          return apis.getSocket(comp);\n        },\n        setSidebar: function (apis, comp, panelConfigs) {\n          apis.setSidebar(comp, panelConfigs);\n        },\n        toggleSidebar: function (apis, comp, name) {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: function (apis, comp) {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: function (apis, comp) {\n          return apis.getHeader(comp);\n        },\n        getToolbar: function (apis, comp) {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: function (apis, comp, grps) {\n          var groups = map$2(grps, function (grp) {\n            return renderToolbarGroup(grp);\n          });\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: function (apis, comp, ts) {\n          var renderedToolbars = map$2(ts, function (g) {\n            return map$2(g, renderToolbarGroup);\n          });\n          apis.setToolbars(comp, renderedToolbars);\n        },\n        refreshToolbar: function (apis, comp) {\n          return apis.refreshToolbar(comp);\n        },\n        toggleToolbarDrawer: function (apis, comp) {\n          apis.toggleToolbarDrawer(comp);\n        },\n        isToolbarDrawerToggled: function (apis, comp) {\n          return apis.isToolbarDrawerToggled(comp);\n        },\n        getThrobber: function (apis, comp) {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: function (apis, comp, menus) {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: function (apis, comp) {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: function (apis, comp) {\n          apis.focusToolbar(comp);\n        }\n      }\n    });\n\n    var defaultMenubar = 'file edit view insert format tools table help';\n    var defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | export print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'spellchecker spellcheckerlanguage | a11ycheck code wordcount'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable | cell row column | advtablesort | tableprops deletetable'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    var make = function (menu, registry, editor) {\n      var removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: function () {\n          return bind$3(menu.items, function (i) {\n            var itemName = i.toLowerCase();\n            if (itemName.trim().length === 0) {\n              return [];\n            } else if (exists(removedMenuItems, function (removedMenuItem) {\n                return removedMenuItem === itemName;\n              })) {\n              return [];\n            } else if (itemName === 'separator' || itemName === '|') {\n              return [{ type: 'separator' }];\n            } else if (registry.menuItems[itemName]) {\n              return [registry.menuItems[itemName]];\n            } else {\n              return [];\n            }\n          });\n        }\n      };\n    };\n    var parseItemsString = function (items) {\n      if (typeof items === 'string') {\n        return items.split(' ');\n      }\n      return items;\n    };\n    var identifyMenus = function (editor, registry) {\n      var rawMenuData = __assign(__assign({}, defaultMenus), registry.menus);\n      var userDefinedMenus = keys(registry.menus).length > 0;\n      var menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      var validMenus = filter$2(menubar, function (menuName) {\n        var isDefaultMenu = has$2(defaultMenus, menuName);\n        if (userDefinedMenus) {\n          return isDefaultMenu || get$e(registry.menus, menuName).exists(function (menu) {\n            return has$2(menu, 'items');\n          });\n        } else {\n          return isDefaultMenu;\n        }\n      });\n      var menus = map$2(validMenus, function (menuName) {\n        var menuData = rawMenuData[menuName];\n        return make({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter$2(menus, function (menu) {\n        var isNotSeparator = function (item) {\n          return item.type !== 'separator';\n        };\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    var fireSkinLoaded = function (editor) {\n      var done = function () {\n        editor._skinLoaded = true;\n        fireSkinLoaded$1(editor);\n      };\n      return function () {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    var fireSkinLoadError = function (editor, err) {\n      return function () {\n        return fireSkinLoadError$1(editor, { message: err });\n      };\n    };\n\n    var loadStylesheet = function (editor, stylesheetUrl, styleSheetLoader) {\n      return new global$c(function (resolve, reject) {\n        styleSheetLoader.load(stylesheetUrl, resolve, reject);\n        editor.on('remove', function () {\n          return styleSheetLoader.unload(stylesheetUrl);\n        });\n      });\n    };\n    var loadUiSkins = function (editor, skinUrl) {\n      var skinUiCss = skinUrl + '/skin.min.css';\n      return loadStylesheet(editor, skinUiCss, editor.ui.styleSheetLoader);\n    };\n    var loadShadowDomUiSkins = function (editor, skinUrl) {\n      var isInShadowRoot$1 = isInShadowRoot(SugarElement.fromDom(editor.getElement()));\n      if (isInShadowRoot$1) {\n        var shadowDomSkinCss = skinUrl + '/skin.shadowdom.min.css';\n        return loadStylesheet(editor, shadowDomSkinCss, global$b.DOM.styleSheetLoader);\n      } else {\n        return global$c.resolve();\n      }\n    };\n    var loadSkin = function (isInline, editor) {\n      var skinUrl = getSkinUrl(editor);\n      if (skinUrl) {\n        editor.contentCSS.push(skinUrl + (isInline ? '/content.inline' : '/content') + '.min.css');\n      }\n      if (isSkinDisabled(editor) === false && isString(skinUrl)) {\n        global$c.all([\n          loadUiSkins(editor, skinUrl),\n          loadShadowDomUiSkins(editor, skinUrl)\n        ]).then(fireSkinLoaded(editor), fireSkinLoadError(editor, 'Skin could not be loaded'));\n      } else {\n        fireSkinLoaded(editor)();\n      }\n    };\n    var iframe = curry(loadSkin, false);\n    var inline = curry(loadSkin, true);\n\n    var onSetupFormatToggle = function (editor, name) {\n      return function (api) {\n        var boundCallback = unbindable();\n        var init = function () {\n          api.setActive(editor.formatter.match(name));\n          var binding = editor.formatter.formatChanged(name, api.setActive);\n          boundCallback.set(binding);\n        };\n        editor.initialized ? init() : editor.once('init', init);\n        return function () {\n          editor.off('init', init);\n          boundCallback.clear();\n        };\n      };\n    };\n    var onSetupEvent = function (editor, event, f) {\n      return function (api) {\n        var handleEvent = function () {\n          return f(api);\n        };\n        var init = function () {\n          f(api);\n          editor.on(event, handleEvent);\n        };\n        editor.initialized ? init() : editor.once('init', init);\n        return function () {\n          editor.off('init', init);\n          editor.off(event, handleEvent);\n        };\n      };\n    };\n    var onActionToggleFormat$1 = function (editor) {\n      return function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('mceToggleFormat', false, rawItem.format);\n          });\n        };\n      };\n    };\n    var onActionExecCommand = function (editor, command) {\n      return function () {\n        return editor.execCommand(command);\n      };\n    };\n\n    var generateSelectItems = function (_editor, backstage, spec) {\n      var generateItem = function (rawItem, response, disabled, value) {\n        var translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Optional.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          var items = bind$3(rawItem.getStyleItems(), function (si) {\n            return validate(si, response, value);\n          });\n          if (response === 0 && items.length <= 0) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              disabled: items.length <= 0,\n              getSubmenuItems: function () {\n                return bind$3(rawItem.getStyleItems(), function (si) {\n                  return validate(si, response, value);\n                });\n              }\n            });\n          }\n        } else {\n          return Optional.some(__assign({\n            type: 'togglemenuitem',\n            text: translatedText,\n            icon: rawItem.icon,\n            active: rawItem.isSelected(value),\n            disabled: disabled,\n            onAction: spec.onAction(rawItem)\n          }, rawItem.getStylePreview().fold(function () {\n            return {};\n          }, function (preview) {\n            return { meta: { style: preview } };\n          })));\n        }\n      };\n      var validate = function (item, response, value) {\n        var invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      var validateItems = function (preItems) {\n        var value = spec.getCurrentValue();\n        var response = spec.shouldHide ? 0 : 1;\n        return bind$3(preItems, function (item) {\n          return validate(item, response, value);\n        });\n      };\n      var getFetch = function (backstage, getStyleItems) {\n        return function (comp, callback) {\n          var preItems = getStyleItems();\n          var items = validateItems(preItems);\n          var menu = build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false);\n          callback(menu);\n        };\n      };\n      return {\n        validateItems: validateItems,\n        getFetch: getFetch\n      };\n    };\n    var createMenuItems = function (editor, backstage, spec) {\n      var dataset = spec.dataset;\n      var getStyleItems = dataset.type === 'basic' ? function () {\n        return map$2(dataset.data, function (d) {\n          return processBasic(d, spec.isSelectedFor, spec.getPreviewFor);\n        });\n      } : dataset.getData;\n      return {\n        items: generateSelectItems(editor, backstage, spec),\n        getStyleItems: getStyleItems\n      };\n    };\n    var createSelectButton = function (editor, backstage, spec) {\n      var _a = createMenuItems(editor, backstage, spec), items = _a.items, getStyleItems = _a.getStyleItems;\n      var getApi = function (comp) {\n        return { getComponent: constant$1(comp) };\n      };\n      var onSetup = onSetupEvent(editor, 'NodeChange', function (api) {\n        var comp = api.getComponent();\n        spec.updateText(comp);\n      });\n      return renderCommonDropdown({\n        text: spec.icon.isSome() ? Optional.none() : spec.text,\n        icon: spec.icon,\n        tooltip: Optional.from(spec.tooltip),\n        role: Optional.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup: onSetup,\n        getApi: getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: []\n      }, 'tox-tbtn', backstage.shared);\n    };\n\n    var process = function (rawFormats) {\n      return map$2(rawFormats, function (item) {\n        var title = item, format = item;\n        var values = item.split('=');\n        if (values.length > 1) {\n          title = values[0];\n          format = values[1];\n        }\n        return {\n          title: title,\n          format: format\n        };\n      });\n    };\n    var buildBasicStaticDataset = function (data) {\n      return {\n        type: 'basic',\n        data: data\n      };\n    };\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    var split = function (rawFormats, delimiter) {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    var buildBasicSettingsDataset = function (editor, settingName, defaults, delimiter) {\n      var rawFormats = editor.getParam(settingName, defaults, 'string');\n      var data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data: data\n      };\n    };\n\n    var alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft',\n        command: 'JustifyLeft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter',\n        command: 'JustifyCenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright',\n        command: 'JustifyRight'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify',\n        command: 'JustifyFull'\n      }\n    ];\n    var getSpec$4 = function (editor) {\n      var getMatchingValue = function () {\n        return find$5(alignMenuItems, function (item) {\n          return editor.formatter.match(item.format);\n        });\n      };\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (_format) {\n        return Optional.none;\n      };\n      var updateSelectMenuIcon = function (comp) {\n        var match = getMatchingValue();\n        var alignment = match.fold(constant$1('left'), function (item) {\n          return item.title.toLowerCase();\n        });\n        emitWith(comp, updateMenuIcon, { icon: 'align-' + alignment });\n      };\n      var dataset = buildBasicStaticDataset(alignMenuItems);\n      var onAction = function (rawItem) {\n        return function () {\n          return find$5(alignMenuItems, function (item) {\n            return item.format === rawItem.format;\n          }).each(function (item) {\n            return editor.execCommand(item.command);\n          });\n        };\n      };\n      return {\n        tooltip: 'Align',\n        text: Optional.none(),\n        icon: Optional.some('align-left'),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onAction,\n        updateText: updateSelectMenuIcon,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        }\n      };\n    };\n    var createAlignSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$4(editor));\n    };\n    var alignSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$4(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate('Align'),\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';\n    var systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    var splitFonts = function (fontFamily) {\n      var fonts = fontFamily.split(/\\s*,\\s*/);\n      return map$2(fonts, function (font) {\n        return font.replace(/^['\"]+|['\"]+$/g, '');\n      });\n    };\n    var isSystemFontStack = function (fontFamily) {\n      var matchesSystemStack = function () {\n        var fonts = splitFonts(fontFamily.toLowerCase());\n        return forall(systemStackFonts, function (font) {\n          return fonts.indexOf(font.toLowerCase()) > -1;\n        });\n      };\n      return fontFamily.indexOf('-apple-system') === 0 && matchesSystemStack();\n    };\n    var getSpec$3 = function (editor) {\n      var systemFont = 'System Font';\n      var getMatchingValue = function () {\n        var getFirstFont = function (fontFamily) {\n          return fontFamily ? splitFonts(fontFamily)[0] : '';\n        };\n        var fontFamily = editor.queryCommandValue('FontName');\n        var items = dataset.data;\n        var font = fontFamily ? fontFamily.toLowerCase() : '';\n        var matchOpt = find$5(items, function (item) {\n          var format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(function () {\n          return someIf(isSystemFontStack(font), {\n            title: systemFont,\n            format: font\n          });\n        });\n        return {\n          matchOpt: matchOpt,\n          font: fontFamily\n        };\n      };\n      var isSelectedFor = function (item) {\n        return function (valueOpt) {\n          return valueOpt.exists(function (value) {\n            return value.format === item;\n          });\n        };\n      };\n      var getCurrentValue = function () {\n        var matchOpt = getMatchingValue().matchOpt;\n        return matchOpt;\n      };\n      var getPreviewFor = function (item) {\n        return function () {\n          return Optional.some({\n            tag: 'div',\n            styles: item.indexOf('dings') === -1 ? { 'font-family': item } : {}\n          });\n        };\n      };\n      var onAction = function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('FontName', false, rawItem.format);\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var _a = getMatchingValue(), matchOpt = _a.matchOpt, font = _a.font;\n        var text = matchOpt.fold(constant$1(font), function (item) {\n          return item.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'font_formats', defaultFontsFormats, Delimiter.SemiColon);\n      return {\n        tooltip: 'Fonts',\n        text: Optional.some(systemFont),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: getCurrentValue,\n        getPreviewFor: getPreviewFor,\n        onAction: onAction,\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    var createFontSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$3(editor));\n    };\n    var fontSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('fontformats', {\n        text: backstage.shared.providers.translate('Fonts'),\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';\n    var legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    var keywordFontSizes = {\n      'xx-small': '7pt',\n      'x-small': '8pt',\n      'small': '10pt',\n      'medium': '12pt',\n      'large': '14pt',\n      'x-large': '18pt',\n      'xx-large': '24pt'\n    };\n    var round = function (number, precision) {\n      var factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    var toPt = function (fontSize, precision) {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      } else {\n        return get$e(keywordFontSizes, fontSize).getOr(fontSize);\n      }\n    };\n    var toLegacy = function (fontSize) {\n      return get$e(legacyFontSizes, fontSize).getOr('');\n    };\n    var getSpec$2 = function (editor) {\n      var getMatchingValue = function () {\n        var matchOpt = Optional.none();\n        var items = dataset.data;\n        var fontSize = editor.queryCommandValue('FontSize');\n        if (fontSize) {\n          var _loop_1 = function (precision) {\n            var pt = toPt(fontSize, precision);\n            var legacy = toLegacy(pt);\n            matchOpt = find$5(items, function (item) {\n              return item.format === fontSize || item.format === pt || item.format === legacy;\n            });\n          };\n          for (var precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            _loop_1(precision);\n          }\n        }\n        return {\n          matchOpt: matchOpt,\n          size: fontSize\n        };\n      };\n      var isSelectedFor = function (item) {\n        return function (valueOpt) {\n          return valueOpt.exists(function (value) {\n            return value.format === item;\n          });\n        };\n      };\n      var getCurrentValue = function () {\n        var matchOpt = getMatchingValue().matchOpt;\n        return matchOpt;\n      };\n      var getPreviewFor = constant$1(Optional.none);\n      var onAction = function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('FontSize', false, rawItem.format);\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var _a = getMatchingValue(), matchOpt = _a.matchOpt, size = _a.size;\n        var text = matchOpt.fold(constant$1(size), function (match) {\n          return match.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'fontsize_formats', defaultFontsizeFormats, Delimiter.Space);\n      return {\n        tooltip: 'Font sizes',\n        text: Optional.some('12pt'),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getPreviewFor: getPreviewFor,\n        getCurrentValue: getCurrentValue,\n        onAction: onAction,\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    var createFontsizeSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$2(editor));\n    };\n    var fontsizeSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontsizes', {\n        text: 'Font sizes',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var findNearest = function (editor, getStyles) {\n      var styles = getStyles();\n      var formats = map$2(styles, function (style) {\n        return style.format;\n      });\n      return Optional.from(editor.formatter.closest(formats)).bind(function (fmt) {\n        return find$5(styles, function (data) {\n          return data.format === fmt;\n        });\n      }).orThunk(function () {\n        return someIf(editor.formatter.match('p'), {\n          title: 'Paragraph',\n          format: 'p'\n        });\n      });\n    };\n\n    var defaultBlocks = 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre';\n    var getSpec$1 = function (editor) {\n      var fallbackFormat = 'Paragraph';\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var detectedFormat = findNearest(editor, function () {\n          return dataset.data;\n        });\n        var text = detectedFormat.fold(constant$1(fallbackFormat), function (fmt) {\n          return fmt.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'block_formats', defaultBlocks, Delimiter.SemiColon);\n      return {\n        tooltip: 'Blocks',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        }\n      };\n    };\n    var createFormatSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$1(editor));\n    };\n    var formatSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('blockformats', {\n        text: 'Blocks',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var getSpec = function (editor, dataset) {\n      var fallbackFormat = 'Paragraph';\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return fmt !== undefined ? Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          }) : Optional.none();\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var getFormatItems = function (fmt) {\n          var subs = fmt.items;\n          return subs !== undefined && subs.length > 0 ? bind$3(subs, getFormatItems) : [{\n              title: fmt.title,\n              format: fmt.format\n            }];\n        };\n        var flattenedItems = bind$3(getStyleFormats(editor), getFormatItems);\n        var detectedFormat = findNearest(editor, constant$1(flattenedItems));\n        var text = detectedFormat.fold(constant$1(fallbackFormat), function (fmt) {\n          return fmt.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      return {\n        tooltip: 'Formats',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        shouldHide: editor.getParam('style_formats_autohide', false, 'boolean'),\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        },\n        dataset: dataset\n      };\n    };\n    var createStyleSelect = function (editor, backstage) {\n      var dataset = __assign({ type: 'advanced' }, backstage.styleselect);\n      return createSelectButton(editor, backstage, getSpec(editor, dataset));\n    };\n    var styleSelectMenu = function (editor, backstage) {\n      var dataset = __assign({ type: 'advanced' }, backstage.styleselect);\n      var menuItems = createMenuItems(editor, backstage, getSpec(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('formats', {\n        text: 'Formats',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var events$3 = function (reflectingConfig, reflectingState) {\n      var update = function (component, data) {\n        reflectingConfig.updateState.each(function (updateState) {\n          var newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(function (renderComponents) {\n          var newComponents = renderComponents(data, reflectingState.get());\n          var newChildren = map$2(newComponents, component.getSystem().build);\n          replaceChildren(component, newChildren);\n        });\n      };\n      return derive$2([\n        run$1(receive(), function (component, message) {\n          var receivingData = message;\n          if (!receivingData.universal) {\n            var channel = reflectingConfig.channel;\n            if (contains$2(receivingData.channels, channel)) {\n              update(component, receivingData.data);\n            }\n          }\n        }),\n        runOnAttached(function (comp, _se) {\n          reflectingConfig.initialData.each(function (rawData) {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$3\n    });\n\n    var getState = function (component, replaceConfig, reflectState) {\n      return reflectState;\n    };\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getState: getState\n    });\n\n    var ReflectingSchema = [\n      required$1('channel'),\n      option('renderComponents'),\n      option('updateState'),\n      option('initialData')\n    ];\n\n    var init$3 = function () {\n      var cell = Cell(Optional.none());\n      var clear = function () {\n        return cell.set(Optional.none());\n      };\n      var readState = function () {\n        return cell.get().getOr('none');\n      };\n      return {\n        readState: readState,\n        get: cell.get,\n        set: cell.set,\n        clear: clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$3\n    });\n\n    var Reflecting = create$7({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    var schema$7 = constant$1([\n      required$1('toggleClass'),\n      required$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      onStrictHandler('onItemExecute'),\n      option('lazySink'),\n      required$1('dom'),\n      onHandler('onOpen'),\n      field('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      defaulted('eventOrder', {}),\n      option('role')\n    ].concat(sandboxFields()));\n    var arrowPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'arrow',\n      defaults: function () {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: function (detail) {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: function (arrow) {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    var buttonPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'button',\n      defaults: function () {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: function (detail) {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: function (btn) {\n            btn.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    var parts$3 = constant$1([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: function (spec) {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: function (detail) {\n          return {\n            onExecute: function (tmenu, item) {\n              tmenu.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType$1()\n    ]);\n\n    var factory$5 = function (detail, components, spec, externals) {\n      var _a;\n      var switchToMenu = function (sandbox) {\n        Composing.getCurrent(sandbox).each(function (current) {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      var action = function (component) {\n        var onOpenSync = switchToMenu;\n        togglePopup(detail, identity$1, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      var openMenu = function (comp) {\n        action(comp);\n        return Optional.some(true);\n      };\n      var executeOnButton = function (comp) {\n        var button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Optional.some(true);\n      };\n      var buttonEvents = __assign(__assign({}, derive$2([runOnAttached(function (component, _simulatedEvent) {\n          var ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n          ariaDescriptor.each(function (descriptor) {\n            var descriptorId = generate$6('aria');\n            set$8(descriptor.element, 'id', descriptorId);\n            set$8(component.element, 'aria-describedby', descriptorId);\n          });\n        })])), events$a(Optional.some(action)));\n      var apis = {\n        repositionMenus: function (comp) {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: apis,\n        eventOrder: __assign(__assign({}, detail.eventOrder), (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'toggling',\n          'alloy.base.behaviour'\n        ], _a)),\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: function (hotspot) {\n                var arrow = getPartOrDie(hotspot, detail, 'arrow');\n                var extras = {\n                  onOpen: function () {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: function () {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox$1(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    var SplitDropdown = composite({\n      name: 'SplitDropdown',\n      configFields: schema$7(),\n      partFields: parts$3(),\n      factory: factory$5,\n      apis: {\n        repositionMenus: function (apis, comp) {\n          return apis.repositionMenus(comp);\n        }\n      }\n    });\n\n    var getButtonApi = function (component) {\n      return {\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n    var getToggleApi = function (component) {\n      return {\n        setActive: function (state) {\n          Toggling.set(component, state);\n        },\n        isActive: function () {\n          return Toggling.isOn(component);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n    var getTooltipAttributes = function (tooltip, providersBackstage) {\n      return tooltip.map(function (tooltip) {\n        return {\n          'aria-label': providersBackstage.translate(tooltip),\n          'title': providersBackstage.translate(tooltip)\n        };\n      }).getOr({});\n    };\n    var focusButtonEvent = generate$6('focus-button');\n    var renderCommonStructure = function (icon, text, tooltip, receiver, behaviours, providersBackstage) {\n      var _d;\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(text.isSome() ? ['tox-tbtn--select'] : []),\n          attributes: getTooltipAttributes(tooltip, providersBackstage)\n        },\n        components: componentRenderPipeline([\n          icon.map(function (iconName) {\n            return renderIconFromPack(iconName, providersBackstage.icons);\n          }),\n          text.map(function (text) {\n            return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n          })\n        ]),\n        eventOrder: (_d = {}, _d[mousedown()] = [\n          'focusing',\n          'alloy.base.behaviour',\n          'common-button-display-events'\n        ], _d),\n        buttonBehaviours: derive$1([\n          DisablingConfigs.toolbarButton(providersBackstage.isDisabled),\n          receivingConfig(),\n          config('common-button-display-events', [run$1(mousedown(), function (button, se) {\n              se.event.prevent();\n              emit(button, focusButtonEvent);\n            })])\n        ].concat(receiver.map(function (r) {\n          return Reflecting.config({\n            channel: r,\n            initialData: {\n              icon: icon,\n              text: text\n            },\n            renderComponents: function (data, _state) {\n              return componentRenderPipeline([\n                data.icon.map(function (iconName) {\n                  return renderIconFromPack(iconName, providersBackstage.icons);\n                }),\n                data.text.map(function (text) {\n                  return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n                })\n              ]);\n            }\n          });\n        }).toArray()).concat(behaviours.getOr([])))\n      };\n    };\n    var renderFloatingToolbarButton = function (spec, backstage, identifyButtons, attributes) {\n      var sharedBackstage = backstage.shared;\n      return FloatingToolbarButton.sketch({\n        lazySink: sharedBackstage.getSink,\n        fetch: function () {\n          return Future.nu(function (resolve) {\n            resolve(map$2(identifyButtons(spec.items), renderToolbarGroup));\n          });\n        },\n        markers: { toggledClass: 'tox-tbtn--enabled' },\n        parts: {\n          button: renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), sharedBackstage.providers),\n          toolbar: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: attributes\n            }\n          }\n        }\n      });\n    };\n    var renderCommonToolbarButton = function (spec, specialisation, providersBackstage) {\n      var editorOffCell = Cell(noop);\n      var structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), providersBackstage);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: derive$1([\n          config('toolbar-button-events', [\n            onToolbarButtonExecute({\n              onAction: spec.onAction,\n              getApi: specialisation.getApi\n            }),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          DisablingConfigs.toolbarButton(function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }),\n          receivingConfig()\n        ].concat(specialisation.toolbarButtonBehaviours))\n      });\n    };\n    var renderToolbarButton = function (spec, providersBackstage) {\n      return renderToolbarButtonWith(spec, providersBackstage, []);\n    };\n    var renderToolbarButtonWith = function (spec, providersBackstage, bonusEvents) {\n      return renderCommonToolbarButton(spec, {\n        toolbarButtonBehaviours: [].concat(bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : []),\n        getApi: getButtonApi,\n        onSetup: spec.onSetup\n      }, providersBackstage);\n    };\n    var renderToolbarToggleButton = function (spec, providersBackstage) {\n      return renderToolbarToggleButtonWith(spec, providersBackstage, []);\n    };\n    var renderToolbarToggleButtonWith = function (spec, providersBackstage, bonusEvents) {\n      return deepMerge(renderCommonToolbarButton(spec, {\n        toolbarButtonBehaviours: [\n          Replacing.config({}),\n          Toggling.config({\n            toggleClass: 'tox-tbtn--enabled',\n            aria: { mode: 'pressed' },\n            toggleOnExecute: false\n          })\n        ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n        getApi: getToggleApi,\n        onSetup: spec.onSetup\n      }, providersBackstage));\n    };\n    var fetchChoices = function (getApi, spec, providersBackstage) {\n      return function (comp) {\n        return Future.nu(function (callback) {\n          return spec.fetch(callback);\n        }).map(function (items) {\n          return Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n            spec.onItemAction(getApi(comp), value);\n          }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), providersBackstage), {\n            movement: deriveMenuMovement(spec.columns, spec.presets),\n            menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached(function (comp, _se) {\n                detectSize(comp, 4, classForPreset(spec.presets)).each(function (_d) {\n                  var numRows = _d.numRows, numColumns = _d.numColumns;\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              })])\n          })));\n        });\n      };\n    };\n    var renderSplitButton = function (spec, sharedBackstage) {\n      var _d;\n      var displayChannel = generate$6('channel-update-split-dropdown-display');\n      var getApi = function (comp) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(comp);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(comp, state);\n          },\n          setIconFill: function (id, value) {\n            descendant(comp.element, 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n              set$8(underlinePath, 'fill', value);\n            });\n          },\n          setIconStroke: function (id, value) {\n            descendant(comp.element, 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n              set$8(underlinePath, 'stroke', value);\n            });\n          },\n          setActive: function (state) {\n            set$8(comp.element, 'aria-pressed', state);\n            descendant(comp.element, 'span').each(function (button) {\n              comp.getSystem().getByDom(button).each(function (buttonComp) {\n                return Toggling.set(buttonComp, state);\n              });\n            });\n          },\n          isActive: function () {\n            return descendant(comp.element, 'span').exists(function (button) {\n              return comp.getSystem().getByDom(button).exists(Toggling.isOn);\n            });\n          }\n        };\n      };\n      var editorOffCell = Cell(noop);\n      var specialisation = {\n        getApi: getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: __assign({ 'aria-pressed': false }, getTooltipAttributes(spec.tooltip, sharedBackstage.providers))\n        },\n        onExecute: function (button) {\n          spec.onAction(getApi(button));\n        },\n        onItemExecute: function (_a, _b, _c) {\n        },\n        splitDropdownBehaviours: derive$1([\n          DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          config('split-dropdown-events', [\n            run$1(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          Unselecting.config({})\n        ]),\n        eventOrder: (_d = {}, _d[attachedToDom()] = [\n          'alloy.base.behaviour',\n          'split-dropdown-events'\n        ], _d),\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts.button(renderCommonStructure(spec.icon, spec.text, Optional.none(), Optional.some(displayChannel), Optional.some([Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            })]), sharedBackstage.providers)),\n          SplitDropdown.parts.arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$1('chevron-down', sharedBackstage.providers.icons)\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n              receivingConfig(),\n              addFocusableBehaviour()\n            ])\n          }),\n          SplitDropdown.parts['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    var defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styleselect']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    var renderFromBridge = function (bridgeBuilder, render) {\n      return function (spec, extras, editor) {\n        var internal = bridgeBuilder(spec).mapError(function (errInfo) {\n          return formatError(errInfo);\n        }).getOrDie();\n        return render(internal, extras, editor);\n      };\n    };\n    var types = {\n      button: renderFromBridge(createToolbarButton, function (s, extras) {\n        return renderToolbarButton(s, extras.backstage.shared.providers);\n      }),\n      togglebutton: renderFromBridge(createToggleButton, function (s, extras) {\n        return renderToolbarToggleButton(s, extras.backstage.shared.providers);\n      }),\n      menubutton: renderFromBridge(createMenuButton, function (s, extras) {\n        return renderMenuButton(s, 'tox-tbtn', extras.backstage, Optional.none());\n      }),\n      splitbutton: renderFromBridge(createSplitButton, function (s, extras) {\n        return renderSplitButton(s, extras.backstage.shared);\n      }),\n      grouptoolbarbutton: renderFromBridge(createGroupToolbarButton, function (s, extras, editor) {\n        var _a;\n        var buttons = editor.ui.registry.getAll().buttons;\n        var identify = function (toolbar) {\n          return identifyButtons(editor, {\n            buttons: buttons,\n            toolbar: toolbar,\n            allowToolbarGroups: false\n          }, extras, Optional.none());\n        };\n        var attributes = (_a = {}, _a[Attribute] = extras.backstage.shared.header.isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop, _a);\n        switch (getToolbarMode(editor)) {\n        case ToolbarMode.floating:\n          return renderFloatingToolbarButton(s, extras.backstage, identify, attributes);\n        default:\n          throw new Error('Toolbar groups are only supported when using floating toolbar mode');\n        }\n      }),\n      styleSelectButton: function (editor, extras) {\n        return createStyleSelect(editor, extras.backstage);\n      },\n      fontsizeSelectButton: function (editor, extras) {\n        return createFontsizeSelect(editor, extras.backstage);\n      },\n      fontSelectButton: function (editor, extras) {\n        return createFontSelect(editor, extras.backstage);\n      },\n      formatButton: function (editor, extras) {\n        return createFormatSelect(editor, extras.backstage);\n      },\n      alignMenuButton: function (editor, extras) {\n        return createAlignSelect(editor, extras.backstage);\n      }\n    };\n    var extractFrom = function (spec, extras, editor) {\n      return get$e(types, spec.type).fold(function () {\n        console.error('skipping button defined by', spec);\n        return Optional.none();\n      }, function (render) {\n        return Optional.some(render(spec, extras, editor));\n      });\n    };\n    var bespokeButtons = {\n      styleselect: types.styleSelectButton,\n      fontsizeselect: types.fontsizeSelectButton,\n      fontselect: types.fontSelectButton,\n      formatselect: types.formatButton,\n      align: types.alignMenuButton\n    };\n    var removeUnusedDefaults = function (buttons) {\n      var filteredItemGroups = map$2(defaultToolbar, function (group) {\n        var items = filter$2(group.items, function (subItem) {\n          return has$2(buttons, subItem) || has$2(bespokeButtons, subItem);\n        });\n        return {\n          name: group.name,\n          items: items\n        };\n      });\n      return filter$2(filteredItemGroups, function (group) {\n        return group.items.length > 0;\n      });\n    };\n    var convertStringToolbar = function (strToolbar) {\n      var groupsStrings = strToolbar.split('|');\n      return map$2(groupsStrings, function (g) {\n        return { items: g.trim().split(' ') };\n      });\n    };\n    var isToolbarGroupSettingArray = function (toolbar) {\n      return isArrayOf(toolbar, function (t) {\n        return has$2(t, 'name') && has$2(t, 'items');\n      });\n    };\n    var createToolbar = function (toolbarConfig) {\n      var toolbar = toolbarConfig.toolbar;\n      var buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    var lookupButton = function (editor, buttons, toolbarItem, allowToolbarGroups, extras, prefixes) {\n      return get$e(buttons, toolbarItem.toLowerCase()).orThunk(function () {\n        return prefixes.bind(function (ps) {\n          return findMap(ps, function (prefix) {\n            return get$e(buttons, prefix + toolbarItem.toLowerCase());\n          });\n        });\n      }).fold(function () {\n        return get$e(bespokeButtons, toolbarItem.toLowerCase()).map(function (r) {\n          return r(editor, extras);\n        }).orThunk(function () {\n          return Optional.none();\n        });\n      }, function (spec) {\n        if (spec.type === 'grouptoolbarbutton' && !allowToolbarGroups) {\n          console.warn('Ignoring the \\'' + toolbarItem + '\\' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.');\n          return Optional.none();\n        } else {\n          return extractFrom(spec, extras, editor);\n        }\n      });\n    };\n    var identifyButtons = function (editor, toolbarConfig, extras, prefixes) {\n      var toolbarGroups = createToolbar(toolbarConfig);\n      var groups = map$2(toolbarGroups, function (group) {\n        var items = bind$3(group.items, function (toolbarItem) {\n          return toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, toolbarConfig.allowToolbarGroups, extras, prefixes).toArray();\n        });\n        return {\n          title: Optional.from(editor.translate(group.name)),\n          items: items\n        };\n      });\n      return filter$2(groups, function (group) {\n        return group.items.length > 0;\n      });\n    };\n\n    var setToolbar = function (editor, uiComponents, rawUiConfig, backstage) {\n      var comp = uiComponents.outerContainer;\n      var toolbarConfig = rawUiConfig.toolbar;\n      var toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        var toolbars = toolbarConfig.map(function (t) {\n          var config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig,\n            allowToolbarGroups: rawUiConfig.allowToolbarGroups\n          };\n          return identifyButtons(editor, config, { backstage: backstage }, Optional.none());\n        });\n        OuterContainer.setToolbars(comp, toolbars);\n      } else {\n        OuterContainer.setToolbar(comp, identifyButtons(editor, rawUiConfig, { backstage: backstage }, Optional.none()));\n      }\n    };\n\n    var detection = detect$1();\n    var isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    var setupEvents$1 = function (editor, uiComponents) {\n      var dom = editor.dom;\n      var contentWindow = editor.getWin();\n      var initialDocEle = editor.getDoc().documentElement;\n      var lastWindowDimensions = Cell(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n      var lastDocumentDimensions = Cell(SugarPosition(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      var resizeWindow = function () {\n        var outer = lastWindowDimensions.get();\n        if (outer.left !== contentWindow.innerWidth || outer.top !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n          fireResizeContent(editor);\n        }\n      };\n      var resizeDocument = function () {\n        var docEle = editor.getDoc().documentElement;\n        var inner = lastDocumentDimensions.get();\n        if (inner.left !== docEle.offsetWidth || inner.top !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth, docEle.offsetHeight));\n          fireResizeContent(editor);\n        }\n      };\n      var scroll = function (e) {\n        return fireScrollContent(editor, e);\n      };\n      dom.bind(contentWindow, 'resize', resizeWindow);\n      dom.bind(contentWindow, 'scroll', scroll);\n      var elementLoad = capture(SugarElement.fromDom(editor.getBody()), 'load', resizeDocument);\n      var mothership = uiComponents.uiMothership.element;\n      editor.on('hide', function () {\n        set$7(mothership, 'display', 'none');\n      });\n      editor.on('show', function () {\n        remove$6(mothership, 'display');\n      });\n      editor.on('NodeChange', resizeDocument);\n      editor.on('remove', function () {\n        elementLoad.unbind();\n        dom.unbind(contentWindow, 'resize', resizeWindow);\n        dom.unbind(contentWindow, 'scroll', scroll);\n        contentWindow = null;\n      });\n    };\n    var render$1 = function (editor, uiComponents, rawUiConfig, backstage, args) {\n      var lastToolbarWidth = Cell(0);\n      var outerContainer = uiComponents.outerContainer;\n      iframe(editor);\n      var eTargetNode = SugarElement.fromDom(args.targetNode);\n      var uiRoot = getContentContainer(getRootNode(eTargetNode));\n      attachSystemAfter(eTargetNode, uiComponents.mothership);\n      attachSystem(uiRoot, uiComponents.uiMothership);\n      editor.on('PostRender', function () {\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        OuterContainer.setSidebar(outerContainer, rawUiConfig.sidebar);\n        setupEvents$1(editor, uiComponents);\n      });\n      var socket = OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12) {\n        setAll(socket.element, {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        var limit = first(function () {\n          editor.fire('ScrollContent');\n        }, 20);\n        var unbinder = bind(socket.element, 'scroll', limit.throttle);\n        editor.on('remove', unbinder.unbind);\n      }\n      setupReadonlyModeSwitch(editor, uiComponents);\n      editor.addCommand('ToggleSidebar', function (_ui, value) {\n        OuterContainer.toggleSidebar(outerContainer, value);\n        editor.fire('ToggleSidebar');\n      });\n      editor.addQueryValueHandler('ToggleSidebar', function () {\n        return OuterContainer.whichSidebar(outerContainer);\n      });\n      var toolbarMode = getToolbarMode(editor);\n      var refreshDrawer = function () {\n        OuterContainer.refreshToolbar(uiComponents.outerContainer);\n      };\n      if (toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', function () {\n          var width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      var api = {\n        enable: function () {\n          broadcastReadonly(uiComponents, false);\n        },\n        disable: function () {\n          broadcastReadonly(uiComponents, true);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(outerContainer);\n        }\n      };\n      return {\n        iframeContainer: socket.element.dom,\n        editorContainer: outerContainer.element.dom,\n        api: api\n      };\n    };\n\n    var Iframe = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render$1\n    });\n\n    var parseToInt = function (val) {\n      var re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Optional.some(parseInt('' + val, 10));\n      }\n      return Optional.none();\n    };\n    var numToPx = function (val) {\n      return isNumber(val) ? val + 'px' : val;\n    };\n    var calcCappedSize = function (size, minSize, maxSize) {\n      var minOverride = minSize.filter(function (min) {\n        return size < min;\n      });\n      var maxOverride = maxSize.filter(function (max) {\n        return size > max;\n      });\n      return minOverride.or(maxOverride).getOr(size);\n    };\n\n    var getHeight = function (editor) {\n      var baseHeight = getHeightSetting(editor);\n      var minHeight = getMinHeightSetting(editor);\n      var maxHeight = getMaxHeightSetting(editor);\n      return parseToInt(baseHeight).map(function (height) {\n        return calcCappedSize(height, minHeight, maxHeight);\n      });\n    };\n    var getHeightWithFallback = function (editor) {\n      var height = getHeight(editor);\n      return height.getOr(getHeightSetting(editor));\n    };\n    var getWidth = function (editor) {\n      var baseWidth = getWidthSetting(editor);\n      var minWidth = getMinWidthSetting(editor);\n      var maxWidth = getMaxWidthSetting(editor);\n      return parseToInt(baseWidth).map(function (width) {\n        return calcCappedSize(width, minWidth, maxWidth);\n      });\n    };\n    var getWidthWithFallback = function (editor) {\n      var width = getWidth(editor);\n      return width.getOr(getWidthSetting(editor));\n    };\n\n    var InlineHeader = function (editor, targetElm, uiComponents, backstage, floatContainer) {\n      var uiMothership = uiComponents.uiMothership, outerContainer = uiComponents.outerContainer;\n      var DOM = global$b.DOM;\n      var useFixedToolbarContainer = useFixedContainer(editor);\n      var isSticky = isStickyToolbar(editor);\n      var editorMaxWidthOpt = getMaxWidthSetting(editor).or(getWidth(editor));\n      var headerBackstage = backstage.shared.header;\n      var isPositionedAtTop = headerBackstage.isPositionedAtTop;\n      var toolbarMode = getToolbarMode(editor);\n      var isSplitToolbar = toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating;\n      var visible = Cell(false);\n      var isVisible = function () {\n        return visible.get() && !editor.removed;\n      };\n      var calcToolbarOffset = function (toolbar) {\n        return isSplitToolbar ? toolbar.fold(constant$1(0), function (tbar) {\n          return tbar.components().length > 1 ? get$b(tbar.components()[1].element) : 0;\n        }) : 0;\n      };\n      var calcMode = function (container) {\n        switch (getToolbarLocation(editor)) {\n        case ToolbarLocation.auto:\n          var toolbar_1 = OuterContainer.getToolbar(outerContainer);\n          var offset = calcToolbarOffset(toolbar_1);\n          var toolbarHeight = get$b(container.element) - offset;\n          var targetBounds = box$1(targetElm);\n          var roomAtTop = targetBounds.y > toolbarHeight;\n          if (roomAtTop) {\n            return 'top';\n          } else {\n            var doc = documentElement(targetElm);\n            var docHeight = Math.max(doc.dom.scrollHeight, get$b(doc));\n            var roomAtBottom = targetBounds.bottom < docHeight - toolbarHeight;\n            if (roomAtBottom) {\n              return 'bottom';\n            } else {\n              var winBounds = win();\n              var isRoomAtBottomViewport = winBounds.bottom < targetBounds.bottom - toolbarHeight;\n              return isRoomAtBottomViewport ? 'bottom' : 'top';\n            }\n          }\n        case ToolbarLocation.bottom:\n          return 'bottom';\n        case ToolbarLocation.top:\n        default:\n          return 'top';\n        }\n      };\n      var setupMode = function (mode) {\n        var container = floatContainer.get();\n        Docking.setModes(container, [mode]);\n        headerBackstage.setDockingMode(mode);\n        var verticalDir = isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop;\n        set$8(container.element, Attribute, verticalDir);\n      };\n      var updateChromeWidth = function () {\n        var maxWidth = editorMaxWidthOpt.getOrThunk(function () {\n          var bodyMargin = parseToInt(get$c(body(), 'margin-left')).getOr(0);\n          return get$a(body()) - absolute$3(targetElm).left + bodyMargin;\n        });\n        set$7(floatContainer.get().element, 'max-width', maxWidth + 'px');\n      };\n      var updateChromePosition = function () {\n        var toolbar = OuterContainer.getToolbar(outerContainer);\n        var offset = calcToolbarOffset(toolbar);\n        var targetBounds = box$1(targetElm);\n        var top = isPositionedAtTop() ? Math.max(targetBounds.y - get$b(floatContainer.get().element) + offset, 0) : targetBounds.bottom;\n        setAll(outerContainer.element, {\n          position: 'absolute',\n          top: Math.round(top) + 'px',\n          left: Math.round(targetBounds.x) + 'px'\n        });\n      };\n      var repositionPopups$1 = function () {\n        uiMothership.broadcastOn([repositionPopups()], {});\n      };\n      var updateChromeUi = function (resetDocking) {\n        if (resetDocking === void 0) {\n          resetDocking = false;\n        }\n        if (!isVisible()) {\n          return;\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromeWidth();\n        }\n        if (isSplitToolbar) {\n          OuterContainer.refreshToolbar(outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromePosition();\n        }\n        if (isSticky) {\n          var floatContainerComp = floatContainer.get();\n          resetDocking ? Docking.reset(floatContainerComp) : Docking.refresh(floatContainerComp);\n        }\n        repositionPopups$1();\n      };\n      var updateMode = function (updateUi) {\n        if (updateUi === void 0) {\n          updateUi = true;\n        }\n        if (useFixedToolbarContainer || !isSticky || !isVisible()) {\n          return;\n        }\n        var currentMode = headerBackstage.getDockingMode();\n        var newMode = calcMode(floatContainer.get());\n        if (newMode !== currentMode) {\n          setupMode(newMode);\n          if (updateUi) {\n            updateChromeUi(true);\n          }\n        }\n      };\n      var show = function () {\n        visible.set(true);\n        set$7(outerContainer.element, 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        remove$6(uiMothership.element, 'display');\n        updateMode(false);\n        updateChromeUi();\n      };\n      var hide = function () {\n        visible.set(false);\n        if (uiComponents.outerContainer) {\n          set$7(outerContainer.element, 'display', 'none');\n          DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        }\n        set$7(uiMothership.element, 'display', 'none');\n      };\n      return {\n        isVisible: isVisible,\n        isPositionedAtTop: isPositionedAtTop,\n        show: show,\n        hide: hide,\n        update: updateChromeUi,\n        updateMode: updateMode,\n        repositionPopups: repositionPopups$1\n      };\n    };\n\n    var getTargetPosAndBounds = function (targetElm, isToolbarTop) {\n      var bounds = box$1(targetElm);\n      return {\n        pos: isToolbarTop ? bounds.y : bounds.bottom,\n        bounds: bounds\n      };\n    };\n    var setupEvents = function (editor, targetElm, ui, toolbarPersist) {\n      var prevPosAndBounds = Cell(getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()));\n      var resizeContent = function (e) {\n        var _a = getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()), pos = _a.pos, bounds = _a.bounds;\n        var _b = prevPosAndBounds.get(), prevPos = _b.pos, prevBounds = _b.bounds;\n        var hasResized = bounds.height !== prevBounds.height || bounds.width !== prevBounds.width;\n        prevPosAndBounds.set({\n          pos: pos,\n          bounds: bounds\n        });\n        if (hasResized) {\n          fireResizeContent(editor, e);\n        }\n        if (ui.isVisible()) {\n          if (prevPos !== pos) {\n            ui.update(true);\n          } else if (hasResized) {\n            ui.updateMode();\n            ui.repositionPopups();\n          }\n        }\n      };\n      if (!toolbarPersist) {\n        editor.on('activate', ui.show);\n        editor.on('deactivate', ui.hide);\n      }\n      editor.on('SkinLoaded ResizeWindow', function () {\n        return ui.update(true);\n      });\n      editor.on('NodeChange keydown', function (e) {\n        global$f.requestAnimationFrame(function () {\n          return resizeContent(e);\n        });\n      });\n      editor.on('ScrollWindow', function () {\n        return ui.updateMode();\n      });\n      var elementLoad = unbindable();\n      elementLoad.set(capture(SugarElement.fromDom(editor.getBody()), 'load', resizeContent));\n      editor.on('remove', function () {\n        elementLoad.clear();\n      });\n    };\n    var render = function (editor, uiComponents, rawUiConfig, backstage, args) {\n      var mothership = uiComponents.mothership, uiMothership = uiComponents.uiMothership, outerContainer = uiComponents.outerContainer;\n      var floatContainer = Cell(null);\n      var targetElm = SugarElement.fromDom(args.targetNode);\n      var ui = InlineHeader(editor, targetElm, uiComponents, backstage, floatContainer);\n      var toolbarPersist = isToolbarPersist(editor);\n      inline(editor);\n      var render = function () {\n        if (floatContainer.get()) {\n          ui.show();\n          return;\n        }\n        floatContainer.set(OuterContainer.getHeader(outerContainer).getOrDie());\n        var uiContainer = getUiContainer(editor);\n        attachSystem(uiContainer, mothership);\n        attachSystem(uiContainer, uiMothership);\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        ui.show();\n        setupEvents(editor, targetElm, ui, toolbarPersist);\n        editor.nodeChanged();\n      };\n      var delayedRender = function () {\n        return global$f.setEditorTimeout(editor, render, 0);\n      };\n      editor.on('show', render);\n      editor.on('hide', ui.hide);\n      if (!toolbarPersist) {\n        editor.on('focus', delayedRender);\n        editor.on('blur', ui.hide);\n      }\n      editor.on('init', function () {\n        if (editor.hasFocus() || toolbarPersist) {\n          delayedRender();\n        }\n      });\n      setupReadonlyModeSwitch(editor, uiComponents);\n      var api = {\n        show: function () {\n          ui.show();\n        },\n        hide: function () {\n          ui.hide();\n        },\n        enable: function () {\n          broadcastReadonly(uiComponents, false);\n        },\n        disable: function () {\n          broadcastReadonly(uiComponents, true);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(outerContainer);\n        }\n      };\n      return {\n        editorContainer: outerContainer.element.dom,\n        api: api\n      };\n    };\n\n    var Inline = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render\n    });\n\n    var showContextToolbarEvent = 'contexttoolbar-show';\n    var hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    var getFormApi = function (input) {\n      return {\n        hide: function () {\n          return emit(input, sandboxClose());\n        },\n        getValue: function () {\n          return Representing.getValue(input);\n        }\n      };\n    };\n    var runOnExecute = function (memInput, original) {\n      return run$1(internalToolbarButtonExecute, function (comp, se) {\n        var input = memInput.get(comp);\n        var formApi = getFormApi(input);\n        original.onAction(formApi, se.event.buttonApi);\n      });\n    };\n    var renderContextButton = function (memInput, button, extras) {\n      var _a = button.original; _a.primary; var rest = __rest(_a, ['primary']);\n      var bridged = getOrDie(createToolbarButton(__assign(__assign({}, rest), {\n        type: 'button',\n        onAction: noop\n      })));\n      return renderToolbarButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    var renderContextToggleButton = function (memInput, button, extras) {\n      var _a = button.original; _a.primary; var rest = __rest(_a, ['primary']);\n      var bridged = getOrDie(createToggleButton(__assign(__assign({}, rest), {\n        type: 'togglebutton',\n        onAction: noop\n      })));\n      return renderToolbarToggleButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    var generateOne = function (memInput, button, providersBackstage) {\n      var extras = { backstage: { shared: { providers: providersBackstage } } };\n      if (button.type === 'contextformtogglebutton') {\n        return renderContextToggleButton(memInput, button, extras);\n      } else {\n        return renderContextButton(memInput, button, extras);\n      }\n    };\n    var generate = function (memInput, buttons, providersBackstage) {\n      var mementos = map$2(buttons, function (button) {\n        return record(generateOne(memInput, button, providersBackstage));\n      });\n      var asSpecs = function () {\n        return map$2(mementos, function (mem) {\n          return mem.asSpec();\n        });\n      };\n      var findPrimary = function (compInSystem) {\n        return findMap(buttons, function (button, i) {\n          if (button.primary) {\n            return Optional.from(mementos[i]).bind(function (mem) {\n              return mem.getOpt(compInSystem);\n            }).filter(not(Disabling.isDisabled));\n          } else {\n            return Optional.none();\n          }\n        });\n      };\n      return {\n        asSpecs: asSpecs,\n        findPrimary: findPrimary\n      };\n    };\n\n    var buildInitGroups = function (ctx, providers) {\n      var inputAttributes = ctx.label.fold(function () {\n        return {};\n      }, function (label) {\n        return { 'aria-label': label };\n      });\n      var memInput = record(Input.sketch({\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        data: ctx.initValue(),\n        inputAttributes: inputAttributes,\n        selectOnFocus: true,\n        inputBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onEnter: function (input) {\n              return commands.findPrimary(input).map(function (primary) {\n                emitExecute(primary);\n                return true;\n              });\n            },\n            onLeft: function (comp, se) {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: function (comp, se) {\n              se.cut();\n              return Optional.none();\n            }\n          })])\n      }));\n      var commands = generate(memInput, ctx.commands, providers);\n      return [\n        {\n          title: Optional.none(),\n          items: [memInput.asSpec()]\n        },\n        {\n          title: Optional.none(),\n          items: commands.asSpecs()\n        }\n      ];\n    };\n    var renderContextForm = function (toolbarType, ctx, providers) {\n      return renderToolbar({\n        type: toolbarType,\n        uid: generate$6('context-toolbar'),\n        initGroups: buildInitGroups(ctx, providers),\n        onEscape: Optional.none,\n        cyclicKeying: true,\n        providers: providers\n      });\n    };\n    var ContextForm = {\n      renderContextForm: renderContextForm,\n      buildInitGroups: buildInitGroups\n    };\n\n    var isVerticalOverlap = function (a, b, threshold) {\n      if (threshold === void 0) {\n        threshold = 0.01;\n      }\n      return b.bottom - a.y >= threshold && a.bottom - b.y >= threshold;\n    };\n    var getRangeRect = function (rng) {\n      var rect = rng.getBoundingClientRect();\n      if (rect.height <= 0 && rect.width <= 0) {\n        var leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset).element;\n        var elm = isText$1(leaf$1) ? parent(leaf$1) : Optional.some(leaf$1);\n        return elm.filter(isElement$2).map(function (e) {\n          return e.dom.getBoundingClientRect();\n        }).getOr(rect);\n      } else {\n        return rect;\n      }\n    };\n    var getSelectionBounds = function (editor) {\n      var rng = editor.selection.getRng();\n      var rect = getRangeRect(rng);\n      if (editor.inline) {\n        var scroll_1 = get$9();\n        return bounds(scroll_1.left + rect.left, scroll_1.top + rect.top, rect.width, rect.height);\n      } else {\n        var bodyPos = absolute$2(SugarElement.fromDom(editor.getBody()));\n        return bounds(bodyPos.x + rect.left, bodyPos.y + rect.top, rect.width, rect.height);\n      }\n    };\n    var getAnchorElementBounds = function (editor, lastElement) {\n      return lastElement.filter(inBody).map(absolute$2).getOrThunk(function () {\n        return getSelectionBounds(editor);\n      });\n    };\n    var getHorizontalBounds = function (contentAreaBox, viewportBounds, margin) {\n      var x = Math.max(contentAreaBox.x + margin, viewportBounds.x);\n      var right = Math.min(contentAreaBox.right - margin, viewportBounds.right);\n      return {\n        x: x,\n        width: right - x\n      };\n    };\n    var getVerticalBounds = function (editor, contentAreaBox, viewportBounds, isToolbarLocationTop, toolbarType, margin) {\n      var container = SugarElement.fromDom(editor.getContainer());\n      var header = descendant(container, '.tox-editor-header').getOr(container);\n      var headerBox = box$1(header);\n      var isToolbarBelowContentArea = headerBox.y >= contentAreaBox.bottom;\n      var isToolbarAbove = isToolbarLocationTop && !isToolbarBelowContentArea;\n      if (editor.inline && isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: viewportBounds.bottom\n        };\n      }\n      if (editor.inline && !isToolbarAbove) {\n        return {\n          y: viewportBounds.y,\n          bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n        };\n      }\n      var containerBounds = toolbarType === 'line' ? box$1(container) : contentAreaBox;\n      if (isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: Math.min(containerBounds.bottom - margin, viewportBounds.bottom)\n        };\n      }\n      return {\n        y: Math.max(containerBounds.y + margin, viewportBounds.y),\n        bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n      };\n    };\n    var getContextToolbarBounds = function (editor, sharedBackstage, toolbarType, margin) {\n      if (margin === void 0) {\n        margin = 0;\n      }\n      var viewportBounds = getBounds$3(window);\n      var contentAreaBox = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n      var toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      var _a = getHorizontalBounds(contentAreaBox, viewportBounds, margin), x = _a.x, width = _a.width;\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return bounds(x, viewportBounds.y, width, viewportBounds.height);\n      } else {\n        var isToolbarTop = sharedBackstage.header.isPositionedAtTop();\n        var _b = getVerticalBounds(editor, contentAreaBox, viewportBounds, isToolbarTop, toolbarType, margin), y = _b.y, bottom = _b.bottom;\n        return bounds(x, y, width, bottom - y);\n      }\n    };\n\n    var bubbleSize$1 = 12;\n    var bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top'],\n      inset: ['tox-pop--inset']\n    };\n    var anchorOverrides = {\n      maxHeightFunction: expandable$1(),\n      maxWidthFunction: expandable()\n    };\n    var isEntireElementSelected = function (editor, elem) {\n      var rng = editor.selection.getRng();\n      var leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      return rng.startContainer === rng.endContainer && rng.startOffset === rng.endOffset - 1 && eq(leaf$1.element, elem);\n    };\n    var preservePosition = function (elem, position, f) {\n      var currentPosition = getRaw(elem, 'position');\n      set$7(elem, 'position', position);\n      var result = f(elem);\n      currentPosition.each(function (pos) {\n        return set$7(elem, 'position', pos);\n      });\n      return result;\n    };\n    var shouldUseInsetLayouts = function (position) {\n      return position === 'node';\n    };\n    var determineInsetLayout = function (editor, contextbar, elem, data, bounds) {\n      var selectionBounds = getSelectionBounds(editor);\n      var isSameAnchorElement = data.lastElement().exists(function (prev) {\n        return eq(elem, prev);\n      });\n      if (isEntireElementSelected(editor, elem)) {\n        return isSameAnchorElement ? preserve : north;\n      } else if (isSameAnchorElement) {\n        return preservePosition(contextbar, data.getMode(), function () {\n          var isOverlapping = isVerticalOverlap(selectionBounds, box$1(contextbar));\n          return isOverlapping && !data.isReposition() ? flip$2 : preserve;\n        });\n      } else {\n        var yBounds = data.getMode() === 'fixed' ? bounds.y + get$9().top : bounds.y;\n        var contextbarHeight = get$b(contextbar) + bubbleSize$1;\n        return yBounds + contextbarHeight <= selectionBounds.y ? north : south;\n      }\n    };\n    var getAnchorSpec$2 = function (editor, mobile, data, position) {\n      var smartInsetLayout = function (elem) {\n        return function (anchor, element, bubbles, placee, bounds) {\n          var layout = determineInsetLayout(editor, placee, elem, data, bounds);\n          var newAnchor = __assign(__assign({}, anchor), {\n            y: bounds.y,\n            height: bounds.height\n          });\n          return __assign(__assign({}, layout(newAnchor, element, bubbles, placee, bounds)), { alwaysFit: true });\n        };\n      };\n      var getInsetLayouts = function (elem) {\n        return shouldUseInsetLayouts(position) ? [smartInsetLayout(elem)] : [];\n      };\n      var desktopAnchorSpecLayouts = {\n        onLtr: function (elem) {\n          return [\n            north$2,\n            south$2,\n            northeast$2,\n            southeast$2,\n            northwest$2,\n            southwest$2\n          ].concat(getInsetLayouts(elem));\n        },\n        onRtl: function (elem) {\n          return [\n            north$2,\n            south$2,\n            northwest$2,\n            southwest$2,\n            northeast$2,\n            southeast$2\n          ].concat(getInsetLayouts(elem));\n        }\n      };\n      var mobileAnchorSpecLayouts = {\n        onLtr: function (elem) {\n          return [\n            south$2,\n            southeast$2,\n            southwest$2,\n            northeast$2,\n            northwest$2,\n            north$2\n          ].concat(getInsetLayouts(elem));\n        },\n        onRtl: function (elem) {\n          return [\n            south$2,\n            southwest$2,\n            southeast$2,\n            northwest$2,\n            northeast$2,\n            north$2\n          ].concat(getInsetLayouts(elem));\n        }\n      };\n      return mobile ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts;\n    };\n    var getAnchorLayout = function (editor, position, isTouch, data) {\n      if (position === 'line') {\n        return {\n          bubble: nu$5(bubbleSize$1, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: function () {\n              return [east$2];\n            },\n            onRtl: function () {\n              return [west$2];\n            }\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$5(0, bubbleSize$1, bubbleAlignments$1, 1 / bubbleSize$1),\n          layouts: getAnchorSpec$2(editor, isTouch, data, position),\n          overrides: anchorOverrides\n        };\n      }\n    };\n\n    var matchTargetWith = function (elem, candidates) {\n      var ctxs = filter$2(candidates, function (toolbarApi) {\n        return toolbarApi.predicate(elem.dom);\n      });\n      var _a = partition$3(ctxs, function (t) {\n          return t.type === 'contexttoolbar';\n        }), pass = _a.pass, fail = _a.fail;\n      return {\n        contextToolbars: pass,\n        contextForms: fail\n      };\n    };\n    var filterByPositionForStartNode = function (toolbars) {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        var doesPositionExist = function (value) {\n          return exists(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var filterToolbarsByPosition = function (value) {\n          return filter$2(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var hasSelectionToolbars = doesPositionExist('selection');\n        var hasNodeToolbars = doesPositionExist('node');\n        if (hasSelectionToolbars || hasNodeToolbars) {\n          if (hasNodeToolbars && hasSelectionToolbars) {\n            var nodeToolbars = filterToolbarsByPosition('node');\n            var selectionToolbars = map$2(filterToolbarsByPosition('selection'), function (t) {\n              return __assign(__assign({}, t), { position: 'node' });\n            });\n            return nodeToolbars.concat(selectionToolbars);\n          } else {\n            return hasSelectionToolbars ? filterToolbarsByPosition('selection') : filterToolbarsByPosition('node');\n          }\n        } else {\n          return filterToolbarsByPosition('line');\n        }\n      }\n    };\n    var filterByPositionForAncestorNode = function (toolbars) {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        var findPosition_1 = function (value) {\n          return find$5(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var basePosition = findPosition_1('selection').orThunk(function () {\n          return findPosition_1('node');\n        }).orThunk(function () {\n          return findPosition_1('line');\n        }).map(function (t) {\n          return t.position;\n        });\n        return basePosition.fold(function () {\n          return [];\n        }, function (pos) {\n          return filter$2(toolbars, function (t) {\n            return t.position === pos;\n          });\n        });\n      }\n    };\n    var matchStartNode = function (elem, nodeCandidates, editorCandidates) {\n      var nodeMatches = matchTargetWith(elem, nodeCandidates);\n      if (nodeMatches.contextForms.length > 0) {\n        return Optional.some({\n          elem: elem,\n          toolbars: [nodeMatches.contextForms[0]]\n        });\n      } else {\n        var editorMatches = matchTargetWith(elem, editorCandidates);\n        if (editorMatches.contextForms.length > 0) {\n          return Optional.some({\n            elem: elem,\n            toolbars: [editorMatches.contextForms[0]]\n          });\n        } else if (nodeMatches.contextToolbars.length > 0 || editorMatches.contextToolbars.length > 0) {\n          var toolbars = filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));\n          return Optional.some({\n            elem: elem,\n            toolbars: toolbars\n          });\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    var matchAncestor = function (isRoot, startNode, scopes) {\n      if (isRoot(startNode)) {\n        return Optional.none();\n      } else {\n        return ancestor$2(startNode, function (ancestorElem) {\n          if (isElement$2(ancestorElem)) {\n            var _a = matchTargetWith(ancestorElem, scopes.inNodeScope), contextToolbars = _a.contextToolbars, contextForms = _a.contextForms;\n            var toolbars = contextForms.length > 0 ? contextForms : filterByPositionForAncestorNode(contextToolbars);\n            return toolbars.length > 0 ? Optional.some({\n              elem: ancestorElem,\n              toolbars: toolbars\n            }) : Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }, isRoot);\n      }\n    };\n    var lookup$1 = function (scopes, editor) {\n      var rootElem = SugarElement.fromDom(editor.getBody());\n      var isRoot = function (elem) {\n        return eq(elem, rootElem);\n      };\n      var isOutsideRoot = function (startNode) {\n        return !isRoot(startNode) && !contains(rootElem, startNode);\n      };\n      var startNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isOutsideRoot(startNode)) {\n        return Optional.none();\n      }\n      return matchStartNode(startNode, scopes.inNodeScope, scopes.inEditorScope).orThunk(function () {\n        return matchAncestor(isRoot, startNode, scopes);\n      });\n    };\n\n    var categorise = function (contextToolbars, navigate) {\n      var forms = {};\n      var inNodeScope = [];\n      var inEditorScope = [];\n      var formNavigators = {};\n      var lookupTable = {};\n      var registerForm = function (key, toolbarSpec) {\n        var contextForm = getOrDie(createContextForm(toolbarSpec));\n        forms[key] = contextForm;\n        contextForm.launch.map(function (launch) {\n          formNavigators['form:' + key + ''] = __assign(__assign({}, toolbarSpec.launch), {\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: function () {\n              navigate(contextForm);\n            }\n          });\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      var registerToolbar = function (key, toolbarSpec) {\n        createContextToolbar(toolbarSpec).each(function (contextToolbar) {\n          if (toolbarSpec.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      var keys$1 = keys(contextToolbars);\n      each$1(keys$1, function (key) {\n        var toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms: forms,\n        inNodeScope: inNodeScope,\n        inEditorScope: inEditorScope,\n        lookupTable: lookupTable,\n        formNavigators: formNavigators\n      };\n    };\n\n    var forwardSlideEvent = generate$6('forward-slide');\n    var backSlideEvent = generate$6('backward-slide');\n    var changeSlideEvent = generate$6('change-slide-event');\n    var resizingClass = 'tox-pop--resizing';\n    var renderContextToolbar = function (spec) {\n      var stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: function (comp) {\n          stack.set([]);\n          InlineView.getContent(comp).each(function (c) {\n            remove$6(c.element, 'visibility');\n          });\n          remove$2(comp.element, resizingClass);\n          remove$6(comp.element, 'width');\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), function (comp, se) {\n              if (se.event.raw.propertyName === 'width') {\n                remove$2(comp.element, resizingClass);\n                remove$6(comp.element, 'width');\n              }\n            }),\n            run$1(changeSlideEvent, function (comp, se) {\n              var elem = comp.element;\n              remove$6(elem, 'width');\n              var currentWidth = get$a(elem);\n              InlineView.setContent(comp, se.event.contents);\n              add$2(elem, resizingClass);\n              var newWidth = get$a(elem);\n              set$7(elem, 'width', currentWidth + 'px');\n              InlineView.getContent(comp).each(function (newContents) {\n                se.event.focus.bind(function (f) {\n                  focus$3(f);\n                  return search(elem);\n                }).orThunk(function () {\n                  Keying.focusIn(newContents);\n                  return active(getRootNode(elem));\n                });\n              });\n              global$f.setTimeout(function () {\n                set$7(comp.element, 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run$1(forwardSlideEvent, function (comp, se) {\n              InlineView.getContent(comp).each(function (oldContents) {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active(getRootNode(comp.element))\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event.forwardContents,\n                focus: Optional.none()\n              });\n            }),\n            run$1(backSlideEvent, function (comp, _se) {\n              last$2(stack.get()).each(function (last) {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: function (comp) {\n              return last$2(stack.get()).fold(function () {\n                return spec.onEscape();\n              }, function (_) {\n                emit(comp, backSlideEvent);\n                return Optional.some(true);\n              });\n            }\n          })\n        ]),\n        lazySink: function () {\n          return Result.value(spec.sink);\n        }\n      });\n    };\n\n    var transitionClass = 'tox-pop--transition';\n    var register$7 = function (editor, registryContextToolbars, sink, extras) {\n      var backstage = extras.backstage;\n      var sharedBackstage = backstage.shared;\n      var isTouch = detect$1().deviceType.isTouch;\n      var lastElement = value$1();\n      var lastTrigger = value$1();\n      var lastContextPosition = value$1();\n      var contextbar = build$1(renderContextToolbar({\n        sink: sink,\n        onEscape: function () {\n          editor.focus();\n          return Optional.some(true);\n        }\n      }));\n      var getBounds = function () {\n        var position = lastContextPosition.get().getOr('node');\n        var margin = shouldUseInsetLayouts(position) ? 1 : 0;\n        return getContextToolbarBounds(editor, sharedBackstage, position, margin);\n      };\n      var canLaunchToolbar = function () {\n        return !editor.removed && !(isTouch() && backstage.isContextMenuOpen());\n      };\n      var isSameLaunchElement = function (elem) {\n        return is$1(lift2(elem, lastElement.get(), eq), true);\n      };\n      var shouldContextToolbarHide = function () {\n        if (!canLaunchToolbar()) {\n          return true;\n        } else {\n          var contextToolbarBounds = getBounds();\n          var anchorBounds = is$1(lastContextPosition.get(), 'node') ? getAnchorElementBounds(editor, lastElement.get()) : getSelectionBounds(editor);\n          return contextToolbarBounds.height <= 0 || !isVerticalOverlap(anchorBounds, contextToolbarBounds);\n        }\n      };\n      var close = function () {\n        lastElement.clear();\n        lastTrigger.clear();\n        lastContextPosition.clear();\n        InlineView.hide(contextbar);\n      };\n      var hideOrRepositionIfNecessary = function () {\n        if (InlineView.isOpen(contextbar)) {\n          var contextBarEle = contextbar.element;\n          remove$6(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$7(contextBarEle, 'display', 'none');\n          } else {\n            lastTrigger.set(0);\n            InlineView.reposition(contextbar);\n          }\n        }\n      };\n      var wrapInPopDialog = function (toolbarSpec) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-pop__dialog']\n          },\n          components: [toolbarSpec],\n          behaviours: derive$1([\n            Keying.config({ mode: 'acyclic' }),\n            config('pop-dialog-wrap-events', [\n              runOnAttached(function (comp) {\n                editor.shortcuts.add('ctrl+F9', 'focus statusbar', function () {\n                  return Keying.focusIn(comp);\n                });\n              }),\n              runOnDetached(function (_comp) {\n                editor.shortcuts.remove('ctrl+F9');\n              })\n            ])\n          ])\n        };\n      };\n      var getScopes = cached(function () {\n        return categorise(registryContextToolbars, function (toolbarApi) {\n          var alloySpec = buildToolbar([toolbarApi]);\n          emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n        });\n      });\n      var buildContextToolbarGroups = function (allButtons, ctx) {\n        return identifyButtons(editor, {\n          buttons: allButtons,\n          toolbar: ctx.items,\n          allowToolbarGroups: false\n        }, extras, Optional.some(['form:']));\n      };\n      var buildContextFormGroups = function (ctx, providers) {\n        return ContextForm.buildInitGroups(ctx, providers);\n      };\n      var buildToolbar = function (toolbars) {\n        var buttons = editor.ui.registry.getAll().buttons;\n        var scopes = getScopes();\n        var allButtons = __assign(__assign({}, buttons), scopes.formNavigators);\n        var toolbarType = getToolbarMode(editor) === ToolbarMode.scrolling ? ToolbarMode.scrolling : ToolbarMode.default;\n        var initGroups = flatten(map$2(toolbars, function (ctx) {\n          return ctx.type === 'contexttoolbar' ? buildContextToolbarGroups(allButtons, ctx) : buildContextFormGroups(ctx, sharedBackstage.providers);\n        }));\n        return renderToolbar({\n          type: toolbarType,\n          uid: generate$6('context-toolbar'),\n          initGroups: initGroups,\n          onEscape: Optional.none,\n          cyclicKeying: true,\n          providers: sharedBackstage.providers\n        });\n      };\n      var getAnchor = function (position, element) {\n        var anchorage = position === 'node' ? sharedBackstage.anchors.node(element) : sharedBackstage.anchors.cursor();\n        var anchorLayout = getAnchorLayout(editor, position, isTouch(), {\n          lastElement: lastElement.get,\n          isReposition: function () {\n            return is$1(lastTrigger.get(), 0);\n          },\n          getMode: function () {\n            return Positioning.getMode(sink);\n          }\n        });\n        return deepMerge(anchorage, anchorLayout);\n      };\n      var launchContext = function (toolbarApi, elem) {\n        launchContextToolbar.cancel();\n        if (!canLaunchToolbar()) {\n          return;\n        }\n        var toolbarSpec = buildToolbar(toolbarApi);\n        var position = toolbarApi[0].position;\n        var anchor = getAnchor(position, elem);\n        lastContextPosition.set(position);\n        lastTrigger.set(1);\n        var contextBarEle = contextbar.element;\n        remove$6(contextBarEle, 'display');\n        if (!isSameLaunchElement(elem)) {\n          remove$2(contextBarEle, transitionClass);\n          Positioning.reset(sink, contextbar);\n        }\n        InlineView.showWithinBounds(contextbar, wrapInPopDialog(toolbarSpec), {\n          anchor: anchor,\n          transition: {\n            classes: [transitionClass],\n            mode: 'placement'\n          }\n        }, function () {\n          return Optional.some(getBounds());\n        });\n        elem.fold(lastElement.clear, lastElement.set);\n        if (shouldContextToolbarHide()) {\n          set$7(contextBarEle, 'display', 'none');\n        }\n      };\n      var launchContextToolbar = last(function () {\n        if (!editor.hasFocus() || editor.removed) {\n          return;\n        }\n        if (has(contextbar.element, transitionClass)) {\n          launchContextToolbar.throttle();\n        } else {\n          var scopes = getScopes();\n          lookup$1(scopes, editor).fold(close, function (info) {\n            launchContext(info.toolbars, Optional.some(info.elem));\n          });\n        }\n      }, 17);\n      editor.on('init', function () {\n        editor.on('remove', close);\n        editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup focus SetContent', launchContextToolbar.throttle);\n        editor.on(hideContextToolbarEvent, close);\n        editor.on(showContextToolbarEvent, function (e) {\n          var scopes = getScopes();\n          get$e(scopes.lookupTable, e.toolbarKey).each(function (ctx) {\n            launchContext([ctx], someIf(e.target !== editor, e.target));\n            InlineView.getContent(contextbar).each(Keying.focusIn);\n          });\n        });\n        editor.on('focusout', function (_e) {\n          global$f.setEditorTimeout(editor, function () {\n            if (search(sink.element).isNone() && search(contextbar.element).isNone()) {\n              close();\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', function () {\n          if (editor.mode.isReadOnly()) {\n            close();\n          }\n        });\n        editor.on('AfterProgressState', function (event) {\n          if (event.state) {\n            close();\n          } else if (editor.hasFocus()) {\n            launchContextToolbar.throttle();\n          }\n        });\n        editor.on('NodeChange', function (_e) {\n          search(contextbar.element).fold(launchContextToolbar.throttle, noop);\n        });\n      });\n    };\n\n    var register$6 = function (editor) {\n      var alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      each$1(alignToolbarButtons, function (item) {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          icon: item.icon,\n          onAction: onActionExecCommand(editor, item.cmd),\n          onSetup: onSetupFormatToggle(editor, item.name)\n        });\n      });\n      editor.ui.registry.addButton('alignnone', {\n        tooltip: 'No alignment',\n        icon: 'align-none',\n        onAction: onActionExecCommand(editor, 'JustifyNone')\n      });\n    };\n\n    var units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    var pattern = function () {\n      var decimalDigits = '[0-9]+';\n      var signedInteger = '[+-]?' + decimalDigits;\n      var exponentPart = '[eE]' + signedInteger;\n      var dot = '\\\\.';\n      var opt = function (input) {\n        return '(?:' + input + ')?';\n      };\n      var unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      var float = '[+-]?(?:' + unsignedDecimalLiteral + ')';\n      return new RegExp('^(' + float + ')(.*)$');\n    }();\n    var isUnit = function (unit, accepted) {\n      return exists(accepted, function (acc) {\n        return exists(units[acc], function (check) {\n          return unit === check;\n        });\n      });\n    };\n    var parse = function (input, accepted) {\n      var match = Optional.from(pattern.exec(input));\n      return match.bind(function (array) {\n        var value = Number(array[1]);\n        var unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value: value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var normalise = function (input, accepted) {\n      return parse(input, accepted).map(function (_a) {\n        var value = _a.value, unit = _a.unit;\n        return value + unit;\n      });\n    };\n\n    var registerController = function (editor, spec) {\n      var getMenuItems = function () {\n        var options = spec.getOptions(editor);\n        var initial = spec.getCurrent(editor).map(spec.hash);\n        var current = value$1();\n        return map$2(options, function (value) {\n          return {\n            type: 'togglemenuitem',\n            text: spec.display(value),\n            onSetup: function (api) {\n              var setActive = function (active) {\n                if (active) {\n                  current.on(function (oldApi) {\n                    return oldApi.setActive(false);\n                  });\n                  current.set(api);\n                }\n                api.setActive(active);\n              };\n              setActive(is$1(initial, spec.hash(value)));\n              var unbindWatcher = spec.watcher(editor, value, setActive);\n              return function () {\n                current.clear();\n                unbindWatcher();\n              };\n            },\n            onAction: function () {\n              return spec.setCurrent(editor, value);\n            }\n          };\n        });\n      };\n      editor.ui.registry.addMenuButton(spec.name, {\n        tooltip: spec.text,\n        icon: spec.icon,\n        fetch: function (callback) {\n          return callback(getMenuItems());\n        },\n        onSetup: spec.onToolbarSetup\n      });\n      editor.ui.registry.addNestedMenuItem(spec.name, {\n        type: 'nestedmenuitem',\n        text: spec.text,\n        getSubmenuItems: getMenuItems,\n        onSetup: spec.onMenuSetup\n      });\n    };\n    var lineHeightSpec = {\n      name: 'lineheight',\n      text: 'Line height',\n      icon: 'line-height',\n      getOptions: getLineHeightFormats,\n      hash: function (input) {\n        return normalise(input, [\n          'fixed',\n          'relative',\n          'empty'\n        ]).getOr(input);\n      },\n      display: identity$1,\n      watcher: function (editor, value, callback) {\n        return editor.formatter.formatChanged('lineheight', callback, false, { value: value }).unbind;\n      },\n      getCurrent: function (editor) {\n        return Optional.from(editor.queryCommandValue('LineHeight'));\n      },\n      setCurrent: function (editor, value) {\n        return editor.execCommand('LineHeight', false, value);\n      }\n    };\n    var languageSpec = function (editor) {\n      var settingsOpt = Optional.from(getContentLanguages(editor));\n      return settingsOpt.map(function (settings) {\n        return {\n          name: 'language',\n          text: 'Language',\n          icon: 'language',\n          getOptions: constant$1(settings),\n          hash: function (input) {\n            return isUndefined(input.customCode) ? input.code : input.code + '/' + input.customCode;\n          },\n          display: function (input) {\n            return input.title;\n          },\n          watcher: function (editor, value, callback) {\n            return editor.formatter.formatChanged('lang', callback, false, {\n              value: value.code,\n              customValue: value.customCode\n            }).unbind;\n          },\n          getCurrent: function (editor) {\n            var node = SugarElement.fromDom(editor.selection.getNode());\n            return closest$4(node, function (n) {\n              return Optional.some(n).filter(isElement$2).bind(function (ele) {\n                var codeOpt = getOpt(ele, 'lang');\n                return codeOpt.map(function (code) {\n                  var customCode = getOpt(ele, 'data-mce-lang').getOrUndefined();\n                  return {\n                    code: code,\n                    customCode: customCode,\n                    title: ''\n                  };\n                });\n              });\n            });\n          },\n          setCurrent: function (editor, lang) {\n            return editor.execCommand('Lang', false, lang);\n          },\n          onToolbarSetup: function (api) {\n            var unbinder = unbindable();\n            api.setActive(editor.formatter.match('lang', {}, undefined, true));\n            unbinder.set(editor.formatter.formatChanged('lang', api.setActive, true));\n            return unbinder.clear;\n          }\n        };\n      });\n    };\n    var register$5 = function (editor) {\n      registerController(editor, lineHeightSpec);\n      languageSpec(editor).each(function (spec) {\n        return registerController(editor, spec);\n      });\n    };\n\n    var register$4 = function (editor, backstage) {\n      alignSelectMenu(editor, backstage);\n      fontSelectMenu(editor, backstage);\n      styleSelectMenu(editor, backstage);\n      formatSelectMenu(editor, backstage);\n      fontsizeSelectMenu(editor, backstage);\n    };\n\n    var onSetupOutdentState = function (editor) {\n      return onSetupEvent(editor, 'NodeChange', function (api) {\n        api.setDisabled(!editor.queryCommandState('outdent'));\n      });\n    };\n    var registerButtons$2 = function (editor) {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: onSetupOutdentState(editor),\n        onAction: onActionExecCommand(editor, 'outdent')\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onAction: onActionExecCommand(editor, 'indent')\n      });\n    };\n    var register$3 = function (editor) {\n      registerButtons$2(editor);\n    };\n\n    var onActionToggleFormat = function (editor, fmt) {\n      return function () {\n        editor.execCommand('mceToggleFormat', false, fmt);\n      };\n    };\n    var registerFormatButtons = function (editor) {\n      global$5.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], function (btn, _idx) {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupFormatToggle(editor, btn.name),\n          onAction: onActionToggleFormat(editor, btn.name)\n        });\n      });\n      for (var i = 1; i <= 6; i++) {\n        var name_1 = 'h' + i;\n        editor.ui.registry.addToggleButton(name_1, {\n          text: name_1.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupFormatToggle(editor, name_1),\n          onAction: onActionToggleFormat(editor, name_1)\n        });\n      }\n    };\n    var registerCommandButtons = function (editor) {\n      global$5.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        }\n      ], function (btn) {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n    };\n    var registerCommandToggleButtons = function (editor) {\n      global$5.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], function (btn) {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          onSetup: onSetupFormatToggle(editor, btn.name)\n        });\n      });\n    };\n    var registerButtons$1 = function (editor) {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    var registerMenuItems$2 = function (editor) {\n      global$5.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through',\n          shortcut: ''\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript',\n          shortcut: ''\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript',\n          shortcut: ''\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting',\n          shortcut: ''\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document',\n          shortcut: ''\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        }\n      ], function (btn) {\n        editor.ui.registry.addMenuItem(btn.name, {\n          text: btn.text,\n          icon: btn.icon,\n          shortcut: btn.shortcut,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onAction: onActionToggleFormat(editor, 'code')\n      });\n    };\n    var register$2 = function (editor) {\n      registerButtons$1(editor);\n      registerMenuItems$2(editor);\n    };\n\n    var onSetupUndoRedoState = function (editor, type) {\n      return onSetupEvent(editor, 'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', function (api) {\n        api.setDisabled(editor.mode.isReadOnly() || !editor.undoManager[type]());\n      });\n    };\n    var registerMenuItems$1 = function (editor) {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    var registerButtons = function (editor) {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        disabled: true,\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        disabled: true,\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    var register$1 = function (editor) {\n      registerMenuItems$1(editor);\n      registerButtons(editor);\n    };\n\n    var onSetupVisualAidState = function (editor) {\n      return onSetupEvent(editor, 'VisualAid', function (api) {\n        api.setActive(editor.hasVisual);\n      });\n    };\n    var registerMenuItems = function (editor) {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: onSetupVisualAidState(editor),\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    var registerToolbarButton = function (editor) {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    var register = function (editor) {\n      registerToolbarButton(editor);\n      registerMenuItems(editor);\n    };\n\n    var setup$6 = function (editor, backstage) {\n      register$6(editor);\n      register$2(editor);\n      register$4(editor, backstage);\n      register$1(editor);\n      register$a(editor);\n      register(editor);\n      register$3(editor);\n      register$5(editor);\n    };\n\n    var nu = function (x, y) {\n      return {\n        type: 'makeshift',\n        x: x,\n        y: y\n      };\n    };\n    var transpose = function (pos, dx, dy) {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    var isTouchEvent = function (e) {\n      return e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    };\n    var fromPageXY = function (e) {\n      if (isTouchEvent(e)) {\n        var touch = e.touches[0];\n        return nu(touch.pageX, touch.pageY);\n      } else {\n        return nu(e.pageX, e.pageY);\n      }\n    };\n    var fromClientXY = function (e) {\n      if (isTouchEvent(e)) {\n        var touch = e.touches[0];\n        return nu(touch.clientX, touch.clientY);\n      } else {\n        return nu(e.clientX, e.clientY);\n      }\n    };\n    var transposeContentAreaContainer = function (element, pos) {\n      var containerPos = global$b.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    var getPointAnchor = function (editor, e) {\n      if (e.type === 'contextmenu' || e.type === 'longpress') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    var getSelectionAnchor = function (editor) {\n      return {\n        type: 'selection',\n        root: SugarElement.fromDom(editor.selection.getNode())\n      };\n    };\n    var getNodeAnchor = function (editor) {\n      return {\n        type: 'node',\n        node: Optional.some(SugarElement.fromDom(editor.selection.getNode())),\n        root: SugarElement.fromDom(editor.getBody())\n      };\n    };\n    var getAnchorSpec$1 = function (editor, e, anchorType) {\n      switch (anchorType) {\n      case 'node':\n        return getNodeAnchor(editor);\n      case 'point':\n        return getPointAnchor(editor, e);\n      case 'selection':\n        return getSelectionAnchor(editor);\n      }\n    };\n\n    var initAndShow$1 = function (editor, e, buildMenu, backstage, contextmenu, anchorType) {\n      var items = buildMenu();\n      var anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false).map(function (menuData) {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, { anchor: anchorSpec }, {\n          menu: { markers: markers('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    var layouts = {\n      onLtr: function () {\n        return [\n          south$2,\n          southeast$2,\n          southwest$2,\n          northeast$2,\n          northwest$2,\n          north$2,\n          north,\n          south,\n          northeast,\n          southeast,\n          northwest,\n          southwest\n        ];\n      },\n      onRtl: function () {\n        return [\n          south$2,\n          southwest$2,\n          southeast$2,\n          northwest$2,\n          northeast$2,\n          north$2,\n          north,\n          south,\n          northwest,\n          southwest,\n          northeast,\n          southeast\n        ];\n      }\n    };\n    var bubbleSize = 12;\n    var bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    var isTouchWithinSelection = function (editor, e) {\n      var selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        var touch_1 = e.touches[0];\n        var rng = selection.getRng();\n        var rngRectOpt = getFirstRect(editor.getWin(), SimSelection.domRange(rng));\n        return rngRectOpt.exists(function (rngRect) {\n          return rngRect.left <= touch_1.clientX && rngRect.right >= touch_1.clientX && rngRect.top <= touch_1.clientY && rngRect.bottom >= touch_1.clientY;\n        });\n      }\n    };\n    var setupiOSOverrides = function (editor) {\n      var originalSelection = editor.selection.getRng();\n      var selectionReset = function () {\n        global$f.setEditorTimeout(editor, function () {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      var preventMousedown = function (e) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      var clearSelectionReset = function () {\n        return unbindEventListeners();\n      };\n      editor.once('longpresscancel', clearSelectionReset);\n      var unbindEventListeners = function () {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    var getAnchorSpec = function (editor, e, anchorType) {\n      var anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      var bubbleYOffset = anchorType === 'point' ? bubbleSize : 0;\n      return __assign({\n        bubble: nu$5(0, bubbleYOffset, bubbleAlignments),\n        layouts: layouts,\n        overrides: {\n          maxWidthFunction: expandable(),\n          maxHeightFunction: expandable$1()\n        }\n      }, anchorSpec);\n    };\n    var show = function (editor, e, items, backstage, contextmenu, anchorType, highlightImmediately) {\n      var anchorSpec = getAnchorSpec(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, true).map(function (menuData) {\n        e.preventDefault();\n        InlineView.showMenuWithinBounds(contextmenu, { anchor: anchorSpec }, {\n          menu: {\n            markers: markers('normal'),\n            highlightImmediately: highlightImmediately\n          },\n          data: menuData,\n          type: 'horizontal'\n        }, function () {\n          return Optional.some(getContextToolbarBounds(editor, backstage.shared, anchorType === 'node' ? 'node' : 'selection'));\n        });\n        editor.fire(hideContextToolbarEvent);\n      });\n    };\n    var initAndShow = function (editor, e, buildMenu, backstage, contextmenu, anchorType) {\n      var detection = detect$1();\n      var isiOS = detection.os.isiOS();\n      var isOSX = detection.os.isOSX();\n      var isAndroid = detection.os.isAndroid();\n      var isTouch = detection.deviceType.isTouch();\n      var shouldHighlightImmediately = function () {\n        return !(isAndroid || isiOS || isOSX && isTouch);\n      };\n      var open = function () {\n        var items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, anchorType, shouldHighlightImmediately());\n      };\n      if ((isOSX || isiOS) && anchorType !== 'node') {\n        var openiOS_1 = function () {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS_1();\n        } else {\n          editor.once('selectionchange', openiOS_1);\n          editor.once('touchend', function () {\n            return editor.off('selectionchange', openiOS_1);\n          });\n        }\n      } else {\n        open();\n      }\n    };\n\n    var patchPipeConfig = function (config) {\n      return typeof config === 'string' ? config.split(/[ ,]/) : config;\n    };\n    var shouldNeverUseNative = function (editor) {\n      return editor.getParam('contextmenu_never_use_native', false, 'boolean');\n    };\n    var getMenuItems = function (editor, name, defaultItems) {\n      var contextMenus = editor.ui.registry.getAll().contextMenus;\n      return Optional.from(editor.getParam(name)).map(patchPipeConfig).getOrThunk(function () {\n        return filter$2(patchPipeConfig(defaultItems), function (item) {\n          return has$2(contextMenus, item);\n        });\n      });\n    };\n    var isContextMenuDisabled = function (editor) {\n      return editor.getParam('contextmenu') === false;\n    };\n    var getContextMenu = function (editor) {\n      return getMenuItems(editor, 'contextmenu', 'link linkchecker image imagetools table spellchecker configurepermanentpen');\n    };\n    var getAvoidOverlapSelector = function (editor) {\n      return editor.getParam('contextmenu_avoid_overlap', '', 'string');\n    };\n\n    var isSeparator = function (item) {\n      return isString(item) ? item === '|' : item.type === 'separator';\n    };\n    var separator = { type: 'separator' };\n    var makeContextItem = function (item) {\n      var commonMenuItem = function (item) {\n        return {\n          text: item.text,\n          icon: item.icon,\n          disabled: item.disabled,\n          shortcut: item.shortcut\n        };\n      };\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator;\n        case 'submenu':\n          return __assign(__assign({ type: 'nestedmenuitem' }, commonMenuItem(item)), {\n            getSubmenuItems: function () {\n              var items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map$2(items, makeContextItem);\n              }\n            }\n          });\n        default:\n          return __assign(__assign({ type: 'menuitem' }, commonMenuItem(item)), { onAction: noarg(item.onAction) });\n        }\n      }\n    };\n    var addContextMenuGroup = function (xs, groupItems) {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      var lastMenuItem = last$2(xs).filter(function (item) {\n        return !isSeparator(item);\n      });\n      var before = lastMenuItem.fold(function () {\n        return [];\n      }, function (_) {\n        return [separator];\n      });\n      return xs.concat(before).concat(groupItems).concat([separator]);\n    };\n    var generateContextMenu = function (contextMenus, menuConfig, selectedElement) {\n      var sections = foldl(menuConfig, function (acc, name) {\n        return get$e(contextMenus, name.toLowerCase()).map(function (menu) {\n          var items = menu.update(selectedElement);\n          if (isString(items)) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (items.length > 0) {\n            var allItems = map$2(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        }).getOrThunk(function () {\n          return acc.concat([name]);\n        });\n      }, []);\n      if (sections.length > 0 && isSeparator(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    var isNativeOverrideKeyEvent = function (editor, e) {\n      return e.ctrlKey && !shouldNeverUseNative(editor);\n    };\n    var isTriggeredByKeyboard = function (editor, e) {\n      return e.type !== 'longpress' && (e.button !== 2 || e.target === editor.getBody() && e.pointerType === '');\n    };\n    var getSelectedElement = function (editor, e) {\n      return isTriggeredByKeyboard(editor, e) ? editor.selection.getStart(true) : e.target;\n    };\n    var getAnchorType = function (editor, e) {\n      var selector = getAvoidOverlapSelector(editor);\n      var anchorType = isTriggeredByKeyboard(editor, e) ? 'selection' : 'point';\n      if (isNotEmpty(selector)) {\n        var target = getSelectedElement(editor, e);\n        var selectorExists = closest(SugarElement.fromDom(target), selector);\n        return selectorExists ? 'node' : anchorType;\n      } else {\n        return anchorType;\n      }\n    };\n    var setup$5 = function (editor, lazySink, backstage) {\n      var detection = detect$1();\n      var isTouch = detection.deviceType.isTouch;\n      var contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink: lazySink,\n        onEscape: function () {\n          return editor.focus();\n        },\n        onShow: function () {\n          return backstage.setContextMenuState(true);\n        },\n        onHide: function () {\n          return backstage.setContextMenuState(false);\n        },\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run$1(dismissRequested(), function (comp, _se) {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      var hideContextMenu = function (_e) {\n        return InlineView.hide(contextmenu);\n      };\n      var showContextMenu = function (e) {\n        if (shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || isContextMenuDisabled(editor)) {\n          return;\n        }\n        var anchorType = getAnchorType(editor, e);\n        var buildMenu = function () {\n          var selectedElement = getSelectedElement(editor, e);\n          var registry = editor.ui.registry.getAll();\n          var menuConfig = getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        var initAndShow$2 = isTouch() ? initAndShow : initAndShow$1;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, anchorType);\n      };\n      editor.on('init', function () {\n        var hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : ' ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on('longpress contextmenu', showContextMenu);\n      });\n    };\n\n    var adt = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    var subtract = function (change) {\n      return function (point) {\n        return point.translate(-change.left, -change.top);\n      };\n    };\n    var add = function (change) {\n      return function (point) {\n        return point.translate(change.left, change.top);\n      };\n    };\n    var transform = function (changes) {\n      return function (x, y) {\n        return foldl(changes, function (rest, f) {\n          return f(rest);\n        }, SugarPosition(x, y));\n      };\n    };\n    var asFixed = function (coord, scroll, origin) {\n      return coord.fold(transform([\n        add(origin),\n        subtract(scroll)\n      ]), transform([subtract(scroll)]), transform([]));\n    };\n    var asAbsolute = function (coord, scroll, origin) {\n      return coord.fold(transform([add(origin)]), transform([]), transform([add(scroll)]));\n    };\n    var asOffset = function (coord, scroll, origin) {\n      return coord.fold(transform([]), transform([subtract(origin)]), transform([\n        add(scroll),\n        subtract(origin)\n      ]));\n    };\n    var withinRange = function (coord1, coord2, xRange, yRange, scroll, origin) {\n      var a1 = asAbsolute(coord1, scroll, origin);\n      var a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left - a2.left) <= xRange && Math.abs(a1.top - a2.top) <= yRange;\n    };\n    var getDeltas = function (coord1, coord2, xRange, yRange, scroll, origin) {\n      var a1 = asAbsolute(coord1, scroll, origin);\n      var a2 = asAbsolute(coord2, scroll, origin);\n      var left = Math.abs(a1.left - a2.left);\n      var top = Math.abs(a1.top - a2.top);\n      return SugarPosition(left, top);\n    };\n    var toStyles = function (coord, scroll, origin) {\n      var stylesOpt = coord.fold(function (x, y) {\n        return {\n          position: Optional.some('absolute'),\n          left: Optional.some(x + 'px'),\n          top: Optional.some(y + 'px')\n        };\n      }, function (x, y) {\n        return {\n          position: Optional.some('absolute'),\n          left: Optional.some(x - origin.left + 'px'),\n          top: Optional.some(y - origin.top + 'px')\n        };\n      }, function (x, y) {\n        return {\n          position: Optional.some('fixed'),\n          left: Optional.some(x + 'px'),\n          top: Optional.some(y + 'px')\n        };\n      });\n      return __assign({\n        right: Optional.none(),\n        bottom: Optional.none()\n      }, stylesOpt);\n    };\n    var translate = function (coord, deltaX, deltaY) {\n      return coord.fold(function (x, y) {\n        return offset(x + deltaX, y + deltaY);\n      }, function (x, y) {\n        return absolute(x + deltaX, y + deltaY);\n      }, function (x, y) {\n        return fixed(x + deltaX, y + deltaY);\n      });\n    };\n    var absorb = function (partialCoord, originalCoord, scroll, origin) {\n      var absorbOne = function (stencil, nu) {\n        return function (optX, optY) {\n          var original = stencil(originalCoord, scroll, origin);\n          return nu(optX.getOr(original.left), optY.getOr(original.top));\n        };\n      };\n      return partialCoord.fold(absorbOne(asOffset, offset), absorbOne(asAbsolute, absolute), absorbOne(asFixed, fixed));\n    };\n    var offset = adt.offset;\n    var absolute = adt.absolute;\n    var fixed = adt.fixed;\n\n    var parseAttrToInt = function (element, name) {\n      var value = get$d(element, name);\n      return isUndefined(value) ? NaN : parseInt(value, 10);\n    };\n    var get = function (component, snapsInfo) {\n      var element = component.element;\n      var x = parseAttrToInt(element, snapsInfo.leftAttr);\n      var y = parseAttrToInt(element, snapsInfo.topAttr);\n      return isNaN(x) || isNaN(y) ? Optional.none() : Optional.some(SugarPosition(x, y));\n    };\n    var set = function (component, snapsInfo, pt) {\n      var element = component.element;\n      set$8(element, snapsInfo.leftAttr, pt.left + 'px');\n      set$8(element, snapsInfo.topAttr, pt.top + 'px');\n    };\n    var clear = function (component, snapsInfo) {\n      var element = component.element;\n      remove$7(element, snapsInfo.leftAttr);\n      remove$7(element, snapsInfo.topAttr);\n    };\n\n    var getCoords = function (component, snapInfo, coord, delta) {\n      return get(component, snapInfo).fold(function () {\n        return coord;\n      }, function (fixed$1) {\n        return fixed(fixed$1.left + delta.left, fixed$1.top + delta.top);\n      });\n    };\n    var moveOrSnap = function (component, snapInfo, coord, delta, scroll, origin) {\n      var newCoord = getCoords(component, snapInfo, coord, delta);\n      var snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      var fixedCoord = asFixed(newCoord, scroll, origin);\n      set(component, snapInfo, fixedCoord);\n      return snap.fold(function () {\n        return {\n          coord: fixed(fixedCoord.left, fixedCoord.top),\n          extra: Optional.none()\n        };\n      }, function (spanned) {\n        return {\n          coord: spanned.output,\n          extra: spanned.extra\n        };\n      });\n    };\n    var stopDrag = function (component, snapInfo) {\n      clear(component, snapInfo);\n    };\n    var findMatchingSnap = function (snaps, newCoord, scroll, origin) {\n      return findMap(snaps, function (snap) {\n        var sensor = snap.sensor;\n        var inRange = withinRange(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n        return inRange ? Optional.some({\n          output: absorb(snap.output, newCoord, scroll, origin),\n          extra: snap.extra\n        }) : Optional.none();\n      });\n    };\n    var findClosestSnap = function (component, snapInfo, newCoord, scroll, origin) {\n      var snaps = snapInfo.getSnapPoints(component);\n      var matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(function () {\n        var bestSnap = foldl(snaps, function (acc, snap) {\n          var sensor = snap.sensor;\n          var deltas = getDeltas(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n          return acc.deltas.fold(function () {\n            return {\n              deltas: Optional.some(deltas),\n              snap: Optional.some(snap)\n            };\n          }, function (bestDeltas) {\n            var currAvg = (deltas.left + deltas.top) / 2;\n            var bestAvg = (bestDeltas.left + bestDeltas.top) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Optional.some(deltas),\n                snap: Optional.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Optional.none(),\n          snap: Optional.none()\n        });\n        return bestSnap.snap.map(function (snap) {\n          return {\n            output: absorb(snap.output, newCoord, scroll, origin),\n            extra: snap.extra\n          };\n        });\n      });\n    };\n    var findSnap = function (component, snapInfo, newCoord, scroll, origin) {\n      var snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    var snapTo$1 = function (snap, scroll, origin) {\n      return {\n        coord: absorb(snap.output, snap.output, scroll, origin),\n        extra: snap.extra\n      };\n    };\n\n    var snapTo = function (component, dragConfig, _state, snap) {\n      var target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        var doc = owner$4(component.element);\n        var scroll_1 = get$9(doc);\n        var origin_1 = getOrigin(target);\n        var snapPin = snapTo$1(snap, scroll_1, origin_1);\n        var styles = toStyles(snapPin.coord, scroll_1, origin_1);\n        setOptions(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        snapTo: snapTo\n    });\n\n    var initialAttribute = 'data-initial-z-index';\n    var resetZIndex = function (blocker) {\n      parent(blocker.element).filter(isElement$2).each(function (root) {\n        getOpt(root, initialAttribute).fold(function () {\n          return remove$6(root, 'z-index');\n        }, function (zIndex) {\n          return set$7(root, 'z-index', zIndex);\n        });\n        remove$7(root, initialAttribute);\n      });\n    };\n    var changeZIndex = function (blocker) {\n      parent(blocker.element).filter(isElement$2).each(function (root) {\n        getRaw(root, 'z-index').each(function (zindex) {\n          set$8(root, initialAttribute, zindex);\n        });\n        set$7(root, 'z-index', get$c(blocker.element, 'z-index'));\n      });\n    };\n    var instigate = function (anyComponent, blocker) {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    var discard = function (blocker) {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n    var createComponent = function (component, blockerClass, blockerEvents) {\n      return component.getSystem().build(Container.sketch({\n        dom: {\n          styles: {\n            'left': '0px',\n            'top': '0px',\n            'width': '100%',\n            'height': '100%',\n            'position': 'fixed',\n            'z-index': '1000000000000000'\n          },\n          classes: [blockerClass]\n        },\n        events: blockerEvents\n      }));\n    };\n\n    var SnapSchema = optionObjOf('snaps', [\n      required$1('getSnapPoints'),\n      onHandler('onSensor'),\n      required$1('leftAttr'),\n      required$1('topAttr'),\n      defaulted('lazyViewport', win),\n      defaulted('mustSnap', false)\n    ]);\n\n    var schema$6 = [\n      defaulted('useFixed', never),\n      required$1('blockerClass'),\n      defaulted('getTarget', identity$1),\n      defaulted('onDrag', noop),\n      defaulted('repositionTarget', true),\n      defaulted('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema\n    ];\n\n    var getCurrentCoord = function (target) {\n      return lift3(getRaw(target, 'left'), getRaw(target, 'top'), getRaw(target, 'position'), function (left, top, position) {\n        var nu = position === 'fixed' ? fixed : offset;\n        return nu(parseInt(left, 10), parseInt(top, 10));\n      }).getOrThunk(function () {\n        var location = absolute$3(target);\n        return absolute(location.left, location.top);\n      });\n    };\n    var clampCoords = function (component, coords, scroll, origin, startData) {\n      var bounds = startData.bounds;\n      var absoluteCoord = asAbsolute(coords, scroll, origin);\n      var newX = clamp$1(absoluteCoord.left, bounds.x, bounds.x + bounds.width - startData.width);\n      var newY = clamp$1(absoluteCoord.top, bounds.y, bounds.y + bounds.height - startData.height);\n      var newCoords = absolute(newX, newY);\n      return coords.fold(function () {\n        var offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left, offset$1.top);\n      }, constant$1(newCoords), function () {\n        var fixed$1 = asFixed(newCoords, scroll, origin);\n        return fixed(fixed$1.left, fixed$1.top);\n      });\n    };\n    var calcNewCoord = function (component, optSnaps, currentCoord, scroll, origin, delta, startData) {\n      var newCoord = optSnaps.fold(function () {\n        var translated = translate(currentCoord, delta.left, delta.top);\n        var fixedCoord = asFixed(translated, scroll, origin);\n        return fixed(fixedCoord.left, fixedCoord.top);\n      }, function (snapInfo) {\n        var snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(function (extra) {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    var dragBy = function (component, dragConfig, startData, delta) {\n      var target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        var doc = owner$4(component.element);\n        var scroll_1 = get$9(doc);\n        var origin_1 = getOrigin(target);\n        var currentCoord = getCurrentCoord(target);\n        var newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll_1, origin_1, delta, startData);\n        var styles = toStyles(newCoord, scroll_1, origin_1);\n        setOptions(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    var calcStartData = function (dragConfig, comp) {\n      return {\n        bounds: dragConfig.getBounds(),\n        height: getOuter$2(comp.element),\n        width: getOuter$1(comp.element)\n      };\n    };\n    var move = function (component, dragConfig, dragState, dragMode, event) {\n      var delta = dragState.update(dragMode, event);\n      var dragStartData = dragState.getStartData().getOrThunk(function () {\n        return calcStartData(dragConfig, component);\n      });\n      delta.each(function (dlt) {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    };\n    var stop = function (component, blocker, dragConfig, dragState) {\n      blocker.each(discard);\n      dragConfig.snaps.each(function (snapInfo) {\n        stopDrag(component, snapInfo);\n      });\n      var target = dragConfig.getTarget(component.element);\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    };\n    var handlers = function (events) {\n      return function (dragConfig, dragState) {\n        var updateStartState = function (comp) {\n          dragState.setStartData(calcStartData(dragConfig, comp));\n        };\n        return derive$2(__spreadArray([run$1(windowScroll(), function (comp) {\n            dragState.getStartData().each(function () {\n              return updateStartState(comp);\n            });\n          })], events(dragConfig, dragState, updateStartState), true));\n      };\n    };\n\n    var init$2 = function (dragApi) {\n      return derive$2([\n        run$1(mousedown(), dragApi.forceDrop),\n        run$1(mouseup(), dragApi.drop),\n        run$1(mousemove(), function (comp, simulatedEvent) {\n          dragApi.move(simulatedEvent.event);\n        }),\n        run$1(mouseout(), dragApi.delayDrop)\n      ]);\n    };\n\n    var getData$1 = function (event) {\n      return Optional.from(SugarPosition(event.x, event.y));\n    };\n    var getDelta$1 = function (old, nu) {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    var events$2 = function (dragConfig, dragState, updateStartState) {\n      return [run$1(mousedown(), function (component, simulatedEvent) {\n          var raw = simulatedEvent.event.raw;\n          if (raw.button !== 0) {\n            return;\n          }\n          simulatedEvent.stop();\n          var stop$1 = function () {\n            return stop(component, Optional.some(blocker), dragConfig, dragState);\n          };\n          var delayDrop = DelayedFunction(stop$1, 200);\n          var dragApi = {\n            drop: stop$1,\n            delayDrop: delayDrop.schedule,\n            forceDrop: stop$1,\n            move: function (event) {\n              delayDrop.cancel();\n              move(component, dragConfig, dragState, MouseData, event);\n            }\n          };\n          var blocker = createComponent(component, dragConfig.blockerClass, init$2(dragApi));\n          var start = function () {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        })];\n    };\n    var schema$5 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events$2) })], false);\n\n    var init$1 = function (dragApi) {\n      return derive$2([\n        run$1(touchstart(), dragApi.forceDrop),\n        run$1(touchend(), dragApi.drop),\n        run$1(touchcancel(), dragApi.drop),\n        run$1(touchmove(), function (comp, simulatedEvent) {\n          dragApi.move(simulatedEvent.event);\n        })\n      ]);\n    };\n\n    var getDataFrom = function (touches) {\n      var touch = touches[0];\n      return Optional.some(SugarPosition(touch.clientX, touch.clientY));\n    };\n    var getData = function (event) {\n      var raw = event.raw;\n      var touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Optional.none();\n    };\n    var getDelta = function (old, nu) {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData,\n        getDelta: getDelta\n    });\n\n    var events$1 = function (dragConfig, dragState, updateStartState) {\n      var blockerSingleton = value$1();\n      var stopBlocking = function (component) {\n        stop(component, blockerSingleton.get(), dragConfig, dragState);\n        blockerSingleton.clear();\n      };\n      return [\n        run$1(touchstart(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          var stop = function () {\n            return stopBlocking(component);\n          };\n          var dragApi = {\n            drop: stop,\n            delayDrop: noop,\n            forceDrop: stop,\n            move: function (event) {\n              move(component, dragConfig, dragState, TouchData, event);\n            }\n          };\n          var blocker = createComponent(component, dragConfig.blockerClass, init$1(dragApi));\n          blockerSingleton.set(blocker);\n          var start = function () {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        }),\n        run$1(touchmove(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          move(component, dragConfig, dragState, TouchData, simulatedEvent.event);\n        }),\n        run$1(touchend(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          stopBlocking(component);\n        }),\n        run$1(touchcancel(), stopBlocking)\n      ];\n    };\n    var schema$4 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events$1) })], false);\n\n    var events = function (dragConfig, dragState, updateStartState) {\n      return __spreadArray(__spreadArray([], events$2(dragConfig, dragState, updateStartState), true), events$1(dragConfig, dragState, updateStartState), true);\n    };\n    var schema$3 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events) })], false);\n\n    var mouse = schema$5;\n    var touch = schema$4;\n    var mouseOrTouch = schema$3;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        mouse: mouse,\n        touch: touch,\n        mouseOrTouch: mouseOrTouch\n    });\n\n    var init = function () {\n      var previous = Optional.none();\n      var startData = Optional.none();\n      var reset = function () {\n        previous = Optional.none();\n        startData = Optional.none();\n      };\n      var calculateDelta = function (mode, nu) {\n        var result = previous.map(function (old) {\n          return mode.getDelta(old, nu);\n        });\n        previous = Optional.some(nu);\n        return result;\n      };\n      var update = function (mode, dragEvent) {\n        return mode.getData(dragEvent).bind(function (nuData) {\n          return calculateDelta(mode, nuData);\n        });\n      };\n      var setStartData = function (data) {\n        startData = Optional.some(data);\n      };\n      var getStartData = function () {\n        return startData;\n      };\n      var readState = constant$1({});\n      return nu$8({\n        readState: readState,\n        reset: reset,\n        update: update,\n        getStartData: getStartData,\n        setStartData: setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init\n    });\n\n    var Dragging = createModes({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: function (dragConfig, dragState) {\n          var dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: function (sConfig) {\n          return {\n            sensor: sConfig.sensor,\n            range: sConfig.range,\n            output: sConfig.output,\n            extra: Optional.from(sConfig.extra)\n          };\n        }\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    var snapWidth = 40;\n    var snapOffset = snapWidth / 2;\n    var calcSnap = function (selectorOpt, td, x, y, width, height) {\n      return selectorOpt.fold(function () {\n        return Dragging.snap({\n          sensor: absolute(x - snapOffset, y - snapOffset),\n          range: SugarPosition(width, height),\n          output: absolute(Optional.some(x), Optional.some(y)),\n          extra: { td: td }\n        });\n      }, function (selectorHandle) {\n        var sensorLeft = x - snapOffset;\n        var sensorTop = y - snapOffset;\n        var sensorWidth = snapWidth;\n        var sensorHeight = snapWidth;\n        var rect = selectorHandle.element.dom.getBoundingClientRect();\n        return Dragging.snap({\n          sensor: absolute(sensorLeft, sensorTop),\n          range: SugarPosition(sensorWidth, sensorHeight),\n          output: absolute(Optional.some(x - rect.width / 2), Optional.some(y - rect.height / 2)),\n          extra: { td: td }\n        });\n      });\n    };\n    var getSnapsConfig = function (getSnapPoints, cell, onChange) {\n      var isSameCell = function (cellOpt, td) {\n        return cellOpt.exists(function (currentTd) {\n          return eq(currentTd, td);\n        });\n      };\n      return {\n        getSnapPoints: getSnapPoints,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: function (component, extra) {\n          var td = extra.td;\n          if (!isSameCell(cell.get(), td)) {\n            cell.set(td);\n            onChange(td);\n          }\n        },\n        mustSnap: true\n      };\n    };\n    var createSelector = function (snaps) {\n      return record(Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-selector']\n        },\n        buttonBehaviours: derive$1([\n          Dragging.config({\n            mode: 'mouseOrTouch',\n            blockerClass: 'blocker',\n            snaps: snaps\n          }),\n          Unselecting.config({})\n        ]),\n        eventOrder: {\n          mousedown: [\n            'dragging',\n            'alloy.base.behaviour'\n          ],\n          touchstart: [\n            'dragging',\n            'alloy.base.behaviour'\n          ]\n        }\n      }));\n    };\n    var setup$4 = function (editor, sink) {\n      var tlTds = Cell([]);\n      var brTds = Cell([]);\n      var isVisible = Cell(false);\n      var startCell = value$1();\n      var finishCell = value$1();\n      var getTopLeftSnap = function (td) {\n        var box = absolute$2(td);\n        return calcSnap(memTopLeft.getOpt(sink), td, box.x, box.y, box.width, box.height);\n      };\n      var getTopLeftSnaps = function () {\n        return map$2(tlTds.get(), function (td) {\n          return getTopLeftSnap(td);\n        });\n      };\n      var getBottomRightSnap = function (td) {\n        var box = absolute$2(td);\n        return calcSnap(memBottomRight.getOpt(sink), td, box.right, box.bottom, box.width, box.height);\n      };\n      var getBottomRightSnaps = function () {\n        return map$2(brTds.get(), function (td) {\n          return getBottomRightSnap(td);\n        });\n      };\n      var topLeftSnaps = getSnapsConfig(getTopLeftSnaps, startCell, function (start) {\n        finishCell.get().each(function (finish) {\n          editor.fire('TableSelectorChange', {\n            start: start,\n            finish: finish\n          });\n        });\n      });\n      var bottomRightSnaps = getSnapsConfig(getBottomRightSnaps, finishCell, function (finish) {\n        startCell.get().each(function (start) {\n          editor.fire('TableSelectorChange', {\n            start: start,\n            finish: finish\n          });\n        });\n      });\n      var memTopLeft = createSelector(topLeftSnaps);\n      var memBottomRight = createSelector(bottomRightSnaps);\n      var topLeft = build$1(memTopLeft.asSpec());\n      var bottomRight = build$1(memBottomRight.asSpec());\n      var showOrHideHandle = function (selector, cell, isAbove, isBelow) {\n        var cellRect = cell.dom.getBoundingClientRect();\n        remove$6(selector.element, 'display');\n        var viewportHeight = defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;\n        var aboveViewport = isAbove(cellRect);\n        var belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$7(selector.element, 'display', 'none');\n        }\n      };\n      var snapTo = function (selector, cell, getSnapConfig, pos) {\n        var snap = getSnapConfig(cell);\n        Dragging.snapTo(selector, snap);\n        var isAbove = function (rect) {\n          return rect[pos] < 0;\n        };\n        var isBelow = function (rect, viewportHeight) {\n          return rect[pos] > viewportHeight;\n        };\n        showOrHideHandle(selector, cell, isAbove, isBelow);\n      };\n      var snapTopLeft = function (cell) {\n        return snapTo(topLeft, cell, getTopLeftSnap, 'top');\n      };\n      var snapLastTopLeft = function () {\n        return startCell.get().each(snapTopLeft);\n      };\n      var snapBottomRight = function (cell) {\n        return snapTo(bottomRight, cell, getBottomRightSnap, 'bottom');\n      };\n      var snapLastBottomRight = function () {\n        return finishCell.get().each(snapBottomRight);\n      };\n      if (detect$1().deviceType.isTouch()) {\n        editor.on('TableSelectionChange', function (e) {\n          if (!isVisible.get()) {\n            attach(sink, topLeft);\n            attach(sink, bottomRight);\n            isVisible.set(true);\n          }\n          startCell.set(e.start);\n          finishCell.set(e.finish);\n          e.otherCells.each(function (otherCells) {\n            tlTds.set(otherCells.upOrLeftCells);\n            brTds.set(otherCells.downOrRightCells);\n            snapTopLeft(e.start);\n            snapBottomRight(e.finish);\n          });\n        });\n        editor.on('ResizeEditor ResizeWindow ScrollContent', function () {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('TableSelectionClear', function () {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n          startCell.clear();\n          finishCell.clear();\n        });\n      }\n    };\n\n    var isHidden = function (elm) {\n      if (elm.nodeType === 1) {\n        if (elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus')) {\n          return true;\n        }\n        if (elm.getAttribute('data-mce-type') === 'bookmark') {\n          return true;\n        }\n      }\n      return false;\n    };\n    var renderElementPath = function (editor, settings, providersBackstage) {\n      if (!settings.delimiter) {\n        settings.delimiter = '\\xBB';\n      }\n      var getDataPath = function (data) {\n        var parts = data || [];\n        var newPathElements = map$2(parts, function (part, index) {\n          return Button.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-statusbar__path-item'],\n              attributes: {\n                'role': 'button',\n                'data-index': index,\n                'tab-index': -1,\n                'aria-level': index + 1\n              },\n              innerHtml: part.name\n            },\n            action: function (_btn) {\n              editor.focus();\n              editor.selection.select(part.element);\n              editor.nodeChanged();\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.button(providersBackstage.isDisabled),\n              receivingConfig()\n            ])\n          });\n        });\n        var divider = {\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__path-divider'],\n            attributes: { 'aria-hidden': true },\n            innerHtml: ' ' + settings.delimiter + ' '\n          }\n        };\n        return foldl(newPathElements.slice(1), function (acc, element) {\n          var newAcc = acc;\n          newAcc.push(divider);\n          newAcc.push(element);\n          return newAcc;\n        }, [newPathElements[0]]);\n      };\n      var updatePath = function (parents) {\n        var newPath = [];\n        var i = parents.length;\n        while (i-- > 0) {\n          var parent_1 = parents[i];\n          if (parent_1.nodeType === 1 && !isHidden(parent_1)) {\n            var args = editor.fire('ResolveName', {\n              name: parent_1.nodeName.toLowerCase(),\n              target: parent_1\n            });\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent_1\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Disabling.config({ disabled: providersBackstage.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached(function (comp, _e) {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', function () {\n                return Keying.focusIn(comp);\n              });\n              editor.on('NodeChange', function (e) {\n                var newPath = updatePath(e.parents);\n                if (newPath.length > 0) {\n                  Replacing.set(comp, getDataPath(newPath));\n                } else {\n                  Replacing.set(comp, []);\n                }\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    var getDimensions = function (editor, deltas, resizeType, originalHeight, originalWidth) {\n      var dimensions = {};\n      dimensions.height = calcCappedSize(originalHeight + deltas.top, getMinHeightSetting(editor), getMaxHeightSetting(editor));\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth + deltas.left, getMinWidthSetting(editor), getMaxWidthSetting(editor));\n      }\n      return dimensions;\n    };\n    var resize = function (editor, deltas, resizeType) {\n      var container = SugarElement.fromDom(editor.getContainer());\n      var dimensions = getDimensions(editor, deltas, resizeType, get$b(container), get$a(container));\n      each(dimensions, function (val, dim) {\n        return set$7(container, dim, numToPx(val));\n      });\n      fireResizeEditor(editor);\n    };\n\n    var getResizeType = function (editor) {\n      var fallback = !editor.hasPlugin('autoresize');\n      var resize = editor.getParam('resize', fallback);\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n    var keyboardHandler = function (editor, resizeType, x, y) {\n      var scale = 20;\n      var delta = SugarPosition(x * scale, y * scale);\n      resize(editor, delta, resizeType);\n      return Optional.some(true);\n    };\n    var renderResizeHandler = function (editor, providersBackstage) {\n      var resizeType = getResizeType(editor);\n      if (resizeType === ResizeTypes.None) {\n        return Optional.none();\n      }\n      return Optional.some(render$3('resize-handle', {\n        tag: 'div',\n        classes: ['tox-statusbar__resize-handle'],\n        attributes: { title: providersBackstage.translate('Resize') },\n        behaviours: [\n          Dragging.config({\n            mode: 'mouse',\n            repositionTarget: false,\n            onDrag: function (_comp, _target, delta) {\n              return resize(editor, delta, resizeType);\n            },\n            blockerClass: 'tox-blocker'\n          }),\n          Keying.config({\n            mode: 'special',\n            onLeft: function () {\n              return keyboardHandler(editor, resizeType, -1, 0);\n            },\n            onRight: function () {\n              return keyboardHandler(editor, resizeType, 1, 0);\n            },\n            onUp: function () {\n              return keyboardHandler(editor, resizeType, 0, -1);\n            },\n            onDown: function () {\n              return keyboardHandler(editor, resizeType, 0, 1);\n            }\n          }),\n          Tabstopping.config({}),\n          Focusing.config({})\n        ]\n      }, providersBackstage.icons));\n    };\n\n    var renderWordCount = function (editor, providersBackstage) {\n      var _a;\n      var replaceCountText = function (comp, count, mode) {\n        return Replacing.set(comp, [text(providersBackstage.translate([\n            '{0} ' + mode,\n            count[mode]\n          ]))]);\n      };\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            runOnExecute$1(function (comp) {\n              var currentVal = Representing.getValue(comp);\n              var newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(function (comp) {\n              editor.on('wordCountUpdate', function (e) {\n                var mode = Representing.getValue(comp).mode;\n                Representing.setValue(comp, {\n                  mode: mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'alloy.base.behaviour',\n          'wordcount-events'\n        ], _a)\n      });\n    };\n\n    var renderStatusbar = function (editor, providersBackstage) {\n      var renderBranding = function () {\n        var label = global$e.translate([\n          'Powered by {0}',\n          'Tiny'\n        ]);\n        var linkHtml = '<a href=\"https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5\" rel=\"noopener\" target=\"_blank\" tabindex=\"-1\" aria-label=\"' + label + '\">' + label + '</a>';\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding'],\n            innerHtml: linkHtml\n          }\n        };\n      };\n      var getTextComponents = function () {\n        var components = [];\n        if (editor.getParam('elementpath', true, 'boolean')) {\n          components.push(renderElementPath(editor, {}, providersBackstage));\n        }\n        if (editor.hasPlugin('wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (editor.getParam('branding', true, 'boolean')) {\n          components.push(renderBranding());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-statusbar__text-container']\n              },\n              components: components\n            }];\n        }\n        return [];\n      };\n      var getComponents = function () {\n        var components = getTextComponents();\n        var resizeHandler = renderResizeHandler(editor, providersBackstage);\n        return components.concat(resizeHandler.toArray());\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    var setup$3 = function (editor) {\n      var _a;\n      var isInline = editor.inline;\n      var mode = isInline ? Inline : Iframe;\n      var header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      var lazyOuterContainer = Optional.none();\n      var platform = detect$1();\n      var isIE = platform.browser.isIE();\n      var platformClasses = isIE ? ['tox-platform-ie'] : [];\n      var isTouch = platform.deviceType.isTouch();\n      var touchPlatformClass = 'tox-platform-touch';\n      var deviceClasses = isTouch ? [touchPlatformClass] : [];\n      var isToolbarBottom = isToolbarLocationBottom(editor);\n      var uiContainer = getUiContainer(editor);\n      var dirAttributes = global$e.isRtl() ? { attributes: { dir: 'rtl' } } : {};\n      var verticalDirAttributes = { attributes: (_a = {}, _a[Attribute] = isToolbarBottom ? AttributeValue.BottomToTop : AttributeValue.TopToBottom, _a) };\n      var lazyHeader = function () {\n        return lazyOuterContainer.bind(OuterContainer.getHeader);\n      };\n      var isHeaderDocked = function () {\n        return header.isDocked(lazyHeader);\n      };\n      var resizeUiMothership = function () {\n        set$7(uiMothership.element, 'width', document.body.clientWidth + 'px');\n      };\n      var makeSinkDefinition = function () {\n        var isGridUiContainer = eq(body(), uiContainer) && get$c(uiContainer, 'display') === 'grid';\n        var sinkSpec = {\n          dom: __assign({\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-tinymce-aux'\n            ].concat(platformClasses).concat(deviceClasses)\n          }, dirAttributes),\n          behaviours: derive$1([Positioning.config({\n              useFixed: function () {\n                return isHeaderDocked();\n              }\n            })])\n        };\n        var reactiveWidthSpec = {\n          dom: { styles: { width: document.body.clientWidth + 'px' } },\n          events: derive$2([run$1(windowResize(), resizeUiMothership)])\n        };\n        return deepMerge(sinkSpec, isGridUiContainer ? reactiveWidthSpec : {});\n      };\n      var sink = build$1(makeSinkDefinition());\n      var lazySink = function () {\n        return Result.value(sink);\n      };\n      var memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      var lazyAnchorBar = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return memAnchorBar.getOpt(container);\n        }).getOrDie('Could not find a anchor bar element');\n      };\n      var lazyToolbar = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return OuterContainer.getToolbar(container);\n        }).getOrDie('Could not find more toolbar element');\n      };\n      var lazyThrobber = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return OuterContainer.getThrobber(container);\n        }).getOrDie('Could not find throbber element');\n      };\n      var backstage = init$7(sink, editor, lazyAnchorBar);\n      var partMenubar = OuterContainer.parts.menubar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-menubar']\n        },\n        backstage: backstage,\n        onEscape: function () {\n          editor.focus();\n        }\n      });\n      var toolbarMode = getToolbarMode(editor);\n      var partToolbar = OuterContainer.parts.toolbar(__assign({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar']\n        },\n        getSink: lazySink,\n        providers: backstage.shared.providers,\n        onEscape: function () {\n          editor.focus();\n        },\n        type: toolbarMode,\n        lazyToolbar: lazyToolbar,\n        lazyHeader: function () {\n          return lazyHeader().getOrDie('Could not find header element');\n        }\n      }, verticalDirAttributes));\n      var partMultipleToolbar = OuterContainer.parts['multiple-toolbar']({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        providers: backstage.shared.providers,\n        onEscape: function () {\n          editor.focus();\n        },\n        type: toolbarMode\n      });\n      var partSocket = OuterContainer.parts.socket({\n        dom: {\n          tag: 'div',\n          classes: ['tox-edit-area']\n        }\n      });\n      var partSidebar = OuterContainer.parts.sidebar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar']\n        }\n      });\n      var partThrobber = OuterContainer.parts.throbber({\n        dom: {\n          tag: 'div',\n          classes: ['tox-throbber']\n        },\n        backstage: backstage\n      });\n      var sb = editor.getParam('statusbar', true, 'boolean');\n      var statusbar = sb && !isInline ? Optional.some(renderStatusbar(editor, backstage.shared.providers)) : Optional.none();\n      var socketSidebarContainer = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar-wrap']\n        },\n        components: [\n          partSocket,\n          partSidebar\n        ]\n      };\n      var hasMultipleToolbar = isMultipleToolbars(editor);\n      var hasToolbar = isToolbarEnabled(editor);\n      var hasMenubar = isMenubarEnabled(editor);\n      var getPartToolbar = function () {\n        if (hasMultipleToolbar) {\n          return [partMultipleToolbar];\n        } else if (hasToolbar) {\n          return [partToolbar];\n        } else {\n          return [];\n        }\n      };\n      var partHeader = OuterContainer.parts.header({\n        dom: __assign({\n          tag: 'div',\n          classes: ['tox-editor-header']\n        }, verticalDirAttributes),\n        components: flatten([\n          hasMenubar ? [partMenubar] : [],\n          getPartToolbar(),\n          useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n        ]),\n        sticky: isStickyToolbar(editor),\n        editor: editor,\n        sharedBackstage: backstage.shared\n      });\n      var editorComponents = flatten([\n        isToolbarBottom ? [] : [partHeader],\n        isInline ? [] : [socketSidebarContainer],\n        isToolbarBottom ? [partHeader] : []\n      ]);\n      var editorContainer = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-editor-container']\n        },\n        components: editorComponents\n      };\n      var containerComponents = flatten([\n        [editorContainer],\n        isInline ? [] : statusbar.toArray(),\n        [partThrobber]\n      ]);\n      var isHidden = isDistractionFree(editor);\n      var attributes = __assign(__assign({ role: 'application' }, global$e.isRtl() ? { dir: 'rtl' } : {}), isHidden ? { 'aria-hidden': 'true' } : {});\n      var outerContainer = build$1(OuterContainer.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox',\n            'tox-tinymce'\n          ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(isToolbarBottom ? ['tox-tinymce--toolbar-bottom'] : []).concat(deviceClasses).concat(platformClasses),\n          styles: __assign({ visibility: 'hidden' }, isHidden ? {\n            opacity: '0',\n            border: '0'\n          } : {}),\n          attributes: attributes\n        },\n        components: containerComponents,\n        behaviours: derive$1([\n          receivingConfig(),\n          Disabling.config({ disableClass: 'tox-tinymce--disabled' }),\n          Keying.config({\n            mode: 'cyclic',\n            selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'\n          })\n        ])\n      }));\n      lazyOuterContainer = Optional.some(outerContainer);\n      editor.shortcuts.add('alt+F9', 'focus menubar', function () {\n        OuterContainer.focusMenubar(outerContainer);\n      });\n      editor.shortcuts.add('alt+F10', 'focus toolbar', function () {\n        OuterContainer.focusToolbar(outerContainer);\n      });\n      editor.addCommand('ToggleToolbarDrawer', function () {\n        OuterContainer.toggleToolbarDrawer(outerContainer);\n      });\n      editor.addQueryStateHandler('ToggleToolbarDrawer', function () {\n        return OuterContainer.isToolbarDrawerToggled(outerContainer);\n      });\n      var mothership = takeover(outerContainer);\n      var uiMothership = takeover(sink);\n      setup$b(editor, mothership, uiMothership);\n      var getUi = function () {\n        var channels = {\n          broadcastAll: uiMothership.broadcast,\n          broadcastOn: uiMothership.broadcastOn,\n          register: noop\n        };\n        return { channels: channels };\n      };\n      var setEditorSize = function () {\n        var parsedHeight = numToPx(getHeightWithFallback(editor));\n        var parsedWidth = numToPx(getWidthWithFallback(editor));\n        if (!editor.inline) {\n          if (isValidValue('div', 'width', parsedWidth)) {\n            set$7(outerContainer.element, 'width', parsedWidth);\n          }\n          if (isValidValue('div', 'height', parsedHeight)) {\n            set$7(outerContainer.element, 'height', parsedHeight);\n          } else {\n            set$7(outerContainer.element, 'height', '200px');\n          }\n        }\n        return parsedHeight;\n      };\n      var renderUI = function () {\n        header.setup(editor, backstage.shared, lazyHeader);\n        setup$6(editor, backstage);\n        setup$5(editor, lazySink, backstage);\n        setup$8(editor);\n        setup$7(editor, lazyThrobber, backstage.shared);\n        map$1(getToolbarGroups(editor), function (toolbarGroupButtonConfig, name) {\n          editor.ui.registry.addGroupToolbarButton(name, toolbarGroupButtonConfig);\n        });\n        var _a = editor.ui.registry.getAll(), buttons = _a.buttons, menuItems = _a.menuItems, contextToolbars = _a.contextToolbars, sidebars = _a.sidebars;\n        var toolbarOpt = getMultipleToolbarsSetting(editor);\n        var rawUiConfig = {\n          menuItems: menuItems,\n          menus: getMenus(editor),\n          menubar: getMenubar(editor),\n          toolbar: toolbarOpt.getOrThunk(function () {\n            return getToolbar(editor);\n          }),\n          allowToolbarGroups: toolbarMode === ToolbarMode.floating,\n          buttons: buttons,\n          sidebar: sidebars\n        };\n        register$7(editor, contextToolbars, sink, { backstage: backstage });\n        setup$4(editor, sink);\n        var elm = editor.getElement();\n        var height = setEditorSize();\n        var uiComponents = {\n          mothership: mothership,\n          uiMothership: uiMothership,\n          outerContainer: outerContainer\n        };\n        var args = {\n          targetNode: elm,\n          height: height\n        };\n        return mode.render(editor, uiComponents, rawUiConfig, backstage, args);\n      };\n      return {\n        mothership: mothership,\n        uiMothership: uiMothership,\n        backstage: backstage,\n        renderUI: renderUI,\n        getUi: getUi\n      };\n    };\n\n    var describedBy = function (describedElement, describeElement) {\n      var describeId = Optional.from(get$d(describedElement, 'id')).fold(function () {\n        var id = generate$6('dialog-describe');\n        set$8(describeElement, 'id', id);\n        return id;\n      }, identity$1);\n      set$8(describedElement, 'aria-describedby', describeId);\n    };\n\n    var labelledBy = function (labelledElement, labelElement) {\n      var labelId = getOpt(labelledElement, 'id').fold(function () {\n        var id = generate$6('dialog-label');\n        set$8(labelElement, 'id', id);\n        return id;\n      }, identity$1);\n      set$8(labelledElement, 'aria-labelledby', labelId);\n    };\n\n    var schema$2 = constant$1([\n      required$1('lazySink'),\n      option('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted('useTabstopAt', always),\n      defaulted('eventOrder', {}),\n      field('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    var basic = { sketch: identity$1 };\n    var parts$2 = constant$1([\n      optional({\n        name: 'draghandle',\n        overrides: function (detail, spec) {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: function (handle) {\n                  return ancestor(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [required$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'footer'\n      }),\n      external$1({\n        factory: {\n          sketch: function (spec, detail) {\n            return __assign(__assign({}, spec), {\n              dom: detail.dom,\n              components: detail.components\n            });\n          }\n        },\n        schema: [\n          defaulted('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    var factory$4 = function (detail, components, spec, externals) {\n      var _a;\n      var dialogComp = value$1();\n      var showDialog = function (dialog) {\n        dialogComp.set(dialog);\n        var sink = detail.lazySink(dialog).getOrDie();\n        var externalBlocker = externals.blocker();\n        var blocker = sink.getSystem().build(__assign(__assign({}, externalBlocker), {\n          components: externalBlocker.components.concat([premade(dialog)]),\n          behaviours: derive$1([\n            Focusing.config({}),\n            config('dialog-blocker-events', [runOnSource(focusin(), function () {\n                Keying.focusIn(dialog);\n              })])\n          ])\n        }));\n        attach(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      var hideDialog = function (dialog) {\n        dialogComp.clear();\n        parent(dialog.element).each(function (blockerDom) {\n          dialog.getSystem().getByDom(blockerDom).each(function (blocker) {\n            detach(blocker);\n          });\n        });\n      };\n      var getDialogBody = function (dialog) {\n        return getPartOrDie(dialog, detail, 'body');\n      };\n      var getDialogFooter = function (dialog) {\n        return getPartOrDie(dialog, detail, 'footer');\n      };\n      var setBusy = function (dialog, getBusySpec) {\n        Blocking.block(dialog, getBusySpec);\n      };\n      var setIdle = function (dialog) {\n        Blocking.unblock(dialog);\n      };\n      var modalEventsId = generate$6('modal-events');\n      var eventOrder = __assign(__assign({}, detail.eventOrder), (_a = {}, _a[attachedToDom()] = [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || []), _a));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle: setIdle,\n          setBusy: setBusy\n        },\n        eventOrder: eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt\n          }),\n          Blocking.config({ getRoot: dialogComp.get }),\n          config(modalEventsId, [runOnAttached(function (c) {\n              labelledBy(c.element, getPartOrDie(c, detail, 'title').element);\n              describedBy(c.element, getPartOrDie(c, detail, 'body').element);\n            })])\n        ])\n      };\n    };\n    var ModalDialog = composite({\n      name: 'ModalDialog',\n      configFields: schema$2(),\n      partFields: parts$2(),\n      factory: factory$4,\n      apis: {\n        show: function (apis, dialog) {\n          apis.show(dialog);\n        },\n        hide: function (apis, dialog) {\n          apis.hide(dialog);\n        },\n        getBody: function (apis, dialog) {\n          return apis.getBody(dialog);\n        },\n        getFooter: function (apis, dialog) {\n          return apis.getFooter(dialog);\n        },\n        setBusy: function (apis, dialog, getBusySpec) {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: function (apis, dialog) {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    var dialogToggleMenuItemSchema = objOf([\n      requiredString('type'),\n      requiredString('name')\n    ].concat(commonMenuItemFields));\n    var dialogToggleMenuItemDataProcessor = boolean;\n\n    var baseFooterButtonFields = [\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('button-name');\n      }), string),\n      optionString('icon'),\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      defaultedBoolean('primary', false),\n      defaultedBoolean('disabled', false)\n    ];\n    var dialogFooterButtonFields = __spreadArray(__spreadArray([], baseFooterButtonFields, true), [requiredString('text')], false);\n    var normalFooterButtonFields = __spreadArray([requiredStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ])], dialogFooterButtonFields, true);\n    var menuFooterButtonFields = __spreadArray([\n      requiredStringEnum('type', ['menu']),\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      requiredArrayOf('items', dialogToggleMenuItemSchema)\n    ], baseFooterButtonFields, true);\n    var dialogFooterButtonSchema = choose$1('type', {\n      submit: normalFooterButtonFields,\n      cancel: normalFooterButtonFields,\n      custom: normalFooterButtonFields,\n      menu: menuFooterButtonFields\n    });\n\n    var alertBannerFields = [\n      requiredString('type'),\n      requiredString('text'),\n      requiredStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      requiredString('icon'),\n      defaulted('url', '')\n    ];\n    var alertBannerSchema = objOf(alertBannerFields);\n\n    var createBarFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        itemsField\n      ];\n    };\n\n    var buttonFields = [\n      requiredString('type'),\n      requiredString('text'),\n      defaultedBoolean('disabled', false),\n      defaultedBoolean('primary', false),\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('button-name');\n      }), string),\n      optionString('icon'),\n      defaultedBoolean('borderless', false)\n    ];\n    var buttonSchema = objOf(buttonFields);\n\n    var checkboxFields = [\n      requiredString('type'),\n      requiredString('name'),\n      requiredString('label'),\n      defaultedBoolean('disabled', false)\n    ];\n    var checkboxSchema = objOf(checkboxFields);\n    var checkboxDataProcessor = boolean;\n\n    var formComponentFields = [\n      requiredString('type'),\n      requiredString('name')\n    ];\n    var formComponentWithLabelFields = formComponentFields.concat([optionString('label')]);\n\n    var collectionFields = formComponentWithLabelFields.concat([defaulted('columns', 'auto')]);\n    var collectionSchema = objOf(collectionFields);\n    var collectionDataProcessor = arrOfObj([\n      requiredString('value'),\n      requiredString('text'),\n      requiredString('icon')\n    ]);\n\n    var colorInputFields = formComponentWithLabelFields;\n    var colorInputSchema = objOf(colorInputFields);\n    var colorInputDataProcessor = string;\n\n    var colorPickerFields = formComponentWithLabelFields;\n    var colorPickerSchema = objOf(colorPickerFields);\n    var colorPickerDataProcessor = string;\n\n    var customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredString('scriptId'),\n      requiredString('scriptUrl'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    var customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredFunction('init')\n    ]);\n    var customEditorSchema = valueOf(function (v) {\n      return asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(function () {\n        return asRaw('customeditor.new', objOfOnly(customEditorFields), v);\n      });\n    });\n    var customEditorDataProcessor = string;\n\n    var dropZoneFields = formComponentWithLabelFields;\n    var dropZoneSchema = objOf(dropZoneFields);\n    var dropZoneDataProcessor = arrOfVal();\n\n    var createGridFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        requiredNumber('columns'),\n        itemsField\n      ];\n    };\n\n    var htmlPanelFields = [\n      requiredString('type'),\n      requiredString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ])\n    ];\n    var htmlPanelSchema = objOf(htmlPanelFields);\n\n    var iframeFields = formComponentWithLabelFields.concat([defaultedBoolean('sandboxed', true)]);\n    var iframeSchema = objOf(iframeFields);\n    var iframeDataProcessor = string;\n\n    var imageToolsFields = formComponentWithLabelFields.concat([requiredOf('currentState', objOf([\n        required$1('blob'),\n        requiredString('url')\n      ]))]);\n    var imageToolsSchema = objOf(imageToolsFields);\n\n    var inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      defaultedBoolean('disabled', false)\n    ]);\n    var inputSchema = objOf(inputFields);\n    var inputDataProcessor = string;\n\n    var createLabelFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        requiredString('label'),\n        itemsField\n      ];\n    };\n\n    var listBoxSingleItemFields = [\n      requiredString('text'),\n      requiredString('value')\n    ];\n    var listBoxNestedItemFields = [\n      requiredString('text'),\n      requiredArrayOf('items', thunkOf('items', function () {\n        return listBoxItemSchema;\n      }))\n    ];\n    var listBoxItemSchema = oneOf([\n      objOf(listBoxSingleItemFields),\n      objOf(listBoxNestedItemFields)\n    ]);\n    var listBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOf('items', listBoxItemSchema),\n      defaultedBoolean('disabled', false)\n    ]);\n    var listBoxSchema = objOf(listBoxFields);\n    var listBoxDataProcessor = string;\n\n    var selectBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOfObj('items', [\n        requiredString('text'),\n        requiredString('value')\n      ]),\n      defaultedNumber('size', 1),\n      defaultedBoolean('disabled', false)\n    ]);\n    var selectBoxSchema = objOf(selectBoxFields);\n    var selectBoxDataProcessor = string;\n\n    var sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      defaultedBoolean('disabled', false)\n    ]);\n    var sizeInputSchema = objOf(sizeInputFields);\n    var sizeInputDataProcessor = objOf([\n      requiredString('width'),\n      requiredString('height')\n    ]);\n\n    var tableFields = [\n      requiredString('type'),\n      requiredArrayOf('header', string),\n      requiredArrayOf('cells', arrOf(string))\n    ];\n    var tableSchema = objOf(tableFields);\n\n    var textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      defaultedBoolean('disabled', false)\n    ]);\n    var textAreaSchema = objOf(textAreaFields);\n    var textAreaDataProcessor = string;\n\n    var urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      defaulted('disabled', false)\n    ]);\n    var urlInputSchema = objOf(urlInputFields);\n    var urlInputDataProcessor = objOf([\n      requiredString('value'),\n      defaulted('meta', {})\n    ]);\n\n    var createItemsField = function (name) {\n      return field$1('items', 'items', required$2(), arrOf(valueOf(function (v) {\n        return asRaw('Checking item of ' + name, itemSchema, v).fold(function (sErr) {\n          return Result.error(formatError(sErr));\n        }, function (passValue) {\n          return Result.value(passValue);\n        });\n      })));\n    };\n    var itemSchema = valueThunk(function () {\n      return choose$2('type', {\n        alertbanner: alertBannerSchema,\n        bar: objOf(createBarFields(createItemsField('bar'))),\n        button: buttonSchema,\n        checkbox: checkboxSchema,\n        colorinput: colorInputSchema,\n        colorpicker: colorPickerSchema,\n        dropzone: dropZoneSchema,\n        grid: objOf(createGridFields(createItemsField('grid'))),\n        iframe: iframeSchema,\n        input: inputSchema,\n        listbox: listBoxSchema,\n        selectbox: selectBoxSchema,\n        sizeinput: sizeInputSchema,\n        textarea: textAreaSchema,\n        urlinput: urlInputSchema,\n        customeditor: customEditorSchema,\n        htmlpanel: htmlPanelSchema,\n        imagetools: imageToolsSchema,\n        collection: collectionSchema,\n        label: objOf(createLabelFields(createItemsField('label'))),\n        table: tableSchema,\n        panel: panelSchema\n      });\n    });\n    var panelFields = [\n      requiredString('type'),\n      defaulted('classes', []),\n      requiredArrayOf('items', itemSchema)\n    ];\n    var panelSchema = objOf(panelFields);\n\n    var tabFields = [\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('tab-name');\n      }), string),\n      requiredString('title'),\n      requiredArrayOf('items', itemSchema)\n    ];\n    var tabPanelFields = [\n      requiredString('type'),\n      requiredArrayOfObj('tabs', tabFields)\n    ];\n    var tabPanelSchema = objOf(tabPanelFields);\n\n    var dialogButtonFields = dialogFooterButtonFields;\n    var dialogButtonSchema = dialogFooterButtonSchema;\n    var dialogSchema = objOf([\n      requiredString('title'),\n      requiredOf('body', choose$2('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      requiredArrayOf('buttons', dialogButtonSchema),\n      defaulted('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaulted('onTabChange', noop)\n    ]);\n    var createDialog = function (spec) {\n      return asRaw('dialog', dialogSchema, spec);\n    };\n\n    var urlDialogButtonSchema = objOf(__spreadArray([requiredStringEnum('type', [\n        'cancel',\n        'custom'\n      ])], dialogButtonFields, true));\n    var urlDialogSchema = objOf([\n      requiredString('title'),\n      requiredString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    var createUrlDialog = function (spec) {\n      return asRaw('dialog', urlDialogSchema, spec);\n    };\n\n    var getAllObjects = function (obj) {\n      if (isObject(obj)) {\n        return [obj].concat(bind$3(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind$3(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    var isNamedItem = function (obj) {\n      return isString(obj.type) && isString(obj.name);\n    };\n    var dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      listbox: listBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    var getDataProcessor = function (item) {\n      return Optional.from(dataProcessors[item.type]);\n    };\n    var getNamedItems = function (structure) {\n      return filter$2(getAllObjects(structure), isNamedItem);\n    };\n\n    var createDataValidator = function (structure) {\n      var namedItems = getNamedItems(structure);\n      var fields = bind$3(namedItems, function (item) {\n        return getDataProcessor(item).fold(function () {\n          return [];\n        }, function (schema) {\n          return [requiredOf(item.name, schema)];\n        });\n      });\n      return objOf(fields);\n    };\n\n    var extract = function (structure) {\n      var internalDialog = getOrDie(createDialog(structure));\n      var dataValidator = createDataValidator(structure);\n      var initialData = structure.initialData;\n      return {\n        internalDialog: internalDialog,\n        dataValidator: dataValidator,\n        initialData: initialData\n      };\n    };\n    var DialogManager = {\n      open: function (factory, structure) {\n        var extraction = extract(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: function (factory, structure) {\n        var internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: function (structure) {\n        return extract(structure);\n      }\n    };\n\n    var toValidValues = function (values) {\n      var errors = [];\n      var result = {};\n      each(values, function (value, name) {\n        value.fold(function () {\n          errors.push(name);\n        }, function (v) {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    var renderBodyPanel = function (spec, backstage) {\n      var memForm = record(Form.sketch(function (parts) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form'].concat(spec.classes)\n          },\n          components: map$2(spec.items, function (item) {\n            return interpretInForm(parts, item, backstage);\n          })\n        };\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          RepresentingConfigs.memento(memForm, {\n            postprocess: function (formValue) {\n              return toValidValues(formValue).fold(function (err) {\n                console.error(err);\n                return {};\n              }, identity$1);\n            }\n          })\n        ])\n      };\n    };\n\n    var factory$3 = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events: events$a(detail.action),\n        behaviours: augment(detail.tabButtonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.value\n            }\n          })\n        ]),\n        domModification: detail.domModification\n      };\n    };\n    var TabButton = single({\n      name: 'TabButton',\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('value'),\n        field$1('dom', 'dom', mergeWithThunk(function () {\n          return {\n            attributes: {\n              'role': 'tab',\n              'id': generate$6('aria'),\n              'aria-selected': 'false'\n            }\n          };\n        }), anyValue()),\n        option('action'),\n        defaulted('domModification', {}),\n        field('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        required$1('view')\n      ],\n      factory: factory$3\n    });\n\n    var schema$1 = constant$1([\n      required$1('tabs'),\n      required$1('dom'),\n      defaulted('clickToDismiss', false),\n      field('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers$1([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    var tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: function (barDetail) {\n        var dismissTab$1 = function (tabbar, button) {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar: tabbar,\n            button: button\n          });\n        };\n        var changeTab$1 = function (tabbar, button) {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar: tabbar,\n            button: button\n          });\n        };\n        return {\n          action: function (button) {\n            var tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            var activeButton = Highlighting.isHighlighted(tabbar, button);\n            var response = function () {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            }();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    var parts$1 = constant$1([tabsPart]);\n\n    var factory$2 = function (detail, components, _spec, _externals) {\n      return {\n        'uid': detail.uid,\n        'dom': detail.dom,\n        components: components,\n        'debug.sketcher': 'Tabbar',\n        'domModification': { attributes: { role: 'tablist' } },\n        'behaviours': augment(detail.tabbarBehaviours, [\n          Highlighting.config({\n            highlightClass: detail.markers.selectedClass,\n            itemClass: detail.markers.tabClass,\n            onHighlight: function (tabbar, tab) {\n              set$8(tab.element, 'aria-selected', 'true');\n            },\n            onDehighlight: function (tabbar, tab) {\n              set$8(tab.element, 'aria-selected', 'false');\n            }\n          }),\n          Keying.config({\n            mode: 'flow',\n            getInitial: function (tabbar) {\n              return Highlighting.getHighlighted(tabbar).map(function (tab) {\n                return tab.element;\n              });\n            },\n            selector: '.' + detail.markers.tabClass,\n            executeOnMove: true\n          })\n        ])\n      };\n    };\n    var Tabbar = composite({\n      name: 'Tabbar',\n      configFields: schema$1(),\n      partFields: parts$1(),\n      factory: factory$2\n    });\n\n    var factory$1 = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n        domModification: { attributes: { role: 'tabpanel' } }\n      };\n    };\n    var Tabview = single({\n      name: 'Tabview',\n      configFields: [field('tabviewBehaviours', [Replacing])],\n      factory: factory$1\n    });\n\n    var schema = constant$1([\n      defaulted('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted('tabs', []),\n      field('tabSectionBehaviours', [])\n    ]);\n    var barPart = required({\n      factory: Tabbar,\n      schema: [\n        required$1('dom'),\n        requiredObjOf('markers', [\n          required$1('tabClass'),\n          required$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: function (detail) {\n        return { tabs: detail.tabs };\n      }\n    });\n    var viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    var parts = constant$1([\n      barPart,\n      viewPart\n    ]);\n\n    var factory = function (detail, components, _spec, _externals) {\n      var changeTab$1 = function (button) {\n        var tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(function (tabview) {\n          var tabWithValue = find$5(detail.tabs, function (t) {\n            return t.value === tabValue;\n          });\n          tabWithValue.each(function (tabData) {\n            var panel = tabData.view();\n            getOpt(button.element, 'id').each(function (id) {\n              set$8(tabview.element, 'aria-labelledby', id);\n            });\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      var changeTabBy = function (section, byPred) {\n        getPart(section, detail, 'tabbar').each(function (tabbar) {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: get$2(detail.tabSectionBehaviours),\n        events: derive$2(flatten([\n          detail.selectFirst ? [runOnAttached(function (section, _simulatedEvent) {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run$1(changeTab(), function (section, simulatedEvent) {\n              var button = simulatedEvent.event.button;\n              changeTab$1(button);\n            }),\n            run$1(dismissTab(), function (section, simulatedEvent) {\n              var button = simulatedEvent.event.button;\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: function (section) {\n            return getPart(section, detail, 'tabview').map(function (tabview) {\n              return Replacing.contents(tabview);\n            }).getOr([]);\n          },\n          showTab: function (section, tabKey) {\n            var getTabIfNotActive = function (tabbar) {\n              var candidates = Highlighting.getCandidates(tabbar);\n              var optTab = find$5(candidates, function (c) {\n                return Representing.getValue(c) === tabKey;\n              });\n              return optTab.filter(function (tab) {\n                return !Highlighting.isHighlighted(tabbar, tab);\n              });\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    var TabSection = composite({\n      name: 'TabSection',\n      configFields: schema(),\n      partFields: parts(),\n      factory: factory,\n      apis: {\n        getViewItems: function (apis, component) {\n          return apis.getViewItems(component);\n        },\n        showTab: function (apis, component, tabKey) {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    var measureHeights = function (allTabs, tabview, tabviewComp) {\n      return map$2(allTabs, function (_tab, i) {\n        Replacing.set(tabviewComp, allTabs[i].view());\n        var rect = tabview.dom.getBoundingClientRect();\n        Replacing.set(tabviewComp, []);\n        return rect.height;\n      });\n    };\n    var getMaxHeight = function (heights) {\n      return head(sort(heights, function (a, b) {\n        if (a > b) {\n          return -1;\n        } else if (a < b) {\n          return +1;\n        } else {\n          return 0;\n        }\n      }));\n    };\n    var getMaxTabviewHeight = function (dialog, tabview, tablist) {\n      var documentElement$1 = documentElement(dialog).dom;\n      var rootElm = ancestor(dialog, '.tox-dialog-wrap').getOr(dialog);\n      var isFixed = get$c(rootElm, 'position') === 'fixed';\n      var maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(documentElement$1.clientHeight, window.innerHeight);\n      } else {\n        maxHeight = Math.max(documentElement$1.offsetHeight, documentElement$1.scrollHeight);\n      }\n      var tabviewHeight = get$b(tabview);\n      var isTabListBeside = tabview.dom.offsetLeft >= tablist.dom.offsetLeft + get$a(tablist);\n      var currentTabHeight = isTabListBeside ? Math.max(get$b(tablist), tabviewHeight) : tabviewHeight;\n      var dialogTopMargin = parseInt(get$c(dialog, 'margin-top'), 10) || 0;\n      var dialogBottomMargin = parseInt(get$c(dialog, 'margin-bottom'), 10) || 0;\n      var dialogHeight = get$b(dialog) + dialogTopMargin + dialogBottomMargin;\n      var chromeHeight = dialogHeight - currentTabHeight;\n      return maxHeight - chromeHeight;\n    };\n    var showTab = function (allTabs, comp) {\n      head(allTabs).each(function (tab) {\n        return TabSection.showTab(comp, tab.value);\n      });\n    };\n    var setTabviewHeight = function (tabview, height) {\n      set$7(tabview, 'height', height + 'px');\n      if (!detect$1().browser.isIE()) {\n        set$7(tabview, 'flex-basis', height + 'px');\n      } else {\n        remove$6(tabview, 'flex-basis');\n      }\n    };\n    var updateTabviewHeight = function (dialogBody, tabview, maxTabHeight) {\n      ancestor(dialogBody, '[role=\"dialog\"]').each(function (dialog) {\n        descendant(dialog, '[role=\"tablist\"]').each(function (tablist) {\n          maxTabHeight.get().map(function (height) {\n            set$7(tabview, 'height', '0');\n            set$7(tabview, 'flex-basis', '0');\n            return Math.min(height, getMaxTabviewHeight(dialog, tabview, tablist));\n          }).each(function (height) {\n            setTabviewHeight(tabview, height);\n          });\n        });\n      });\n    };\n    var getTabview = function (dialog) {\n      return descendant(dialog, '[role=\"tabpanel\"]');\n    };\n    var setMode = function (allTabs) {\n      var smartTabHeight = function () {\n        var maxTabHeight = value$1();\n        var extraEvents = [\n          runOnAttached(function (comp) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              set$7(tabview, 'visibility', 'hidden');\n              comp.getSystem().getByDom(tabview).toOptional().each(function (tabviewComp) {\n                var heights = measureHeights(allTabs, tabview, tabviewComp);\n                var maxTabHeightOpt = getMaxHeight(heights);\n                maxTabHeightOpt.fold(maxTabHeight.clear, maxTabHeight.set);\n              });\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n              remove$6(tabview, 'visibility');\n              showTab(allTabs, comp);\n              global$f.requestAnimationFrame(function () {\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              });\n            });\n          }),\n          run$1(windowResize(), function (comp) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            });\n          }),\n          run$1(formResizeEvent, function (comp, _se) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              var oldFocus = active(getRootNode(tabview));\n              set$7(tabview, 'visibility', 'hidden');\n              var oldHeight = getRaw(tabview, 'height').map(function (h) {\n                return parseInt(h, 10);\n              });\n              remove$6(tabview, 'height');\n              remove$6(tabview, 'flex-basis');\n              var newHeight = tabview.dom.getBoundingClientRect().height;\n              var hasGrown = oldHeight.forall(function (h) {\n                return newHeight > h;\n              });\n              if (hasGrown) {\n                maxTabHeight.set(newHeight);\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              } else {\n                oldHeight.each(function (h) {\n                  setTabviewHeight(tabview, h);\n                });\n              }\n              remove$6(tabview, 'visibility');\n              oldFocus.each(focus$3);\n            });\n          })\n        ];\n        var selectFirst = false;\n        return {\n          extraEvents: extraEvents,\n          selectFirst: selectFirst\n        };\n      }();\n      var naiveTabHeight = function () {\n        var extraEvents = [];\n        var selectFirst = true;\n        return {\n          extraEvents: extraEvents,\n          selectFirst: selectFirst\n        };\n      }();\n      return {\n        smartTabHeight: smartTabHeight,\n        naiveTabHeight: naiveTabHeight\n      };\n    };\n\n    var SendDataToSectionChannel = 'send-data-to-section';\n    var SendDataToViewChannel = 'send-data-to-view';\n    var renderTabPanel = function (spec, backstage) {\n      var storedValue = Cell({});\n      var updateDataWithForm = function (form) {\n        var formData = Representing.getValue(form);\n        var validData = toValidValues(formData).getOr({});\n        var currentData = storedValue.get();\n        var newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      var setDataOnForm = function (form) {\n        var tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      var oldTab = Cell(null);\n      var allTabs = map$2(spec.tabs, function (tab) {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item'],\n            innerHtml: backstage.shared.providers.translate(tab.title)\n          },\n          view: function () {\n            return [Form.sketch(function (parts) {\n                return {\n                  dom: {\n                    tag: 'div',\n                    classes: ['tox-form']\n                  },\n                  components: map$2(tab.items, function (item) {\n                    return interpretInForm(parts, item, backstage);\n                  }),\n                  formBehaviours: derive$1([\n                    Keying.config({\n                      mode: 'acyclic',\n                      useTabstopAt: not(isPseudoStop)\n                    }),\n                    config('TabView.form.events', [\n                      runOnAttached(setDataOnForm),\n                      runOnDetached(updateDataWithForm)\n                    ]),\n                    Receiving.config({\n                      channels: wrapAll([\n                        {\n                          key: SendDataToSectionChannel,\n                          value: { onReceive: updateDataWithForm }\n                        },\n                        {\n                          key: SendDataToViewChannel,\n                          value: { onReceive: setDataOnForm }\n                        }\n                      ])\n                    })\n                  ])\n                };\n              })];\n          }\n        };\n      });\n      var tabMode = setMode(allTabs).smartTabHeight;\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: function (section, button, _viewItems) {\n          var name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name: name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts.tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts.tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts.tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({\n            find: function (comp) {\n              return head(TabSection.getViewItems(comp));\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (tsection) {\n                tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n                return storedValue.get();\n              },\n              setValue: function (tsection, value) {\n                storedValue.set(value);\n                tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n              }\n            }\n          })\n        ])\n      });\n    };\n\n    var dialogChannel = generate$6('update-dialog');\n    var titleChannel = generate$6('update-title');\n    var bodyChannel = generate$6('update-body');\n    var footerChannel = generate$6('update-footer');\n    var bodySendMessageChannel = generate$6('body-send-message');\n\n    var renderBody = function (spec, id, backstage, ariaAttrs) {\n      var renderComponents = function (incoming) {\n        switch (incoming.body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(incoming.body, backstage)];\n          }\n        default: {\n            return [renderBodyPanel(incoming.body, backstage)];\n          }\n        }\n      };\n      var updateState = function (_comp, incoming) {\n        return Optional.some({\n          isTabPanel: function () {\n            return incoming.body.type === 'tabpanel';\n          }\n        });\n      };\n      var ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: __assign(__assign({}, id.map(function (x) {\n            return { id: x };\n          }).getOr({})), ariaAttrs ? ariaAttributes : {})\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: bodyChannel,\n            updateState: updateState,\n            renderComponents: renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    var renderInlineBody = function (spec, contentId, backstage, ariaAttrs) {\n      return renderBody(spec, Optional.some(contentId), backstage, ariaAttrs);\n    };\n    var renderModalBody = function (spec, backstage) {\n      var bodySpec = renderBody(spec, Optional.none(), backstage, false);\n      return ModalDialog.parts.body(bodySpec);\n    };\n    var renderIframeBody = function (spec) {\n      var bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [craft({\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts.body(bodySpec);\n    };\n\n    var isTouch = global$9.deviceType.isTouch();\n    var hiddenHeader = function (title, close) {\n      return {\n        dom: {\n          tag: 'div',\n          styles: { display: 'none' },\n          classes: ['tox-dialog__header']\n        },\n        components: [\n          title,\n          close\n        ]\n      };\n    };\n    var pClose = function (onClose, providersBackstage) {\n      return ModalDialog.parts.close(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-button',\n            'tox-button--icon',\n            'tox-button--naked'\n          ],\n          attributes: {\n            'type': 'button',\n            'aria-label': providersBackstage.translate('Close')\n          }\n        },\n        action: onClose,\n        buttonBehaviours: derive$1([Tabstopping.config({})])\n      }));\n    };\n    var pUntitled = function () {\n      return ModalDialog.parts.title({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          innerHtml: '',\n          styles: { display: 'none' }\n        }\n      });\n    };\n    var pBodyMessage = function (message, providersBackstage) {\n      return ModalDialog.parts.body({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [{ dom: fromHtml('<p>' + providersBackstage.translate(message) + '</p>') }]\n          }]\n      });\n    };\n    var pFooter = function (buttons) {\n      return ModalDialog.parts.footer({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer']\n        },\n        components: buttons\n      });\n    };\n    var pFooterGroup = function (startButtons, endButtons) {\n      return [\n        Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-start']\n          },\n          components: startButtons\n        }),\n        Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-end']\n          },\n          components: endButtons\n        })\n      ];\n    };\n    var renderDialog$1 = function (spec) {\n      var _a;\n      var dialogClass = 'tox-dialog';\n      var blockerClass = dialogClass + '-wrap';\n      var blockerBackdropClass = blockerClass + '__backdrop';\n      var scrollLockClass = dialogClass + '__disable-scroll';\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: function (comp) {\n          spec.onEscape(comp);\n          return Optional.some(true);\n        },\n        useTabstopAt: function (elem) {\n          return !isPseudoStop(elem);\n        },\n        dom: {\n          tag: 'div',\n          classes: [dialogClass].concat(spec.extraClasses),\n          styles: __assign({ position: 'relative' }, spec.extraStyles)\n        },\n        components: __spreadArray([\n          spec.header,\n          spec.body\n        ], spec.footer.toArray(), true),\n        parts: {\n          blocker: {\n            dom: fromHtml('<div class=\"' + blockerClass + '\"></div>'),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch ? [\n                    blockerBackdropClass,\n                    blockerBackdropClass + '--opaque'\n                  ] : [blockerBackdropClass]\n                }\n              }]\n          }\n        },\n        dragBlockClass: blockerClass,\n        modalBehaviours: derive$1(__spreadArray([\n          Focusing.config({}),\n          config('dialog-events', spec.dialogEvents.concat([runOnSource(focusin(), function (comp, _se) {\n              Keying.focusIn(comp);\n            })])),\n          config('scroll-lock', [\n            runOnAttached(function () {\n              add$2(body(), scrollLockClass);\n            }),\n            runOnDetached(function () {\n              remove$2(body(), scrollLockClass);\n            })\n          ])\n        ], spec.extraBehaviours, true)),\n        eventOrder: __assign((_a = {}, _a[execute$5()] = ['dialog-events'], _a[attachedToDom()] = [\n          'scroll-lock',\n          'dialog-events',\n          'alloy.base.behaviour'\n        ], _a[detachedFromDom()] = [\n          'alloy.base.behaviour',\n          'dialog-events',\n          'scroll-lock'\n        ], _a), spec.eventOrder)\n      });\n    };\n\n    var renderClose = function (providersBackstage) {\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-button',\n            'tox-button--icon',\n            'tox-button--naked'\n          ],\n          attributes: {\n            'type': 'button',\n            'aria-label': providersBackstage.translate('Close'),\n            'title': providersBackstage.translate('Close')\n          }\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon']\n          }, providersBackstage.icons)],\n        action: function (comp) {\n          emit(comp, formCancelEvent);\n        }\n      });\n    };\n    var renderTitle = function (spec, id, providersBackstage) {\n      var renderComponents = function (data) {\n        return [text(providersBackstage.translate(data.title))];\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          attributes: __assign({}, id.map(function (x) {\n            return { id: x };\n          }).getOr({}))\n        },\n        components: renderComponents(spec),\n        behaviours: derive$1([Reflecting.config({\n            channel: titleChannel,\n            renderComponents: renderComponents\n          })])\n      };\n    };\n    var renderDragHandle = function () {\n      return { dom: fromHtml('<div class=\"tox-dialog__draghandle\"></div>') };\n    };\n    var renderInlineHeader = function (spec, titleId, providersBackstage) {\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components: [\n          renderTitle(spec, Optional.some(titleId), providersBackstage),\n          renderDragHandle(),\n          renderClose(providersBackstage)\n        ],\n        containerBehaviours: derive$1([Dragging.config({\n            mode: 'mouse',\n            blockerClass: 'blocker',\n            getTarget: function (handle) {\n              return closest$1(handle, '[role=\"dialog\"]').getOrDie();\n            },\n            snaps: {\n              getSnapPoints: function () {\n                return [];\n              },\n              leftAttr: 'data-drag-left',\n              topAttr: 'data-drag-top'\n            }\n          })])\n      });\n    };\n    var renderModalHeader = function (spec, providersBackstage) {\n      var pTitle = ModalDialog.parts.title(renderTitle(spec, Optional.none(), providersBackstage));\n      var pHandle = ModalDialog.parts.draghandle(renderDragHandle());\n      var pClose = ModalDialog.parts.close(renderClose(providersBackstage));\n      var components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components: components\n      });\n    };\n\n    var getHeader = function (title, backstage) {\n      return renderModalHeader({\n        title: backstage.shared.providers.translate(title),\n        draggable: backstage.dialog.isDraggableModal()\n      }, backstage.shared.providers);\n    };\n    var getBusySpec = function (message, bs, providers) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__busy-spinner'],\n          attributes: { 'aria-label': providers.translate(message) },\n          styles: {\n            left: '0px',\n            right: '0px',\n            bottom: '0px',\n            top: '0px',\n            position: 'absolute'\n          }\n        },\n        behaviours: bs,\n        components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n      };\n    };\n    var getEventExtras = function (lazyDialog, providers, extra) {\n      return {\n        onClose: function () {\n          return extra.closeWindow();\n        },\n        onBlock: function (blockEvent) {\n          ModalDialog.setBusy(lazyDialog(), function (_comp, bs) {\n            return getBusySpec(blockEvent.message, bs, providers);\n          });\n        },\n        onUnblock: function () {\n          ModalDialog.setIdle(lazyDialog());\n        }\n      };\n    };\n    var renderModalDialog = function (spec, initialData, dialogEvents, backstage) {\n      var _a;\n      var updateState = function (_comp, incoming) {\n        return Optional.some(incoming);\n      };\n      return build$1(renderDialog$1(__assign(__assign({}, spec), {\n        lazySink: backstage.shared.getSink,\n        extraBehaviours: __spreadArray([\n          Reflecting.config({\n            channel: dialogChannel,\n            updateState: updateState,\n            initialData: initialData\n          }),\n          RepresentingConfigs.memory({})\n        ], spec.extraBehaviours, true),\n        onEscape: function (comp) {\n          emit(comp, formCancelEvent);\n        },\n        dialogEvents: dialogEvents,\n        eventOrder: (_a = {}, _a[receive()] = [\n          Reflecting.name(),\n          Receiving.name()\n        ], _a[attachedToDom()] = [\n          'scroll-lock',\n          Reflecting.name(),\n          'messages',\n          'dialog-events',\n          'alloy.base.behaviour'\n        ], _a[detachedFromDom()] = [\n          'alloy.base.behaviour',\n          'dialog-events',\n          'messages',\n          Reflecting.name(),\n          'scroll-lock'\n        ], _a)\n      })));\n    };\n    var mapMenuButtons = function (buttons) {\n      var mapItems = function (button) {\n        var items = map$2(button.items, function (item) {\n          var cell = Cell(false);\n          return __assign(__assign({}, item), { storage: cell });\n        });\n        return __assign(__assign({}, button), { items: items });\n      };\n      return map$2(buttons, function (button) {\n        if (button.type === 'menu') {\n          return mapItems(button);\n        }\n        return button;\n      });\n    };\n    var extractCellsToObject = function (buttons) {\n      return foldl(buttons, function (acc, button) {\n        if (button.type === 'menu') {\n          var menuButton = button;\n          return foldl(menuButton.items, function (innerAcc, item) {\n            innerAcc[item.name] = item.storage;\n            return innerAcc;\n          }, acc);\n        }\n        return acc;\n      }, {});\n    };\n\n    var initCommonEvents = function (fireApiEvent, extras) {\n      return [\n        runWithTarget(focusin(), onFocus),\n        fireApiEvent(formCloseEvent, function (_api, spec) {\n          extras.onClose();\n          spec.onClose();\n        }),\n        fireApiEvent(formCancelEvent, function (api, spec, _event, self) {\n          spec.onCancel(api);\n          emit(self, formCloseEvent);\n        }),\n        run$1(formUnblockEvent, function (_c, _se) {\n          return extras.onUnblock();\n        }),\n        run$1(formBlockEvent, function (_c, se) {\n          return extras.onBlock(se.event);\n        })\n      ];\n    };\n    var initUrlDialog = function (getInstanceApi, extras) {\n      var fireApiEvent = function (eventName, f) {\n        return run$1(eventName, function (c, se) {\n          withSpec(c, function (spec, _c) {\n            f(getInstanceApi(), spec, se.event, c);\n          });\n        });\n      };\n      var withSpec = function (c, f) {\n        Reflecting.getState(c).get().each(function (currentDialog) {\n          f(currentDialog, c);\n        });\n      };\n      return __spreadArray(__spreadArray([], initCommonEvents(fireApiEvent, extras), true), [fireApiEvent(formActionEvent, function (api, spec, event) {\n          spec.onAction(api, { name: event.name });\n        })], false);\n    };\n    var initDialog = function (getInstanceApi, extras, getSink) {\n      var fireApiEvent = function (eventName, f) {\n        return run$1(eventName, function (c, se) {\n          withSpec(c, function (spec, _c) {\n            f(getInstanceApi(), spec, se.event, c);\n          });\n        });\n      };\n      var withSpec = function (c, f) {\n        Reflecting.getState(c).get().each(function (currentDialogInit) {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return __spreadArray(__spreadArray([], initCommonEvents(fireApiEvent, extras), true), [\n        fireApiEvent(formSubmitEvent, function (api, spec) {\n          return spec.onSubmit(api);\n        }),\n        fireApiEvent(formChangeEvent, function (api, spec, event) {\n          spec.onChange(api, { name: event.name });\n        }),\n        fireApiEvent(formActionEvent, function (api, spec, event, component) {\n          var focusIn = function () {\n            return Keying.focusIn(component);\n          };\n          var isDisabled = function (focused) {\n            return has$1(focused, 'disabled') || getOpt(focused, 'aria-disabled').exists(function (val) {\n              return val === 'true';\n            });\n          };\n          var rootNode = getRootNode(component.element);\n          var current = active(rootNode);\n          spec.onAction(api, {\n            name: event.name,\n            value: event.value\n          });\n          active(rootNode).fold(focusIn, function (focused) {\n            if (isDisabled(focused)) {\n              focusIn();\n            } else if (current.exists(function (cur) {\n                return contains(focused, cur) && isDisabled(cur);\n              })) {\n              focusIn();\n            } else {\n              getSink().toOptional().filter(function (sink) {\n                return !contains(sink.element, focused);\n              }).each(focusIn);\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, function (api, spec, event) {\n          spec.onTabChange(api, {\n            newTabName: event.name,\n            oldTabName: event.oldName\n          });\n        }),\n        runOnDetached(function (component) {\n          var api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ], false);\n    };\n    var SilverDialogEvents = {\n      initUrlDialog: initUrlDialog,\n      initDialog: initDialog\n    };\n\n    var makeButton = function (button, backstage) {\n      return renderFooterButton(button, button.type, backstage);\n    };\n    var lookup = function (compInSystem, footerButtons, buttonName) {\n      return find$5(footerButtons, function (button) {\n        return button.name === buttonName;\n      }).bind(function (memButton) {\n        return memButton.memento.getOpt(compInSystem);\n      });\n    };\n    var renderComponents = function (_data, state) {\n      var footerButtons = state.map(function (s) {\n        return s.footerButtons;\n      }).getOr([]);\n      var buttonGroups = partition$3(footerButtons, function (button) {\n        return button.align === 'start';\n      });\n      var makeGroup = function (edge, buttons) {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-' + edge]\n          },\n          components: map$2(buttons, function (button) {\n            return button.memento.asSpec();\n          })\n        });\n      };\n      var startButtons = makeGroup('start', buttonGroups.pass);\n      var endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    var renderFooter = function (initSpec, backstage) {\n      var updateState = function (_comp, data) {\n        var footerButtons = map$2(data.buttons, function (button) {\n          var memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        var lookupByName = function (compInSystem, buttonName) {\n          return lookup(compInSystem, footerButtons, buttonName);\n        };\n        return Optional.some({\n          lookupByName: lookupByName,\n          footerButtons: footerButtons\n        });\n      };\n      return {\n        dom: fromHtml('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: footerChannel,\n            initialData: initSpec,\n            updateState: updateState,\n            renderComponents: renderComponents\n          })])\n      };\n    };\n    var renderInlineFooter = function (initSpec, backstage) {\n      return renderFooter(initSpec, backstage);\n    };\n    var renderModalFooter = function (initSpec, backstage) {\n      return ModalDialog.parts.footer(renderFooter(initSpec, backstage));\n    };\n\n    var getCompByName = function (access, name) {\n      var root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        var form_1 = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form_1, name).fold(function () {\n          var footer = access.getFooter();\n          var footerState = Reflecting.getState(footer);\n          return footerState.get().bind(function (f) {\n            return f.lookupByName(form_1, name);\n          });\n        }, function (comp) {\n          return Optional.some(comp);\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    var validateData$1 = function (access, data) {\n      var root = access.getRoot();\n      return Reflecting.getState(root).get().map(function (dialogState) {\n        return getOrDie(asRaw('data', dialogState.dataValidator, data));\n      }).getOr(data);\n    };\n    var getDialogApi = function (access, doRedial, menuItemStates) {\n      var withRoot = function (f) {\n        var root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      var getData = function () {\n        var root = access.getRoot();\n        var valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        var representedValues = Representing.getValue(valueComp);\n        var menuItemCurrentState = map$1(menuItemStates, function (cell) {\n          return cell.get();\n        });\n        return __assign(__assign({}, representedValues), menuItemCurrentState);\n      };\n      var setData = function (newData) {\n        withRoot(function (_) {\n          var prevData = instanceApi.getData();\n          var mergedData = __assign(__assign({}, prevData), newData);\n          var newInternalData = validateData$1(access, mergedData);\n          var form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each(menuItemStates, function (v, k) {\n            if (has$2(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      var disable = function (name) {\n        getCompByName(access, name).each(Disabling.disable);\n      };\n      var enable = function (name) {\n        getCompByName(access, name).each(Disabling.enable);\n      };\n      var focus = function (name) {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      var block = function (message) {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(function (root) {\n          emitWith(root, formBlockEvent, { message: message });\n        });\n      };\n      var unblock = function () {\n        withRoot(function (root) {\n          emit(root, formUnblockEvent);\n        });\n      };\n      var showTab = function (name) {\n        withRoot(function (_) {\n          var body = access.getBody();\n          var bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(function (b) {\n              return b.isTabPanel();\n            })) {\n            Composing.getCurrent(body).each(function (tabSection) {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      var redial = function (d) {\n        withRoot(function (root) {\n          var dialogInit = doRedial(d);\n          root.getSystem().broadcastOn([dialogChannel], dialogInit);\n          root.getSystem().broadcastOn([titleChannel], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([bodyChannel], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([footerChannel], dialogInit.internalDialog);\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      var close = function () {\n        withRoot(function (root) {\n          emit(root, formCloseEvent);\n        });\n      };\n      var instanceApi = {\n        getData: getData,\n        setData: setData,\n        disable: disable,\n        enable: enable,\n        focus: focus,\n        block: block,\n        unblock: unblock,\n        showTab: showTab,\n        redial: redial,\n        close: close\n      };\n      return instanceApi;\n    };\n\n    var getDialogSizeClasses = function (size) {\n      switch (size) {\n      case 'large':\n        return ['tox-dialog--width-lg'];\n      case 'medium':\n        return ['tox-dialog--width-md'];\n      default:\n        return [];\n      }\n    };\n    var renderDialog = function (dialogInit, extra, backstage) {\n      var header = getHeader(dialogInit.internalDialog.title, backstage);\n      var body = renderModalBody({ body: dialogInit.internalDialog.body }, backstage);\n      var storagedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons);\n      var objOfCells = extractCellsToObject(storagedMenuButtons);\n      var footer = renderModalFooter({ buttons: storagedMenuButtons }, backstage);\n      var dialogEvents = SilverDialogEvents.initDialog(function () {\n        return instanceApi;\n      }, getEventExtras(function () {\n        return dialog;\n      }, backstage.shared.providers, extra), backstage.shared.getSink);\n      var dialogSize = getDialogSizeClasses(dialogInit.internalDialog.size);\n      var spec = {\n        header: header,\n        body: body,\n        footer: Optional.some(footer),\n        extraClasses: dialogSize,\n        extraBehaviours: [],\n        extraStyles: {}\n      };\n      var dialog = renderModalDialog(spec, dialogInit, dialogEvents, backstage);\n      var modalAccess = function () {\n        var getForm = function () {\n          var outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        return {\n          getRoot: constant$1(dialog),\n          getBody: function () {\n            return ModalDialog.getBody(dialog);\n          },\n          getFooter: function () {\n            return ModalDialog.getFooter(dialog);\n          },\n          getFormWrapper: getForm\n        };\n      }();\n      var instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var renderInlineDialog = function (dialogInit, extra, backstage, ariaAttrs) {\n      var _a, _b;\n      var dialogLabelId = generate$6('dialog-label');\n      var dialogContentId = generate$6('dialog-content');\n      var updateState = function (_comp, incoming) {\n        return Optional.some(incoming);\n      };\n      var memHeader = record(renderInlineHeader({\n        title: dialogInit.internalDialog.title,\n        draggable: true\n      }, dialogLabelId, backstage.shared.providers));\n      var memBody = record(renderInlineBody({ body: dialogInit.internalDialog.body }, dialogContentId, backstage, ariaAttrs));\n      var storagedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons);\n      var objOfCells = extractCellsToObject(storagedMenuButtons);\n      var memFooter = record(renderInlineFooter({ buttons: storagedMenuButtons }, backstage));\n      var dialogEvents = SilverDialogEvents.initDialog(function () {\n        return instanceApi;\n      }, {\n        onBlock: function (event) {\n          Blocking.block(dialog, function (_comp, bs) {\n            return getBusySpec(event.message, bs, backstage.shared.providers);\n          });\n        },\n        onUnblock: function () {\n          Blocking.unblock(dialog);\n        },\n        onClose: function () {\n          return extra.closeWindow();\n        }\n      }, backstage.shared.getSink);\n      var dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            'tox-dialog-inline'\n          ],\n          attributes: (_a = { role: 'dialog' }, _a['aria-labelledby'] = dialogLabelId, _a['aria-describedby'] = dialogContentId, _a)\n        },\n        eventOrder: (_b = {}, _b[receive()] = [\n          Reflecting.name(),\n          Receiving.name()\n        ], _b[execute$5()] = ['execute-on-form'], _b[attachedToDom()] = [\n          'reflecting',\n          'execute-on-form'\n        ], _b),\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: function (c) {\n              emit(c, formCloseEvent);\n              return Optional.some(true);\n            },\n            useTabstopAt: function (elem) {\n              return !isPseudoStop(elem) && (name$2(elem) !== 'button' || get$d(elem, 'disabled') !== 'disabled');\n            }\n          }),\n          Reflecting.config({\n            channel: dialogChannel,\n            updateState: updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), function (comp, _se) {\n              Keying.focusIn(comp);\n            })])),\n          Blocking.config({\n            getRoot: function () {\n              return Optional.some(dialog);\n            }\n          }),\n          Replacing.config({}),\n          RepresentingConfigs.memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          memFooter.asSpec()\n        ]\n      });\n      var instanceApi = getDialogApi({\n        getRoot: constant$1(dialog),\n        getFooter: function () {\n          return memFooter.get(dialog);\n        },\n        getBody: function () {\n          return memBody.get(dialog);\n        },\n        getFormWrapper: function () {\n          var body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        }\n      }, extra.redial, objOfCells);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var getUrlDialogApi = function (root) {\n      var withRoot = function (f) {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      var block = function (message) {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(function (root) {\n          emitWith(root, formBlockEvent, { message: message });\n        });\n      };\n      var unblock = function () {\n        withRoot(function (root) {\n          emit(root, formUnblockEvent);\n        });\n      };\n      var close = function () {\n        withRoot(function (root) {\n          emit(root, formCloseEvent);\n        });\n      };\n      var sendMessage = function (data) {\n        withRoot(function (root) {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block: block,\n        unblock: unblock,\n        close: close,\n        sendMessage: sendMessage\n      };\n    };\n\n    var SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    var isSupportedMessage = function (data) {\n      return isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    };\n    var isCustomMessage = function (data) {\n      return !isSupportedMessage(data) && isObject(data) && has$2(data, 'mceAction');\n    };\n    var handleMessage = function (editor, api, data) {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        var ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    var renderUrlDialog = function (internalDialog, extra, editor, backstage) {\n      var _a;\n      var header = getHeader(internalDialog.title, backstage);\n      var body = renderIframeBody(internalDialog);\n      var footer = internalDialog.buttons.bind(function (buttons) {\n        if (buttons.length === 0) {\n          return Optional.none();\n        } else {\n          return Optional.some(renderModalFooter({ buttons: buttons }, backstage));\n        }\n      });\n      var dialogEvents = SilverDialogEvents.initUrlDialog(function () {\n        return instanceApi;\n      }, getEventExtras(function () {\n        return dialog;\n      }, backstage.shared.providers, extra));\n      var styles = __assign(__assign({}, internalDialog.height.fold(function () {\n        return {};\n      }, function (height) {\n        return {\n          'height': height + 'px',\n          'max-height': height + 'px'\n        };\n      })), internalDialog.width.fold(function () {\n        return {};\n      }, function (width) {\n        return {\n          'width': width + 'px',\n          'max-width': width + 'px'\n        };\n      }));\n      var classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      var iframeUri = new global$1(internalDialog.url, { base_uri: new global$1(window.location.href) });\n      var iframeDomain = iframeUri.protocol + '://' + iframeUri.host + (iframeUri.port ? ':' + iframeUri.port : '');\n      var messageHandlerUnbinder = unbindable();\n      var extraBehaviours = [\n        config('messages', [\n          runOnAttached(function () {\n            var unbind = bind(SugarElement.fromDom(window), 'message', function (e) {\n              if (iframeUri.isSameOrigin(new global$1(e.raw.origin))) {\n                var data = e.raw.data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(unbind);\n          }),\n          runOnDetached(messageHandlerUnbinder.clear)\n        ]),\n        Receiving.config({\n          channels: (_a = {}, _a[bodySendMessageChannel] = {\n            onReceive: function (comp, data) {\n              descendant(comp.element, 'iframe').each(function (iframeEle) {\n                var iframeWin = iframeEle.dom.contentWindow;\n                iframeWin.postMessage(data, iframeDomain);\n              });\n            }\n          }, _a)\n        })\n      ];\n      var spec = {\n        header: header,\n        body: body,\n        footer: footer,\n        extraClasses: classes,\n        extraBehaviours: extraBehaviours,\n        extraStyles: styles\n      };\n      var dialog = renderModalDialog(spec, internalDialog, dialogEvents, backstage);\n      var instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var setup$2 = function (extras) {\n      var sharedBackstage = extras.backstage.shared;\n      var open = function (message, callback) {\n        var closeDialog = function () {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        var memFooterClose = record(renderFooterButton({\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage));\n        var titleSpec = pUntitled();\n        var closeSpec = pClose(closeDialog, sharedBackstage.providers);\n        var alertDialog = build$1(renderDialog$1({\n          lazySink: function () {\n            return sharedBackstage.getSink();\n          },\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [memFooterClose.asSpec()]))),\n          onEscape: closeDialog,\n          extraClasses: ['tox-alert-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [run$1(formCancelEvent, closeDialog)],\n          eventOrder: {}\n        }));\n        ModalDialog.show(alertDialog);\n        var footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open: open };\n    };\n\n    var setup$1 = function (extras) {\n      var sharedBackstage = extras.backstage.shared;\n      var open = function (message, callback) {\n        var closeDialog = function (state) {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        var memFooterYes = record(renderFooterButton({\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'submit', extras.backstage));\n        var footerNo = renderFooterButton({\n          name: 'no',\n          text: 'No',\n          primary: false,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage);\n        var titleSpec = pUntitled();\n        var closeSpec = pClose(function () {\n          return closeDialog(false);\n        }, sharedBackstage.providers);\n        var confirmDialog = build$1(renderDialog$1({\n          lazySink: function () {\n            return sharedBackstage.getSink();\n          },\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [\n            footerNo,\n            memFooterYes.asSpec()\n          ]))),\n          onEscape: function () {\n            return closeDialog(false);\n          },\n          extraClasses: ['tox-confirm-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [\n            run$1(formCancelEvent, function () {\n              return closeDialog(false);\n            }),\n            run$1(formSubmitEvent, function () {\n              return closeDialog(true);\n            })\n          ],\n          eventOrder: {}\n        }));\n        ModalDialog.show(confirmDialog);\n        var footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open: open };\n    };\n\n    var validateData = function (data, validator) {\n      return getOrDie(asRaw('data', validator, data));\n    };\n    var isAlertOrConfirmDialog = function (target) {\n      return closest(target, '.tox-alert-dialog') || closest(target, '.tox-confirm-dialog');\n    };\n    var inlineAdditionalBehaviours = function (editor, isStickyToolbar, isToolbarLocationTop) {\n      if (isStickyToolbar && isToolbarLocationTop) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: function () {\n                return Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer())));\n              },\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            modes: ['top']\n          })];\n      }\n    };\n    var setup = function (extras) {\n      var backstage = extras.backstage;\n      var editor = extras.editor;\n      var isStickyToolbar$1 = isStickyToolbar(editor);\n      var alertDialog = setup$2(extras);\n      var confirmDialog = setup$1(extras);\n      var open = function (config, params, closeWindow) {\n        if (params !== undefined && params.inline === 'toolbar') {\n          return openInlineDialog(config, backstage.shared.anchors.inlineDialog(), closeWindow, params.ariaAttrs);\n        } else if (params !== undefined && params.inline === 'cursor') {\n          return openInlineDialog(config, backstage.shared.anchors.cursor(), closeWindow, params.ariaAttrs);\n        } else {\n          return openModalDialog(config, closeWindow);\n        }\n      };\n      var openUrl = function (config, closeWindow) {\n        return openModalUrlDialog(config, closeWindow);\n      };\n      var openModalUrlDialog = function (config, closeWindow) {\n        var factory = function (contents) {\n          var dialog = renderUrlDialog(contents, {\n            closeWindow: function () {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, backstage);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      var openModalDialog = function (config, closeWindow) {\n        var factory = function (contents, internalInitialData, dataValidator) {\n          var initialData = internalInitialData;\n          var dialogInit = {\n            dataValidator: dataValidator,\n            initialData: initialData,\n            internalDialog: contents\n          };\n          var dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: function () {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, backstage);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      var openInlineDialog = function (config$1, anchor, closeWindow, ariaAttrs) {\n        var factory = function (contents, internalInitialData, dataValidator) {\n          var initialData = validateData(internalInitialData, dataValidator);\n          var inlineDialog = value$1();\n          var isToolbarLocationTop = backstage.shared.header.isPositionedAtTop();\n          var dialogInit = {\n            dataValidator: dataValidator,\n            initialData: initialData,\n            internalDialog: contents\n          };\n          var refreshDocking = function () {\n            return inlineDialog.on(function (dialog) {\n              InlineView.reposition(dialog);\n              Docking.refresh(dialog);\n            });\n          };\n          var dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: function () {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, backstage, ariaAttrs);\n          var inlineDialogComp = build$1(InlineView.sketch(__assign(__assign({\n            lazySink: backstage.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: {}\n          }, isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} }), {\n            inlineBehaviours: derive$1(__spreadArray([config('window-manager-inline-events', [run$1(dismissRequested(), function (_comp, _se) {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })])], inlineAdditionalBehaviours(editor, isStickyToolbar$1, isToolbarLocationTop), true)),\n            isExtraPart: function (_comp, target) {\n              return isAlertOrConfirmDialog(target);\n            }\n          })));\n          inlineDialog.set(inlineDialogComp);\n          InlineView.showWithin(inlineDialogComp, premade(dialogUi.dialog), { anchor: anchor }, Optional.some(body()));\n          if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      var confirm = function (message, callback) {\n        confirmDialog.open(message, function (state) {\n          callback(state);\n        });\n      };\n      var alert = function (message, callback) {\n        alertDialog.open(message, function () {\n          callback();\n        });\n      };\n      var close = function (instanceApi) {\n        instanceApi.close();\n      };\n      return {\n        open: open,\n        openUrl: openUrl,\n        alert: alert,\n        close: close,\n        confirm: confirm\n      };\n    };\n\n    function Theme () {\n      global$g.add('silver', function (editor) {\n        var _a = setup$3(editor), uiMothership = _a.uiMothership, backstage = _a.backstage, renderUI = _a.renderUI, getUi = _a.getUi;\n        Autocompleter.register(editor, backstage.shared);\n        var windowMgr = setup({\n          editor: editor,\n          backstage: backstage\n        });\n        return {\n          renderUI: renderUI,\n          getWindowManagerImpl: constant$1(windowMgr),\n          getNotificationManagerImpl: function () {\n            return NotificationManagerImpl(editor, { backstage: backstage }, uiMothership);\n          },\n          ui: getUi()\n        };\n      });\n    }\n\n    Theme();\n\n}());\n","import \"core-js/modules/web.dom-exception.stack.js\";\nimport \"core-js/modules/esnext.typed-array.to-reversed.js\";\nimport \"core-js/modules/esnext.typed-array.to-sorted.js\";\nimport \"core-js/modules/esnext.typed-array.with.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = [\"src\"];\nimport { ref, watch } from \"vue\";\nimport { blogApi } from \"@/api/request\";\nimport Tinymce from \"@/components/tinymce/tinymce.vue\";\nimport CropeImg from \"@/components/crope-img.vue\";\nimport { loadingHelper } from \"@/utils/loading\";\n\nimport { ElNotification } from 'element-plus/es';\nimport 'element-plus/es/components/base/style/css';\nimport 'element-plus/es/components/notification/style/css';\nexport default {\n  __name: 'blog-addh5',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: 'New Blog'\n    },\n    data: {\n      type: Object,\n      default: () => null\n    }\n  },\n  emits: [\"update:visible\", \"refresh\"],\n  setup(__props, {\n    emit\n  }) {\n    const props = __props;\n    const type = ref(\"add\");\n    const formRef = ref(null);\n    const form = ref({\n      title: \"\",\n      author: \"\",\n      content: \"\",\n      cover: \"\"\n    });\n    const uploadRef = ref(null);\n    const imageUrl = ref(null);\n    const filename = ref(\"\");\n    const imgPreview = ref();\n    watch(() => props.data, val => {\n      if (val) {\n        form.value = val;\n        type.value = \"edit\";\n      } else {\n        reset();\n        type.value = \"add\";\n      }\n    }, {\n      immediate: true\n    });\n    function handleImgSuccess(file) {\n      getImgUrl(file);\n    }\n    function getImgUrl(file) {\n      filename.value = file.raw.name.split(\".\")[0];\n      imageUrl.value = window.URL.createObjectURL(file.raw);\n    }\n    function handleImageSrc(url) {\n      imgPreview.value = url;\n      form.value.cover = base64ToFile(url, filename.value);\n    }\n    //base64图片转成文件流格式\n    function base64ToFile(data, fileName) {\n      const dataArr = data.split(\",\");\n      const byteString = atob(dataArr[1]);\n      const options = {\n        type: \"image/jpeg\",\n        endings: \"native\"\n      };\n      const u8Arr = new Uint8Array(byteString.length);\n      for (let i = 0; i < byteString.length; i++) {\n        u8Arr[i] = byteString.charCodeAt(i);\n      }\n      let fileOfBlob = new File([u8Arr], fileName + \".jpg\", options); //返回文件流\n      return fileOfBlob;\n    }\n    function handleChange(item) {\n      form.value.content = item;\n    }\n    function submit() {\n      loadingHelper.show();\n      formRef.value.validate(valid => {\n        if (valid) {\n          if (type.value == 'add') {\n            blogApi.add(form.value).then(res => {\n              if (res.code == 0) {\n                ElNotification({\n                  type: \"success\",\n                  message: \"Successed\"\n                });\n              }\n            });\n          } else {\n            blogApi.edit(form.value).then(res => {\n              if (res.code == 0) {\n                ElNotification({\n                  type: \"success\",\n                  message: \"Successed\"\n                });\n              }\n            });\n          }\n          loadingHelper.hide();\n          reset();\n          closeDialog();\n          refresh();\n        }\n      });\n    }\n    function closeDialog() {\n      emit(\"update:visible\", false);\n    }\n    function refreh() {\n      emit(\"refresh\");\n    }\n    function reset() {\n      form.value = {\n        title: \"\",\n        author: \"\",\n        content: \"\",\n        cover: \"\"\n      };\n    }\n    return (_ctx, _cache) => {\n      const _component_el_input = _resolveComponent(\"el-input\");\n      const _component_el_form_item = _resolveComponent(\"el-form-item\");\n      const _component_el_col = _resolveComponent(\"el-col\");\n      const _component_el_row = _resolveComponent(\"el-row\");\n      const _component_el_button = _resolveComponent(\"el-button\");\n      const _component_el_upload = _resolveComponent(\"el-upload\");\n      const _component_el_form = _resolveComponent(\"el-form\");\n      const _component_el_dialog = _resolveComponent(\"el-dialog\");\n      return _openBlock(), _createBlock(_component_el_dialog, {\n        \"model-value\": __props.visible,\n        width: \"80%\",\n        onClose: closeDialog,\n        title: __props.title,\n        \"destroy-on-close\": \"\"\n      }, {\n        footer: _withCtx(() => [_createVNode(_component_el_button, {\n          onClick: _cache[3] || (_cache[3] = $event => closeDialog())\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"cancel\")]),\n          _: 1\n        }), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: submit\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"submit\")]),\n          _: 1\n        })]),\n        default: _withCtx(() => [_createVNode(_component_el_form, {\n          model: form.value,\n          ref_key: \"formRef\",\n          ref: formRef,\n          \"label-width\": \"64px\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"Title\",\n            prop: \"title\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: form.value.title,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => form.value.title = $event),\n              clearable: \"\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"Author\",\n            prop: \"author\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: form.value.author,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => form.value.author = $event),\n              clearable: \"\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"Cover\",\n            prop: \"cover\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_upload, {\n              ref_key: \"uploadRef\",\n              ref: uploadRef,\n              action: \"#\",\n              \"show-file-list\": false,\n              \"on-change\": handleImgSuccess,\n              \"auto-upload\": false\n            }, {\n              default: _withCtx(() => [imageUrl.value ? (_openBlock(), _createBlock(_component_el_row, {\n                key: 0,\n                gutter: 10\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_col, {\n                  span: 8\n                }, {\n                  default: _withCtx(() => [_createVNode(CropeImg, {\n                    style: {\n                      \"height\": \"180px\"\n                    },\n                    imageSrc: imageUrl.value,\n                    viewMode: 2,\n                    aspectRatio: 1.5,\n                    onUpdateImageSrc: handleImageSrc\n                  }, null, 8, [\"imageSrc\"])]),\n                  _: 1\n                }), imgPreview.value ? (_openBlock(), _createBlock(_component_el_col, {\n                  key: 0,\n                  span: 8\n                }, {\n                  default: _withCtx(() => [_createElementVNode(\"img\", {\n                    src: imgPreview.value,\n                    style: {\n                      \"width\": \"100%\",\n                      \"border\": \"1px solid #eee\"\n                    }\n                  }, null, 8, _hoisted_1)]),\n                  _: 1\n                })) : _createCommentVNode(\"\", true)]),\n                _: 1\n              })) : (_openBlock(), _createBlock(_component_el_button, {\n                key: 1,\n                type: \"primary\",\n                size: \"small\",\n                round: \"\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"选择图片\")]),\n                _: 1\n              }))]),\n              _: 1\n            }, 512)]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"Content\",\n            prop: \"content\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(Tinymce, {\n              modelValue: form.value.content,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => form.value.content = $event),\n              onChange: handleChange,\n              width: \"100%\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"model\"])]),\n        _: 1\n      }, 8, [\"model-value\", \"title\"]);\n    };\n  }\n};","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nimport { ref, watch } from \"vue\";\nimport { blogApi } from \"@/api/request\";\nimport Tinymce from \"@/components/tinymce/tinymce.vue\";\nimport CropeImg from \"@/components/crope-img.vue\";\nimport { loadingHelper } from \"@/utils/loading\";\n\nimport { ElNotification } from 'element-plus/es';\nimport 'element-plus/es/components/base/style/css';\nimport 'element-plus/es/components/notification/style/css';\nexport default {\n  __name: 'blog-addvlog',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: 'New Vlog'\n    },\n    data: {\n      type: Object,\n      default: () => null\n    }\n  },\n  emits: [\"update:visible\", \"refresh\"],\n  setup(__props, {\n    emit\n  }) {\n    const props = __props;\n    const type = ref(\"add\");\n    const formRef = ref(null);\n    const form = ref({\n      title: \"\",\n      plat: \"\",\n      cover: \"\",\n      vlog: \"\"\n    });\n    watch(() => props.data, val => {\n      if (val) {\n        form.value = val;\n        type.value = \"edit\";\n      } else {\n        reset();\n        type.value = \"add\";\n      }\n    }, {\n      immediate: true\n    });\n    function submit() {\n      loadingHelper.show();\n      formRef.value.validate(valid => {\n        if (valid) {\n          if (type.value == 'add') {\n            blogApi.add(form.value).then(res => {\n              if (res.code == 0) {\n                ElNotification({\n                  type: \"success\",\n                  message: \"Successed\"\n                });\n              }\n            });\n          } else {\n            blogApi.edit(form.value).then(res => {\n              if (res.code == 0) {\n                ElNotification({\n                  type: \"success\",\n                  message: \"Successed\"\n                });\n              }\n            });\n          }\n          loadingHelper.hide();\n          reset();\n          closeDialog();\n          refresh();\n        }\n      });\n    }\n    function refreh() {\n      emit(\"refresh\");\n    }\n    function closeDialog() {\n      emit(\"update:visible\", false);\n    }\n    function reset() {\n      form.value = {\n        title: \"\",\n        plat: \"\",\n        cover: \"\",\n        vlog: \"\"\n      };\n    }\n    return (_ctx, _cache) => {\n      const _component_el_input = _resolveComponent(\"el-input\");\n      const _component_el_form_item = _resolveComponent(\"el-form-item\");\n      const _component_el_form = _resolveComponent(\"el-form\");\n      const _component_el_button = _resolveComponent(\"el-button\");\n      const _component_el_dialog = _resolveComponent(\"el-dialog\");\n      return _openBlock(), _createBlock(_component_el_dialog, {\n        \"model-value\": __props.visible,\n        onClose: closeDialog,\n        title: __props.title,\n        \"destroy-on-close\": \"\"\n      }, {\n        footer: _withCtx(() => [_createVNode(_component_el_button, {\n          onClick: _cache[4] || (_cache[4] = $event => closeDialog())\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"cancel\")]),\n          _: 1\n        }), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: submit\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"submit\")]),\n          _: 1\n        })]),\n        default: _withCtx(() => [_createVNode(_component_el_form, {\n          model: form.value,\n          ref_key: \"formRef\",\n          ref: formRef,\n          \"label-width\": \"96px\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"Vlog Title\",\n            prop: \"title\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: form.value.title,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => form.value.title = $event),\n              clearable: \"\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"Platform\",\n            prop: \"plat\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: form.value.plat,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => form.value.plat = $event),\n              placeholder: \"example: Youtobe\",\n              clearable: \"\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"Cover Link\",\n            prop: \"cover\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: form.value.cover,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => form.value.cover = $event),\n              clearable: \"\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"Vlog Link\",\n            prop: \"vlog\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: form.value.vlog,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => form.value.vlog = $event),\n              clearable: \"\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"model\"])]),\n        _: 1\n      }, 8, [\"model-value\", \"title\"]);\n    };\n  }\n};","import { unref as _unref, createVNode as _createVNode, isRef as _isRef, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card\"\n};\nconst _hoisted_2 = {\n  class: \"card-body\"\n};\nconst _hoisted_3 = {\n  class: \"row\"\n};\nconst _hoisted_4 = {\n  class: \"col-md-3\"\n};\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = {\n  class: \"input-group no-border\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-search\"\n}, null, -1);\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"ripple-container\"\n}, null, -1);\nconst _hoisted_9 = [_hoisted_7, _hoisted_8];\nconst _hoisted_10 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-plus\",\n  style: {\n    \"font-size\": \"12px\",\n    \"vertical-align\": \"baseline\"\n  }\n}, null, -1);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-plus\",\n  style: {\n    \"font-size\": \"12px\",\n    \"vertical-align\": \"baseline\"\n  }\n}, null, -1);\nconst _hoisted_13 = [\"src\"];\nimport { ref, onMounted } from \"vue\";\nimport { blogApi } from \"@/api/request\";\nimport PageTitle from \"@/components/page-title.vue\";\nimport DynamicTable from \"@/components/dynamic-table.vue\";\nimport BlogH5 from \"@/components/blog/blog-addh5.vue\";\nimport BlogVlog from \"@/components/blog/blog-addvlog.vue\";\nexport default {\n  __name: 'blog',\n  setup(__props) {\n    let title = ref({\n      type: \"warning\",\n      title: \"Blog\",\n      desc: \"We provide timely, relevant, and credible information about game releases as they come available.\"\n    });\n    let tableData = ref([]);\n    let tableHeader = ref([\"id\", \"type\", \"title\", \"author\", \"post_at\"]);\n    let operations = ref([{\n      id: 1,\n      type: 'success',\n      icon: \"fa fa-eye\",\n      name: \"view\",\n      event: 'view'\n    }, {\n      id: 2,\n      type: 'primary',\n      icon: \"fa fa-edit\",\n      name: \"edit\",\n      event: 'edit'\n    }]);\n    let visible = ref(false);\n    let rowData = ref({});\n    let pageNum = ref(1);\n    let total = ref(1);\n    let pageSize = ref(10);\n    let search = ref(\"\");\n    let type = ref(null);\n    let dialogShow = ref(false);\n    let dialogShow1 = ref(false);\n    let editData = ref(null);\n    const dialogTitle = ref(\"\");\n    function view(data) {\n      if (data.command == \"view\") {\n        visible.value = true;\n        queryRow(data.data);\n      }\n      if (data.command == \"edit\") {\n        if (data.data.type == \"h5\") {\n          editData.value = data.data;\n          dialogShow.value = true;\n        } else if (data.data.type == \"vlog\") {\n          editData.value = data.data;\n          dialogShow1.value = true;\n        }\n      }\n    }\n    function query() {\n      let data = {\n        pageSize: pageSize.value,\n        pageNum: pageNum.value,\n        search: search.value\n      };\n      blogApi.list(data).then(res => {\n        if (res.data.data) {\n          tableData.value = res.data.data;\n          total.value = res.data.total;\n        }\n      });\n    }\n    function queryRow(data) {\n      rowData.value = data;\n    }\n    function handlePageChange(val) {\n      pageNum.value = val;\n      query();\n    }\n    function add(val) {\n      type.value = val;\n      editData.value = null;\n      if (val == 'h5') {\n        dialogShow.value = true;\n        dialogTitle.value = 'New Blog';\n      } else if (val == 'vlog') {\n        dialogShow1.value = true;\n        dialogTitle.value = 'New Vlog';\n      }\n    }\n    onMounted(() => {\n      query();\n    });\n    return (_ctx, _cache) => {\n      const _component_el_pagination = _resolveComponent(\"el-pagination\");\n      const _component_el_dialog = _resolveComponent(\"el-dialog\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(PageTitle, {\n        option: _unref(title)\n      }, null, 8, [\"option\"]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _isRef(search) ? search.value = $event : search = $event),\n        class: \"form-control\",\n        placeholder: \"Search ...\"\n      }, null, 512), [[_vModelText, _unref(search)]]), _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"btn btn-info btn-round btn-just-icon\",\n        onClick: _cache[1] || (_cache[1] = $event => query())\n      }, _hoisted_9)])])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"btn btn-info btn-round\",\n        style: {\n          \"margin-top\": \"10px\"\n        },\n        onClick: _cache[2] || (_cache[2] = $event => add('vlog'))\n      }, [_hoisted_11, _createTextVNode(\" New vlog \")]), _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"btn btn-warning btn-round\",\n        style: {\n          \"margin-top\": \"10px\",\n          \"margin-left\": \"10px\"\n        },\n        onClick: _cache[3] || (_cache[3] = $event => add('h5'))\n      }, [_hoisted_12, _createTextVNode(\" New H5 \")])])]), _createVNode(DynamicTable, {\n        data: _unref(tableData),\n        header: _unref(tableHeader),\n        operations: _unref(operations),\n        preNum: _unref(pageNum) * _unref(pageSize) - _unref(pageSize),\n        onCommands: view\n      }, null, 8, [\"data\", \"header\", \"operations\", \"preNum\"]), _createVNode(_component_el_pagination, {\n        background: \"\",\n        layout: \"prev, pager, next\",\n        total: _unref(total),\n        \"current-page\": _unref(pageNum),\n        \"onUpdate:currentPage\": _cache[4] || (_cache[4] = $event => _isRef(pageNum) ? pageNum.value = $event : pageNum = $event),\n        onCurrentChange: handlePageChange,\n        \"page-size\": _unref(pageSize)\n      }, null, 8, [\"total\", \"current-page\", \"page-size\"])]), _createVNode(_component_el_dialog, {\n        modelValue: _unref(visible),\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _isRef(visible) ? visible.value = $event : visible = $event),\n        title: \"View\",\n        width: \"80%\",\n        \"destroy-on-close\": \"\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"iframe\", {\n          src: _unref(rowData).link,\n          width: \"100%\",\n          height: \"400\",\n          style: {\n            \"border\": \"none\"\n          }\n        }, null, 8, _hoisted_13)]),\n        _: 1\n      }, 8, [\"modelValue\"]), _createVNode(BlogH5, {\n        visible: _unref(dialogShow),\n        \"onUpdate:visible\": _cache[6] || (_cache[6] = $event => _isRef(dialogShow) ? dialogShow.value = $event : dialogShow = $event),\n        title: dialogTitle.value,\n        data: _unref(editData)\n      }, null, 8, [\"visible\", \"title\", \"data\"]), _createVNode(BlogVlog, {\n        visible: _unref(dialogShow1),\n        \"onUpdate:visible\": _cache[7] || (_cache[7] = $event => _isRef(dialogShow1) ? dialogShow1.value = $event : dialogShow1 = $event),\n        title: dialogTitle.value,\n        data: _unref(editData)\n      }, null, 8, [\"visible\", \"title\", \"data\"])]);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./blog-addh5.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./blog-addh5.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* unplugin-vue-components disabled */import script from \"./blog-addvlog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./blog-addvlog.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withModifiers as _withModifiers, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = [\"src\"];\nimport { ref, onMounted, onBeforeUnmount } from \"vue\";\nimport Cropper from 'cropperjs';\nimport \"cropperjs/dist/cropper.css\";\nexport default {\n  __name: 'crope-img',\n  props: {\n    //图片地址\n    imageSrc: {\n      type: String,\n      required: true\n    },\n    //aspectRatio:置裁剪框为固定的宽高比\n    aspectRatio: {\n      type: Number,\n      default: 1\n    },\n    //viewMode: 视图控制\n    viewMode: {\n      type: Number,\n      default: 1\n    },\n    //autoCropArea: 设置裁剪区域占图片的大小 值为 0-1 默认 0.8 表示 80%的区域\n    autoCropArea: {\n      type: Number,\n      default: 1\n    }\n  },\n  emits: ['updateImageSrc'],\n  setup(__props, {\n    emit\n  }) {\n    const props = __props;\n\n    //绑定图片的dom对象\n    const imageRef = ref(null);\n    let cropper = null;\n    //使用Cropper构造函数创建裁剪器实例，并将图片元素和一些裁剪选项传入\n    onMounted(() => {\n      cropper = new Cropper(imageRef.value, {\n        aspectRatio: props.aspectRatio,\n        viewMode: props.viewMode,\n        autoCropArea: props.autoCropArea\n      });\n    });\n\n    //定义方法\n\n    //在cropImage函数中，获取裁剪后的图片数据URL，并使用emit方法触发updateImageSrc事件，\n    // 将裁剪后的图片数据URL传递给父组件。\n    const cropImage = () => {\n      const canvas = cropper.getCroppedCanvas();\n      const croppedImage = canvas.toDataURL();\n      emit('updateImageSrc', croppedImage);\n    };\n\n    //销毁\n    onBeforeUnmount(() => {\n      cropper.destroy();\n    });\n    return (_ctx, _cache) => {\n      const _component_el_button = _resolveComponent(\"el-button\");\n      return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"img\", {\n        ref_key: \"imageRef\",\n        ref: imageRef,\n        src: __props.imageSrc,\n        alt: \"image\"\n      }, null, 8, _hoisted_1), _createVNode(_component_el_button, {\n        onClick: _withModifiers(cropImage, [\"stop\"])\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Crop Imgae\")]),\n        _: 1\n      }, 8, [\"onClick\"])]);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./crope-img.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./crope-img.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card-text\",\n  style: {\n    \"display\": \"block\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"card-title\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"card-category\"\n};\nimport { ref, watch } from \"vue\";\nexport default {\n  __name: 'page-title',\n  props: {\n    option: Object,\n    default: () => {}\n  },\n  setup(__props) {\n    const props = __props;\n    const title = ref({});\n    watch(() => props.option, val => {\n      title.value = val;\n    }, {\n      immediate: true\n    });\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        class: _normalizeClass(`card-header card-header-text card-header-${title.value.type}`)\n      }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"h4\", _hoisted_2, _toDisplayString(title.value.title), 1), title.value.desc ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, _toDisplayString(title.value.desc), 1)) : _createCommentVNode(\"\", true)])], 2);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./page-title.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./page-title.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","// ==========tinymce.js==========\nexport const plugins = [\n    'advlist anchor autolink autosave code codesample  directionality  fullscreen hr insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus  template  textpattern visualblocks visualchars wordcount'\n]\n\nexport const toolbar = [\n    'fontsizeselect lineheight searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample',\n    'hr bullist numlist link  preview anchor pagebreak insertdatetime media  forecolor backcolor fullscreen'\n]","export function buildShortUUID() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0,\n            v = c == \"x\" ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n","const validEvents = [\n  'onActivate',\n  'onAddUndo',\n  'onBeforeAddUndo',\n  'onBeforeExecCommand',\n  'onBeforeGetContent',\n  'onBeforeRenderUI',\n  'onBeforeSetContent',\n  'onBeforePaste',\n  'onBlur',\n  'onChange',\n  'onClearUndos',\n  'onClick',\n  'onContextMenu',\n  'onCopy',\n  'onCut',\n  'onDblclick',\n  'onDeactivate',\n  'onDirty',\n  'onDrag',\n  'onDragDrop',\n  'onDragEnd',\n  'onDragGesture',\n  'onDragOver',\n  'onDrop',\n  'onExecCommand',\n  'onFocus',\n  'onFocusIn',\n  'onFocusOut',\n  'onGetContent',\n  'onHide',\n  'onInit',\n  'onKeyDown',\n  'onKeyPress',\n  'onKeyUp',\n  'onLoadContent',\n  'onMouseDown',\n  'onMouseEnter',\n  'onMouseLeave',\n  'onMouseMove',\n  'onMouseOut',\n  'onMouseOver',\n  'onMouseUp',\n  'onNodeChange',\n  'onObjectResizeStart',\n  'onObjectResized',\n  'onObjectSelected',\n  'onPaste',\n  'onPostProcess',\n  'onPostRender',\n  'onPreProcess',\n  'onProgressState',\n  'onRedo',\n  'onRemove',\n  'onReset',\n  'onSaveContent',\n  'onSelectionChange',\n  'onSetAttrib',\n  'onSetContent',\n  'onShow',\n  'onSubmit',\n  'onUndo',\n  'onVisualAid'\n]\n\nconst isValidKey = (key) => validEvents.indexOf(key) !== -1\n\nexport const bindHandlers = (initEvent, listeners, editor) => {\n  Object.keys(listeners)\n    .filter(isValidKey)\n    .forEach((key) => {\n      const handler = listeners[key]\n      if (typeof handler === 'function') {\n        if (key === 'onInit') {\n          handler(initEvent, editor)\n        } else {\n          editor.on(key.substring(2), (e) => handler(e, editor))\n        }\n      }\n    })\n}\n","// ==== onMountedOrActivated  hook====\nimport { nextTick, onMounted, onActivated } from 'vue'\nexport function onMountedOrActivated (hook) {\n  let mounted\n  onMounted(() => {\n    hook()\n    nextTick(() => {\n      mounted = true\n    })\n  })\n  onActivated(() => {\n    if (mounted) {\n      hook()\n    }\n  })\n}\n","// ==== isNumber  函数====\nconst toString = Object.prototype.toString\nexport function is (val, type) {\n  return toString.call(val) === `[object ${type}]`\n}\nexport function isNumber (val) {\n  return is(val, 'Number')\n}\n","import { createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-568d9ee0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = [\"id\"];\nimport tinymce from 'tinymce/tinymce';\nimport 'tinymce/themes/silver';\nimport 'tinymce/icons/default/icons';\nimport 'tinymce/plugins/advlist';\nimport 'tinymce/plugins/anchor';\nimport 'tinymce/plugins/autolink';\nimport 'tinymce/plugins/autosave';\nimport 'tinymce/plugins/code';\nimport 'tinymce/plugins/codesample';\nimport 'tinymce/plugins/directionality';\nimport 'tinymce/plugins/fullscreen';\nimport 'tinymce/plugins/hr';\nimport 'tinymce/plugins/insertdatetime';\nimport 'tinymce/plugins/link';\nimport 'tinymce/plugins/lists';\nimport 'tinymce/plugins/media';\nimport 'tinymce/plugins/nonbreaking';\nimport 'tinymce/plugins/noneditable';\nimport 'tinymce/plugins/pagebreak';\nimport 'tinymce/plugins/paste';\nimport 'tinymce/plugins/preview';\nimport 'tinymce/plugins/print';\nimport 'tinymce/plugins/save';\nimport 'tinymce/plugins/searchreplace';\nimport 'tinymce/plugins/spellchecker';\nimport 'tinymce/plugins/tabfocus';\nimport 'tinymce/plugins/template';\nimport 'tinymce/plugins/textpattern';\nimport 'tinymce/plugins/visualblocks';\nimport 'tinymce/plugins/visualchars';\nimport 'tinymce/plugins/wordcount';\n// import 'tinymce/plugins/table';\n\nimport { computed, nextTick, ref, unref, watch, onDeactivated, onBeforeUnmount, getCurrentInstance } from 'vue';\nimport { toolbar, plugins } from './tinymce';\nimport { buildShortUUID } from '../../utils/uuid';\nimport { bindHandlers } from './helper';\nimport { onMountedOrActivated } from '../../hooks/core';\nimport { isNumber } from '../../utils/is';\nexport default {\n  __name: 'tinymce',\n  props: {\n    options: {\n      type: Object,\n      default: () => {}\n    },\n    value: {\n      type: String\n    },\n    toolbar: {\n      type: Array,\n      default: toolbar\n    },\n    plugins: {\n      type: Array,\n      default: plugins\n    },\n    modelValue: {\n      type: String\n    },\n    height: {\n      type: [Number, String],\n      required: false,\n      default: 400\n    },\n    width: {\n      type: [Number, String],\n      required: false,\n      default: 'auto'\n    },\n    showImageUpload: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: ['change', 'update:modelValue', 'inited', 'init-error'],\n  setup(__props, {\n    emit: emits\n  }) {\n    const props = __props;\n    const {\n      attrs\n    } = getCurrentInstance();\n    const tinymceId = ref(buildShortUUID('tiny-vue'));\n    const containerWidth = computed(() => {\n      const width = props.width;\n      if (isNumber(width)) {\n        return `${width}px`;\n      }\n      return width;\n    });\n    const editorRef = ref(null);\n    const fullscreen = ref(false);\n    const elRef = ref(null);\n    const tinymceContent = computed(() => props.modelValue);\n    const initOptions = computed(() => {\n      const {\n        height,\n        options,\n        toolbar,\n        plugins\n      } = props;\n      const publicPath = '/';\n      return {\n        selector: `#${unref(tinymceId)}`,\n        height,\n        toolbar,\n        menubar: 'file edit insert view format table',\n        plugins,\n        //language_url: '/resource/tinymce/langs/zh_CN.js',\n        //language: 'zh_CN',\n        branding: false,\n        default_link_target: '_blank',\n        link_title: false,\n        object_resizing: false,\n        auto_focus: true,\n        skin: 'oxide',\n        skin_url: '/tinymce/skins/ui/oxide',\n        content_css: '/tinymce/skins/ui/oxide/content.min.css',\n        ...options,\n        setup: editor => {\n          editorRef.value = editor;\n          editor.on('init', e => initSetup(e));\n        }\n      };\n    });\n    const disabled = computed(() => {\n      const {\n        options\n      } = props;\n      const getdDisabled = options && Reflect.get(options, 'readonly');\n      const editor = unref(editorRef);\n      if (editor) {\n        editor.setMode(getdDisabled ? 'readonly' : 'design');\n      }\n      return getdDisabled ?? false;\n    });\n    watch(() => attrs.disabled, () => {\n      const editor = unref(editorRef);\n      if (!editor) {\n        return;\n      }\n      editor.setMode(attrs.disabled ? 'readonly' : 'design');\n    });\n    onMountedOrActivated(() => {\n      if (!initOptions.value.inline) {\n        tinymceId.value = buildShortUUID('tiny-vue');\n      }\n      nextTick(() => {\n        setTimeout(() => {\n          initEditor();\n        }, 30);\n      });\n    });\n    onBeforeUnmount(() => {\n      destory();\n    });\n    onDeactivated(() => {\n      destory();\n    });\n    function destory() {\n      if (tinymce !== null) {\n        // tinymce?.remove?.(unref(initOptions).selector!);\n      }\n    }\n    function initSetup(e) {\n      const editor = unref(editorRef);\n      if (!editor) {\n        return;\n      }\n      const value = props.modelValue || '';\n      editor.setContent(value);\n      bindModelHandlers(editor);\n      bindHandlers(e, attrs, unref(editorRef));\n    }\n    function initEditor() {\n      const el = unref(elRef);\n      if (el) {\n        el.style.visibility = '';\n      }\n      tinymce.init(unref(initOptions)).then(editor => {\n        emits('inited', editor);\n      }).catch(err => {\n        emits('init-error', err);\n      });\n    }\n    function setValue(editor, val, prevVal) {\n      if (editor && typeof val === 'string' && val !== prevVal && val !== editor.getContent({\n        format: attrs.outputFormat\n      })) {\n        editor.setContent(val);\n      }\n    }\n    function bindModelHandlers(editor) {\n      const modelEvents = attrs.modelEvents ? attrs.modelEvents : null;\n      const normalizedEvents = Array.isArray(modelEvents) ? modelEvents.join(' ') : modelEvents;\n      watch(() => props.modelValue, (val, prevVal) => {\n        setValue(editor, val, prevVal);\n      });\n      watch(() => props.value, (val, prevVal) => {\n        setValue(editor, val, prevVal);\n      }, {\n        immediate: true\n      });\n      editor.on(normalizedEvents || 'change keyup undo redo', () => {\n        const content = editor.getContent({\n          format: attrs.outputFormat\n        });\n        emits('update:modelValue', content);\n        emits('change', content);\n      });\n      editor.on('FullscreenStateChanged', e => {\n        fullscreen.value = e.state;\n      });\n    }\n    function handleImageUploading(name) {\n      const editor = unref(editorRef);\n      if (!editor) {\n        return;\n      }\n      editor.execCommand('mceInsertContent', false, getUploadingImgName(name));\n      const content = editor?.getContent() ?? '';\n      setValue(editor, content);\n    }\n    function handleDone(name, url) {\n      const editor = unref(editorRef);\n      if (!editor) {\n        return;\n      }\n      const content = editor?.getContent() ?? '';\n      const val = content?.replace(getUploadingImgName(name), `<img src=\"${url}\"/>`) ?? '';\n      setValue(editor, val);\n    }\n    function getUploadingImgName(name) {\n      return `[uploading:${name}]`;\n    }\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        class: \"prefixCls\",\n        style: _normalizeStyle({\n          width: containerWidth.value\n        })\n      }, [_createElementVNode(\"textarea\", {\n        id: tinymceId.value,\n        ref_key: \"elRef\",\n        ref: elRef,\n        style: {\n          visibility: 'hidden'\n        }\n      }, null, 8, _hoisted_1)], 4);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./tinymce.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./tinymce.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./tinymce.vue?vue&type=style&index=0&id=568d9ee0&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/liudongxue/Documents/brilliance/game/backend_game/backend_game/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-568d9ee0\"]])\n\nexport default __exports__","/* unplugin-vue-components disabled */import script from \"./blog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./blog.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["global","factory","module","exports","this","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","value","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","from","o","minLen","n","toString","call","slice","name","test","len","arr2","IS_BROWSER","window","document","WINDOW","IS_TOUCH_DEVICE","documentElement","HAS_POINTER_EVENT","NAMESPACE","ACTION_ALL","ACTION_CROP","ACTION_MOVE","ACTION_ZOOM","ACTION_EAST","ACTION_WEST","ACTION_SOUTH","ACTION_NORTH","ACTION_NORTH_EAST","ACTION_NORTH_WEST","ACTION_SOUTH_EAST","ACTION_SOUTH_WEST","CLASS_CROP","concat","CLASS_DISABLED","CLASS_HIDDEN","CLASS_HIDE","CLASS_INVISIBLE","CLASS_MODAL","CLASS_MOVE","DATA_ACTION","DATA_PREVIEW","DRAG_MODE_CROP","DRAG_MODE_MOVE","DRAG_MODE_NONE","EVENT_CROP","EVENT_CROP_END","EVENT_CROP_MOVE","EVENT_CROP_START","EVENT_DBLCLICK","EVENT_TOUCH_START","EVENT_TOUCH_MOVE","EVENT_TOUCH_END","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_READY","EVENT_RESIZE","EVENT_WHEEL","EVENT_ZOOM","MIME_TYPE_JPEG","REGEXP_ACTIONS","REGEXP_DATA_URL","REGEXP_DATA_URL_JPEG","REGEXP_TAG_NAME","MIN_CONTAINER_WIDTH","MIN_CONTAINER_HEIGHT","DEFAULTS","viewMode","dragMode","initialAspectRatio","NaN","aspectRatio","data","preview","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","center","highlight","background","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRatio","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","minContainerWidth","minContainerHeight","ready","cropstart","cropmove","cropend","crop","zoom","TEMPLATE","isNaN","Number","isNumber","isPositiveNumber","Infinity","isUndefined","isObject","hasOwnProperty","isPlainObject","_constructor","error","isFunction","toArray","callback","assign","_len","args","_key","arg","REGEXP_DECIMALS","normalizeDecimalNumber","times","undefined","Math","round","REGEXP_SUFFIX","setStyle","element","styles","style","property","hasClass","classList","contains","className","indexOf","addClass","elem","add","trim","removeClass","remove","replace","toggleClass","added","REGEXP_CAMEL_CASE","toParamCase","toLowerCase","getData","dataset","getAttribute","setData","setAttribute","removeData","removeAttribute","REGEXP_SPACES","onceSupported","supported","once","listener","options","get","set","addEventListener","removeEventListener","removeListener","type","handler","split","event","listeners","addListener","_handler","_element$listeners","_len2","_key2","dispatchEvent","Event","CustomEvent","detail","bubbles","cancelable","createEvent","initCustomEvent","getOffset","box","getBoundingClientRect","left","pageXOffset","clientLeft","top","pageYOffset","clientTop","location","REGEXP_ORIGINS","isCrossOriginURL","url","parts","match","protocol","hostname","port","addTimestamp","timestamp","Date","getTime","getTransforms","_ref","rotate","scaleX","scaleY","translateX","translateY","values","transform","join","WebkitTransform","msTransform","getMaxZoomRatio","pointers","pointers2","maxRatio","pointer","pointerId","pointer2","x1","abs","startX","y1","startY","x2","endX","y2","endY","z1","sqrt","z2","ratio","getPointer","_ref2","endOnly","pageX","pageY","end","getPointersCenter","count","_ref3","getAdjustedSizes","_ref4","height","width","isValidWidth","isValidHeight","adjustedWidth","getRotatedSizes","_ref5","degree","arc","PI","sinArc","sin","cosArc","cos","newWidth","newHeight","getSourceCanvas","image","_ref6","_ref7","_ref8","imageAspectRatio","imageNaturalWidth","naturalWidth","imageNaturalHeight","naturalHeight","_ref6$rotate","_ref6$scaleX","_ref6$scaleY","_ref8$fillColor","fillColor","_ref8$imageSmoothingE","imageSmoothingEnabled","_ref8$imageSmoothingQ","imageSmoothingQuality","_ref8$maxWidth","maxWidth","_ref8$maxHeight","maxHeight","_ref8$minWidth","minWidth","_ref8$minHeight","minHeight","canvas","createElement","context","getContext","maxSizes","minSizes","min","max","destMaxSizes","destMinSizes","destWidth","destHeight","params","fillStyle","fillRect","save","translate","scale","drawImage","map","param","floor","fromCharCode","String","getStringFromCharCode","dataView","start","str","getUint8","REGEXP_DATA_URL_HEAD","dataURLToArrayBuffer","dataURL","base64","binary","atob","arrayBuffer","ArrayBuffer","uint8","Uint8Array","charCodeAt","arrayBufferToDataURL","mimeType","chunks","chunkSize","subarray","btoa","resetAndGetOrientation","orientation","DataView","littleEndian","app1Start","ifdStart","byteLength","offset","exifIDCode","tiffOffset","endianness","getUint16","firstIFDOffset","getUint32","_offset","_length","setUint16","parseOrientation","render","initContainer","initCanvas","initCropBox","renderCanvas","cropped","renderCropBox","container","cropper","containerData","offsetWidth","offsetHeight","imageData","rotated","canvasWidth","canvasHeight","canvasData","limited","limitCanvas","oldLeft","oldTop","initialCanvasData","sizeLimited","positionLimited","cropBoxData","_getAdjustedSizes","newCanvasLeft","newCanvasTop","minLeft","minTop","maxLeft","maxTop","changed","transformed","_getRotatedSizes","renderImage","limitCropBox","output","initialCropBoxData","maxCropBoxWidth","maxCropBoxHeight","face","cropBox","disabled","initPreview","crossOrigin","crossOriginUrl","alt","src","viewBox","appendChild","viewBoxImage","previews","ownerDocument","querySelectorAll","querySelector","el","img","html","innerHTML","cssText","resetPreview","cropBoxWidth","cropBoxHeight","originalWidth","originalHeight","getElementsByTagName","events","bind","onCropStart","cropStart","onWheel","wheel","passive","capture","onDblclick","dblclick","onCropMove","cropMove","onCropEnd","cropEnd","onResize","resize","unbind","handlers","ratioX","ratioY","getCanvasData","getCropBoxData","setCanvasData","setCropBoxData","setDragMode","dragBox","_this","delta","preventDefault","wheeling","setTimeout","deltaY","wheelDelta","buttons","button","pointerType","ctrlKey","action","changedTouches","touch","identifier","originalEvent","cropping","change","right","bottom","renderable","shiftKey","range","x","y","check","side","move","p","methods","reset","initialImageData","clear","hasSameSize","isImg","replaced","uncreate","load","enable","disable","destroy","originalUrl","offsetX","offsetY","_this$canvasData","moveTo","_originalEvent","zoomTo","pivot","oldRatio","rotateTo","_scaleX","_scaleY","rounded","getContainerData","getImageData","sized","widthChanged","heightChanged","getCroppedCanvas","HTMLCanvasElement","_this$getData","initialX","initialY","initialWidth","initialHeight","_options$imageSmoothi","srcWidth","srcHeight","dstX","dstY","dstWidth","dstHeight","sourceWidth","sourceHeight","srcX","srcY","setAspectRatio","mode","croppable","AnotherCropper","Cropper","tagName","Error","reloading","sizing","init","toDataURL","read","clone","xhr","XMLHttpRequest","onabort","onerror","ontimeout","onprogress","getResponseHeader","abort","onload","response","onloadend","open","responseType","withCredentials","send","_parseOrientation","stop","parentNode","insertBefore","nextSibling","_this2","isIOSWebKit","navigator","userAgent","done","build","sizingImage","body","removeChild","template","getElementsByClassName","unbuild","uploadContextKey","progressProps","buildProps","default","percentage","validator","val","status","indeterminate","Boolean","duration","strokeWidth","strokeLinecap","definePropType","textInside","showText","color","Function","striped","stripedFlow","format","STATUS_COLOR_MAP","success","exception","warning","ns","useNamespace","barStyle","computed","animationDuration","backgroundColor","getCurrentColor","relativeStrokeWidth","toFixed","radius","includes","parseInt","parseFloat","trackPath","r","isDashboard","perimeter","rate","strokeDashoffset","trailPathStyle","strokeDasharray","circlePathStyle","transition","stroke","ret","statusIcon","WarningFilled","CircleCheck","CircleClose","Check","Close","progressTextSize","content","getColors","span","seriesColors","seriesColor","index","isString","sort","a","b","_a","colors","color2","ElProgress","withInstall","Progress","SCOPE","UploadAjaxError","message","method","getError","option","msg","responseText","getBody","text","JSON","parse","e","ajaxUpload","throwError","upload","evt","progressEvt","percent","total","loaded","onProgress","formData","FormData","entries","append","filename","file","onError","onSuccess","headers","Headers","setRequestHeader","isNil","uploadListTypes","fileId","genFileId","now","uploadBaseProps","mutable","multiple","drag","showFileList","accept","fileList","autoUpload","listType","httpRequest","limit","uploadProps","beforeUpload","NOOP","beforeRemove","onRemove","onChange","onPreview","onExceed","uploadListProps","files","handlePreview","uploadListEmits","t","useLocale","nsUpload","nsIcon","nsList","useFormDisabled","focusing","ref","handleRemove","emit","CLONE_DEEP_FLAG","CLONE_SYMBOLS_FLAG","cloneDeep","baseClone","uploadDraggerProps","uploadDraggerEmits","COMPONENT_NAME","uploaderContext","inject","dragover","onDrop","stopPropagation","dataTransfer","filesFiltered","extension","pop","baseType","type2","some","acceptedType","startsWith","onDragover","uploadContentProps","onStart","inheritAttrs","requests","shallowRef","inputRef","uploadFiles","rawFile","uid","async","doUpload","hookResult","beforeData","beforeUploadPromise","Blob","File","res","err","request","Promise","then","handleChange","handleClick","click","handleKeydown","_reqs","entriesOf","req","expose","revokeObjectURL","URL","useHandlers","uploadRef","useVModel","getFile","find","clearFiles","states","row","handleError","console","splice","handleProgress","handleSuccess","handleStart","uploadFile","size","raw","createObjectURL","debugWarn","doRemove","file2","before","submit","watch","immediate","deep","slots","useSlots","isPictureCard","onBeforeUnmount","provide","toRef","ElUpload","Upload","tinymce","IconManager","icons","require","global$1","util","Tools","resolve","applyListFormat","editor","listName","styleValue","cmd","execCommand","register$1","addCommand","ui","getNumberStyles","getParam","getBulletStyles","noop","constant","identity","never","always","none","NONE","thunk","id","me","fold","_s","isSome","isNone","getOr","getOrThunk","getOrDie","getOrNull","getOrUndefined","or","orThunk","each","exists","forall","constant_a","self","f","s","Optional","isChildOfBody","elm","$","isTableCellNode","node","nodeName","isListNode","getSelectedStyleType","listElm","dom","getParent","selection","getNode","getStyle","findIndex","list","predicate","styleValueToText","chr","toUpperCase","isWithinList","tableCellIndex","parents","lists","grep","makeSetupHandler","api","nodeChangeHandler","setActive","on","off","addSplitButton","tooltip","registry","icon","presets","columns","fetch","items","iconStyle","iconName","itemValue","displayText","onAction","onItemAction","_splitButtonApi","select","listStyleType","listStyle","onSetup","addButton","_styles","addToggleButton","active","addControl","register","Plugin","hasPlugin","global$2","allowHtmlInNamedAnchor","namedAnchorSelector","isEmptyString","getIdFromAnchor","isAnchor","isNamedAnchor","isEmptyNamedAnchor","firstChild","removeEmptyNamedAnchorsInSelection","walk","getRng","nodes","isValidId","getNamedAnchor","getStart","getId","anchor","createAnchor","undoManager","transact","collapse","isCollapsed","insertContent","createHTML","formatter","addVisual","updateAnchor","anchorElement","insert","focus","insertAnchor","newId","windowManager","alert","currentId","title","label","placeholder","primary","initialData","onSubmit","close","isNamedAnchorNode","attr","isEmptyNamedAnchorNode","setContentEditable","state","setup","parser","addNodeFilter","serializer","registerFormats","inline","selector","attributes","onmatch","_fmt","_itemName","buttonApi","selectorChangedWithUnbind","addMenuItem","checkRange","substr","prefix","link","defaultLinkPattern","RegExp","getAutoLinkPattern","getDefaultLinkTarget","getDefaultLinkProtocol","rangeEqualsBracketOrSpace","rangeString","isTextNode","nodeType","isElement","handleBracket","parseCurrentLine","handleSpacebar","handleEnter","scopeIndex","setStart","rng","hasChildNodes","setStartBefore","setEnd","setEndAfter","hasProtocol","isPunctuation","char","endOffset","endContainer","bookmark","prev","rngText","autoLinkPattern","defaultLinkTarget","cloneRange","startOffset","previousSibling","nodeValue","charAt","matches","getBookmark","setRng","setAttrib","moveToBookmark","nodeChanged","autoUrlDetectState","keyCode","browser","isIE","ex","global$4","eq","global$3","fireRestoreDraft","fire","fireStoreDraft","fireRemoveDraft","timeString","defaultTime","multiples","m","toParse","parsedTime","exec","shouldAskBeforeUnload","getAutoSavePrefix","pathname","search","hash","shouldRestoreWhenEmpty","getAutoSaveInterval","getAutoSaveRetention","isEmpty","trimmedHtml","fragment","DOMParser","parseFromString","hasDraft","time","getItem","removeDraft","removeItem","storeDraft","isDirty","setItem","getContent","no_events","restoreDraft","setContent","startStoreDraft","interval","setEditorInterval","restoreLastDraft","editorManager","plugins","autosave","returnValue","setDisabled","editorEventCallback","setCursorLocation","source_view","editorContent","code","get$1","xs","head","someIf","isCodeSample","trimArg","predicateFn","arg1","arg2","Global","exports$1","define","oldprism","Prism","manual","amd","globalThis","EphoxContactWrapper","commonjsGlobal","prismCore","_self","WorkerGlobalScope","lang","uniqueId","plainTextGrammar","_","disableWorkerMessageHandler","encode","tokens","Token","alias","objId","deepClone","visited","v","getLanguage","parentElement","currentScript","stack","scripts","isActive","defaultActivation","no","languages","plain","plaintext","txt","extend","redef","inside","root","grammar","token","newToken","old","DFS","propertyType","highlightAll","highlightAllUnder","env","hooks","run","elements","highlightElement","language","parent","textContent","insertHighlightedCode","highlightedCode","hasAttribute","Worker","worker","onmessage","postMessage","stringify","immediateClose","tokenize","rest","tokenList","LinkedList","addAfter","matchGrammar","all","callbacks","matchedStr","matchPattern","pattern","pos","lookbehind","lastIndex","lookbehindLength","startNode","startPos","rematch","patterns","j","cause","patternObj","greedy","flags","currentNode","next","tail","reach","removeCount","to","k","matchStr","after","removeFrom","removeRange","wrapped","nestedRematch","newNode","array","tag","classes","aliases","script","highlightAutomaticallyCallback","readyState","defer","requestAnimationFrame","clike","getPlaceholder","buildPlaceholders","placeholderPattern","replaceFilter","tokenStack","markup","tokenizePlaceholders","walkTokens","substring","middle","replacement","c","keyword","modName","cpp","replacements","re","nested","depthLog2","keywordKinds","typeDeclaration","contextual","other","keywordsToPattern","words","typeDeclarationKeywords","keywords","nonTypeKeywords","nonContextualKeywords","generic","nestedRound","genericName","typeExpressionWithoutTuple","tupleElement","tuple","typeExpression","typeInside","character","regularString","verbatimString","csharp","regularStringOrCharacter","regularStringCharacterOrComment","roundExpression","attrTarget","formatString","mInterpolationRound","mInterpolation","sInterpolationRound","sInterpolation","createInterpolationInside","interpolation","interpolationRound","dotnet","cs","string","css","addInlined","addAttribute","classNamePrefix","java","function","javascript","regex","js","includedCdataInside","def","attrName","mathml","svg","xml","ssml","atom","rss","comment","number","operator","punctuation","php","string_interpolation","phpPattern","python","py","ruby","rb","Prism$1","prismjs","boltExport","prism","getLanguages$1","useGlobalPrismJS","getSelectedCodeSample","insertCodeSample","DOM","removeAttr","getCurrentCode","getLanguages","defaultLanguages","customLanguages","getCurrentLanguage","fallback","defaultLanguage","l","currentLanguage","currentCode","toggle","idx","$elm","empty","unprocessedCodeSamples","contentEditable","replaceChild","getDoc","createTextNode","isCodeSampleSelection","is","ev","typeOf","isPrototypeOf","isType$1","isSimpleType","isBoolean","isNullable","isNonNullable","compose1","fbc","fab","pred","DOCUMENT","DOCUMENT_FRAGMENT","ELEMENT","TEXT","fromHtml","scope","doc","div","childNodes","fromDom","fromTag","fromText","fromPoint","docElm","elementFromPoint","SugarElement","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","isType","isText","isDocument","isDocumentFragment","isTag","owner","documentOrOwner","dos","children$2","rawSet","isShadowRoot","host","Element","attachShadow","Node","getRootNode","getShadowRoot","getShadowHost","inBody","ancestor$1","isRoot","ancestor","isSupported","getPropertyValue","getComputedStyle","getUnsafeProperty","getDirection","children$1","children","getParentElement","getNormalizedBlock","isListItem","normalizedElement","setDir","dir","selectedBlocks","getSelectedBlocks","block","blockElement","isBlockElementListItem","normalizedBlock","normalizedBlockParent","parentDirection","listItems","listItem","getNodeChangeHandler","Cell","initial","get$5","fullscreenState","isFullscreen","compose","fa","fb","_i","curry","fn","initialArgs","restArgs","__assign","singleton","doRevoke","subject","revoke","isSet","unbindable","nativePush","each$1","filter$1","findUntil","until","find$1","flatten","bind$3","get$4","findMap","isSupported$1","cached","called","DeviceType","os","mediaMatch","isiPad","isiOS","isiPhone","isMobile","isAndroid","isTouch","isTablet","isPhone","iOSwebview","isSafari","isDesktop","isWebView","firstMatch","regexes","agent","major","minor","group","nu$2","detect$3","versionRegexes","cleanedAgent","unknown$2","Version","nu","detect","unknown","detectBrowser$1","browsers","userAgentData","brands","uaBrand","lcBrand","brand","info","current","version","detect$2","candidates","candidate","detectBrowser","detectOs","oses","normalVersionRegex","checkContains","uastring","PlatformInfo","edge","chrome","ie","opera","firefox","safari","unknown$1","nu$1","isBrowser","isEdge","isChrome","isOpera","isFirefox","Browser","windows","ios","android","linux","osx","solaris","freebsd","chromeos","isOS","isWindows","isOSX","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","detect$1","userAgentDataOpt","deviceType","PlatformDetection","query","matchMedia","platform","bypassSelector","childElementCount","all$1","base","e1","e2","rawParent","siblings$2","filterSelf","getOriginalEventTarget","isOpenShadowHost","composed","composedPath","shadowRoot","get$3","internalSet","setProperty","setAll","get$2","mkEvent","prevent","kill","fromRawEvent","rawEvent","clientX","clientY","handle","binder","useCapture","bind$2","bind$1","SugarPosition","_DOC","scrollLeft","scrollTop","_win","win","bounds","getBounds","scroll","clientWidth","clientHeight","visualViewport","pageLeft","pageTop","fireFullscreenStateChanged","getFullscreenNative","getFullscreenRoot","getElement","getFullscreenElement","fullscreenElement","msFullscreenElement","webkitFullscreenElement","getFullscreenchangeEventName","requestFullscreen","sugarElem","msRequestFullscreen","webkitRequestFullScreen","exitFullscreen","sugarDoc","msExitFullscreen","webkitCancelFullScreen","isFullscreenElement","ancestors$1","siblings$1","ancestors","siblings","siblingStyles","ancestorPosition","ancestorStyles","bgFallback","matchColor","editorBody","clobberStyles","gatherSiblings","clobber","clobberStyle","backup","parseStyle","bgColor","containerStyles","restoreStyles","clobberedEls","getScrollPos","setScrollPos","scrollTo","viewportUpdate","editorContainer","resizeBinder","scrollBinder","refreshScroll","refreshVisualViewport","offsetTop","offsetLeft","update","throttle","toggleFullscreen","getContainer","editorContainerS","fullscreenRoot","fullscreenInfo","editorContainerStyle","iframe","iframeElement","iframeStyle","handleClasses","cleanup","fullscreenChangeHandler","iframeWidth","iframeHeight","containerWidth","containerHeight","containerTop","containerLeft","scrollPos","_evt","newFullScreenInfo","addToggleMenuItem","shortcut","addShortcut","getDateFormat","getTimeFormat","getFormats","getDefaultDateTime","formats","shouldInsertTimeElement","daysShort","daysLong","monthsShort","monthsLong","addZeros","getDateTime","fmt","date","getFullYear","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","updateElement","timeElm","computerTime","userTime","newTimeElm","create","datetime","insertDateTime","_ui","defaultFormat","_api","makeMenuItemHandler","addNestedMenuItem","getSubmenuItems","global$7","global$6","isNull","tripleEquals","nativeIndexOf","rawIndexOf","ts","foldl","acc","lhs","rhs","comparator","cat","assumeExternalTargets","externalTargets","hasContextToolbar","getLinkList","getTargetList","getRelList","getLinkClassList","shouldShowLinkTitle","allowUnsafeLinkTarget","useQuickLink","global$5","getValue","item","getText","sanitizeList","extractValue","out","menu","sanitizeWith","extracter","sanitize","createUi","ListOptions","objAcc","internalFilter","onTrue","onFalse","has","hasNonNullableKey","isLink","getHref","collectNodesInRange","collapsed","contents","cloneContents","walker","href","applyRelTargetRules","rel","isUnsafe","rules","rels","addTargetRules","removeTargetRules","inArray","newRels","trimCaretContainers","getAnchorElement","selectedElm","isImageFigure","getAnchorText","anchorElm","innerText","hasLinks","hasLinksInSelection","isOnlyTextSelected","inlineTextElements","schema","getTextInlineElements","getLinkAttrs","attrs","handleExternalTargets","applyLinkOverrides","linkAttrs","newLinkAttrs","newRel","updateLink","setAttribs","createLink","linkImageFigure","linkDomMutation","attachState","attach","unlinkSelection","startAnchorElm","startContainer","endAnchorElm","unlinkDomMutation","unlinkImageFigure","unwrapOptions","cls","class","_k","sanitizeData","isDomSafe","settings","sanitizedData","unlink","fig","getParents","isListGroup","findTextByValue","catalog","getDelta","persistentText","fieldName","hasPersistentText","meta","findCatalog","catalogs","linkCatalog","persistentData","getTitleFromUrlChange","getTextFromUrlChange","onUrlChange","onCatalogChange","DialogChanges","delayedConfirm","setEditorTimeout","confirm","tryEmailTransform","suggestMailTo","preprocess","oldData","tryProtocolTransform","defaultLinkProtocol","suggestProtocol","DialogConfirms","getAnchors","anchorNodes","anchors","AnchorListOptions","getClasses","ClassListOptions","parseJson","getLinks","extractor","convertURL","linkList","optItems","noneItem","LinkListOptions","getRels","initialTarget","isTargetBlank_1","enforceSafe","safeRelExtractor","sanitizer","RelOptions","fallbacks","getTargets","TargetOptions","nonEmptyAttr","getAttrib","extractFromAnchor","onlyText","linkClass","collect","linkNode","links","targets","optNode","titleEnabled","DialogInfo","handleSubmit","getChangedValue","changedData","pData","collectData","anchorNode","getInitialData","defaultTarget","original","makeDialog","urlInput","filetype","titleText","dialogDelta","newData","open$1","spec","appendClickRemove","initMouseEvent","getLink","getSelectedLink","hasOnlyAltModifier","altKey","metaKey","gotoLink","targetEl","scrollIntoView","openDialog","gotoSelectedLink","setupGotoLinks","metaKeyPressed","toggleState","toggler","toggleActiveState","updateState","isReadOnly","toggleEnabledState","toggleUnlinkState","hasLinks$1","toolbarKey","setupButtons","setupMenuItems","setupContextMenu","inLink","noLink","addContextMenu","setupContextToolbars","collapseSelectionToEnd","onSetupLink","getLinkText","addContextForm","launch","initValue","commands","formApi","hide","not","nativeSlice","groupBy","wasType","reverse","last","__spreadArray","pack","ar","contains$1","blank","isNotEmpty","isEmpty$1","compareDocumentPosition","documentPositionContainedBy","DOCUMENT_POSITION_CONTAINED_BY","is$2","regularContains","d1","d2","ieContains","is$1","clone$1","child","lastChild","before$1","marker","parent$1","append$1","isDeep","cloneNode","shallowAs","mutate","matchNodeName","matchNodeNames","isOlUlNode","isOlNode","isListItemNode","isDlItemNode","isBr","isFirstChild","isTextBlock","getTextBlockElements","isBlock","blockElements","isBogusBr","keepBookmarks","isChildOf","getRoot","shouldIndentOnTab","getForcedRootBlock","getForcedRootBlockAttrs","createTextBlock","contentNode","textBlock","hasContentNode","getBlockElements","createFragment","blockName","DOM$2","splitList","li","removeAndKeepBookmarks","targetNode","bookmarks","newBlock","tmpRng","createRng","setStartAfter","extractContents","insertAfter","isDescriptionDetail","isDescriptionTerm","outdentDlItem","dl","indentDlItem","dlIndentation","indentation","dlItems","getNormalizedPoint","normalizeRange","outRng","rangeStart","rangeEnd","getParentList","selectionStart","getClosestListRootElm","isParentListSelected","parentList","findSubLists","getSelectedSubLists","findParentListItemsNodes","elms","listItemsElms","parentLi","unique","getSelectedListItems","getSelectedDlItems","parentTableCell","findLastParentListNode","parentLists","getSelectedLists","firstList","subsequentLists","getSelectedListRoots","selectedLists","getUniqueListRoots","listRoots","lift2","oa","ob","fromElements","createDocumentFragment","fireListEvent","joinSegment","joinSegments","segments","appendSegments","head$1","createSegment","segment","createSegments","entry","populateSegments","listAttributes","itemAttributes","normalizeSegment","createItem","appendItem","writeShallow","cast","newCast","depth","writeDeep","composeList","isList","hasFirstChildList","hasLastChildList","isIndented","isSelected","cloneItemContent","createEntry","dirty","indentEntry","cloneListProperties","cleanListProperties","_value","closestSiblingEntry","normalizeEntries","matchingEntry","parseItem","itemSelection","selectionState","currentItemEntry","childListEntries","parseList","newDepth","parseLists","initialDepth","sourceList","outdentedComposer","normalizedEntries","indentedComposer","contentDocument","composeEntries","groupIsIndented","indentSelectedEntries","getItemSelection","selectedListItems","listIndentation","entrySets","entrySet","composedLists","composedList","selectionIndentation","isHandled","indentListSelection","outdentListSelection","flattenListSelection","DOM$1","createBookmark","setupEndPoint","offsetNode","resolveBookmark","restoreEndPoint","nodeIndex","listToggleActionFromListName","isCustomList","listState","activate","inList","updateListStyle","updateListAttrs","updateListWithDetails","removeStyles","getEndPointNode","getSelectedTextBlocks","textBlocks","endNode","isBookmarkNode","hasCompatibleStyle","sib","sibStyle","detailStyle","applyList","listItemName","getContentEditable","selectedTextBlocks","listBlock","sibling","rename","mergeWithAdjacentLists","isValidLists","list1","list2","hasSameListStyle","targetStyle","hasSameClasses","elm1","elm2","shouldMerge","updateList$1","newList","toggleMultipleLists","parentIsList","hasListStyleDetail","allLists","toggleSingleList","toggleList","_detail","selectedSubLists","normalizeList","normalizeLists","findNextCaretContainer","isForward","nonEmptyBlocks","getNonEmptyElements","hasOnlyOneBlockChild","unwrapSingleBlockChild","moveChildren","fromElm","toElm","targetElm","mergeLiElements","listNode","ul","nestedLists","mergeIntoEmptyLi","fromLi","toLi","mergeForward","mergeBackward","resolvedBookmark","backspaceDeleteFromListToListCaret","selectionStartElm","rng_1","otherLi_1","removeBlock","parentBlock","backspaceDeleteIntoListCaret","otherLi_2","backspaceDeleteCaret","backspaceDeleteRange","startListParent","backspaceDelete","setup$1","BACKSPACE","DELETE","updateList","setStyles","parseAlphabeticBase26","chars","charValue","pow","sum","composeAlphabeticBase26","remainder","quotient","isUppercase","isLowercase","isNumeric","deduceListType","parseStartValue","parseDetail","currentList","inputMode","queryListCommandState","registerDialog","register$2","command","addQueryStateHandler","setupTabKey","TAB","listProperties","global$9","getScripts","getAudioTemplateCallback","getVideoTemplateCallback","hasLiveEmbeds","shouldFilterHtml","getUrlResolver","hasAltSource","hasPoster","hasDimensions","global$8","getVideoScriptMatch","prefixes","trimPx","getEphoxEmbedData","altsource","poster","htmlToData","isEphoxEmbed","validate","allow_conditional_comments","movie","videoScript","guess","mimes","mp3","m4a","wav","mp4","webm","ogg","swf","fileEnd","mime","addPx","setAttributes","updatedAttrs","updateEphoxEmbed","styleMap","serializeStyle","sources","updateHtml","updateAll","hasImage","writer","sourceCount","cdata","imgAttrs","urlPatterns","w","h","allowFullscreen","getProtocol","protocolMatches","getUrl","newUrl","_loop_1","getIframeHtml","allowfullscreen","getFlashHtml","getAudioHtml","audioTemplateCallback","altsourcemime","getVideoHtml","videoTemplateCallback","sourcemime","getScriptHtml","dataToHtml","dataIn","embed","isMediaElement","setup$2","selectedNode","objectType","unescape","escape","cache","embedPromise","rej","wrappedResolve","defaultPromise","loadedData","getEmbedHtml","embedHandler","isCached","extractMeta","sourceInput","mainData","metaData","prop","getFromData","getFromMetaData","getNonEmptyValue","getFromValueFirst","getFromMetaFirst","getDimensions","dimensions","dims","unwrap","wrap","errorMessage","notificationManager","snippetToData","embedSnippet","getEditorData","snippet","serialize","addEmbedHtml","snippetData","nuData","selectPlaceholder","beforeObjects","afterObjects","handleInsert","submitForm","prevData","catch","showDialog","editorData","currentData","handleSource","serviceData","handleEmbed","dataFromEmbed","handleUpdate","mediaInput","sizeInput","constrain","generalTab","embedTextarea","embedTab","advancedFormItems","advancedTab","tabs","showDialog$1","blocked","isLiveEmbedNode","getDimension","dimension","defaultValue","setDimensions","previewNode","useDefaults","defaultWidth","fallbackHeight","defaultHeight","appendNodeContent","forced_root_block","createPlaceholderNode","placeHolder","shortEnded","retainAttributesAndInnerHtml","transparentSrc","createPreviewNode","previewWrapper","frameborder","sanitizedHtml","shimNode","sourceNode","attribs","ai","attrValue","innerHtml","isPageEmbedWrapper","nodeClass","isWithinEmbedWrapper","placeHolderConverter","ceFalse","specialElements","getSpecialElements","boolAttrs","getBoolAttrs","addAttributeFilter","realElm","innerNode","realElmName","getKeyboardSpaces","spaces","wrapNbsps","stringRepeat","repeats","isVisualCharsEnabled","visualchars","isEnabled","insertNbsp","nbspSpan","shouldWrap","isDefaultPrevented","stopImmediatePropagation","getNonEditableClass","getEditableClass","getNonEditableRegExps","nonEditableRegExps","checkClassName","replaceMatchWithSpan","prevChar","findStartTagIndex","lastIndexOf","tagHtml","convertRegExpsToNonEditable","contentEditableAttrName","editClass","nonEditClass","hasEditClass","hasNonEditClass","getSeparatorHtml","shouldSplitBlock","pageBreakClass","getPlaceholderHtml","separatorHtml","shouldSplitBlock$1","pageBreakSeparatorRegExp","global$b","hasProPlugin","log","clipboard","from$1","endsWith","suffix","repeat","global$a","firePastePreProcess","internal","isWordHtml","wordContent","firePastePostProcess","firePastePlainTextToggle","firePaste","ieFake","shouldBlockDrop","shouldPasteDataImages","shouldFilterDrop","getPreProcess","getPostProcess","getWebkitStyles","shouldRemoveWebKitStyles","shouldMergeFormats","isSmartPasteEnabled","isPasteAsTextEnabled","getRetainStyleProps","getWordValidElements","defaultValidElements","shouldConvertWordFakeLists","shouldUseDefaultFilters","getValidate","getAllowHtmlDataUrls","getPasteDataImages","getImagesDataImgFilter","getImagesReuseFilename","getTabSpaces","getAllowedImageFileTypes","defaultImageFileTypes","explode","internalMimeType","internalMark","mark","unmark","isMarked","internalHtmlMime","isPlainText","toBRs","openContainer","rootTag","rootAttrs","encodeAllRaw","toBlockElements","blocks","tagOpen","tagClose","paragraphs","stitch","convert","nbsp","isRegExp","domParser","shortEndedElements","getShortEndedElements","ignoreElements","makeMap","trimHtml","trimSpaces","s1","s2","createIdGenerator","getImageMimeType","ext","lowerExt","mimeOverrides","jpg","jpe","jfi","jif","jfif","pjpeg","pjp","hasOwn","isWordContent","isNumericList","found","isBulletList","convertFakeListsToProperLists","currentListNode","prevListNode","lastLevel","trimListStart","regExp","removeIgnoredNodes","_listIgnore","convertParagraphToLi","paragraphNode","level","_listLevel","nodeText","filterStyles","validStyles","outputStyles","outputStyle","filterWordContent","retainStyleProperties","validElements","valid_elements","valid_children","rule","attributesOrder","rootNode","preProcess$1","preProcess","isRootContent","processResult","cancelled","postProcessFilter","tempBody","postProcessArgs","filterContent","preProcessArgs","filteredContent","hasEventListeners","process","pasteHtml$1","merge","paste","isAbsoluteUrl","isImageUrl","createImage","pasteHtmlFn","extra","linkSelection","insertImage","smartInsertContent","pasteAsText","isCollapsibleWhitespace","isNewLineChar","isNewline","normalizeWhitespace","tabSpace","normalizedText","result","pcIsSpace","doPaste","pasteHtml","internalFlag","pasteText","encodedText","getDataTransferItems","mceInternalUrlPrefix","legacyText","types","contentType","getClipboardContent","clipboardEvent","clipboardData","hasContentType","clipboardContent","hasHtmlOrText","parseDataUri","uri","decodeURIComponent","isValidDataUriImage","imgElm","extractFilename","pasteImage","imageItem","blob","Image","blobCache","editorUpload","blobInfo","existingBlobInfo","getByData","useFileName","name_1","blobUri","isClipboardEvent","isDataTransferItem","getAsFile","readFilesAsDataUris","reader","FileReader","readAsDataURL","isImage","allowedExtensions","getImagesFromDataTransfer","kind","pasteImageData","images","fileResults","isBrokenAndroidClipboardEvent","isKeyboardPasteEvent","registerEventHandlers","pasteBin","pasteFormat","keyboardPastePlainTextState","keyboardPasteEvent","keyboardPastePressed","removePasteBinOnKeyUp","webkit","insertClipboardContent","isKeyBoardPaste","plainTextMode","getHtml","isDefaultContent","isPlainTextHtml","isAbsoluteUrl$1","getLastRng","isKeyboardPaste","getEl","registerEventsAndFilters","isPasteInsert","isWebKitFakeUrl","isDataUri","getPasteBinParent","isExternalPasteBin","delegatePasteEvents","pasteBinElm","pasteBinDefaultContent","_e","isDefault","lastRngCell","gecko","pasteBinClone","lastRng","copyAndRemove","pasteBinClones","shift","dirtyWrappers","cleanWrapper","isPasteBin","PasteBin","Clipboard","togglePlainTextPaste","hasWorkingClipboardApi","iOS","setHtml5Clipboard","clearData","setClipboardData","markedHtml","outer","inner","contenteditable","position","overflow","offscreenRange","selectNodeContents","isTableSelection","hasSelectedContent","cut","copy","getCaretRangeFromEvent","getCaretRangeFromPoint","isPlainTextFileUrl","plainTextContent","setFocusedRange","draggingInternallyState","dropContent","content_1","plugin","postProcess","addPreProcessFilter","filterFunc","addPostProcessFilter","removeExplorerBrElementsAfterBlocks","explorerBlocksRegExp","removeWebKitStyles","webKitStyles","webKitStylesSetting","dom_1","node_1","inputStyles","decode","inputValue","currentValue","toHex","removeUnderlineAndFontInAnchor","pastePlainTextToggleHandler","getContentStyle","shouldUseContentCssCors","getBodyClassByHash","bodyClass","getBodyClass","getBodyIdByHash","bodyId","getBodyId","getPreviewHtml","headHtml","contentStyle","documentBaseURI","getURI","cors","contentCSS","toAbsolute","isMetaKeyPressed","mac","preventClicksOnLinksScript","directionality","dirAttr","previewHtml","dataApi","sandboxed","getWin","print","enableWhenDirty","hasOnSaveCallback","hasOnCancelCallback","displayErrorMessage","formObj","execCallback","setDirty","onsubmit","cancel","startContent","resetContent","stateToggle","punctuationStr","punctuation$1","eachr","isText$1","documentPositionPreceding","DOCUMENT_POSITION_PRECEDING","spot","leaf","wrapper","NodeValue","getOption","descendants","isSimpleBoundary","isContentEditableFalse","isContentEditableTrueInCef","getContentEditableParent","isHidden","getWhiteSpaceElements","isBoundary","nuSection","sOffset","fOffset","toLeaf","walkerFn","skipStart","isCefNode","stopWalking","cef","boundary","collectTextToBoundary","section","forwards","rootBlock","sections","finishSection","collectRangeSections","commonAncestorContainer","ceTrueNode","fromRng","fromNode","selectNode","fromNodes","find$2","finish","results","matchedText","matchIndex","matchStart","matchFinish","extract","nodePositions","positions","matchIdx","matchId","replacementNode","textNode","splitText","matchNode","findAndMark","textSections","findAndMarkInSelection","getElmIndex","markAllMatches","currentSearchState","inSelection","findSpansByIndex","spans","moveSelection","forward","searchState","testIndex","removeNode","escapeSearchText","wholeWord","escapedText","wordRegex","matchCase","isForwardSelection","newIndex","isMatchSpan","currentMatchIndex","currentIndex","nextIndex","keepEditorSelection","hasNext","hasPrev","currentState","done$1","next$1","prev$1","replace$1","dialogApi","selectedText","updateButtonStates","updateNext","updatePrev","updateSearchState","matchcase","wholewords","inselection","disableAll","notFoundAlert","focusButtonIfRequired","doFind","findtext","initialState","replacetext","maximized","borderless","align","details","onClose","shortcuts","fireSpellcheckStart","fireSpellcheckEnd","getRpcUrl","getSpellcheckerCallback","getSpellcheckerWordcharPattern","defaultPattern","DomTextMatcher","blockElementsMap","hiddenTextElementsMap","shortEndedElementsMap","createMatch","stepThroughMatches","replaceFn","startNodeIndex","endNodeIndex","matchLocation","innerNodes","atIndex","curNode","genReplacer","makeReplacementNode","fill","stencil","elA","innerEl","elB","unwrapElement","getWrappersByIndex","wrappers","dataIndex","filteredMatches","matchFromElement","elementFromMatch","rangeFromMatch","deleteContents","insertNode","getTextMatcher","textMatcherState","textMatcher","defaultSpellcheckCallback","pluginUrl","currentLanguageState","doneCallback","errorCallback","postData","encodeURIComponent","content_type","parseResult","sendRpcCall","successCallback","userSpellcheckCallback","spellCheckCallback","spellchecker","spellcheck","startedState","lastSuggestionsState","setProgressState","markErrors","checkIfFinished","addToDictionary","word","ignoreWord","hasDictionarySupport","dictionary","suggestions","getWordCharPattern","markErrors$1","spellcheckerEvents","buildMenuItems","languageValues","languageValue","selectable","getItems","langPair","langPairs","languageMenuItems","startSpellchecking","buttonArgs","setButtonState","splitButtonArgs","languageItem","splitButtonApi","menuApi","setMenuItemCheck","ignoreAll","getSuggestions","suggestion","getTabFocusElements","getTabFocus","tabCancel","tabHandler","direction","canSelectRecursive","castElem","display","visibility","canSelect","tabIndex","focusEditor","getCreationDateClasses","getModificationDateClasses","getSelectedContentClasses","getPreviewReplaceValues","getTemplateReplaceValues","getTemplates","getCdateFormat","getMdateFormat","getBodyClassFromHash","createTemplateList","templateList","replaceTemplateValues","templateValues","replaceVals","vl","insertTemplate","sel","entitiesAttr","htmlEscape","getPreviewContent","contentCssEntries_1","cors_1","createTemplates","isUrlTemplate","selected","description","createSelectBoxItems","templates","findTemplate","templateTitle","loadFailedAlert","getTemplateContent","reject","updateDialog","newTemplateTitle","selectBoxItems","buildDialogSpec","bodyItems","unblock","redial","optTemplates","dateFormat","die","foldr","generate$1","cases","constructors","adt","acase","keys$1","argLength","branches","branchKeys","allReqd","reqKey","foldArgs","Adt","generate","bothErrors","firstError","secondError","bothValues","partition","errors","_opt","_f","mapError","onValue","toOptional","isValue","isError","error$1","fromOption","opt","Result","isInlinePattern","isBlockPattern","sortPatterns","normalizePattern","formatOrCmd","onFormat","onCommand","start_1","end_1","commandValue","denormalizePattern","createPatternSet","inlinePatterns","blockPatterns","patternsState","setPatterns","newPatterns","normalized","getPatterns","defaultPatterns","getPatternSet","zeroWidth","point","TEXT_NODE","cleanEmptyNodes","parent_1","deleteRng","clean","startParent","endParent","isBlockFormatName","formatSet","isReplacementPattern","getParentBlock","parentBlockOpt","alwaysNext","textBefore","textSeeker","backwards","textAfter","scanLeft","prevText","scanRight","repeatLeft","generatePath","generatePathRange","resolvePath","path","nodePath","resolvedNode","resolvePathRange","createRange","generatePathRangeFromRange","stripPattern","firstTextNode","applyPattern$1","findPattern$1","nuText","findPatterns$1","forcedRootBlock","matchesForcedRootBlock","blockText","matchedPattern","applyMatches$1","random","newMarker","rangeFromMarker","setEndBefore","createMarker","markerPrefix","pathRange","textEnd","textStart","removeMarker","matchesPattern","patternContent","searchText","startEndIndex","startIndex","findPatternStartFromSpot","startPattern","startSpot","nextSpot","findPatternStart","requireGap","startRange","findPattern","endPathRng","startRng","endRng","resultsOpt","findPatternsRec","remainingPatterns","results_1","startPathRng","endSpot","patternsWithoutCurrent","applyPattern","patternRange","applyReplacementPattern","markerRange","applyPatternWithContent","startMarker","endMarker","markerEndRange","markerStartRange","patternMarker","addMarkers","matchesWithEnds","findPatterns","space","applyMatches","matchesWithMarkers","patternSet","inlineMatches","blockMatches","deleteData","handleInlineKey","checkKeyEvent","codes","checkKeyCode","modifierPressed","checkCharCode","charCode","charCodes","keyCodes","fireVisualBlocks","toggleVisualBlocks","enabledState","isEnabledByDefault","fireVisualChars","remove$3","add$2","remove$2","supports","add$1","clazz","remove$1","cleanClass","charMap","charMapToRegExp","charMapToSelector","regExpGlobal","nbspClass","wrapCharWithSpan","isMatch","value$1","filterDescendants","findParentElm","rootElm","replaceWithSpans","isWrappedNbsp","show","nodeList","withSpans","applyVisualChars","toggleVisualChars","hasForcedRootBlock","debouncedToggle","debounce","enabledStated","removeZwsp$1","regExps","aletter","midnumlet","midletter","midnum","numeric","cr","lf","newline","katakana","extendnumlet","characterIndices","ALETTER","MIDNUMLET","MIDLETTER","MIDNUM","NUMERIC","CR","LF","NEWLINE","EXTEND","FORMAT","KATAKANA","EXTENDNUMLET","AT","OTHER","SETS$1","EMPTY_STRING$1","PUNCTUATION$1","WHITESPACE$1","SETS","getType","setsLength","memoize","func","classify","characters","memoized","isWordBoundary","nextType","nextNextType","prevType","EMPTY_STRING","WHITESPACE","PUNCTUATION","isProtocol","findWordEnd","findUrlEnd","endIndex","peakedWord","findWords","sChars","characterMap","ch","includeWhitespace","includePunctuation","startOfWord","endOfWord","endOfUrl","getDefaultOptions","getWords$1","filteredChars","extractedChars","getWords","treeWalker","removeZwsp","strLen","countWords","countCharacters","countCharactersWithoutSpaces","createBodyCounter","createSelectionCounter","createBodyWordCounter","getWordCount","getCharacterCount","getCharacterCountWithoutSpaces","getCount","header","cells","fireWordCountUpdate","wordCount","charactersWithoutSpaces","updateCount","delay","debouncedUpdate","eq$1","isArrayOf","noarg","constant$1","identity$1","global$g","__rest","propertyIsEnumerable","contains$2","range$2","num","chunk$1","map$2","partition$3","pass","fail","filter$2","find$5","findIndex$1","difference","a1","a2","mapToObject","pure$2","get$f","last$2","map$1","tupleMap","mapToArray","find$4","get$e","has$2","equals","sequence","lift3","oc","mapFrom","addToEnd","removeFromStart","numChars","removeLeading","ensureTrailing","trim$1","fromHtml$2","SimpleResultType","name$2","isElement$2","find$3","nu$d","detect$4","unknown$3","nu$c","nu$b","all$3","one","owner$4","defaultView","offsetParent","child$2","getContentContainer","isInShadowRoot","set$8","setAll$1","get$d","getOpt","has$1","remove$7","internalRemove","removeProperty","set$7","setOptions","get$c","getRaw","getAllRaw","ruleName","isValidValue","remove$6","reflow","Dimension","getOuter","aggregate","properties","cumulativeInclusions","absoluteMax","api$3","get$b","getOuter$2","setMax$1","inclusions","absMax","r$1","boxPosition","firstDefinedOrZero","absolute$3","viewport$1","api$2","set$6","get$a","getOuter$1","setMax","fromRawEvent$1","capture$1","before$2","after$2","append$2","prepend$1","firstChild$1","appendAt","rogue","remove$5","get$9","get$8","bounds$1","getBounds$3","walkUp","navigation","frame","view","pathTo","d","paths","frameElement","owner$3","Navigation","freeze","__proto__","frames","loc","pointed","rect","box$1","xy","absolute$2","value$3","fold$1","stype","serror","svalue","partition$2","Value","bindError","toResult$1","fromResult$1","SimpleResult","fromResult","toResult","field$2","newKey","presence","customField$1","instantiator","ifField","ifCustom","shallow$1","bothObjects","deepMerge","baseMerge","merger","objects","curObject","merge$1","required$2","defaultedThunk","fallbackThunk","defaulted$1","asOption","mergeWithThunk","baseThunk","mergeWith","mergeValues$1","mergeErrors$1","consolidateObj","consolidateArr","partitions","ResultCombine","formatObj","input","formatErrors","es","getErrorInfo","nu$a","missingRequired","missingKey","missingBranch","branch","unsupportedFields","unsupported","custom","value$2","anyValue$1","requiredAccess","bundle","fallbackAccess","optionAccess","optionDefaultedAccess","extractField","field","av","bundleAsOption","optValue","ov","extractFields","fields","fields_1","valueThunk","getDelegate","getSetKeys","objOfOnly","delegate","objOf","fieldNames","fieldStrings","_okey","_presence","_instantiator","arrOf","oneOf","props_1","setOf$1","validateKeys","validatedKeys","validKeys","vk","_desc","processor","getP","arrOfObj","anyValue","typedValue","expectedType","actualType","boolean","functionProcessor","isPostMessageable","every","postMessageable","chooseFrom","vp","choose$2","choice","chosen","arrOfVal","valueOf","setOf","errs","asRaw","extraction","errInfo","formatError","asRawOrDie$1","choose$1","thunkOf","desc","field$1","customField","validateEnum","required$1","requiredOf","requiredNumber","requiredString","requiredStringEnum","requiredBoolean","requiredFunction","forbid","_v","requiredObjOf","objSchema","requiredArrayOfObj","objFields","requiredArrayOf","optionOf","optionNumber","optionString","optionFunction","optionArrayOf","optionObjOf","optionObjOfOnly","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedPostMsg","defaultedArrayOf","defaultedObjOf","generate$7","_a$2","partition$1","exclude$1","wrap$2","wrapAll$1","keyvalues","kv","exclude","wrap$1","wrapAll","mergeValues","mergeErrors","consolidate","objs","ensureIsRoot","ancestor$2","closest$4","isSource","component","simulatedEvent","defaultEventHandler","can","nu$9","all$2","any","read$2","fuse$1","touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseup","mouseover","focusin","focusout","keydown","keyup","transitioncancel","transitionend","transitionstart","selectstart","prefixName","alloy","tap","focus$4","postBlur","postPaste","receive","execute$5","focusItem","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","changeTab","dismissTab","highlight$1","dehighlight$1","dispatchWith","emitWith","emitExecute","dispatch","getSystem","triggerEvent","derive$2","configs","run$1","runActionExtra","runOnName","runOnSourceName","redirectToUid","getByUid","redirectee","redirectToPart","partName","partUids","runWithTarget","getByDom","closest","cutter","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute$1","fromHtml$1","get$7","set$5","docDom","contentElements","shallow","isRecursive","originator","events$i","warn","DefaultEvents","generate$6","prefix$1","idAttr$1","idAttr","write","writeOnly","read$1","generate$5","make$8","NoContextApi","getComp","getMessage","debugInfo","triggerFocus","triggerEscape","broadcast","broadcastOn","broadcastEvent","addToWorld","removeFromWorld","addToGui","removeFromGui","isConnected","singleton$1","markAsBehaviourApi","apiName","apiFunction","openBracketIndex","parameters","toFunctionAnnotation","cleanParameters","markAsExtraApi","extraName","markAsSketchApi","premadeTag","premade$1","comp","getPremade","makeApi","getApis","NoState","nu$8","readState","generateFrom$1","validated","behaviours","optBlobThunk","config","getBehaviours$3","bData","getData$2","byInnerKey","indexKey","chain","nu$7","defnA","mod","combine$2","baseMod","modsByBehaviour","behaviour","exhibit","byAspect","modification","combineObjects","combinedClasses","combinedAttributes","combinedStyles","sortKeys","keyName","order","sorted","aKey","bKey","aIndex","bIndex","uncurried","purpose","curried","cHandler","curryArgs","descHandler","extraArgs","getCurried","behaviourTuple","nameToHandlers","groupByEvents","behaviourEvents","combine$1","eventOrder","byEventName","combineGroups","assemble","rawHandler","missingOrderError","eventName","tuples","fuse","sortedTuples","combined","assembled","baseBehaviour","schema$z","toInfo","toDefinition","domChildren","components","toModification","domModification","toEvents","add$4","remove$4","get$6","add$3","hasAll","set$4","renderToDom","definition","getBehaviours$2","generateFrom","generate$4","getDomDefinition","bList","infoModification","baseModification","getEvents","baseEvents","build$2","getMe","systemApi","bBlob","modDefinition","subcomponents","connect","newApi","disconnect","syncComponents","subs","hasConfigured","apis","behaviourName","buildSubcomponents","build$1","buildFromSpec","userSpec","specEvents","completeSpec","external$2","extSpec","uids","isSketchSpec$1","userSpecWithUid","premade","ClosestOrAncestor","EventConfiguration","closest$3","child$1","descendant$1","descend","child_1","closest$2","descendant","closest$1","queryElem","dependent","dep","manager","ariaId","isAriaPartOf","isPartOf$1","eventConfig","makeEventLogger","startTime","logEventCut","_name","outcome","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","finishTime","processEvent","NORMAL","noLogger","LOGGING","logger","STOP","getTrace","lines","line","ignoreEvent","monitorEvent","menuFields","itemFields","itemSchema$3","_initSize","itemMarkers","tieredMenuMarkers","markers$1","required","onPresenceHandler","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","output$1","snapshot","initSize","nu$6","bubble","placement","boundsRestriction","labelPrefix","alwaysFit","restriction","adt$a","southeast","southwest","northeast","northwest","south","north","east","west","cata$2","cataVertical","cataHorizontal","southeast$3","southwest$3","northeast$3","northwest$3","south$3","north$3","east$3","west$3","cycleBy","clamp$1","getRestriction","restrictions","adjustBounds","bubbleOffset","applyRestriction","isVerticalAxis","newPos","adjustedLeft","adjustedTop","adjustedRight","adjustedBottom","labelPrefix$2","eastX$1","middleX$1","westX$1","northY$2","southY$2","centreY$1","eastEdgeX$1","westEdgeX$1","southeast$2","southwest$2","northeast$2","northwest$2","north$2","south$2","east$2","west$2","allRtl$1","aboveOrBelow","aboveOrBelowRtl","belowOrAbove","belowOrAboveRtl","chooseChannels","channels","universal","events$h","receiveConfig","channelMap","receivingData","targetChannels","channelInfo","channelSchema","onReceive","ActiveReceiving","ReceivingSchema","executeEvent","bConfig","bState","executor","loadEvent","_simulatedEvent","create$8","configSchema","schemaSchema","doCreate","createModes$1","modes","wrapApi","bName","revokeBehaviour","getConfig","wrappedApis","apiF","wrappedExtra","extraF","prepared","configAsRaw","initialConfig","behaviourInfo","exhibitor","derive$1","capabilities","simpleSchema","create$7","modeSchema","createModes","branchKey","Receiving","exhibit$6","posConfig","useFixed","ActivePosition","getDocument","focus$3","blur$1","blur","hasFocus","activeElement","preserve$1","refocus","focused","oldFocus","newFocus","NuPositionCss","toPx","toOptions","applyPositionCss","adt$9","relative","fixed","positionWithDirection","posName","decision","decisionRect","decisionX","decisionY","decisionWidth","decisionHeight","decisionRight","decisionBottom","reposition","origin","toBox","viewport","translate$2","removeScroll","outerScroll","cata$1","onNone","onRelative","onFixed","AttributeValue","relative$1","fixed$1","anchorBox","placementAttribute","setPlacement$1","getPlacement","reset$2","adt$8","fit","nofit","determinePosition","boundsX","boundsY","boundsRight","boundsBottom","xInBounds","yInBounds","originInBounds","rightInBounds","bottomInBounds","sizeInBounds","visibleW","visibleH","calcReposition","maxX","maxY","restrictedX","restrictedY","restrictedWidth","restrictedHeight","calcMaxSizes","upAvailable","downAvailable","westAvailable","eastAvailable","attempt","adjustedBounds","newX","newY","fits","fittedBox","isPartlyVisible","_b","classesOn","classesOff","layout","testY","attempts","elementBox","panelWidth","panelHeight","attemptBestFit","isVisible","attemptLayout","newReposition","newVisibleW","newVisibleH","newIsVisible","improved","abc","bestNext","destroyable","api$1","timerAttr","isTransitioning$1","shouldApplyTransitionCss","lastPlacement","placer","hasChanges","intermediate","newValue","getTransitionDuration","dur","setupTransitionListeners","timer","transitionEnd","transitionCancel","isSourceTransition","pseudoElement","propertyName","transitionDone","clearTimeout","transitionStarted","transitionStart_1","startTransitioning","timerId","applyTransitionCss","shouldTransition","intermediatePosition_1","intermediateCssOptions","elementSize","preference","setClasses","classInfo","setHeight","maxHeightFunction","setWidth","maxWidthFunction","position$2","positionCss","setPlacement","setMaxHeight","anchored","available","expandable$1","defaultOr","dephault","simple","layouts","overrideOptions","go","allAlignments","nu$5","xOffset","yOffset","insetModifier","insetXOffset","insetYOffset","make","xDelta","yDelta","alignmentsOn","alignmentsOff","insetNortheast","insetNorthwest","insetNorth","insetSoutheast","insetSouthwest","insetSouth","insetEast","insetWest","nu$4","onDirection","isLtr","isRtl","Attribute","isBottomToTopDir","BottomToTop","schema$y","defaultLtr","defaultRtl","defaultBottomLtr","defaultBottomRtl","dirElement","isBottomToTop","customLtr","ls","onLtr","customRtl","onRtl","ltr","onBottomLtr","rtl","onBottomRtl","placement$4","anchorInfo","hotspot","overrides","HotspotAnchor","placement$3","MakeshiftAnchor","adt$7","screen","absolute","points","sumAsFixed","sumAsAbsolute","absolute$1","hasSameOwner","frameOwner","compOwner","getRootPoint","getBox","calcNewAnchor","optBox","rootPoint","topLeft","layoutsLtr","showAbove","layoutsRtl","placement$2","nodeBox","NodeAnchor","create$6","soffset","foffset","SimRange","adt$6","cata","onBefore","onOn","onAfter","getStart$1","situ","on$1","after$1","Situ","adt$5","domRange","exact","exactFromRange","simRange","startSitu","_finishSitu","_soffset","_finish","_foffset","range$1","SimSelection","setFinish","relativeToNative","finishSitu","exactToNative","toRect","getFirstRect$1","rects","getClientRects","getBounds$2","adt$4","fromRange","getRanges","doDiagnose","ranges","reversed","rev","diagnose","asLtrRange","diagnosis","FocusInsideModes","getEnd","isTextNodeWithCursorPosition","elementsWithCursorPosition","isCursorPosition","hasCursorPosition","last$1","descendantRtl","makeRange","same","getNativeSelection","getSelection","readRange","rangeCount","firstRng","getRangeAt","doGetExact","focusNode","focus_1","anchorOffset","focusOffset","getExact","getFirstRect","getBounds$1","point$1","descendOnce$1","descendOnce","getAnchorSelection","modStart","modFinish","placement$1","selectionBox","optRect","rawRect","targetElement","SelectionAnchor","labelPrefix$1","eastX","westX","northY$1","southY$1","southeast$1","southwest$1","northeast$1","northwest$1","allRtl","submenuInfo","SubmenuAnchor","AnchorSchema","submenu","makeshift","TransitionSchema","PositionSchema","PlacementSchema","getFixedOrigin","getRelativeOrigin","place","anchoring","placee","lastPlace","position$1","posState","placementSpec","positionWithin","boxElement","boundsBox","positionWithinBounds","placeeDetail","anchorage","placeeState","oldVisibility","doPlace","newState","vis","getMode","pConfig","_pState","reset$1","PositionApis","init$g","PositioningState","Positioning","fireDetaching","fireAttaching","attach$1","detachChildren$1","childComp","replaceChildren","newChildren","deleted","attachWith","insertion","doDetach","detach","detachChildren","attachSystem","guiSystem","attachSystemWith","attachSystemAfter","inserter","detachSystem","rebuild","sandbox","sConfig","sState","_data","getAttachPoint","built","onOpen","openWhileCloaked","transaction","cloak","decloak","close$1","isOpen$1","_sandbox","_sConfig","isOpen","isPartOf","getState$2","store","cssKey","oldValue","_sState","sink","cloakVisibilityAttr","hasPosition","SandboxApis","getState","events$g","sandboxConfig","sandboxState","ActiveSandbox","SandboxSchema","init$f","SandboxState","Sandboxing","dismissPopups","repositionPopups","mouseReleased","schema$x","receivingChannel$1","rawSpec","isPart","isExtraPart","fireEventInstead","fe","schema$w","receivingChannel","doReposition","onLoad$5","repConfig","repState","onLoad","onUnload$2","onUnload","setValue$3","setValue","getValue$3","getState$1","RepresentApis","events$f","resetOnDom","_se","ActiveRepresenting","memory$1","isNotSet","dataByValue","dataByText","lookup","itemString","currentDataByValue","currentDataByText","newDataByValue","newDataByText","init$e","RepresentState","memory","setValue$2","onSetValue","getValue$2","getDataKey","getFallbackEntry","onLoad$4","initialValue","onUnload$1","DatasetStore","getValue$1","_repState","setValue$1","onLoad$3","ManualStore","onLoad$2","initVal","MemoryStore","RepresentSchema","Representing","setValueFrom","forbidden","dump","augment","SketchBehaviours","_placeholder","adt$3","single","isSubstituted","subPlaceholder","compSpec","placeholders","newSpec","scan","uiType","substitute","childSpecs","substituted","valuesThunk","preprocessor","substituteAll","oneReplace","used","substitutePlaces","ps","ph","single$2","adt$2","external","optional","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","part","name$1","asCommon","adtConstructor","partSchema","external$1","PartType","combine","partSpec","partValidated","defaults","internals","externals","pname","_partSpec","_partValidated","units","u","generate$3","np","g","doGenerateOne","generateOne$1","schemas","names","substitutes","components$1","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","generateOne","partSchemas","partUidsSchemas","asRawOrDie","baseS","single$1","specWithUid","supplyUid","composite$1","partUidsSchema","hasUid","isSketchSpec","singleSchema","compositeSchema","rawConfig","configFields","extraApis","composite","partFields","getCurrent","composeConfig","_composeState","ComposeApis","ComposeSchema","Composing","nativeDisabled","onLoad$1","disableConfig","disableState","disable$1","enable$1","hasNative","useNative","nativeIsDisabled","nativeDisable","nativeEnable","ariaIsDisabled","ariaDisable","ariaEnable","_disableState","disableClass","onDisabled","onEnabled","isDisabled","set$3","DisableApis","exhibit$5","events$e","ActiveDisable","DisableSchema","Disabling","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","skipComp","onDehighlight","dehighlightAll","dehighlight","isHighlighted","onHighlight","highlightFirst","getFirst","firstComp","highlightLast","getLast","lastComp","highlightAt","getByIndex","highlightBy","getCandidates","targetComp","queryTarget","getHighlighted","_hState","itemClass","getDelta$2","dest","getPrevious","getNext","HighlightApis","HighlightSchema","Highlighting","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","which","and","preds","isShift","isControl","isNotShift","classification","choose","transitions","reportFocusShifting","prevFocus","noChange","dom$2","focusee","highlights","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","onFocusHandler","focusInside","OnFocusMode","focusIn","tryGoInsideComponent","isEnterOrSpace","OnEnterOrSpaceMode","keyboardEvents","create$5","cyclicField","tabbingConfig","visibilitySelector","findInitial","tabstops","visibles","firstTabstop","findCurrent","focusManager","isTabstop","useTabstopAt","_tabbingState","goFromTabstop","stopIndex","cycle","cyclic","tabstop","optStopIndex","goBackwards","navigate","goForwards","execute","onEnter","exit","onEscape","AcyclicType","CyclicType","doDefaultExecute","defaultExecute","isComplex","stopEventForFirefox","_component","schema$v","execute$4","executeConfig","getKeydownRules$5","_executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","getKeyupRules$5","ExecutionType","flatgrid$1","setGridSize","numRows","numColumns","getNumRows","getNumColumns","init$d","KeyingState","flatgrid","useH","movement","use","west$1","moveLeft","moveRight","east$1","useV","north$1","south$1","move$1","isHidden$1","locate","locateVisible","visible","withGrid","numCols","oldRow","oldColumn","address","column","cycleHorizontal$1","onLastRow","colsInRow","newColumn","cycleVertical$1","newRow","newCol","cycleRight$1","cycleLeft$1","cycleUp$1","cycleDown$1","schema$u","focusIn$3","gridConfig","_gridState","first","findCurrent$1","execute$3","doMove$2","gridState","identified","handleTab","captureTab","doEscape$1","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$4","getKeyupRules$4","FlatgridType","horizontal","isDisabledButton","tryCycle","schema$t","flowConfig","execute$2","focusIn$2","_state","getInitial","moveLeft$2","moveRight$2","doMove$1","flowState","executeOnMove","doEscape","getKeydownRules$3","_flowState","westMovers","allowVertical","eastMovers","getKeyupRules$3","FlowType","toCell","matrix","rowIndex","columnIndex","cell","cycleHorizontal","startCol","deltaCol","newColIndex","cycleVertical","colIndex","startRow","deltaRow","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","cycleRight","cycleLeft","cycleUp","cycleDown","moveLeft$1","moveRight$1","moveUp$1","moveDown$1","schema$s","focusIn$1","matrixConfig","previousSelector","selectors","execute$1","toMatrix","rows","doMove","ifCycle","ifMove","cycles","inRow","cellsInRow","allRows","moveNorth","moveSouth","getKeydownRules$2","getKeyupRules$2","MatrixType","schema$r","menuConfig","moveUp","moveDown","fireShiftTab","menuState","moveOnTab","fireTab","getKeydownRules$1","getKeyupRules$1","MenuType","schema$q","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","SpecialType","acyclic","flow","execution","special","KeyboardBranches","isFlatgridState","keyState","Keying","keyConfig","sendFocusIn","set$2","replaceConfig","replaceState","childSpec","appendee","prepend","prependee","removee","foundChild","_replaceConfig","replaceAt","replaceeIndex","replacer","replacee","replaceBy","replaceePred","ReplaceApis","Replacing","events$d","eventHandlers","focus$2","focusConfig","ignore","onFocus","isFocused","FocusApis","exhibit$4","tabindex","events$c","stopMousedown","ActiveFocus","FocusSchema","Focusing","SetupBehaviourCellState","updateAriaState","toggleConfig","ariaInfo","aria","updateClass","toggle$2","set$1","isOn","ToggleApis","exhibit$3","events$b","toggleOnExecute","ActiveToggle","updatePressed","syncWithExpanded","updateExpanded","updateSelected","updateChecked","ToggleSchema","pressed","checked","expanded","Toggling","pointerEvents","onClick","events$a","optAction","executeHandler","hoverEvent","focusEvent","onHover","onFocus$1","hover","focus$1","builder$2","toggling","hasSubmenu","itemBehaviours","tConfig","ignoreFocus","schema$p","builder$1","schema$o","owner$2","parts$h","builder","focusWidget","widget","onHorizontalArrow","autofocus","setSource","_widget","widgetBehaviours","schema$n","itemSchema$2","separator","configureGrid","movementInfo","markers","configureMatrix","rowSelector","configureMenu","parts$g","itemInfo","unit","fakeFocus","schema$m","grid","make$7","_spec","_externals","menuBehaviours","selectedItem","role","Menu","transpose$1","trace","byItem","byMenu","triggerItem","triggerMenu","generate$2","menus","expansions","menuItems","menuPaths","_triggerItem","init$c","directory","isClear","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","getTriggeringItem","menuValue","getTriggerData","getItemByValue","getPreparedMenu","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","getTriggeringPath","extraPath","lookupItem","revPath","triggers","menuIndex","expand","refresh","lookupMenu","extractPreparedMenu","otherMenus","menuValues","getPrimary","getMenus","prep","LayeredState","make$6","_rawUiSpec","ExpandHighlightDecision","submenuParentItems","buildMenus","primaryName","makeSketch","nbMenu","layeredState","componentMap","toDirectory","getItemValue","_container","_menuName","setActiveMenu","mv","closeOthers","others","backgroundMenu","stayInDom","getSubmenuParents","parentItems","itemComp","updateAriaExpansions","updateMenuPath","latestMenuName","menuPrep","activeMenu","buildIfRequired","expandRight","HighlightSubmenu","activeMenuPrep","onOpenSubmenu","collapseLeft","onCollapseMenu","updateView","keyOnItem","getSource","onExecute","onOpenMenu","highlightImmediately","navigateOnHover","HighlightParent","getActiveItem","collapseMenuApi","currentItem","highlightPrimary","extractMenuFromContainer","repositionMenus","maybeActivePrimary","allMenus","preparedMenus","primaryMenu","onRepositionMenu","collapseMenu","tmenuBehaviours","_keyInfo","selectedMenu","collapseItem$1","tieredData","singleData","collapseItem","tieredMenu","tmenu","makeMenu","menuSandbox","menuSpec","lazySink","isFirstTierSubmenu","triggeringPaths","getSubmenuLayouts","submenuTriggers","st","submenuLayouts","factory$m","isPartOfRelated","related","getRelated","thing","showAt","showWithin","showWithinBounds","showMenuAt","showMenuWithinBounds","inlineBehaviours","onShow","onHide","fireDismissalEventInstead","fireRepositionEventInstead","InlineView","westEdgeX","middleX","eastEdgeX","northY","southY","centreY","lookupPreserveLayout","preserve","lookupFlippedLayout","flip$2","global$f","factory$l","lookupAttr","getModAttributes","roleAttrs","buttonBehaviours","Button","record","anyInSystem","asSpec","global$e","rtlTransform","defaultIconName","defaultIcon","getIconName","lcName","rtlName","lookupIcon","iconProvider","fallbackIcon","needsRtlTransform","addFocusableBehaviour","renderIcon$2","rtlIconClasses","iconHtml","render$3","renderFirst","iconNames","notificationIconMap","factory$k","memBannerText","translationProvider","renderPercentBar","renderPercentText","memBannerProgress","progress","updateProgress","updateText","text$1","banner","iconChoices","memButton","notificationIconSpec","notificationBodySpec","closeButton","Notification","NotificationManagerImpl","extras","uiMothership","sharedBackstage","backstage","shared","getLayoutDirection","notifications","notification","moveRel","closeCallback","hideCloseButton","timeout","notificationWrapper","progressBar","providers","getSink","isPositionedAtTop","contentArea","getContentAreaContainer","win$1","notificationSpec","anchorOverrides","layoutDirection_1","nodeAnchor","getArgs","ItemResponse","global$d","autocompleteSelector","create$4","normalize","isValidTextRange","isWhitespace","stripTriggerChar","triggerCh","findChar","findStart","initRange","minChars","findTriggerChIndex","triggerCharIndex","triggerChar","setup$e","onKeypress","redirectKeyToItem","getView","cancelIfNecessary","isMenuOpen","isProcessingAction","AutocompleterEditorEvents","global$c","isElement$1","toLast","isPreviousCharContent","isStartOfWord","getTriggerContext","database","triggerChars","lookup$2","getDatabase","lookupWithContext","fetchOptions","startText","autocompleters","lookupByChar","autocompleter","lookupData","ac","fetchResult","maxResults","matchText","highlightOn","separatorMenuItemSchema","createSeparatorMenuItem","autocompleterItemSchema","autocompleterSchema","createSeparatorItem","createAutocompleterItem","createAutocompleter","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","createContextForm","contextToolbarSchema","createContextToolbar","stringArray","register$b","popups","getAll","popup","datasetValues","dv","ToolbarMode","ItemResponse$1","navClass","selectableClass","colorClass","presetClasses","normal","tickedClass","groupHeadingClass","iconClass","textClass","accessoryClass","caretClass","checkmarkClass","activeClass","containerClass","containerColumnClass","containerRowClass","containerAlignRightClass","containerAlignLeftClass","containerValignTopClass","containerValignMiddleClass","containerValignBottomClass","classForPreset","forMenu","hasIcons","menuClasses","dom$1","chunk","rowDom","forSwatch","forToolbar","preprocessCollection","isSeparator","allSplits","currentSplit","forCollection","initItems","_hasIcons","_item","forHorizontalCollection","menuHasIcons","createHorizontalPartialMenuWithAlloyItems","_columns","_presets","structure","createPartialMenuWithAlloyItems","cardImageFields","cardImageSchema","cardTextFields","cardTextSchema","itemSchema$1","cardimage","cardtext","cardcontainer","cardContainerSchema","commonMenuItemFields","cardMenuItemSchema","createCardMenuItem","choiceMenuItemSchema","createChoiceMenuItem","baseFields","insertTableFields","colorSwatchFields","fancyMenuItemSchema","inserttable","colorswatch","createFancyMenuItem","menuItemSchema","createMenuItem","nestedMenuItemSchema","createNestedMenuItem","toggleMenuItemSchema","createToggleMenuItem","detectSize","margin","selectorClass","descendants$1","columnLength","thisTop","cTop","ceil","namedEvents","unnamedEvents","SimpleBehaviours","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","hideAllExclusive","_tConfig","_tState","setComponents","tState","specs","getTooltip","TooltippingApis","events$9","tooltipConfig","clearTooltip","clearTimer","isShowing","tooltipDom","tooltipComponents","setTooltip","resetTimer","ActiveTooltipping","TooltippingSchema","init$b","TooltippingState","Tooltipping","getSkinUrl","skin","skinUrl","skinName","baseURL","isSkinDisabled","getHeightSetting","getWidthSetting","getMinWidthSetting","getMinHeightSetting","getMaxWidthSetting","getMaxHeightSetting","getUserStyleFormats","isMergeStyleFormats","getLineHeightFormats","getContentLanguages","getRemovedMenuItems","isMenubarEnabled","isToolbarEnabled","toolbar","isToolbarTrue","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsSetting","toolbars","toolbarArray","ToolbarLocation","getToolbarMode","_a$1","getToolbarGroups","getToolbarLocation","auto","isToolbarLocationBottom","fixedContainerSelector","fixedToolbarContainerTarget","isToolbarPersist","fixedContainerTarget","useFixedContainer","getUiContainer","fixedContainer","isDistractionFree","isStickyToolbar","getStickyToolbarOffset","isDraggableModal$1","getMenubar","getToolbar","getFilePickerCallback","getFilePickerTypes","getFileBrowserCallbackTypes","noTypeaheadUrls","getAnchorTop","getAnchorBottom","getFilePickerValidatorHandler","ReadOnlyChannel","ReadOnlyDataSchema","broadcastReadonly","uiComponents","readonly","outerContainer","mothership","setupReadonlyModeSwitch","setMode","receivingConfig","splitButton","toolbarButton","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onControlDetached","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","providersbackstage","optComponents","buildData","convertText","ctrl","access","updated","renderIcon$1","renderText","renderHtml","renderStyledText","renderShortcut","renderCheckmark","renderSubmenuCaret","renderDownwardsCaret","renderContainer","directionClass","alignClass","getValignClass","valign","renderColorStructure","providerBackstage","colorPickerCommand","removeColorCommand","itemText","ariaLabel","iconSvg","iconContent","getDom","common","baseDom","renderItemDomStructure","domTitle","renderNormalItemStructure","providersBackstage","renderIcons","iconSpec","renderIcon","renderEmptyIcon","leftIcon","checkmark","checkMark","textRender","htmlContent","menuItem","shortcutContent","caret","renderItemStructure","tooltipBehaviour","tooltipWorker","_tooltip","encodeText","replaceText","translated","encoded","escapedMatchRegex","renderAutocompleteItem","useText","onItemValueHandler","render$2","shouldHighlight","cardText","renderCardMenuItem","renderChoiceItem","parts$f","hexColour","shorthandRegex","longformRegex","isHexString","hex","normalizeHex","fromString$1","getLongForm","hexString","extractValues","longForm","splitForm","fromRgba","rgbaColour","red","green","blue","round$1","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","chroma","fromHex","fromStringValues","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","fireSkinLoaded$1","fireSkinLoadError$1","fireResizeEditor","fireResizeContent","fireScrollContent","fireTextColorChange","hsvColour","fromRgb","minRGB","maxRGB","hexToHsv","hsvToHex","anyToHex","canvasContext","clearRect","storageName","ColorCache","storageString","localstorage","prune","diff","unshift","FocusMode","choiceItem","defaultColors","colorCache","mapColors","colorMap","getColorCols$2","defaultCols","hasCustomColors$1","getColorMap","getColors$2","unmapped","getCurrentColors","addColor","fallbackColor","applyFormat","removeFormat","registerCommands","calcCols","getColorCols$1","getAdditionalColors","hasCustom","applyColor","onChoice","dialog","colorPickerDialog","colorOpt","getColors$1","getFetch$1","setIconColor","newColor","setIconFill","registerTextColorButton","lastColor","optCurrentRgb","currentRgb","currentHex","registerTextColorMenuItem","fancytype","isValid","colorpicker","onCancel","register$a","lastForeColor","lastBackColor","createPartialChoiceMenu","presetItemTypes","alloyItems","createChoiceItems","itemPresets","deriveMenuMovement","menuMarkers","rowClass","deriveCollectionMovement","renderColorSwatchItem","getColorItems","colorinput","getColorCols","widgetSpec","useCustomColors","initData","allowCustomColors","hasCustomColors","cellOverEvent","cellExecuteEvent","makeCell","col","labelId","emitCellOver","se","makeCells","selectCells","selectedRow","selectedColumn","makeComponents","cellRow","makeLabelText","renderInsertTableMenuItem","sizeLabelId","emptyLabelText","memLabel","fancyMenuItems","renderFancyMenuItem","renderNestedItem","downwardsCaret","renderNormalItem","renderSeparatorItem","renderToggleMenuItem","autocomplete","separator$3","toggle$1","fancy","card","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createAutocompleteItems","createPartialMenu","itemHasIcon","createPartial","createTieredDataFrom","partialMenu","createMenuFrom","focusMode","ContentFocus","register$9","activeAutocompleter","processingAction","hideIfNecessary","lastElement","getAutocompleters","getCombinedItems","choices","itemMeta","nr","autocompleterApi","reload","BUBBLE_TO_SANDBOX","commenceIfNecessary","matchLength","ld","doLookup","newContext","lookupInfo","combinedItems","autocompleterUiApi","Autocompleter","DelayedFunction","fun","schedule","SIGNIFICANT_MOVE","LONGPRESS_DELAY","getTouch","touches","isFarEnough","distX","distY","monitor","startData","longpressFired","longpress$1","handleTouchstart","handleTouchmove","handleTouchend","isSame","fireIfReady","isDangerous","keyEv","bindFocus","bindBlur","setup$d","rawSettings","stopBackspace","tapEvent","simpleEvents","tapStopped","stopped","pasteTimeout","onPaste","onKeydown","onFocusIn","focusoutTimeout","onFocusOut","derive","rawTarget","fromSource","isStopped","isCut","fromExternal","adt$1","resume","complete","doTriggerHandler","eventType","handlerInfo","eventHandler","doTriggerOnUntilStopped","triggerHandler","_logger","triggerUntilStopped","triggerOnUntilStopped","broadcastHandler","EventRegistry","registerId","findHandler","filterByType","isAboveRoot","unregisterId","handlersById","_eventName","Registry","readOrTag","failOnDuplicate","tagId","conflict","unregister","getById","factory$j","domWithoutAttributes","containerBehaviours","Container","takeover","domEvents","_alloyId","broadcast$1","broadcastData","receivers","receiver","renderBar","interpreter","schema$l","parts$e","excludeFactory","factory$i","fieldBehaviours","descriptorId","getField","getLabel","FormField","exhibit$2","tabConfig","tabAttr","ActiveTabstopping","TabstopSchema","Tabstopping","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormField","renderFormFieldDomWith","renderFormFieldDom","renderLabel$2","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderCollection","runOnItem","htmlLines","mapItemName","disabledClass","tgt","collectionEvents","currentActive","iterCollectionItems","applyAttributes","childElm","schema$k","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","inputAttributes","inputClasses","factory$h","Input","promise","setTimeoutFunc","thisArg","_handled","_deferreds","doResolve","deferred","_immediateFn","cb","onFulfilled","onRejected","finale","_unhandledRejectionFn","Handler","reason","prom","remaining","race","setImmediate","_setImmediateFn","_setUnhandledRejectionFn","promisePolyfill","promisePolyfill_1","HighlightOnOpen","Promise$1","nu$3","baseFn","nCallback","isReady","cbs","pure$1","LazyValue","pure","errorReporter","make$5","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","Future","ariaElements","isAriaElement","markValid","invalidConfig","invalidClass","notify","notifyInfo","validHtml","onValid","markInvalid","invalidState","onInvalid","_invalidState","validatorInfo","onValidate","valid","isInvalid","InvalidateApis","events$8","onEvent","validateOnLoad","ActiveInvalidate","InvalidateSchema","Invalidating","validation","getCoupled","coupleConfig","coupleState","getOrCreate","CouplingApis","CouplingSchema","init$a","coupled","CouplingState","Coupling","partType$1","getAnchor","getHotspot","getAnchorOverrides","mapFetch","fetcher","openF","highlightOnOpen","futureData","getLazySink","tdata","HighlightFirst","onOpenSync","processed","_onOpenSync","_highlightOnOpen","togglePopup","showing","matchWidth","useMinWidth","buttonWidth","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox$1","ariaOwner","sandboxClasses","sandboxBehaviours","sandboxFields","schema$j","parts$d","factory$g","switchToMenu","HighlightNone","triggerExecute","dropdownBehaviours","Dropdown","exhibit$1","unselectable","events$7","ActiveUnselecting","Unselecting","renderPanelButton","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","emitSwatchChange","colorBit","memColorButton","colorPicker","valueOpt","colorButton","_field","labelPart","edgePart","model","edgeActions","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","ledgePart","thumbPart","spectrumPart","modelDetail","getValueFromEvent","spectrum","SliderParts","_sliderChangeEvent","sliderChangeEvent","isTouchEvent$2","getEventSource","touchEvent","mouseEvent","minX","minY","min1X","min1Y","max1X","max1Y","xRange","yRange","halfX","halfY","step","stepSize","snap","snapToGrid","snapStart","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","xValue","yValue","xyValue","fireSliderChange$3","setToTLEdgeXY","setToTEdge","setToTEdgeXY","setToTREdgeXY","setToREdge","setToREdgeXY","setToBREdgeXY","setToBEdge","setToBEdgeXY","setToBLEdgeXY","setToLEdge","setToLEdgeXY","reduceBy","increaseBy","capValue","snapValueOf","extraValue","adjustment","rawSteps","maxSteps","numSteps","findOffsetOf","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOfValue$2","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$2","sliderValue$2","findValueOfOffset$1","setValueFrom$2","sliderVal","setToMin$2","setToMax$2","moveBy$2","handleMovement$2","getValueFromEvent$2","findOffsetOfValue$1","minEdge","maxEdge","minOffset","findPositionOfValue$1","slider","setPositionFromValue$2","thumb","edges","getSpectrum","getLeftEdge","getRightEdge","thumbRadius","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","HorizontalModel","setToMin","setToMax","findValueOfOffset","findPositionOfValue","setPositionFromValue","fireSliderChange$1","sliderValue$1","setValueFrom$1","setToMin$1","setToMax$1","moveBy$1","handleMovement$1","getValueFromEvent$1","findOffsetOfValue","setPositionFromValue$1","getTopEdge","getBottomEdge","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","fireSliderChange","sliderValue","moveBy","isVerticalMovement","handleMovement","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","TwoDModel","SliderSchema","sketch$2","getThumb","changeValue","resetToMin","resetToMax","fireOnChoose","onChoose","wasDown","onDragStart","onDragEnd","sliderBehaviours","getInitialValue","onInit","Slider","fieldsUpdate","sliderUpdate","paletteUpdate","sliderFactory","getClass","_thumb","owner$1","schema$i","getPartName$1","sketch$1","fSpec","fieldParts","make$4","formBehaviours","form","resPs","resPThunk","pName","Form","validInput","invalidInput","validatingInput","translatePrefix","rgbFormFactory","onValidHexx","onInvalidHexx","invalidation","renderTextField","helptext","comps","concats","copyRgbToHex","hexField","copyRgbToForm","rgb","memPreview","updatePreview","copyHexToRgb","setValueRgb","getValueRgb","onInvalidInput","onValidHex","onValidRgb","isHexInputEvent","onValidInput","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","rgbFormSketcher","paletteFactory","_translate","setColour","ctx","grdWhite","createLinearGradient","addColorStop","grdBlack","setPaletteHue","setPaletteThumb","_slider","saturationBrightnessPaletteSketcher","setHue","_apis","setThumb","makeFactory","rgbForm","onInvalidHex","sbPalette","hueSliderToDegrees","hueDegreesToSlider","paletteRgba","paletteHue","memSlider","memPalette","memRgb","updatePalette","_hex","palette","updateFields","updateSlider","updatePaletteThumb","runUpdates","updates","onPaletteUpdate","oldHue","newHsv","newHex","onSliderUpdate","oldRgb","oldHsv","onFieldsUpdate","colourPickerSketcher","self$1","memento$1","mem","childAt","ComposingConfigs","memento","english","getEnglishText","translate$1","renderColorPicker","colourPickerFactory","memPicker","picker","optRgbForm","optHex","formValues","isOldCustomEditor","renderCustomEditor","editorApi","memReplaced","ta","scriptId","scriptUrl","ea","cvalue","ed","processors","rawProcessors","rawValue","postprocess","withComp","optInitialValue","getter","setter","withElement","domValue","domHtml","RepresentingConfigs","filterByExtension","allowedImageFileTypes","getSetting","isFileInAllowedTypes","renderDropZone","actions","transferEvent","handleFiles","onSelect","memInput","renderField","inputComp","renderGrid","beforeObject","afterObject","craftWithClasses","outline","craft","triggerTab","isPseudoStop","platformNeedsSandboxing","getDynamicSource","isSandbox","cachedValue","_frameComponent","frameComponent","contentWindow","renderIFrame","sourcing","create$3","resize$3","tCanvas","get2dContext","getWidth$1","getHeight$1","blobToImage","blobUrl","removeListeners","dataUriToBlobSync","mimetype","sliceSize","byteCharacters","bytesLength","slicesCount","byteArrays","sliceIndex","begin","bytes","dataUriToBlob","canvasToBlob","quality","toBlob","canvasToDataURL","blobToCanvas","revokeImageUrl","blobToDataUri","create$2","getCanvas","initialType","toBase64","toAdjustedBlob","toAdjustedDataURL","toAdjustedBase64","dataurl","toCanvas","fromBlob","fromCanvas","blobToImageResult","clamp","parsedValue","DELTA_INDEX","multiply","matrix1","matrix2","adjustContrast","adjustBrightness","adjustColors","adjustR","adjustG","adjustB","colorFilter","ir","applyColorFilter","applyMatrix","pixelsData","m0","m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","pixels","putImageData","convoluteFilter","applyConvoluteFilter","pIn","pOut","aMatrix","halfSide","drgba","cy","cx","scx","scy","innerOffset","wt","pixelsIn","pixelsOut","functionColorFilter","colorFn","filterImpl","applyLookup","complexAdjustableColorFilter","matrixAdjustFn","adjust","basicColorFilter","basicConvolutionFilter","kernel","invert$1","brightness$1","contrast$1","colorize$1","sharpen$1","gamma$1","dW","dH","sW","sH","wRatio","hRatio","scaleCapped","scaled","_scale","ceilWithPrecision","precision","mul","upper","rotate$1","angle","applyRotate","degrees","rad","flip$1","axis","applyFlip","crop$1","applyCrop","resize$2","newCanvas","invert","sharpen","gamma","colorize","contrast","flip","resize$1","iconsProvider","renderIconFromPack","renderReplacableIconFromPack","renderLabel$1","internalToolbarButtonExecute","onToolbarButtonExecute","itemApi","toolbarButtonEventOrder","updateMenuText","updateMenuIcon","renderCommonDropdown","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","dropdown","tooltipAttributes","translatedTooltip","memDropdown","displayIcon","isMenuItemReference","isSeparator$1","isExpandingMenuItem","separator$2","unwrapReferences","realItems","getFromExpandingItem","submenuItems","newMenus","newExpansions","getFromItem","generateValueIfRequired","itemWithValue","mainMenu","submenus","getMenuButtonApi","renderMenuButton","_comp","getFetch","getButton","getMenuItemAction","storage","orig","getMenuItemSetup","renderCommonSpec","actionOpt","domFinal","renderIconButtonSpec","renderIconButton","iconButtonSpec","renderButtonSpec","translatedText","renderButton","buttonSpec","getAction","buttonType","isMenuFooterButtonSpec","isNormalFooterButtonSpec","renderFooterButton","memButton_1","menuButtonSpec","fixedSpec","renderDialogButton","schema$h","coupledPart","selfName","otherName","lock","onLockedChange","parts$c","locked","lockClass","factory$f","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","FormCoupledInputs","formatSize","unitDec","maxDecimal","numText","parseSize","sizeText","numPattern","convertUnit","inInch","noSizeConversion","_input","ratioSizeConversion","makeRatioConverter","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","renderSizeInput","converter","ratioEvent","makeIcon","pLock","formGroup","getFieldPart","isField1","widthField","heightField","_lock","newSize","optCurrent","optOther","value1","value2","undo","redo","back","swap","transform$1","tempTransform","transformApply","saveState","renderEditPanel","imagePanel","createButton","createIconButton","disableAllComponents","eventcomp","enableAllComponents","panelDom","noop$1","emit$1","emitDisable","emitEnable","emitTransform","emitTempTransform","getBackSwap","memContainer","ButtonPanel","emitTransformApply","createBackButton","createSpacer","createApplyButton","makeCropTransform","getRect","cropPanelComponents","hideCrop","CropPanel","memSize","makeResizeTransform","resizePanelComponents","ResizePanel","makeValueTransform","horizontalFlip","verticalFlip","counterclockwiseRotate","clockwiseRotate","flipRotateOnAction","operation","flipRotateComponents","FlipRotatePanel","makeSlider","makeVariableSlider","valTransform","variableFilterPanelComponents","createVariableFilterPanel","filterPanelComponents","FilterPanel","BrightnessPanel","ContrastPanel","GammaPanel","makeColorTransform","makeColorSlider","redOpt","memRed","blueOpt","memBlue","greenOpt","memGreen","colorizePanelComponents","ColorizePanel","getTransformPanelEvent","panel","cropPanelUpdate","_anyInSystem","showCrop","resizePanelUpdate","measurements","getMeasurements","sharpenTransform","invertTransform","buttonPanelComponents","getApplyButton","getDocumentSize","scrollWidth","scrollHeight","isTouchEvent$1","updateWithTouchData","DragHelper","_c","eventOverlay","downButton","handleEvents","overlayEvents","handleElement","getElementById","docSize","screenX","screenY","cursor","deltaX","create$1","currentRect","viewPortRect","clampRect","containerElm","dragHelpers","handles","xMul","yMul","deltaW","deltaH","blockers","getAbsoluteRect","outerRect","relativeRect","getRelativeRect","innerRect","getInnerRect","moveRect","startRect","setInnerRect","createDragHelper","cropContainer","blocker","blockerElm","cropBlocker","handleElm","cropHandle","repaint","handleFocus","activeHandle","moveAndBlock","SPACEBAR","toggleVisibility","elems","updateElementRect","newRect","setRect","setViewPortRect","setClampRect","helper","CropRect","loadImage","renderImagePanel","initialUrl","memBg","zoomState","cropRect","rectState","viewRectState","repaintImg","panelW","panelH","bg","cRect","zoomFit","updateSrc","aImg","lastViewRect","viewRect","inflate","currentZoom","newZoom","setButtonEnabled","enabled","renderSideBar","updateButtonUndoStates","undoEnabled","redoEnabled","memUndo","memRedo","UndoStack","removed","canUndo","canRedo","Delimiter","makeState","blobState","tempState","undoStack","getBlobState","setBlobState","getTempState","updateTempState","newTempState","createState","destroyTempState","destroyState","destroyStates","addBlobState","addTempState","applyTempState","postApply","temp","getHistoryStates","renderImageTools","historyStates","sideBar","disableUndoRedo","_oImg","imageResultToBlob","editPanel","applyButton","blobManipulate","manipulate","tempManipulate","manipulateApply","currentUrl","renderLabel","backstageShared","isSingleListItem","dataAttribute","fetchItems","dropdownComp","selectedValue","findItemByValue","renderListBox","initialItem","sketchSpec","listBoxWrap","renderPanel","factory$e","initialValues","selectClasses","selectAttributes","selectBehaviours","HtmlSelect","renderSelectBox","translatedOptions","chevron","selectWrap","renderTable","renderTh","renderHeader","renderTd","renderTr","renderRows","baseInputBehaviours","multiline","validatingBehaviours","inputmode","classname","flex","extraClasses2","renderInput","renderTextarea","events$6","streamConfig","streamState","streams","stream","cancelEvent","ActiveStreaming","_config","setTimer","init$9","StreamingState","setup$c","streamInfo","sInfo","throttler","onStream","stopEvent","StreamingSchema","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","setSelectionToEnd","attemptSelectOver","selectsOver","inputDisplay_1","getDisplayText","itemDisplay","itemExecute","make$3","navigateList","highlighter","previewing","focusBehaviours$1","responseTime","focusInInput","previousValue_1","pv","sandboxIsOpen","openClass","onItemExecute","dismissOnBlur","typeahead","typeaheadBehaviours","schema$g","parts$b","populateFromBrowse","Typeahead","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","errorThunk","timedOut","fromFuture","future","fromPromise","completer","FutureResult","separator$1","toMenuItem","staticMenuItem","toMenuItems","filterLinkTargets","filteredTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","historyTargets","history","joinMenuLists","bothEmpty","filterByQuery","term","lowerCaseTerm","fileType","urlBackstage","urlInputValue","getLinkInformation","getHistory","errorId","renderUrlInput","updateHistory","urlEntry","addToHistory","memUrlBox","_newValue","getValidationHandler","memInvalidIcon","invalidComp","_menu","_entry","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","controlHWrapper","openUrlPicker","componentData","urlData","fieldname","chosenData","renderAlertBanner","iconTooltip","renderCheckbox","repBehaviour","toggleCheckboxHandler","memIcons","renderHtmlPanel","make$2","makeIframe","iframeSpec","factories","bar","collection","alertbanner","textarea","checkbox","dropzone","listbox","selectbox","sizeinput","urlinput","customeditor","htmlpanel","imagetools","table","noFormParts","interpretInForm","oldBackstage","newBackstage","interpretParts","interpretWithoutForm","bubbleAlignments$2","valignCentre","alignCentre","alignLeft","alignRight","getInlineDialogAnchor","contentAreaElement","lazyAnchorbar","lazyUseEditableAreaAnchor","bubbleSize","editableAreaAnchor","standardAnchor","getBannerAnchor","getCursorAnchor","bodyElement","getNodeAnchor$1","isToolbarTop","useFixedToolbarContainer","inlineDialog","ColorInputBackstage","isDraggableModal","DialogBackstage","HeaderBackstage","getDockingMode","setDockingMode","defaultStyleFormats","isNestedFormat","isBlockFormat","isInlineFormat","isSelectorFormat","mapFormats","userFormats","customFormats","formatName","formatNameWithPrefix","registerCustomFormats","getStyleFormats","registeredUserFormats","processBasic","isSelectedFor","getPreviewFor","formatterSpec","getStylePreview","register$8","enrichSupported","enrichMenu","submenuSpec","enrichCustom","customSpec","newItem","doEnrich","newItems","getStyleItems","init$8","getCssText","settingsFormats","settingsFlattenedFormats","eventsFormats","eventsFlattenedFormats","replaceSettings","enriched","modifications","fromSettings","fromEvents","getFlattenedKeys","hasContentEditableState","isContentEditableTrue","isChildOfContentEditableTrue","getElementText","getOrGenerateId","isValidAnchor","isEditable","isHeader","isValidHeader","getLevel","headerTarget","headerId","anchorTarget","anchorId","anchorText","getHeaderTargets","getAnchorTargets","getTargetElements","hasTitle","LinkTargets","STORAGE_KEY","HISTORY_LENGTH","isHttpUrl","isArrayOfUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","SyntaxError","setAllHistory","itemsWithoutUrl","isTruthy","getPicker","getPickerTypes","optFileTypes","optLegacyTypes","optTypes","_picker","getPickerSetting","pickerTypes","getTextSetting","UrlInputBackstage","init$7","contextMenuState","styleselect","isContextMenuOpen","setContextMenuState","setup$b","ship","channel","fireDismissPopups","onTouchstart","onTouchmove","onTouchend","onMousedown","onMouseup","onContentClick","onContentMouseup","onContentMousedown","loopEditor","relatedTarget","onWindowScroll","onWindowResize","onEditorResize","onEditorProgress","onDismissPopups","parts$a","partType","schema$f","customListDetail","itemsPart","parts$9","factory$d","_external","setItems","getListContainer","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","shell","listBehaviours","CustomList","schema$e","enhanceGroups","parts$8","factory$c","setGroups","groups","getGroupContainer","toolbarBehaviours","Toolbar","setup$a","isDocked$2","getBehaviours$1","StaticHeader","isDocked","getBehaviours","getOffsetParent","isFixed","offsetParent$1","getOrigin","morphAdt","static","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isPartiallyVisible","isTopCompletelyVisible","isBottomCompletelyVisible","isVisibleForModes","getPrior","getInitialPos","storePrior","setInitialPos","revertToOriginal","clearInitialPos","offsetBox_1","_left","_top","_right","_bottom","morphToOriginal","getModes","morphToFixed","winBox","top_1","isTop","getMorph","getMorphToOriginal","morphToStatic","setDocked","onUndocked","morphToCoord","onDocked","updateVisibility","morphToDocked","contextInfo","lazyContext","setVisible","refreshInternal","lazyViewport","morph","resetInternal","refresh$4","isDocked$1","setModes","DockingApis","events$5","dockInfo","dockState","onShown","onHidden","ActiveDocking","DockingSchema","init$6","docked","initialBounds","DockingState","Docking","toolbarHeightChange","editorStickyOnClass","editorStickyOffClass","scrollFromBehindHeader","containerHeader","viewHeight","innerHeight","markerElement","markerPos","markerHeight","markerTop","markerBottom","editorHeaderPos","editorHeaderHeight","editorHeaderTop","editorHeaderBottom","editorHeaderDockedAtTop","editorHeaderDockedAtBottom","isDockedMode","updateIframeContentFlow","getOccupiedHeight","parentElem","padding","parentWidth","updateSinkVisibility","sinkElem","updateEditorClasses","restoreFocus","headerElem","focusedElem","ownerDoc","activeElm","findFocusedElem","setup$9","lazyHeader","getIframeBehaviours","focusedElm","runOnSinkElement","onDockingSwitch","additionalBehaviours","headerHeight","boxHeight","topBound","StickyHeader","sticky","groupToolbarButtonSchema","createGroupToolbarButton","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","createSplitButton","factory$b","setMenus","activeButton","hoveredButton","activeComp","hoveredComp","SilverMenubar","getAnimationRoot","slideConfig","getDimensionProperty","disableTransitions","shrinkingClass","growingClass","setShrunk","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","shrinker","doStartGrow","wasShrinking","beforeSize","fullSize","startPartialGrow","startCompleteGrow","setStartSize","setExpanded","onStartGrow","refresh$3","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isGrowing","_slideState","isShrinking","isTransitioning","toggleGrow","SlidingApis","events$4","onGrown","ActiveSliding","SlidingSchema","init$5","SlidingState","Sliding","schema$d","getPartName","sSpec","slot","make$1","getSlotNames","getSlot","onSlot","onSlots","doShowing","doShow","doHide","hideSlot","hideSlots","hideAllSlots","showSlot","slotBehaviours","slotApis","SlotContainer","sidebarSchema","createSidebar","setup$8","sidebars","queryCommandValue","handleToggle","makePanels","panelConfigs","bridged","sidepanel","optSidePanelSpec","sidePanelSpec","makeSidebar","slotContainer","setSidebar","sidebar","optSlider","toggleSidebar","optSlotContainer","whichSidebar","sidebarOpen","fixSize","autoSize","renderSidebar","getBusySpec","blockerBehaviours","blockSpec","isBlocked","onBlock","blockWith","onUnblock","BlockingApis","BlockingSchema","init$4","BlockingState","Blocking","getAttrs","getBusySpec$1","_root","_behaviours","focusBusyComponent","throbber","toggleEditorTabIndex","tabIndexAttr","dataTabIndexAttr","toggleThrobber","throbberFocus","busyComp","renderThrobber","isFocusEvent","isPasteBinTarget","setup$7","lazyThrobber","throbberState","stealFocus","within","withinWidth","apportion","parray","toUnit","fitLast","overflower","fitAll","tryFit","divide","setGroups$1","storedGroups","bGroups","findFocusedComp","refresh$2","setOverflow","builtGroups","overflowGroup","focusedComp","availableWidth","overflows","schema$c","schema$b","parts$7","expandable","schema$a","parts$6","toggledClass","toolbarSandbox","bounder","makeSandbox","factory$a","FloatingToolbarButton","schema$9","parts$5","factory$9","tgroupBehaviours","itemSelector","ToolbarGroup","buildGroups","refresh$1","memFloatingToolbarButton","overflowGroups","floatingToolbarButton","factory$8","getOverflowBounds","overflowToggledClass","splitToolbarBehaviours","getOverflow","SplitFloatingToolbar","schema$8","parts$4","onClosed","onOpened","toggleToolbar","overf","factory$7","toolbarToggleEvent","doSetGroups","_button","SplitSlidingToolbar","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarbehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","overflowXOffset","moreDrawerData","headerBounds","docElem","docBounds","renderSlidingMoreToolbar","renderToolbar","scrolling","factory$6","getSocket","getHeader","setToolbar","setToolbars","mToolbar","refreshToolbar","toggleToolbarDrawer","isToolbarDrawerToggled","getThrobber","focusToolbar","optToolbar","setMenubar","menubar","focusMenubar","partMenubar","toolbarFactory","sliding","floating","partMultipleToolbar","_mToolbar","tc","_index","partToolbar","renderer","lazyToolbar","lazyMoreButton","partHeader","partSocket","partSidebar","partThrobber","OuterContainer","grps","grp","renderedToolbars","defaultMenubar","defaultMenus","edit","tools","help","removedMenuItems","itemName","removedMenuItem","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","isDefaultMenu","menuData","isNotSeparator","fireSkinLoaded","_skinLoaded","initialized","fireSkinLoadError","loadStylesheet","stylesheetUrl","styleSheetLoader","unload","loadUiSkins","skinUiCss","loadShadowDomUiSkins","isInShadowRoot$1","shadowDomSkinCss","loadSkin","isInline","onSetupFormatToggle","boundCallback","binding","formatChanged","onSetupEvent","handleEvent","onActionToggleFormat$1","rawItem","onActionExecCommand","generateSelectItems","_editor","generateItem","si","invalid","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","getComponent","rawFormats","buildBasicStaticDataset","ResizeTypes","delimiter","SemiColon","buildBasicSettingsDataset","settingName","alignMenuItems","getSpec$4","getMatchingValue","_format","updateSelectMenuIcon","alignment","canApply","createAlignSelect","alignSelectMenu","defaultFontsFormats","systemStackFonts","splitFonts","fontFamily","fonts","font","isSystemFontStack","matchesSystemStack","getSpec$3","systemFont","getFirstFont","matchOpt","updateSelectMenuText","createFontSelect","fontSelectMenu","defaultFontsizeFormats","legacyFontSizes","keywordFontSizes","factor","toPt","fontSize","toLegacy","getSpec$2","pt","legacy","Space","createFontsizeSelect","fontsizeSelectMenu","findNearest","getStyles","defaultBlocks","getSpec$1","fallbackFormat","detectedFormat","createFormatSelect","formatSelectMenu","getSpec","getFormatItems","flattenedItems","createStyleSelect","styleSelectMenu","events$3","reflectingConfig","reflectingState","renderComponents","newComponents","rawData","ActiveReflecting","reflectState","ReflectingApis","ReflectingSchema","init$3","ReflectingState","Reflecting","schema$7","arrowPart","arrow","buttonPart","btn","splitDropdown","parts$3","factory$5","openMenu","executeOnButton","buttonEvents","ariaDescriptor","splitDropdownBehaviours","SplitDropdown","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","renderCommonStructure","_d","renderFloatingToolbarButton","identifyButtons","renderCommonToolbarButton","specialisation","toolbarButtonBehaviours","renderToolbarButton","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButton","renderToolbarToggleButtonWith","fetchChoices","renderSplitButton","displayChannel","underlinePath","setIconStroke","buttonComp","defaultToolbar","renderFromBridge","bridgeBuilder","togglebutton","menubutton","splitbutton","grouptoolbarbutton","identify","allowToolbarGroups","TopToBottom","styleSelectButton","fontsizeSelectButton","fontSelectButton","formatButton","alignMenuButton","extractFrom","bespokeButtons","fontsizeselect","fontselect","formatselect","removeUnusedDefaults","filteredItemGroups","subItem","convertStringToolbar","strToolbar","groupsStrings","isToolbarGroupSettingArray","createToolbar","toolbarConfig","lookupButton","toolbarItem","toolbarGroups","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","setupEvents$1","initialDocEle","lastWindowDimensions","innerWidth","lastDocumentDimensions","resizeWindow","resizeDocument","docEle","elementLoad","render$1","lastToolbarWidth","eTargetNode","uiRoot","socket","unbinder","addQueryValueHandler","toolbarMode","refreshDrawer","iframeContainer","Iframe","parseToInt","numToPx","calcCappedSize","minSize","maxSize","minOverride","maxOverride","getHeight","baseHeight","getHeightWithFallback","getWidth","baseWidth","getWidthWithFallback","InlineHeader","floatContainer","isSticky","editorMaxWidthOpt","headerBackstage","isSplitToolbar","calcToolbarOffset","tbar","calcMode","toolbar_1","toolbarHeight","targetBounds","roomAtTop","docHeight","roomAtBottom","winBounds","isRoomAtBottomViewport","setupMode","verticalDir","updateChromeWidth","bodyMargin","updateChromePosition","repositionPopups$1","updateChromeUi","resetDocking","floatContainerComp","updateMode","updateUi","currentMode","newMode","getTargetPosAndBounds","setupEvents","toolbarPersist","prevPosAndBounds","resizeContent","prevPos","prevBounds","hasResized","uiContainer","delayedRender","Inline","showContextToolbarEvent","hideContextToolbarEvent","getFormApi","runOnExecute","renderContextButton","renderContextToggleButton","mementos","asSpecs","findPrimary","compInSystem","buildInitGroups","renderContextForm","toolbarType","ContextForm","isVerticalOverlap","threshold","getRangeRect","leaf$1","getSelectionBounds","scroll_1","bodyPos","getAnchorElementBounds","getHorizontalBounds","contentAreaBox","viewportBounds","getVerticalBounds","isToolbarLocationTop","headerBox","isToolbarBelowContentArea","isToolbarAbove","containerBounds","getContextToolbarBounds","toolbarOrMenubarEnabled","bubbleSize$1","bubbleAlignments$1","inset","isEntireElementSelected","preservePosition","currentPosition","shouldUseInsetLayouts","determineInsetLayout","contextbar","selectionBounds","isSameAnchorElement","isOverlapping","isReposition","yBounds","contextbarHeight","getAnchorSpec$2","mobile","smartInsetLayout","newAnchor","getInsetLayouts","desktopAnchorSpecLayouts","mobileAnchorSpecLayouts","getAnchorLayout","matchTargetWith","ctxs","toolbarApi","contextToolbars","contextForms","filterByPositionForStartNode","doesPositionExist","filterToolbarsByPosition","hasSelectionToolbars","hasNodeToolbars","nodeToolbars","selectionToolbars","filterByPositionForAncestorNode","findPosition_1","basePosition","matchStartNode","nodeCandidates","editorCandidates","nodeMatches","editorMatches","matchAncestor","scopes","ancestorElem","inNodeScope","lookup$1","rootElem","isOutsideRoot","inEditorScope","categorise","forms","formNavigators","lookupTable","registerForm","contextForm","registerToolbar","contextToolbar","forwardSlideEvent","backSlideEvent","changeSlideEvent","resizingClass","renderContextToolbar","currentWidth","newContents","oldContents","forwardContents","register$7","registryContextToolbars","lastTrigger","lastContextPosition","canLaunchToolbar","isSameLaunchElement","shouldContextToolbarHide","contextToolbarBounds","anchorBounds","hideOrRepositionIfNecessary","contextBarEle","wrapInPopDialog","getScopes","alloySpec","buildToolbar","buildContextToolbarGroups","allButtons","buildContextFormGroups","anchorLayout","launchContext","launchContextToolbar","register$6","alignToolbarButtons","unsupportedLength","decimalDigits","signedInteger","exponentPart","dot","unsignedDecimalLiteral","float","isUnit","accepted","unitRaw","normalise","registerController","getMenuItems","getOptions","oldApi","unbindWatcher","watcher","setCurrent","addMenuButton","onToolbarSetup","onMenuSetup","lineHeightSpec","languageSpec","settingsOpt","customCode","customValue","ele","codeOpt","register$5","register$4","onSetupOutdentState","queryCommandState","registerButtons$2","register$3","onActionToggleFormat","registerFormatButtons","_idx","registerCommandButtons","registerCommandToggleButtons","registerButtons$1","registerMenuItems$2","onSetupUndoRedoState","registerMenuItems$1","registerButtons","onSetupVisualAidState","hasVisual","registerMenuItems","registerToolbarButton","setup$6","transpose","dx","dy","isTouchEvent","fromPageXY","fromClientXY","transposeContentAreaContainer","containerPos","getPos","getPointAnchor","getSelectionAnchor","getNodeAnchor","getAnchorSpec$1","anchorType","initAndShow$1","buildMenu","contextmenu","anchorSpec","bubbleAlignments","isTouchWithinSelection","touch_1","rngRectOpt","rngRect","setupiOSOverrides","originalSelection","selectionReset","unbindEventListeners","preventMousedown","clearSelectionReset","getAnchorSpec","bubbleYOffset","initAndShow","shouldHighlightImmediately","openiOS_1","patchPipeConfig","shouldNeverUseNative","defaultItems","contextMenus","isContextMenuDisabled","getContextMenu","getAvoidOverlapSelector","makeContextItem","commonMenuItem","addContextMenuGroup","groupItems","lastMenuItem","generateContextMenu","selectedElement","allItems","isNativeOverrideKeyEvent","isTriggeredByKeyboard","getSelectedElement","getAnchorType","selectorExists","setup$5","hideContextMenu","showContextMenu","initAndShow$2","hideEvents","subtract","changes","asFixed","coord","asAbsolute","asOffset","withinRange","coord1","coord2","getDeltas","toStyles","stylesOpt","absorb","partialCoord","originalCoord","absorbOne","optX","optY","parseAttrToInt","snapsInfo","leftAttr","topAttr","getCoords","snapInfo","moveOrSnap","newCoord","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","stopDrag","findMatchingSnap","snaps","sensor","inRange","getSnapPoints","matchSnap","bestSnap","deltas","bestDeltas","currAvg","bestAvg","snapTo$1","snapTo","dragConfig","getTarget","repositionTarget","origin_1","snapPin","DraggingApis","initialAttribute","resetZIndex","zIndex","changeZIndex","zindex","instigate","anyComponent","discard","createComponent","blockerClass","blockerEvents","SnapSchema","schema$6","getCurrentCoord","clampCoords","coords","absoluteCoord","newCoords","offset$1","calcNewCoord","optSnaps","currentCoord","snapping","onSensor","dragBy","onDrag","calcStartData","dragState","dragStartData","getStartData","dlt","updateStartState","setStartData","init$2","dragApi","forceDrop","drop","delayDrop","getData$1","getDelta$1","MouseData","events$2","stop$1","schema$5","init$1","getDataFrom","TouchData","events$1","blockerSingleton","stopBlocking","schema$4","schema$3","mouse","mouseOrTouch","DraggingBranches","previous","calculateDelta","dragEvent","DragState","Dragging","dragger","snapWidth","snapOffset","calcSnap","selectorOpt","td","selectorHandle","sensorLeft","sensorTop","sensorWidth","sensorHeight","getSnapsConfig","isSameCell","cellOpt","currentTd","createSelector","setup$4","tlTds","brTds","startCell","finishCell","getTopLeftSnap","memTopLeft","getTopLeftSnaps","getBottomRightSnap","memBottomRight","getBottomRightSnaps","topLeftSnaps","bottomRightSnaps","bottomRight","showOrHideHandle","isAbove","isBelow","cellRect","viewportHeight","aboveViewport","belowViewport","getSnapConfig","snapTopLeft","snapLastTopLeft","snapBottomRight","snapLastBottomRight","otherCells","upOrLeftCells","downOrRightCells","renderElementPath","getDataPath","newPathElements","_btn","divider","newAcc","updatePath","newPath","isPropagationStopped","resizeType","Both","dim","getResizeType","None","Vertical","keyboardHandler","renderResizeHandler","_target","renderWordCount","replaceCountText","currentVal","renderStatusbar","renderBranding","linkHtml","getTextComponents","getComponents","resizeHandler","setup$3","lazyOuterContainer","platformClasses","touchPlatformClass","deviceClasses","isToolbarBottom","dirAttributes","verticalDirAttributes","isHeaderDocked","resizeUiMothership","makeSinkDefinition","isGridUiContainer","sinkSpec","reactiveWidthSpec","memAnchorBar","lazyAnchorBar","sb","statusbar","socketSidebarContainer","hasMultipleToolbar","hasToolbar","hasMenubar","getPartToolbar","editorComponents","containerComponents","opacity","border","getUi","broadcastAll","setEditorSize","parsedHeight","parsedWidth","renderUI","toolbarGroupButtonConfig","addGroupToolbarButton","toolbarOpt","describedBy","describedElement","describeElement","describeId","labelledBy","labelledElement","labelElement","schema$2","basic","parts$2","dragBlockClass","getDragBounds","factory$4","dialogComp","externalBlocker","hideDialog","blockerDom","getDialogBody","getDialogFooter","setBusy","setIdle","modalEventsId","getFooter","modalBehaviours","ModalDialog","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseFooterButtonFields","dialogFooterButtonFields","normalFooterButtonFields","menuFooterButtonFields","dialogFooterButtonSchema","alertBannerFields","alertBannerSchema","createBarFields","itemsField","buttonFields","buttonSchema","checkboxFields","checkboxSchema","checkboxDataProcessor","formComponentFields","formComponentWithLabelFields","collectionFields","collectionSchema","collectionDataProcessor","colorInputFields","colorInputSchema","colorInputDataProcessor","colorPickerFields","colorPickerSchema","colorPickerDataProcessor","customEditorFields","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","dropZoneFields","dropZoneSchema","dropZoneDataProcessor","createGridFields","htmlPanelFields","htmlPanelSchema","iframeFields","iframeSchema","iframeDataProcessor","imageToolsFields","imageToolsSchema","inputFields","inputSchema","inputDataProcessor","createLabelFields","listBoxSingleItemFields","listBoxNestedItemFields","listBoxItemSchema","listBoxFields","listBoxSchema","listBoxDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","tableFields","tableSchema","textAreaFields","textAreaSchema","textAreaDataProcessor","urlInputFields","urlInputSchema","urlInputDataProcessor","createItemsField","itemSchema","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogButtonFields","dialogButtonSchema","dialogSchema","tabpanel","createDialog","urlDialogButtonSchema","urlDialogSchema","createUrlDialog","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","getDataProcessor","getNamedItems","createDataValidator","namedItems","internalDialog","dataValidator","DialogManager","openUrl","toValidValues","renderBodyPanel","memForm","formValue","factory$3","tabButtonBehaviours","TabButton","schema$1","tabsPart","barDetail","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$1","factory$2","tabbarBehaviours","selectedClass","tab","Tabbar","factory$1","tabviewBehaviours","Tabview","barPart","viewPart","tabValue","tabview","tabWithValue","tabData","onChangeTab","changeTabBy","byPred","tabSectionBehaviours","selectFirst","onDismissTab","getViewItems","showTab","tabKey","getTabIfNotActive","optTab","TabSection","measureHeights","allTabs","tabviewComp","_tab","getMaxHeight","heights","getMaxTabviewHeight","tablist","documentElement$1","tabviewHeight","isTabListBeside","currentTabHeight","dialogTopMargin","dialogBottomMargin","dialogHeight","chromeHeight","setTabviewHeight","updateTabviewHeight","dialogBody","maxTabHeight","getTabview","smartTabHeight","extraEvents","maxTabHeightOpt","oldHeight","naiveTabHeight","SendDataToSectionChannel","SendDataToViewChannel","renderTabPanel","storedValue","updateDataWithForm","validData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","renderBody","ariaAttrs","incoming","isTabPanel","ariaAttributes","renderInlineBody","contentId","renderModalBody","bodySpec","renderIframeBody","hiddenHeader","pClose","pUntitled","pBodyMessage","pFooter","footer","pFooterGroup","startButtons","endButtons","renderDialog$1","dialogClass","blockerBackdropClass","scrollLockClass","extraStyles","dialogEvents","renderClose","renderTitle","renderDragHandle","renderInlineHeader","titleId","renderModalHeader","pTitle","pHandle","draghandle","draggable","bs","getEventExtras","lazyDialog","closeWindow","blockEvent","renderModalDialog","mapMenuButtons","mapItems","extractCellsToObject","menuButton","innerAcc","initCommonEvents","fireApiEvent","_event","initUrlDialog","getInstanceApi","withSpec","currentDialog","initDialog","currentDialogInit","cur","onTabChange","newTabName","oldTabName","SilverDialogEvents","makeButton","footerButtons","buttonName","buttonGroups","makeGroup","renderFooter","initSpec","lookupByName","renderInlineFooter","renderModalFooter","getCompByName","form_1","getFormWrapper","footerState","validateData$1","dialogState","getDialogApi","doRedial","menuItemStates","withRoot","valueComp","representedValues","menuItemCurrentState","instanceApi","mergedData","newInternalData","bodyState","tabSection","dialogInit","getDialogSizeClasses","renderDialog","storagedMenuButtons","objOfCells","dialogSize","modalAccess","getForm","outerForm","renderInlineDialog","dialogLabelId","dialogContentId","memHeader","memBody","memFooter","getUrlDialogApi","sendMessage","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","isCustomMessage","handleMessage","renderUrlDialog","iframeUri","base_uri","iframeDomain","messageHandlerUnbinder","isSameOrigin","onMessage","iframeEle","iframeWin","closeDialog","alertDialog","memFooterClose","titleSpec","closeSpec","footerCloseButton","confirmDialog","memFooterYes","footerNo","footerYesButton","validateData","isAlertOrConfirmDialog","inlineAdditionalBehaviours","isStickyToolbar$1","openInlineDialog","openModalDialog","openModalUrlDialog","internalInitialData","config$1","refreshDocking","dialogUi","inlineDialogComp","Theme","windowMgr","getWindowManagerImpl","getNotificationManagerImpl","_hoisted_1","__name","emits","__props","formRef","author","cover","imageUrl","imgPreview","handleImgSuccess","getImgUrl","handleImageSrc","base64ToFile","fileName","dataArr","byteString","endings","u8Arr","fileOfBlob","_ctx","_cache","_component_el_input","_component_el_form_item","_component_el_col","_component_el_row","_component_el_button","_component_el_upload","_component_el_form","_component_el_dialog","$event","ref_key","modelValue","clearable","gutter","imageSrc","onUpdateImageSrc","plat","vlog","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","tableData","tableHeader","operations","rowData","pageNum","pageSize","dialogShow","dialogShow1","editData","dialogTitle","queryRow","handlePageChange","_component_el_pagination","preNum","onCommands","onCurrentChange","__exports__","imageRef","cropImage","croppedImage","buildShortUUID","validEvents","isValidKey","bindHandlers","initEvent","onMountedOrActivated","hook","mounted","onMounted","nextTick","onActivated","showImageUpload","tinymceId","editorRef","fullscreen","elRef","initOptions","branding","default_link_target","link_title","object_resizing","auto_focus","skin_url","content_css","initSetup","getdDisabled","Reflect","destory","bindModelHandlers","initEditor","prevVal","outputFormat","modelEvents","normalizedEvents"],"sourceRoot":""}