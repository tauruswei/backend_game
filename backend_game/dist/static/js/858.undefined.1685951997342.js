"use strict";(self["webpackChunkknowledge"]=self["webpackChunkknowledge"]||[]).push([[858],{4098:function(e,a,t){t.a(e,(async function(e,n){try{var s=t(3396),l=t(2268),i=t(4870),r=t(7139),u=t(8859),d=t(3103),o=t(9322),c=t(4804),p=t(9574),m=t(5920),y=t(5657),v=t(2863),f=t(1048),h=t(8238),g=t(6853),b=e([u,f]);[u,f]=b.then?(await b)():b;const _={class:"nav nav-pills nav-pills-warning nav-pills-icons justify-content-center",role:"tablist"},w=(0,s._)("i",{class:"fa fa-fire"},null,-1),k=(0,s._)("i",{class:"fa fa-clock-o"},null,-1),U=(0,s._)("i",{class:"fa fa-ban"},null,-1),S=(0,s._)("i",{class:"fa fa-gift"},null,-1),T={class:"card"},x={key:1,class:"card-body"},C={key:2,class:"card-body"},N={key:3,class:"card-body"},A={key:0,class:"card card-pricing card-raised"},H={class:"card-body"},W=(0,s.uE)('<h6 class="card-category">Get a NFT in the blind box</h6><div class="card-icon icon-rose"><i class="fa fa-gift"></i></div><h3 class="card-title">20 USDT</h3><span style="text-decoration:line-through!important;">99 USDT</span><p class="card-description"> Each blind box contains a NFT, which may be one of the <a target="_blank" href="https://chessofstars.io/nftlist">NFTs here</a>. </p>',5),D={class:"card"},V=(0,s._)("div",{class:"card-header card-header-info card-header-icon"},[(0,s._)("div",{class:"card-icon"},[(0,s._)("i",{class:"fa fa-ticket"})]),(0,s._)("h4",{class:"card-title"},"View NFT on Blockchain")],-1),q={class:"card-body"},I={class:"row"},M={class:"col-md-4"},F={class:"col-md-8 ml-auto mr-auto"},z={class:"table-responsive table-sales"},E={class:"table"},j={style:{"text-transform":"capitalize"}};a.Z={__name:"nfts",setup(e){const a=(0,r.oR)();(0,i.qj)({buy:0,used:1,expire:2});let t=(0,i.iH)(0),n=(0,i.iH)({type:"warning",title:"NFTs",desc:"All NFTs for points competitions which come from blind boxes"}),b=(0,i.iH)([]),B=(0,i.iH)(["id","NFT_type","blockchain","minted_at","game_chances"]),K=(0,i.iH)(["id","NFT_type","blockchain","minted_at","run_out_time"]),Z=(0,i.iH)([{id:1,type:"success",icon:"fa fa-external-link",name:"View NFT on Blockchain",event:"view"},{id:2,type:"primary",icon:"fa fa-gamepad",name:"use it for game",event:"updataStatus"}]),P=(0,i.iH)([{id:1,type:"success",icon:"fa fa-external-link",name:"View NFT on Blockchain",event:"view"}]),R=(0,i.iH)(!1),Y=(0,i.iH)(!1),$=(0,i.iH)({}),O=(0,i.iH)(1),G=(0,i.iH)(1),L=(0,i.iH)(10),J=(0,i.iH)("Binance Smart Chain");const Q=(0,i.iH)(!0),X=(0,i.iH)(!0),ee=(0,i.iH)({channelAddress:"",clubAddress:"",userAddress:""}),ae=(0,i.iH)(20),te=(0,i.iH)(1),ne=new f.MV,se=(0,i.iH)(!1),le=(0,i.iH)({});function ie(e){"view"==e.command&&(Q.value=!0,R.value=!0,ue(e.data)),"updataStatus"==e.command&&ge(e.data)}function re(){let e={pageSize:L.value,pageNo:O.value,status:t.value,userId:a.state.user.id};u.u1.list(e).then((e=>{e.data.list&&(b.value=e.data.list.map((e=>{let a={id:e.id,Token_ID:e.tokenId,tx_id:e.txId,NFT_type:e.nftType,blockchain:e.blockChain,minted_at:v.Ov.toString(1e3*e.mintedAt),run_out_time:v.Ov.toString(1e3*e.runOutTime),game_chances:e.gameChances,src:`https://cosd1.s3.amazonaws.com/${e.nftType}.png`};return a})),G.value=e.data.total)}))}function ue(e){let a=[e].map((e=>({NFT_type:e.NFT_type,game_chances:e.game_chances,blockchain:e.blockchain,Token_ID:e.Token_ID,contract_address:f.qE.blindbox.address,minted_at:e.minted_at,src:e.src,status:t.value})));$.value=a[0]}function de(e){t.value=e,"buy"!=e&&(O.value=1,re())}function oe(e){O.value=e,re()}function ce(e){let a=20;"usdt"==e?te.value=parseInt(ae.value/a):"nft"==e&&(ae.value=te.value*a)}function pe(){return ae.value||h.z8.error("amount is required!"),!ae.value}function me(){ne.isAvailable()&&u.BG.wallet(a.state.user.id).then((e=>{0==e.code&&(ee.value=e.data,se.value=!1,Y.value=!0)}))}function ye(){if(!ne.isAvailable())return;if(pe())return;let e={from:a.state.metaMask.account,address:f.qE.blindbox.address,money:ae.value,abi:d,club:ee.value.clubAddress,channel:ee.value.channelAddress};y.K.show(),ne.approveByContract({...e,abiApprove:o,approveAddress:f.qE.busd.address}).then((()=>{se.value=!0,y.K.hide()})).catch((e=>{y.K.hide()}))}function ve(){if(!ne.isAvailable())return;if(pe())return;let e={from:a.state.metaMask.account,address:f.qE.blindbox.address,money:ae.value,abi:d,club:ee.value.clubAddress,channel:ee.value.channelAddress};y.K.show(),ne.nftBlindBoxByContract(e).then((e=>{Y.value=!1,le.value={txId:e.transactionHash,transType:f.hC.blindbox,fromUserId:a.state.user.id,fromAssetType:f.pn.usdt,fromAmount:ae.value,toUserId:a.state.user.id,toAssetType:f.pn.nft,toAmount:te.value,nftVo:{tokenId:e.events.DrawCardEvent.returnValues.cardId,attr1:"",attr2:""},blockNumber:e.blockNumber};let t=e.events.DrawCardEvent.returnValues.cardId;fe(t),y.K.hide()})).catch((e=>{console.log(e),y.K.hide()}))}function fe(e){if(!ne.isAvailable())return;let t={abi:c,from:a.state.metaMask.account,address:f.qE.nft.address,tokenId:e};ne.getNFTInfoByContract(t).then((e=>{R.value=!0,$.value.src=e.uri,$.value.NFT_type=e.number,$.value.game_chances=e.chances,$.value.status=0,$.value.blockchain=J.value,$.value.Token_ID=le.value.nftVo.tokenId,$.value.contract_address=f.qE.blindbox.address,le.value.nftVo.attr1=e.number,le.value.nftVo.attr2=e.chances,Q.value=!1,X.value=!1}))}function he(e){X.value||Q.value||(e&&(le.value.nftVo.status=e),(0,f.pd)(le.value),X.value=!0,Q.value=!0,e&&($.value.status=e))}function ge(e){let a={tokenId:e.Token_ID,status:1};y.K.show(),u.u1.status(a).then((e=>{0==e.code&&((0,g.bM)({type:"success",message:"use it successfully"}),$.value.status=1,y.K.hide(),re())}))}return(0,s.bv)((()=>{re()})),(e,a)=>{const r=(0,s.up)("el-pagination"),u=(0,s.up)("el-image"),d=(0,s.up)("el-col"),o=(0,s.up)("el-button"),c=(0,s.up)("el-row"),y=(0,s.up)("el-tag"),v=(0,s.up)("el-dialog"),f=(0,s.up)("el-input-number");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("ul",_,[(0,s._)("li",{class:"nav-item",onClick:a[0]||(a[0]=e=>de(0))},[(0,s._)("a",{class:(0,l.C_)(["nav-link",0==(0,i.SU)(t)?" active":""]),href:"javascript:void(0);",role:"tablist"},[w,(0,s.Uk)(" Active ")],2)]),(0,s._)("li",{class:"nav-item",onClick:a[1]||(a[1]=e=>de(1))},[(0,s._)("a",{class:(0,l.C_)(["nav-link",1==(0,i.SU)(t)?" active":""]),href:"javascript:void(0);",role:"tablist"},[k,(0,s.Uk)(" Using ")],2)]),(0,s._)("li",{class:"nav-item",onClick:a[2]||(a[2]=e=>de(2))},[(0,s._)("a",{class:(0,l.C_)(["nav-link",2==(0,i.SU)(t)?" active":""]),href:"javascript:void(0);",role:"tablist"},[U,(0,s.Uk)(" Used ")],2)]),(0,s._)("li",{class:"nav-item",onClick:a[3]||(a[3]=e=>de("buy"))},[(0,s._)("a",{class:(0,l.C_)(["nav-link","buy"==(0,i.SU)(t)?" active":""]),href:"javascript:void(0);",role:"tablist"},[S,(0,s.Uk)(" Buy ")],2)])]),(0,s._)("div",T,["buy"!==(0,i.SU)(t)?((0,s.wg)(),(0,s.j4)(p.Z,{key:0,option:(0,i.SU)(n)},null,8,["option"])):(0,s.kq)("",!0),0==(0,i.SU)(t)?((0,s.wg)(),(0,s.iD)("div",x,[(0,s.Wm)(m.Z,{data:(0,i.SU)(b),header:(0,i.SU)(B),preNum:(0,i.SU)(O)*(0,i.SU)(L)-(0,i.SU)(L),operations:(0,i.SU)(Z),onCommands:ie},null,8,["data","header","preNum","operations"]),(0,s.Wm)(r,{background:"",layout:"prev, pager, next",total:(0,i.SU)(G),"current-page":(0,i.SU)(O),"onUpdate:currentPage":a[4]||(a[4]=e=>(0,i.dq)(O)?O.value=e:O=e),onCurrentChange:oe,"page-size":(0,i.SU)(L)},null,8,["total","current-page","page-size"])])):(0,s.kq)("",!0),1==(0,i.SU)(t)?((0,s.wg)(),(0,s.iD)("div",C,[(0,s.Wm)(m.Z,{data:(0,i.SU)(b),header:(0,i.SU)(B),preNum:(0,i.SU)(O)*(0,i.SU)(L)-(0,i.SU)(L),operations:(0,i.SU)(P),onCommands:ie},null,8,["data","header","preNum","operations"]),(0,s.Wm)(r,{background:"",layout:"prev, pager, next",total:(0,i.SU)(G),"current-page":(0,i.SU)(O),"onUpdate:currentPage":a[5]||(a[5]=e=>(0,i.dq)(O)?O.value=e:O=e),onCurrentChange:oe,"page-size":(0,i.SU)(L)},null,8,["total","current-page","page-size"])])):(0,s.kq)("",!0),2==(0,i.SU)(t)?((0,s.wg)(),(0,s.iD)("div",N,[(0,s.Wm)(m.Z,{data:(0,i.SU)(b),header:(0,i.SU)(K),preNum:(0,i.SU)(O)*(0,i.SU)(L)-(0,i.SU)(L),operations:(0,i.SU)(P),onCommands:ie},null,8,["data","header","preNum","operations"]),(0,s.Wm)(r,{background:"",layout:"prev, pager, next",total:(0,i.SU)(G),"current-page":(0,i.SU)(O),"onUpdate:currentPage":a[6]||(a[6]=e=>(0,i.dq)(O)?O.value=e:O=e),onCurrentChange:oe,"page-size":(0,i.SU)(L)},null,8,["total","current-page","page-size"])])):(0,s.kq)("",!0)]),"buy"==(0,i.SU)(t)?((0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("div",H,[W,(0,s._)("button",{class:"btn btn-rose btn-round",onClick:a[7]||(a[7]=e=>me())},"Try your luck")])])):(0,s.kq)("",!0),(0,s.Wm)(v,{modelValue:(0,i.SU)(R),"onUpdate:modelValue":a[9]||(a[9]=e=>(0,i.dq)(R)?R.value=e:R=e),title:"View NFT on Blockchain",width:"800px",onClose:a[10]||(a[10]=e=>he()),"destroy-on-close":""},{default:(0,s.w5)((()=>[(0,s._)("div",D,[V,(0,s._)("div",q,[(0,s._)("div",I,[(0,s._)("div",M,[(0,s.Wm)(u,{src:(0,i.SU)($).src,style:{width:"200px"}},null,8,["src"])]),(0,s._)("div",F,[0==(0,i.SU)($).status?((0,s.wg)(),(0,s.j4)(c,{key:0,gutter:10},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{span:16},{default:(0,s.w5)((()=>[(0,s.Uk)("use it for game?")])),_:1}),(0,s.Wm)(d,{span:8,style:{"text-align":"right"}},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{type:"primary",onClick:a[8]||(a[8]=e=>Q.value?ge((0,i.SU)($)):he(1)),round:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Yes")])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),1==(0,i.SU)($).status?((0,s.wg)(),(0,s.j4)(c,{key:1,gutter:10},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{span:16},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{type:"success"},{default:(0,s.w5)((()=>[(0,s.Uk)("status: Using")])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s._)("div",z,[(0,s._)("table",E,[(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,i.SU)($),((e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,["src"!=a&&"status"!=a?((0,s.wg)(),(0,s.iD)("tr",{key:a},[(0,s._)("td",j,(0,l.zw)(a.replace(/\_/g," ")+":"),1),(0,s._)("td",null,(0,l.zw)(e),1)])):(0,s.kq)("",!0)],64)))),256))])])])])])])])])),_:1},8,["modelValue"]),(0,s.Wm)(v,{modelValue:(0,i.SU)(Y),"onUpdate:modelValue":a[17]||(a[17]=e=>(0,i.dq)(Y)?Y.value=e:Y=e),title:"Get a NFT in the blind box",width:"400px","destroy-on-close":""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{span:4},{default:(0,s.w5)((()=>[(0,s.Uk)("USDT")])),_:1}),(0,s.Wm)(d,{span:20},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{modelValue:ae.value,"onUpdate:modelValue":a[11]||(a[11]=e=>ae.value=e),modelModifiers:{number:!0},"controls-position":"right",step:20,min:20,max:1e5,placeholder:"`set amount",onChange:a[12]||(a[12]=e=>ce("usdt")),style:{width:"100%"},clearable:""},null,8,["modelValue"])])),_:1}),(0,s.Wm)(d,{span:4,style:{"margin-top":"10px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("NFT")])),_:1}),(0,s.Wm)(d,{span:20,style:{"margin-top":"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{modelValue:te.value,"onUpdate:modelValue":a[13]||(a[13]=e=>te.value=e),modelModifiers:{number:!0},"controls-position":"right",step:1,min:1,max:1e5,placeholder:"`set amount",onChange:a[14]||(a[14]=e=>ce("nft")),style:{width:"100%"},clearable:""},null,8,["modelValue"])])),_:1}),(0,s.Wm)(d,{span:24,style:{"margin-top":"15px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{type:"primary",onClick:a[15]||(a[15]=e=>ye()),style:{width:"100%"},disabled:se.value},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("1")])),_:1}),(0,s.Uk)(" Approve Spending ")])),_:1},8,["disabled"])])),_:1}),(0,s.Wm)(d,{span:24,style:{"margin-top":"15px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{type:"success",onClick:a[16]||(a[16]=e=>ve()),style:{width:"100%"},disabled:!se.value},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("2")])),_:1}),(0,s.Uk)(" Buy ")])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}}},n()}catch(_){n(_)}}))},2863:function(e,a,t){t.d(a,{Ov:function(){return s},lV:function(){return n}});const n={getURLParam:e=>{let a=new URL(window.location),t=a.searchParams,n=t.get(e);return n}},s={toString:(e,a)=>{if(!e)return"";a||(a="yyyy-MM-dd hh:mm:ss");let t=new Date(e),n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in n)new RegExp("("+s+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?n[s]:("00"+n[s]).substr((""+n[s]).length)));return a},getDay:e=>{let a=new Date,t=a.getTime()+864e5*e;return a.setTime(t),a}}},5920:function(e,a,t){t.d(a,{Z:function(){return d}});t(7658);var n=t(3396),s=t(4870),l=t(2268),i={__name:"dynamic-table",props:{data:{type:Array,default:()=>[]},header:{type:Array,default:()=>[]},operations:{type:Array,default:()=>null},preNum:{type:Number,default:0}},emits:["commands"],setup(e,{emit:a}){const t=e;let i=(0,s.iH)([]),r=(0,s.iH)([]),u=(0,s.iH)(null);function d(e){const a=[];for(let t of e)if("id"!==t){const e={key:t,value:t.replace(/\_/g," ")};a.push(e)}return a}function o(e,t){a("commands",{command:e,data:t})}return(0,n.YP)((()=>t.data),(e=>{r.value=e}),{immediate:!0}),(0,n.YP)((()=>t.header),(e=>{i.value=d(e)}),{immediate:!0}),(0,n.YP)((()=>t.operations),(e=>{u.value=e||null}),{immediate:!0}),(a,t)=>{const d=(0,n.up)("el-table-column"),c=(0,n.up)("el-button"),p=(0,n.up)("el-tooltip"),m=(0,n.up)("el-empty"),y=(0,n.up)("el-table");return(0,n.wg)(),(0,n.j4)(y,{data:(0,s.SU)(r),fit:""},{empty:(0,n.w5)((()=>[(0,n.Wm)(m,{style:{margin:"0 auto"}})])),default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"No.",width:50},{default:(0,n.w5)((a=>[(0,n.Uk)((0,l.zw)(a.$index+e.preNum+1),1)])),_:1}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,s.SU)(i),((e,a)=>((0,n.wg)(),(0,n.j4)(d,{key:a,label:e.value,prop:e.key},null,8,["label","prop"])))),128)),(0,s.SU)(u)?((0,n.wg)(),(0,n.j4)(d,{key:0,label:"Operations",width:"120"},{default:(0,n.w5)((e=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,s.SU)(u),(a=>((0,n.wg)(),(0,n.iD)("span",{key:a.id,style:{"padding-left":"5px","padding-right":"5px"}},[(0,n.Wm)(p,{content:a.name,placement:"top"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{type:a.type,size:"small",onClick:t=>o(a.event,e.row,e.$index),circle:""},{default:(0,n.w5)((()=>[(0,n._)("i",{class:(0,l.C_)(a.icon)},null,2)])),_:2},1032,["type","onClick"])])),_:2},1032,["content"])])))),128))])),_:1})):(0,n.kq)("",!0)])),_:1},8,["data"])}}},r=t(89);const u=(0,r.Z)(i,[["__scopeId","data-v-07c19c6d"]]);var d=u},9574:function(e,a,t){t.d(a,{Z:function(){return c}});var n=t(3396),s=t(2268),l=t(4870);const i={class:"card-text",style:{display:"block"}},r={class:"card-title"},u={key:0,class:"card-category"};var d={__name:"page-title",props:{option:Object,default:()=>{}},setup(e){const a=e,t=(0,l.iH)({});return(0,n.YP)((()=>a.option),(e=>{t.value=e}),{immediate:!0}),(e,a)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,s.C_)(`card-header card-header-text card-header-${t.value.type}`)},[(0,n._)("div",i,[(0,n._)("h4",r,(0,s.zw)(t.value.title),1),t.value.desc?((0,n.wg)(),(0,n.iD)("p",u,(0,s.zw)(t.value.desc),1)):(0,n.kq)("",!0)])],2))}};const o=d;var c=o},8858:function(e,a,t){t.a(e,(async function(e,n){try{t.r(a);var s=t(9517),l=e([s]);s=(l.then?(await l)():l)[0];const i=s.Z;a["default"]=i,n()}catch(i){n(i)}}))},9517:function(e,a,t){t.a(e,(async function(e,n){try{t.d(a,{Z:function(){return s.Z}});var s=t(4098),l=e([s]);s=(l.then?(await l)():l)[0],n()}catch(i){n(i)}}))},3103:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_anotherContractAddress","type":"address"},{"internalType":"address","name":"_usdtAddress","type":"address"},{"internalType":"address","name":"_address1","type":"address"},{"internalType":"address","name":"_address2","type":"address"},{"internalType":"uint256","name":"_price","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"_usdtAmount","type":"uint256"},{"internalType":"address","name":"_clubAddress","type":"address"},{"internalType":"address","name":"_channelAddress","type":"address"}],"name":"drawCard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isAddressEmpty","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"setPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address1","type":"address"},{"internalType":"address","name":"_address2","type":"address"}],"name":"setRandomAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"usdt","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"uint256","name":"cardId","type":"uint256"}],"name":"DrawCardEvent","type":"event"}]')}}]);
//# sourceMappingURL=858.undefined.1685951997342.js.map