"use strict";(self["webpackChunkknowledge"]=self["webpackChunkknowledge"]||[]).push([[170],{170:function(e,l,s){s.r(l),s.d(l,{default:function(){return y}});var a=s(3396);const o={class:"login-bg"},r={class:"logo",style:{position:"relative","z-index":"9","padding-left":"20px","text-align":"left"}},t=["src"],u=(0,a._)("span",{class:"wtext-l"},"Chess Of Stars",-1),d={class:"login-box"},n=(0,a._)("h3",{class:"title-des wtext-xl"},"Welcome !",-1),i=(0,a._)("p",{class:"text-muted"},[(0,a._)("small",null,"register your own account^^")],-1),m=(0,a._)("div",{style:{"margin-top":"60px","font-size":"14px"}},[(0,a._)("span",{class:"text-muted"},"Has accountï¼Ÿ"),(0,a._)("a",{href:"/login"},"Sign In")],-1);function p(e,l,p,c,g,w){const f=(0,a.up)("el-input"),h=(0,a.up)("el-form-item"),v=(0,a.up)("el-option"),b=(0,a.up)("el-select"),_=(0,a.up)("el-button"),x=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",r,[(0,a._)("img",{src:s(5080)},null,8,t),u]),(0,a._)("div",d,[n,i,(0,a.Wm)(x,{ref:"formRef",rules:c.rules,"label-position":"top","label-width":"100px",model:c.form,style:{"padding-top":"40px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{label:"email",prop:"userName"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{modelValue:c.form.userName,"onUpdate:modelValue":l[0]||(l[0]=e=>c.form.userName=e),placeholder:"enter your email"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"password",prop:"password"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{modelValue:c.form.password,"onUpdate:modelValue":l[1]||(l[1]=e=>c.form.password=e),type:"password",placeholder:"enter your password","show-password":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"type"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{modelValue:c.form.roleId,"onUpdate:modelValue":l[2]||(l[2]=e=>c.form.roleId=e),placeholder:"select",style:{width:"100%"}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.roleList,((e,l)=>((0,a.wg)(),(0,a.j4)(v,{key:l,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(_,{type:"primary",class:"w-100 shadow",onClick:l[3]||(l[3]=e=>c.doRegister())},{default:(0,a.w5)((()=>[(0,a.Uk)("Sign Up")])),_:1})])),_:1})])),_:1},8,["rules","model"]),m])])}s(7658);var c=s(4870),g=s(7139),w=s(5490),f=s(7104),h=s(5657),v=s(8238),b={setup(){const e=(0,g.oR)(),l=(0,w.tv)(),s=(0,c.iH)([]),o=(0,c.iH)(null),r=(0,c.iH)({userName:"",password:"",roleId:1}),t=(0,c.iH)({});function u(){f.BG.roles().then((e=>{200==e.code&&"success"==e.msg&&(s.value=e.data)}))}function d(){o.value.validate((e=>{e&&(h.K.show(),f.BG.login(r.value).then((e=>{200==e.code&&"success"==e.msg&&((0,v.z8)({type:"success",message:"logging ..."}),n()),h.K.hide()})))}))}function n(){h.K.show();let s={userName:r.value.userName,password:r.value.password};f.BG.login(s).then((s=>{200==s.code&&"success"==s.msg&&(e.commit("setUser",{name:s.data.user.userName,id:s.data.user.userId}),e.commit("setRole",s.data.user.roleId),e.commit("setToken",s.data.token),l.push({path:"/plat/dashboard"})),h.K.hide()}))}return t.value.userName=[{required:!0,message:"Email is required",trigger:"blur"},{min:2,max:64,message:"The length between 2 and 64 character",trigger:"blur"}],t.value.password=[{required:!0,message:"Password is required",trigger:"blur"}],(0,a.bv)((()=>{u()})),{form:r,doRegister:d,roleList:s,rules:t,formRef:o}}},_=s(89);const x=(0,_.Z)(b,[["render",p]]);var y=x}}]);
//# sourceMappingURL=170.undefined.1684404727187.js.map