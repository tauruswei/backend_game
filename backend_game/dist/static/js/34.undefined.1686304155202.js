"use strict";(self["webpackChunkchessofstars"]=self["webpackChunkchessofstars"]||[]).push([[34],{95745:function(e,a,l){l.d(a,{Ov:function(){return s},lV:function(){return t}});const t={getURLParam:e=>{let a=new URL(window.location),l=a.searchParams,t=l.get(e);return t}},s={toString:(e,a)=>{if(!e)return"";a||(a="yyyy-MM-dd hh:mm:ss");let l=new Date(e),t={"M+":l.getMonth()+1,"d+":l.getDate(),"h+":l.getHours(),"m+":l.getMinutes(),"s+":l.getSeconds(),"q+":Math.floor((l.getMonth()+3)/3),S:l.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(l.getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in t)new RegExp("("+s+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?t[s]:("00"+t[s]).substr((""+t[s]).length)));return a},getDay:e=>{let a=new Date,l=a.getTime()+864e5*e;return a.setTime(l),a}}},19382:function(e,a,l){l.a(e,(async function(e,t){try{var s=l(19229),r=(l(41602),l(58968),l(54349)),n=(l(96618),l(98671)),u=(l(2938),l(74116)),i=(l(47903),l(28622),l(3102)),d=(l(67972),l(57658),l(73396)),o=l(82268),c=l(44870),m=l(87139),p=l(55490),g=l(69552),w=l(95745),h=l(71118),v=l(80662),f=l(31582),b=l(86853),y=(l(40470),e([g]));g=(y.then?(await y)():y)[0];const _={class:"login-bg"},x={class:"logo",style:{position:"relative","z-index":"9","padding-left":"20px","text-align":"left"}},k=["src"],V=(0,d._)("span",{class:"wtext-l"},"Chess Of Stars",-1),$={class:"login-box",style:{"margin-top":"10px"}},W=(0,d._)("h3",{class:"title-des wtext-xl"},"Welcome !",-1),q=(0,d._)("p",{class:"text-muted"},[(0,d._)("small",null,"register your own account^^")],-1),E=(0,d._)("div",{style:{"margin-top":"60px","font-size":"14px"}},[(0,d._)("span",{class:"text-muted"},"Already have an accountï¼Ÿ"),(0,d._)("a",{href:"/login"},"Sign In")],-1);a.Z={__name:"register",setup(e){const a=(0,m.oR)(),t=(0,p.tv)(),y=((0,c.iH)([{id:0,name:"channel leader"},{id:1,name:"club boss"},{id:2,name:"user"}]),(0,c.iH)(null));let U=w.lV.getURLParam("id");const R=(0,c.iH)({email:"",name:"",passwd:"",userType:2,code:"",rpassword:"",inviterId:U||null}),Z=(0,c.iH)({}),T=(0,c.iH)(0),A=(0,c.iH)(!1);function z(){y.value.validateField(["email"],(e=>{e&&(h.K.show(),g.BG.code({email:R.value.email}).then((e=>{0==e.code&&((0,b.bM)({type:"success",message:"send successfully!"}),A.value=!0,T.value=e.data,h.K.hide())})))}))}function M(){y.value.validate((e=>{if(e){h.K.show();let e={email:R.value.email,name:R.value.name,passwd:(0,v.m)(R.value.passwd),userType:R.value.userType,code:R.value.code,inviterId:R.value.inviterId};g.BG.signup(e).then((e=>{0==e.code&&"success"==e.msg&&C(),h.K.hide()}))}}))}function C(){h.K.show();let e={email:R.value.email,passwd:(0,v.m)(R.value.passwd)};g.BG.login(e).then((e=>{0==e.code&&"success"==e.msg&&(a.commit("setUser",{name:e.data.userName,account:e.data.walletAddress,id:e.data.userId}),a.commit("setRole",e.data.userType),a.commit("setToken",e.data.token),t.push("/plat")),h.K.hide()}))}return Z.value.email=[{required:!0,message:"Email is required",trigger:"blur"},{type:"email",message:"Please input correct email address",trigger:["blur","change"]},{validator:function(e,a,l){a&&g.BG.checkEmail(a).then((e=>{e.data?l():l(new Error("this email has been used,please use another one"))}))},trigger:"blur"}],Z.value.name=[{required:!0,message:"Nick name is required",trigger:"blur"},{min:2,max:64,message:"The length between 2 and 64 character",trigger:"blur"},{required:!0,pattern:/^[a-zA-Z]{1}([a-zA-Z0-9]|[_]){1,64}$/,message:"Begin with a letter, and use letters, numbers and the underscore(_)",trigger:"blur"},{validator:function(e,a,l){a&&g.BG.checkUser(a).then((e=>{0!=e.code||e.data?l(new Error("this nick name has been used,please use another one")):l()}))},trigger:"blur"}],Z.value.passwd=[{required:!0,message:"Password is required",trigger:"blur"},{min:8,max:64,message:"The length between 8 and 64 character",trigger:"blur"},{required:!0,pattern:/^(?!^\d+$)(?!^[a-z]+$)(?!^[A-Z]+$)(?!^[^a-z0-9]+$)(?!^[^A-Z0-9]+$)(?!^.*[\u4E00-\u9FA5].*$)^\S*$/,message:"Contains at least two types of numbers, uppercase and lowercase letters, and special characters",trigger:"blur"}],Z.value.code=[{required:!0,message:"Verify code is required",trigger:"blur"}],Z.value.rpassword=[{required:!0,message:"password is required",trigger:"blur"},{min:8,max:64,message:"The length between 8 and 64 character",trigger:"blur"},{required:!0,pattern:/^(?!^\d+$)(?!^[a-z]+$)(?!^[A-Z]+$)(?!^[^a-z0-9]+$)(?!^[^A-Z0-9]+$)(?!^.*[\u4E00-\u9FA5].*$)^\S*$/,message:"Contains at least two types of numbers, uppercase and lowercase letters, and special characters",trigger:"blur"},{validator:function(e,a,l){a!=R.value.passwd?l(new Error("The passwords are inconsistent, please re-enter ")):l()},trigger:"blur"}],(e,a)=>{const t=i.EZ,c=s.nH,m=u.Dv,p=n.ElButton,g=r.dq,w=s.ly;return(0,d.wg)(),(0,d.iD)("div",_,[(0,d._)("div",x,[(0,d._)("img",{src:l(29715)},null,8,k),V]),(0,d._)("div",$,[W,q,(0,d.Wm)(w,{ref_key:"formRef",ref:y,rules:Z.value,"label-position":"top","label-width":"100px",model:R.value,style:{"padding-top":"40px"}},{default:(0,d.w5)((()=>[(0,d.Wm)(c,{label:"Email",prop:"email"},{default:(0,d.w5)((()=>[(0,d.Wm)(t,{modelValue:R.value.email,"onUpdate:modelValue":a[0]||(a[0]=e=>R.value.email=e),placeholder:"enter your email",clearable:"",disabled:A.value},null,8,["modelValue","disabled"])])),_:1}),(0,d.Wm)(c,{label:"Verify code",prop:"code"},{default:(0,d.w5)((()=>[(0,d.Wm)(g,{gutter:10,style:{width:"100%"}},{default:(0,d.w5)((()=>[(0,d.Wm)(m,{span:18},{default:(0,d.w5)((()=>[(0,d.Wm)(t,{modelValue:R.value.code,"onUpdate:modelValue":a[1]||(a[1]=e=>R.value.code=e),type:"text",placeholder:"enter your verify code",clearable:""},null,8,["modelValue"])])),_:1}),(0,d.Wm)(m,{span:6},{default:(0,d.w5)((()=>[(0,d.Wm)(p,{onClick:z,type:"primary",disabled:A.value,plain:""},{default:(0,d.w5)((()=>[(0,d.Uk)((0,o.zw)(A.value?"":"send")+" ",1),A.value?((0,d.wg)(),(0,d.j4)(f.Z,{key:0,limit:T.value,onChange:a[2]||(a[2]=()=>{A.value=!1})},null,8,["limit"])):(0,d.kq)("",!0)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1}),(0,d.Wm)(c,{label:"Nick name",prop:"name"},{default:(0,d.w5)((()=>[(0,d.Wm)(t,{modelValue:R.value.name,"onUpdate:modelValue":a[3]||(a[3]=e=>R.value.name=e),placeholder:"enter your nick name",clearable:""},null,8,["modelValue"])])),_:1}),(0,d.Wm)(c,{label:"Password",prop:"passwd"},{default:(0,d.w5)((()=>[(0,d.Wm)(t,{modelValue:R.value.passwd,"onUpdate:modelValue":a[4]||(a[4]=e=>R.value.passwd=e),type:"password",placeholder:"enter your password","show-password":"",clearable:""},null,8,["modelValue"])])),_:1}),(0,d.Wm)(c,{label:"Repeat password",prop:"rpassword"},{default:(0,d.w5)((()=>[(0,d.Wm)(t,{modelValue:R.value.rpassword,"onUpdate:modelValue":a[5]||(a[5]=e=>R.value.rpassword=e),type:"password",placeholder:"enter your password again","show-password":"",clearable:""},null,8,["modelValue"])])),_:1}),(0,d.Wm)(c,null,{default:(0,d.w5)((()=>[(0,d.Wm)(p,{type:"primary",class:"w-100 shadow",onClick:a[6]||(a[6]=e=>M())},{default:(0,d.w5)((()=>[(0,d.Uk)("Sign Up")])),_:1})])),_:1})])),_:1},8,["rules","model"]),E])])}}},t()}catch(_){t(_)}}))},25034:function(e,a,l){l.a(e,(async function(e,t){try{l.r(a);var s=l(39971),r=e([s]);s=(r.then?(await r)():r)[0];const n=s.Z;a["default"]=n,t()}catch(n){t(n)}}))},39971:function(e,a,l){l.a(e,(async function(e,t){try{l.d(a,{Z:function(){return s.Z}});var s=l(19382),r=e([s]);s=(r.then?(await r)():r)[0],t()}catch(n){t(n)}}))}}]);
//# sourceMappingURL=34.undefined.1686304155202.js.map