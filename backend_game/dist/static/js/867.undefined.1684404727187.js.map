{"version":3,"file":"static/js/867.undefined.1684404727187.js","mappings":"yXAsBA,IAAIA,GAAcC,EAAAA,EAAAA,IAAI,IAClBC,GAAYD,EAAAA,EAAAA,IAAI,IAChBE,GAAiBF,EAAAA,EAAAA,IAAI,MA0BzB,SAASG,EAAeC,GACtB,MAAMC,EAAM,GACZ,IAAK,IAAIC,KAAOF,EACd,GAAY,OAARE,EAAc,CAChB,MAAMC,EAAM,CACVD,IAAKA,EACLE,MAAOF,EAAIG,QAAQ,MAAO,MAE5BJ,EAAIK,KAAKH,EACX,CAEF,OAAOF,CACT,CACA,SAASM,EAAYC,EAAOC,GAC1BC,EAAM,WAAY,CAAEC,QAASH,EAAOR,KAAMS,GAC5C,C,OAxBAG,EAAAA,EAAAA,KAAM,IAAMC,EAAMb,OAAOc,IACvBjB,EAAUO,MAAQU,CAAG,GACpB,CAAEC,WAAW,KAChBH,EAAAA,EAAAA,KAAM,IAAMC,EAAMG,SAASF,IACzBnB,EAAYS,MAAQL,EAAee,EAAI,GACtC,CAAEC,WAAW,KAChBH,EAAAA,EAAAA,KAAM,IAAMC,EAAMI,aAAaH,IAC7BhB,EAAeM,MAAQU,CAAG,GACzB,CAAEC,WAAW,I,kjCC3ChB,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,uRCKMC,GAAQvB,EAAAA,EAAAA,IAAI,CAAC,G,OAEnBgB,EAAAA,EAAAA,KAAM,IAAMC,EAAMO,SAASN,IACzBK,EAAMf,MAAQU,CAAG,GAChB,CAAEC,WAAW,I,uQCdhB,MAAMG,EAAc,EAEpB,O,oMCSA,IAAIC,GAAQvB,EAAAA,EAAAA,IAAI,CAAEyB,KAAK,UAAUF,MAAO,YAAaG,KAAM,yEACvDzB,GAAYD,EAAAA,EAAAA,IAAI,IAChBD,GAAcC,EAAAA,EAAAA,IAAI,CAAC,KAAM,OAAQ,OAAQ,OAAQ,cACjD2B,GAAU3B,EAAAA,EAAAA,IAAI,GACd4B,GAAQ5B,EAAAA,EAAAA,IAAI,GACZ6B,GAAW7B,EAAAA,EAAAA,IAAI,IACnB,SAAS8B,IACP,IAAI1B,EAAO,CACTyB,SAAUA,EAASrB,MACnBmB,QAASA,EAAQnB,OAEnBuB,EAAAA,GAAAA,KAAa3B,GAAM4B,MAAMC,IACnBA,EAAI7B,KAAKA,OACXH,EAAUO,MAAQyB,EAAI7B,KAAKA,KAC3BwB,EAAMpB,MAAQyB,EAAI7B,KAAKwB,MACzB,GAEJ,CACA,SAASM,EAAiBhB,GACxBS,EAAQnB,MAAQU,EAChBY,GACF,C,OACAK,EAAAA,EAAAA,KAAU,KACRL,GAAO,I,meClCT,MAAMR,EAAc,EAEpB,O","sources":["webpack://knowledge/./src/components/dynamic-table.vue","webpack://knowledge/./src/components/dynamic-table.vue?a5fc","webpack://knowledge/./src/components/page-title.vue","webpack://knowledge/./src/components/page-title.vue?372c","webpack://knowledge/./src/views/admin/logs.vue","webpack://knowledge/./src/views/admin/logs.vue?1c5a"],"sourcesContent":["<template>\n  <el-table :data=\"tableData\" fit>\n    <el-table-column type=\"index\" label=\"No.\" :width=\"50\" />\n    <el-table-column v-for=\"(item, index) in tableHeader\" :key=\"index\" :label=\"item.value\" :prop=\"item.key\">\n    </el-table-column>\n    <el-table-column label=\"Operations\" width=\"120\" v-if=\"operationsData\">\n      <template #default=\"scope\">\n        <span v-for=\"item in operationsData\" :key=\"item.id\" style=\"padding-left:5px;padding-right:5px;\">\n          <el-tooltip :content=\"item.name\" placement=\"top\">\n            <el-button :type=\"item.type\" size=\"small\" @click=\"handleClick(item.event,scope.row,scope.$index)\" circle><i :class=\"item.icon\"></i></el-button>\n          </el-tooltip>\n        </span>\n      </template>\n    </el-table-column>\n    <template #empty>\n      <el-empty style=\"margin:0 auto\"></el-empty>\n    </template>\n  </el-table>\n</template>\n  \n<script setup>\nimport { ref, defineProps, defineEmits, watch } from \"vue\";\nlet tableHeader = ref([]);\nlet tableData = ref([]);\nlet operationsData = ref(null);\nlet emits = defineEmits(['commands']);\n// 表格展示数据\nconst props = defineProps({\n  data: {\n    type: Array,\n    default: () => []\n  },\n  header: {\n    type: Array,\n    default: () => []\n  },\n  operations: {\n    type: Array,\n    default: () => null\n  }\n})\nwatch(() => props.data, (val) => {\n  tableData.value = val;\n}, { immediate: true })\nwatch(() => props.header, (val) => {\n  tableHeader.value = generateHeader(val);\n}, { immediate: true })\nwatch(() => props.operations, (val) => {\n  operationsData.value = val;\n}, { immediate: true })\nfunction generateHeader(data) {\n  const ret = [];\n  for (let key of data) {\n    if (key !== \"id\") {\n      const obj = {\n        key: key,\n        value: key.replace(/\\_/g, \" \"),\n      };\n      ret.push(obj);\n    }\n  }\n  return ret;\n}\nfunction handleClick(event, item) {\n  emits('commands', { command: event, data: item })\n}\n  </script>\n<style scoped>\n/deep/ .el-table {\n  min-height: 400px;\n}\n/deep/ .el-table__header {\n  text-transform: capitalize;\n}\n</style>\n  \n  ","import script from \"./dynamic-table.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./dynamic-table.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./dynamic-table.vue?vue&type=style&index=0&id=10da8c81&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/liudongxue/Documents/brilliance/game/backend_game/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-10da8c81\"]])\n\nexport default __exports__","<template>\n  <!--Page Title-->\n  <div :class=\"`card-header card-header-text card-header-${title.type}`\">\n    <div class=\"card-text\" style=\"display:block\">\n      <h4 class=\"card-title\">{{ title.title }}</h4>\n      <p class=\"card-category\" v-if=\"title.desc\">{{ title.desc }}</p>\n    </div>\n  </div>\n  <!--Page Title-->\n</template>\n\n<script setup>\nimport { ref, defineProps, watch } from \"vue\"\nconst title = ref({})\nconst props = defineProps({ option: Object, default: () => { } })\nwatch(() => props.option, (val) => {\n  title.value = val\n}, { immediate: true })\n</script>","import script from \"./page-title.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./page-title.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"card\">\n    <page-title :option=\"title\"></page-title>\n    <div class=\"card-body\">\n    <dynamic-table :data=\"tableData\" :header=\"tableHeader\"></dynamic-table>\n    <el-pagination background layout=\"prev, pager, next\" :total=\"total\" v-model:current-page=\"pageNum\" @current-change=\"handlePageChange\" :page-size=\"pageSize\" />\n  </div>\n  </div>\n</template>\n  <script setup>\nimport { ref, onMounted } from \"vue\";\nimport { userApi } from \"@/api/request\";\nimport PageTitle from \"@/components/page-title.vue\";\nimport DynamicTable from \"@/components/dynamic-table.vue\";\nlet title = ref({ type:\"warning\",title: \"User Logs\", desc: \"Query log is a record of query behavior by a great quantity of users\" })\nlet tableData = ref([])\nlet tableHeader = ref([\"id\", \"user\", \"time\", \"type\", \"operation\"])\nlet pageNum = ref(1); \nlet total = ref(1);\nlet pageSize = ref(10);\nfunction query() {\n  let data = {\n    pageSize: pageSize.value,\n    pageNum: pageNum.value\n  }\n  userApi.logs(data).then((res) => {\n    if (res.data.data) {\n      tableData.value = res.data.data; \n      total.value = res.data.total;\n    }\n  })\n}\nfunction handlePageChange(val) {\n  pageNum.value = val;\n  query();\n}\nonMounted(() => {\n  query();\n})\n  </script>","import script from \"./logs.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./logs.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["tableHeader","ref","tableData","operationsData","generateHeader","data","ret","key","obj","value","replace","push","handleClick","event","item","emits","command","watch","props","val","immediate","header","operations","__exports__","title","option","type","desc","pageNum","total","pageSize","query","userApi","then","res","handlePageChange","onMounted"],"sourceRoot":""}