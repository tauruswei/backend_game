{"version":3,"file":"static/js/334.1.0.0.1687249026065.js","mappings":"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","sources":["webpack://account-chessofstars/./src/components/dynamic-table.vue","webpack://account-chessofstars/./src/components/dynamic-table.vue?9ef3","webpack://account-chessofstars/./src/components/page-title.vue","webpack://account-chessofstars/./src/components/page-title.vue?469e","webpack://account-chessofstars/./src/views/admin/logs.vue","webpack://account-chessofstars/./src/views/admin/logs.vue?c305"],"sourcesContent":["import \"core-js/modules/es.array.push.js\";\nimport { unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nimport { ref, watch } from \"vue\";\nexport default {\n  __name: 'dynamic-table',\n  props: {\n    data: {\n      type: Array,\n      default: () => []\n    },\n    header: {\n      type: Array,\n      default: () => []\n    },\n    operations: {\n      type: Array,\n      default: () => null\n    },\n    preNum: {\n      type: Number,\n      default: 0\n    }\n  },\n  emits: ['commands'],\n  setup(__props, {\n    emit: emits\n  }) {\n    const props = __props;\n    let tableHeader = ref([]);\n    let tableData = ref([]);\n    let operationsData = ref(null);\n\n    // 表格展示数据\n\n    watch(() => props.data, val => {\n      tableData.value = val;\n    }, {\n      immediate: true\n    });\n    watch(() => props.header, val => {\n      tableHeader.value = generateHeader(val);\n    }, {\n      immediate: true\n    });\n    watch(() => props.operations, val => {\n      if (val) operationsData.value = val;else operationsData.value = null;\n    }, {\n      immediate: true\n    });\n    function generateHeader(data) {\n      const ret = [];\n      for (let key of data) {\n        if (key !== \"id\") {\n          const obj = {\n            key: key,\n            value: key.replace(/\\_/g, \" \")\n          };\n          ret.push(obj);\n        }\n      }\n      return ret;\n    }\n    function handleClick(event, item) {\n      emits('commands', {\n        command: event,\n        data: item\n      });\n    }\n    return (_ctx, _cache) => {\n      const _component_el_table_column = _resolveComponent(\"el-table-column\");\n      const _component_el_button = _resolveComponent(\"el-button\");\n      const _component_el_tooltip = _resolveComponent(\"el-tooltip\");\n      const _component_el_empty = _resolveComponent(\"el-empty\");\n      const _component_el_table = _resolveComponent(\"el-table\");\n      return _openBlock(), _createBlock(_component_el_table, {\n        data: _unref(tableData),\n        style: {\n          \"width\": \"100%\",\n          \"min-height\": \"360px\"\n        }\n      }, {\n        empty: _withCtx(() => [_createVNode(_component_el_empty, {\n          style: {\n            \"margin\": \"0 auto\"\n          }\n        })]),\n        default: _withCtx(() => [_createVNode(_component_el_table_column, {\n          label: \"No.\",\n          \"min-width\": \"50\"\n        }, {\n          default: _withCtx(scope => [_createTextVNode(_toDisplayString(scope.$index + __props.preNum + 1), 1)]),\n          _: 1\n        }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(tableHeader), (item, index) => {\n          return _openBlock(), _createBlock(_component_el_table_column, {\n            key: index,\n            label: item.value,\n            prop: item.key,\n            \"min-width\": \"120\"\n          }, null, 8, [\"label\", \"prop\"]);\n        }), 128)), _unref(operationsData) ? (_openBlock(), _createBlock(_component_el_table_column, {\n          key: 0,\n          label: \"Operations\",\n          \"min-width\": \"120\"\n        }, {\n          default: _withCtx(scope => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(operationsData), item => {\n            return _openBlock(), _createElementBlock(\"span\", {\n              key: item.id,\n              style: {\n                \"padding-left\": \"5px\",\n                \"padding-right\": \"5px\"\n              }\n            }, [_createVNode(_component_el_tooltip, {\n              content: item.name,\n              placement: \"top\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_button, {\n                type: item.type,\n                size: \"small\",\n                onClick: $event => handleClick(item.event, scope.row, scope.$index),\n                circle: \"\"\n              }, {\n                default: _withCtx(() => [_createElementVNode(\"i\", {\n                  class: _normalizeClass(item.icon)\n                }, null, 2)]),\n                _: 2\n              }, 1032, [\"type\", \"onClick\"])]),\n              _: 2\n            }, 1032, [\"content\"])]);\n          }), 128))]),\n          _: 1\n        })) : _createCommentVNode(\"\", true)]),\n        _: 1\n      }, 8, [\"data\"]);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./dynamic-table.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./dynamic-table.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./dynamic-table.vue?vue&type=style&index=0&id=6416a9ef&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6416a9ef\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card-text\",\n  style: {\n    \"display\": \"block\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"card-title\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"card-category\"\n};\nimport { ref, watch } from \"vue\";\nexport default {\n  __name: 'page-title',\n  props: {\n    option: Object,\n    default: () => {}\n  },\n  emits: ['refresh'],\n  setup(__props, {\n    emit\n  }) {\n    const props = __props;\n    const title = ref({});\n    watch(() => props.option, val => {\n      title.value = val;\n    }, {\n      immediate: true\n    });\n    return (_ctx, _cache) => {\n      const _component_el_col = _resolveComponent(\"el-col\");\n      const _component_el_row = _resolveComponent(\"el-row\");\n      return _openBlock(), _createElementBlock(\"div\", {\n        class: _normalizeClass(`card-header card-header-text card-header-${title.value.type}`)\n      }, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_row, null, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 22\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"h4\", _hoisted_2, _toDisplayString(title.value.title), 1), title.value.desc ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, _toDisplayString(title.value.desc), 1)) : _createCommentVNode(\"\", true)]),\n          _: 1\n        }), _createVNode(_component_el_col, {\n          span: 2,\n          style: {\n            \"text-align\": \"right\"\n          }\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"i\", {\n            class: \"fa fa-refresh page-refresh\",\n            onClick: _cache[0] || (_cache[0] = $event => emit('refresh'))\n          })]),\n          _: 1\n        })]),\n        _: 1\n      })])], 2);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./page-title.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./page-title.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { unref as _unref, createVNode as _createVNode, resolveComponent as _resolveComponent, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card\"\n};\nconst _hoisted_2 = {\n  class: \"card-body\"\n};\nimport { ref, onMounted } from \"vue\";\nimport { userApi } from \"@/api/request\";\nimport PageTitle from \"@/components/page-title.vue\";\nimport DynamicTable from \"@/components/dynamic-table.vue\";\nexport default {\n  __name: 'logs',\n  setup(__props) {\n    let title = ref({\n      type: \"warning\",\n      title: \"User Logs\",\n      desc: \"Query log is a record of query behavior by a great quantity of users\"\n    });\n    let tableData = ref([]);\n    let tableHeader = ref([\"id\", \"user\", \"time\", \"type\", \"operation\"]);\n    let pageNum = ref(1);\n    let total = ref(1);\n    let pageSize = ref(10);\n    const loading = ref(false);\n    function query() {\n      let data = {\n        pageSize: pageSize.value,\n        pageNum: pageNum.value\n      };\n      loading.value = true;\n      userApi.logs(data).then(res => {\n        if (res.data.data) {\n          tableData.value = res.data.data;\n          total.value = res.data.total;\n        }\n        loading.value = false;\n      });\n    }\n    function handlePageChange(val) {\n      pageNum.value = val;\n      query();\n    }\n    function handleSizeChange(val) {\n      pageSize.value = val;\n      query();\n    }\n    onMounted(() => {\n      query();\n    });\n    return (_ctx, _cache) => {\n      const _component_el_pagination = _resolveComponent(\"el-pagination\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(PageTitle, {\n        option: _unref(title)\n      }, null, 8, [\"option\"]), _createElementVNode(\"div\", _hoisted_2, [_createVNode(DynamicTable, {\n        data: _unref(tableData),\n        header: _unref(tableHeader),\n        preNum: _unref(pageNum) * _unref(pageSize) - _unref(pageSize)\n      }, null, 8, [\"data\", \"header\", \"preNum\"]), _createVNode(_component_el_pagination, {\n        background: \"\",\n        layout: \"total, sizes, prev, pager, next\",\n        total: _unref(total),\n        \"current-page\": _unref(pageNum),\n        onCurrentChange: handlePageChange,\n        onSizeChange: handleSizeChange,\n        \"page-size\": _unref(pageSize)\n      }, null, 8, [\"total\", \"current-page\", \"page-size\"])])]);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./logs.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./logs.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["__name","props","data","type","Array","default","header","operations","preNum","Number","emits","setup","__props","emit","tableHeader","tableData","operationsData","generateHeader","ret","key","obj","value","replace","push","handleClick","event","item","command","val","immediate","_ctx","_cache","_component_el_table_column","_component_el_button","_component_el_tooltip","_component_el_empty","_component_el_table","style","empty","label","scope","$index","_","index","prop","id","content","name","placement","size","onClick","$event","row","circle","class","icon","__exports__","_hoisted_1","_hoisted_2","_hoisted_3","option","Object","title","_component_el_col","_component_el_row","span","desc","pageNum","total","pageSize","loading","query","logs","then","res","handlePageChange","handleSizeChange","_component_el_pagination","background","layout","onCurrentChange","onSizeChange"],"sourceRoot":""}