{"version":3,"file":"static/js/677.1.0.0.1687249026065.js","mappings":"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,UAAWA,EACXuiL,SAAUA,EACVC,eAAgBA,EAChBC,kBAAmBA,EACnBC,iBAAkBA,EAClBE,SAAUA,EAEd,EACIC,GAAW,SAAUlvH,GACvB,OAAOuuH,GAAcvuH,GAAM7vB,MAAK,SAAUqvB,GACxC,OAAOivH,GAASJ,GAAaruH,GAAOA,EAAMR,EAC5C,GACF,EACI2vH,GAAa,SAAUlyL,EAAQ9H,GACjC,OAAO84L,GAAahxL,EAAQ9H,GAAMg7C,MAAK,SAAU6vB,GAC/C,OAAOyuH,GAASpe,GAAUthK,QAAQ9R,GAAS+iE,EAAM/iE,EAAOoP,YAC1D,GACF,EAEI+iL,GAAoB,SAAUpvH,GAChC,OAAOkvH,GAASlvH,EAClB,EAEIqvH,GAAQ,SAAU3lM,EAAO6T,EAAKC,GAChC,IAAI8xL,EAA+B,kBAAV5lM,EAAqBwmG,WAAWxmG,GAASA,EAMlE,OALI4lM,EAAc9xL,EAChB8xL,EAAc9xL,EACL8xL,EAAc/xL,IACvB+xL,EAAc/xL,GAET+xL,CACT,EACIx/K,GAAW,WACb,MAAO,CACL,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAEJ,EACIy/K,GAAc,CAChB,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,IACA,KACA,EACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,EACA,IACA,IACA,IACA,IACA,EACA,IACA,IACA,IACA,EACA,IACA,EACA,IACA,IACA,EACA,IACA,IACA,IACA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,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,SACA,MACA,MACA,KACA,KACA,UACA,KACA,WACA,aACA,SACA,OACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,MACA,OACA,UACA,OACA,WACA,QACA,MACA,OACA,KACA,WACA,SACA,SACA,IACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,QAEEkgK,GAAQlgK,GAAO,CACjB,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,SACA,WACA,OACA,OACA,UACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,QACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,QACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,OACA,UAEEmgK,GAAangK,GAAO,CACtB,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,iBAEEogK,GAAgBpgK,GAAO,CACzB,UACA,gBACA,SACA,UACA,eACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,QACA,YACA,OACA,eACA,YACA,UACA,gBACA,SACA,MACA,aACA,UACA,QAEEqgK,GAAWrgK,GAAO,CACpB,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,eAEEsgK,GAAmBtgK,GAAO,CAC5B,UACA,cACA,aACA,WACA,YACA,UACA,UACA,SACA,SACA,QACA,YACA,aACA,iBACA,cACA,SAEEt+E,GAAOs+E,GAAO,CAAC,UACfruF,GAAOquF,GAAO,CAChB,SACA,SACA,QACA,MACA,iBACA,eACA,uBACA,WACA,aACA,UACA,SACA,UACA,cACA,cACA,UACA,OACA,QACA,QACA,QACA,OACA,UACA,WACA,eACA,SACA,cACA,WACA,WACA,UACA,MACA,WACA,0BACA,wBACA,WACA,YACA,UACA,eACA,OACA,MACA,UACA,SACA,SACA,OACA,OACA,WACA,KACA,YACA,YACA,QACA,OACA,QACA,OACA,OACA,UACA,OACA,MACA,MACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,QACA,UACA,aACA,SACA,OACA,UACA,UACA,cACA,cACA,SACA,UACA,UACA,aACA,WACA,MACA,WACA,MACA,WACA,OACA,OACA,UACA,aACA,QACA,WACA,QACA,OACA,QACA,OACA,UACA,QACA,MACA,SACA,OACA,QACA,UACA,WACA,QACA,YACA,OACA,SACA,SACA,QACA,QACA,QACA,SAEEzlE,GAAMylE,GAAO,CACf,gBACA,aACA,WACA,qBACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,gBACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,kBACA,YACA,UACA,UACA,MACA,WACA,YACA,MACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,iBACA,WACA,UACA,UACA,YACA,mBACA,cACA,kBACA,iBACA,aACA,OACA,KACA,KACA,UACA,SACA,UACA,aACA,UACA,aACA,gBACA,gBACA,QACA,eACA,OACA,eACA,mBACA,mBACA,IACA,KACA,KACA,QACA,IACA,KACA,KACA,IACA,eAEEugK,GAASvgK,GAAO,CAClB,SACA,cACA,QACA,WACA,QACA,eACA,cACA,aACA,aACA,QACA,MACA,UACA,eACA,WACA,QACA,QACA,SACA,OACA,KACA,UACA,SACA,gBACA,SACA,SACA,iBACA,YACA,WACA,cACA,UACA,UACA,gBACA,WACA,WACA,OACA,WACA,WACA,aACA,UACA,SACA,SACA,cACA,gBACA,uBACA,YACA,YACA,aACA,WACA,iBACA,iBACA,YACA,UACA,QACA,UAEExlE,GAAMwlE,GAAO,CACf,aACA,SACA,cACA,YACA,gBAEEwgK,GAAgB3B,GAAK,6BACrB4B,GAAW5B,GAAK,yBAChB6B,GAAY7B,GAAK,8BACjB8B,GAAY9B,GAAK,kBACjB+B,GAAiB/B,GAAK,yFACtBgC,GAAoBhC,GAAK,yBACzBiC,GAAkBjC,GAAK,+DACvBkC,GAAelC,GAAK,WACpBmC,GAAY,WACd,MAAyB,qBAAX/oQ,OAAyB,KAAOA,MAChD,EACIgpQ,GAA4B,SAAmCC,EAAchpQ,GAC/E,GAA8B,WAA1B1C,GAAQ0rQ,IAAmE,oBAA9BA,EAAaC,aAC5D,OAAO,KAET,IAAIz+L,EAAS,KACT0+L,EAAY,wBACZlpQ,EAASg4B,eAAiBh4B,EAASg4B,cAAcmC,aAAa+uO,KAChE1+L,EAASxqE,EAASg4B,cAAc/uB,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","sources":["webpack://account-chessofstars/./node_modules/cropperjs/dist/cropper.js","webpack://account-chessofstars/./node_modules/tinymce/icons/default/icons.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/advlist/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/advlist/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/anchor/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/anchor/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/autolink/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/autolink/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/autosave/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/autosave/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/code/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/code/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/codesample/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/codesample/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/directionality/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/directionality/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/fullscreen/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/fullscreen/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/hr/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/hr/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/insertdatetime/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/insertdatetime/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/link/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/link/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/lists/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/lists/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/media/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/media/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/nonbreaking/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/nonbreaking/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/noneditable/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/noneditable/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/pagebreak/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/pagebreak/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/paste/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/paste/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/preview/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/preview/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/print/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/print/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/save/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/save/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/searchreplace/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/searchreplace/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/spellchecker/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/spellchecker/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/tabfocus/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/tabfocus/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/template/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/template/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/textpattern/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/textpattern/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/visualblocks/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/visualblocks/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/visualchars/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/visualchars/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/wordcount/index.js","webpack://account-chessofstars/./node_modules/tinymce/plugins/wordcount/plugin.js","webpack://account-chessofstars/./node_modules/tinymce/themes/silver/index.js","webpack://account-chessofstars/./node_modules/tinymce/themes/silver/theme.js","webpack://account-chessofstars/./src/components/dynamic-table.vue","webpack://account-chessofstars/./src/components/dynamic-table.vue?9ef3","webpack://account-chessofstars/./src/components/page-title.vue","webpack://account-chessofstars/./src/components/page-title.vue?469e","webpack://account-chessofstars/../../../../../../packages/components/upload/src/constants.ts","webpack://account-chessofstars/../../../../../../packages/components/progress/src/progress.ts","webpack://account-chessofstars/../../../../../../packages/components/progress/src/progress.vue","webpack://account-chessofstars/../../../../../packages/components/progress/index.ts","webpack://account-chessofstars/../../../../../../packages/components/upload/src/ajax.ts","webpack://account-chessofstars/../../../../../../packages/components/upload/src/upload.ts","webpack://account-chessofstars/../../../../../../packages/components/upload/src/upload-list.ts","webpack://account-chessofstars/../../../../../../packages/components/upload/src/upload-list.vue","webpack://account-chessofstars/./node_modules/lodash-es/cloneDeep.js","webpack://account-chessofstars/../../../../../../packages/components/upload/src/upload-dragger.ts","webpack://account-chessofstars/../../../../../../packages/components/upload/src/upload-dragger.vue","webpack://account-chessofstars/../../../../../../packages/components/upload/src/upload-content.ts","webpack://account-chessofstars/../../../../../../packages/components/upload/src/upload-content.vue","webpack://account-chessofstars/../../../../../../packages/components/upload/src/use-handlers.ts","webpack://account-chessofstars/../../../../../../packages/components/upload/src/upload.vue","webpack://account-chessofstars/../../../../../packages/components/upload/index.ts","webpack://account-chessofstars/./src/components/tinymce/tinymce.js","webpack://account-chessofstars/./src/utils/uuid.js","webpack://account-chessofstars/./src/components/tinymce/helper.js","webpack://account-chessofstars/./src/hooks/core.js","webpack://account-chessofstars/./src/utils/is.js","webpack://account-chessofstars/./src/components/tinymce/tinymce.vue","webpack://account-chessofstars/./src/components/tinymce/tinymce.vue?0acb","webpack://account-chessofstars/./src/components/crope-img.vue","webpack://account-chessofstars/./src/components/crope-img.vue?2f10","webpack://account-chessofstars/./src/components/blog/blog-addh5.vue","webpack://account-chessofstars/./src/components/blog/blog-addh5.vue?7980","webpack://account-chessofstars/./src/components/blog/blog-addvlog.vue","webpack://account-chessofstars/./src/components/blog/blog-addvlog.vue?15bd","webpack://account-chessofstars/./src/views/admin/blog.vue","webpack://account-chessofstars/./src/views/admin/blog.vue?68fd"],"sourcesContent":["/*!\n * Cropper.js v1.5.13\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2022-11-20T05:30:46.114Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Cropper = factory());\n})(this, (function () { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      enumerableOnly && (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      })), keys.push.apply(keys, symbols);\n    }\n    return keys;\n  }\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = null != arguments[i] ? arguments[i] : {};\n      i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n    return target;\n  }\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n    return arr2;\n  }\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'cropper';\n\n  // Actions\n  var ACTION_ALL = 'all';\n  var ACTION_CROP = 'crop';\n  var ACTION_MOVE = 'move';\n  var ACTION_ZOOM = 'zoom';\n  var ACTION_EAST = 'e';\n  var ACTION_WEST = 'w';\n  var ACTION_SOUTH = 's';\n  var ACTION_NORTH = 'n';\n  var ACTION_NORTH_EAST = 'ne';\n  var ACTION_NORTH_WEST = 'nw';\n  var ACTION_SOUTH_EAST = 'se';\n  var ACTION_SOUTH_WEST = 'sw';\n\n  // Classes\n  var CLASS_CROP = \"\".concat(NAMESPACE, \"-crop\");\n  var CLASS_DISABLED = \"\".concat(NAMESPACE, \"-disabled\");\n  var CLASS_HIDDEN = \"\".concat(NAMESPACE, \"-hidden\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_MODAL = \"\".concat(NAMESPACE, \"-modal\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\");\n\n  // Data keys\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n  var DATA_PREVIEW = \"\".concat(NAMESPACE, \"Preview\");\n\n  // Drag modes\n  var DRAG_MODE_CROP = 'crop';\n  var DRAG_MODE_MOVE = 'move';\n  var DRAG_MODE_NONE = 'none';\n\n  // Events\n  var EVENT_CROP = 'crop';\n  var EVENT_CROP_END = 'cropend';\n  var EVENT_CROP_MOVE = 'cropmove';\n  var EVENT_CROP_START = 'cropstart';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_READY = 'ready';\n  var EVENT_RESIZE = 'resize';\n  var EVENT_WHEEL = 'wheel';\n  var EVENT_ZOOM = 'zoom';\n\n  // Mime types\n  var MIME_TYPE_JPEG = 'image/jpeg';\n\n  // RegExps\n  var REGEXP_ACTIONS = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/;\n  var REGEXP_DATA_URL = /^data:/;\n  var REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\n  var REGEXP_TAG_NAME = /^img|canvas$/i;\n\n  // Misc\n  // Inspired by the default width and height of a canvas element.\n  var MIN_CONTAINER_WIDTH = 200;\n  var MIN_CONTAINER_HEIGHT = 100;\n\n  var DEFAULTS = {\n    // Define the view mode of the cropper\n    viewMode: 0,\n    // 0, 1, 2, 3\n\n    // Define the dragging mode of the cropper\n    dragMode: DRAG_MODE_CROP,\n    // 'crop', 'move' or 'none'\n\n    // Define the initial aspect ratio of the crop box\n    initialAspectRatio: NaN,\n    // Define the aspect ratio of the crop box\n    aspectRatio: NaN,\n    // An object with the previous cropping result data\n    data: null,\n    // A selector for adding extra containers to preview\n    preview: '',\n    // Re-render the cropper when resize the window\n    responsive: true,\n    // Restore the cropped area after resize the window\n    restore: true,\n    // Check if the current image is a cross-origin image\n    checkCrossOrigin: true,\n    // Check the current image's Exif Orientation information\n    checkOrientation: true,\n    // Show the black modal\n    modal: true,\n    // Show the dashed lines for guiding\n    guides: true,\n    // Show the center indicator for guiding\n    center: true,\n    // Show the white modal to highlight the crop box\n    highlight: true,\n    // Show the grid background\n    background: true,\n    // Enable to crop the image automatically when initialize\n    autoCrop: true,\n    // Define the percentage of automatic cropping area when initializes\n    autoCropArea: 0.8,\n    // Enable to move the image\n    movable: true,\n    // Enable to rotate the image\n    rotatable: true,\n    // Enable to scale the image\n    scalable: true,\n    // Enable to zoom the image\n    zoomable: true,\n    // Enable to zoom the image by dragging touch\n    zoomOnTouch: true,\n    // Enable to zoom the image by wheeling mouse\n    zoomOnWheel: true,\n    // Define zoom ratio when zoom the image by wheeling mouse\n    wheelZoomRatio: 0.1,\n    // Enable to move the crop box\n    cropBoxMovable: true,\n    // Enable to resize the crop box\n    cropBoxResizable: true,\n    // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n    toggleDragModeOnDblclick: true,\n    // Size limitation\n    minCanvasWidth: 0,\n    minCanvasHeight: 0,\n    minCropBoxWidth: 0,\n    minCropBoxHeight: 0,\n    minContainerWidth: MIN_CONTAINER_WIDTH,\n    minContainerHeight: MIN_CONTAINER_HEIGHT,\n    // Shortcuts of events\n    ready: null,\n    cropstart: null,\n    cropmove: null,\n    cropend: null,\n    crop: null,\n    zoom: null\n  };\n\n  var TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-cropper-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-cropper-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-cropper-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-cropper-action=\"se\"></span>' + '</div>' + '</div>';\n\n  /**\n   * Check if the given value is not a number.\n   */\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n\n  /**\n   * Check if the given value is a positive number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n   */\n  var isPositiveNumber = function isPositiveNumber(value) {\n    return value > 0 && value < Infinity;\n  };\n\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n  var slice = Array.prototype.slice;\n\n  /**\n   * Convert array-like or iterable object to an array.\n   * @param {*} value - The value to convert.\n   * @returns {Array} Returns a new array.\n   */\n  function toArray(value) {\n    return Array.from ? Array.from(value) : slice.call(value);\n  }\n\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\n        toArray(data).forEach(function (value, key) {\n          callback.call(data, value, key, data);\n        });\n      } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n    return data;\n  }\n\n  /**\n   * Extend the given object.\n   * @param {*} target - The target object to extend.\n   * @param {*} args - The rest objects for merging to the target object.\n   * @returns {Object} The extended object.\n   */\n  var assign = Object.assign || function assign(target) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (isObject(target) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            target[key] = arg[key];\n          });\n        }\n      });\n    }\n    return target;\n  };\n  var REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n\n  /**\n   * Normalize decimal number.\n   * Check out {@link https://0.30000000000000004.com/}\n   * @param {number} value - The value to normalize.\n   * @param {number} [times=100000000000] - The times for normalizing.\n   * @returns {number} Returns the normalized number.\n   */\n  function normalizeDecimalNumber(value) {\n    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n    return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n  }\n  var REGEXP_SUFFIX = /^width|height|left|top|marginLeft|marginTop$/;\n\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value = \"\".concat(value, \"px\");\n      }\n      style[property] = value;\n    });\n  }\n\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n  function hasClass(element, value) {\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n  function addClass(element, value) {\n    if (!value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n    var className = element.className.trim();\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n  function removeClass(element, value) {\n    if (!value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    }\n\n    // IE10-11 doesn't support the second parameter of `classList.toggle`\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_CAMEL_CASE = /([a-z\\d])([A-Z])/g;\n\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n  function toParamCase(value) {\n    return value.replace(REGEXP_CAMEL_CASE, '$1-$2').toLowerCase();\n  }\n\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n    return element.getAttribute(\"data-\".concat(toParamCase(name)));\n  }\n\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(toParamCase(name)), data);\n    }\n  }\n\n  /**\n   * Remove data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to remove.\n   */\n  function removeData(element, name) {\n    if (isObject(element[name])) {\n      try {\n        delete element[name];\n      } catch (error) {\n        element[name] = undefined;\n      }\n    } else if (element.dataset) {\n      // #128 Safari not allows to delete dataset property\n      try {\n        delete element.dataset[name];\n      } catch (error) {\n        element.dataset[name] = undefined;\n      }\n    } else {\n      element.removeAttribute(\"data-\".concat(toParamCase(name)));\n    }\n  }\n  var REGEXP_SPACES = /\\s\\s*/;\n  var onceSupported = function () {\n    var supported = false;\n    if (IS_BROWSER) {\n      var once = false;\n      var listener = function listener() {};\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n    return supported;\n  }();\n\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n      element.removeEventListener(event, handler, options);\n    });\n  }\n\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n          listeners = _element$listeners === void 0 ? {} : _element$listeners;\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          listener.apply(element, args);\n        };\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n      element.addEventListener(event, _handler, options);\n    });\n  }\n\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n  function dispatchEvent(element, type, data) {\n    var event;\n\n    // Event and CustomEvent on IE9-11 are global objects, not constructors\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, {\n        detail: data,\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n    return element.dispatchEvent(event);\n  }\n\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n  var location = WINDOW.location;\n  var REGEXP_ORIGINS = /^(\\w+:)\\/\\/([^:/?#]*):?(\\d*)/i;\n\n  /**\n   * Check if the given URL is a cross origin URL.\n   * @param {string} url - The target URL.\n   * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n   */\n  function isCrossOriginURL(url) {\n    var parts = url.match(REGEXP_ORIGINS);\n    return parts !== null && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n  }\n\n  /**\n   * Add timestamp to the given URL.\n   * @param {string} url - The target URL.\n   * @returns {string} The result URL.\n   */\n  function addTimestamp(url) {\n    var timestamp = \"timestamp=\".concat(new Date().getTime());\n    return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n  }\n\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      translateX = _ref.translateX,\n      translateY = _ref.translateY;\n    var values = [];\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    }\n\n    // Rotate should come first before scale to match orientation transform\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n    var maxRatio = 0;\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n        if (Math.abs(ratio) > Math.abs(maxRatio)) {\n          maxRatio = ratio;\n        }\n      });\n    });\n    return maxRatio;\n  }\n\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n      pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n        startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n\n  /**\n   * Get the max sizes in a rectangle under the given aspect ratio.\n   * @param {Object} data - The original sizes.\n   * @param {string} [type='contain'] - The adjust type.\n   * @returns {Object} The result sizes.\n   */\n  function getAdjustedSizes(_ref4) {\n    var aspectRatio = _ref4.aspectRatio,\n      height = _ref4.height,\n      width = _ref4.width;\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n    var isValidWidth = isPositiveNumber(width);\n    var isValidHeight = isPositiveNumber(height);\n    if (isValidWidth && isValidHeight) {\n      var adjustedWidth = height * aspectRatio;\n      if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n        height = width / aspectRatio;\n      } else {\n        width = height * aspectRatio;\n      }\n    } else if (isValidWidth) {\n      height = width / aspectRatio;\n    } else if (isValidHeight) {\n      width = height * aspectRatio;\n    }\n    return {\n      width: width,\n      height: height\n    };\n  }\n\n  /**\n   * Get the new sizes of a rectangle after rotated.\n   * @param {Object} data - The original sizes.\n   * @returns {Object} The result sizes.\n   */\n  function getRotatedSizes(_ref5) {\n    var width = _ref5.width,\n      height = _ref5.height,\n      degree = _ref5.degree;\n    degree = Math.abs(degree) % 180;\n    if (degree === 90) {\n      return {\n        width: height,\n        height: width\n      };\n    }\n    var arc = degree % 90 * Math.PI / 180;\n    var sinArc = Math.sin(arc);\n    var cosArc = Math.cos(arc);\n    var newWidth = width * cosArc + height * sinArc;\n    var newHeight = width * sinArc + height * cosArc;\n    return degree > 90 ? {\n      width: newHeight,\n      height: newWidth\n    } : {\n      width: newWidth,\n      height: newHeight\n    };\n  }\n\n  /**\n   * Get a canvas which drew the given image.\n   * @param {HTMLImageElement} image - The image for drawing.\n   * @param {Object} imageData - The image data.\n   * @param {Object} canvasData - The canvas data.\n   * @param {Object} options - The options.\n   * @returns {HTMLCanvasElement} The result canvas.\n   */\n  function getSourceCanvas(image, _ref6, _ref7, _ref8) {\n    var imageAspectRatio = _ref6.aspectRatio,\n      imageNaturalWidth = _ref6.naturalWidth,\n      imageNaturalHeight = _ref6.naturalHeight,\n      _ref6$rotate = _ref6.rotate,\n      rotate = _ref6$rotate === void 0 ? 0 : _ref6$rotate,\n      _ref6$scaleX = _ref6.scaleX,\n      scaleX = _ref6$scaleX === void 0 ? 1 : _ref6$scaleX,\n      _ref6$scaleY = _ref6.scaleY,\n      scaleY = _ref6$scaleY === void 0 ? 1 : _ref6$scaleY;\n    var aspectRatio = _ref7.aspectRatio,\n      naturalWidth = _ref7.naturalWidth,\n      naturalHeight = _ref7.naturalHeight;\n    var _ref8$fillColor = _ref8.fillColor,\n      fillColor = _ref8$fillColor === void 0 ? 'transparent' : _ref8$fillColor,\n      _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n      imageSmoothingEnabled = _ref8$imageSmoothingE === void 0 ? true : _ref8$imageSmoothingE,\n      _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n      imageSmoothingQuality = _ref8$imageSmoothingQ === void 0 ? 'low' : _ref8$imageSmoothingQ,\n      _ref8$maxWidth = _ref8.maxWidth,\n      maxWidth = _ref8$maxWidth === void 0 ? Infinity : _ref8$maxWidth,\n      _ref8$maxHeight = _ref8.maxHeight,\n      maxHeight = _ref8$maxHeight === void 0 ? Infinity : _ref8$maxHeight,\n      _ref8$minWidth = _ref8.minWidth,\n      minWidth = _ref8$minWidth === void 0 ? 0 : _ref8$minWidth,\n      _ref8$minHeight = _ref8.minHeight,\n      minHeight = _ref8$minHeight === void 0 ? 0 : _ref8$minHeight;\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n    var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight));\n\n    // Note: should always use image's natural sizes for drawing as\n    // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n    var destMaxSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var destMinSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n    var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n    var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n    context.fillStyle = fillColor;\n    context.fillRect(0, 0, width, height);\n    context.save();\n    context.translate(width / 2, height / 2);\n    context.rotate(rotate * Math.PI / 180);\n    context.scale(scaleX, scaleY);\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n    context.imageSmoothingQuality = imageSmoothingQuality;\n    context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n    context.restore();\n    return canvas;\n  }\n  var fromCharCode = String.fromCharCode;\n\n  /**\n   * Get string from char code in data view.\n   * @param {DataView} dataView - The data view for read.\n   * @param {number} start - The start index.\n   * @param {number} length - The read length.\n   * @returns {string} The read result.\n   */\n  function getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    length += start;\n    for (var i = start; i < length; i += 1) {\n      str += fromCharCode(dataView.getUint8(i));\n    }\n    return str;\n  }\n  var REGEXP_DATA_URL_HEAD = /^data:.*,/;\n\n  /**\n   * Transform Data URL to array buffer.\n   * @param {string} dataURL - The Data URL to transform.\n   * @returns {ArrayBuffer} The result array buffer.\n   */\n  function dataURLToArrayBuffer(dataURL) {\n    var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n    var binary = atob(base64);\n    var arrayBuffer = new ArrayBuffer(binary.length);\n    var uint8 = new Uint8Array(arrayBuffer);\n    forEach(uint8, function (value, i) {\n      uint8[i] = binary.charCodeAt(i);\n    });\n    return arrayBuffer;\n  }\n\n  /**\n   * Transform array buffer to Data URL.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n   * @param {string} mimeType - The mime type of the Data URL.\n   * @returns {string} The result Data URL.\n   */\n  function arrayBufferToDataURL(arrayBuffer, mimeType) {\n    var chunks = [];\n\n    // Chunk Typed Array for better performance (#435)\n    var chunkSize = 8192;\n    var uint8 = new Uint8Array(arrayBuffer);\n    while (uint8.length > 0) {\n      // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n      // eslint-disable-next-line prefer-spread\n      chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n      uint8 = uint8.subarray(chunkSize);\n    }\n    return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n  }\n\n  /**\n   * Get orientation value from given array buffer.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n   * @returns {number} The read orientation value.\n   */\n  function resetAndGetOrientation(arrayBuffer) {\n    var dataView = new DataView(arrayBuffer);\n    var orientation;\n\n    // Ignores range error when the image does not have correct Exif information\n    try {\n      var littleEndian;\n      var app1Start;\n      var ifdStart;\n\n      // Only handle JPEG image (start by 0xFFD8)\n      if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n        var length = dataView.byteLength;\n        var offset = 2;\n        while (offset + 1 < length) {\n          if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n            app1Start = offset;\n            break;\n          }\n          offset += 1;\n        }\n      }\n      if (app1Start) {\n        var exifIDCode = app1Start + 4;\n        var tiffOffset = app1Start + 10;\n        if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n          var endianness = dataView.getUint16(tiffOffset);\n          littleEndian = endianness === 0x4949;\n          if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n            if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n              var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n              if (firstIFDOffset >= 0x00000008) {\n                ifdStart = tiffOffset + firstIFDOffset;\n              }\n            }\n          }\n        }\n      }\n      if (ifdStart) {\n        var _length = dataView.getUint16(ifdStart, littleEndian);\n        var _offset;\n        var i;\n        for (i = 0; i < _length; i += 1) {\n          _offset = ifdStart + i * 12 + 2;\n          if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {\n            // 8 is the offset of the current tag's value\n            _offset += 8;\n\n            // Get the original orientation value\n            orientation = dataView.getUint16(_offset, littleEndian);\n\n            // Override the orientation with its default value\n            dataView.setUint16(_offset, 1, littleEndian);\n            break;\n          }\n        }\n      }\n    } catch (error) {\n      orientation = 1;\n    }\n    return orientation;\n  }\n\n  /**\n   * Parse Exif Orientation value.\n   * @param {number} orientation - The orientation to parse.\n   * @returns {Object} The parsed result.\n   */\n  function parseOrientation(orientation) {\n    var rotate = 0;\n    var scaleX = 1;\n    var scaleY = 1;\n    switch (orientation) {\n      // Flip horizontal\n      case 2:\n        scaleX = -1;\n        break;\n\n      // Rotate left 180\n      case 3:\n        rotate = -180;\n        break;\n\n      // Flip vertical\n      case 4:\n        scaleY = -1;\n        break;\n\n      // Flip vertical and rotate right 90\n      case 5:\n        rotate = 90;\n        scaleY = -1;\n        break;\n\n      // Rotate right 90\n      case 6:\n        rotate = 90;\n        break;\n\n      // Flip horizontal and rotate right 90\n      case 7:\n        rotate = 90;\n        scaleX = -1;\n        break;\n\n      // Rotate left 90\n      case 8:\n        rotate = -90;\n        break;\n    }\n    return {\n      rotate: rotate,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initCanvas();\n      this.initCropBox();\n      this.renderCanvas();\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    },\n    initContainer: function initContainer() {\n      var element = this.element,\n        options = this.options,\n        container = this.container,\n        cropper = this.cropper;\n      var minWidth = Number(options.minContainerWidth);\n      var minHeight = Number(options.minContainerHeight);\n      addClass(cropper, CLASS_HIDDEN);\n      removeClass(element, CLASS_HIDDEN);\n      var containerData = {\n        width: Math.max(container.offsetWidth, minWidth >= 0 ? minWidth : MIN_CONTAINER_WIDTH),\n        height: Math.max(container.offsetHeight, minHeight >= 0 ? minHeight : MIN_CONTAINER_HEIGHT)\n      };\n      this.containerData = containerData;\n      setStyle(cropper, {\n        width: containerData.width,\n        height: containerData.height\n      });\n      addClass(element, CLASS_HIDDEN);\n      removeClass(cropper, CLASS_HIDDEN);\n    },\n    // Canvas (image wrapper)\n    initCanvas: function initCanvas() {\n      var containerData = this.containerData,\n        imageData = this.imageData;\n      var viewMode = this.options.viewMode;\n      var rotated = Math.abs(imageData.rotate) % 180 === 90;\n      var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n      var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var canvasWidth = containerData.width;\n      var canvasHeight = containerData.height;\n      if (containerData.height * aspectRatio > containerData.width) {\n        if (viewMode === 3) {\n          canvasWidth = containerData.height * aspectRatio;\n        } else {\n          canvasHeight = containerData.width / aspectRatio;\n        }\n      } else if (viewMode === 3) {\n        canvasHeight = containerData.width / aspectRatio;\n      } else {\n        canvasWidth = containerData.height * aspectRatio;\n      }\n      var canvasData = {\n        aspectRatio: aspectRatio,\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight,\n        width: canvasWidth,\n        height: canvasHeight\n      };\n      this.canvasData = canvasData;\n      this.limited = viewMode === 1 || viewMode === 2;\n      this.limitCanvas(true, true);\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      canvasData.left = (containerData.width - canvasData.width) / 2;\n      canvasData.top = (containerData.height - canvasData.height) / 2;\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      this.initialCanvasData = assign({}, canvasData);\n    },\n    limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n      var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n      var viewMode = options.viewMode;\n      var aspectRatio = canvasData.aspectRatio;\n      var cropped = this.cropped && cropBoxData;\n      if (sizeLimited) {\n        var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n        var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n        if (viewMode > 1) {\n          minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n          minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n          if (viewMode === 3) {\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        } else if (viewMode > 0) {\n          if (minCanvasWidth) {\n            minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n          } else if (minCanvasHeight) {\n            minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n          } else if (cropped) {\n            minCanvasWidth = cropBoxData.width;\n            minCanvasHeight = cropBoxData.height;\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        }\n        var _getAdjustedSizes = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: minCanvasWidth,\n          height: minCanvasHeight\n        });\n        minCanvasWidth = _getAdjustedSizes.width;\n        minCanvasHeight = _getAdjustedSizes.height;\n        canvasData.minWidth = minCanvasWidth;\n        canvasData.minHeight = minCanvasHeight;\n        canvasData.maxWidth = Infinity;\n        canvasData.maxHeight = Infinity;\n      }\n      if (positionLimited) {\n        if (viewMode > (cropped ? 0 : 1)) {\n          var newCanvasLeft = containerData.width - canvasData.width;\n          var newCanvasTop = containerData.height - canvasData.height;\n          canvasData.minLeft = Math.min(0, newCanvasLeft);\n          canvasData.minTop = Math.min(0, newCanvasTop);\n          canvasData.maxLeft = Math.max(0, newCanvasLeft);\n          canvasData.maxTop = Math.max(0, newCanvasTop);\n          if (cropped && this.limited) {\n            canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n            canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n            canvasData.maxLeft = cropBoxData.left;\n            canvasData.maxTop = cropBoxData.top;\n            if (viewMode === 2) {\n              if (canvasData.width >= containerData.width) {\n                canvasData.minLeft = Math.min(0, newCanvasLeft);\n                canvasData.maxLeft = Math.max(0, newCanvasLeft);\n              }\n              if (canvasData.height >= containerData.height) {\n                canvasData.minTop = Math.min(0, newCanvasTop);\n                canvasData.maxTop = Math.max(0, newCanvasTop);\n              }\n            }\n          }\n        } else {\n          canvasData.minLeft = -canvasData.width;\n          canvasData.minTop = -canvasData.height;\n          canvasData.maxLeft = containerData.width;\n          canvasData.maxTop = containerData.height;\n        }\n      }\n    },\n    renderCanvas: function renderCanvas(changed, transformed) {\n      var canvasData = this.canvasData,\n        imageData = this.imageData;\n      if (transformed) {\n        var _getRotatedSizes = getRotatedSizes({\n            width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n            height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n            degree: imageData.rotate || 0\n          }),\n          naturalWidth = _getRotatedSizes.width,\n          naturalHeight = _getRotatedSizes.height;\n        var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n        var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n        canvasData.left -= (width - canvasData.width) / 2;\n        canvasData.top -= (height - canvasData.height) / 2;\n        canvasData.width = width;\n        canvasData.height = height;\n        canvasData.aspectRatio = naturalWidth / naturalHeight;\n        canvasData.naturalWidth = naturalWidth;\n        canvasData.naturalHeight = naturalHeight;\n        this.limitCanvas(true, false);\n      }\n      if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n        canvasData.left = canvasData.oldLeft;\n      }\n      if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n        canvasData.top = canvasData.oldTop;\n      }\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      this.limitCanvas(false, true);\n      canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n      canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      setStyle(this.canvas, assign({\n        width: canvasData.width,\n        height: canvasData.height\n      }, getTransforms({\n        translateX: canvasData.left,\n        translateY: canvasData.top\n      })));\n      this.renderImage(changed);\n      if (this.cropped && this.limited) {\n        this.limitCropBox(true, true);\n      }\n    },\n    renderImage: function renderImage(changed) {\n      var canvasData = this.canvasData,\n        imageData = this.imageData;\n      var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n      var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n      assign(imageData, {\n        width: width,\n        height: height,\n        left: (canvasData.width - width) / 2,\n        top: (canvasData.height - height) / 2\n      });\n      setStyle(this.image, assign({\n        width: imageData.width,\n        height: imageData.height\n      }, getTransforms(assign({\n        translateX: imageData.left,\n        translateY: imageData.top\n      }, imageData))));\n      if (changed) {\n        this.output();\n      }\n    },\n    initCropBox: function initCropBox() {\n      var options = this.options,\n        canvasData = this.canvasData;\n      var aspectRatio = options.aspectRatio || options.initialAspectRatio;\n      var autoCropArea = Number(options.autoCropArea) || 0.8;\n      var cropBoxData = {\n        width: canvasData.width,\n        height: canvasData.height\n      };\n      if (aspectRatio) {\n        if (canvasData.height * aspectRatio > canvasData.width) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n      this.cropBoxData = cropBoxData;\n      this.limitCropBox(true, true);\n\n      // Initialize auto crop area\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n\n      // The width/height of auto crop area must large than \"minWidth/Height\"\n      cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n      cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n      cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n      cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n      this.initialCropBoxData = assign({}, cropBoxData);\n    },\n    limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n      var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData,\n        limited = this.limited;\n      var aspectRatio = options.aspectRatio;\n      if (sizeLimited) {\n        var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n        var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n        var maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width;\n        var maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height;\n\n        // The min/maxCropBoxWidth/Height must be less than container's width/height\n        minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n        minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n        if (aspectRatio) {\n          if (minCropBoxWidth && minCropBoxHeight) {\n            if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n              minCropBoxHeight = minCropBoxWidth / aspectRatio;\n            } else {\n              minCropBoxWidth = minCropBoxHeight * aspectRatio;\n            }\n          } else if (minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else if (minCropBoxHeight) {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n          if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n            maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n          } else {\n            maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n          }\n        }\n\n        // The minWidth/Height must be less than maxWidth/Height\n        cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n        cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n        cropBoxData.maxWidth = maxCropBoxWidth;\n        cropBoxData.maxHeight = maxCropBoxHeight;\n      }\n      if (positionLimited) {\n        if (limited) {\n          cropBoxData.minLeft = Math.max(0, canvasData.left);\n          cropBoxData.minTop = Math.max(0, canvasData.top);\n          cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n          cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n        } else {\n          cropBoxData.minLeft = 0;\n          cropBoxData.minTop = 0;\n          cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n          cropBoxData.maxTop = containerData.height - cropBoxData.height;\n        }\n      }\n    },\n    renderCropBox: function renderCropBox() {\n      var options = this.options,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData;\n      if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n        cropBoxData.left = cropBoxData.oldLeft;\n      }\n      if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n        cropBoxData.top = cropBoxData.oldTop;\n      }\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n      this.limitCropBox(false, true);\n      cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n      cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n      if (options.movable && options.cropBoxMovable) {\n        // Turn to move the canvas when the crop box is equal to the container\n        setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n      }\n      setStyle(this.cropBox, assign({\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      }, getTransforms({\n        translateX: cropBoxData.left,\n        translateY: cropBoxData.top\n      })));\n      if (this.cropped && this.limited) {\n        this.limitCanvas(true, true);\n      }\n      if (!this.disabled) {\n        this.output();\n      }\n    },\n    output: function output() {\n      this.preview();\n      dispatchEvent(this.element, EVENT_CROP, this.getData());\n    }\n  };\n\n  var preview = {\n    initPreview: function initPreview() {\n      var element = this.element,\n        crossOrigin = this.crossOrigin;\n      var preview = this.options.preview;\n      var url = crossOrigin ? this.crossOriginUrl : this.url;\n      var alt = element.alt || 'The image to preview';\n      var image = document.createElement('img');\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n      image.src = url;\n      image.alt = alt;\n      this.viewBox.appendChild(image);\n      this.viewBoxImage = image;\n      if (!preview) {\n        return;\n      }\n      var previews = preview;\n      if (typeof preview === 'string') {\n        previews = element.ownerDocument.querySelectorAll(preview);\n      } else if (preview.querySelector) {\n        previews = [preview];\n      }\n      this.previews = previews;\n      forEach(previews, function (el) {\n        var img = document.createElement('img');\n\n        // Save the original size for recover\n        setData(el, DATA_PREVIEW, {\n          width: el.offsetWidth,\n          height: el.offsetHeight,\n          html: el.innerHTML\n        });\n        if (crossOrigin) {\n          img.crossOrigin = crossOrigin;\n        }\n        img.src = url;\n        img.alt = alt;\n\n        /**\n         * Override img element styles\n         * Add `display:block` to avoid margin top issue\n         * Add `height:auto` to override `height` attribute on IE8\n         * (Occur only when margin-top <= -height)\n         */\n        img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n        el.innerHTML = '';\n        el.appendChild(img);\n      });\n    },\n    resetPreview: function resetPreview() {\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        setStyle(element, {\n          width: data.width,\n          height: data.height\n        });\n        element.innerHTML = data.html;\n        removeData(element, DATA_PREVIEW);\n      });\n    },\n    preview: function preview() {\n      var imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n      var cropBoxWidth = cropBoxData.width,\n        cropBoxHeight = cropBoxData.height;\n      var width = imageData.width,\n        height = imageData.height;\n      var left = cropBoxData.left - canvasData.left - imageData.left;\n      var top = cropBoxData.top - canvasData.top - imageData.top;\n      if (!this.cropped || this.disabled) {\n        return;\n      }\n      setStyle(this.viewBoxImage, assign({\n        width: width,\n        height: height\n      }, getTransforms(assign({\n        translateX: -left,\n        translateY: -top\n      }, imageData))));\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        var originalWidth = data.width;\n        var originalHeight = data.height;\n        var newWidth = originalWidth;\n        var newHeight = originalHeight;\n        var ratio = 1;\n        if (cropBoxWidth) {\n          ratio = originalWidth / cropBoxWidth;\n          newHeight = cropBoxHeight * ratio;\n        }\n        if (cropBoxHeight && newHeight > originalHeight) {\n          ratio = originalHeight / cropBoxHeight;\n          newWidth = cropBoxWidth * ratio;\n          newHeight = originalHeight;\n        }\n        setStyle(element, {\n          width: newWidth,\n          height: newHeight\n        });\n        setStyle(element.getElementsByTagName('img')[0], assign({\n          width: width * ratio,\n          height: height * ratio\n        }, getTransforms(assign({\n          translateX: -left * ratio,\n          translateY: -top * ratio\n        }, imageData))));\n      });\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n      if (isFunction(options.cropstart)) {\n        addListener(element, EVENT_CROP_START, options.cropstart);\n      }\n      if (isFunction(options.cropmove)) {\n        addListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n      if (isFunction(options.cropend)) {\n        addListener(element, EVENT_CROP_END, options.cropend);\n      }\n      if (isFunction(options.crop)) {\n        addListener(element, EVENT_CROP, options.crop);\n      }\n      if (isFunction(options.zoom)) {\n        addListener(element, EVENT_ZOOM, options.zoom);\n      }\n      addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleDragModeOnDblclick) {\n        addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n      addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n      addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n      if (options.responsive) {\n        addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n      if (isFunction(options.cropstart)) {\n        removeListener(element, EVENT_CROP_START, options.cropstart);\n      }\n      if (isFunction(options.cropmove)) {\n        removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n      if (isFunction(options.cropend)) {\n        removeListener(element, EVENT_CROP_END, options.cropend);\n      }\n      if (isFunction(options.crop)) {\n        removeListener(element, EVENT_CROP, options.crop);\n      }\n      if (isFunction(options.zoom)) {\n        removeListener(element, EVENT_ZOOM, options.zoom);\n      }\n      removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(cropper, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleDragModeOnDblclick) {\n        removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n      }\n      removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n      removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n      if (options.responsive) {\n        removeListener(window, EVENT_RESIZE, this.onResize);\n      }\n    }\n  };\n\n  var handlers = {\n    resize: function resize() {\n      if (this.disabled) {\n        return;\n      }\n      var options = this.options,\n        container = this.container,\n        containerData = this.containerData;\n      var ratioX = container.offsetWidth / containerData.width;\n      var ratioY = container.offsetHeight / containerData.height;\n      var ratio = Math.abs(ratioX - 1) > Math.abs(ratioY - 1) ? ratioX : ratioY;\n\n      // Resize when width changed or height changed\n      if (ratio !== 1) {\n        var canvasData;\n        var cropBoxData;\n        if (options.restore) {\n          canvasData = this.getCanvasData();\n          cropBoxData = this.getCropBoxData();\n        }\n        this.render();\n        if (options.restore) {\n          this.setCanvasData(forEach(canvasData, function (n, i) {\n            canvasData[i] = n * ratio;\n          }));\n          this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n            cropBoxData[i] = n * ratio;\n          }));\n        }\n      }\n    },\n    dblclick: function dblclick() {\n      if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n        return;\n      }\n      this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n    },\n    wheel: function wheel(event) {\n      var _this = this;\n      var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n      var delta = 1;\n      if (this.disabled) {\n        return;\n      }\n      event.preventDefault();\n\n      // Limit wheel speed to prevent zoom too fast (#21)\n      if (this.wheeling) {\n        return;\n      }\n      this.wheeling = true;\n      setTimeout(function () {\n        _this.wheeling = false;\n      }, 50);\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n      this.zoom(-delta * ratio, event);\n    },\n    cropStart: function cropStart(event) {\n      var buttons = event.buttons,\n        button = event.button;\n      if (this.disabled\n\n      // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && (\n      // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0\n\n      // Open context menu\n      || event.ctrlKey)) {\n        return;\n      }\n      var options = this.options,\n        pointers = this.pointers;\n      var action;\n      if (event.changedTouches) {\n        // Handle touch event\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        // Handle mouse event and pointer event\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n      if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n        action = ACTION_ZOOM;\n      } else {\n        action = getData(event.target, DATA_ACTION);\n      }\n      if (!REGEXP_ACTIONS.test(action)) {\n        return;\n      }\n      if (dispatchEvent(this.element, EVENT_CROP_START, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      }\n\n      // This line is required for preventing page zooming in iOS browsers\n      event.preventDefault();\n      this.action = action;\n      this.cropping = false;\n      if (action === ACTION_CROP) {\n        this.cropping = true;\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n    },\n    cropMove: function cropMove(event) {\n      var action = this.action;\n      if (this.disabled || !action) {\n        return;\n      }\n      var pointers = this.pointers;\n      event.preventDefault();\n      if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      }\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          // The first parameter should not be undefined (#432)\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n      this.change(event);\n    },\n    cropEnd: function cropEnd(event) {\n      if (this.disabled) {\n        return;\n      }\n      var action = this.action,\n        pointers = this.pointers;\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          delete pointers[touch.identifier];\n        });\n      } else {\n        delete pointers[event.pointerId || 0];\n      }\n      if (!action) {\n        return;\n      }\n      event.preventDefault();\n      if (!Object.keys(pointers).length) {\n        this.action = '';\n      }\n      if (this.cropping) {\n        this.cropping = false;\n        toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n      }\n      dispatchEvent(this.element, EVENT_CROP_END, {\n        originalEvent: event,\n        action: action\n      });\n    }\n  };\n\n  var change = {\n    change: function change(event) {\n      var options = this.options,\n        canvasData = this.canvasData,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData,\n        pointers = this.pointers;\n      var action = this.action;\n      var aspectRatio = options.aspectRatio;\n      var left = cropBoxData.left,\n        top = cropBoxData.top,\n        width = cropBoxData.width,\n        height = cropBoxData.height;\n      var right = left + width;\n      var bottom = top + height;\n      var minLeft = 0;\n      var minTop = 0;\n      var maxWidth = containerData.width;\n      var maxHeight = containerData.height;\n      var renderable = true;\n      var offset;\n\n      // Locking aspect ratio in \"free mode\" by holding shift key\n      if (!aspectRatio && event.shiftKey) {\n        aspectRatio = width && height ? width / height : 1;\n      }\n      if (this.limited) {\n        minLeft = cropBoxData.minLeft;\n        minTop = cropBoxData.minTop;\n        maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n        maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n      }\n      var pointer = pointers[Object.keys(pointers)[0]];\n      var range = {\n        x: pointer.endX - pointer.startX,\n        y: pointer.endY - pointer.startY\n      };\n      var check = function check(side) {\n        switch (side) {\n          case ACTION_EAST:\n            if (right + range.x > maxWidth) {\n              range.x = maxWidth - right;\n            }\n            break;\n          case ACTION_WEST:\n            if (left + range.x < minLeft) {\n              range.x = minLeft - left;\n            }\n            break;\n          case ACTION_NORTH:\n            if (top + range.y < minTop) {\n              range.y = minTop - top;\n            }\n            break;\n          case ACTION_SOUTH:\n            if (bottom + range.y > maxHeight) {\n              range.y = maxHeight - bottom;\n            }\n            break;\n        }\n      };\n      switch (action) {\n        // Move crop box\n        case ACTION_ALL:\n          left += range.x;\n          top += range.y;\n          break;\n\n        // Resize crop box\n        case ACTION_EAST:\n          if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_EAST);\n          width += range.x;\n          if (width < 0) {\n            action = ACTION_WEST;\n            width = -width;\n            left -= width;\n          }\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n          break;\n        case ACTION_NORTH:\n          if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n          if (height < 0) {\n            action = ACTION_SOUTH;\n            height = -height;\n            top -= height;\n          }\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n          break;\n        case ACTION_WEST:\n          if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n          if (width < 0) {\n            action = ACTION_EAST;\n            width = -width;\n            left -= width;\n          }\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n          break;\n        case ACTION_SOUTH:\n          if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n          check(ACTION_SOUTH);\n          height += range.y;\n          if (height < 0) {\n            action = ACTION_NORTH;\n            height = -height;\n            top -= height;\n          }\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n          break;\n        case ACTION_NORTH_EAST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n              renderable = false;\n              break;\n            }\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_EAST);\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            top -= height;\n          }\n          break;\n        case ACTION_NORTH_WEST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n              renderable = false;\n              break;\n            }\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n            left += cropBoxData.width - width;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_WEST);\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            top -= height;\n          }\n          break;\n        case ACTION_SOUTH_WEST:\n          if (aspectRatio) {\n            if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n            check(ACTION_WEST);\n            width -= range.x;\n            left += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_WEST);\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            top -= height;\n          }\n          break;\n        case ACTION_SOUTH_EAST:\n          if (aspectRatio) {\n            if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n            check(ACTION_EAST);\n            width += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_EAST);\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            top -= height;\n          }\n          break;\n\n        // Move canvas\n        case ACTION_MOVE:\n          this.move(range.x, range.y);\n          renderable = false;\n          break;\n\n        // Zoom canvas\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), event);\n          renderable = false;\n          break;\n\n        // Create crop box\n        case ACTION_CROP:\n          if (!range.x || !range.y) {\n            renderable = false;\n            break;\n          }\n          offset = getOffset(this.cropper);\n          left = pointer.startX - offset.left;\n          top = pointer.startY - offset.top;\n          width = cropBoxData.minWidth;\n          height = cropBoxData.minHeight;\n          if (range.x > 0) {\n            action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n          } else if (range.x < 0) {\n            left -= width;\n            action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n          }\n          if (range.y < 0) {\n            top -= height;\n          }\n\n          // Show the crop box if is hidden\n          if (!this.cropped) {\n            removeClass(this.cropBox, CLASS_HIDDEN);\n            this.cropped = true;\n            if (this.limited) {\n              this.limitCropBox(true, true);\n            }\n          }\n          break;\n      }\n      if (renderable) {\n        cropBoxData.width = width;\n        cropBoxData.height = height;\n        cropBoxData.left = left;\n        cropBoxData.top = top;\n        this.action = action;\n        this.renderCropBox();\n      }\n\n      // Override\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    }\n  };\n\n  var methods = {\n    // Show the crop box manually\n    crop: function crop() {\n      if (this.ready && !this.cropped && !this.disabled) {\n        this.cropped = true;\n        this.limitCropBox(true, true);\n        if (this.options.modal) {\n          addClass(this.dragBox, CLASS_MODAL);\n        }\n        removeClass(this.cropBox, CLASS_HIDDEN);\n        this.setCropBoxData(this.initialCropBoxData);\n      }\n      return this;\n    },\n    // Reset the image and crop box to their initial states\n    reset: function reset() {\n      if (this.ready && !this.disabled) {\n        this.imageData = assign({}, this.initialImageData);\n        this.canvasData = assign({}, this.initialCanvasData);\n        this.cropBoxData = assign({}, this.initialCropBoxData);\n        this.renderCanvas();\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n      return this;\n    },\n    // Clear the crop box\n    clear: function clear() {\n      if (this.cropped && !this.disabled) {\n        assign(this.cropBoxData, {\n          left: 0,\n          top: 0,\n          width: 0,\n          height: 0\n        });\n        this.cropped = false;\n        this.renderCropBox();\n        this.limitCanvas(true, true);\n\n        // Render canvas after crop box rendered\n        this.renderCanvas();\n        removeClass(this.dragBox, CLASS_MODAL);\n        addClass(this.cropBox, CLASS_HIDDEN);\n      }\n      return this;\n    },\n    /**\n     * Replace the image's src and rebuild the cropper\n     * @param {string} url - The new URL.\n     * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n     * @returns {Cropper} this\n     */\n    replace: function replace(url) {\n      var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (!this.disabled && url) {\n        if (this.isImg) {\n          this.element.src = url;\n        }\n        if (hasSameSize) {\n          this.url = url;\n          this.image.src = url;\n          if (this.ready) {\n            this.viewBoxImage.src = url;\n            forEach(this.previews, function (element) {\n              element.getElementsByTagName('img')[0].src = url;\n            });\n          }\n        } else {\n          if (this.isImg) {\n            this.replaced = true;\n          }\n          this.options.data = null;\n          this.uncreate();\n          this.load(url);\n        }\n      }\n      return this;\n    },\n    // Enable (unfreeze) the cropper\n    enable: function enable() {\n      if (this.ready && this.disabled) {\n        this.disabled = false;\n        removeClass(this.cropper, CLASS_DISABLED);\n      }\n      return this;\n    },\n    // Disable (freeze) the cropper\n    disable: function disable() {\n      if (this.ready && !this.disabled) {\n        this.disabled = true;\n        addClass(this.cropper, CLASS_DISABLED);\n      }\n      return this;\n    },\n    /**\n     * Destroy the cropper and remove the instance from the image\n     * @returns {Cropper} this\n     */\n    destroy: function destroy() {\n      var element = this.element;\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n      element[NAMESPACE] = undefined;\n      if (this.isImg && this.replaced) {\n        element.src = this.originalUrl;\n      }\n      this.uncreate();\n      return this;\n    },\n    /**\n     * Move the canvas with relative offsets\n     * @param {number} offsetX - The relative offset distance on the x-axis.\n     * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n     * @returns {Cropper} this\n     */\n    move: function move(offsetX) {\n      var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n      var _this$canvasData = this.canvasData,\n        left = _this$canvasData.left,\n        top = _this$canvasData.top;\n      return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n    },\n    /**\n     * Move the canvas to an absolute point\n     * @param {number} x - The x-axis coordinate.\n     * @param {number} [y=x] - The y-axis coordinate.\n     * @returns {Cropper} this\n     */\n    moveTo: function moveTo(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var canvasData = this.canvasData;\n      var changed = false;\n      x = Number(x);\n      y = Number(y);\n      if (this.ready && !this.disabled && this.options.movable) {\n        if (isNumber(x)) {\n          canvasData.left = x;\n          changed = true;\n        }\n        if (isNumber(y)) {\n          canvasData.top = y;\n          changed = true;\n        }\n        if (changed) {\n          this.renderCanvas(true);\n        }\n      }\n      return this;\n    },\n    /**\n     * Zoom the canvas with a relative ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoom: function zoom(ratio, _originalEvent) {\n      var canvasData = this.canvasData;\n      ratio = Number(ratio);\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n      return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n    },\n    /**\n     * Zoom the canvas to an absolute ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Object} pivot - The zoom pivot point coordinate.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n      var options = this.options,\n        canvasData = this.canvasData;\n      var width = canvasData.width,\n        height = canvasData.height,\n        naturalWidth = canvasData.naturalWidth,\n        naturalHeight = canvasData.naturalHeight;\n      ratio = Number(ratio);\n      if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n        if (dispatchEvent(this.element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: width / naturalWidth,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n        if (_originalEvent) {\n          var pointers = this.pointers;\n          var offset = getOffset(this.cropper);\n          var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          };\n\n          // Zoom from the triggering point of the event\n          canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n          canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n        } else {\n          // Zoom from the center of the canvas\n          canvasData.left -= (newWidth - width) / 2;\n          canvasData.top -= (newHeight - height) / 2;\n        }\n        canvasData.width = newWidth;\n        canvasData.height = newHeight;\n        this.renderCanvas(true);\n      }\n      return this;\n    },\n    /**\n     * Rotate the canvas with a relative degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotate: function rotate(degree) {\n      return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n    },\n    /**\n     * Rotate the canvas to an absolute degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotateTo: function rotateTo(degree) {\n      degree = Number(degree);\n      if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n        this.imageData.rotate = degree % 360;\n        this.renderCanvas(true, true);\n      }\n      return this;\n    },\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Cropper} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      var scaleY = this.imageData.scaleY;\n      return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n    },\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      var scaleX = this.imageData.scaleX;\n      return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n    },\n    /**\n     * Scale the image\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scale: function scale(scaleX) {\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var imageData = this.imageData;\n      var transformed = false;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n      if (this.ready && !this.disabled && this.options.scalable) {\n        if (isNumber(scaleX)) {\n          imageData.scaleX = scaleX;\n          transformed = true;\n        }\n        if (isNumber(scaleY)) {\n          imageData.scaleY = scaleY;\n          transformed = true;\n        }\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n      }\n      return this;\n    },\n    /**\n     * Get the cropped area position and size data (base on the original image)\n     * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n     * @returns {Object} The result cropped data.\n     */\n    getData: function getData() {\n      var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n      var data;\n      if (this.ready && this.cropped) {\n        data = {\n          x: cropBoxData.left - canvasData.left,\n          y: cropBoxData.top - canvasData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n        var ratio = imageData.width / imageData.naturalWidth;\n        forEach(data, function (n, i) {\n          data[i] = n / ratio;\n        });\n        if (rounded) {\n          // In case rounding off leads to extra 1px in right or bottom border\n          // we should round the top-left corner and the dimension (#343).\n          var bottom = Math.round(data.y + data.height);\n          var right = Math.round(data.x + data.width);\n          data.x = Math.round(data.x);\n          data.y = Math.round(data.y);\n          data.width = right - data.x;\n          data.height = bottom - data.y;\n        }\n      } else {\n        data = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      if (options.rotatable) {\n        data.rotate = imageData.rotate || 0;\n      }\n      if (options.scalable) {\n        data.scaleX = imageData.scaleX || 1;\n        data.scaleY = imageData.scaleY || 1;\n      }\n      return data;\n    },\n    /**\n     * Set the cropped area position and size with new data\n     * @param {Object} data - The new data.\n     * @returns {Cropper} this\n     */\n    setData: function setData(data) {\n      var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData;\n      var cropBoxData = {};\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        var transformed = false;\n        if (options.rotatable) {\n          if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n            imageData.rotate = data.rotate;\n            transformed = true;\n          }\n        }\n        if (options.scalable) {\n          if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n            imageData.scaleX = data.scaleX;\n            transformed = true;\n          }\n          if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n            imageData.scaleY = data.scaleY;\n            transformed = true;\n          }\n        }\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n        var ratio = imageData.width / imageData.naturalWidth;\n        if (isNumber(data.x)) {\n          cropBoxData.left = data.x * ratio + canvasData.left;\n        }\n        if (isNumber(data.y)) {\n          cropBoxData.top = data.y * ratio + canvasData.top;\n        }\n        if (isNumber(data.width)) {\n          cropBoxData.width = data.width * ratio;\n        }\n        if (isNumber(data.height)) {\n          cropBoxData.height = data.height * ratio;\n        }\n        this.setCropBoxData(cropBoxData);\n      }\n      return this;\n    },\n    /**\n     * Get the container size data.\n     * @returns {Object} The result container data.\n     */\n    getContainerData: function getContainerData() {\n      return this.ready ? assign({}, this.containerData) : {};\n    },\n    /**\n     * Get the image position and size data.\n     * @returns {Object} The result image data.\n     */\n    getImageData: function getImageData() {\n      return this.sized ? assign({}, this.imageData) : {};\n    },\n    /**\n     * Get the canvas position and size data.\n     * @returns {Object} The result canvas data.\n     */\n    getCanvasData: function getCanvasData() {\n      var canvasData = this.canvasData;\n      var data = {};\n      if (this.ready) {\n        forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n          data[n] = canvasData[n];\n        });\n      }\n      return data;\n    },\n    /**\n     * Set the canvas position and size with new data.\n     * @param {Object} data - The new canvas data.\n     * @returns {Cropper} this\n     */\n    setCanvasData: function setCanvasData(data) {\n      var canvasData = this.canvasData;\n      var aspectRatio = canvasData.aspectRatio;\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          canvasData.left = data.left;\n        }\n        if (isNumber(data.top)) {\n          canvasData.top = data.top;\n        }\n        if (isNumber(data.width)) {\n          canvasData.width = data.width;\n          canvasData.height = data.width / aspectRatio;\n        } else if (isNumber(data.height)) {\n          canvasData.height = data.height;\n          canvasData.width = data.height * aspectRatio;\n        }\n        this.renderCanvas(true);\n      }\n      return this;\n    },\n    /**\n     * Get the crop box position and size data.\n     * @returns {Object} The result crop box data.\n     */\n    getCropBoxData: function getCropBoxData() {\n      var cropBoxData = this.cropBoxData;\n      var data;\n      if (this.ready && this.cropped) {\n        data = {\n          left: cropBoxData.left,\n          top: cropBoxData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n      }\n      return data || {};\n    },\n    /**\n     * Set the crop box position and size with new data.\n     * @param {Object} data - The new crop box data.\n     * @returns {Cropper} this\n     */\n    setCropBoxData: function setCropBoxData(data) {\n      var cropBoxData = this.cropBoxData;\n      var aspectRatio = this.options.aspectRatio;\n      var widthChanged;\n      var heightChanged;\n      if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          cropBoxData.left = data.left;\n        }\n        if (isNumber(data.top)) {\n          cropBoxData.top = data.top;\n        }\n        if (isNumber(data.width) && data.width !== cropBoxData.width) {\n          widthChanged = true;\n          cropBoxData.width = data.width;\n        }\n        if (isNumber(data.height) && data.height !== cropBoxData.height) {\n          heightChanged = true;\n          cropBoxData.height = data.height;\n        }\n        if (aspectRatio) {\n          if (widthChanged) {\n            cropBoxData.height = cropBoxData.width / aspectRatio;\n          } else if (heightChanged) {\n            cropBoxData.width = cropBoxData.height * aspectRatio;\n          }\n        }\n        this.renderCropBox();\n      }\n      return this;\n    },\n    /**\n     * Get a canvas drawn the cropped image.\n     * @param {Object} [options={}] - The config options.\n     * @returns {HTMLCanvasElement} - The result canvas.\n     */\n    getCroppedCanvas: function getCroppedCanvas() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!this.ready || !window.HTMLCanvasElement) {\n        return null;\n      }\n      var canvasData = this.canvasData;\n      var source = getSourceCanvas(this.image, this.imageData, canvasData, options);\n\n      // Returns the source canvas if it is not cropped.\n      if (!this.cropped) {\n        return source;\n      }\n      var _this$getData = this.getData(),\n        initialX = _this$getData.x,\n        initialY = _this$getData.y,\n        initialWidth = _this$getData.width,\n        initialHeight = _this$getData.height;\n      var ratio = source.width / Math.floor(canvasData.naturalWidth);\n      if (ratio !== 1) {\n        initialX *= ratio;\n        initialY *= ratio;\n        initialWidth *= ratio;\n        initialHeight *= ratio;\n      }\n      var aspectRatio = initialWidth / initialHeight;\n      var maxSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.maxWidth || Infinity,\n        height: options.maxHeight || Infinity\n      });\n      var minSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.minWidth || 0,\n        height: options.minHeight || 0\n      }, 'cover');\n      var _getAdjustedSizes = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: options.width || (ratio !== 1 ? source.width : initialWidth),\n          height: options.height || (ratio !== 1 ? source.height : initialHeight)\n        }),\n        width = _getAdjustedSizes.width,\n        height = _getAdjustedSizes.height;\n      width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n      height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.width = normalizeDecimalNumber(width);\n      canvas.height = normalizeDecimalNumber(height);\n      context.fillStyle = options.fillColor || 'transparent';\n      context.fillRect(0, 0, width, height);\n      var _options$imageSmoothi = options.imageSmoothingEnabled,\n        imageSmoothingEnabled = _options$imageSmoothi === void 0 ? true : _options$imageSmoothi,\n        imageSmoothingQuality = options.imageSmoothingQuality;\n      context.imageSmoothingEnabled = imageSmoothingEnabled;\n      if (imageSmoothingQuality) {\n        context.imageSmoothingQuality = imageSmoothingQuality;\n      }\n\n      // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n      var sourceWidth = source.width;\n      var sourceHeight = source.height;\n\n      // Source canvas parameters\n      var srcX = initialX;\n      var srcY = initialY;\n      var srcWidth;\n      var srcHeight;\n\n      // Destination canvas parameters\n      var dstX;\n      var dstY;\n      var dstWidth;\n      var dstHeight;\n      if (srcX <= -initialWidth || srcX > sourceWidth) {\n        srcX = 0;\n        srcWidth = 0;\n        dstX = 0;\n        dstWidth = 0;\n      } else if (srcX <= 0) {\n        dstX = -srcX;\n        srcX = 0;\n        srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n        dstWidth = srcWidth;\n      } else if (srcX <= sourceWidth) {\n        dstX = 0;\n        srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n        dstWidth = srcWidth;\n      }\n      if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n        srcY = 0;\n        srcHeight = 0;\n        dstY = 0;\n        dstHeight = 0;\n      } else if (srcY <= 0) {\n        dstY = -srcY;\n        srcY = 0;\n        srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n        dstHeight = srcHeight;\n      } else if (srcY <= sourceHeight) {\n        dstY = 0;\n        srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n        dstHeight = srcHeight;\n      }\n      var params = [srcX, srcY, srcWidth, srcHeight];\n\n      // Avoid \"IndexSizeError\"\n      if (dstWidth > 0 && dstHeight > 0) {\n        var scale = width / initialWidth;\n        params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n      }\n\n      // All the numerical parameters should be integer for `drawImage`\n      // https://github.com/fengyuanchen/cropper/issues/476\n      context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function (param) {\n        return Math.floor(normalizeDecimalNumber(param));\n      }))));\n      return canvas;\n    },\n    /**\n     * Change the aspect ratio of the crop box.\n     * @param {number} aspectRatio - The new aspect ratio.\n     * @returns {Cropper} this\n     */\n    setAspectRatio: function setAspectRatio(aspectRatio) {\n      var options = this.options;\n      if (!this.disabled && !isUndefined(aspectRatio)) {\n        // 0 -> NaN\n        options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n        if (this.ready) {\n          this.initCropBox();\n          if (this.cropped) {\n            this.renderCropBox();\n          }\n        }\n      }\n      return this;\n    },\n    /**\n     * Change the drag mode.\n     * @param {string} mode - The new drag mode.\n     * @returns {Cropper} this\n     */\n    setDragMode: function setDragMode(mode) {\n      var options = this.options,\n        dragBox = this.dragBox,\n        face = this.face;\n      if (this.ready && !this.disabled) {\n        var croppable = mode === DRAG_MODE_CROP;\n        var movable = options.movable && mode === DRAG_MODE_MOVE;\n        mode = croppable || movable ? mode : DRAG_MODE_NONE;\n        options.dragMode = mode;\n        setData(dragBox, DATA_ACTION, mode);\n        toggleClass(dragBox, CLASS_CROP, croppable);\n        toggleClass(dragBox, CLASS_MOVE, movable);\n        if (!options.cropBoxMovable) {\n          // Sync drag mode to crop box when it is not movable\n          setData(face, DATA_ACTION, mode);\n          toggleClass(face, CLASS_CROP, croppable);\n          toggleClass(face, CLASS_MOVE, movable);\n        }\n      }\n      return this;\n    }\n  };\n\n  var AnotherCropper = WINDOW.Cropper;\n  var Cropper = /*#__PURE__*/function () {\n    /**\n     * Create a new Cropper.\n     * @param {Element} element - The target element for cropping.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Cropper(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      _classCallCheck(this, Cropper);\n      if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n        throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n      }\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.cropped = false;\n      this.disabled = false;\n      this.pointers = {};\n      this.ready = false;\n      this.reloading = false;\n      this.replaced = false;\n      this.sized = false;\n      this.sizing = false;\n      this.init();\n    }\n    _createClass(Cropper, [{\n      key: \"init\",\n      value: function init() {\n        var element = this.element;\n        var tagName = element.tagName.toLowerCase();\n        var url;\n        if (element[NAMESPACE]) {\n          return;\n        }\n        element[NAMESPACE] = this;\n        if (tagName === 'img') {\n          this.isImg = true;\n\n          // e.g.: \"img/picture.jpg\"\n          url = element.getAttribute('src') || '';\n          this.originalUrl = url;\n\n          // Stop when it's a blank image\n          if (!url) {\n            return;\n          }\n\n          // e.g.: \"https://example.com/img/picture.jpg\"\n          url = element.src;\n        } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n          url = element.toDataURL();\n        }\n        this.load(url);\n      }\n    }, {\n      key: \"load\",\n      value: function load(url) {\n        var _this = this;\n        if (!url) {\n          return;\n        }\n        this.url = url;\n        this.imageData = {};\n        var element = this.element,\n          options = this.options;\n        if (!options.rotatable && !options.scalable) {\n          options.checkOrientation = false;\n        }\n\n        // Only IE10+ supports Typed Arrays\n        if (!options.checkOrientation || !window.ArrayBuffer) {\n          this.clone();\n          return;\n        }\n\n        // Detect the mime type of the image directly if it is a Data URL\n        if (REGEXP_DATA_URL.test(url)) {\n          // Read ArrayBuffer from Data URL of JPEG images directly for better performance\n          if (REGEXP_DATA_URL_JPEG.test(url)) {\n            this.read(dataURLToArrayBuffer(url));\n          } else {\n            // Only a JPEG image may contains Exif Orientation information,\n            // the rest types of Data URLs are not necessary to check orientation at all.\n            this.clone();\n          }\n          return;\n        }\n\n        // 1. Detect the mime type of the image by a XMLHttpRequest.\n        // 2. Load the image as ArrayBuffer for reading orientation if its a JPEG image.\n        var xhr = new XMLHttpRequest();\n        var clone = this.clone.bind(this);\n        this.reloading = true;\n        this.xhr = xhr;\n\n        // 1. Cross origin requests are only supported for protocol schemes:\n        // http, https, data, chrome, chrome-extension.\n        // 2. Access to XMLHttpRequest from a Data URL will be blocked by CORS policy\n        // in some browsers as IE11 and Safari.\n        xhr.onabort = clone;\n        xhr.onerror = clone;\n        xhr.ontimeout = clone;\n        xhr.onprogress = function () {\n          // Abort the request directly if it not a JPEG image for better performance\n          if (xhr.getResponseHeader('content-type') !== MIME_TYPE_JPEG) {\n            xhr.abort();\n          }\n        };\n        xhr.onload = function () {\n          _this.read(xhr.response);\n        };\n        xhr.onloadend = function () {\n          _this.reloading = false;\n          _this.xhr = null;\n        };\n\n        // Bust cache when there is a \"crossOrigin\" property to avoid browser cache error\n        if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n          url = addTimestamp(url);\n        }\n\n        // The third parameter is required for avoiding side-effect (#682)\n        xhr.open('GET', url, true);\n        xhr.responseType = 'arraybuffer';\n        xhr.withCredentials = element.crossOrigin === 'use-credentials';\n        xhr.send();\n      }\n    }, {\n      key: \"read\",\n      value: function read(arrayBuffer) {\n        var options = this.options,\n          imageData = this.imageData;\n\n        // Reset the orientation value to its default value 1\n        // as some iOS browsers will render image with its orientation\n        var orientation = resetAndGetOrientation(arrayBuffer);\n        var rotate = 0;\n        var scaleX = 1;\n        var scaleY = 1;\n        if (orientation > 1) {\n          // Generate a new URL which has the default orientation value\n          this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG);\n          var _parseOrientation = parseOrientation(orientation);\n          rotate = _parseOrientation.rotate;\n          scaleX = _parseOrientation.scaleX;\n          scaleY = _parseOrientation.scaleY;\n        }\n        if (options.rotatable) {\n          imageData.rotate = rotate;\n        }\n        if (options.scalable) {\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n        }\n        this.clone();\n      }\n    }, {\n      key: \"clone\",\n      value: function clone() {\n        var element = this.element,\n          url = this.url;\n        var crossOrigin = element.crossOrigin;\n        var crossOriginUrl = url;\n        if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n          if (!crossOrigin) {\n            crossOrigin = 'anonymous';\n          }\n\n          // Bust cache when there is not a \"crossOrigin\" property (#519)\n          crossOriginUrl = addTimestamp(url);\n        }\n        this.crossOrigin = crossOrigin;\n        this.crossOriginUrl = crossOriginUrl;\n        var image = document.createElement('img');\n        if (crossOrigin) {\n          image.crossOrigin = crossOrigin;\n        }\n        image.src = crossOriginUrl || url;\n        image.alt = element.alt || 'The image to crop';\n        this.image = image;\n        image.onload = this.start.bind(this);\n        image.onerror = this.stop.bind(this);\n        addClass(image, CLASS_HIDE);\n        element.parentNode.insertBefore(image, element.nextSibling);\n      }\n    }, {\n      key: \"start\",\n      value: function start() {\n        var _this2 = this;\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        this.sizing = true;\n\n        // Match all browsers that use WebKit as the layout engine in iOS devices,\n        // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n        var isIOSWebKit = WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent);\n        var done = function done(naturalWidth, naturalHeight) {\n          assign(_this2.imageData, {\n            naturalWidth: naturalWidth,\n            naturalHeight: naturalHeight,\n            aspectRatio: naturalWidth / naturalHeight\n          });\n          _this2.initialImageData = assign({}, _this2.imageData);\n          _this2.sizing = false;\n          _this2.sized = true;\n          _this2.build();\n        };\n\n        // Most modern browsers (excepts iOS WebKit)\n        if (image.naturalWidth && !isIOSWebKit) {\n          done(image.naturalWidth, image.naturalHeight);\n          return;\n        }\n        var sizingImage = document.createElement('img');\n        var body = document.body || document.documentElement;\n        this.sizingImage = sizingImage;\n        sizingImage.onload = function () {\n          done(sizingImage.width, sizingImage.height);\n          if (!isIOSWebKit) {\n            body.removeChild(sizingImage);\n          }\n        };\n        sizingImage.src = image.src;\n\n        // iOS WebKit will convert the image automatically\n        // with its orientation once append it into DOM (#279)\n        if (!isIOSWebKit) {\n          sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n          body.appendChild(sizingImage);\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        image.parentNode.removeChild(image);\n        this.image = null;\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (!this.sized || this.ready) {\n          return;\n        }\n        var element = this.element,\n          options = this.options,\n          image = this.image;\n\n        // Create cropper elements\n        var container = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var cropper = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var canvas = cropper.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        var dragBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-drag-box\"));\n        var cropBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-crop-box\"));\n        var face = cropBox.querySelector(\".\".concat(NAMESPACE, \"-face\"));\n        this.container = container;\n        this.cropper = cropper;\n        this.canvas = canvas;\n        this.dragBox = dragBox;\n        this.cropBox = cropBox;\n        this.viewBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-view-box\"));\n        this.face = face;\n        canvas.appendChild(image);\n\n        // Hide the original image\n        addClass(element, CLASS_HIDDEN);\n\n        // Inserts the cropper after to the current image\n        container.insertBefore(cropper, element.nextSibling);\n\n        // Show the hidden image\n        removeClass(image, CLASS_HIDE);\n        this.initPreview();\n        this.bind();\n        options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n        options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n        options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n        addClass(cropBox, CLASS_HIDDEN);\n        if (!options.guides) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-dashed\")), CLASS_HIDDEN);\n        }\n        if (!options.center) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-center\")), CLASS_HIDDEN);\n        }\n        if (options.background) {\n          addClass(cropper, \"\".concat(NAMESPACE, \"-bg\"));\n        }\n        if (!options.highlight) {\n          addClass(face, CLASS_INVISIBLE);\n        }\n        if (options.cropBoxMovable) {\n          addClass(face, CLASS_MOVE);\n          setData(face, DATA_ACTION, ACTION_ALL);\n        }\n        if (!options.cropBoxResizable) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-line\")), CLASS_HIDDEN);\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-point\")), CLASS_HIDDEN);\n        }\n        this.render();\n        this.ready = true;\n        this.setDragMode(options.dragMode);\n        if (options.autoCrop) {\n          this.crop();\n        }\n        this.setData(options.data);\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n        dispatchEvent(element, EVENT_READY);\n      }\n    }, {\n      key: \"unbuild\",\n      value: function unbuild() {\n        if (!this.ready) {\n          return;\n        }\n        this.ready = false;\n        this.unbind();\n        this.resetPreview();\n        var parentNode = this.cropper.parentNode;\n        if (parentNode) {\n          parentNode.removeChild(this.cropper);\n        }\n        removeClass(this.element, CLASS_HIDDEN);\n      }\n    }, {\n      key: \"uncreate\",\n      value: function uncreate() {\n        if (this.ready) {\n          this.unbuild();\n          this.ready = false;\n          this.cropped = false;\n        } else if (this.sizing) {\n          this.sizingImage.onload = null;\n          this.sizing = false;\n          this.sized = false;\n        } else if (this.reloading) {\n          this.xhr.onabort = null;\n          this.xhr.abort();\n        } else if (this.image) {\n          this.stop();\n        }\n      }\n\n      /**\n       * Get the no conflict cropper class.\n       * @returns {Cropper} The cropper class.\n       */\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Cropper = AnotherCropper;\n        return Cropper;\n      }\n\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n    return Cropper;\n  }();\n  assign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\n  return Cropper;\n\n}));\n","tinymce.IconManager.add('default', {\n  icons: {\n    'accessibility-check': '<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z\" fill-rule=\"nonzero\"/></svg>',\n    'action-next': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z\"/></svg>',\n    'action-prev': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z\"/></svg>',\n    'align-center': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-justify': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-left': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-none': '<svg width=\"24\" height=\"24\"><path d=\"M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z\" fill-rule=\"evenodd\"/></svg>',\n    'align-right': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-left': '<svg width=\"24\" height=\"24\"><path d=\"M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-right': '<svg width=\"24\" height=\"24\"><path d=\"M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z\" fill-rule=\"evenodd\"/></svg>',\n    'bold': '<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z\" fill-rule=\"evenodd\"/></svg>',\n    'bookmark': '<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z\" fill-rule=\"nonzero\"/></svg>',\n    'border-style': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"6\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"3\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"6.8\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"10.6\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"14.4\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"18.2\" y=\"16\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"13\" y=\"11\" rx=\"1\"/></g></svg>',\n    'border-width': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"5\" x=\"3\" y=\"5\" rx=\"1\"/><rect width=\"18\" height=\"3.5\" x=\"3\" y=\"11.5\" rx=\"1\"/><rect width=\"18\" height=\"2\" x=\"3\" y=\"17\" rx=\"1\"/></g></svg>',\n    'brightness': '<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z\" fill-rule=\"evenodd\"/></svg>',\n    'browse': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z\" fill-rule=\"nonzero\"/></svg>',\n    'cancel': '<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z\" fill-rule=\"nonzero\"/></svg>',\n    'cell-background-color': '<svg width=\"24\" height=\"24\"><path d=\"M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z\"/></svg>',\n    'cell-border-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z\" opacity=\".2\"/><path fill-rule=\"nonzero\" d=\"M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z\"/><path d=\"M13 11l-2 2H5v-2h6V6h2z\"/><path fill-rule=\"nonzero\" d=\"M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z\"/></g></svg>',\n    'change-case': '<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\n    'character-count': '<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist': '<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checkmark': '<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-down': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-left': '<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-right': '<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-up': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z\" fill-rule=\"nonzero\"/></svg>',\n    'close': '<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z\" fill-rule=\"evenodd\"/></svg>',\n    'code-sample': '<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z\" fill-rule=\"evenodd\"/></svg>',\n    'color-levels': '<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z\" fill-rule=\"evenodd\"/></svg>',\n    'color-picker': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z\" fill-rule=\"nonzero\"/></svg>',\n    'color-swatch-remove-color': '<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3L3 21\" fill-rule=\"evenodd\"/></svg>',\n    'color-swatch': '<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\n    'comment-add': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z\"/><path d=\"M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z\"/></g></svg>',\n    'comment': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z\"/></svg>',\n    'contrast': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z\" fill-rule=\"evenodd\"/></svg>',\n    'copy': '<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z\" fill-rule=\"nonzero\"/></svg>',\n    'crop': '<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z\" fill-rule=\"evenodd\"/></svg>',\n    'cut-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z\"/></svg>',\n    'cut-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z\"/></svg>',\n    'cut': '<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z\" fill-rule=\"evenodd\"/></svg>',\n    'document-properties': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n    'drag': '<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z\" fill-rule=\"evenodd\"/></svg>',\n    'duplicate-column': '<svg width=\"24\" height=\"24\"><path d=\"M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z\"/></svg>',\n    'duplicate-row': '<svg width=\"24\" height=\"24\"><path d=\"M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z\"/></svg>',\n    'duplicate': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z\"/><path d=\"M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z\"/></g></svg>',\n    'edit-block': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z\"/></svg>',\n    'edit-image': '<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z\" fill-rule=\"nonzero\"/></svg>',\n    'embed-page': '<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z\" fill-rule=\"nonzero\"/></svg>',\n    'embed': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z\" fill-rule=\"nonzero\"/></svg>',\n    'emoji': '<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z\" fill-rule=\"nonzero\"/></svg>',\n    'export': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z\"/><path d=\"M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z\"/><path d=\"M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z\"/></g></svg>',\n    'fill': '<svg width=\"24\" height=\"26\"><path d=\"M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-horizontally': '<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-vertically': '<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z\" fill-rule=\"nonzero\"/></svg>',\n    'format-painter': '<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z\" fill-rule=\"nonzero\"/></svg>',\n    'format': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z\"/></svg>',\n    'fullscreen': '<svg width=\"24\" height=\"24\"><path d=\"M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z\" fill-rule=\"nonzero\"/></svg>',\n    'gallery': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z\"/></svg>',\n    'gamma': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z\" fill-rule=\"nonzero\"/></svg>',\n    'help': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z\"/><path d=\"M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\n    'highlight-bg-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',\n    'home': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\n    'horizontal-rule': '<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\n    'image-options': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z\" fill-rule=\"nonzero\"/></svg>',\n    'image': '<svg width=\"24\" height=\"24\"><path d=\"M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z\" fill-rule=\"nonzero\"/></svg>',\n    'indent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n    'info': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-character': '<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-time': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z\"/></g></svg>',\n    'invert': '<svg width=\"24\" height=\"24\"><path d=\"M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z\" fill-rule=\"evenodd\"/></svg>',\n    'italic': '<svg width=\"24\" height=\"24\"><path d=\"M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z\" fill-rule=\"evenodd\"/></svg>',\n    'language': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z\"/></svg>',\n    'line-height': '<svg width=\"24\" height=\"24\"><path d=\"M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z\"/></svg>',\n    'line': '<svg width=\"24\" height=\"24\"><path d=\"M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z\" fill-rule=\"evenodd\"/></svg>',\n    'link': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z\" fill-rule=\"nonzero\"/></svg>',\n    'list-bull-circle': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-square': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-num-default-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-lower-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-greek-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-greek': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\n    'list-num-lower-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\n    'list-num-upper-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-upper-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-upper-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\n    'list-num-upper-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',\n    'lock': '<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z\" fill-rule=\"evenodd\"/></svg>',\n    'ltr': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n    'more-drawer': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z\" fill-rule=\"nonzero\"/></svg>',\n    'new-document': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n    'new-tab': '<svg width=\"24\" height=\"24\"><path d=\"M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z\" fill-rule=\"evenodd\"/></svg>',\n    'non-breaking': '<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'notice': '<svg width=\"24\" height=\"24\"><path d=\"M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'orientation': '<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z\" fill-rule=\"nonzero\"/></svg>',\n    'outdent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n    'page-break': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z\"/></g></svg>',\n    'paragraph': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z\"/></svg>',\n    'paste-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-row-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-text': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z\" fill-rule=\"nonzero\"/></svg>',\n    'paste': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z\" fill-rule=\"nonzero\"/></svg>',\n    'permanent-pen': '<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z\" fill-rule=\"nonzero\"/></svg>',\n    'plus': '<svg width=\"24\" height=\"24\"><path d=\"M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z\"/></svg>',\n    'preferences': '<svg width=\"24\" height=\"24\"><path d=\"M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z\" fill-rule=\"evenodd\"/></svg>',\n    'preview': '<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z\" fill-rule=\"nonzero\"/></svg>',\n    'print': '<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z\" fill-rule=\"nonzero\"/></svg>',\n    'quote': '<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z\" fill-rule=\"nonzero\"/></svg>',\n    'redo': '<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z\" fill-rule=\"nonzero\"/></svg>',\n    'reload': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z\"/></g></svg>',\n    'remove-formatting': '<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'remove': '<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z\" fill-rule=\"nonzero\"/></svg>',\n    'resize-handle': '<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z\"/></g></svg>',\n    'resize': '<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z\" fill-rule=\"evenodd\"/></svg>',\n    'restore-draft': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z\"/><path d=\"M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z\" fill-rule=\"nonzero\"/></g></svg>',\n    'rotate-left': '<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z\" fill-rule=\"nonzero\"/></svg>',\n    'rotate-right': '<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z\" fill-rule=\"nonzero\"/></svg>',\n    'rtl': '<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n    'save': '<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z\" fill-rule=\"nonzero\"/></svg>',\n    'search': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z\" fill-rule=\"nonzero\"/></svg>',\n    'select-all': '<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z\" fill-rule=\"nonzero\"/></svg>',\n    'selected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z\"/></svg>',\n    'settings': '<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z\" fill-rule=\"evenodd\"/></svg>',\n    'sharpen': '<svg width=\"24\" height=\"24\"><path d=\"M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z\" fill-rule=\"evenodd\"/></svg>',\n    'sourcecode': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z\"/></g></svg>',\n    'spell-check': '<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z\" fill-rule=\"evenodd\"/></svg>',\n    'strike-through': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z\"/><path d=\"M5 11h14a1 1 0 010 2H5a1 1 0 010-2z\" fill-rule=\"nonzero\"/></g></svg>',\n    'subscript': '<svg width=\"24\" height=\"24\"><path d=\"M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z\" fill-rule=\"nonzero\"/></svg>',\n    'superscript': '<svg width=\"24\" height=\"24\"><path d=\"M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z\" fill-rule=\"nonzero\"/></svg>',\n    'table-caption': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"12\" height=\"2\" x=\"3\" y=\"4\" rx=\"1\"/><path d=\"M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z\"/></g></svg>',\n    'table-cell-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z\"/><path fill-rule=\"nonzero\" d=\"M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z\" opacity=\".2\"/><path d=\"M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z\"/><path fill-rule=\"nonzero\" d=\"M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z\" opacity=\".2\"/></g></svg>',\n    'table-cell-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z\"/></svg>',\n    'table-cell-select-all': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z\" opacity=\".2\"/></g></svg>',\n    'table-cell-select-inner': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z\" opacity=\".2\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z\"/></g></svg>',\n    'table-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z\"/><path d=\"M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z\"/></g></svg>',\n    'table-delete-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z\"/></svg>',\n    'table-delete-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z\"/></svg>',\n    'table-delete-table': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z\"/><path d=\"M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z\"/></g></svg>',\n    'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z\"/></svg>',\n    'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z\"/></svg>',\n    'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z\"/></svg>',\n    'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z\"/></svg>',\n    'table-left-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z\"/></svg>',\n    'table-merge-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z\"/></svg>',\n    'table-row-numbering-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z\"/></svg>',\n    'table-row-numbering': '<svg width=\"24\" height=\"24\"><path d=\"M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z\"/></svg>',\n    'table-row-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z\"/></svg>',\n    'table-split-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z\"/></svg>',\n    'table-top-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z\"/></svg>',\n    'table': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z\"/></svg>',\n    'template': '<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z\" fill-rule=\"nonzero\"/></svg>',\n    'temporary-placeholder': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\n    'text-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z\"/></g></svg>',\n    'toc': '<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'translate': '<svg width=\"24\" height=\"24\"><path d=\"M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z\" fill-rule=\"evenodd\"/></svg>',\n    'underline': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'undo': '<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z\" fill-rule=\"nonzero\"/></svg>',\n    'unlink': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z\" fill-rule=\"nonzero\"/></svg>',\n    'unlock': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z\" fill-rule=\"evenodd\"/></svg>',\n    'unordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z\" fill-rule=\"evenodd\"/></svg>',\n    'unselected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z\"/></svg>',\n    'upload': '<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z\" fill-rule=\"nonzero\"/></svg>',\n    'user': '<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z\" fill-rule=\"nonzero\"/></svg>',\n    'vertical-align': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><path d=\"M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z\"/></g></svg>',\n    'visualblocks': '<svg width=\"24\" height=\"24\"><path d=\"M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z\" fill-rule=\"evenodd\"/></svg>',\n    'visualchars': '<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z\" fill-rule=\"evenodd\"/></svg>',\n    'warning': '<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z\" fill-rule=\"evenodd\"/></svg>',\n    'zoom-in': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z\" fill-rule=\"nonzero\"/></svg>',\n    'zoom-out': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z\" fill-rule=\"nonzero\"/></svg>',\n  }\n});","// Exports the \"advlist\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/advlist')\n//   ES2015:\n//     import 'tinymce/plugins/advlist'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var applyListFormat = function (editor, listName, styleValue) {\n      var cmd = listName === 'UL' ? 'InsertUnorderedList' : 'InsertOrderedList';\n      editor.execCommand(cmd, false, styleValue === false ? null : { 'list-style-type': styleValue });\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('ApplyUnorderedListStyle', function (ui, value) {\n        applyListFormat(editor, 'UL', value['list-style-type']);\n      });\n      editor.addCommand('ApplyOrderedListStyle', function (ui, value) {\n        applyListFormat(editor, 'OL', value['list-style-type']);\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getNumberStyles = function (editor) {\n      var styles = editor.getParam('advlist_number_styles', 'default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman');\n      return styles ? styles.split(/[ ,]/) : [];\n    };\n    var getBulletStyles = function (editor) {\n      var styles = editor.getParam('advlist_bullet_styles', 'default,circle,square');\n      return styles ? styles.split(/[ ,]/) : [];\n    };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var isChildOfBody = function (editor, elm) {\n      return editor.$.contains(editor.getBody(), elm);\n    };\n    var isTableCellNode = function (node) {\n      return node && /^(TH|TD)$/.test(node.nodeName);\n    };\n    var isListNode = function (editor) {\n      return function (node) {\n        return node && /^(OL|UL|DL)$/.test(node.nodeName) && isChildOfBody(editor, node);\n      };\n    };\n    var getSelectedStyleType = function (editor) {\n      var listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n      var style = editor.dom.getStyle(listElm, 'listStyleType');\n      return Optional.from(style);\n    };\n\n    var findIndex = function (list, predicate) {\n      for (var index = 0; index < list.length; index++) {\n        var element = list[index];\n        if (predicate(element)) {\n          return index;\n        }\n      }\n      return -1;\n    };\n    var styleValueToText = function (styleValue) {\n      return styleValue.replace(/\\-/g, ' ').replace(/\\b\\w/g, function (chr) {\n        return chr.toUpperCase();\n      });\n    };\n    var isWithinList = function (editor, e, nodeName) {\n      var tableCellIndex = findIndex(e.parents, isTableCellNode);\n      var parents = tableCellIndex !== -1 ? e.parents.slice(0, tableCellIndex) : e.parents;\n      var lists = global.grep(parents, isListNode(editor));\n      return lists.length > 0 && lists[0].nodeName === nodeName;\n    };\n    var makeSetupHandler = function (editor, nodeName) {\n      return function (api) {\n        var nodeChangeHandler = function (e) {\n          api.setActive(isWithinList(editor, e, nodeName));\n        };\n        editor.on('NodeChange', nodeChangeHandler);\n        return function () {\n          return editor.off('NodeChange', nodeChangeHandler);\n        };\n      };\n    };\n    var addSplitButton = function (editor, id, tooltip, cmd, nodeName, styles) {\n      editor.ui.registry.addSplitButton(id, {\n        tooltip: tooltip,\n        icon: nodeName === 'OL' ? 'ordered-list' : 'unordered-list',\n        presets: 'listpreview',\n        columns: 3,\n        fetch: function (callback) {\n          var items = global.map(styles, function (styleValue) {\n            var iconStyle = nodeName === 'OL' ? 'num' : 'bull';\n            var iconName = styleValue === 'disc' || styleValue === 'decimal' ? 'default' : styleValue;\n            var itemValue = styleValue === 'default' ? '' : styleValue;\n            var displayText = styleValueToText(styleValue);\n            return {\n              type: 'choiceitem',\n              value: itemValue,\n              icon: 'list-' + iconStyle + '-' + iconName,\n              text: displayText\n            };\n          });\n          callback(items);\n        },\n        onAction: function () {\n          return editor.execCommand(cmd);\n        },\n        onItemAction: function (_splitButtonApi, value) {\n          applyListFormat(editor, nodeName, value);\n        },\n        select: function (value) {\n          var listStyleType = getSelectedStyleType(editor);\n          return listStyleType.map(function (listStyle) {\n            return value === listStyle;\n          }).getOr(false);\n        },\n        onSetup: makeSetupHandler(editor, nodeName)\n      });\n    };\n    var addButton = function (editor, id, tooltip, cmd, nodeName, _styles) {\n      editor.ui.registry.addToggleButton(id, {\n        active: false,\n        tooltip: tooltip,\n        icon: nodeName === 'OL' ? 'ordered-list' : 'unordered-list',\n        onSetup: makeSetupHandler(editor, nodeName),\n        onAction: function () {\n          return editor.execCommand(cmd);\n        }\n      });\n    };\n    var addControl = function (editor, id, tooltip, cmd, nodeName, styles) {\n      if (styles.length > 1) {\n        addSplitButton(editor, id, tooltip, cmd, nodeName, styles);\n      } else {\n        addButton(editor, id, tooltip, cmd, nodeName);\n      }\n    };\n    var register = function (editor) {\n      addControl(editor, 'numlist', 'Numbered list', 'InsertOrderedList', 'OL', getNumberStyles(editor));\n      addControl(editor, 'bullist', 'Bullet list', 'InsertUnorderedList', 'UL', getBulletStyles(editor));\n    };\n\n    function Plugin () {\n      global$1.add('advlist', function (editor) {\n        if (editor.hasPlugin('lists')) {\n          register(editor);\n          register$1(editor);\n        } else {\n          console.error('Please use the Lists plugin together with the Advanced List plugin.');\n        }\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"anchor\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/anchor')\n//   ES2015:\n//     import 'tinymce/plugins/anchor'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var allowHtmlInNamedAnchor = function (editor) {\n      return editor.getParam('allow_html_in_named_anchor', false, 'boolean');\n    };\n\n    var namedAnchorSelector = 'a:not([href])';\n    var isEmptyString = function (str) {\n      return !str;\n    };\n    var getIdFromAnchor = function (elm) {\n      var id = elm.getAttribute('id') || elm.getAttribute('name');\n      return id || '';\n    };\n    var isAnchor = function (elm) {\n      return elm && elm.nodeName.toLowerCase() === 'a';\n    };\n    var isNamedAnchor = function (elm) {\n      return isAnchor(elm) && !elm.getAttribute('href') && getIdFromAnchor(elm) !== '';\n    };\n    var isEmptyNamedAnchor = function (elm) {\n      return isNamedAnchor(elm) && !elm.firstChild;\n    };\n\n    var removeEmptyNamedAnchorsInSelection = function (editor) {\n      var dom = editor.dom;\n      global$1(dom).walk(editor.selection.getRng(), function (nodes) {\n        global.each(nodes, function (node) {\n          if (isEmptyNamedAnchor(node)) {\n            dom.remove(node, false);\n          }\n        });\n      });\n    };\n    var isValidId = function (id) {\n      return /^[A-Za-z][A-Za-z0-9\\-:._]*$/.test(id);\n    };\n    var getNamedAnchor = function (editor) {\n      return editor.dom.getParent(editor.selection.getStart(), namedAnchorSelector);\n    };\n    var getId = function (editor) {\n      var anchor = getNamedAnchor(editor);\n      if (anchor) {\n        return getIdFromAnchor(anchor);\n      } else {\n        return '';\n      }\n    };\n    var createAnchor = function (editor, id) {\n      editor.undoManager.transact(function () {\n        if (!allowHtmlInNamedAnchor(editor)) {\n          editor.selection.collapse(true);\n        }\n        if (editor.selection.isCollapsed()) {\n          editor.insertContent(editor.dom.createHTML('a', { id: id }));\n        } else {\n          removeEmptyNamedAnchorsInSelection(editor);\n          editor.formatter.remove('namedAnchor', null, null, true);\n          editor.formatter.apply('namedAnchor', { value: id });\n          editor.addVisual();\n        }\n      });\n    };\n    var updateAnchor = function (editor, id, anchorElement) {\n      anchorElement.removeAttribute('name');\n      anchorElement.id = id;\n      editor.addVisual();\n      editor.undoManager.add();\n    };\n    var insert = function (editor, id) {\n      var anchor = getNamedAnchor(editor);\n      if (anchor) {\n        updateAnchor(editor, id, anchor);\n      } else {\n        createAnchor(editor, id);\n      }\n      editor.focus();\n    };\n\n    var insertAnchor = function (editor, newId) {\n      if (!isValidId(newId)) {\n        editor.windowManager.alert('Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.');\n        return false;\n      } else {\n        insert(editor, newId);\n        return true;\n      }\n    };\n    var open = function (editor) {\n      var currentId = getId(editor);\n      editor.windowManager.open({\n        title: 'Anchor',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [{\n              name: 'id',\n              type: 'input',\n              label: 'ID',\n              placeholder: 'example'\n            }]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: { id: currentId },\n        onSubmit: function (api) {\n          if (insertAnchor(editor, api.getData().id)) {\n            api.close();\n          }\n        }\n      });\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceAnchor', function () {\n        open(editor);\n      });\n    };\n\n    var isNamedAnchorNode = function (node) {\n      return node && isEmptyString(node.attr('href')) && !isEmptyString(node.attr('id') || node.attr('name'));\n    };\n    var isEmptyNamedAnchorNode = function (node) {\n      return isNamedAnchorNode(node) && !node.firstChild;\n    };\n    var setContentEditable = function (state) {\n      return function (nodes) {\n        for (var i = 0; i < nodes.length; i++) {\n          var node = nodes[i];\n          if (isEmptyNamedAnchorNode(node)) {\n            node.attr('contenteditable', state);\n          }\n        }\n      };\n    };\n    var setup = function (editor) {\n      editor.on('PreInit', function () {\n        editor.parser.addNodeFilter('a', setContentEditable('false'));\n        editor.serializer.addNodeFilter('a', setContentEditable(null));\n      });\n    };\n\n    var registerFormats = function (editor) {\n      editor.formatter.register('namedAnchor', {\n        inline: 'a',\n        selector: namedAnchorSelector,\n        remove: 'all',\n        split: true,\n        deep: true,\n        attributes: { id: '%value' },\n        onmatch: function (node, _fmt, _itemName) {\n          return isNamedAnchor(node);\n        }\n      });\n    };\n\n    var register = function (editor) {\n      editor.ui.registry.addToggleButton('anchor', {\n        icon: 'bookmark',\n        tooltip: 'Anchor',\n        onAction: function () {\n          return editor.execCommand('mceAnchor');\n        },\n        onSetup: function (buttonApi) {\n          return editor.selection.selectorChangedWithUnbind('a:not([href])', buttonApi.setActive).unbind;\n        }\n      });\n      editor.ui.registry.addMenuItem('anchor', {\n        icon: 'bookmark',\n        text: 'Anchor...',\n        onAction: function () {\n          return editor.execCommand('mceAnchor');\n        }\n      });\n    };\n\n    function Plugin () {\n      global$2.add('anchor', function (editor) {\n        setup(editor);\n        register$1(editor);\n        register(editor);\n        editor.on('PreInit', function () {\n          registerFormats(editor);\n        });\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"autolink\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autolink')\n//   ES2015:\n//     import 'tinymce/plugins/autolink'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var contains = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var link = function () {\n      return /(?:[A-Za-z][A-Za-z\\d.+-]{0,14}:\\/\\/(?:[-.~*+=!&;:'%@?^${}(),\\w]+@)?|www\\.|[-;:&=+$,.\\w]+@)[A-Za-z\\d-]+(?:\\.[A-Za-z\\d-]+)*(?::\\d+)?(?:\\/(?:[-.~*+=!;:'%@$(),\\/\\w]*[-~*+=%@$()\\/\\w])?)?(?:\\?(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?/g;\n    };\n\n    var defaultLinkPattern = new RegExp('^' + link().source + '$', 'i');\n    var getAutoLinkPattern = function (editor) {\n      return editor.getParam('autolink_pattern', defaultLinkPattern);\n    };\n    var getDefaultLinkTarget = function (editor) {\n      return editor.getParam('default_link_target', false);\n    };\n    var getDefaultLinkProtocol = function (editor) {\n      return editor.getParam('link_default_protocol', 'http', 'string');\n    };\n\n    var rangeEqualsBracketOrSpace = function (rangeString) {\n      return /^[(\\[{ \\u00a0]$/.test(rangeString);\n    };\n    var isTextNode = function (node) {\n      return node.nodeType === 3;\n    };\n    var isElement = function (node) {\n      return node.nodeType === 1;\n    };\n    var handleBracket = function (editor) {\n      return parseCurrentLine(editor, -1);\n    };\n    var handleSpacebar = function (editor) {\n      return parseCurrentLine(editor, 0);\n    };\n    var handleEnter = function (editor) {\n      return parseCurrentLine(editor, -1);\n    };\n    var scopeIndex = function (container, index) {\n      if (index < 0) {\n        index = 0;\n      }\n      if (isTextNode(container)) {\n        var len = container.data.length;\n        if (index > len) {\n          index = len;\n        }\n      }\n      return index;\n    };\n    var setStart = function (rng, container, offset) {\n      if (!isElement(container) || container.hasChildNodes()) {\n        rng.setStart(container, scopeIndex(container, offset));\n      } else {\n        rng.setStartBefore(container);\n      }\n    };\n    var setEnd = function (rng, container, offset) {\n      if (!isElement(container) || container.hasChildNodes()) {\n        rng.setEnd(container, scopeIndex(container, offset));\n      } else {\n        rng.setEndAfter(container);\n      }\n    };\n    var hasProtocol = function (url) {\n      return /^([A-Za-z][A-Za-z\\d.+-]*:\\/\\/)|mailto:/.test(url);\n    };\n    var isPunctuation = function (char) {\n      return /[?!,.;:]/.test(char);\n    };\n    var parseCurrentLine = function (editor, endOffset) {\n      var end, endContainer, bookmark, text, prev, len, rngText;\n      var autoLinkPattern = getAutoLinkPattern(editor);\n      var defaultLinkTarget = getDefaultLinkTarget(editor);\n      if (editor.dom.getParent(editor.selection.getNode(), 'a[href]') !== null) {\n        return;\n      }\n      var rng = editor.selection.getRng().cloneRange();\n      if (rng.startOffset < 5) {\n        prev = rng.endContainer.previousSibling;\n        if (!prev) {\n          if (!rng.endContainer.firstChild || !rng.endContainer.firstChild.nextSibling) {\n            return;\n          }\n          prev = rng.endContainer.firstChild.nextSibling;\n        }\n        len = prev.length;\n        setStart(rng, prev, len);\n        setEnd(rng, prev, len);\n        if (rng.endOffset < 5) {\n          return;\n        }\n        end = rng.endOffset;\n        endContainer = prev;\n      } else {\n        endContainer = rng.endContainer;\n        if (!isTextNode(endContainer) && endContainer.firstChild) {\n          while (!isTextNode(endContainer) && endContainer.firstChild) {\n            endContainer = endContainer.firstChild;\n          }\n          if (isTextNode(endContainer)) {\n            setStart(rng, endContainer, 0);\n            setEnd(rng, endContainer, endContainer.nodeValue.length);\n          }\n        }\n        if (rng.endOffset === 1) {\n          end = 2;\n        } else {\n          end = rng.endOffset - 1 - endOffset;\n        }\n      }\n      var start = end;\n      do {\n        setStart(rng, endContainer, end >= 2 ? end - 2 : 0);\n        setEnd(rng, endContainer, end >= 1 ? end - 1 : 0);\n        end -= 1;\n        rngText = rng.toString();\n      } while (!rangeEqualsBracketOrSpace(rngText) && end - 2 >= 0);\n      if (rangeEqualsBracketOrSpace(rng.toString())) {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n        end += 1;\n      } else if (rng.startOffset === 0) {\n        setStart(rng, endContainer, 0);\n        setEnd(rng, endContainer, start);\n      } else {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n      }\n      text = rng.toString();\n      if (isPunctuation(text.charAt(text.length - 1))) {\n        setEnd(rng, endContainer, start - 1);\n      }\n      text = rng.toString().trim();\n      var matches = text.match(autoLinkPattern);\n      var protocol = getDefaultLinkProtocol(editor);\n      if (matches) {\n        var url = matches[0];\n        if (startsWith(url, 'www.')) {\n          url = protocol + '://' + url;\n        } else if (contains(url, '@') && !hasProtocol(url)) {\n          url = 'mailto:' + url;\n        }\n        bookmark = editor.selection.getBookmark();\n        editor.selection.setRng(rng);\n        editor.execCommand('createlink', false, url);\n        if (defaultLinkTarget !== false) {\n          editor.dom.setAttrib(editor.selection.getNode(), 'target', defaultLinkTarget);\n        }\n        editor.selection.moveToBookmark(bookmark);\n        editor.nodeChanged();\n      }\n    };\n    var setup = function (editor) {\n      var autoUrlDetectState;\n      editor.on('keydown', function (e) {\n        if (e.keyCode === 13) {\n          return handleEnter(editor);\n        }\n      });\n      if (global.browser.isIE()) {\n        editor.on('focus', function () {\n          if (!autoUrlDetectState) {\n            autoUrlDetectState = true;\n            try {\n              editor.execCommand('AutoUrlDetect', false, true);\n            } catch (ex) {\n            }\n          }\n        });\n        return;\n      }\n      editor.on('keypress', function (e) {\n        if (e.keyCode === 41 || e.keyCode === 93 || e.keyCode === 125) {\n          return handleBracket(editor);\n        }\n      });\n      editor.on('keyup', function (e) {\n        if (e.keyCode === 32) {\n          return handleSpacebar(editor);\n        }\n      });\n    };\n\n    function Plugin () {\n      global$1.add('autolink', function (editor) {\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"autosave\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autosave')\n//   ES2015:\n//     import 'tinymce/plugins/autosave'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var eq = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isUndefined = eq(undefined);\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var fireRestoreDraft = function (editor) {\n      return editor.fire('RestoreDraft');\n    };\n    var fireStoreDraft = function (editor) {\n      return editor.fire('StoreDraft');\n    };\n    var fireRemoveDraft = function (editor) {\n      return editor.fire('RemoveDraft');\n    };\n\n    var parse = function (timeString, defaultTime) {\n      var multiples = {\n        s: 1000,\n        m: 60000\n      };\n      var toParse = timeString || defaultTime;\n      var parsedTime = /^(\\d+)([ms]?)$/.exec('' + toParse);\n      return (parsedTime[2] ? multiples[parsedTime[2]] : 1) * parseInt(toParse, 10);\n    };\n\n    var shouldAskBeforeUnload = function (editor) {\n      return editor.getParam('autosave_ask_before_unload', true);\n    };\n    var getAutoSavePrefix = function (editor) {\n      var location = document.location;\n      return editor.getParam('autosave_prefix', 'tinymce-autosave-{path}{query}{hash}-{id}-').replace(/{path}/g, location.pathname).replace(/{query}/g, location.search).replace(/{hash}/g, location.hash).replace(/{id}/g, editor.id);\n    };\n    var shouldRestoreWhenEmpty = function (editor) {\n      return editor.getParam('autosave_restore_when_empty', false);\n    };\n    var getAutoSaveInterval = function (editor) {\n      return parse(editor.getParam('autosave_interval'), '30s');\n    };\n    var getAutoSaveRetention = function (editor) {\n      return parse(editor.getParam('autosave_retention'), '20m');\n    };\n\n    var isEmpty = function (editor, html) {\n      if (isUndefined(html)) {\n        return editor.dom.isEmpty(editor.getBody());\n      } else {\n        var trimmedHtml = global$1.trim(html);\n        if (trimmedHtml === '') {\n          return true;\n        } else {\n          var fragment = new DOMParser().parseFromString(trimmedHtml, 'text/html');\n          return editor.dom.isEmpty(fragment);\n        }\n      }\n    };\n    var hasDraft = function (editor) {\n      var time = parseInt(global$2.getItem(getAutoSavePrefix(editor) + 'time'), 10) || 0;\n      if (new Date().getTime() - time > getAutoSaveRetention(editor)) {\n        removeDraft(editor, false);\n        return false;\n      }\n      return true;\n    };\n    var removeDraft = function (editor, fire) {\n      var prefix = getAutoSavePrefix(editor);\n      global$2.removeItem(prefix + 'draft');\n      global$2.removeItem(prefix + 'time');\n      if (fire !== false) {\n        fireRemoveDraft(editor);\n      }\n    };\n    var storeDraft = function (editor) {\n      var prefix = getAutoSavePrefix(editor);\n      if (!isEmpty(editor) && editor.isDirty()) {\n        global$2.setItem(prefix + 'draft', editor.getContent({\n          format: 'raw',\n          no_events: true\n        }));\n        global$2.setItem(prefix + 'time', new Date().getTime().toString());\n        fireStoreDraft(editor);\n      }\n    };\n    var restoreDraft = function (editor) {\n      var prefix = getAutoSavePrefix(editor);\n      if (hasDraft(editor)) {\n        editor.setContent(global$2.getItem(prefix + 'draft'), { format: 'raw' });\n        fireRestoreDraft(editor);\n      }\n    };\n    var startStoreDraft = function (editor) {\n      var interval = getAutoSaveInterval(editor);\n      global$3.setEditorInterval(editor, function () {\n        storeDraft(editor);\n      }, interval);\n    };\n    var restoreLastDraft = function (editor) {\n      editor.undoManager.transact(function () {\n        restoreDraft(editor);\n        removeDraft(editor);\n      });\n      editor.focus();\n    };\n\n    var get = function (editor) {\n      return {\n        hasDraft: function () {\n          return hasDraft(editor);\n        },\n        storeDraft: function () {\n          return storeDraft(editor);\n        },\n        restoreDraft: function () {\n          return restoreDraft(editor);\n        },\n        removeDraft: function (fire) {\n          return removeDraft(editor, fire);\n        },\n        isEmpty: function (html) {\n          return isEmpty(editor, html);\n        }\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var setup = function (editor) {\n      editor.editorManager.on('BeforeUnload', function (e) {\n        var msg;\n        global$1.each(global.get(), function (editor) {\n          if (editor.plugins.autosave) {\n            editor.plugins.autosave.storeDraft();\n          }\n          if (!msg && editor.isDirty() && shouldAskBeforeUnload(editor)) {\n            msg = editor.translate('You have unsaved changes are you sure you want to navigate away?');\n          }\n        });\n        if (msg) {\n          e.preventDefault();\n          e.returnValue = msg;\n        }\n      });\n    };\n\n    var makeSetupHandler = function (editor) {\n      return function (api) {\n        api.setDisabled(!hasDraft(editor));\n        var editorEventCallback = function () {\n          return api.setDisabled(!hasDraft(editor));\n        };\n        editor.on('StoreDraft RestoreDraft RemoveDraft', editorEventCallback);\n        return function () {\n          return editor.off('StoreDraft RestoreDraft RemoveDraft', editorEventCallback);\n        };\n      };\n    };\n    var register = function (editor) {\n      startStoreDraft(editor);\n      editor.ui.registry.addButton('restoredraft', {\n        tooltip: 'Restore last draft',\n        icon: 'restore-draft',\n        onAction: function () {\n          restoreLastDraft(editor);\n        },\n        onSetup: makeSetupHandler(editor)\n      });\n      editor.ui.registry.addMenuItem('restoredraft', {\n        text: 'Restore last draft',\n        icon: 'restore-draft',\n        onAction: function () {\n          restoreLastDraft(editor);\n        },\n        onSetup: makeSetupHandler(editor)\n      });\n    };\n\n    function Plugin () {\n      global$4.add('autosave', function (editor) {\n        setup(editor);\n        register(editor);\n        editor.on('init', function () {\n          if (shouldRestoreWhenEmpty(editor) && editor.dom.isEmpty(editor.getBody())) {\n            restoreDraft(editor);\n          }\n        });\n        return get(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"code\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/code')\n//   ES2015:\n//     import 'tinymce/plugins/code'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var setContent = function (editor, html) {\n      editor.focus();\n      editor.undoManager.transact(function () {\n        editor.setContent(html);\n      });\n      editor.selection.setCursorLocation();\n      editor.nodeChanged();\n    };\n    var getContent = function (editor) {\n      return editor.getContent({ source_view: true });\n    };\n\n    var open = function (editor) {\n      var editorContent = getContent(editor);\n      editor.windowManager.open({\n        title: 'Source Code',\n        size: 'large',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'textarea',\n              name: 'code'\n            }]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: { code: editorContent },\n        onSubmit: function (api) {\n          setContent(editor, api.getData().code);\n          api.close();\n        }\n      });\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceCodeEditor', function () {\n        open(editor);\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mceCodeEditor');\n      };\n      editor.ui.registry.addButton('code', {\n        icon: 'sourcecode',\n        tooltip: 'Source code',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('code', {\n        icon: 'sourcecode',\n        text: 'Source code',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global.add('code', function (editor) {\n        register$1(editor);\n        register(editor);\n        return {};\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"codesample\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/codesample')\n//   ES2015:\n//     import 'tinymce/plugins/codesample'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var get$1 = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$1(xs, 0);\n    };\n\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var isCodeSample = function (elm) {\n      return elm && elm.nodeName === 'PRE' && elm.className.indexOf('language-') !== -1;\n    };\n    var trimArg = function (predicateFn) {\n      return function (arg1, arg2) {\n        return predicateFn(arg2);\n      };\n    };\n\n    var Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var exports$1 = {}, module = { exports: exports$1 }, global = {};\n    (function (define, exports, module, require) {\n      var oldprism = window.Prism;\n      window.Prism = { manual: true };\n      (function (global, factory) {\n        typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.EphoxContactWrapper = factory());\n      }(this, function () {\n        var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n        var prismCore = { exports: {} };\n        (function (module) {\n          var _self = typeof window !== 'undefined' ? window : typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope ? self : {};\n          var Prism = function (_self) {\n            var lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n            var uniqueId = 0;\n            var plainTextGrammar = {};\n            var _ = {\n              manual: _self.Prism && _self.Prism.manual,\n              disableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n              util: {\n                encode: function encode(tokens) {\n                  if (tokens instanceof Token) {\n                    return new Token(tokens.type, encode(tokens.content), tokens.alias);\n                  } else if (Array.isArray(tokens)) {\n                    return tokens.map(encode);\n                  } else {\n                    return tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n                  }\n                },\n                type: function (o) {\n                  return Object.prototype.toString.call(o).slice(8, -1);\n                },\n                objId: function (obj) {\n                  if (!obj['__id']) {\n                    Object.defineProperty(obj, '__id', { value: ++uniqueId });\n                  }\n                  return obj['__id'];\n                },\n                clone: function deepClone(o, visited) {\n                  visited = visited || {};\n                  var clone;\n                  var id;\n                  switch (_.util.type(o)) {\n                  case 'Object':\n                    id = _.util.objId(o);\n                    if (visited[id]) {\n                      return visited[id];\n                    }\n                    clone = {};\n                    visited[id] = clone;\n                    for (var key in o) {\n                      if (o.hasOwnProperty(key)) {\n                        clone[key] = deepClone(o[key], visited);\n                      }\n                    }\n                    return clone;\n                  case 'Array':\n                    id = _.util.objId(o);\n                    if (visited[id]) {\n                      return visited[id];\n                    }\n                    clone = [];\n                    visited[id] = clone;\n                    o.forEach(function (v, i) {\n                      clone[i] = deepClone(v, visited);\n                    });\n                    return clone;\n                  default:\n                    return o;\n                  }\n                },\n                getLanguage: function (element) {\n                  while (element) {\n                    var m = lang.exec(element.className);\n                    if (m) {\n                      return m[1].toLowerCase();\n                    }\n                    element = element.parentElement;\n                  }\n                  return 'none';\n                },\n                setLanguage: function (element, language) {\n                  element.className = element.className.replace(RegExp(lang.source, 'gi'), '');\n                  element.classList.add('language-' + language);\n                },\n                currentScript: function () {\n                  if (typeof document === 'undefined') {\n                    return null;\n                  }\n                  if ('currentScript' in document && 1 < 2) {\n                    return document.currentScript;\n                  }\n                  try {\n                    throw new Error();\n                  } catch (err) {\n                    var src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n                    if (src) {\n                      var scripts = document.getElementsByTagName('script');\n                      for (var i in scripts) {\n                        if (scripts[i].src == src) {\n                          return scripts[i];\n                        }\n                      }\n                    }\n                    return null;\n                  }\n                },\n                isActive: function (element, className, defaultActivation) {\n                  var no = 'no-' + className;\n                  while (element) {\n                    var classList = element.classList;\n                    if (classList.contains(className)) {\n                      return true;\n                    }\n                    if (classList.contains(no)) {\n                      return false;\n                    }\n                    element = element.parentElement;\n                  }\n                  return !!defaultActivation;\n                }\n              },\n              languages: {\n                plain: plainTextGrammar,\n                plaintext: plainTextGrammar,\n                text: plainTextGrammar,\n                txt: plainTextGrammar,\n                extend: function (id, redef) {\n                  var lang = _.util.clone(_.languages[id]);\n                  for (var key in redef) {\n                    lang[key] = redef[key];\n                  }\n                  return lang;\n                },\n                insertBefore: function (inside, before, insert, root) {\n                  root = root || _.languages;\n                  var grammar = root[inside];\n                  var ret = {};\n                  for (var token in grammar) {\n                    if (grammar.hasOwnProperty(token)) {\n                      if (token == before) {\n                        for (var newToken in insert) {\n                          if (insert.hasOwnProperty(newToken)) {\n                            ret[newToken] = insert[newToken];\n                          }\n                        }\n                      }\n                      if (!insert.hasOwnProperty(token)) {\n                        ret[token] = grammar[token];\n                      }\n                    }\n                  }\n                  var old = root[inside];\n                  root[inside] = ret;\n                  _.languages.DFS(_.languages, function (key, value) {\n                    if (value === old && key != inside) {\n                      this[key] = ret;\n                    }\n                  });\n                  return ret;\n                },\n                DFS: function DFS(o, callback, type, visited) {\n                  visited = visited || {};\n                  var objId = _.util.objId;\n                  for (var i in o) {\n                    if (o.hasOwnProperty(i)) {\n                      callback.call(o, i, o[i], type || i);\n                      var property = o[i];\n                      var propertyType = _.util.type(property);\n                      if (propertyType === 'Object' && !visited[objId(property)]) {\n                        visited[objId(property)] = true;\n                        DFS(property, callback, null, visited);\n                      } else if (propertyType === 'Array' && !visited[objId(property)]) {\n                        visited[objId(property)] = true;\n                        DFS(property, callback, i, visited);\n                      }\n                    }\n                  }\n                }\n              },\n              plugins: {},\n              highlightAll: function (async, callback) {\n                _.highlightAllUnder(document, async, callback);\n              },\n              highlightAllUnder: function (container, async, callback) {\n                var env = {\n                  callback: callback,\n                  container: container,\n                  selector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n                };\n                _.hooks.run('before-highlightall', env);\n                env.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n                _.hooks.run('before-all-elements-highlight', env);\n                for (var i = 0, element; element = env.elements[i++];) {\n                  _.highlightElement(element, async === true, env.callback);\n                }\n              },\n              highlightElement: function (element, async, callback) {\n                var language = _.util.getLanguage(element);\n                var grammar = _.languages[language];\n                _.util.setLanguage(element, language);\n                var parent = element.parentElement;\n                if (parent && parent.nodeName.toLowerCase() === 'pre') {\n                  _.util.setLanguage(parent, language);\n                }\n                var code = element.textContent;\n                var env = {\n                  element: element,\n                  language: language,\n                  grammar: grammar,\n                  code: code\n                };\n                function insertHighlightedCode(highlightedCode) {\n                  env.highlightedCode = highlightedCode;\n                  _.hooks.run('before-insert', env);\n                  env.element.innerHTML = env.highlightedCode;\n                  _.hooks.run('after-highlight', env);\n                  _.hooks.run('complete', env);\n                  callback && callback.call(env.element);\n                }\n                _.hooks.run('before-sanity-check', env);\n                parent = env.element.parentElement;\n                if (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n                  parent.setAttribute('tabindex', '0');\n                }\n                if (!env.code) {\n                  _.hooks.run('complete', env);\n                  callback && callback.call(env.element);\n                  return;\n                }\n                _.hooks.run('before-highlight', env);\n                if (!env.grammar) {\n                  insertHighlightedCode(_.util.encode(env.code));\n                  return;\n                }\n                if (async && _self.Worker) {\n                  var worker = new Worker(_.filename);\n                  worker.onmessage = function (evt) {\n                    insertHighlightedCode(evt.data);\n                  };\n                  worker.postMessage(JSON.stringify({\n                    language: env.language,\n                    code: env.code,\n                    immediateClose: true\n                  }));\n                } else {\n                  insertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n                }\n              },\n              highlight: function (text, grammar, language) {\n                var env = {\n                  code: text,\n                  grammar: grammar,\n                  language: language\n                };\n                _.hooks.run('before-tokenize', env);\n                if (!env.grammar) {\n                  throw new Error('The language \"' + env.language + '\" has no grammar.');\n                }\n                env.tokens = _.tokenize(env.code, env.grammar);\n                _.hooks.run('after-tokenize', env);\n                return Token.stringify(_.util.encode(env.tokens), env.language);\n              },\n              tokenize: function (text, grammar) {\n                var rest = grammar.rest;\n                if (rest) {\n                  for (var token in rest) {\n                    grammar[token] = rest[token];\n                  }\n                  delete grammar.rest;\n                }\n                var tokenList = new LinkedList();\n                addAfter(tokenList, tokenList.head, text);\n                matchGrammar(text, tokenList, grammar, tokenList.head, 0);\n                return toArray(tokenList);\n              },\n              hooks: {\n                all: {},\n                add: function (name, callback) {\n                  var hooks = _.hooks.all;\n                  hooks[name] = hooks[name] || [];\n                  hooks[name].push(callback);\n                },\n                run: function (name, env) {\n                  var callbacks = _.hooks.all[name];\n                  if (!callbacks || !callbacks.length) {\n                    return;\n                  }\n                  for (var i = 0, callback; callback = callbacks[i++];) {\n                    callback(env);\n                  }\n                }\n              },\n              Token: Token\n            };\n            _self.Prism = _;\n            function Token(type, content, alias, matchedStr) {\n              this.type = type;\n              this.content = content;\n              this.alias = alias;\n              this.length = (matchedStr || '').length | 0;\n            }\n            Token.stringify = function stringify(o, language) {\n              if (typeof o == 'string') {\n                return o;\n              }\n              if (Array.isArray(o)) {\n                var s = '';\n                o.forEach(function (e) {\n                  s += stringify(e, language);\n                });\n                return s;\n              }\n              var env = {\n                type: o.type,\n                content: stringify(o.content, language),\n                tag: 'span',\n                classes: [\n                  'token',\n                  o.type\n                ],\n                attributes: {},\n                language: language\n              };\n              var aliases = o.alias;\n              if (aliases) {\n                if (Array.isArray(aliases)) {\n                  Array.prototype.push.apply(env.classes, aliases);\n                } else {\n                  env.classes.push(aliases);\n                }\n              }\n              _.hooks.run('wrap', env);\n              var attributes = '';\n              for (var name in env.attributes) {\n                attributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n              }\n              return '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n            };\n            function matchPattern(pattern, pos, text, lookbehind) {\n              pattern.lastIndex = pos;\n              var match = pattern.exec(text);\n              if (match && lookbehind && match[1]) {\n                var lookbehindLength = match[1].length;\n                match.index += lookbehindLength;\n                match[0] = match[0].slice(lookbehindLength);\n              }\n              return match;\n            }\n            function matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n              for (var token in grammar) {\n                if (!grammar.hasOwnProperty(token) || !grammar[token]) {\n                  continue;\n                }\n                var patterns = grammar[token];\n                patterns = Array.isArray(patterns) ? patterns : [patterns];\n                for (var j = 0; j < patterns.length; ++j) {\n                  if (rematch && rematch.cause == token + ',' + j) {\n                    return;\n                  }\n                  var patternObj = patterns[j];\n                  var inside = patternObj.inside;\n                  var lookbehind = !!patternObj.lookbehind;\n                  var greedy = !!patternObj.greedy;\n                  var alias = patternObj.alias;\n                  if (greedy && !patternObj.pattern.global) {\n                    var flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n                    patternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n                  }\n                  var pattern = patternObj.pattern || patternObj;\n                  for (var currentNode = startNode.next, pos = startPos; currentNode !== tokenList.tail; pos += currentNode.value.length, currentNode = currentNode.next) {\n                    if (rematch && pos >= rematch.reach) {\n                      break;\n                    }\n                    var str = currentNode.value;\n                    if (tokenList.length > text.length) {\n                      return;\n                    }\n                    if (str instanceof Token) {\n                      continue;\n                    }\n                    var removeCount = 1;\n                    var match;\n                    if (greedy) {\n                      match = matchPattern(pattern, pos, text, lookbehind);\n                      if (!match || match.index >= text.length) {\n                        break;\n                      }\n                      var from = match.index;\n                      var to = match.index + match[0].length;\n                      var p = pos;\n                      p += currentNode.value.length;\n                      while (from >= p) {\n                        currentNode = currentNode.next;\n                        p += currentNode.value.length;\n                      }\n                      p -= currentNode.value.length;\n                      pos = p;\n                      if (currentNode.value instanceof Token) {\n                        continue;\n                      }\n                      for (var k = currentNode; k !== tokenList.tail && (p < to || typeof k.value === 'string'); k = k.next) {\n                        removeCount++;\n                        p += k.value.length;\n                      }\n                      removeCount--;\n                      str = text.slice(pos, p);\n                      match.index -= pos;\n                    } else {\n                      match = matchPattern(pattern, 0, str, lookbehind);\n                      if (!match) {\n                        continue;\n                      }\n                    }\n                    var from = match.index;\n                    var matchStr = match[0];\n                    var before = str.slice(0, from);\n                    var after = str.slice(from + matchStr.length);\n                    var reach = pos + str.length;\n                    if (rematch && reach > rematch.reach) {\n                      rematch.reach = reach;\n                    }\n                    var removeFrom = currentNode.prev;\n                    if (before) {\n                      removeFrom = addAfter(tokenList, removeFrom, before);\n                      pos += before.length;\n                    }\n                    removeRange(tokenList, removeFrom, removeCount);\n                    var wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n                    currentNode = addAfter(tokenList, removeFrom, wrapped);\n                    if (after) {\n                      addAfter(tokenList, currentNode, after);\n                    }\n                    if (removeCount > 1) {\n                      var nestedRematch = {\n                        cause: token + ',' + j,\n                        reach: reach\n                      };\n                      matchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n                      if (rematch && nestedRematch.reach > rematch.reach) {\n                        rematch.reach = nestedRematch.reach;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n            function LinkedList() {\n              var head = {\n                value: null,\n                prev: null,\n                next: null\n              };\n              var tail = {\n                value: null,\n                prev: head,\n                next: null\n              };\n              head.next = tail;\n              this.head = head;\n              this.tail = tail;\n              this.length = 0;\n            }\n            function addAfter(list, node, value) {\n              var next = node.next;\n              var newNode = {\n                value: value,\n                prev: node,\n                next: next\n              };\n              node.next = newNode;\n              next.prev = newNode;\n              list.length++;\n              return newNode;\n            }\n            function removeRange(list, node, count) {\n              var next = node.next;\n              for (var i = 0; i < count && next !== list.tail; i++) {\n                next = next.next;\n              }\n              node.next = next;\n              next.prev = node;\n              list.length -= i;\n            }\n            function toArray(list) {\n              var array = [];\n              var node = list.head.next;\n              while (node !== list.tail) {\n                array.push(node.value);\n                node = node.next;\n              }\n              return array;\n            }\n            if (!_self.document) {\n              if (!_self.addEventListener) {\n                return _;\n              }\n              if (!_.disableWorkerMessageHandler) {\n                _self.addEventListener('message', function (evt) {\n                  var message = JSON.parse(evt.data);\n                  var lang = message.language;\n                  var code = message.code;\n                  var immediateClose = message.immediateClose;\n                  _self.postMessage(_.highlight(code, _.languages[lang], lang));\n                  if (immediateClose) {\n                    _self.close();\n                  }\n                }, false);\n              }\n              return _;\n            }\n            var script = _.util.currentScript();\n            if (script) {\n              _.filename = script.src;\n              if (script.hasAttribute('data-manual')) {\n                _.manual = true;\n              }\n            }\n            function highlightAutomaticallyCallback() {\n              if (!_.manual) {\n                _.highlightAll();\n              }\n            }\n            if (!_.manual) {\n              var readyState = document.readyState;\n              if (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n                document.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n              } else {\n                if (window.requestAnimationFrame) {\n                  window.requestAnimationFrame(highlightAutomaticallyCallback);\n                } else {\n                  window.setTimeout(highlightAutomaticallyCallback, 16);\n                }\n              }\n            }\n            return _;\n          }(_self);\n          if (module.exports) {\n            module.exports = Prism;\n          }\n          if (typeof commonjsGlobal !== 'undefined') {\n            commonjsGlobal.Prism = Prism;\n          }\n        }(prismCore));\n        Prism.languages.clike = {\n          'comment': [\n            {\n              pattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n              lookbehind: true,\n              greedy: true\n            },\n            {\n              pattern: /(^|[^\\\\:])\\/\\/.*/,\n              lookbehind: true,\n              greedy: true\n            }\n          ],\n          'string': {\n            pattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n            greedy: true\n          },\n          'class-name': {\n            pattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n            lookbehind: true,\n            inside: { 'punctuation': /[.\\\\]/ }\n          },\n          'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n          'boolean': /\\b(?:false|true)\\b/,\n          'function': /\\b\\w+(?=\\()/,\n          'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n          'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n          'punctuation': /[{}[\\];(),.:]/\n        };\n        (function (Prism) {\n          function getPlaceholder(language, index) {\n            return '___' + language.toUpperCase() + index + '___';\n          }\n          Object.defineProperties(Prism.languages['markup-templating'] = {}, {\n            buildPlaceholders: {\n              value: function (env, language, placeholderPattern, replaceFilter) {\n                if (env.language !== language) {\n                  return;\n                }\n                var tokenStack = env.tokenStack = [];\n                env.code = env.code.replace(placeholderPattern, function (match) {\n                  if (typeof replaceFilter === 'function' && !replaceFilter(match)) {\n                    return match;\n                  }\n                  var i = tokenStack.length;\n                  var placeholder;\n                  while (env.code.indexOf(placeholder = getPlaceholder(language, i)) !== -1) {\n                    ++i;\n                  }\n                  tokenStack[i] = match;\n                  return placeholder;\n                });\n                env.grammar = Prism.languages.markup;\n              }\n            },\n            tokenizePlaceholders: {\n              value: function (env, language) {\n                if (env.language !== language || !env.tokenStack) {\n                  return;\n                }\n                env.grammar = Prism.languages[language];\n                var j = 0;\n                var keys = Object.keys(env.tokenStack);\n                function walkTokens(tokens) {\n                  for (var i = 0; i < tokens.length; i++) {\n                    if (j >= keys.length) {\n                      break;\n                    }\n                    var token = tokens[i];\n                    if (typeof token === 'string' || token.content && typeof token.content === 'string') {\n                      var k = keys[j];\n                      var t = env.tokenStack[k];\n                      var s = typeof token === 'string' ? token : token.content;\n                      var placeholder = getPlaceholder(language, k);\n                      var index = s.indexOf(placeholder);\n                      if (index > -1) {\n                        ++j;\n                        var before = s.substring(0, index);\n                        var middle = new Prism.Token(language, Prism.tokenize(t, env.grammar), 'language-' + language, t);\n                        var after = s.substring(index + placeholder.length);\n                        var replacement = [];\n                        if (before) {\n                          replacement.push.apply(replacement, walkTokens([before]));\n                        }\n                        replacement.push(middle);\n                        if (after) {\n                          replacement.push.apply(replacement, walkTokens([after]));\n                        }\n                        if (typeof token === 'string') {\n                          tokens.splice.apply(tokens, [\n                            i,\n                            1\n                          ].concat(replacement));\n                        } else {\n                          token.content = replacement;\n                        }\n                      }\n                    } else if (token.content) {\n                      walkTokens(token.content);\n                    }\n                  }\n                  return tokens;\n                }\n                walkTokens(env.tokens);\n              }\n            }\n          });\n        }(Prism));\n        Prism.languages.c = Prism.languages.extend('clike', {\n          'comment': {\n            pattern: /\\/\\/(?:[^\\r\\n\\\\]|\\\\(?:\\r\\n?|\\n|(?![\\r\\n])))*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n            greedy: true\n          },\n          'string': {\n            pattern: /\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"/,\n            greedy: true\n          },\n          'class-name': {\n            pattern: /(\\b(?:enum|struct)\\s+(?:__attribute__\\s*\\(\\([\\s\\S]*?\\)\\)\\s*)?)\\w+|\\b[a-z]\\w*_t\\b/,\n            lookbehind: true\n          },\n          'keyword': /\\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\\b/,\n          'function': /\\b[a-z_]\\w*(?=\\s*\\()/i,\n          'number': /(?:\\b0x(?:[\\da-f]+(?:\\.[\\da-f]*)?|\\.[\\da-f]+)(?:p[+-]?\\d+)?|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?)[ful]{0,4}/i,\n          'operator': />>=?|<<=?|->|([-+&|:])\\1|[?:~]|[-+*/%&|^!=<>]=?/\n        });\n        Prism.languages.insertBefore('c', 'string', {\n          'char': {\n            pattern: /'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n]){0,32}'/,\n            greedy: true\n          }\n        });\n        Prism.languages.insertBefore('c', 'string', {\n          'macro': {\n            pattern: /(^[\\t ]*)#\\s*[a-z](?:[^\\r\\n\\\\/]|\\/(?!\\*)|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|\\\\(?:\\r\\n|[\\s\\S]))*/im,\n            lookbehind: true,\n            greedy: true,\n            alias: 'property',\n            inside: {\n              'string': [\n                {\n                  pattern: /^(#\\s*include\\s*)<[^>]+>/,\n                  lookbehind: true\n                },\n                Prism.languages.c['string']\n              ],\n              'char': Prism.languages.c['char'],\n              'comment': Prism.languages.c['comment'],\n              'macro-name': [\n                {\n                  pattern: /(^#\\s*define\\s+)\\w+\\b(?!\\()/i,\n                  lookbehind: true\n                },\n                {\n                  pattern: /(^#\\s*define\\s+)\\w+\\b(?=\\()/i,\n                  lookbehind: true,\n                  alias: 'function'\n                }\n              ],\n              'directive': {\n                pattern: /^(#\\s*)[a-z]+/,\n                lookbehind: true,\n                alias: 'keyword'\n              },\n              'directive-hash': /^#/,\n              'punctuation': /##|\\\\(?=[\\r\\n])/,\n              'expression': {\n                pattern: /\\S[\\s\\S]*/,\n                inside: Prism.languages.c\n              }\n            }\n          }\n        });\n        Prism.languages.insertBefore('c', 'function', { 'constant': /\\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\\b/ });\n        delete Prism.languages.c['boolean'];\n        (function (Prism) {\n          var keyword = /\\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\\b/;\n          var modName = /\\b(?!<keyword>)\\w+(?:\\s*\\.\\s*\\w+)*\\b/.source.replace(/<keyword>/g, function () {\n            return keyword.source;\n          });\n          Prism.languages.cpp = Prism.languages.extend('c', {\n            'class-name': [\n              {\n                pattern: RegExp(/(\\b(?:class|concept|enum|struct|typename)\\s+)(?!<keyword>)\\w+/.source.replace(/<keyword>/g, function () {\n                  return keyword.source;\n                })),\n                lookbehind: true\n              },\n              /\\b[A-Z]\\w*(?=\\s*::\\s*\\w+\\s*\\()/,\n              /\\b[A-Z_]\\w*(?=\\s*::\\s*~\\w+\\s*\\()/i,\n              /\\b\\w+(?=\\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\\s*::\\s*\\w+\\s*\\()/\n            ],\n            'keyword': keyword,\n            'number': {\n              pattern: /(?:\\b0b[01']+|\\b0x(?:[\\da-f']+(?:\\.[\\da-f']*)?|\\.[\\da-f']+)(?:p[+-]?[\\d']+)?|(?:\\b[\\d']+(?:\\.[\\d']*)?|\\B\\.[\\d']+)(?:e[+-]?[\\d']+)?)[ful]{0,4}/i,\n              greedy: true\n            },\n            'operator': />>=?|<<=?|->|--|\\+\\+|&&|\\|\\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\\b/,\n            'boolean': /\\b(?:false|true)\\b/\n          });\n          Prism.languages.insertBefore('cpp', 'string', {\n            'module': {\n              pattern: RegExp(/(\\b(?:import|module)\\s+)/.source + '(?:' + /\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|<[^<>\\r\\n]*>/.source + '|' + /<mod-name>(?:\\s*:\\s*<mod-name>)?|:\\s*<mod-name>/.source.replace(/<mod-name>/g, function () {\n                return modName;\n              }) + ')'),\n              lookbehind: true,\n              greedy: true,\n              inside: {\n                'string': /^[<\"][\\s\\S]+/,\n                'operator': /:/,\n                'punctuation': /\\./\n              }\n            },\n            'raw-string': {\n              pattern: /R\"([^()\\\\ ]{0,16})\\([\\s\\S]*?\\)\\1\"/,\n              alias: 'string',\n              greedy: true\n            }\n          });\n          Prism.languages.insertBefore('cpp', 'keyword', {\n            'generic-function': {\n              pattern: /\\b(?!operator\\b)[a-z_]\\w*\\s*<(?:[^<>]|<[^<>]*>)*>(?=\\s*\\()/i,\n              inside: {\n                'function': /^\\w+/,\n                'generic': {\n                  pattern: /<[\\s\\S]+/,\n                  alias: 'class-name',\n                  inside: Prism.languages.cpp\n                }\n              }\n            }\n          });\n          Prism.languages.insertBefore('cpp', 'operator', {\n            'double-colon': {\n              pattern: /::/,\n              alias: 'punctuation'\n            }\n          });\n          Prism.languages.insertBefore('cpp', 'class-name', {\n            'base-clause': {\n              pattern: /(\\b(?:class|struct)\\s+\\w+\\s*:\\s*)[^;{}\"'\\s]+(?:\\s+[^;{}\"'\\s]+)*(?=\\s*[;{])/,\n              lookbehind: true,\n              greedy: true,\n              inside: Prism.languages.extend('cpp', {})\n            }\n          });\n          Prism.languages.insertBefore('inside', 'double-colon', { 'class-name': /\\b[a-z_]\\w*\\b(?!\\s*::)/i }, Prism.languages.cpp['base-clause']);\n        }(Prism));\n        (function (Prism) {\n          function replace(pattern, replacements) {\n            return pattern.replace(/<<(\\d+)>>/g, function (m, index) {\n              return '(?:' + replacements[+index] + ')';\n            });\n          }\n          function re(pattern, replacements, flags) {\n            return RegExp(replace(pattern, replacements), flags || '');\n          }\n          function nested(pattern, depthLog2) {\n            for (var i = 0; i < depthLog2; i++) {\n              pattern = pattern.replace(/<<self>>/g, function () {\n                return '(?:' + pattern + ')';\n              });\n            }\n            return pattern.replace(/<<self>>/g, '[^\\\\s\\\\S]');\n          }\n          var keywordKinds = {\n            type: 'bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void',\n            typeDeclaration: 'class enum interface record struct',\n            contextual: 'add alias and ascending async await by descending from(?=\\\\s*(?:\\\\w|$)) get global group into init(?=\\\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\\\s*{)',\n            other: 'abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield'\n          };\n          function keywordsToPattern(words) {\n            return '\\\\b(?:' + words.trim().replace(/ /g, '|') + ')\\\\b';\n          }\n          var typeDeclarationKeywords = keywordsToPattern(keywordKinds.typeDeclaration);\n          var keywords = RegExp(keywordsToPattern(keywordKinds.type + ' ' + keywordKinds.typeDeclaration + ' ' + keywordKinds.contextual + ' ' + keywordKinds.other));\n          var nonTypeKeywords = keywordsToPattern(keywordKinds.typeDeclaration + ' ' + keywordKinds.contextual + ' ' + keywordKinds.other);\n          var nonContextualKeywords = keywordsToPattern(keywordKinds.type + ' ' + keywordKinds.typeDeclaration + ' ' + keywordKinds.other);\n          var generic = nested(/<(?:[^<>;=+\\-*/%&|^]|<<self>>)*>/.source, 2);\n          var nestedRound = nested(/\\((?:[^()]|<<self>>)*\\)/.source, 2);\n          var name = /@?\\b[A-Za-z_]\\w*\\b/.source;\n          var genericName = replace(/<<0>>(?:\\s*<<1>>)?/.source, [\n            name,\n            generic\n          ]);\n          var identifier = replace(/(?!<<0>>)<<1>>(?:\\s*\\.\\s*<<1>>)*/.source, [\n            nonTypeKeywords,\n            genericName\n          ]);\n          var array = /\\[\\s*(?:,\\s*)*\\]/.source;\n          var typeExpressionWithoutTuple = replace(/<<0>>(?:\\s*(?:\\?\\s*)?<<1>>)*(?:\\s*\\?)?/.source, [\n            identifier,\n            array\n          ]);\n          var tupleElement = replace(/[^,()<>[\\];=+\\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source, [\n            generic,\n            nestedRound,\n            array\n          ]);\n          var tuple = replace(/\\(<<0>>+(?:,<<0>>+)+\\)/.source, [tupleElement]);\n          var typeExpression = replace(/(?:<<0>>|<<1>>)(?:\\s*(?:\\?\\s*)?<<2>>)*(?:\\s*\\?)?/.source, [\n            tuple,\n            identifier,\n            array\n          ]);\n          var typeInside = {\n            'keyword': keywords,\n            'punctuation': /[<>()?,.:[\\]]/\n          };\n          var character = /'(?:[^\\r\\n'\\\\]|\\\\.|\\\\[Uux][\\da-fA-F]{1,8})'/.source;\n          var regularString = /\"(?:\\\\.|[^\\\\\"\\r\\n])*\"/.source;\n          var verbatimString = /@\"(?:\"\"|\\\\[\\s\\S]|[^\\\\\"])*\"(?!\")/.source;\n          Prism.languages.csharp = Prism.languages.extend('clike', {\n            'string': [\n              {\n                pattern: re(/(^|[^$\\\\])<<0>>/.source, [verbatimString]),\n                lookbehind: true,\n                greedy: true\n              },\n              {\n                pattern: re(/(^|[^@$\\\\])<<0>>/.source, [regularString]),\n                lookbehind: true,\n                greedy: true\n              }\n            ],\n            'class-name': [\n              {\n                pattern: re(/(\\busing\\s+static\\s+)<<0>>(?=\\s*;)/.source, [identifier]),\n                lookbehind: true,\n                inside: typeInside\n              },\n              {\n                pattern: re(/(\\busing\\s+<<0>>\\s*=\\s*)<<1>>(?=\\s*;)/.source, [\n                  name,\n                  typeExpression\n                ]),\n                lookbehind: true,\n                inside: typeInside\n              },\n              {\n                pattern: re(/(\\busing\\s+)<<0>>(?=\\s*=)/.source, [name]),\n                lookbehind: true\n              },\n              {\n                pattern: re(/(\\b<<0>>\\s+)<<1>>/.source, [\n                  typeDeclarationKeywords,\n                  genericName\n                ]),\n                lookbehind: true,\n                inside: typeInside\n              },\n              {\n                pattern: re(/(\\bcatch\\s*\\(\\s*)<<0>>/.source, [identifier]),\n                lookbehind: true,\n                inside: typeInside\n              },\n              {\n                pattern: re(/(\\bwhere\\s+)<<0>>/.source, [name]),\n                lookbehind: true\n              },\n              {\n                pattern: re(/(\\b(?:is(?:\\s+not)?|as)\\s+)<<0>>/.source, [typeExpressionWithoutTuple]),\n                lookbehind: true,\n                inside: typeInside\n              },\n              {\n                pattern: re(/\\b<<0>>(?=\\s+(?!<<1>>|with\\s*\\{)<<2>>(?:\\s*[=,;:{)\\]]|\\s+(?:in|when)\\b))/.source, [\n                  typeExpression,\n                  nonContextualKeywords,\n                  name\n                ]),\n                inside: typeInside\n              }\n            ],\n            'keyword': keywords,\n            'number': /(?:\\b0(?:x[\\da-f_]*[\\da-f]|b[01_]*[01])|(?:\\B\\.\\d+(?:_+\\d+)*|\\b\\d+(?:_+\\d+)*(?:\\.\\d+(?:_+\\d+)*)?)(?:e[-+]?\\d+(?:_+\\d+)*)?)(?:[dflmu]|lu|ul)?\\b/i,\n            'operator': />>=?|<<=?|[-=]>|([-+&|])\\1|~|\\?\\?=?|[-+*/%&|^!=<>]=?/,\n            'punctuation': /\\?\\.?|::|[{}[\\];(),.:]/\n          });\n          Prism.languages.insertBefore('csharp', 'number', {\n            'range': {\n              pattern: /\\.\\./,\n              alias: 'operator'\n            }\n          });\n          Prism.languages.insertBefore('csharp', 'punctuation', {\n            'named-parameter': {\n              pattern: re(/([(,]\\s*)<<0>>(?=\\s*:)/.source, [name]),\n              lookbehind: true,\n              alias: 'punctuation'\n            }\n          });\n          Prism.languages.insertBefore('csharp', 'class-name', {\n            'namespace': {\n              pattern: re(/(\\b(?:namespace|using)\\s+)<<0>>(?:\\s*\\.\\s*<<0>>)*(?=\\s*[;{])/.source, [name]),\n              lookbehind: true,\n              inside: { 'punctuation': /\\./ }\n            },\n            'type-expression': {\n              pattern: re(/(\\b(?:default|sizeof|typeof)\\s*\\(\\s*(?!\\s))(?:[^()\\s]|\\s(?!\\s)|<<0>>)*(?=\\s*\\))/.source, [nestedRound]),\n              lookbehind: true,\n              alias: 'class-name',\n              inside: typeInside\n            },\n            'return-type': {\n              pattern: re(/<<0>>(?=\\s+(?:<<1>>\\s*(?:=>|[({]|\\.\\s*this\\s*\\[)|this\\s*\\[))/.source, [\n                typeExpression,\n                identifier\n              ]),\n              inside: typeInside,\n              alias: 'class-name'\n            },\n            'constructor-invocation': {\n              pattern: re(/(\\bnew\\s+)<<0>>(?=\\s*[[({])/.source, [typeExpression]),\n              lookbehind: true,\n              inside: typeInside,\n              alias: 'class-name'\n            },\n            'generic-method': {\n              pattern: re(/<<0>>\\s*<<1>>(?=\\s*\\()/.source, [\n                name,\n                generic\n              ]),\n              inside: {\n                'function': re(/^<<0>>/.source, [name]),\n                'generic': {\n                  pattern: RegExp(generic),\n                  alias: 'class-name',\n                  inside: typeInside\n                }\n              }\n            },\n            'type-list': {\n              pattern: re(/\\b((?:<<0>>\\s+<<1>>|record\\s+<<1>>\\s*<<5>>|where\\s+<<2>>)\\s*:\\s*)(?:<<3>>|<<4>>|<<1>>\\s*<<5>>|<<6>>)(?:\\s*,\\s*(?:<<3>>|<<4>>|<<6>>))*(?=\\s*(?:where|[{;]|=>|$))/.source, [\n                typeDeclarationKeywords,\n                genericName,\n                name,\n                typeExpression,\n                keywords.source,\n                nestedRound,\n                /\\bnew\\s*\\(\\s*\\)/.source\n              ]),\n              lookbehind: true,\n              inside: {\n                'record-arguments': {\n                  pattern: re(/(^(?!new\\s*\\()<<0>>\\s*)<<1>>/.source, [\n                    genericName,\n                    nestedRound\n                  ]),\n                  lookbehind: true,\n                  greedy: true,\n                  inside: Prism.languages.csharp\n                },\n                'keyword': keywords,\n                'class-name': {\n                  pattern: RegExp(typeExpression),\n                  greedy: true,\n                  inside: typeInside\n                },\n                'punctuation': /[,()]/\n              }\n            },\n            'preprocessor': {\n              pattern: /(^[\\t ]*)#.*/m,\n              lookbehind: true,\n              alias: 'property',\n              inside: {\n                'directive': {\n                  pattern: /(#)\\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\\b/,\n                  lookbehind: true,\n                  alias: 'keyword'\n                }\n              }\n            }\n          });\n          var regularStringOrCharacter = regularString + '|' + character;\n          var regularStringCharacterOrComment = replace(/\\/(?![*/])|\\/\\/[^\\r\\n]*[\\r\\n]|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|<<0>>/.source, [regularStringOrCharacter]);\n          var roundExpression = nested(replace(/[^\"'/()]|<<0>>|\\(<<self>>*\\)/.source, [regularStringCharacterOrComment]), 2);\n          var attrTarget = /\\b(?:assembly|event|field|method|module|param|property|return|type)\\b/.source;\n          var attr = replace(/<<0>>(?:\\s*\\(<<1>>*\\))?/.source, [\n            identifier,\n            roundExpression\n          ]);\n          Prism.languages.insertBefore('csharp', 'class-name', {\n            'attribute': {\n              pattern: re(/((?:^|[^\\s\\w>)?])\\s*\\[\\s*)(?:<<0>>\\s*:\\s*)?<<1>>(?:\\s*,\\s*<<1>>)*(?=\\s*\\])/.source, [\n                attrTarget,\n                attr\n              ]),\n              lookbehind: true,\n              greedy: true,\n              inside: {\n                'target': {\n                  pattern: re(/^<<0>>(?=\\s*:)/.source, [attrTarget]),\n                  alias: 'keyword'\n                },\n                'attribute-arguments': {\n                  pattern: re(/\\(<<0>>*\\)/.source, [roundExpression]),\n                  inside: Prism.languages.csharp\n                },\n                'class-name': {\n                  pattern: RegExp(identifier),\n                  inside: { 'punctuation': /\\./ }\n                },\n                'punctuation': /[:,]/\n              }\n            }\n          });\n          var formatString = /:[^}\\r\\n]+/.source;\n          var mInterpolationRound = nested(replace(/[^\"'/()]|<<0>>|\\(<<self>>*\\)/.source, [regularStringCharacterOrComment]), 2);\n          var mInterpolation = replace(/\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}/.source, [\n            mInterpolationRound,\n            formatString\n          ]);\n          var sInterpolationRound = nested(replace(/[^\"'/()]|\\/(?!\\*)|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|<<0>>|\\(<<self>>*\\)/.source, [regularStringOrCharacter]), 2);\n          var sInterpolation = replace(/\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}/.source, [\n            sInterpolationRound,\n            formatString\n          ]);\n          function createInterpolationInside(interpolation, interpolationRound) {\n            return {\n              'interpolation': {\n                pattern: re(/((?:^|[^{])(?:\\{\\{)*)<<0>>/.source, [interpolation]),\n                lookbehind: true,\n                inside: {\n                  'format-string': {\n                    pattern: re(/(^\\{(?:(?![}:])<<0>>)*)<<1>>(?=\\}$)/.source, [\n                      interpolationRound,\n                      formatString\n                    ]),\n                    lookbehind: true,\n                    inside: { 'punctuation': /^:/ }\n                  },\n                  'punctuation': /^\\{|\\}$/,\n                  'expression': {\n                    pattern: /[\\s\\S]+/,\n                    alias: 'language-csharp',\n                    inside: Prism.languages.csharp\n                  }\n                }\n              },\n              'string': /[\\s\\S]+/\n            };\n          }\n          Prism.languages.insertBefore('csharp', 'string', {\n            'interpolation-string': [\n              {\n                pattern: re(/(^|[^\\\\])(?:\\$@|@\\$)\"(?:\"\"|\\\\[\\s\\S]|\\{\\{|<<0>>|[^\\\\{\"])*\"/.source, [mInterpolation]),\n                lookbehind: true,\n                greedy: true,\n                inside: createInterpolationInside(mInterpolation, mInterpolationRound)\n              },\n              {\n                pattern: re(/(^|[^@\\\\])\\$\"(?:\\\\.|\\{\\{|<<0>>|[^\\\\\"{])*\"/.source, [sInterpolation]),\n                lookbehind: true,\n                greedy: true,\n                inside: createInterpolationInside(sInterpolation, sInterpolationRound)\n              }\n            ],\n            'char': {\n              pattern: RegExp(character),\n              greedy: true\n            }\n          });\n          Prism.languages.dotnet = Prism.languages.cs = Prism.languages.csharp;\n        }(Prism));\n        (function (Prism) {\n          var string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n          Prism.languages.css = {\n            'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n            'atrule': {\n              pattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n              inside: {\n                'rule': /^@[\\w-]+/,\n                'selector-function-argument': {\n                  pattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n                  lookbehind: true,\n                  alias: 'selector'\n                },\n                'keyword': {\n                  pattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n                  lookbehind: true\n                }\n              }\n            },\n            'url': {\n              pattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n              greedy: true,\n              inside: {\n                'function': /^url/i,\n                'punctuation': /^\\(|\\)$/,\n                'string': {\n                  pattern: RegExp('^' + string.source + '$'),\n                  alias: 'url'\n                }\n              }\n            },\n            'selector': {\n              pattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n              lookbehind: true\n            },\n            'string': {\n              pattern: string,\n              greedy: true\n            },\n            'property': {\n              pattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n              lookbehind: true\n            },\n            'important': /!important\\b/i,\n            'function': {\n              pattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n              lookbehind: true\n            },\n            'punctuation': /[(){};:,]/\n          };\n          Prism.languages.css['atrule'].inside.rest = Prism.languages.css;\n          var markup = Prism.languages.markup;\n          if (markup) {\n            markup.tag.addInlined('style', 'css');\n            markup.tag.addAttribute('style', 'css');\n          }\n        }(Prism));\n        (function (Prism) {\n          var keywords = /\\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\\s*[(){}[\\]<>=%~.:,;?+\\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\\b/;\n          var classNamePrefix = /(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*/.source;\n          var className = {\n            pattern: RegExp(/(^|[^\\w.])/.source + classNamePrefix + /[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b/.source),\n            lookbehind: true,\n            inside: {\n              'namespace': {\n                pattern: /^[a-z]\\w*(?:\\s*\\.\\s*[a-z]\\w*)*(?:\\s*\\.)?/,\n                inside: { 'punctuation': /\\./ }\n              },\n              'punctuation': /\\./\n            }\n          };\n          Prism.languages.java = Prism.languages.extend('clike', {\n            'string': {\n              pattern: /(^|[^\\\\])\"(?:\\\\.|[^\"\\\\\\r\\n])*\"/,\n              lookbehind: true,\n              greedy: true\n            },\n            'class-name': [\n              className,\n              {\n                pattern: RegExp(/(^|[^\\w.])/.source + classNamePrefix + /[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()]|\\s*(?:\\[[\\s,]*\\]\\s*)?::\\s*new\\b)/.source),\n                lookbehind: true,\n                inside: className.inside\n              },\n              {\n                pattern: RegExp(/(\\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\\s+)/.source + classNamePrefix + /[A-Z]\\w*\\b/.source),\n                lookbehind: true,\n                inside: className.inside\n              }\n            ],\n            'keyword': keywords,\n            'function': [\n              Prism.languages.clike.function,\n              {\n                pattern: /(::\\s*)[a-z_]\\w*/,\n                lookbehind: true\n              }\n            ],\n            'number': /\\b0b[01][01_]*L?\\b|\\b0x(?:\\.[\\da-f_p+-]+|[\\da-f_]+(?:\\.[\\da-f_p+-]+)?)\\b|(?:\\b\\d[\\d_]*(?:\\.[\\d_]*)?|\\B\\.\\d[\\d_]*)(?:e[+-]?\\d[\\d_]*)?[dfl]?/i,\n            'operator': {\n              pattern: /(^|[^.])(?:<<=?|>>>?=?|->|--|\\+\\+|&&|\\|\\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,\n              lookbehind: true\n            },\n            'constant': /\\b[A-Z][A-Z_\\d]+\\b/\n          });\n          Prism.languages.insertBefore('java', 'string', {\n            'triple-quoted-string': {\n              pattern: /\"\"\"[ \\t]*[\\r\\n](?:(?:\"|\"\")?(?:\\\\.|[^\"\\\\]))*\"\"\"/,\n              greedy: true,\n              alias: 'string'\n            },\n            'char': {\n              pattern: /'(?:\\\\.|[^'\\\\\\r\\n]){1,6}'/,\n              greedy: true\n            }\n          });\n          Prism.languages.insertBefore('java', 'class-name', {\n            'annotation': {\n              pattern: /(^|[^.])@\\w+(?:\\s*\\.\\s*\\w+)*/,\n              lookbehind: true,\n              alias: 'punctuation'\n            },\n            'generics': {\n              pattern: /<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&))*>)*>)*>)*>/,\n              inside: {\n                'class-name': className,\n                'keyword': keywords,\n                'punctuation': /[<>(),.:]/,\n                'operator': /[?&|]/\n              }\n            },\n            'import': [\n              {\n                pattern: RegExp(/(\\bimport\\s+)/.source + classNamePrefix + /(?:[A-Z]\\w*|\\*)(?=\\s*;)/.source),\n                lookbehind: true,\n                inside: {\n                  'namespace': className.inside.namespace,\n                  'punctuation': /\\./,\n                  'operator': /\\*/,\n                  'class-name': /\\w+/\n                }\n              },\n              {\n                pattern: RegExp(/(\\bimport\\s+static\\s+)/.source + classNamePrefix + /(?:\\w+|\\*)(?=\\s*;)/.source),\n                lookbehind: true,\n                alias: 'static',\n                inside: {\n                  'namespace': className.inside.namespace,\n                  'static': /\\b\\w+$/,\n                  'punctuation': /\\./,\n                  'operator': /\\*/,\n                  'class-name': /\\w+/\n                }\n              }\n            ],\n            'namespace': {\n              pattern: RegExp(/(\\b(?:exports|import(?:\\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\\s+)(?!<keyword>)[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?/.source.replace(/<keyword>/g, function () {\n                return keywords.source;\n              })),\n              lookbehind: true,\n              inside: { 'punctuation': /\\./ }\n            }\n          });\n        }(Prism));\n        Prism.languages.javascript = Prism.languages.extend('clike', {\n          'class-name': [\n            Prism.languages.clike['class-name'],\n            {\n              pattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n              lookbehind: true\n            }\n          ],\n          'keyword': [\n            {\n              pattern: /((?:^|\\})\\s*)catch\\b/,\n              lookbehind: true\n            },\n            {\n              pattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n              lookbehind: true\n            }\n          ],\n          'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n          'number': {\n            pattern: RegExp(/(^|[^\\w$])/.source + '(?:' + (/NaN|Infinity/.source + '|' + /0[bB][01]+(?:_[01]+)*n?/.source + '|' + /0[oO][0-7]+(?:_[0-7]+)*n?/.source + '|' + /0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source + '|' + /\\d+(?:_\\d+)*n/.source + '|' + /(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source) + ')' + /(?![\\w$])/.source),\n            lookbehind: true\n          },\n          'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n        });\n        Prism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n        Prism.languages.insertBefore('javascript', 'keyword', {\n          'regex': {\n            pattern: RegExp(/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source + /\\//.source + '(?:' + /(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source + '|' + /(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source + ')' + /(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source),\n            lookbehind: true,\n            greedy: true,\n            inside: {\n              'regex-source': {\n                pattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n                lookbehind: true,\n                alias: 'language-regex',\n                inside: Prism.languages.regex\n              },\n              'regex-delimiter': /^\\/|\\/$/,\n              'regex-flags': /^[a-z]+$/\n            }\n          },\n          'function-variable': {\n            pattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n            alias: 'function'\n          },\n          'parameter': [\n            {\n              pattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n              lookbehind: true,\n              inside: Prism.languages.javascript\n            },\n            {\n              pattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n              lookbehind: true,\n              inside: Prism.languages.javascript\n            },\n            {\n              pattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n              lookbehind: true,\n              inside: Prism.languages.javascript\n            },\n            {\n              pattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n              lookbehind: true,\n              inside: Prism.languages.javascript\n            }\n          ],\n          'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n        });\n        Prism.languages.insertBefore('javascript', 'string', {\n          'hashbang': {\n            pattern: /^#!.*/,\n            greedy: true,\n            alias: 'comment'\n          },\n          'template-string': {\n            pattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n            greedy: true,\n            inside: {\n              'template-punctuation': {\n                pattern: /^`|`$/,\n                alias: 'string'\n              },\n              'interpolation': {\n                pattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n                lookbehind: true,\n                inside: {\n                  'interpolation-punctuation': {\n                    pattern: /^\\$\\{|\\}$/,\n                    alias: 'punctuation'\n                  },\n                  rest: Prism.languages.javascript\n                }\n              },\n              'string': /[\\s\\S]+/\n            }\n          },\n          'string-property': {\n            pattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n            lookbehind: true,\n            greedy: true,\n            alias: 'property'\n          }\n        });\n        Prism.languages.insertBefore('javascript', 'operator', {\n          'literal-property': {\n            pattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n            lookbehind: true,\n            alias: 'property'\n          }\n        });\n        if (Prism.languages.markup) {\n          Prism.languages.markup.tag.addInlined('script', 'javascript');\n          Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source, 'javascript');\n        }\n        Prism.languages.js = Prism.languages.javascript;\n        Prism.languages.markup = {\n          'comment': {\n            pattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n            greedy: true\n          },\n          'prolog': {\n            pattern: /<\\?[\\s\\S]+?\\?>/,\n            greedy: true\n          },\n          'doctype': {\n            pattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n            greedy: true,\n            inside: {\n              'internal-subset': {\n                pattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n                lookbehind: true,\n                greedy: true,\n                inside: null\n              },\n              'string': {\n                pattern: /\"[^\"]*\"|'[^']*'/,\n                greedy: true\n              },\n              'punctuation': /^<!|>$|[[\\]]/,\n              'doctype-tag': /^DOCTYPE/i,\n              'name': /[^\\s<>'\"]+/\n            }\n          },\n          'cdata': {\n            pattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n            greedy: true\n          },\n          'tag': {\n            pattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n            greedy: true,\n            inside: {\n              'tag': {\n                pattern: /^<\\/?[^\\s>\\/]+/,\n                inside: {\n                  'punctuation': /^<\\/?/,\n                  'namespace': /^[^\\s>\\/:]+:/\n                }\n              },\n              'special-attr': [],\n              'attr-value': {\n                pattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n                inside: {\n                  'punctuation': [\n                    {\n                      pattern: /^=/,\n                      alias: 'attr-equals'\n                    },\n                    {\n                      pattern: /^(\\s*)[\"']|[\"']$/,\n                      lookbehind: true\n                    }\n                  ]\n                }\n              },\n              'punctuation': /\\/?>/,\n              'attr-name': {\n                pattern: /[^\\s>\\/]+/,\n                inside: { 'namespace': /^[^\\s>\\/:]+:/ }\n              }\n            }\n          },\n          'entity': [\n            {\n              pattern: /&[\\da-z]{1,8};/i,\n              alias: 'named-entity'\n            },\n            /&#x?[\\da-f]{1,8};/i\n          ]\n        };\n        Prism.languages.markup['tag'].inside['attr-value'].inside['entity'] = Prism.languages.markup['entity'];\n        Prism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n        Prism.hooks.add('wrap', function (env) {\n          if (env.type === 'entity') {\n            env.attributes['title'] = env.content.replace(/&amp;/, '&');\n          }\n        });\n        Object.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n          value: function addInlined(tagName, lang) {\n            var includedCdataInside = {};\n            includedCdataInside['language-' + lang] = {\n              pattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n              lookbehind: true,\n              inside: Prism.languages[lang]\n            };\n            includedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n            var inside = {\n              'included-cdata': {\n                pattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n                inside: includedCdataInside\n              }\n            };\n            inside['language-' + lang] = {\n              pattern: /[\\s\\S]+/,\n              inside: Prism.languages[lang]\n            };\n            var def = {};\n            def[tagName] = {\n              pattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () {\n                return tagName;\n              }), 'i'),\n              lookbehind: true,\n              greedy: true,\n              inside: inside\n            };\n            Prism.languages.insertBefore('markup', 'cdata', def);\n          }\n        });\n        Object.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n          value: function (attrName, lang) {\n            Prism.languages.markup.tag.inside['special-attr'].push({\n              pattern: RegExp(/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source, 'i'),\n              lookbehind: true,\n              inside: {\n                'attr-name': /^[^\\s=]+/,\n                'attr-value': {\n                  pattern: /=[\\s\\S]+/,\n                  inside: {\n                    'value': {\n                      pattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n                      lookbehind: true,\n                      alias: [\n                        lang,\n                        'language-' + lang\n                      ],\n                      inside: Prism.languages[lang]\n                    },\n                    'punctuation': [\n                      {\n                        pattern: /^=/,\n                        alias: 'attr-equals'\n                      },\n                      /\"|'/\n                    ]\n                  }\n                }\n              }\n            });\n          }\n        });\n        Prism.languages.html = Prism.languages.markup;\n        Prism.languages.mathml = Prism.languages.markup;\n        Prism.languages.svg = Prism.languages.markup;\n        Prism.languages.xml = Prism.languages.extend('markup', {});\n        Prism.languages.ssml = Prism.languages.xml;\n        Prism.languages.atom = Prism.languages.xml;\n        Prism.languages.rss = Prism.languages.xml;\n        (function (Prism) {\n          var comment = /\\/\\*[\\s\\S]*?\\*\\/|\\/\\/.*|#(?!\\[).*/;\n          var constant = [\n            {\n              pattern: /\\b(?:false|true)\\b/i,\n              alias: 'boolean'\n            },\n            {\n              pattern: /(::\\s*)\\b[a-z_]\\w*\\b(?!\\s*\\()/i,\n              greedy: true,\n              lookbehind: true\n            },\n            {\n              pattern: /(\\b(?:case|const)\\s+)\\b[a-z_]\\w*(?=\\s*[;=])/i,\n              greedy: true,\n              lookbehind: true\n            },\n            /\\b(?:null)\\b/i,\n            /\\b[A-Z_][A-Z0-9_]*\\b(?!\\s*\\()/\n          ];\n          var number = /\\b0b[01]+(?:_[01]+)*\\b|\\b0o[0-7]+(?:_[0-7]+)*\\b|\\b0x[\\da-f]+(?:_[\\da-f]+)*\\b|(?:\\b\\d+(?:_\\d+)*\\.?(?:\\d+(?:_\\d+)*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i;\n          var operator = /<?=>|\\?\\?=?|\\.{3}|\\??->|[!=]=?=?|::|\\*\\*=?|--|\\+\\+|&&|\\|\\||<<|>>|[?~]|[/^|%*&<>.+-]=?/;\n          var punctuation = /[{}\\[\\](),:;]/;\n          Prism.languages.php = {\n            'delimiter': {\n              pattern: /\\?>$|^<\\?(?:php(?=\\s)|=)?/i,\n              alias: 'important'\n            },\n            'comment': comment,\n            'variable': /\\$+(?:\\w+\\b|(?=\\{))/,\n            'package': {\n              pattern: /(namespace\\s+|use\\s+(?:function\\s+)?)(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n              lookbehind: true,\n              inside: { 'punctuation': /\\\\/ }\n            },\n            'class-name-definition': {\n              pattern: /(\\b(?:class|enum|interface|trait)\\s+)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n              lookbehind: true,\n              alias: 'class-name'\n            },\n            'function-definition': {\n              pattern: /(\\bfunction\\s+)[a-z_]\\w*(?=\\s*\\()/i,\n              lookbehind: true,\n              alias: 'function'\n            },\n            'keyword': [\n              {\n                pattern: /(\\(\\s*)\\b(?:array|bool|boolean|float|int|integer|object|string)\\b(?=\\s*\\))/i,\n                alias: 'type-casting',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /([(,?]\\s*)\\b(?:array(?!\\s*\\()|bool|callable|(?:false|null)(?=\\s*\\|)|float|int|iterable|mixed|object|self|static|string)\\b(?=\\s*\\$)/i,\n                alias: 'type-hint',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)\\b(?:array(?!\\s*\\()|bool|callable|(?:false|null)(?=\\s*\\|)|float|int|iterable|mixed|never|object|self|static|string|void)\\b/i,\n                alias: 'return-type',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /\\b(?:array(?!\\s*\\()|bool|float|int|iterable|mixed|object|string|void)\\b/i,\n                alias: 'type-declaration',\n                greedy: true\n              },\n              {\n                pattern: /(\\|\\s*)(?:false|null)\\b|\\b(?:false|null)(?=\\s*\\|)/i,\n                alias: 'type-declaration',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /\\b(?:parent|self|static)(?=\\s*::)/i,\n                alias: 'static-context',\n                greedy: true\n              },\n              {\n                pattern: /(\\byield\\s+)from\\b/i,\n                lookbehind: true\n              },\n              /\\bclass\\b/i,\n              {\n                pattern: /((?:^|[^\\s>:]|(?:^|[^-])>|(?:^|[^:]):)\\s*)\\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\\b/i,\n                lookbehind: true\n              }\n            ],\n            'argument-name': {\n              pattern: /([(,]\\s*)\\b[a-z_]\\w*(?=\\s*:(?!:))/i,\n              lookbehind: true\n            },\n            'class-name': [\n              {\n                pattern: /(\\b(?:extends|implements|instanceof|new(?!\\s+self|\\s+static))\\s+|\\bcatch\\s*\\()\\b[a-z_]\\w*(?!\\\\)\\b/i,\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /(\\|\\s*)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /\\b[a-z_]\\w*(?!\\\\)\\b(?=\\s*\\|)/i,\n                greedy: true\n              },\n              {\n                pattern: /(\\|\\s*)(?:\\\\?\\b[a-z_]\\w*)+\\b/i,\n                alias: 'class-name-fully-qualified',\n                greedy: true,\n                lookbehind: true,\n                inside: { 'punctuation': /\\\\/ }\n              },\n              {\n                pattern: /(?:\\\\?\\b[a-z_]\\w*)+\\b(?=\\s*\\|)/i,\n                alias: 'class-name-fully-qualified',\n                greedy: true,\n                inside: { 'punctuation': /\\\\/ }\n              },\n              {\n                pattern: /(\\b(?:extends|implements|instanceof|new(?!\\s+self\\b|\\s+static\\b))\\s+|\\bcatch\\s*\\()(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n                alias: 'class-name-fully-qualified',\n                greedy: true,\n                lookbehind: true,\n                inside: { 'punctuation': /\\\\/ }\n              },\n              {\n                pattern: /\\b[a-z_]\\w*(?=\\s*\\$)/i,\n                alias: 'type-declaration',\n                greedy: true\n              },\n              {\n                pattern: /(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*\\$)/i,\n                alias: [\n                  'class-name-fully-qualified',\n                  'type-declaration'\n                ],\n                greedy: true,\n                inside: { 'punctuation': /\\\\/ }\n              },\n              {\n                pattern: /\\b[a-z_]\\w*(?=\\s*::)/i,\n                alias: 'static-context',\n                greedy: true\n              },\n              {\n                pattern: /(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*::)/i,\n                alias: [\n                  'class-name-fully-qualified',\n                  'static-context'\n                ],\n                greedy: true,\n                inside: { 'punctuation': /\\\\/ }\n              },\n              {\n                pattern: /([(,?]\\s*)[a-z_]\\w*(?=\\s*\\$)/i,\n                alias: 'type-hint',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /([(,?]\\s*)(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*\\$)/i,\n                alias: [\n                  'class-name-fully-qualified',\n                  'type-hint'\n                ],\n                greedy: true,\n                lookbehind: true,\n                inside: { 'punctuation': /\\\\/ }\n              },\n              {\n                pattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n                alias: 'return-type',\n                greedy: true,\n                lookbehind: true\n              },\n              {\n                pattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n                alias: [\n                  'class-name-fully-qualified',\n                  'return-type'\n                ],\n                greedy: true,\n                lookbehind: true,\n                inside: { 'punctuation': /\\\\/ }\n              }\n            ],\n            'constant': constant,\n            'function': {\n              pattern: /(^|[^\\\\\\w])\\\\?[a-z_](?:[\\w\\\\]*\\w)?(?=\\s*\\()/i,\n              lookbehind: true,\n              inside: { 'punctuation': /\\\\/ }\n            },\n            'property': {\n              pattern: /(->\\s*)\\w+/,\n              lookbehind: true\n            },\n            'number': number,\n            'operator': operator,\n            'punctuation': punctuation\n          };\n          var string_interpolation = {\n            pattern: /\\{\\$(?:\\{(?:\\{[^{}]+\\}|[^{}]+)\\}|[^{}])+\\}|(^|[^\\\\{])\\$+(?:\\w+(?:\\[[^\\r\\n\\[\\]]+\\]|->\\w+)?)/,\n            lookbehind: true,\n            inside: Prism.languages.php\n          };\n          var string = [\n            {\n              pattern: /<<<'([^']+)'[\\r\\n](?:.*[\\r\\n])*?\\1;/,\n              alias: 'nowdoc-string',\n              greedy: true,\n              inside: {\n                'delimiter': {\n                  pattern: /^<<<'[^']+'|[a-z_]\\w*;$/i,\n                  alias: 'symbol',\n                  inside: { 'punctuation': /^<<<'?|[';]$/ }\n                }\n              }\n            },\n            {\n              pattern: /<<<(?:\"([^\"]+)\"[\\r\\n](?:.*[\\r\\n])*?\\1;|([a-z_]\\w*)[\\r\\n](?:.*[\\r\\n])*?\\2;)/i,\n              alias: 'heredoc-string',\n              greedy: true,\n              inside: {\n                'delimiter': {\n                  pattern: /^<<<(?:\"[^\"]+\"|[a-z_]\\w*)|[a-z_]\\w*;$/i,\n                  alias: 'symbol',\n                  inside: { 'punctuation': /^<<<\"?|[\";]$/ }\n                },\n                'interpolation': string_interpolation\n              }\n            },\n            {\n              pattern: /`(?:\\\\[\\s\\S]|[^\\\\`])*`/,\n              alias: 'backtick-quoted-string',\n              greedy: true\n            },\n            {\n              pattern: /'(?:\\\\[\\s\\S]|[^\\\\'])*'/,\n              alias: 'single-quoted-string',\n              greedy: true\n            },\n            {\n              pattern: /\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"/,\n              alias: 'double-quoted-string',\n              greedy: true,\n              inside: { 'interpolation': string_interpolation }\n            }\n          ];\n          Prism.languages.insertBefore('php', 'variable', {\n            'string': string,\n            'attribute': {\n              pattern: /#\\[(?:[^\"'\\/#]|\\/(?![*/])|\\/\\/.*$|#(?!\\[).*$|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"|'(?:\\\\[\\s\\S]|[^\\\\'])*')+\\](?=\\s*[a-z$#])/im,\n              greedy: true,\n              inside: {\n                'attribute-content': {\n                  pattern: /^(#\\[)[\\s\\S]+(?=\\]$)/,\n                  lookbehind: true,\n                  inside: {\n                    'comment': comment,\n                    'string': string,\n                    'attribute-class-name': [\n                      {\n                        pattern: /([^:]|^)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n                        alias: 'class-name',\n                        greedy: true,\n                        lookbehind: true\n                      },\n                      {\n                        pattern: /([^:]|^)(?:\\\\?\\b[a-z_]\\w*)+/i,\n                        alias: [\n                          'class-name',\n                          'class-name-fully-qualified'\n                        ],\n                        greedy: true,\n                        lookbehind: true,\n                        inside: { 'punctuation': /\\\\/ }\n                      }\n                    ],\n                    'constant': constant,\n                    'number': number,\n                    'operator': operator,\n                    'punctuation': punctuation\n                  }\n                },\n                'delimiter': {\n                  pattern: /^#\\[|\\]$/,\n                  alias: 'punctuation'\n                }\n              }\n            }\n          });\n          Prism.hooks.add('before-tokenize', function (env) {\n            if (!/<\\?/.test(env.code)) {\n              return;\n            }\n            var phpPattern = /<\\?(?:[^\"'/#]|\\/(?![*/])|(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|(?:\\/\\/|#(?!\\[))(?:[^?\\n\\r]|\\?(?!>))*(?=$|\\?>|[\\r\\n])|#\\[|\\/\\*(?:[^*]|\\*(?!\\/))*(?:\\*\\/|$))*?(?:\\?>|$)/g;\n            Prism.languages['markup-templating'].buildPlaceholders(env, 'php', phpPattern);\n          });\n          Prism.hooks.add('after-tokenize', function (env) {\n            Prism.languages['markup-templating'].tokenizePlaceholders(env, 'php');\n          });\n        }(Prism));\n        Prism.languages.python = {\n          'comment': {\n            pattern: /(^|[^\\\\])#.*/,\n            lookbehind: true,\n            greedy: true\n          },\n          'string-interpolation': {\n            pattern: /(?:f|fr|rf)(?:(\"\"\"|''')[\\s\\S]*?\\1|(\"|')(?:\\\\.|(?!\\2)[^\\\\\\r\\n])*\\2)/i,\n            greedy: true,\n            inside: {\n              'interpolation': {\n                pattern: /((?:^|[^{])(?:\\{\\{)*)\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}])+\\})+\\})+\\}/,\n                lookbehind: true,\n                inside: {\n                  'format-spec': {\n                    pattern: /(:)[^:(){}]+(?=\\}$)/,\n                    lookbehind: true\n                  },\n                  'conversion-option': {\n                    pattern: /![sra](?=[:}]$)/,\n                    alias: 'punctuation'\n                  },\n                  rest: null\n                }\n              },\n              'string': /[\\s\\S]+/\n            }\n          },\n          'triple-quoted-string': {\n            pattern: /(?:[rub]|br|rb)?(\"\"\"|''')[\\s\\S]*?\\1/i,\n            greedy: true,\n            alias: 'string'\n          },\n          'string': {\n            pattern: /(?:[rub]|br|rb)?(\"|')(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/i,\n            greedy: true\n          },\n          'function': {\n            pattern: /((?:^|\\s)def[ \\t]+)[a-zA-Z_]\\w*(?=\\s*\\()/g,\n            lookbehind: true\n          },\n          'class-name': {\n            pattern: /(\\bclass\\s+)\\w+/i,\n            lookbehind: true\n          },\n          'decorator': {\n            pattern: /(^[\\t ]*)@\\w+(?:\\.\\w+)*/m,\n            lookbehind: true,\n            alias: [\n              'annotation',\n              'punctuation'\n            ],\n            inside: { 'punctuation': /\\./ }\n          },\n          'keyword': /\\b(?:_(?=\\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\\b/,\n          'builtin': /\\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\\b/,\n          'boolean': /\\b(?:False|None|True)\\b/,\n          'number': /\\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\\b|(?:\\b\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\B\\.\\d+(?:_\\d+)*)(?:e[+-]?\\d+(?:_\\d+)*)?j?(?!\\w)/i,\n          'operator': /[-+%=]=?|!=|:=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]/,\n          'punctuation': /[{}[\\];(),.:]/\n        };\n        Prism.languages.python['string-interpolation'].inside['interpolation'].inside.rest = Prism.languages.python;\n        Prism.languages.py = Prism.languages.python;\n        (function (Prism) {\n          Prism.languages.ruby = Prism.languages.extend('clike', {\n            'comment': {\n              pattern: /#.*|^=begin\\s[\\s\\S]*?^=end/m,\n              greedy: true\n            },\n            'class-name': {\n              pattern: /(\\b(?:class|module)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+|\\b[A-Z_]\\w*(?=\\s*\\.\\s*new\\b)/,\n              lookbehind: true,\n              inside: { 'punctuation': /[.\\\\]/ }\n            },\n            'keyword': /\\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\\b/,\n            'operator': /\\.{2,3}|&\\.|===|<?=>|[!=]?~|(?:&&|\\|\\||<<|>>|\\*\\*|[+\\-*/%<>!^&|=])=?|[?:]/,\n            'punctuation': /[(){}[\\].,;]/\n          });\n          Prism.languages.insertBefore('ruby', 'operator', {\n            'double-colon': {\n              pattern: /::/,\n              alias: 'punctuation'\n            }\n          });\n          var interpolation = {\n            pattern: /((?:^|[^\\\\])(?:\\\\{2})*)#\\{(?:[^{}]|\\{[^{}]*\\})*\\}/,\n            lookbehind: true,\n            inside: {\n              'content': {\n                pattern: /^(#\\{)[\\s\\S]+(?=\\}$)/,\n                lookbehind: true,\n                inside: Prism.languages.ruby\n              },\n              'delimiter': {\n                pattern: /^#\\{|\\}$/,\n                alias: 'punctuation'\n              }\n            }\n          };\n          delete Prism.languages.ruby.function;\n          var percentExpression = '(?:' + [\n            /([^a-zA-Z0-9\\s{(\\[<=])(?:(?!\\1)[^\\\\]|\\\\[\\s\\S])*\\1/.source,\n            /\\((?:[^()\\\\]|\\\\[\\s\\S]|\\((?:[^()\\\\]|\\\\[\\s\\S])*\\))*\\)/.source,\n            /\\{(?:[^{}\\\\]|\\\\[\\s\\S]|\\{(?:[^{}\\\\]|\\\\[\\s\\S])*\\})*\\}/.source,\n            /\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S]|\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\])*\\]/.source,\n            /<(?:[^<>\\\\]|\\\\[\\s\\S]|<(?:[^<>\\\\]|\\\\[\\s\\S])*>)*>/.source\n          ].join('|') + ')';\n          var symbolName = /(?:\"(?:\\\\.|[^\"\\\\\\r\\n])*\"|(?:\\b[a-zA-Z_]\\w*|[^\\s\\0-\\x7F]+)[?!]?|\\$.)/.source;\n          Prism.languages.insertBefore('ruby', 'keyword', {\n            'regex-literal': [\n              {\n                pattern: RegExp(/%r/.source + percentExpression + /[egimnosux]{0,6}/.source),\n                greedy: true,\n                inside: {\n                  'interpolation': interpolation,\n                  'regex': /[\\s\\S]+/\n                }\n              },\n              {\n                pattern: /(^|[^/])\\/(?!\\/)(?:\\[[^\\r\\n\\]]+\\]|\\\\.|[^[/\\\\\\r\\n])+\\/[egimnosux]{0,6}(?=\\s*(?:$|[\\r\\n,.;})#]))/,\n                lookbehind: true,\n                greedy: true,\n                inside: {\n                  'interpolation': interpolation,\n                  'regex': /[\\s\\S]+/\n                }\n              }\n            ],\n            'variable': /[@$]+[a-zA-Z_]\\w*(?:[?!]|\\b)/,\n            'symbol': [\n              {\n                pattern: RegExp(/(^|[^:]):/.source + symbolName),\n                lookbehind: true,\n                greedy: true\n              },\n              {\n                pattern: RegExp(/([\\r\\n{(,][ \\t]*)/.source + symbolName + /(?=:(?!:))/.source),\n                lookbehind: true,\n                greedy: true\n              }\n            ],\n            'method-definition': {\n              pattern: /(\\bdef\\s+)\\w+(?:\\s*\\.\\s*\\w+)?/,\n              lookbehind: true,\n              inside: {\n                'function': /\\b\\w+$/,\n                'keyword': /^self\\b/,\n                'class-name': /^\\w+/,\n                'punctuation': /\\./\n              }\n            }\n          });\n          Prism.languages.insertBefore('ruby', 'string', {\n            'string-literal': [\n              {\n                pattern: RegExp(/%[qQiIwWs]?/.source + percentExpression),\n                greedy: true,\n                inside: {\n                  'interpolation': interpolation,\n                  'string': /[\\s\\S]+/\n                }\n              },\n              {\n                pattern: /(\"|')(?:#\\{[^}]+\\}|#(?!\\{)|\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\#\\r\\n])*\\1/,\n                greedy: true,\n                inside: {\n                  'interpolation': interpolation,\n                  'string': /[\\s\\S]+/\n                }\n              },\n              {\n                pattern: /<<[-~]?([a-z_]\\w*)[\\r\\n](?:.*[\\r\\n])*?[\\t ]*\\1/i,\n                alias: 'heredoc-string',\n                greedy: true,\n                inside: {\n                  'delimiter': {\n                    pattern: /^<<[-~]?[a-z_]\\w*|\\b[a-z_]\\w*$/i,\n                    inside: {\n                      'symbol': /\\b\\w+/,\n                      'punctuation': /^<<[-~]?/\n                    }\n                  },\n                  'interpolation': interpolation,\n                  'string': /[\\s\\S]+/\n                }\n              },\n              {\n                pattern: /<<[-~]?'([a-z_]\\w*)'[\\r\\n](?:.*[\\r\\n])*?[\\t ]*\\1/i,\n                alias: 'heredoc-string',\n                greedy: true,\n                inside: {\n                  'delimiter': {\n                    pattern: /^<<[-~]?'[a-z_]\\w*'|\\b[a-z_]\\w*$/i,\n                    inside: {\n                      'symbol': /\\b\\w+/,\n                      'punctuation': /^<<[-~]?'|'$/\n                    }\n                  },\n                  'string': /[\\s\\S]+/\n                }\n              }\n            ],\n            'command-literal': [\n              {\n                pattern: RegExp(/%x/.source + percentExpression),\n                greedy: true,\n                inside: {\n                  'interpolation': interpolation,\n                  'command': {\n                    pattern: /[\\s\\S]+/,\n                    alias: 'string'\n                  }\n                }\n              },\n              {\n                pattern: /`(?:#\\{[^}]+\\}|#(?!\\{)|\\\\(?:\\r\\n|[\\s\\S])|[^\\\\`#\\r\\n])*`/,\n                greedy: true,\n                inside: {\n                  'interpolation': interpolation,\n                  'command': {\n                    pattern: /[\\s\\S]+/,\n                    alias: 'string'\n                  }\n                }\n              }\n            ]\n          });\n          delete Prism.languages.ruby.string;\n          Prism.languages.insertBefore('ruby', 'number', {\n            'builtin': /\\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\\b/,\n            'constant': /\\b[A-Z][A-Z0-9_]*(?:[?!]|\\b)/\n          });\n          Prism.languages.rb = Prism.languages.ruby;\n        }(Prism));\n        var Prism$1 = prismCore.exports;\n        var prismjs = { boltExport: Prism$1 };\n        return prismjs;\n      }));\n      var prism = window.Prism;\n      window.Prism = oldprism;\n      return prism;\n    }(undefined, exports$1, module));\n    var Prism$1 = module.exports.boltExport;\n\n    var getLanguages$1 = function (editor) {\n      return editor.getParam('codesample_languages');\n    };\n    var useGlobalPrismJS = function (editor) {\n      return editor.getParam('codesample_global_prismjs', false, 'boolean');\n    };\n\n    var get = function (editor) {\n      return Global.Prism && useGlobalPrismJS(editor) ? Global.Prism : Prism$1;\n    };\n\n    var getSelectedCodeSample = function (editor) {\n      var node = editor.selection ? editor.selection.getNode() : null;\n      return someIf(isCodeSample(node), node);\n    };\n    var insertCodeSample = function (editor, language, code) {\n      editor.undoManager.transact(function () {\n        var node = getSelectedCodeSample(editor);\n        code = global$1.DOM.encode(code);\n        return node.fold(function () {\n          editor.insertContent('<pre id=\"__new\" class=\"language-' + language + '\">' + code + '</pre>');\n          editor.selection.select(editor.$('#__new').removeAttr('id')[0]);\n        }, function (n) {\n          editor.dom.setAttrib(n, 'class', 'language-' + language);\n          n.innerHTML = code;\n          get(editor).highlightElement(n);\n          editor.selection.select(n);\n        });\n      });\n    };\n    var getCurrentCode = function (editor) {\n      var node = getSelectedCodeSample(editor);\n      return node.fold(constant(''), function (n) {\n        return n.textContent;\n      });\n    };\n\n    var getLanguages = function (editor) {\n      var defaultLanguages = [\n        {\n          text: 'HTML/XML',\n          value: 'markup'\n        },\n        {\n          text: 'JavaScript',\n          value: 'javascript'\n        },\n        {\n          text: 'CSS',\n          value: 'css'\n        },\n        {\n          text: 'PHP',\n          value: 'php'\n        },\n        {\n          text: 'Ruby',\n          value: 'ruby'\n        },\n        {\n          text: 'Python',\n          value: 'python'\n        },\n        {\n          text: 'Java',\n          value: 'java'\n        },\n        {\n          text: 'C',\n          value: 'c'\n        },\n        {\n          text: 'C#',\n          value: 'csharp'\n        },\n        {\n          text: 'C++',\n          value: 'cpp'\n        }\n      ];\n      var customLanguages = getLanguages$1(editor);\n      return customLanguages ? customLanguages : defaultLanguages;\n    };\n    var getCurrentLanguage = function (editor, fallback) {\n      var node = getSelectedCodeSample(editor);\n      return node.fold(function () {\n        return fallback;\n      }, function (n) {\n        var matches = n.className.match(/language-(\\w+)/);\n        return matches ? matches[1] : fallback;\n      });\n    };\n\n    var open = function (editor) {\n      var languages = getLanguages(editor);\n      var defaultLanguage = head(languages).fold(constant(''), function (l) {\n        return l.value;\n      });\n      var currentLanguage = getCurrentLanguage(editor, defaultLanguage);\n      var currentCode = getCurrentCode(editor);\n      editor.windowManager.open({\n        title: 'Insert/Edit Code Sample',\n        size: 'large',\n        body: {\n          type: 'panel',\n          items: [\n            {\n              type: 'selectbox',\n              name: 'language',\n              label: 'Language',\n              items: languages\n            },\n            {\n              type: 'textarea',\n              name: 'code',\n              label: 'Code view'\n            }\n          ]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: {\n          language: currentLanguage,\n          code: currentCode\n        },\n        onSubmit: function (api) {\n          var data = api.getData();\n          insertCodeSample(editor, data.language, data.code);\n          api.close();\n        }\n      });\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('codesample', function () {\n        var node = editor.selection.getNode();\n        if (editor.selection.isCollapsed() || isCodeSample(node)) {\n          open(editor);\n        } else {\n          editor.formatter.toggle('code');\n        }\n      });\n    };\n\n    var setup = function (editor) {\n      var $ = editor.$;\n      editor.on('PreProcess', function (e) {\n        $('pre[contenteditable=false]', e.node).filter(trimArg(isCodeSample)).each(function (idx, elm) {\n          var $elm = $(elm), code = elm.textContent;\n          $elm.attr('class', $.trim($elm.attr('class')));\n          $elm.removeAttr('contentEditable');\n          $elm.empty().append($('<code></code>').each(function () {\n            this.textContent = code;\n          }));\n        });\n      });\n      editor.on('SetContent', function () {\n        var unprocessedCodeSamples = $('pre').filter(trimArg(isCodeSample)).filter(function (idx, elm) {\n          return elm.contentEditable !== 'false';\n        });\n        if (unprocessedCodeSamples.length) {\n          editor.undoManager.transact(function () {\n            unprocessedCodeSamples.each(function (idx, elm) {\n              $(elm).find('br').each(function (idx, elm) {\n                elm.parentNode.replaceChild(editor.getDoc().createTextNode('\\n'), elm);\n              });\n              elm.contentEditable = 'false';\n              elm.innerHTML = editor.dom.encode(elm.textContent);\n              get(editor).highlightElement(elm);\n              elm.className = $.trim(elm.className);\n            });\n          });\n        }\n      });\n    };\n\n    var isCodeSampleSelection = function (editor) {\n      var node = editor.selection.getStart();\n      return editor.dom.is(node, 'pre[class*=\"language-\"]');\n    };\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('codesample');\n      };\n      editor.ui.registry.addToggleButton('codesample', {\n        icon: 'code-sample',\n        tooltip: 'Insert/edit code sample',\n        onAction: onAction,\n        onSetup: function (api) {\n          var nodeChangeHandler = function () {\n            api.setActive(isCodeSampleSelection(editor));\n          };\n          editor.on('NodeChange', nodeChangeHandler);\n          return function () {\n            return editor.off('NodeChange', nodeChangeHandler);\n          };\n        }\n      });\n      editor.ui.registry.addMenuItem('codesample', {\n        text: 'Code sample...',\n        icon: 'code-sample',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$2.add('codesample', function (editor) {\n        setup(editor);\n        register(editor);\n        register$1(editor);\n        editor.on('dblclick', function (ev) {\n          if (isCodeSample(ev.target)) {\n            open(editor);\n          }\n        });\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"directionality\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/directionality')\n//   ES2015:\n//     import 'tinymce/plugins/directionality'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType$1('string');\n    var isBoolean = isSimpleType('boolean');\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var is = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var name = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement = isType(ELEMENT);\n    var isText = isType(TEXT);\n    var isDocument = isType(DOCUMENT);\n    var isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    var isTag = function (tag) {\n      return function (e) {\n        return isElement(e) && name(e) === tag;\n      };\n    };\n\n    var owner = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument(dos) ? dos : owner(dos);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var children$2 = function (element) {\n      return map(element.dom.childNodes, SugarElement.fromDom);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var remove = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n\n    var inBody = function (element) {\n      var dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n\n    var ancestor$1 = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n\n    var ancestor = function (scope, selector, isRoot) {\n      return ancestor$1(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var get = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n\n    var getDirection = function (element) {\n      return get(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n    };\n\n    var children$1 = function (scope, predicate) {\n      return filter(children$2(scope), predicate);\n    };\n\n    var children = function (scope, selector) {\n      return children$1(scope, function (e) {\n        return is(e, selector);\n      });\n    };\n\n    var getParentElement = function (element) {\n      return parent(element).filter(isElement);\n    };\n    var getNormalizedBlock = function (element, isListItem) {\n      var normalizedElement = isListItem ? ancestor(element, 'ol,ul') : Optional.some(element);\n      return normalizedElement.getOr(element);\n    };\n    var isListItem = isTag('li');\n    var setDir = function (editor, dir) {\n      var selectedBlocks = editor.selection.getSelectedBlocks();\n      if (selectedBlocks.length > 0) {\n        each(selectedBlocks, function (block) {\n          var blockElement = SugarElement.fromDom(block);\n          var isBlockElementListItem = isListItem(blockElement);\n          var normalizedBlock = getNormalizedBlock(blockElement, isBlockElementListItem);\n          var normalizedBlockParent = getParentElement(normalizedBlock);\n          normalizedBlockParent.each(function (parent) {\n            var parentDirection = getDirection(parent);\n            if (parentDirection !== dir) {\n              set(normalizedBlock, 'dir', dir);\n            } else if (getDirection(normalizedBlock) !== dir) {\n              remove(normalizedBlock, 'dir');\n            }\n            if (isBlockElementListItem) {\n              var listItems = children(normalizedBlock, 'li[dir]');\n              each(listItems, function (listItem) {\n                return remove(listItem, 'dir');\n              });\n            }\n          });\n        });\n        editor.nodeChanged();\n      }\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceDirectionLTR', function () {\n        setDir(editor, 'ltr');\n      });\n      editor.addCommand('mceDirectionRTL', function () {\n        setDir(editor, 'rtl');\n      });\n    };\n\n    var getNodeChangeHandler = function (editor, dir) {\n      return function (api) {\n        var nodeChangeHandler = function (e) {\n          var element = SugarElement.fromDom(e.element);\n          api.setActive(getDirection(element) === dir);\n        };\n        editor.on('NodeChange', nodeChangeHandler);\n        return function () {\n          return editor.off('NodeChange', nodeChangeHandler);\n        };\n      };\n    };\n    var register = function (editor) {\n      editor.ui.registry.addToggleButton('ltr', {\n        tooltip: 'Left to right',\n        icon: 'ltr',\n        onAction: function () {\n          return editor.execCommand('mceDirectionLTR');\n        },\n        onSetup: getNodeChangeHandler(editor, 'ltr')\n      });\n      editor.ui.registry.addToggleButton('rtl', {\n        tooltip: 'Right to left',\n        icon: 'rtl',\n        onAction: function () {\n          return editor.execCommand('mceDirectionRTL');\n        },\n        onSetup: getNodeChangeHandler(editor, 'rtl')\n      });\n    };\n\n    function Plugin () {\n      global.add('directionality', function (editor) {\n        register$1(editor);\n        register(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"fullscreen\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/fullscreen')\n//   ES2015:\n//     import 'tinymce/plugins/fullscreen'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var get$5 = function (fullscreenState) {\n      return {\n        isFullscreen: function () {\n          return fullscreenState.get() !== null;\n        }\n      };\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType$1('string');\n    var isArray = isType$1('array');\n    var isBoolean = isSimpleType('boolean');\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var unbindable = function () {\n      return singleton(function (s) {\n        return s.unbind();\n      });\n    };\n    var value = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var nativePush = Array.prototype.push;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter$1 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find$1 = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind$3 = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var get$4 = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$4(xs, 0);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var keys = Object.keys;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n\n    var contains = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n\n    var isSupported$1 = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement = isType(ELEMENT);\n    var isText = isType(TEXT);\n    var isDocument = isType(DOCUMENT);\n    var isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$2(group(1), group(2));\n    };\n    var detect$3 = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find(versionRegexes, cleanedAgent);\n    };\n    var unknown$2 = function () {\n      return nu$2(0, 0);\n    };\n    var nu$2 = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$2,\n      detect: detect$3,\n      unknown: unknown$2\n    };\n\n    var detectBrowser$1 = function (browsers, userAgentData) {\n      return findMap(userAgentData.brands, function (uaBrand) {\n        var lcBrand = uaBrand.brand.toLowerCase();\n        return find$1(browsers, function (browser) {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(function (info) {\n          return {\n            current: info.name,\n            version: Version.nu(parseInt(uaBrand.version, 10), 0)\n          };\n        });\n      });\n    };\n\n    var detect$2 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find$1(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$2(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$2(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains(uastring, 'edge/') && contains(uastring, 'chrome') && contains(uastring, 'safari') && contains(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains(uastring, 'chrome') && !contains(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains(uastring, 'msie') || contains(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains(uastring, 'safari') || contains(uastring, 'mobile/')) && contains(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains(uastring, 'iphone') || contains(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$1 = function () {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$1 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown = function () {\n      return nu({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown,\n      nu: nu,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    var detect$1 = function (userAgent, userAgentDataOpt, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = userAgentDataOpt.bind(function (userAgentData) {\n        return detectBrowser$1(browsers, userAgentData);\n      }).orThunk(function () {\n        return detectBrowser(browsers, userAgent);\n      }).fold(Browser.unknown, Browser.nu);\n      var os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$1 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch);\n    });\n    var detect = function () {\n      return platform();\n    };\n\n    var is = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all$1 = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n\n    var owner = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument(dos) ? dos : owner(dos);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var parents = function (element, isRoot) {\n      var stop = isFunction(isRoot) ? isRoot : never;\n      var dom = element.dom;\n      var ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        var rawParent = dom.parentNode;\n        var p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    var siblings$2 = function (element) {\n      var filterSelf = function (elements) {\n        return filter$1(elements, function (x) {\n          return !eq(element, x);\n        });\n      };\n      return parent(element).map(children).map(filterSelf).getOr([]);\n    };\n    var children = function (element) {\n      return map(element.dom.childNodes, SugarElement.fromDom);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var isSupported = constant(supported);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n    var getOriginalEventTarget = function (event) {\n      if (isSupported() && isNonNullable(event.target)) {\n        var el = SugarElement.fromDom(event.target);\n        if (isElement(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            var composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    var isOpenShadowHost = function (element) {\n      return isNonNullable(element.dom.shadowRoot);\n    };\n\n    var inBody = function (element) {\n      var dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n    var getBody = function (doc) {\n      var b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var get$3 = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var remove = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var setAll = function (element, css) {\n      var dom = element.dom;\n      each(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var get$2 = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n\n    var mkEvent = function (target, x, y, stop, prevent, kill, raw) {\n      return {\n        target: target,\n        x: x,\n        y: y,\n        stop: stop,\n        prevent: prevent,\n        kill: kill,\n        raw: raw\n      };\n    };\n    var fromRawEvent = function (rawEvent) {\n      var target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      var stop = function () {\n        return rawEvent.stopPropagation();\n      };\n      var prevent = function () {\n        return rawEvent.preventDefault();\n      };\n      var kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    var handle = function (filter, handler) {\n      return function (rawEvent) {\n        if (filter(rawEvent)) {\n          handler(fromRawEvent(rawEvent));\n        }\n      };\n    };\n    var binder = function (element, event, filter, handler, useCapture) {\n      var wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    var bind$2 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, false);\n    };\n    var unbind = function (element, event, handler, useCapture) {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    var filter = always;\n    var bind$1 = function (element, event, handler) {\n      return bind$2(element, event, filter, handler);\n    };\n\n    var r = function (left, top) {\n      var translate = function (x, y) {\n        return r(left + x, top + y);\n      };\n      return {\n        left: left,\n        top: top,\n        translate: translate\n      };\n    };\n    var SugarPosition = r;\n\n    var get$1 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n\n    var get = function (_win) {\n      var win = _win === undefined ? window : _win;\n      if (detect().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win['visualViewport']);\n      }\n    };\n    var bounds = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var getBounds = function (_win) {\n      var win = _win === undefined ? window : _win;\n      var doc = win.document;\n      var scroll = get$1(SugarElement.fromDom(doc));\n      return get(win).fold(function () {\n        var html = win.document.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds(scroll.left, scroll.top, width, height);\n      }, function (visualViewport) {\n        return bounds(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height);\n      });\n    };\n    var bind = function (name, callback, _win) {\n      return get(_win).map(function (visualViewport) {\n        var handler = function (e) {\n          return callback(fromRawEvent(e));\n        };\n        visualViewport.addEventListener(name, handler);\n        return {\n          unbind: function () {\n            return visualViewport.removeEventListener(name, handler);\n          }\n        };\n      }).getOrThunk(function () {\n        return { unbind: noop };\n      });\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var fireFullscreenStateChanged = function (editor, state) {\n      editor.fire('FullscreenStateChanged', { state: state });\n      editor.fire('ResizeEditor');\n    };\n\n    var getFullscreenNative = function (editor) {\n      return editor.getParam('fullscreen_native', false, 'boolean');\n    };\n\n    var getFullscreenRoot = function (editor) {\n      var elem = SugarElement.fromDom(editor.getElement());\n      return getShadowRoot(elem).map(getShadowHost).getOrThunk(function () {\n        return getBody(owner(elem));\n      });\n    };\n    var getFullscreenElement = function (root) {\n      if (root.fullscreenElement !== undefined) {\n        return root.fullscreenElement;\n      } else if (root.msFullscreenElement !== undefined) {\n        return root.msFullscreenElement;\n      } else if (root.webkitFullscreenElement !== undefined) {\n        return root.webkitFullscreenElement;\n      } else {\n        return null;\n      }\n    };\n    var getFullscreenchangeEventName = function () {\n      if (document.fullscreenElement !== undefined) {\n        return 'fullscreenchange';\n      } else if (document.msFullscreenElement !== undefined) {\n        return 'MSFullscreenChange';\n      } else if (document.webkitFullscreenElement !== undefined) {\n        return 'webkitfullscreenchange';\n      } else {\n        return 'fullscreenchange';\n      }\n    };\n    var requestFullscreen = function (sugarElem) {\n      var elem = sugarElem.dom;\n      if (elem.requestFullscreen) {\n        elem.requestFullscreen();\n      } else if (elem.msRequestFullscreen) {\n        elem.msRequestFullscreen();\n      } else if (elem.webkitRequestFullScreen) {\n        elem.webkitRequestFullScreen();\n      }\n    };\n    var exitFullscreen = function (sugarDoc) {\n      var doc = sugarDoc.dom;\n      if (doc.exitFullscreen) {\n        doc.exitFullscreen();\n      } else if (doc.msExitFullscreen) {\n        doc.msExitFullscreen();\n      } else if (doc.webkitCancelFullScreen) {\n        doc.webkitCancelFullScreen();\n      }\n    };\n    var isFullscreenElement = function (elem) {\n      return elem.dom === getFullscreenElement(owner(elem).dom);\n    };\n\n    var ancestors$1 = function (scope, predicate, isRoot) {\n      return filter$1(parents(scope, isRoot), predicate);\n    };\n    var siblings$1 = function (scope, predicate) {\n      return filter$1(siblings$2(scope), predicate);\n    };\n\n    var all = function (selector) {\n      return all$1(selector);\n    };\n    var ancestors = function (scope, selector, isRoot) {\n      return ancestors$1(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n    var siblings = function (scope, selector) {\n      return siblings$1(scope, function (e) {\n        return is(e, selector);\n      });\n    };\n\n    var attr = 'data-ephox-mobile-fullscreen-style';\n    var siblingStyles = 'display:none!important;';\n    var ancestorPosition = 'position:absolute!important;';\n    var ancestorStyles = 'top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;';\n    var bgFallback = 'background-color:rgb(255,255,255)!important;';\n    var isAndroid = global$1.os.isAndroid();\n    var matchColor = function (editorBody) {\n      var color = get$2(editorBody, 'background-color');\n      return color !== undefined && color !== '' ? 'background-color:' + color + '!important' : bgFallback;\n    };\n    var clobberStyles = function (dom, container, editorBody) {\n      var gatherSiblings = function (element) {\n        return siblings(element, '*:not(.tox-silver-sink)');\n      };\n      var clobber = function (clobberStyle) {\n        return function (element) {\n          var styles = get$3(element, 'style');\n          var backup = styles === undefined ? 'no-styles' : styles.trim();\n          if (backup === clobberStyle) {\n            return;\n          } else {\n            set(element, attr, backup);\n            setAll(element, dom.parseStyle(clobberStyle));\n          }\n        };\n      };\n      var ancestors$1 = ancestors(container, '*');\n      var siblings$1 = bind$3(ancestors$1, gatherSiblings);\n      var bgColor = matchColor(editorBody);\n      each$1(siblings$1, clobber(siblingStyles));\n      each$1(ancestors$1, clobber(ancestorPosition + ancestorStyles + bgColor));\n      var containerStyles = isAndroid === true ? '' : ancestorPosition;\n      clobber(containerStyles + ancestorStyles + bgColor)(container);\n    };\n    var restoreStyles = function (dom) {\n      var clobberedEls = all('[' + attr + ']');\n      each$1(clobberedEls, function (element) {\n        var restore = get$3(element, attr);\n        if (restore !== 'no-styles') {\n          setAll(element, dom.parseStyle(restore));\n        } else {\n          remove(element, 'style');\n        }\n        remove(element, attr);\n      });\n    };\n\n    var DOM = global$2.DOM;\n    var getScrollPos = function () {\n      return getBounds(window);\n    };\n    var setScrollPos = function (pos) {\n      return window.scrollTo(pos.x, pos.y);\n    };\n    var viewportUpdate = get().fold(function () {\n      return {\n        bind: noop,\n        unbind: noop\n      };\n    }, function (visualViewport) {\n      var editorContainer = value();\n      var resizeBinder = unbindable();\n      var scrollBinder = unbindable();\n      var refreshScroll = function () {\n        document.body.scrollTop = 0;\n        document.documentElement.scrollTop = 0;\n      };\n      var refreshVisualViewport = function () {\n        window.requestAnimationFrame(function () {\n          editorContainer.on(function (container) {\n            return setAll(container, {\n              top: visualViewport.offsetTop + 'px',\n              left: visualViewport.offsetLeft + 'px',\n              height: visualViewport.height + 'px',\n              width: visualViewport.width + 'px'\n            });\n          });\n        });\n      };\n      var update = global.throttle(function () {\n        refreshScroll();\n        refreshVisualViewport();\n      }, 50);\n      var bind$1 = function (element) {\n        editorContainer.set(element);\n        update();\n        resizeBinder.set(bind('resize', update));\n        scrollBinder.set(bind('scroll', update));\n      };\n      var unbind = function () {\n        editorContainer.on(function () {\n          resizeBinder.clear();\n          scrollBinder.clear();\n        });\n        editorContainer.clear();\n      };\n      return {\n        bind: bind$1,\n        unbind: unbind\n      };\n    });\n    var toggleFullscreen = function (editor, fullscreenState) {\n      var body = document.body;\n      var documentElement = document.documentElement;\n      var editorContainer = editor.getContainer();\n      var editorContainerS = SugarElement.fromDom(editorContainer);\n      var fullscreenRoot = getFullscreenRoot(editor);\n      var fullscreenInfo = fullscreenState.get();\n      var editorBody = SugarElement.fromDom(editor.getBody());\n      var isTouch = global$1.deviceType.isTouch();\n      var editorContainerStyle = editorContainer.style;\n      var iframe = editor.iframeElement;\n      var iframeStyle = iframe.style;\n      var handleClasses = function (handler) {\n        handler(body, 'tox-fullscreen');\n        handler(documentElement, 'tox-fullscreen');\n        handler(editorContainer, 'tox-fullscreen');\n        getShadowRoot(editorContainerS).map(function (root) {\n          return getShadowHost(root).dom;\n        }).each(function (host) {\n          handler(host, 'tox-fullscreen');\n          handler(host, 'tox-shadowhost');\n        });\n      };\n      var cleanup = function () {\n        if (isTouch) {\n          restoreStyles(editor.dom);\n        }\n        handleClasses(DOM.removeClass);\n        viewportUpdate.unbind();\n        Optional.from(fullscreenState.get()).each(function (info) {\n          return info.fullscreenChangeHandler.unbind();\n        });\n      };\n      if (!fullscreenInfo) {\n        var fullscreenChangeHandler = bind$1(owner(fullscreenRoot), getFullscreenchangeEventName(), function (_evt) {\n          if (getFullscreenNative(editor)) {\n            if (!isFullscreenElement(fullscreenRoot) && fullscreenState.get() !== null) {\n              toggleFullscreen(editor, fullscreenState);\n            }\n          }\n        });\n        var newFullScreenInfo = {\n          scrollPos: getScrollPos(),\n          containerWidth: editorContainerStyle.width,\n          containerHeight: editorContainerStyle.height,\n          containerTop: editorContainerStyle.top,\n          containerLeft: editorContainerStyle.left,\n          iframeWidth: iframeStyle.width,\n          iframeHeight: iframeStyle.height,\n          fullscreenChangeHandler: fullscreenChangeHandler\n        };\n        if (isTouch) {\n          clobberStyles(editor.dom, editorContainerS, editorBody);\n        }\n        iframeStyle.width = iframeStyle.height = '100%';\n        editorContainerStyle.width = editorContainerStyle.height = '';\n        handleClasses(DOM.addClass);\n        viewportUpdate.bind(editorContainerS);\n        editor.on('remove', cleanup);\n        fullscreenState.set(newFullScreenInfo);\n        if (getFullscreenNative(editor)) {\n          requestFullscreen(fullscreenRoot);\n        }\n        fireFullscreenStateChanged(editor, true);\n      } else {\n        fullscreenInfo.fullscreenChangeHandler.unbind();\n        if (getFullscreenNative(editor) && isFullscreenElement(fullscreenRoot)) {\n          exitFullscreen(owner(fullscreenRoot));\n        }\n        iframeStyle.width = fullscreenInfo.iframeWidth;\n        iframeStyle.height = fullscreenInfo.iframeHeight;\n        editorContainerStyle.width = fullscreenInfo.containerWidth;\n        editorContainerStyle.height = fullscreenInfo.containerHeight;\n        editorContainerStyle.top = fullscreenInfo.containerTop;\n        editorContainerStyle.left = fullscreenInfo.containerLeft;\n        cleanup();\n        setScrollPos(fullscreenInfo.scrollPos);\n        fullscreenState.set(null);\n        fireFullscreenStateChanged(editor, false);\n        editor.off('remove', cleanup);\n      }\n    };\n\n    var register$1 = function (editor, fullscreenState) {\n      editor.addCommand('mceFullScreen', function () {\n        toggleFullscreen(editor, fullscreenState);\n      });\n    };\n\n    var makeSetupHandler = function (editor, fullscreenState) {\n      return function (api) {\n        api.setActive(fullscreenState.get() !== null);\n        var editorEventCallback = function (e) {\n          return api.setActive(e.state);\n        };\n        editor.on('FullscreenStateChanged', editorEventCallback);\n        return function () {\n          return editor.off('FullscreenStateChanged', editorEventCallback);\n        };\n      };\n    };\n    var register = function (editor, fullscreenState) {\n      var onAction = function () {\n        return editor.execCommand('mceFullScreen');\n      };\n      editor.ui.registry.addToggleMenuItem('fullscreen', {\n        text: 'Fullscreen',\n        icon: 'fullscreen',\n        shortcut: 'Meta+Shift+F',\n        onAction: onAction,\n        onSetup: makeSetupHandler(editor, fullscreenState)\n      });\n      editor.ui.registry.addToggleButton('fullscreen', {\n        tooltip: 'Fullscreen',\n        icon: 'fullscreen',\n        onAction: onAction,\n        onSetup: makeSetupHandler(editor, fullscreenState)\n      });\n    };\n\n    function Plugin () {\n      global$3.add('fullscreen', function (editor) {\n        var fullscreenState = Cell(null);\n        if (editor.inline) {\n          return get$5(fullscreenState);\n        }\n        register$1(editor, fullscreenState);\n        register(editor, fullscreenState);\n        editor.addShortcut('Meta+Shift+F', '', 'mceFullScreen');\n        return get$5(fullscreenState);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"hr\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/hr')\n//   ES2015:\n//     import 'tinymce/plugins/hr'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var register$1 = function (editor) {\n      editor.addCommand('InsertHorizontalRule', function () {\n        editor.execCommand('mceInsertContent', false, '<hr />');\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('InsertHorizontalRule');\n      };\n      editor.ui.registry.addButton('hr', {\n        icon: 'horizontal-rule',\n        tooltip: 'Horizontal line',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('hr', {\n        icon: 'horizontal-rule',\n        text: 'Horizontal line',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global.add('hr', function (editor) {\n        register$1(editor);\n        register(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"insertdatetime\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/insertdatetime')\n//   ES2015:\n//     import 'tinymce/plugins/insertdatetime'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var getDateFormat = function (editor) {\n      return editor.getParam('insertdatetime_dateformat', editor.translate('%Y-%m-%d'));\n    };\n    var getTimeFormat = function (editor) {\n      return editor.getParam('insertdatetime_timeformat', editor.translate('%H:%M:%S'));\n    };\n    var getFormats = function (editor) {\n      return editor.getParam('insertdatetime_formats', [\n        '%H:%M:%S',\n        '%Y-%m-%d',\n        '%I:%M:%S %p',\n        '%D'\n      ]);\n    };\n    var getDefaultDateTime = function (editor) {\n      var formats = getFormats(editor);\n      return formats.length > 0 ? formats[0] : getTimeFormat(editor);\n    };\n    var shouldInsertTimeElement = function (editor) {\n      return editor.getParam('insertdatetime_element', false);\n    };\n\n    var daysShort = 'Sun Mon Tue Wed Thu Fri Sat Sun'.split(' ');\n    var daysLong = 'Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday'.split(' ');\n    var monthsShort = 'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec'.split(' ');\n    var monthsLong = 'January February March April May June July August September October November December'.split(' ');\n    var addZeros = function (value, len) {\n      value = '' + value;\n      if (value.length < len) {\n        for (var i = 0; i < len - value.length; i++) {\n          value = '0' + value;\n        }\n      }\n      return value;\n    };\n    var getDateTime = function (editor, fmt, date) {\n      if (date === void 0) {\n        date = new Date();\n      }\n      fmt = fmt.replace('%D', '%m/%d/%Y');\n      fmt = fmt.replace('%r', '%I:%M:%S %p');\n      fmt = fmt.replace('%Y', '' + date.getFullYear());\n      fmt = fmt.replace('%y', '' + date.getYear());\n      fmt = fmt.replace('%m', addZeros(date.getMonth() + 1, 2));\n      fmt = fmt.replace('%d', addZeros(date.getDate(), 2));\n      fmt = fmt.replace('%H', '' + addZeros(date.getHours(), 2));\n      fmt = fmt.replace('%M', '' + addZeros(date.getMinutes(), 2));\n      fmt = fmt.replace('%S', '' + addZeros(date.getSeconds(), 2));\n      fmt = fmt.replace('%I', '' + ((date.getHours() + 11) % 12 + 1));\n      fmt = fmt.replace('%p', '' + (date.getHours() < 12 ? 'AM' : 'PM'));\n      fmt = fmt.replace('%B', '' + editor.translate(monthsLong[date.getMonth()]));\n      fmt = fmt.replace('%b', '' + editor.translate(monthsShort[date.getMonth()]));\n      fmt = fmt.replace('%A', '' + editor.translate(daysLong[date.getDay()]));\n      fmt = fmt.replace('%a', '' + editor.translate(daysShort[date.getDay()]));\n      fmt = fmt.replace('%%', '%');\n      return fmt;\n    };\n    var updateElement = function (editor, timeElm, computerTime, userTime) {\n      var newTimeElm = editor.dom.create('time', { datetime: computerTime }, userTime);\n      timeElm.parentNode.insertBefore(newTimeElm, timeElm);\n      editor.dom.remove(timeElm);\n      editor.selection.select(newTimeElm, true);\n      editor.selection.collapse(false);\n    };\n    var insertDateTime = function (editor, format) {\n      if (shouldInsertTimeElement(editor)) {\n        var userTime = getDateTime(editor, format);\n        var computerTime = void 0;\n        if (/%[HMSIp]/.test(format)) {\n          computerTime = getDateTime(editor, '%Y-%m-%dT%H:%M');\n        } else {\n          computerTime = getDateTime(editor, '%Y-%m-%d');\n        }\n        var timeElm = editor.dom.getParent(editor.selection.getStart(), 'time');\n        if (timeElm) {\n          updateElement(editor, timeElm, computerTime, userTime);\n        } else {\n          editor.insertContent('<time datetime=\"' + computerTime + '\">' + userTime + '</time>');\n        }\n      } else {\n        editor.insertContent(getDateTime(editor, format));\n      }\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceInsertDate', function (_ui, value) {\n        insertDateTime(editor, value !== null && value !== void 0 ? value : getDateFormat(editor));\n      });\n      editor.addCommand('mceInsertTime', function (_ui, value) {\n        insertDateTime(editor, value !== null && value !== void 0 ? value : getTimeFormat(editor));\n      });\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var register = function (editor) {\n      var formats = getFormats(editor);\n      var defaultFormat = Cell(getDefaultDateTime(editor));\n      var insertDateTime = function (format) {\n        return editor.execCommand('mceInsertDate', false, format);\n      };\n      editor.ui.registry.addSplitButton('insertdatetime', {\n        icon: 'insert-time',\n        tooltip: 'Insert date/time',\n        select: function (value) {\n          return value === defaultFormat.get();\n        },\n        fetch: function (done) {\n          done(global.map(formats, function (format) {\n            return {\n              type: 'choiceitem',\n              text: getDateTime(editor, format),\n              value: format\n            };\n          }));\n        },\n        onAction: function (_api) {\n          insertDateTime(defaultFormat.get());\n        },\n        onItemAction: function (_api, value) {\n          defaultFormat.set(value);\n          insertDateTime(value);\n        }\n      });\n      var makeMenuItemHandler = function (format) {\n        return function () {\n          defaultFormat.set(format);\n          insertDateTime(format);\n        };\n      };\n      editor.ui.registry.addNestedMenuItem('insertdatetime', {\n        icon: 'insert-time',\n        text: 'Date/time',\n        getSubmenuItems: function () {\n          return global.map(formats, function (format) {\n            return {\n              type: 'menuitem',\n              text: getDateTime(editor, format),\n              onAction: makeMenuItemHandler(format)\n            };\n          });\n        }\n      });\n    };\n\n    function Plugin () {\n      global$1.add('insertdatetime', function (editor) {\n        register$1(editor);\n        register(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"link\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/link')\n//   ES2015:\n//     import 'tinymce/plugins/link'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString = isType('string');\n    var isArray = isType('array');\n    var isNull = eq(null);\n    var isBoolean = isSimpleType('boolean');\n    var isFunction = isSimpleType('function');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var tripleEquals = function (a, b) {\n      return a === b;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var contains = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var foldl = function (xs, f, acc) {\n      each$1(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var is = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lhs.exists(function (left) {\n        return comparator(left, rhs);\n      });\n    };\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var assumeExternalTargets = function (editor) {\n      var externalTargets = editor.getParam('link_assume_external_targets', false);\n      if (isBoolean(externalTargets) && externalTargets) {\n        return 1;\n      } else if (isString(externalTargets) && (externalTargets === 'http' || externalTargets === 'https')) {\n        return externalTargets;\n      }\n      return 0;\n    };\n    var hasContextToolbar = function (editor) {\n      return editor.getParam('link_context_toolbar', false, 'boolean');\n    };\n    var getLinkList = function (editor) {\n      return editor.getParam('link_list');\n    };\n    var getDefaultLinkTarget = function (editor) {\n      return editor.getParam('default_link_target');\n    };\n    var getTargetList = function (editor) {\n      return editor.getParam('target_list', true);\n    };\n    var getRelList = function (editor) {\n      return editor.getParam('rel_list', [], 'array');\n    };\n    var getLinkClassList = function (editor) {\n      return editor.getParam('link_class_list', [], 'array');\n    };\n    var shouldShowLinkTitle = function (editor) {\n      return editor.getParam('link_title', true, 'boolean');\n    };\n    var allowUnsafeLinkTarget = function (editor) {\n      return editor.getParam('allow_unsafe_link_target', false, 'boolean');\n    };\n    var useQuickLink = function (editor) {\n      return editor.getParam('link_quicklink', false, 'boolean');\n    };\n    var getDefaultLinkProtocol = function (editor) {\n      return editor.getParam('link_default_protocol', 'http', 'string');\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getValue = function (item) {\n      return isString(item.value) ? item.value : '';\n    };\n    var getText = function (item) {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    var sanitizeList = function (list, extractValue) {\n      var out = [];\n      global$5.each(list, function (item) {\n        var text = getText(item);\n        if (item.menu !== undefined) {\n          var items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text: text,\n            items: items\n          });\n        } else {\n          var value = extractValue(item);\n          out.push({\n            text: text,\n            value: value\n          });\n        }\n      });\n      return out;\n    };\n    var sanitizeWith = function (extracter) {\n      if (extracter === void 0) {\n        extracter = getValue;\n      }\n      return function (list) {\n        return Optional.from(list).map(function (list) {\n          return sanitizeList(list, extracter);\n        });\n      };\n    };\n    var sanitize = function (list) {\n      return sanitizeWith(getValue)(list);\n    };\n    var createUi = function (name, label) {\n      return function (items) {\n        return {\n          name: name,\n          type: 'listbox',\n          label: label,\n          items: items\n        };\n      };\n    };\n    var ListOptions = {\n      sanitize: sanitize,\n      sanitizeWith: sanitizeWith,\n      createUi: createUi,\n      getValue: getValue\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var filter = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n    var hasNonNullableKey = function (obj, key) {\n      return has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var isAnchor = function (elm) {\n      return elm && elm.nodeName.toLowerCase() === 'a';\n    };\n    var isLink = function (elm) {\n      return isAnchor(elm) && !!getHref(elm);\n    };\n    var collectNodesInRange = function (rng, predicate) {\n      if (rng.collapsed) {\n        return [];\n      } else {\n        var contents = rng.cloneContents();\n        var walker = new global$4(contents.firstChild, contents);\n        var elements = [];\n        var current = contents.firstChild;\n        do {\n          if (predicate(current)) {\n            elements.push(current);\n          }\n        } while (current = walker.next());\n        return elements;\n      }\n    };\n    var hasProtocol = function (url) {\n      return /^\\w+:/i.test(url);\n    };\n    var getHref = function (elm) {\n      var href = elm.getAttribute('data-mce-href');\n      return href ? href : elm.getAttribute('href');\n    };\n    var applyRelTargetRules = function (rel, isUnsafe) {\n      var rules = ['noopener'];\n      var rels = rel ? rel.split(/\\s+/) : [];\n      var toString = function (rels) {\n        return global$5.trim(rels.sort().join(' '));\n      };\n      var addTargetRules = function (rels) {\n        rels = removeTargetRules(rels);\n        return rels.length > 0 ? rels.concat(rules) : rules;\n      };\n      var removeTargetRules = function (rels) {\n        return rels.filter(function (val) {\n          return global$5.inArray(rules, val) === -1;\n        });\n      };\n      var newRels = isUnsafe ? addTargetRules(rels) : removeTargetRules(rels);\n      return newRels.length > 0 ? toString(newRels) : '';\n    };\n    var trimCaretContainers = function (text) {\n      return text.replace(/\\uFEFF/g, '');\n    };\n    var getAnchorElement = function (editor, selectedElm) {\n      selectedElm = selectedElm || editor.selection.getNode();\n      if (isImageFigure(selectedElm)) {\n        return editor.dom.select('a[href]', selectedElm)[0];\n      } else {\n        return editor.dom.getParent(selectedElm, 'a[href]');\n      }\n    };\n    var getAnchorText = function (selection, anchorElm) {\n      var text = anchorElm ? anchorElm.innerText || anchorElm.textContent : selection.getContent({ format: 'text' });\n      return trimCaretContainers(text);\n    };\n    var hasLinks = function (elements) {\n      return global$5.grep(elements, isLink).length > 0;\n    };\n    var hasLinksInSelection = function (rng) {\n      return collectNodesInRange(rng, isLink).length > 0;\n    };\n    var isOnlyTextSelected = function (editor) {\n      var inlineTextElements = editor.schema.getTextInlineElements();\n      var isElement = function (elm) {\n        return elm.nodeType === 1 && !isAnchor(elm) && !has(inlineTextElements, elm.nodeName.toLowerCase());\n      };\n      var elements = collectNodesInRange(editor.selection.getRng(), isElement);\n      return elements.length === 0;\n    };\n    var isImageFigure = function (elm) {\n      return elm && elm.nodeName === 'FIGURE' && /\\bimage\\b/i.test(elm.className);\n    };\n    var getLinkAttrs = function (data) {\n      var attrs = [\n        'title',\n        'rel',\n        'class',\n        'target'\n      ];\n      return foldl(attrs, function (acc, key) {\n        data[key].each(function (value) {\n          acc[key] = value.length > 0 ? value : null;\n        });\n        return acc;\n      }, { href: data.href });\n    };\n    var handleExternalTargets = function (href, assumeExternalTargets) {\n      if ((assumeExternalTargets === 'http' || assumeExternalTargets === 'https') && !hasProtocol(href)) {\n        return assumeExternalTargets + '://' + href;\n      }\n      return href;\n    };\n    var applyLinkOverrides = function (editor, linkAttrs) {\n      var newLinkAttrs = __assign({}, linkAttrs);\n      if (!(getRelList(editor).length > 0) && allowUnsafeLinkTarget(editor) === false) {\n        var newRel = applyRelTargetRules(newLinkAttrs.rel, newLinkAttrs.target === '_blank');\n        newLinkAttrs.rel = newRel ? newRel : null;\n      }\n      if (Optional.from(newLinkAttrs.target).isNone() && getTargetList(editor) === false) {\n        newLinkAttrs.target = getDefaultLinkTarget(editor);\n      }\n      newLinkAttrs.href = handleExternalTargets(newLinkAttrs.href, assumeExternalTargets(editor));\n      return newLinkAttrs;\n    };\n    var updateLink = function (editor, anchorElm, text, linkAttrs) {\n      text.each(function (text) {\n        if (has(anchorElm, 'innerText')) {\n          anchorElm.innerText = text;\n        } else {\n          anchorElm.textContent = text;\n        }\n      });\n      editor.dom.setAttribs(anchorElm, linkAttrs);\n      editor.selection.select(anchorElm);\n    };\n    var createLink = function (editor, selectedElm, text, linkAttrs) {\n      if (isImageFigure(selectedElm)) {\n        linkImageFigure(editor, selectedElm, linkAttrs);\n      } else {\n        text.fold(function () {\n          editor.execCommand('mceInsertLink', false, linkAttrs);\n        }, function (text) {\n          editor.insertContent(editor.dom.createHTML('a', linkAttrs, editor.dom.encode(text)));\n        });\n      }\n    };\n    var linkDomMutation = function (editor, attachState, data) {\n      var selectedElm = editor.selection.getNode();\n      var anchorElm = getAnchorElement(editor, selectedElm);\n      var linkAttrs = applyLinkOverrides(editor, getLinkAttrs(data));\n      editor.undoManager.transact(function () {\n        if (data.href === attachState.href) {\n          attachState.attach();\n        }\n        if (anchorElm) {\n          editor.focus();\n          updateLink(editor, anchorElm, data.text, linkAttrs);\n        } else {\n          createLink(editor, selectedElm, data.text, linkAttrs);\n        }\n      });\n    };\n    var unlinkSelection = function (editor) {\n      var dom = editor.dom, selection = editor.selection;\n      var bookmark = selection.getBookmark();\n      var rng = selection.getRng().cloneRange();\n      var startAnchorElm = dom.getParent(rng.startContainer, 'a[href]', editor.getBody());\n      var endAnchorElm = dom.getParent(rng.endContainer, 'a[href]', editor.getBody());\n      if (startAnchorElm) {\n        rng.setStartBefore(startAnchorElm);\n      }\n      if (endAnchorElm) {\n        rng.setEndAfter(endAnchorElm);\n      }\n      selection.setRng(rng);\n      editor.execCommand('unlink');\n      selection.moveToBookmark(bookmark);\n    };\n    var unlinkDomMutation = function (editor) {\n      editor.undoManager.transact(function () {\n        var node = editor.selection.getNode();\n        if (isImageFigure(node)) {\n          unlinkImageFigure(editor, node);\n        } else {\n          unlinkSelection(editor);\n        }\n        editor.focus();\n      });\n    };\n    var unwrapOptions = function (data) {\n      var cls = data.class, href = data.href, rel = data.rel, target = data.target, text = data.text, title = data.title;\n      return filter({\n        class: cls.getOrNull(),\n        href: href,\n        rel: rel.getOrNull(),\n        target: target.getOrNull(),\n        text: text.getOrNull(),\n        title: title.getOrNull()\n      }, function (v, _k) {\n        return isNull(v) === false;\n      });\n    };\n    var sanitizeData = function (editor, data) {\n      var href = data.href;\n      return __assign(__assign({}, data), { href: global$3.isDomSafe(href, 'a', editor.settings) ? href : '' });\n    };\n    var link = function (editor, attachState, data) {\n      var sanitizedData = sanitizeData(editor, data);\n      editor.hasPlugin('rtc', true) ? editor.execCommand('createlink', false, unwrapOptions(sanitizedData)) : linkDomMutation(editor, attachState, sanitizedData);\n    };\n    var unlink = function (editor) {\n      editor.hasPlugin('rtc', true) ? editor.execCommand('unlink') : unlinkDomMutation(editor);\n    };\n    var unlinkImageFigure = function (editor, fig) {\n      var img = editor.dom.select('img', fig)[0];\n      if (img) {\n        var a = editor.dom.getParents(img, 'a[href]', fig)[0];\n        if (a) {\n          a.parentNode.insertBefore(img, a);\n          editor.dom.remove(a);\n        }\n      }\n    };\n    var linkImageFigure = function (editor, fig, attrs) {\n      var img = editor.dom.select('img', fig)[0];\n      if (img) {\n        var a = editor.dom.create('a', attrs);\n        img.parentNode.insertBefore(a, img);\n        a.appendChild(img);\n      }\n    };\n\n    var isListGroup = function (item) {\n      return hasNonNullableKey(item, 'items');\n    };\n    var findTextByValue = function (value, catalog) {\n      return findMap(catalog, function (item) {\n        if (isListGroup(item)) {\n          return findTextByValue(value, item.items);\n        } else {\n          return someIf(item.value === value, item);\n        }\n      });\n    };\n    var getDelta = function (persistentText, fieldName, catalog, data) {\n      var value = data[fieldName];\n      var hasPersistentText = persistentText.length > 0;\n      return value !== undefined ? findTextByValue(value, catalog).map(function (i) {\n        return {\n          url: {\n            value: i.value,\n            meta: {\n              text: hasPersistentText ? persistentText : i.text,\n              attach: noop\n            }\n          },\n          text: hasPersistentText ? persistentText : i.text\n        };\n      }) : Optional.none();\n    };\n    var findCatalog = function (catalogs, fieldName) {\n      if (fieldName === 'link') {\n        return catalogs.link;\n      } else if (fieldName === 'anchor') {\n        return catalogs.anchor;\n      } else {\n        return Optional.none();\n      }\n    };\n    var init = function (initialData, linkCatalog) {\n      var persistentData = {\n        text: initialData.text,\n        title: initialData.title\n      };\n      var getTitleFromUrlChange = function (url) {\n        return someIf(persistentData.title.length <= 0, Optional.from(url.meta.title).getOr(''));\n      };\n      var getTextFromUrlChange = function (url) {\n        return someIf(persistentData.text.length <= 0, Optional.from(url.meta.text).getOr(url.value));\n      };\n      var onUrlChange = function (data) {\n        var text = getTextFromUrlChange(data.url);\n        var title = getTitleFromUrlChange(data.url);\n        if (text.isSome() || title.isSome()) {\n          return Optional.some(__assign(__assign({}, text.map(function (text) {\n            return { text: text };\n          }).getOr({})), title.map(function (title) {\n            return { title: title };\n          }).getOr({})));\n        } else {\n          return Optional.none();\n        }\n      };\n      var onCatalogChange = function (data, change) {\n        var catalog = findCatalog(linkCatalog, change.name).getOr([]);\n        return getDelta(persistentData.text, change.name, catalog, data);\n      };\n      var onChange = function (getData, change) {\n        var name = change.name;\n        if (name === 'url') {\n          return onUrlChange(getData());\n        } else if (contains([\n            'anchor',\n            'link'\n          ], name)) {\n          return onCatalogChange(getData(), change);\n        } else if (name === 'text' || name === 'title') {\n          persistentData[name] = getData()[name];\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      };\n      return { onChange: onChange };\n    };\n    var DialogChanges = {\n      init: init,\n      getDelta: getDelta\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var delayedConfirm = function (editor, message, callback) {\n      var rng = editor.selection.getRng();\n      global$2.setEditorTimeout(editor, function () {\n        editor.windowManager.confirm(message, function (state) {\n          editor.selection.setRng(rng);\n          callback(state);\n        });\n      });\n    };\n    var tryEmailTransform = function (data) {\n      var url = data.href;\n      var suggestMailTo = url.indexOf('@') > 0 && url.indexOf('/') === -1 && url.indexOf('mailto:') === -1;\n      return suggestMailTo ? Optional.some({\n        message: 'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?',\n        preprocess: function (oldData) {\n          return __assign(__assign({}, oldData), { href: 'mailto:' + url });\n        }\n      }) : Optional.none();\n    };\n    var tryProtocolTransform = function (assumeExternalTargets, defaultLinkProtocol) {\n      return function (data) {\n        var url = data.href;\n        var suggestProtocol = assumeExternalTargets === 1 && !hasProtocol(url) || assumeExternalTargets === 0 && /^\\s*www(\\.|\\d\\.)/i.test(url);\n        return suggestProtocol ? Optional.some({\n          message: 'The URL you entered seems to be an external link. Do you want to add the required ' + defaultLinkProtocol + ':// prefix?',\n          preprocess: function (oldData) {\n            return __assign(__assign({}, oldData), { href: defaultLinkProtocol + '://' + url });\n          }\n        }) : Optional.none();\n      };\n    };\n    var preprocess = function (editor, data) {\n      return findMap([\n        tryEmailTransform,\n        tryProtocolTransform(assumeExternalTargets(editor), getDefaultLinkProtocol(editor))\n      ], function (f) {\n        return f(data);\n      }).fold(function () {\n        return global$1.resolve(data);\n      }, function (transform) {\n        return new global$1(function (callback) {\n          delayedConfirm(editor, transform.message, function (state) {\n            callback(state ? transform.preprocess(data) : data);\n          });\n        });\n      });\n    };\n    var DialogConfirms = { preprocess: preprocess };\n\n    var getAnchors = function (editor) {\n      var anchorNodes = editor.dom.select('a:not([href])');\n      var anchors = bind(anchorNodes, function (anchor) {\n        var id = anchor.name || anchor.id;\n        return id ? [{\n            text: id,\n            value: '#' + id\n          }] : [];\n      });\n      return anchors.length > 0 ? Optional.some([{\n          text: 'None',\n          value: ''\n        }].concat(anchors)) : Optional.none();\n    };\n    var AnchorListOptions = { getAnchors: getAnchors };\n\n    var getClasses = function (editor) {\n      var list = getLinkClassList(editor);\n      if (list.length > 0) {\n        return ListOptions.sanitize(list);\n      }\n      return Optional.none();\n    };\n    var ClassListOptions = { getClasses: getClasses };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.XHR');\n\n    var parseJson = function (text) {\n      try {\n        return Optional.some(JSON.parse(text));\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    var getLinks = function (editor) {\n      var extractor = function (item) {\n        return editor.convertURL(item.value || item.url, 'href');\n      };\n      var linkList = getLinkList(editor);\n      return new global$1(function (callback) {\n        if (isString(linkList)) {\n          global.send({\n            url: linkList,\n            success: function (text) {\n              return callback(parseJson(text));\n            },\n            error: function (_) {\n              return callback(Optional.none());\n            }\n          });\n        } else if (isFunction(linkList)) {\n          linkList(function (output) {\n            return callback(Optional.some(output));\n          });\n        } else {\n          callback(Optional.from(linkList));\n        }\n      }).then(function (optItems) {\n        return optItems.bind(ListOptions.sanitizeWith(extractor)).map(function (items) {\n          if (items.length > 0) {\n            var noneItem = [{\n                text: 'None',\n                value: ''\n              }];\n            return noneItem.concat(items);\n          } else {\n            return items;\n          }\n        });\n      });\n    };\n    var LinkListOptions = { getLinks: getLinks };\n\n    var getRels = function (editor, initialTarget) {\n      var list = getRelList(editor);\n      if (list.length > 0) {\n        var isTargetBlank_1 = is(initialTarget, '_blank');\n        var enforceSafe = allowUnsafeLinkTarget(editor) === false;\n        var safeRelExtractor = function (item) {\n          return applyRelTargetRules(ListOptions.getValue(item), isTargetBlank_1);\n        };\n        var sanitizer = enforceSafe ? ListOptions.sanitizeWith(safeRelExtractor) : ListOptions.sanitize;\n        return sanitizer(list);\n      }\n      return Optional.none();\n    };\n    var RelOptions = { getRels: getRels };\n\n    var fallbacks = [\n      {\n        text: 'Current window',\n        value: ''\n      },\n      {\n        text: 'New window',\n        value: '_blank'\n      }\n    ];\n    var getTargets = function (editor) {\n      var list = getTargetList(editor);\n      if (isArray(list)) {\n        return ListOptions.sanitize(list).orThunk(function () {\n          return Optional.some(fallbacks);\n        });\n      } else if (list === false) {\n        return Optional.none();\n      }\n      return Optional.some(fallbacks);\n    };\n    var TargetOptions = { getTargets: getTargets };\n\n    var nonEmptyAttr = function (dom, elem, name) {\n      var val = dom.getAttrib(elem, name);\n      return val !== null && val.length > 0 ? Optional.some(val) : Optional.none();\n    };\n    var extractFromAnchor = function (editor, anchor) {\n      var dom = editor.dom;\n      var onlyText = isOnlyTextSelected(editor);\n      var text = onlyText ? Optional.some(getAnchorText(editor.selection, anchor)) : Optional.none();\n      var url = anchor ? Optional.some(dom.getAttrib(anchor, 'href')) : Optional.none();\n      var target = anchor ? Optional.from(dom.getAttrib(anchor, 'target')) : Optional.none();\n      var rel = nonEmptyAttr(dom, anchor, 'rel');\n      var linkClass = nonEmptyAttr(dom, anchor, 'class');\n      var title = nonEmptyAttr(dom, anchor, 'title');\n      return {\n        url: url,\n        text: text,\n        title: title,\n        target: target,\n        rel: rel,\n        linkClass: linkClass\n      };\n    };\n    var collect = function (editor, linkNode) {\n      return LinkListOptions.getLinks(editor).then(function (links) {\n        var anchor = extractFromAnchor(editor, linkNode);\n        return {\n          anchor: anchor,\n          catalogs: {\n            targets: TargetOptions.getTargets(editor),\n            rels: RelOptions.getRels(editor, anchor.target),\n            classes: ClassListOptions.getClasses(editor),\n            anchor: AnchorListOptions.getAnchors(editor),\n            link: links\n          },\n          optNode: Optional.from(linkNode),\n          flags: { titleEnabled: shouldShowLinkTitle(editor) }\n        };\n      });\n    };\n    var DialogInfo = { collect: collect };\n\n    var handleSubmit = function (editor, info) {\n      return function (api) {\n        var data = api.getData();\n        if (!data.url.value) {\n          unlink(editor);\n          api.close();\n          return;\n        }\n        var getChangedValue = function (key) {\n          return Optional.from(data[key]).filter(function (value) {\n            return !is(info.anchor[key], value);\n          });\n        };\n        var changedData = {\n          href: data.url.value,\n          text: getChangedValue('text'),\n          target: getChangedValue('target'),\n          rel: getChangedValue('rel'),\n          class: getChangedValue('linkClass'),\n          title: getChangedValue('title')\n        };\n        var attachState = {\n          href: data.url.value,\n          attach: data.url.meta !== undefined && data.url.meta.attach ? data.url.meta.attach : noop\n        };\n        DialogConfirms.preprocess(editor, changedData).then(function (pData) {\n          link(editor, attachState, pData);\n        });\n        api.close();\n      };\n    };\n    var collectData = function (editor) {\n      var anchorNode = getAnchorElement(editor);\n      return DialogInfo.collect(editor, anchorNode);\n    };\n    var getInitialData = function (info, defaultTarget) {\n      var anchor = info.anchor;\n      var url = anchor.url.getOr('');\n      return {\n        url: {\n          value: url,\n          meta: { original: { value: url } }\n        },\n        text: anchor.text.getOr(''),\n        title: anchor.title.getOr(''),\n        anchor: url,\n        link: url,\n        rel: anchor.rel.getOr(''),\n        target: anchor.target.or(defaultTarget).getOr(''),\n        linkClass: anchor.linkClass.getOr('')\n      };\n    };\n    var makeDialog = function (settings, onSubmit, editor) {\n      var urlInput = [{\n          name: 'url',\n          type: 'urlinput',\n          filetype: 'file',\n          label: 'URL'\n        }];\n      var displayText = settings.anchor.text.map(function () {\n        return {\n          name: 'text',\n          type: 'input',\n          label: 'Text to display'\n        };\n      }).toArray();\n      var titleText = settings.flags.titleEnabled ? [{\n          name: 'title',\n          type: 'input',\n          label: 'Title'\n        }] : [];\n      var defaultTarget = Optional.from(getDefaultLinkTarget(editor));\n      var initialData = getInitialData(settings, defaultTarget);\n      var catalogs = settings.catalogs;\n      var dialogDelta = DialogChanges.init(initialData, catalogs);\n      var body = {\n        type: 'panel',\n        items: flatten([\n          urlInput,\n          displayText,\n          titleText,\n          cat([\n            catalogs.anchor.map(ListOptions.createUi('anchor', 'Anchors')),\n            catalogs.rels.map(ListOptions.createUi('rel', 'Rel')),\n            catalogs.targets.map(ListOptions.createUi('target', 'Open link in...')),\n            catalogs.link.map(ListOptions.createUi('link', 'Link list')),\n            catalogs.classes.map(ListOptions.createUi('linkClass', 'Class'))\n          ])\n        ])\n      };\n      return {\n        title: 'Insert/Edit Link',\n        size: 'normal',\n        body: body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: initialData,\n        onChange: function (api, _a) {\n          var name = _a.name;\n          dialogDelta.onChange(api.getData, { name: name }).each(function (newData) {\n            api.setData(newData);\n          });\n        },\n        onSubmit: onSubmit\n      };\n    };\n    var open$1 = function (editor) {\n      var data = collectData(editor);\n      data.then(function (info) {\n        var onSubmit = handleSubmit(editor, info);\n        return makeDialog(info, onSubmit, editor);\n      }).then(function (spec) {\n        editor.windowManager.open(spec);\n      });\n    };\n\n    var appendClickRemove = function (link, evt) {\n      document.body.appendChild(link);\n      link.dispatchEvent(evt);\n      document.body.removeChild(link);\n    };\n    var open = function (url) {\n      var link = document.createElement('a');\n      link.target = '_blank';\n      link.href = url;\n      link.rel = 'noreferrer noopener';\n      var evt = document.createEvent('MouseEvents');\n      evt.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      appendClickRemove(link, evt);\n    };\n\n    var getLink = function (editor, elm) {\n      return editor.dom.getParent(elm, 'a[href]');\n    };\n    var getSelectedLink = function (editor) {\n      return getLink(editor, editor.selection.getStart());\n    };\n    var hasOnlyAltModifier = function (e) {\n      return e.altKey === true && e.shiftKey === false && e.ctrlKey === false && e.metaKey === false;\n    };\n    var gotoLink = function (editor, a) {\n      if (a) {\n        var href = getHref(a);\n        if (/^#/.test(href)) {\n          var targetEl = editor.$(href);\n          if (targetEl.length) {\n            editor.selection.scrollIntoView(targetEl[0], true);\n          }\n        } else {\n          open(a.href);\n        }\n      }\n    };\n    var openDialog = function (editor) {\n      return function () {\n        open$1(editor);\n      };\n    };\n    var gotoSelectedLink = function (editor) {\n      return function () {\n        gotoLink(editor, getSelectedLink(editor));\n      };\n    };\n    var setupGotoLinks = function (editor) {\n      editor.on('click', function (e) {\n        var link = getLink(editor, e.target);\n        if (link && global$6.metaKeyPressed(e)) {\n          e.preventDefault();\n          gotoLink(editor, link);\n        }\n      });\n      editor.on('keydown', function (e) {\n        var link = getSelectedLink(editor);\n        if (link && e.keyCode === 13 && hasOnlyAltModifier(e)) {\n          e.preventDefault();\n          gotoLink(editor, link);\n        }\n      });\n    };\n    var toggleState = function (editor, toggler) {\n      editor.on('NodeChange', toggler);\n      return function () {\n        return editor.off('NodeChange', toggler);\n      };\n    };\n    var toggleActiveState = function (editor) {\n      return function (api) {\n        var updateState = function () {\n          return api.setActive(!editor.mode.isReadOnly() && getAnchorElement(editor, editor.selection.getNode()) !== null);\n        };\n        updateState();\n        return toggleState(editor, updateState);\n      };\n    };\n    var toggleEnabledState = function (editor) {\n      return function (api) {\n        var updateState = function () {\n          return api.setDisabled(getAnchorElement(editor, editor.selection.getNode()) === null);\n        };\n        updateState();\n        return toggleState(editor, updateState);\n      };\n    };\n    var toggleUnlinkState = function (editor) {\n      return function (api) {\n        var hasLinks$1 = function (parents) {\n          return hasLinks(parents) || hasLinksInSelection(editor.selection.getRng());\n        };\n        var parents = editor.dom.getParents(editor.selection.getStart());\n        api.setDisabled(!hasLinks$1(parents));\n        return toggleState(editor, function (e) {\n          return api.setDisabled(!hasLinks$1(e.parents));\n        });\n      };\n    };\n\n    var register = function (editor) {\n      editor.addCommand('mceLink', function () {\n        if (useQuickLink(editor)) {\n          editor.fire('contexttoolbar-show', { toolbarKey: 'quicklink' });\n        } else {\n          openDialog(editor)();\n        }\n      });\n    };\n\n    var setup = function (editor) {\n      editor.addShortcut('Meta+K', '', function () {\n        editor.execCommand('mceLink');\n      });\n    };\n\n    var setupButtons = function (editor) {\n      editor.ui.registry.addToggleButton('link', {\n        icon: 'link',\n        tooltip: 'Insert/edit link',\n        onAction: openDialog(editor),\n        onSetup: toggleActiveState(editor)\n      });\n      editor.ui.registry.addButton('openlink', {\n        icon: 'new-tab',\n        tooltip: 'Open link',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleEnabledState(editor)\n      });\n      editor.ui.registry.addButton('unlink', {\n        icon: 'unlink',\n        tooltip: 'Remove link',\n        onAction: function () {\n          return unlink(editor);\n        },\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    var setupMenuItems = function (editor) {\n      editor.ui.registry.addMenuItem('openlink', {\n        text: 'Open link',\n        icon: 'new-tab',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleEnabledState(editor)\n      });\n      editor.ui.registry.addMenuItem('link', {\n        icon: 'link',\n        text: 'Link...',\n        shortcut: 'Meta+K',\n        onAction: openDialog(editor)\n      });\n      editor.ui.registry.addMenuItem('unlink', {\n        icon: 'unlink',\n        text: 'Remove link',\n        onAction: function () {\n          return unlink(editor);\n        },\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    var setupContextMenu = function (editor) {\n      var inLink = 'link unlink openlink';\n      var noLink = 'link';\n      editor.ui.registry.addContextMenu('link', {\n        update: function (element) {\n          return hasLinks(editor.dom.getParents(element, 'a')) ? inLink : noLink;\n        }\n      });\n    };\n    var setupContextToolbars = function (editor) {\n      var collapseSelectionToEnd = function (editor) {\n        editor.selection.collapse(false);\n      };\n      var onSetupLink = function (buttonApi) {\n        var node = editor.selection.getNode();\n        buttonApi.setDisabled(!getAnchorElement(editor, node));\n        return noop;\n      };\n      var getLinkText = function (value) {\n        var anchor = getAnchorElement(editor);\n        var onlyText = isOnlyTextSelected(editor);\n        if (!anchor && onlyText) {\n          var text = getAnchorText(editor.selection, anchor);\n          return Optional.some(text.length > 0 ? text : value);\n        } else {\n          return Optional.none();\n        }\n      };\n      editor.ui.registry.addContextForm('quicklink', {\n        launch: {\n          type: 'contextformtogglebutton',\n          icon: 'link',\n          tooltip: 'Link',\n          onSetup: toggleActiveState(editor)\n        },\n        label: 'Link',\n        predicate: function (node) {\n          return !!getAnchorElement(editor, node) && hasContextToolbar(editor);\n        },\n        initValue: function () {\n          var elm = getAnchorElement(editor);\n          return !!elm ? getHref(elm) : '';\n        },\n        commands: [\n          {\n            type: 'contextformtogglebutton',\n            icon: 'link',\n            tooltip: 'Link',\n            primary: true,\n            onSetup: function (buttonApi) {\n              var node = editor.selection.getNode();\n              buttonApi.setActive(!!getAnchorElement(editor, node));\n              return toggleActiveState(editor)(buttonApi);\n            },\n            onAction: function (formApi) {\n              var value = formApi.getValue();\n              var text = getLinkText(value);\n              var attachState = {\n                href: value,\n                attach: noop\n              };\n              link(editor, attachState, {\n                href: value,\n                text: text,\n                title: Optional.none(),\n                rel: Optional.none(),\n                target: Optional.none(),\n                class: Optional.none()\n              });\n              collapseSelectionToEnd(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'unlink',\n            tooltip: 'Remove link',\n            onSetup: onSetupLink,\n            onAction: function (formApi) {\n              unlink(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'new-tab',\n            tooltip: 'Open link',\n            onSetup: onSetupLink,\n            onAction: function (formApi) {\n              gotoSelectedLink(editor)();\n              formApi.hide();\n            }\n          }\n        ]\n      });\n    };\n\n    function Plugin () {\n      global$7.add('link', function (editor) {\n        setupButtons(editor);\n        setupMenuItems(editor);\n        setupContextMenu(editor);\n        setupContextToolbars(editor);\n        setupGotoLinks(editor);\n        register(editor);\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"lists\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/lists')\n//   ES2015:\n//     import 'tinymce/plugins/lists'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType$1('string');\n    var isObject = isType$1('object');\n    var isArray = isType$1('array');\n    var isBoolean = isSimpleType('boolean');\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var tripleEquals = function (a, b) {\n      return a === b;\n    };\n    var not = function (f) {\n      return function (t) {\n        return !f(t);\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativePush = Array.prototype.push;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter$1 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var groupBy = function (xs, f) {\n      if (xs.length === 0) {\n        return [];\n      } else {\n        var wasType = f(xs[0]);\n        var r = [];\n        var group = [];\n        for (var i = 0, len = xs.length; i < len; i++) {\n          var x = xs[i];\n          var type = f(x);\n          if (type !== wasType) {\n            r.push(group);\n            group = [];\n          }\n          wasType = type;\n          group.push(x);\n        }\n        if (group.length !== 0) {\n          r.push(group);\n        }\n        return r;\n      }\n    };\n    var foldl = function (xs, f, acc) {\n      each$1(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find$1 = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var get$1 = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$1(xs, 0);\n    };\n    var last = function (xs) {\n      return get$1(xs, xs.length - 1);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$2(group(1), group(2));\n    };\n    var detect$3 = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find(versionRegexes, cleanedAgent);\n    };\n    var unknown$2 = function () {\n      return nu$2(0, 0);\n    };\n    var nu$2 = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$2,\n      detect: detect$3,\n      unknown: unknown$2\n    };\n\n    var detectBrowser$1 = function (browsers, userAgentData) {\n      return findMap(userAgentData.brands, function (uaBrand) {\n        var lcBrand = uaBrand.brand.toLowerCase();\n        return find$1(browsers, function (browser) {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(function (info) {\n          return {\n            current: info.name,\n            version: Version.nu(parseInt(uaBrand.version, 10), 0)\n          };\n        });\n      });\n    };\n\n    var detect$2 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find$1(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$2(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$2(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var contains$1 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var blank = function (r) {\n      return function (s) {\n        return s.replace(r, '');\n      };\n    };\n    var trim = blank(/^\\s+|\\s+$/g);\n    var isNotEmpty = function (s) {\n      return s.length > 0;\n    };\n    var isEmpty$1 = function (s) {\n      return !isNotEmpty(s);\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$1(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$1 = function () {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$1 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown = function () {\n      return nu({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown,\n      nu: nu,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    var detect$1 = function (userAgent, userAgentDataOpt, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = userAgentDataOpt.bind(function (userAgentData) {\n        return detectBrowser$1(browsers, userAgentData);\n      }).orThunk(function () {\n        return detectBrowser(browsers, userAgent);\n      }).fold(Browser.unknown, Browser.nu);\n      var os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$1 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch);\n    });\n    var detect = function () {\n      return platform();\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n\n    var ELEMENT = 1;\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var is$2 = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom;\n      var d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return documentPositionContainedBy(e1.dom, e2.dom);\n    };\n    var contains = function (e1, e2) {\n      return detect().browser.isIE() ? ieContains(e1, e2) : regularContains(e1, e2);\n    };\n    var is$1 = is$2;\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var keys = Object.keys;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var filter = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var name = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement = isType(ELEMENT);\n    var isTag = function (tag) {\n      return function (e) {\n        return isElement(e) && name(e) === tag;\n      };\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var setAll = function (element, attrs) {\n      var dom = element.dom;\n      each(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var clone$1 = function (element) {\n      return foldl(element.dom.attributes, function (acc, attr) {\n        acc[attr.name] = attr.value;\n        return acc;\n      }, {});\n    };\n\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var children = function (element) {\n      return map(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var child = function (element, index) {\n      var cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    var firstChild = function (element) {\n      return child(element, 0);\n    };\n    var lastChild = function (element) {\n      return child(element, element.dom.childNodes.length - 1);\n    };\n\n    var before$1 = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var append$1 = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n\n    var before = function (marker, elements) {\n      each$1(elements, function (x) {\n        before$1(marker, x);\n      });\n    };\n    var append = function (parent, elements) {\n      each$1(elements, function (x) {\n        append$1(parent, x);\n      });\n    };\n\n    var remove = function (element) {\n      var dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    var clone = function (original, isDeep) {\n      return SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    };\n    var deep = function (original) {\n      return clone(original, true);\n    };\n    var shallowAs = function (original, tag) {\n      var nu = SugarElement.fromTag(tag);\n      var attributes = clone$1(original);\n      setAll(nu, attributes);\n      return nu;\n    };\n    var mutate = function (original, tag) {\n      var nu = shallowAs(original, tag);\n      before$1(original, nu);\n      var children$1 = children(original);\n      append(nu, children$1);\n      remove(original);\n      return nu;\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var matchNodeName = function (name) {\n      return function (node) {\n        return node && node.nodeName.toLowerCase() === name;\n      };\n    };\n    var matchNodeNames = function (regex) {\n      return function (node) {\n        return node && regex.test(node.nodeName);\n      };\n    };\n    var isTextNode = function (node) {\n      return node && node.nodeType === 3;\n    };\n    var isListNode = matchNodeNames(/^(OL|UL|DL)$/);\n    var isOlUlNode = matchNodeNames(/^(OL|UL)$/);\n    var isOlNode = matchNodeName('ol');\n    var isListItemNode = matchNodeNames(/^(LI|DT|DD)$/);\n    var isDlItemNode = matchNodeNames(/^(DT|DD)$/);\n    var isTableCellNode = matchNodeNames(/^(TH|TD)$/);\n    var isBr = matchNodeName('br');\n    var isFirstChild = function (node) {\n      return node.parentNode.firstChild === node;\n    };\n    var isTextBlock = function (editor, node) {\n      return node && !!editor.schema.getTextBlockElements()[node.nodeName];\n    };\n    var isBlock = function (node, blockElements) {\n      return node && node.nodeName in blockElements;\n    };\n    var isBogusBr = function (dom, node) {\n      if (!isBr(node)) {\n        return false;\n      }\n      return dom.isBlock(node.nextSibling) && !isBr(node.previousSibling);\n    };\n    var isEmpty = function (dom, elm, keepBookmarks) {\n      var empty = dom.isEmpty(elm);\n      if (keepBookmarks && dom.select('span[data-mce-type=bookmark]', elm).length > 0) {\n        return false;\n      }\n      return empty;\n    };\n    var isChildOfBody = function (dom, elm) {\n      return dom.isChildOf(elm, dom.getRoot());\n    };\n\n    var shouldIndentOnTab = function (editor) {\n      return editor.getParam('lists_indent_on_tab', true);\n    };\n    var getForcedRootBlock = function (editor) {\n      var block = editor.getParam('forced_root_block', 'p');\n      if (block === false) {\n        return '';\n      } else if (block === true) {\n        return 'p';\n      } else {\n        return block;\n      }\n    };\n    var getForcedRootBlockAttrs = function (editor) {\n      return editor.getParam('forced_root_block_attrs', {});\n    };\n\n    var createTextBlock = function (editor, contentNode) {\n      var dom = editor.dom;\n      var blockElements = editor.schema.getBlockElements();\n      var fragment = dom.createFragment();\n      var blockName = getForcedRootBlock(editor);\n      var node, textBlock, hasContentNode;\n      if (blockName) {\n        textBlock = dom.create(blockName);\n        if (textBlock.tagName === blockName.toUpperCase()) {\n          dom.setAttribs(textBlock, getForcedRootBlockAttrs(editor));\n        }\n        if (!isBlock(contentNode.firstChild, blockElements)) {\n          fragment.appendChild(textBlock);\n        }\n      }\n      if (contentNode) {\n        while (node = contentNode.firstChild) {\n          var nodeName = node.nodeName;\n          if (!hasContentNode && (nodeName !== 'SPAN' || node.getAttribute('data-mce-type') !== 'bookmark')) {\n            hasContentNode = true;\n          }\n          if (isBlock(node, blockElements)) {\n            fragment.appendChild(node);\n            textBlock = null;\n          } else {\n            if (blockName) {\n              if (!textBlock) {\n                textBlock = dom.create(blockName);\n                fragment.appendChild(textBlock);\n              }\n              textBlock.appendChild(node);\n            } else {\n              fragment.appendChild(node);\n            }\n          }\n        }\n      }\n      if (!blockName) {\n        fragment.appendChild(dom.create('br'));\n      } else {\n        if (!hasContentNode) {\n          textBlock.appendChild(dom.create('br', { 'data-mce-bogus': '1' }));\n        }\n      }\n      return fragment;\n    };\n\n    var DOM$2 = global$3.DOM;\n    var splitList = function (editor, list, li) {\n      var removeAndKeepBookmarks = function (targetNode) {\n        global$2.each(bookmarks, function (node) {\n          targetNode.parentNode.insertBefore(node, li.parentNode);\n        });\n        DOM$2.remove(targetNode);\n      };\n      var bookmarks = DOM$2.select('span[data-mce-type=\"bookmark\"]', list);\n      var newBlock = createTextBlock(editor, li);\n      var tmpRng = DOM$2.createRng();\n      tmpRng.setStartAfter(li);\n      tmpRng.setEndAfter(list);\n      var fragment = tmpRng.extractContents();\n      for (var node = fragment.firstChild; node; node = node.firstChild) {\n        if (node.nodeName === 'LI' && editor.dom.isEmpty(node)) {\n          DOM$2.remove(node);\n          break;\n        }\n      }\n      if (!editor.dom.isEmpty(fragment)) {\n        DOM$2.insertAfter(fragment, list);\n      }\n      DOM$2.insertAfter(newBlock, list);\n      if (isEmpty(editor.dom, li.parentNode)) {\n        removeAndKeepBookmarks(li.parentNode);\n      }\n      DOM$2.remove(li);\n      if (isEmpty(editor.dom, list)) {\n        DOM$2.remove(list);\n      }\n    };\n\n    var isDescriptionDetail = isTag('dd');\n    var isDescriptionTerm = isTag('dt');\n    var outdentDlItem = function (editor, item) {\n      if (isDescriptionDetail(item)) {\n        mutate(item, 'dt');\n      } else if (isDescriptionTerm(item)) {\n        parent(item).each(function (dl) {\n          return splitList(editor, dl.dom, item.dom);\n        });\n      }\n    };\n    var indentDlItem = function (item) {\n      if (isDescriptionTerm(item)) {\n        mutate(item, 'dd');\n      }\n    };\n    var dlIndentation = function (editor, indentation, dlItems) {\n      if (indentation === 'Indent') {\n        each$1(dlItems, indentDlItem);\n      } else {\n        each$1(dlItems, function (item) {\n          return outdentDlItem(editor, item);\n        });\n      }\n    };\n\n    var getNormalizedPoint = function (container, offset) {\n      if (isTextNode(container)) {\n        return {\n          container: container,\n          offset: offset\n        };\n      }\n      var node = global$6.getNode(container, offset);\n      if (isTextNode(node)) {\n        return {\n          container: node,\n          offset: offset >= container.childNodes.length ? node.data.length : 0\n        };\n      } else if (node.previousSibling && isTextNode(node.previousSibling)) {\n        return {\n          container: node.previousSibling,\n          offset: node.previousSibling.data.length\n        };\n      } else if (node.nextSibling && isTextNode(node.nextSibling)) {\n        return {\n          container: node.nextSibling,\n          offset: 0\n        };\n      }\n      return {\n        container: container,\n        offset: offset\n      };\n    };\n    var normalizeRange = function (rng) {\n      var outRng = rng.cloneRange();\n      var rangeStart = getNormalizedPoint(rng.startContainer, rng.startOffset);\n      outRng.setStart(rangeStart.container, rangeStart.offset);\n      var rangeEnd = getNormalizedPoint(rng.endContainer, rng.endOffset);\n      outRng.setEnd(rangeEnd.container, rangeEnd.offset);\n      return outRng;\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DomQuery');\n\n    var getParentList = function (editor, node) {\n      var selectionStart = node || editor.selection.getStart(true);\n      return editor.dom.getParent(selectionStart, 'OL,UL,DL', getClosestListRootElm(editor, selectionStart));\n    };\n    var isParentListSelected = function (parentList, selectedBlocks) {\n      return parentList && selectedBlocks.length === 1 && selectedBlocks[0] === parentList;\n    };\n    var findSubLists = function (parentList) {\n      return filter$1(parentList.querySelectorAll('ol,ul,dl'), isListNode);\n    };\n    var getSelectedSubLists = function (editor) {\n      var parentList = getParentList(editor);\n      var selectedBlocks = editor.selection.getSelectedBlocks();\n      if (isParentListSelected(parentList, selectedBlocks)) {\n        return findSubLists(parentList);\n      } else {\n        return filter$1(selectedBlocks, function (elm) {\n          return isListNode(elm) && parentList !== elm;\n        });\n      }\n    };\n    var findParentListItemsNodes = function (editor, elms) {\n      var listItemsElms = global$2.map(elms, function (elm) {\n        var parentLi = editor.dom.getParent(elm, 'li,dd,dt', getClosestListRootElm(editor, elm));\n        return parentLi ? parentLi : elm;\n      });\n      return global$1.unique(listItemsElms);\n    };\n    var getSelectedListItems = function (editor) {\n      var selectedBlocks = editor.selection.getSelectedBlocks();\n      return filter$1(findParentListItemsNodes(editor, selectedBlocks), isListItemNode);\n    };\n    var getSelectedDlItems = function (editor) {\n      return filter$1(getSelectedListItems(editor), isDlItemNode);\n    };\n    var getClosestListRootElm = function (editor, elm) {\n      var parentTableCell = editor.dom.getParents(elm, 'TD,TH');\n      return parentTableCell.length > 0 ? parentTableCell[0] : editor.getBody();\n    };\n    var findLastParentListNode = function (editor, elm) {\n      var parentLists = editor.dom.getParents(elm, 'ol,ul', getClosestListRootElm(editor, elm));\n      return last(parentLists);\n    };\n    var getSelectedLists = function (editor) {\n      var firstList = findLastParentListNode(editor, editor.selection.getStart());\n      var subsequentLists = filter$1(editor.selection.getSelectedBlocks(), isOlUlNode);\n      return firstList.toArray().concat(subsequentLists);\n    };\n    var getSelectedListRoots = function (editor) {\n      var selectedLists = getSelectedLists(editor);\n      return getUniqueListRoots(editor, selectedLists);\n    };\n    var getUniqueListRoots = function (editor, lists) {\n      var listRoots = map(lists, function (list) {\n        return findLastParentListNode(editor, list).getOr(list);\n      });\n      return global$1.unique(listRoots);\n    };\n\n    var is = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lhs.exists(function (left) {\n        return comparator(left, rhs);\n      });\n    };\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    };\n\n    var fromElements = function (elements, scope) {\n      var doc = scope || document;\n      var fragment = doc.createDocumentFragment();\n      each$1(elements, function (element) {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    var fireListEvent = function (editor, action, element) {\n      return editor.fire('ListMutation', {\n        action: action,\n        element: element\n      });\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var set = function (element, property, value) {\n      var dom = element.dom;\n      internalSet(dom, property, value);\n    };\n\n    var joinSegment = function (parent, child) {\n      append$1(parent.item, child.list);\n    };\n    var joinSegments = function (segments) {\n      for (var i = 1; i < segments.length; i++) {\n        joinSegment(segments[i - 1], segments[i]);\n      }\n    };\n    var appendSegments = function (head$1, tail) {\n      lift2(last(head$1), head(tail), joinSegment);\n    };\n    var createSegment = function (scope, listType) {\n      var segment = {\n        list: SugarElement.fromTag(listType, scope),\n        item: SugarElement.fromTag('li', scope)\n      };\n      append$1(segment.list, segment.item);\n      return segment;\n    };\n    var createSegments = function (scope, entry, size) {\n      var segments = [];\n      for (var i = 0; i < size; i++) {\n        segments.push(createSegment(scope, entry.listType));\n      }\n      return segments;\n    };\n    var populateSegments = function (segments, entry) {\n      for (var i = 0; i < segments.length - 1; i++) {\n        set(segments[i].item, 'list-style-type', 'none');\n      }\n      last(segments).each(function (segment) {\n        setAll(segment.list, entry.listAttributes);\n        setAll(segment.item, entry.itemAttributes);\n        append(segment.item, entry.content);\n      });\n    };\n    var normalizeSegment = function (segment, entry) {\n      if (name(segment.list) !== entry.listType) {\n        segment.list = mutate(segment.list, entry.listType);\n      }\n      setAll(segment.list, entry.listAttributes);\n    };\n    var createItem = function (scope, attr, content) {\n      var item = SugarElement.fromTag('li', scope);\n      setAll(item, attr);\n      append(item, content);\n      return item;\n    };\n    var appendItem = function (segment, item) {\n      append$1(segment.list, item);\n      segment.item = item;\n    };\n    var writeShallow = function (scope, cast, entry) {\n      var newCast = cast.slice(0, entry.depth);\n      last(newCast).each(function (segment) {\n        var item = createItem(scope, entry.itemAttributes, entry.content);\n        appendItem(segment, item);\n        normalizeSegment(segment, entry);\n      });\n      return newCast;\n    };\n    var writeDeep = function (scope, cast, entry) {\n      var segments = createSegments(scope, entry, entry.depth - cast.length);\n      joinSegments(segments);\n      populateSegments(segments, entry);\n      appendSegments(cast, segments);\n      return cast.concat(segments);\n    };\n    var composeList = function (scope, entries) {\n      var cast = foldl(entries, function (cast, entry) {\n        return entry.depth > cast.length ? writeDeep(scope, cast, entry) : writeShallow(scope, cast, entry);\n      }, []);\n      return head(cast).map(function (segment) {\n        return segment.list;\n      });\n    };\n\n    var isList = function (el) {\n      return is$1(el, 'OL,UL');\n    };\n    var hasFirstChildList = function (el) {\n      return firstChild(el).exists(isList);\n    };\n    var hasLastChildList = function (el) {\n      return lastChild(el).exists(isList);\n    };\n\n    var isIndented = function (entry) {\n      return entry.depth > 0;\n    };\n    var isSelected = function (entry) {\n      return entry.isSelected;\n    };\n    var cloneItemContent = function (li) {\n      var children$1 = children(li);\n      var content = hasLastChildList(li) ? children$1.slice(0, -1) : children$1;\n      return map(content, deep);\n    };\n    var createEntry = function (li, depth, isSelected) {\n      return parent(li).filter(isElement).map(function (list) {\n        return {\n          depth: depth,\n          dirty: false,\n          isSelected: isSelected,\n          content: cloneItemContent(li),\n          itemAttributes: clone$1(li),\n          listAttributes: clone$1(list),\n          listType: name(list)\n        };\n      });\n    };\n\n    var indentEntry = function (indentation, entry) {\n      switch (indentation) {\n      case 'Indent':\n        entry.depth++;\n        break;\n      case 'Outdent':\n        entry.depth--;\n        break;\n      case 'Flatten':\n        entry.depth = 0;\n      }\n      entry.dirty = true;\n    };\n\n    var cloneListProperties = function (target, source) {\n      target.listType = source.listType;\n      target.listAttributes = __assign({}, source.listAttributes);\n    };\n    var cleanListProperties = function (entry) {\n      entry.listAttributes = filter(entry.listAttributes, function (_value, key) {\n        return key !== 'start';\n      });\n    };\n    var closestSiblingEntry = function (entries, start) {\n      var depth = entries[start].depth;\n      var matches = function (entry) {\n        return entry.depth === depth && !entry.dirty;\n      };\n      var until = function (entry) {\n        return entry.depth < depth;\n      };\n      return findUntil(reverse(entries.slice(0, start)), matches, until).orThunk(function () {\n        return findUntil(entries.slice(start + 1), matches, until);\n      });\n    };\n    var normalizeEntries = function (entries) {\n      each$1(entries, function (entry, i) {\n        closestSiblingEntry(entries, i).fold(function () {\n          if (entry.dirty) {\n            cleanListProperties(entry);\n          }\n        }, function (matchingEntry) {\n          return cloneListProperties(entry, matchingEntry);\n        });\n      });\n      return entries;\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var parseItem = function (depth, itemSelection, selectionState, item) {\n      return firstChild(item).filter(isList).fold(function () {\n        itemSelection.each(function (selection) {\n          if (eq(selection.start, item)) {\n            selectionState.set(true);\n          }\n        });\n        var currentItemEntry = createEntry(item, depth, selectionState.get());\n        itemSelection.each(function (selection) {\n          if (eq(selection.end, item)) {\n            selectionState.set(false);\n          }\n        });\n        var childListEntries = lastChild(item).filter(isList).map(function (list) {\n          return parseList(depth, itemSelection, selectionState, list);\n        }).getOr([]);\n        return currentItemEntry.toArray().concat(childListEntries);\n      }, function (list) {\n        return parseList(depth, itemSelection, selectionState, list);\n      });\n    };\n    var parseList = function (depth, itemSelection, selectionState, list) {\n      return bind(children(list), function (element) {\n        var parser = isList(element) ? parseList : parseItem;\n        var newDepth = depth + 1;\n        return parser(newDepth, itemSelection, selectionState, element);\n      });\n    };\n    var parseLists = function (lists, itemSelection) {\n      var selectionState = Cell(false);\n      var initialDepth = 0;\n      return map(lists, function (list) {\n        return {\n          sourceList: list,\n          entries: parseList(initialDepth, itemSelection, selectionState, list)\n        };\n      });\n    };\n\n    var outdentedComposer = function (editor, entries) {\n      var normalizedEntries = normalizeEntries(entries);\n      return map(normalizedEntries, function (entry) {\n        var content = fromElements(entry.content);\n        return SugarElement.fromDom(createTextBlock(editor, content.dom));\n      });\n    };\n    var indentedComposer = function (editor, entries) {\n      var normalizedEntries = normalizeEntries(entries);\n      return composeList(editor.contentDocument, normalizedEntries).toArray();\n    };\n    var composeEntries = function (editor, entries) {\n      return bind(groupBy(entries, isIndented), function (entries) {\n        var groupIsIndented = head(entries).exists(isIndented);\n        return groupIsIndented ? indentedComposer(editor, entries) : outdentedComposer(editor, entries);\n      });\n    };\n    var indentSelectedEntries = function (entries, indentation) {\n      each$1(filter$1(entries, isSelected), function (entry) {\n        return indentEntry(indentation, entry);\n      });\n    };\n    var getItemSelection = function (editor) {\n      var selectedListItems = map(getSelectedListItems(editor), SugarElement.fromDom);\n      return lift2(find$1(selectedListItems, not(hasFirstChildList)), find$1(reverse(selectedListItems), not(hasFirstChildList)), function (start, end) {\n        return {\n          start: start,\n          end: end\n        };\n      });\n    };\n    var listIndentation = function (editor, lists, indentation) {\n      var entrySets = parseLists(lists, getItemSelection(editor));\n      each$1(entrySets, function (entrySet) {\n        indentSelectedEntries(entrySet.entries, indentation);\n        var composedLists = composeEntries(editor, entrySet.entries);\n        each$1(composedLists, function (composedList) {\n          fireListEvent(editor, indentation === 'Indent' ? 'IndentList' : 'OutdentList', composedList.dom);\n        });\n        before(entrySet.sourceList, composedLists);\n        remove(entrySet.sourceList);\n      });\n    };\n\n    var selectionIndentation = function (editor, indentation) {\n      var lists = map(getSelectedListRoots(editor), SugarElement.fromDom);\n      var dlItems = map(getSelectedDlItems(editor), SugarElement.fromDom);\n      var isHandled = false;\n      if (lists.length || dlItems.length) {\n        var bookmark = editor.selection.getBookmark();\n        listIndentation(editor, lists, indentation);\n        dlIndentation(editor, indentation, dlItems);\n        editor.selection.moveToBookmark(bookmark);\n        editor.selection.setRng(normalizeRange(editor.selection.getRng()));\n        editor.nodeChanged();\n        isHandled = true;\n      }\n      return isHandled;\n    };\n    var indentListSelection = function (editor) {\n      return selectionIndentation(editor, 'Indent');\n    };\n    var outdentListSelection = function (editor) {\n      return selectionIndentation(editor, 'Outdent');\n    };\n    var flattenListSelection = function (editor) {\n      return selectionIndentation(editor, 'Flatten');\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.dom.BookmarkManager');\n\n    var DOM$1 = global$3.DOM;\n    var createBookmark = function (rng) {\n      var bookmark = {};\n      var setupEndPoint = function (start) {\n        var container = rng[start ? 'startContainer' : 'endContainer'];\n        var offset = rng[start ? 'startOffset' : 'endOffset'];\n        if (container.nodeType === 1) {\n          var offsetNode = DOM$1.create('span', { 'data-mce-type': 'bookmark' });\n          if (container.hasChildNodes()) {\n            offset = Math.min(offset, container.childNodes.length - 1);\n            if (start) {\n              container.insertBefore(offsetNode, container.childNodes[offset]);\n            } else {\n              DOM$1.insertAfter(offsetNode, container.childNodes[offset]);\n            }\n          } else {\n            container.appendChild(offsetNode);\n          }\n          container = offsetNode;\n          offset = 0;\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      setupEndPoint(true);\n      if (!rng.collapsed) {\n        setupEndPoint();\n      }\n      return bookmark;\n    };\n    var resolveBookmark = function (bookmark) {\n      var restoreEndPoint = function (start) {\n        var node;\n        var nodeIndex = function (container) {\n          var node = container.parentNode.firstChild, idx = 0;\n          while (node) {\n            if (node === container) {\n              return idx;\n            }\n            if (node.nodeType !== 1 || node.getAttribute('data-mce-type') !== 'bookmark') {\n              idx++;\n            }\n            node = node.nextSibling;\n          }\n          return -1;\n        };\n        var container = node = bookmark[start ? 'startContainer' : 'endContainer'];\n        var offset = bookmark[start ? 'startOffset' : 'endOffset'];\n        if (!container) {\n          return;\n        }\n        if (container.nodeType === 1) {\n          offset = nodeIndex(container);\n          container = container.parentNode;\n          DOM$1.remove(node);\n          if (!container.hasChildNodes() && DOM$1.isBlock(container)) {\n            container.appendChild(DOM$1.create('br'));\n          }\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      restoreEndPoint(true);\n      restoreEndPoint();\n      var rng = DOM$1.createRng();\n      rng.setStart(bookmark.startContainer, bookmark.startOffset);\n      if (bookmark.endContainer) {\n        rng.setEnd(bookmark.endContainer, bookmark.endOffset);\n      }\n      return normalizeRange(rng);\n    };\n\n    var listToggleActionFromListName = function (listName) {\n      switch (listName) {\n      case 'UL':\n        return 'ToggleUlList';\n      case 'OL':\n        return 'ToggleOlList';\n      case 'DL':\n        return 'ToggleDLList';\n      }\n    };\n\n    var isCustomList = function (list) {\n      return /\\btox\\-/.test(list.className);\n    };\n    var listState = function (editor, listName, activate) {\n      var nodeChangeHandler = function (e) {\n        var inList = findUntil(e.parents, isListNode, isTableCellNode).filter(function (list) {\n          return list.nodeName === listName && !isCustomList(list);\n        }).isSome();\n        activate(inList);\n      };\n      var parents = editor.dom.getParents(editor.selection.getNode());\n      nodeChangeHandler({ parents: parents });\n      editor.on('NodeChange', nodeChangeHandler);\n      return function () {\n        return editor.off('NodeChange', nodeChangeHandler);\n      };\n    };\n\n    var updateListStyle = function (dom, el, detail) {\n      var type = detail['list-style-type'] ? detail['list-style-type'] : null;\n      dom.setStyle(el, 'list-style-type', type);\n    };\n    var setAttribs = function (elm, attrs) {\n      global$2.each(attrs, function (value, key) {\n        elm.setAttribute(key, value);\n      });\n    };\n    var updateListAttrs = function (dom, el, detail) {\n      setAttribs(el, detail['list-attributes']);\n      global$2.each(dom.select('li', el), function (li) {\n        setAttribs(li, detail['list-item-attributes']);\n      });\n    };\n    var updateListWithDetails = function (dom, el, detail) {\n      updateListStyle(dom, el, detail);\n      updateListAttrs(dom, el, detail);\n    };\n    var removeStyles = function (dom, element, styles) {\n      global$2.each(styles, function (style) {\n        var _a;\n        return dom.setStyle(element, (_a = {}, _a[style] = '', _a));\n      });\n    };\n    var getEndPointNode = function (editor, rng, start, root) {\n      var container = rng[start ? 'startContainer' : 'endContainer'];\n      var offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (container.nodeType === 1) {\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n      }\n      if (!start && isBr(container.nextSibling)) {\n        container = container.nextSibling;\n      }\n      while (container.parentNode !== root) {\n        if (isTextBlock(editor, container)) {\n          return container;\n        }\n        if (/^(TD|TH)$/.test(container.parentNode.nodeName)) {\n          return container;\n        }\n        container = container.parentNode;\n      }\n      return container;\n    };\n    var getSelectedTextBlocks = function (editor, rng, root) {\n      var textBlocks = [];\n      var dom = editor.dom;\n      var startNode = getEndPointNode(editor, rng, true, root);\n      var endNode = getEndPointNode(editor, rng, false, root);\n      var block;\n      var siblings = [];\n      for (var node = startNode; node; node = node.nextSibling) {\n        siblings.push(node);\n        if (node === endNode) {\n          break;\n        }\n      }\n      global$2.each(siblings, function (node) {\n        if (isTextBlock(editor, node)) {\n          textBlocks.push(node);\n          block = null;\n          return;\n        }\n        if (dom.isBlock(node) || isBr(node)) {\n          if (isBr(node)) {\n            dom.remove(node);\n          }\n          block = null;\n          return;\n        }\n        var nextSibling = node.nextSibling;\n        if (global.isBookmarkNode(node)) {\n          if (isListNode(nextSibling) || isTextBlock(editor, nextSibling) || !nextSibling && node.parentNode === root) {\n            block = null;\n            return;\n          }\n        }\n        if (!block) {\n          block = dom.create('p');\n          node.parentNode.insertBefore(block, node);\n          textBlocks.push(block);\n        }\n        block.appendChild(node);\n      });\n      return textBlocks;\n    };\n    var hasCompatibleStyle = function (dom, sib, detail) {\n      var sibStyle = dom.getStyle(sib, 'list-style-type');\n      var detailStyle = detail ? detail['list-style-type'] : '';\n      detailStyle = detailStyle === null ? '' : detailStyle;\n      return sibStyle === detailStyle;\n    };\n    var applyList = function (editor, listName, detail) {\n      var rng = editor.selection.getRng();\n      var listItemName = 'LI';\n      var root = getClosestListRootElm(editor, editor.selection.getStart(true));\n      var dom = editor.dom;\n      if (dom.getContentEditable(editor.selection.getNode()) === 'false') {\n        return;\n      }\n      listName = listName.toUpperCase();\n      if (listName === 'DL') {\n        listItemName = 'DT';\n      }\n      var bookmark = createBookmark(rng);\n      var selectedTextBlocks = getSelectedTextBlocks(editor, rng, root);\n      global$2.each(selectedTextBlocks, function (block) {\n        var listBlock;\n        var sibling = block.previousSibling;\n        var parent = block.parentNode;\n        if (!isListItemNode(parent)) {\n          if (sibling && isListNode(sibling) && sibling.nodeName === listName && hasCompatibleStyle(dom, sibling, detail)) {\n            listBlock = sibling;\n            block = dom.rename(block, listItemName);\n            sibling.appendChild(block);\n          } else {\n            listBlock = dom.create(listName);\n            block.parentNode.insertBefore(listBlock, block);\n            listBlock.appendChild(block);\n            block = dom.rename(block, listItemName);\n          }\n          removeStyles(dom, block, [\n            'margin',\n            'margin-right',\n            'margin-bottom',\n            'margin-left',\n            'margin-top',\n            'padding',\n            'padding-right',\n            'padding-bottom',\n            'padding-left',\n            'padding-top'\n          ]);\n          updateListWithDetails(dom, listBlock, detail);\n          mergeWithAdjacentLists(editor.dom, listBlock);\n        }\n      });\n      editor.selection.setRng(resolveBookmark(bookmark));\n    };\n    var isValidLists = function (list1, list2) {\n      return list1 && list2 && isListNode(list1) && list1.nodeName === list2.nodeName;\n    };\n    var hasSameListStyle = function (dom, list1, list2) {\n      var targetStyle = dom.getStyle(list1, 'list-style-type', true);\n      var style = dom.getStyle(list2, 'list-style-type', true);\n      return targetStyle === style;\n    };\n    var hasSameClasses = function (elm1, elm2) {\n      return elm1.className === elm2.className;\n    };\n    var shouldMerge = function (dom, list1, list2) {\n      return isValidLists(list1, list2) && hasSameListStyle(dom, list1, list2) && hasSameClasses(list1, list2);\n    };\n    var mergeWithAdjacentLists = function (dom, listBlock) {\n      var sibling, node;\n      sibling = listBlock.nextSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        while (node = sibling.firstChild) {\n          listBlock.appendChild(node);\n        }\n        dom.remove(sibling);\n      }\n      sibling = listBlock.previousSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        while (node = sibling.lastChild) {\n          listBlock.insertBefore(node, listBlock.firstChild);\n        }\n        dom.remove(sibling);\n      }\n    };\n    var updateList$1 = function (editor, list, listName, detail) {\n      if (list.nodeName !== listName) {\n        var newList = editor.dom.rename(list, listName);\n        updateListWithDetails(editor.dom, newList, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), newList);\n      } else {\n        updateListWithDetails(editor.dom, list, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), list);\n      }\n    };\n    var toggleMultipleLists = function (editor, parentList, lists, listName, detail) {\n      var parentIsList = isListNode(parentList);\n      if (parentIsList && parentList.nodeName === listName && !hasListStyleDetail(detail)) {\n        flattenListSelection(editor);\n      } else {\n        applyList(editor, listName, detail);\n        var bookmark = createBookmark(editor.selection.getRng());\n        var allLists = parentIsList ? __spreadArray([parentList], lists, true) : lists;\n        global$2.each(allLists, function (elm) {\n          updateList$1(editor, elm, listName, detail);\n        });\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    var hasListStyleDetail = function (detail) {\n      return 'list-style-type' in detail;\n    };\n    var toggleSingleList = function (editor, parentList, listName, detail) {\n      if (parentList === editor.getBody()) {\n        return;\n      }\n      if (parentList) {\n        if (parentList.nodeName === listName && !hasListStyleDetail(detail) && !isCustomList(parentList)) {\n          flattenListSelection(editor);\n        } else {\n          var bookmark = createBookmark(editor.selection.getRng());\n          updateListWithDetails(editor.dom, parentList, detail);\n          var newList = editor.dom.rename(parentList, listName);\n          mergeWithAdjacentLists(editor.dom, newList);\n          editor.selection.setRng(resolveBookmark(bookmark));\n          applyList(editor, listName, detail);\n          fireListEvent(editor, listToggleActionFromListName(listName), newList);\n        }\n      } else {\n        applyList(editor, listName, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), parentList);\n      }\n    };\n    var toggleList = function (editor, listName, _detail) {\n      var parentList = getParentList(editor);\n      var selectedSubLists = getSelectedSubLists(editor);\n      var detail = isObject(_detail) ? _detail : {};\n      if (selectedSubLists.length > 0) {\n        toggleMultipleLists(editor, parentList, selectedSubLists, listName, detail);\n      } else {\n        toggleSingleList(editor, parentList, listName, detail);\n      }\n    };\n\n    var DOM = global$3.DOM;\n    var normalizeList = function (dom, list) {\n      var parentNode = list.parentNode;\n      if (parentNode.nodeName === 'LI' && parentNode.firstChild === list) {\n        var sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n          if (isEmpty(dom, parentNode)) {\n            DOM.remove(parentNode);\n          }\n        } else {\n          DOM.setStyle(parentNode, 'listStyleType', 'none');\n        }\n      }\n      if (isListNode(parentNode)) {\n        var sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n        }\n      }\n    };\n    var normalizeLists = function (dom, element) {\n      var lists = global$2.grep(dom.select('ol,ul', element));\n      global$2.each(lists, function (list) {\n        normalizeList(dom, list);\n      });\n    };\n\n    var findNextCaretContainer = function (editor, rng, isForward, root) {\n      var node = rng.startContainer;\n      var offset = rng.startOffset;\n      if (isTextNode(node) && (isForward ? offset < node.data.length : offset > 0)) {\n        return node;\n      }\n      var nonEmptyBlocks = editor.schema.getNonEmptyElements();\n      if (node.nodeType === 1) {\n        node = global$6.getNode(node, offset);\n      }\n      var walker = new global$5(node, root);\n      if (isForward) {\n        if (isBogusBr(editor.dom, node)) {\n          walker.next();\n        }\n      }\n      while (node = walker[isForward ? 'next' : 'prev2']()) {\n        if (node.nodeName === 'LI' && !node.hasChildNodes()) {\n          return node;\n        }\n        if (nonEmptyBlocks[node.nodeName]) {\n          return node;\n        }\n        if (isTextNode(node) && node.data.length > 0) {\n          return node;\n        }\n      }\n    };\n    var hasOnlyOneBlockChild = function (dom, elm) {\n      var childNodes = elm.childNodes;\n      return childNodes.length === 1 && !isListNode(childNodes[0]) && dom.isBlock(childNodes[0]);\n    };\n    var unwrapSingleBlockChild = function (dom, elm) {\n      if (hasOnlyOneBlockChild(dom, elm)) {\n        dom.remove(elm.firstChild, true);\n      }\n    };\n    var moveChildren = function (dom, fromElm, toElm) {\n      var node;\n      var targetElm = hasOnlyOneBlockChild(dom, toElm) ? toElm.firstChild : toElm;\n      unwrapSingleBlockChild(dom, fromElm);\n      if (!isEmpty(dom, fromElm, true)) {\n        while (node = fromElm.firstChild) {\n          targetElm.appendChild(node);\n        }\n      }\n    };\n    var mergeLiElements = function (dom, fromElm, toElm) {\n      var listNode;\n      var ul = fromElm.parentNode;\n      if (!isChildOfBody(dom, fromElm) || !isChildOfBody(dom, toElm)) {\n        return;\n      }\n      if (isListNode(toElm.lastChild)) {\n        listNode = toElm.lastChild;\n      }\n      if (ul === toElm.lastChild) {\n        if (isBr(ul.previousSibling)) {\n          dom.remove(ul.previousSibling);\n        }\n      }\n      var node = toElm.lastChild;\n      if (node && isBr(node) && fromElm.hasChildNodes()) {\n        dom.remove(node);\n      }\n      if (isEmpty(dom, toElm, true)) {\n        dom.$(toElm).empty();\n      }\n      moveChildren(dom, fromElm, toElm);\n      if (listNode) {\n        toElm.appendChild(listNode);\n      }\n      var contains$1 = contains(SugarElement.fromDom(toElm), SugarElement.fromDom(fromElm));\n      var nestedLists = contains$1 ? dom.getParents(fromElm, isListNode, toElm) : [];\n      dom.remove(fromElm);\n      each$1(nestedLists, function (list) {\n        if (isEmpty(dom, list) && list !== dom.getRoot()) {\n          dom.remove(list);\n        }\n      });\n    };\n    var mergeIntoEmptyLi = function (editor, fromLi, toLi) {\n      editor.dom.$(toLi).empty();\n      mergeLiElements(editor.dom, fromLi, toLi);\n      editor.selection.setCursorLocation(toLi, 0);\n    };\n    var mergeForward = function (editor, rng, fromLi, toLi) {\n      var dom = editor.dom;\n      if (dom.isEmpty(toLi)) {\n        mergeIntoEmptyLi(editor, fromLi, toLi);\n      } else {\n        var bookmark = createBookmark(rng);\n        mergeLiElements(dom, fromLi, toLi);\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    var mergeBackward = function (editor, rng, fromLi, toLi) {\n      var bookmark = createBookmark(rng);\n      mergeLiElements(editor.dom, fromLi, toLi);\n      var resolvedBookmark = resolveBookmark(bookmark);\n      editor.selection.setRng(resolvedBookmark);\n    };\n    var backspaceDeleteFromListToListCaret = function (editor, isForward) {\n      var dom = editor.dom, selection = editor.selection;\n      var selectionStartElm = selection.getStart();\n      var root = getClosestListRootElm(editor, selectionStartElm);\n      var li = dom.getParent(selection.getStart(), 'LI', root);\n      if (li) {\n        var ul = li.parentNode;\n        if (ul === editor.getBody() && isEmpty(dom, ul)) {\n          return true;\n        }\n        var rng_1 = normalizeRange(selection.getRng());\n        var otherLi_1 = dom.getParent(findNextCaretContainer(editor, rng_1, isForward, root), 'LI', root);\n        if (otherLi_1 && otherLi_1 !== li) {\n          editor.undoManager.transact(function () {\n            if (isForward) {\n              mergeForward(editor, rng_1, otherLi_1, li);\n            } else {\n              if (isFirstChild(li)) {\n                outdentListSelection(editor);\n              } else {\n                mergeBackward(editor, rng_1, li, otherLi_1);\n              }\n            }\n          });\n          return true;\n        } else if (!otherLi_1) {\n          if (!isForward && rng_1.startOffset === 0 && rng_1.endOffset === 0) {\n            editor.undoManager.transact(function () {\n              flattenListSelection(editor);\n            });\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    var removeBlock = function (dom, block, root) {\n      var parentBlock = dom.getParent(block.parentNode, dom.isBlock, root);\n      dom.remove(block);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        dom.remove(parentBlock);\n      }\n    };\n    var backspaceDeleteIntoListCaret = function (editor, isForward) {\n      var dom = editor.dom;\n      var selectionStartElm = editor.selection.getStart();\n      var root = getClosestListRootElm(editor, selectionStartElm);\n      var block = dom.getParent(selectionStartElm, dom.isBlock, root);\n      if (block && dom.isEmpty(block)) {\n        var rng = normalizeRange(editor.selection.getRng());\n        var otherLi_2 = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi_2) {\n          editor.undoManager.transact(function () {\n            removeBlock(dom, block, root);\n            mergeWithAdjacentLists(dom, otherLi_2.parentNode);\n            editor.selection.select(otherLi_2, true);\n            editor.selection.collapse(isForward);\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    var backspaceDeleteCaret = function (editor, isForward) {\n      return backspaceDeleteFromListToListCaret(editor, isForward) || backspaceDeleteIntoListCaret(editor, isForward);\n    };\n    var backspaceDeleteRange = function (editor) {\n      var selectionStartElm = editor.selection.getStart();\n      var root = getClosestListRootElm(editor, selectionStartElm);\n      var startListParent = editor.dom.getParent(selectionStartElm, 'LI,DT,DD', root);\n      if (startListParent || getSelectedListItems(editor).length > 0) {\n        editor.undoManager.transact(function () {\n          editor.execCommand('Delete');\n          normalizeLists(editor.dom, editor.getBody());\n        });\n        return true;\n      }\n      return false;\n    };\n    var backspaceDelete = function (editor, isForward) {\n      return editor.selection.isCollapsed() ? backspaceDeleteCaret(editor, isForward) : backspaceDeleteRange(editor);\n    };\n    var setup$1 = function (editor) {\n      editor.on('keydown', function (e) {\n        if (e.keyCode === global$4.BACKSPACE) {\n          if (backspaceDelete(editor, false)) {\n            e.preventDefault();\n          }\n        } else if (e.keyCode === global$4.DELETE) {\n          if (backspaceDelete(editor, true)) {\n            e.preventDefault();\n          }\n        }\n      });\n    };\n\n    var get = function (editor) {\n      return {\n        backspaceDelete: function (isForward) {\n          backspaceDelete(editor, isForward);\n        }\n      };\n    };\n\n    var updateList = function (editor, update) {\n      var parentList = getParentList(editor);\n      editor.undoManager.transact(function () {\n        if (isObject(update.styles)) {\n          editor.dom.setStyles(parentList, update.styles);\n        }\n        if (isObject(update.attrs)) {\n          each(update.attrs, function (v, k) {\n            return editor.dom.setAttrib(parentList, k, v);\n          });\n        }\n      });\n    };\n\n    var parseAlphabeticBase26 = function (str) {\n      var chars = reverse(trim(str).split(''));\n      var values = map(chars, function (char, i) {\n        var charValue = char.toUpperCase().charCodeAt(0) - 'A'.charCodeAt(0) + 1;\n        return Math.pow(26, i) * charValue;\n      });\n      return foldl(values, function (sum, v) {\n        return sum + v;\n      }, 0);\n    };\n    var composeAlphabeticBase26 = function (value) {\n      value--;\n      if (value < 0) {\n        return '';\n      } else {\n        var remainder = value % 26;\n        var quotient = Math.floor(value / 26);\n        var rest = composeAlphabeticBase26(quotient);\n        var char = String.fromCharCode('A'.charCodeAt(0) + remainder);\n        return rest + char;\n      }\n    };\n    var isUppercase = function (str) {\n      return /^[A-Z]+$/.test(str);\n    };\n    var isLowercase = function (str) {\n      return /^[a-z]+$/.test(str);\n    };\n    var isNumeric = function (str) {\n      return /^[0-9]+$/.test(str);\n    };\n    var deduceListType = function (start) {\n      if (isNumeric(start)) {\n        return 2;\n      } else if (isUppercase(start)) {\n        return 0;\n      } else if (isLowercase(start)) {\n        return 1;\n      } else if (isEmpty$1(start)) {\n        return 3;\n      } else {\n        return 4;\n      }\n    };\n    var parseStartValue = function (start) {\n      switch (deduceListType(start)) {\n      case 2:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start: start\n        });\n      case 0:\n        return Optional.some({\n          listStyleType: Optional.some('upper-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 1:\n        return Optional.some({\n          listStyleType: Optional.some('lower-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 3:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start: ''\n        });\n      case 4:\n        return Optional.none();\n      }\n    };\n    var parseDetail = function (detail) {\n      var start = parseInt(detail.start, 10);\n      if (is(detail.listStyleType, 'upper-alpha')) {\n        return composeAlphabeticBase26(start);\n      } else if (is(detail.listStyleType, 'lower-alpha')) {\n        return composeAlphabeticBase26(start).toLowerCase();\n      } else {\n        return detail.start;\n      }\n    };\n\n    var open = function (editor) {\n      var currentList = getParentList(editor);\n      if (!isOlNode(currentList)) {\n        return;\n      }\n      editor.windowManager.open({\n        title: 'List Properties',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'input',\n              name: 'start',\n              label: 'Start list at number',\n              inputMode: 'numeric'\n            }]\n        },\n        initialData: {\n          start: parseDetail({\n            start: editor.dom.getAttrib(currentList, 'start', '1'),\n            listStyleType: Optional.some(editor.dom.getStyle(currentList, 'list-style-type'))\n          })\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: function (api) {\n          var data = api.getData();\n          parseStartValue(data.start).each(function (detail) {\n            editor.execCommand('mceListUpdate', false, {\n              attrs: { start: detail.start === '1' ? '' : detail.start },\n              styles: { 'list-style-type': detail.listStyleType.getOr('') }\n            });\n          });\n          api.close();\n        }\n      });\n    };\n\n    var queryListCommandState = function (editor, listName) {\n      return function () {\n        var parentList = getParentList(editor);\n        return parentList && parentList.nodeName === listName;\n      };\n    };\n    var registerDialog = function (editor) {\n      editor.addCommand('mceListProps', function () {\n        open(editor);\n      });\n    };\n    var register$2 = function (editor) {\n      editor.on('BeforeExecCommand', function (e) {\n        var cmd = e.command.toLowerCase();\n        if (cmd === 'indent') {\n          indentListSelection(editor);\n        } else if (cmd === 'outdent') {\n          outdentListSelection(editor);\n        }\n      });\n      editor.addCommand('InsertUnorderedList', function (ui, detail) {\n        toggleList(editor, 'UL', detail);\n      });\n      editor.addCommand('InsertOrderedList', function (ui, detail) {\n        toggleList(editor, 'OL', detail);\n      });\n      editor.addCommand('InsertDefinitionList', function (ui, detail) {\n        toggleList(editor, 'DL', detail);\n      });\n      editor.addCommand('RemoveList', function () {\n        flattenListSelection(editor);\n      });\n      registerDialog(editor);\n      editor.addCommand('mceListUpdate', function (ui, detail) {\n        if (isObject(detail)) {\n          updateList(editor, detail);\n        }\n      });\n      editor.addQueryStateHandler('InsertUnorderedList', queryListCommandState(editor, 'UL'));\n      editor.addQueryStateHandler('InsertOrderedList', queryListCommandState(editor, 'OL'));\n      editor.addQueryStateHandler('InsertDefinitionList', queryListCommandState(editor, 'DL'));\n    };\n\n    var setupTabKey = function (editor) {\n      editor.on('keydown', function (e) {\n        if (e.keyCode !== global$4.TAB || global$4.metaKeyPressed(e)) {\n          return;\n        }\n        editor.undoManager.transact(function () {\n          if (e.shiftKey ? outdentListSelection(editor) : indentListSelection(editor)) {\n            e.preventDefault();\n          }\n        });\n      });\n    };\n    var setup = function (editor) {\n      if (shouldIndentOnTab(editor)) {\n        setupTabKey(editor);\n      }\n      setup$1(editor);\n    };\n\n    var register$1 = function (editor) {\n      var exec = function (command) {\n        return function () {\n          return editor.execCommand(command);\n        };\n      };\n      if (!editor.hasPlugin('advlist')) {\n        editor.ui.registry.addToggleButton('numlist', {\n          icon: 'ordered-list',\n          active: false,\n          tooltip: 'Numbered list',\n          onAction: exec('InsertOrderedList'),\n          onSetup: function (api) {\n            return listState(editor, 'OL', api.setActive);\n          }\n        });\n        editor.ui.registry.addToggleButton('bullist', {\n          icon: 'unordered-list',\n          active: false,\n          tooltip: 'Bullet list',\n          onAction: exec('InsertUnorderedList'),\n          onSetup: function (api) {\n            return listState(editor, 'UL', api.setActive);\n          }\n        });\n      }\n    };\n\n    var register = function (editor) {\n      var listProperties = {\n        text: 'List properties...',\n        icon: 'ordered-list',\n        onAction: function () {\n          return editor.execCommand('mceListProps');\n        },\n        onSetup: function (api) {\n          return listState(editor, 'OL', function (active) {\n            return api.setDisabled(!active);\n          });\n        }\n      };\n      editor.ui.registry.addMenuItem('listprops', listProperties);\n      editor.ui.registry.addContextMenu('lists', {\n        update: function (node) {\n          var parentList = getParentList(editor, node);\n          return isOlNode(parentList) ? ['listprops'] : [];\n        }\n      });\n    };\n\n    function Plugin () {\n      global$7.add('lists', function (editor) {\n        if (editor.hasPlugin('rtc', true) === false) {\n          setup(editor);\n          register$2(editor);\n        } else {\n          registerDialog(editor);\n        }\n        register$1(editor);\n        register(editor);\n        return get(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"media\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/media')\n//   ES2015:\n//     import 'tinymce/plugins/media'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isString = isType('string');\n    var isObject = isType('object');\n    var isArray = isType('array');\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var nativePush = Array.prototype.push;\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var get$1 = function (obj, key) {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var getScripts = function (editor) {\n      return editor.getParam('media_scripts');\n    };\n    var getAudioTemplateCallback = function (editor) {\n      return editor.getParam('audio_template_callback');\n    };\n    var getVideoTemplateCallback = function (editor) {\n      return editor.getParam('video_template_callback');\n    };\n    var hasLiveEmbeds = function (editor) {\n      return editor.getParam('media_live_embeds', true);\n    };\n    var shouldFilterHtml = function (editor) {\n      return editor.getParam('media_filter_html', true);\n    };\n    var getUrlResolver = function (editor) {\n      return editor.getParam('media_url_resolver');\n    };\n    var hasAltSource = function (editor) {\n      return editor.getParam('media_alt_source', true);\n    };\n    var hasPoster = function (editor) {\n      return editor.getParam('media_poster', true);\n    };\n    var hasDimensions = function (editor) {\n      return editor.getParam('media_dimensions', true);\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.html.SaxParser');\n\n    var getVideoScriptMatch = function (prefixes, src) {\n      if (prefixes) {\n        for (var i = 0; i < prefixes.length; i++) {\n          if (src.indexOf(prefixes[i].filter) !== -1) {\n            return prefixes[i];\n          }\n        }\n      }\n    };\n\n    var DOM$1 = global$7.DOM;\n    var trimPx = function (value) {\n      return value.replace(/px$/, '');\n    };\n    var getEphoxEmbedData = function (attrs) {\n      var style = attrs.map.style;\n      var styles = style ? DOM$1.parseStyle(style) : {};\n      return {\n        type: 'ephox-embed-iri',\n        source: attrs.map['data-ephox-embed-iri'],\n        altsource: '',\n        poster: '',\n        width: get$1(styles, 'max-width').map(trimPx).getOr(''),\n        height: get$1(styles, 'max-height').map(trimPx).getOr('')\n      };\n    };\n    var htmlToData = function (prefixes, html) {\n      var isEphoxEmbed = Cell(false);\n      var data = {};\n      global$6({\n        validate: false,\n        allow_conditional_comments: true,\n        start: function (name, attrs) {\n          if (isEphoxEmbed.get()) ; else if (has(attrs.map, 'data-ephox-embed-iri')) {\n            isEphoxEmbed.set(true);\n            data = getEphoxEmbedData(attrs);\n          } else {\n            if (!data.source && name === 'param') {\n              data.source = attrs.map.movie;\n            }\n            if (name === 'iframe' || name === 'object' || name === 'embed' || name === 'video' || name === 'audio') {\n              if (!data.type) {\n                data.type = name;\n              }\n              data = global$8.extend(attrs.map, data);\n            }\n            if (name === 'script') {\n              var videoScript = getVideoScriptMatch(prefixes, attrs.map.src);\n              if (!videoScript) {\n                return;\n              }\n              data = {\n                type: 'script',\n                source: attrs.map.src,\n                width: String(videoScript.width),\n                height: String(videoScript.height)\n              };\n            }\n            if (name === 'source') {\n              if (!data.source) {\n                data.source = attrs.map.src;\n              } else if (!data.altsource) {\n                data.altsource = attrs.map.src;\n              }\n            }\n            if (name === 'img' && !data.poster) {\n              data.poster = attrs.map.src;\n            }\n          }\n        }\n      }).parse(html);\n      data.source = data.source || data.src || data.data;\n      data.altsource = data.altsource || '';\n      data.poster = data.poster || '';\n      return data;\n    };\n\n    var guess = function (url) {\n      var mimes = {\n        mp3: 'audio/mpeg',\n        m4a: 'audio/x-m4a',\n        wav: 'audio/wav',\n        mp4: 'video/mp4',\n        webm: 'video/webm',\n        ogg: 'video/ogg',\n        swf: 'application/x-shockwave-flash'\n      };\n      var fileEnd = url.toLowerCase().split('.').pop();\n      var mime = mimes[fileEnd];\n      return mime ? mime : '';\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.html.Schema');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.html.Writer');\n\n    var DOM = global$7.DOM;\n    var addPx = function (value) {\n      return /^[0-9.]+$/.test(value) ? value + 'px' : value;\n    };\n    var setAttributes = function (attrs, updatedAttrs) {\n      each(updatedAttrs, function (val, name) {\n        var value = '' + val;\n        if (attrs.map[name]) {\n          var i = attrs.length;\n          while (i--) {\n            var attr = attrs[i];\n            if (attr.name === name) {\n              if (value) {\n                attrs.map[name] = value;\n                attr.value = value;\n              } else {\n                delete attrs.map[name];\n                attrs.splice(i, 1);\n              }\n            }\n          }\n        } else if (value) {\n          attrs.push({\n            name: name,\n            value: value\n          });\n          attrs.map[name] = value;\n        }\n      });\n    };\n    var updateEphoxEmbed = function (data, attrs) {\n      var style = attrs.map.style;\n      var styleMap = style ? DOM.parseStyle(style) : {};\n      styleMap['max-width'] = addPx(data.width);\n      styleMap['max-height'] = addPx(data.height);\n      setAttributes(attrs, { style: DOM.serializeStyle(styleMap) });\n    };\n    var sources = [\n      'source',\n      'altsource'\n    ];\n    var updateHtml = function (html, data, updateAll) {\n      var writer = global$4();\n      var isEphoxEmbed = Cell(false);\n      var sourceCount = 0;\n      var hasImage;\n      global$6({\n        validate: false,\n        allow_conditional_comments: true,\n        comment: function (text) {\n          writer.comment(text);\n        },\n        cdata: function (text) {\n          writer.cdata(text);\n        },\n        text: function (text, raw) {\n          writer.text(text, raw);\n        },\n        start: function (name, attrs, empty) {\n          if (isEphoxEmbed.get()) ; else if (has(attrs.map, 'data-ephox-embed-iri')) {\n            isEphoxEmbed.set(true);\n            updateEphoxEmbed(data, attrs);\n          } else {\n            switch (name) {\n            case 'video':\n            case 'object':\n            case 'embed':\n            case 'img':\n            case 'iframe':\n              if (data.height !== undefined && data.width !== undefined) {\n                setAttributes(attrs, {\n                  width: data.width,\n                  height: data.height\n                });\n              }\n              break;\n            }\n            if (updateAll) {\n              switch (name) {\n              case 'video':\n                setAttributes(attrs, {\n                  poster: data.poster,\n                  src: ''\n                });\n                if (data.altsource) {\n                  setAttributes(attrs, { src: '' });\n                }\n                break;\n              case 'iframe':\n                setAttributes(attrs, { src: data.source });\n                break;\n              case 'source':\n                if (sourceCount < 2) {\n                  setAttributes(attrs, {\n                    src: data[sources[sourceCount]],\n                    type: data[sources[sourceCount] + 'mime']\n                  });\n                  if (!data[sources[sourceCount]]) {\n                    return;\n                  }\n                }\n                sourceCount++;\n                break;\n              case 'img':\n                if (!data.poster) {\n                  return;\n                }\n                hasImage = true;\n                break;\n              }\n            }\n          }\n          writer.start(name, attrs, empty);\n        },\n        end: function (name) {\n          if (!isEphoxEmbed.get()) {\n            if (name === 'video' && updateAll) {\n              for (var index = 0; index < 2; index++) {\n                if (data[sources[index]]) {\n                  var attrs = [];\n                  attrs.map = {};\n                  if (sourceCount <= index) {\n                    setAttributes(attrs, {\n                      src: data[sources[index]],\n                      type: data[sources[index] + 'mime']\n                    });\n                    writer.start('source', attrs, true);\n                  }\n                }\n              }\n            }\n            if (data.poster && name === 'object' && updateAll && !hasImage) {\n              var imgAttrs = [];\n              imgAttrs.map = {};\n              setAttributes(imgAttrs, {\n                src: data.poster,\n                width: data.width,\n                height: data.height\n              });\n              writer.start('img', imgAttrs, true);\n            }\n          }\n          writer.end(name);\n        }\n      }, global$5({})).parse(html);\n      return writer.getContent();\n    };\n\n    var urlPatterns = [\n      {\n        regex: /youtu\\.be\\/([\\w\\-_\\?&=.]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube\\.com(.+)v=([^&]+)(&([a-z0-9&=\\-_]+))?/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$2?$4',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube.com\\/embed\\/([a-z0-9\\?&=\\-_]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/(.*)\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$2?title=0&amp;byline=0',\n        allowFullscreen: true\n      },\n      {\n        regex: /maps\\.google\\.([a-z]{2,3})\\/maps\\/(.+)msid=(.+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'maps.google.com/maps/ms?msid=$2&output=embed\"',\n        allowFullscreen: false\n      },\n      {\n        regex: /dailymotion\\.com\\/video\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /dai\\.ly\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      }\n    ];\n    var getProtocol = function (url) {\n      var protocolMatches = url.match(/^(https?:\\/\\/|www\\.)(.+)$/i);\n      if (protocolMatches && protocolMatches.length > 1) {\n        return protocolMatches[1] === 'www.' ? 'https://' : protocolMatches[1];\n      } else {\n        return 'https://';\n      }\n    };\n    var getUrl = function (pattern, url) {\n      var protocol = getProtocol(url);\n      var match = pattern.regex.exec(url);\n      var newUrl = protocol + pattern.url;\n      var _loop_1 = function (i) {\n        newUrl = newUrl.replace('$' + i, function () {\n          return match[i] ? match[i] : '';\n        });\n      };\n      for (var i = 0; i < match.length; i++) {\n        _loop_1(i);\n      }\n      return newUrl.replace(/\\?$/, '');\n    };\n    var matchPattern = function (url) {\n      var patterns = urlPatterns.filter(function (pattern) {\n        return pattern.regex.test(url);\n      });\n      if (patterns.length > 0) {\n        return global$8.extend({}, patterns[0], { url: getUrl(patterns[0], url) });\n      } else {\n        return null;\n      }\n    };\n\n    var getIframeHtml = function (data) {\n      var allowFullscreen = data.allowfullscreen ? ' allowFullscreen=\"1\"' : '';\n      return '<iframe src=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\"' + allowFullscreen + '></iframe>';\n    };\n    var getFlashHtml = function (data) {\n      var html = '<object data=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" type=\"application/x-shockwave-flash\">';\n      if (data.poster) {\n        html += '<img src=\"' + data.poster + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" />';\n      }\n      html += '</object>';\n      return html;\n    };\n    var getAudioHtml = function (data, audioTemplateCallback) {\n      if (audioTemplateCallback) {\n        return audioTemplateCallback(data);\n      } else {\n        return '<audio controls=\"controls\" src=\"' + data.source + '\">' + (data.altsource ? '\\n<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</audio>';\n      }\n    };\n    var getVideoHtml = function (data, videoTemplateCallback) {\n      if (videoTemplateCallback) {\n        return videoTemplateCallback(data);\n      } else {\n        return '<video width=\"' + data.width + '\" height=\"' + data.height + '\"' + (data.poster ? ' poster=\"' + data.poster + '\"' : '') + ' controls=\"controls\">\\n' + '<source src=\"' + data.source + '\"' + (data.sourcemime ? ' type=\"' + data.sourcemime + '\"' : '') + ' />\\n' + (data.altsource ? '<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</video>';\n      }\n    };\n    var getScriptHtml = function (data) {\n      return '<script src=\"' + data.source + '\"></script>';\n    };\n    var dataToHtml = function (editor, dataIn) {\n      var data = global$8.extend({}, dataIn);\n      if (!data.source) {\n        global$8.extend(data, htmlToData(getScripts(editor), data.embed));\n        if (!data.source) {\n          return '';\n        }\n      }\n      if (!data.altsource) {\n        data.altsource = '';\n      }\n      if (!data.poster) {\n        data.poster = '';\n      }\n      data.source = editor.convertURL(data.source, 'source');\n      data.altsource = editor.convertURL(data.altsource, 'source');\n      data.sourcemime = guess(data.source);\n      data.altsourcemime = guess(data.altsource);\n      data.poster = editor.convertURL(data.poster, 'poster');\n      var pattern = matchPattern(data.source);\n      if (pattern) {\n        data.source = pattern.url;\n        data.type = pattern.type;\n        data.allowfullscreen = pattern.allowFullscreen;\n        data.width = data.width || String(pattern.w);\n        data.height = data.height || String(pattern.h);\n      }\n      if (data.embed) {\n        return updateHtml(data.embed, data, true);\n      } else {\n        var videoScript = getVideoScriptMatch(getScripts(editor), data.source);\n        if (videoScript) {\n          data.type = 'script';\n          data.width = String(videoScript.width);\n          data.height = String(videoScript.height);\n        }\n        var audioTemplateCallback = getAudioTemplateCallback(editor);\n        var videoTemplateCallback = getVideoTemplateCallback(editor);\n        data.width = data.width || '300';\n        data.height = data.height || '150';\n        global$8.each(data, function (value, key) {\n          data[key] = editor.dom.encode('' + value);\n        });\n        if (data.type === 'iframe') {\n          return getIframeHtml(data);\n        } else if (data.sourcemime === 'application/x-shockwave-flash') {\n          return getFlashHtml(data);\n        } else if (data.sourcemime.indexOf('audio') !== -1) {\n          return getAudioHtml(data, audioTemplateCallback);\n        } else if (data.type === 'script') {\n          return getScriptHtml(data);\n        } else {\n          return getVideoHtml(data, videoTemplateCallback);\n        }\n      }\n    };\n\n    var isMediaElement = function (element) {\n      return element.hasAttribute('data-mce-object') || element.hasAttribute('data-ephox-embed-iri');\n    };\n    var setup$2 = function (editor) {\n      editor.on('click keyup touchend', function () {\n        var selectedNode = editor.selection.getNode();\n        if (selectedNode && editor.dom.hasClass(selectedNode, 'mce-preview-object')) {\n          if (editor.dom.getAttrib(selectedNode, 'data-mce-selected')) {\n            selectedNode.setAttribute('data-mce-selected', '2');\n          }\n        }\n      });\n      editor.on('ObjectSelected', function (e) {\n        var objectType = e.target.getAttribute('data-mce-object');\n        if (objectType === 'script') {\n          e.preventDefault();\n        }\n      });\n      editor.on('ObjectResized', function (e) {\n        var target = e.target;\n        if (target.getAttribute('data-mce-object')) {\n          var html = target.getAttribute('data-mce-html');\n          if (html) {\n            html = unescape(html);\n            target.setAttribute('data-mce-html', escape(updateHtml(html, {\n              width: String(e.width),\n              height: String(e.height)\n            })));\n          }\n        }\n      });\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var cache = {};\n    var embedPromise = function (data, dataToHtml, handler) {\n      return new global$3(function (res, rej) {\n        var wrappedResolve = function (response) {\n          if (response.html) {\n            cache[data.source] = response;\n          }\n          return res({\n            url: data.source,\n            html: response.html ? response.html : dataToHtml(data)\n          });\n        };\n        if (cache[data.source]) {\n          wrappedResolve(cache[data.source]);\n        } else {\n          handler({ url: data.source }, wrappedResolve, rej);\n        }\n      });\n    };\n    var defaultPromise = function (data, dataToHtml) {\n      return global$3.resolve({\n        html: dataToHtml(data),\n        url: data.source\n      });\n    };\n    var loadedData = function (editor) {\n      return function (data) {\n        return dataToHtml(editor, data);\n      };\n    };\n    var getEmbedHtml = function (editor, data) {\n      var embedHandler = getUrlResolver(editor);\n      return embedHandler ? embedPromise(data, loadedData(editor), embedHandler) : defaultPromise(data, loadedData(editor));\n    };\n    var isCached = function (url) {\n      return has(cache, url);\n    };\n\n    var extractMeta = function (sourceInput, data) {\n      return get$1(data, sourceInput).bind(function (mainData) {\n        return get$1(mainData, 'meta');\n      });\n    };\n    var getValue = function (data, metaData, sourceInput) {\n      return function (prop) {\n        var _a;\n        var getFromData = function () {\n          return get$1(data, prop);\n        };\n        var getFromMetaData = function () {\n          return get$1(metaData, prop);\n        };\n        var getNonEmptyValue = function (c) {\n          return get$1(c, 'value').bind(function (v) {\n            return v.length > 0 ? Optional.some(v) : Optional.none();\n          });\n        };\n        var getFromValueFirst = function () {\n          return getFromData().bind(function (child) {\n            return isObject(child) ? getNonEmptyValue(child).orThunk(getFromMetaData) : getFromMetaData().orThunk(function () {\n              return Optional.from(child);\n            });\n          });\n        };\n        var getFromMetaFirst = function () {\n          return getFromMetaData().orThunk(function () {\n            return getFromData().bind(function (child) {\n              return isObject(child) ? getNonEmptyValue(child) : Optional.from(child);\n            });\n          });\n        };\n        return _a = {}, _a[prop] = (prop === sourceInput ? getFromValueFirst() : getFromMetaFirst()).getOr(''), _a;\n      };\n    };\n    var getDimensions = function (data, metaData) {\n      var dimensions = {};\n      get$1(data, 'dimensions').each(function (dims) {\n        each$1([\n          'width',\n          'height'\n        ], function (prop) {\n          get$1(metaData, prop).orThunk(function () {\n            return get$1(dims, prop);\n          }).each(function (value) {\n            return dimensions[prop] = value;\n          });\n        });\n      });\n      return dimensions;\n    };\n    var unwrap = function (data, sourceInput) {\n      var metaData = sourceInput ? extractMeta(sourceInput, data).getOr({}) : {};\n      var get = getValue(data, metaData, sourceInput);\n      return __assign(__assign(__assign(__assign(__assign({}, get('source')), get('altsource')), get('poster')), get('embed')), getDimensions(data, metaData));\n    };\n    var wrap = function (data) {\n      var wrapped = __assign(__assign({}, data), {\n        source: { value: get$1(data, 'source').getOr('') },\n        altsource: { value: get$1(data, 'altsource').getOr('') },\n        poster: { value: get$1(data, 'poster').getOr('') }\n      });\n      each$1([\n        'width',\n        'height'\n      ], function (prop) {\n        get$1(data, prop).each(function (value) {\n          var dimensions = wrapped.dimensions || {};\n          dimensions[prop] = value;\n          wrapped.dimensions = dimensions;\n        });\n      });\n      return wrapped;\n    };\n    var handleError = function (editor) {\n      return function (error) {\n        var errorMessage = error && error.msg ? 'Media embed handler error: ' + error.msg : 'Media embed handler threw unknown error.';\n        editor.notificationManager.open({\n          type: 'error',\n          text: errorMessage\n        });\n      };\n    };\n    var snippetToData = function (editor, embedSnippet) {\n      return htmlToData(getScripts(editor), embedSnippet);\n    };\n    var getEditorData = function (editor) {\n      var element = editor.selection.getNode();\n      var snippet = isMediaElement(element) ? editor.serializer.serialize(element, { selection: true }) : '';\n      return __assign({ embed: snippet }, htmlToData(getScripts(editor), snippet));\n    };\n    var addEmbedHtml = function (api, editor) {\n      return function (response) {\n        if (isString(response.url) && response.url.trim().length > 0) {\n          var html = response.html;\n          var snippetData = snippetToData(editor, html);\n          var nuData = __assign(__assign({}, snippetData), {\n            source: response.url,\n            embed: html\n          });\n          api.setData(wrap(nuData));\n        }\n      };\n    };\n    var selectPlaceholder = function (editor, beforeObjects) {\n      var afterObjects = editor.dom.select('*[data-mce-object]');\n      for (var i = 0; i < beforeObjects.length; i++) {\n        for (var y = afterObjects.length - 1; y >= 0; y--) {\n          if (beforeObjects[i] === afterObjects[y]) {\n            afterObjects.splice(y, 1);\n          }\n        }\n      }\n      editor.selection.select(afterObjects[0]);\n    };\n    var handleInsert = function (editor, html) {\n      var beforeObjects = editor.dom.select('*[data-mce-object]');\n      editor.insertContent(html);\n      selectPlaceholder(editor, beforeObjects);\n      editor.nodeChanged();\n    };\n    var submitForm = function (prevData, newData, editor) {\n      newData.embed = updateHtml(newData.embed, newData);\n      if (newData.embed && (prevData.source === newData.source || isCached(newData.source))) {\n        handleInsert(editor, newData.embed);\n      } else {\n        getEmbedHtml(editor, newData).then(function (response) {\n          handleInsert(editor, response.html);\n        }).catch(handleError(editor));\n      }\n    };\n    var showDialog = function (editor) {\n      var editorData = getEditorData(editor);\n      var currentData = Cell(editorData);\n      var initialData = wrap(editorData);\n      var handleSource = function (prevData, api) {\n        var serviceData = unwrap(api.getData(), 'source');\n        if (prevData.source !== serviceData.source) {\n          addEmbedHtml(win, editor)({\n            url: serviceData.source,\n            html: ''\n          });\n          getEmbedHtml(editor, serviceData).then(addEmbedHtml(win, editor)).catch(handleError(editor));\n        }\n      };\n      var handleEmbed = function (api) {\n        var data = unwrap(api.getData());\n        var dataFromEmbed = snippetToData(editor, data.embed);\n        api.setData(wrap(dataFromEmbed));\n      };\n      var handleUpdate = function (api, sourceInput) {\n        var data = unwrap(api.getData(), sourceInput);\n        var embed = dataToHtml(editor, data);\n        api.setData(wrap(__assign(__assign({}, data), { embed: embed })));\n      };\n      var mediaInput = [{\n          name: 'source',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Source'\n        }];\n      var sizeInput = !hasDimensions(editor) ? [] : [{\n          type: 'sizeinput',\n          name: 'dimensions',\n          label: 'Constrain proportions',\n          constrain: true\n        }];\n      var generalTab = {\n        title: 'General',\n        name: 'general',\n        items: flatten([\n          mediaInput,\n          sizeInput\n        ])\n      };\n      var embedTextarea = {\n        type: 'textarea',\n        name: 'embed',\n        label: 'Paste your embed code below:'\n      };\n      var embedTab = {\n        title: 'Embed',\n        items: [embedTextarea]\n      };\n      var advancedFormItems = [];\n      if (hasAltSource(editor)) {\n        advancedFormItems.push({\n          name: 'altsource',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Alternative source URL'\n        });\n      }\n      if (hasPoster(editor)) {\n        advancedFormItems.push({\n          name: 'poster',\n          type: 'urlinput',\n          filetype: 'image',\n          label: 'Media poster (Image URL)'\n        });\n      }\n      var advancedTab = {\n        title: 'Advanced',\n        name: 'advanced',\n        items: advancedFormItems\n      };\n      var tabs = [\n        generalTab,\n        embedTab\n      ];\n      if (advancedFormItems.length > 0) {\n        tabs.push(advancedTab);\n      }\n      var body = {\n        type: 'tabpanel',\n        tabs: tabs\n      };\n      var win = editor.windowManager.open({\n        title: 'Insert/Edit Media',\n        size: 'normal',\n        body: body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: function (api) {\n          var serviceData = unwrap(api.getData());\n          submitForm(currentData.get(), serviceData, editor);\n          api.close();\n        },\n        onChange: function (api, detail) {\n          switch (detail.name) {\n          case 'source':\n            handleSource(currentData.get(), api);\n            break;\n          case 'embed':\n            handleEmbed(api);\n            break;\n          case 'dimensions':\n          case 'altsource':\n          case 'poster':\n            handleUpdate(api, detail.name);\n            break;\n          }\n          currentData.set(unwrap(api.getData()));\n        },\n        initialData: initialData\n      });\n    };\n\n    var get = function (editor) {\n      var showDialog$1 = function () {\n        showDialog(editor);\n      };\n      return { showDialog: showDialog$1 };\n    };\n\n    var register$1 = function (editor) {\n      var showDialog$1 = function () {\n        showDialog(editor);\n      };\n      editor.addCommand('mceMedia', showDialog$1);\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    var sanitize = function (editor, html) {\n      if (shouldFilterHtml(editor) === false) {\n        return html;\n      }\n      var writer = global$4();\n      var blocked;\n      global$6({\n        validate: false,\n        allow_conditional_comments: false,\n        comment: function (text) {\n          if (!blocked) {\n            writer.comment(text);\n          }\n        },\n        cdata: function (text) {\n          if (!blocked) {\n            writer.cdata(text);\n          }\n        },\n        text: function (text, raw) {\n          if (!blocked) {\n            writer.text(text, raw);\n          }\n        },\n        start: function (name, attrs, empty) {\n          blocked = true;\n          if (name === 'script' || name === 'noscript' || name === 'svg') {\n            return;\n          }\n          for (var i = attrs.length - 1; i >= 0; i--) {\n            var attrName = attrs[i].name;\n            if (attrName.indexOf('on') === 0) {\n              delete attrs.map[attrName];\n              attrs.splice(i, 1);\n            }\n            if (attrName === 'style') {\n              attrs[i].value = editor.dom.serializeStyle(editor.dom.parseStyle(attrs[i].value), name);\n            }\n          }\n          writer.start(name, attrs, empty);\n          blocked = false;\n        },\n        end: function (name) {\n          if (blocked) {\n            return;\n          }\n          writer.end(name);\n        }\n      }, global$5({})).parse(html);\n      return writer.getContent();\n    };\n\n    var isLiveEmbedNode = function (node) {\n      var name = node.name;\n      return name === 'iframe' || name === 'video' || name === 'audio';\n    };\n    var getDimension = function (node, styles, dimension, defaultValue) {\n      if (defaultValue === void 0) {\n        defaultValue = null;\n      }\n      var value = node.attr(dimension);\n      if (isNonNullable(value)) {\n        return value;\n      } else if (!has(styles, dimension)) {\n        return defaultValue;\n      } else {\n        return null;\n      }\n    };\n    var setDimensions = function (node, previewNode, styles) {\n      var useDefaults = previewNode.name === 'img' || node.name === 'video';\n      var defaultWidth = useDefaults ? '300' : null;\n      var fallbackHeight = node.name === 'audio' ? '30' : '150';\n      var defaultHeight = useDefaults ? fallbackHeight : null;\n      previewNode.attr({\n        width: getDimension(node, styles, 'width', defaultWidth),\n        height: getDimension(node, styles, 'height', defaultHeight)\n      });\n    };\n    var appendNodeContent = function (editor, nodeName, previewNode, html) {\n      var newNode = global({\n        forced_root_block: false,\n        validate: false\n      }, editor.schema).parse(html, { context: nodeName });\n      while (newNode.firstChild) {\n        previewNode.append(newNode.firstChild);\n      }\n    };\n    var createPlaceholderNode = function (editor, node) {\n      var name = node.name;\n      var placeHolder = new global$2('img', 1);\n      placeHolder.shortEnded = true;\n      retainAttributesAndInnerHtml(editor, node, placeHolder);\n      setDimensions(node, placeHolder, {});\n      placeHolder.attr({\n        'style': node.attr('style'),\n        'src': global$1.transparentSrc,\n        'data-mce-object': name,\n        'class': 'mce-object mce-object-' + name\n      });\n      return placeHolder;\n    };\n    var createPreviewNode = function (editor, node) {\n      var name = node.name;\n      var previewWrapper = new global$2('span', 1);\n      previewWrapper.attr({\n        'contentEditable': 'false',\n        'style': node.attr('style'),\n        'data-mce-object': name,\n        'class': 'mce-preview-object mce-object-' + name\n      });\n      retainAttributesAndInnerHtml(editor, node, previewWrapper);\n      var styles = editor.dom.parseStyle(node.attr('style'));\n      var previewNode = new global$2(name, 1);\n      setDimensions(node, previewNode, styles);\n      previewNode.attr({\n        src: node.attr('src'),\n        style: node.attr('style'),\n        class: node.attr('class')\n      });\n      if (name === 'iframe') {\n        previewNode.attr({\n          allowfullscreen: node.attr('allowfullscreen'),\n          frameborder: '0'\n        });\n      } else {\n        var attrs = [\n          'controls',\n          'crossorigin',\n          'currentTime',\n          'loop',\n          'muted',\n          'poster',\n          'preload'\n        ];\n        each$1(attrs, function (attrName) {\n          previewNode.attr(attrName, node.attr(attrName));\n        });\n        var sanitizedHtml = previewWrapper.attr('data-mce-html');\n        if (isNonNullable(sanitizedHtml)) {\n          appendNodeContent(editor, name, previewNode, unescape(sanitizedHtml));\n        }\n      }\n      var shimNode = new global$2('span', 1);\n      shimNode.attr('class', 'mce-shim');\n      previewWrapper.append(previewNode);\n      previewWrapper.append(shimNode);\n      return previewWrapper;\n    };\n    var retainAttributesAndInnerHtml = function (editor, sourceNode, targetNode) {\n      var attribs = sourceNode.attributes;\n      var ai = attribs.length;\n      while (ai--) {\n        var attrName = attribs[ai].name;\n        var attrValue = attribs[ai].value;\n        if (attrName !== 'width' && attrName !== 'height' && attrName !== 'style') {\n          if (attrName === 'data' || attrName === 'src') {\n            attrValue = editor.convertURL(attrValue, attrName);\n          }\n          targetNode.attr('data-mce-p-' + attrName, attrValue);\n        }\n      }\n      var innerHtml = sourceNode.firstChild && sourceNode.firstChild.value;\n      if (innerHtml) {\n        targetNode.attr('data-mce-html', escape(sanitize(editor, innerHtml)));\n        targetNode.firstChild = null;\n      }\n    };\n    var isPageEmbedWrapper = function (node) {\n      var nodeClass = node.attr('class');\n      return nodeClass && /\\btiny-pageembed\\b/.test(nodeClass);\n    };\n    var isWithinEmbedWrapper = function (node) {\n      while (node = node.parent) {\n        if (node.attr('data-ephox-embed-iri') || isPageEmbedWrapper(node)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var placeHolderConverter = function (editor) {\n      return function (nodes) {\n        var i = nodes.length;\n        var node;\n        var videoScript;\n        while (i--) {\n          node = nodes[i];\n          if (!node.parent) {\n            continue;\n          }\n          if (node.parent.attr('data-mce-object')) {\n            continue;\n          }\n          if (node.name === 'script') {\n            videoScript = getVideoScriptMatch(getScripts(editor), node.attr('src'));\n            if (!videoScript) {\n              continue;\n            }\n          }\n          if (videoScript) {\n            if (videoScript.width) {\n              node.attr('width', videoScript.width.toString());\n            }\n            if (videoScript.height) {\n              node.attr('height', videoScript.height.toString());\n            }\n          }\n          if (isLiveEmbedNode(node) && hasLiveEmbeds(editor) && global$1.ceFalse) {\n            if (!isWithinEmbedWrapper(node)) {\n              node.replace(createPreviewNode(editor, node));\n            }\n          } else {\n            if (!isWithinEmbedWrapper(node)) {\n              node.replace(createPlaceholderNode(editor, node));\n            }\n          }\n        }\n      };\n    };\n\n    var setup$1 = function (editor) {\n      editor.on('preInit', function () {\n        var specialElements = editor.schema.getSpecialElements();\n        global$8.each('video audio iframe object'.split(' '), function (name) {\n          specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n        });\n        var boolAttrs = editor.schema.getBoolAttrs();\n        global$8.each('webkitallowfullscreen mozallowfullscreen allowfullscreen'.split(' '), function (name) {\n          boolAttrs[name] = {};\n        });\n        editor.parser.addNodeFilter('iframe,video,audio,object,embed,script', placeHolderConverter(editor));\n        editor.serializer.addAttributeFilter('data-mce-object', function (nodes, name) {\n          var i = nodes.length;\n          var node;\n          var realElm;\n          var ai;\n          var attribs;\n          var innerHtml;\n          var innerNode;\n          var realElmName;\n          var className;\n          while (i--) {\n            node = nodes[i];\n            if (!node.parent) {\n              continue;\n            }\n            realElmName = node.attr(name);\n            realElm = new global$2(realElmName, 1);\n            if (realElmName !== 'audio' && realElmName !== 'script') {\n              className = node.attr('class');\n              if (className && className.indexOf('mce-preview-object') !== -1) {\n                realElm.attr({\n                  width: node.firstChild.attr('width'),\n                  height: node.firstChild.attr('height')\n                });\n              } else {\n                realElm.attr({\n                  width: node.attr('width'),\n                  height: node.attr('height')\n                });\n              }\n            }\n            realElm.attr({ style: node.attr('style') });\n            attribs = node.attributes;\n            ai = attribs.length;\n            while (ai--) {\n              var attrName = attribs[ai].name;\n              if (attrName.indexOf('data-mce-p-') === 0) {\n                realElm.attr(attrName.substr(11), attribs[ai].value);\n              }\n            }\n            if (realElmName === 'script') {\n              realElm.attr('type', 'text/javascript');\n            }\n            innerHtml = node.attr('data-mce-html');\n            if (innerHtml) {\n              innerNode = new global$2('#text', 3);\n              innerNode.raw = true;\n              innerNode.value = sanitize(editor, unescape(innerHtml));\n              realElm.append(innerNode);\n            }\n            node.replace(realElm);\n          }\n        });\n      });\n      editor.on('SetContent', function () {\n        editor.$('span.mce-preview-object').each(function (index, elm) {\n          var $elm = editor.$(elm);\n          if ($elm.find('span.mce-shim').length === 0) {\n            $elm.append('<span class=\"mce-shim\"></span>');\n          }\n        });\n      });\n    };\n\n    var setup = function (editor) {\n      editor.on('ResolveName', function (e) {\n        var name;\n        if (e.target.nodeType === 1 && (name = e.target.getAttribute('data-mce-object'))) {\n          e.name = name;\n        }\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mceMedia');\n      };\n      editor.ui.registry.addToggleButton('media', {\n        tooltip: 'Insert/edit media',\n        icon: 'embed',\n        onAction: onAction,\n        onSetup: function (buttonApi) {\n          var selection = editor.selection;\n          buttonApi.setActive(isMediaElement(selection.getNode()));\n          return selection.selectorChangedWithUnbind('img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]', buttonApi.setActive).unbind;\n        }\n      });\n      editor.ui.registry.addMenuItem('media', {\n        icon: 'embed',\n        text: 'Media...',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$9.add('media', function (editor) {\n        register$1(editor);\n        register(editor);\n        setup(editor);\n        setup$1(editor);\n        setup$2(editor);\n        return get(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"nonbreaking\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/nonbreaking')\n//   ES2015:\n//     import 'tinymce/plugins/nonbreaking'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var getKeyboardSpaces = function (editor) {\n      var spaces = editor.getParam('nonbreaking_force_tab', 0);\n      if (typeof spaces === 'boolean') {\n        return spaces === true ? 3 : 0;\n      } else {\n        return spaces;\n      }\n    };\n    var wrapNbsps = function (editor) {\n      return editor.getParam('nonbreaking_wrap', true, 'boolean');\n    };\n\n    var stringRepeat = function (string, repeats) {\n      var str = '';\n      for (var index = 0; index < repeats; index++) {\n        str += string;\n      }\n      return str;\n    };\n    var isVisualCharsEnabled = function (editor) {\n      return editor.plugins.visualchars ? editor.plugins.visualchars.isEnabled() : false;\n    };\n    var insertNbsp = function (editor, times) {\n      var classes = function () {\n        return isVisualCharsEnabled(editor) ? 'mce-nbsp-wrap mce-nbsp' : 'mce-nbsp-wrap';\n      };\n      var nbspSpan = function () {\n        return '<span class=\"' + classes() + '\" contenteditable=\"false\">' + stringRepeat('&nbsp;', times) + '</span>';\n      };\n      var shouldWrap = wrapNbsps(editor);\n      var html = shouldWrap || editor.plugins.visualchars ? nbspSpan() : stringRepeat('&nbsp;', times);\n      editor.undoManager.transact(function () {\n        return editor.insertContent(html);\n      });\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceNonBreaking', function () {\n        insertNbsp(editor, 1);\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var setup = function (editor) {\n      var spaces = getKeyboardSpaces(editor);\n      if (spaces > 0) {\n        editor.on('keydown', function (e) {\n          if (e.keyCode === global.TAB && !e.isDefaultPrevented()) {\n            if (e.shiftKey) {\n              return;\n            }\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            insertNbsp(editor, spaces);\n          }\n        });\n      }\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mceNonBreaking');\n      };\n      editor.ui.registry.addButton('nonbreaking', {\n        icon: 'non-breaking',\n        tooltip: 'Nonbreaking space',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('nonbreaking', {\n        icon: 'non-breaking',\n        text: 'Nonbreaking space',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$1.add('nonbreaking', function (editor) {\n        register$1(editor);\n        register(editor);\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"noneditable\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/noneditable')\n//   ES2015:\n//     import 'tinymce/plugins/noneditable'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getNonEditableClass = function (editor) {\n      return editor.getParam('noneditable_noneditable_class', 'mceNonEditable');\n    };\n    var getEditableClass = function (editor) {\n      return editor.getParam('noneditable_editable_class', 'mceEditable');\n    };\n    var getNonEditableRegExps = function (editor) {\n      var nonEditableRegExps = editor.getParam('noneditable_regexp', []);\n      if (nonEditableRegExps && nonEditableRegExps.constructor === RegExp) {\n        return [nonEditableRegExps];\n      } else {\n        return nonEditableRegExps;\n      }\n    };\n\n    var hasClass = function (checkClassName) {\n      return function (node) {\n        return (' ' + node.attr('class') + ' ').indexOf(checkClassName) !== -1;\n      };\n    };\n    var replaceMatchWithSpan = function (editor, content, cls) {\n      return function (match) {\n        var args = arguments, index = args[args.length - 2];\n        var prevChar = index > 0 ? content.charAt(index - 1) : '';\n        if (prevChar === '\"') {\n          return match;\n        }\n        if (prevChar === '>') {\n          var findStartTagIndex = content.lastIndexOf('<', index);\n          if (findStartTagIndex !== -1) {\n            var tagHtml = content.substring(findStartTagIndex, index);\n            if (tagHtml.indexOf('contenteditable=\"false\"') !== -1) {\n              return match;\n            }\n          }\n        }\n        return '<span class=\"' + cls + '\" data-mce-content=\"' + editor.dom.encode(args[0]) + '\">' + editor.dom.encode(typeof args[1] === 'string' ? args[1] : args[0]) + '</span>';\n      };\n    };\n    var convertRegExpsToNonEditable = function (editor, nonEditableRegExps, e) {\n      var i = nonEditableRegExps.length, content = e.content;\n      if (e.format === 'raw') {\n        return;\n      }\n      while (i--) {\n        content = content.replace(nonEditableRegExps[i], replaceMatchWithSpan(editor, content, getNonEditableClass(editor)));\n      }\n      e.content = content;\n    };\n    var setup = function (editor) {\n      var contentEditableAttrName = 'contenteditable';\n      var editClass = ' ' + global.trim(getEditableClass(editor)) + ' ';\n      var nonEditClass = ' ' + global.trim(getNonEditableClass(editor)) + ' ';\n      var hasEditClass = hasClass(editClass);\n      var hasNonEditClass = hasClass(nonEditClass);\n      var nonEditableRegExps = getNonEditableRegExps(editor);\n      editor.on('PreInit', function () {\n        if (nonEditableRegExps.length > 0) {\n          editor.on('BeforeSetContent', function (e) {\n            convertRegExpsToNonEditable(editor, nonEditableRegExps, e);\n          });\n        }\n        editor.parser.addAttributeFilter('class', function (nodes) {\n          var i = nodes.length, node;\n          while (i--) {\n            node = nodes[i];\n            if (hasEditClass(node)) {\n              node.attr(contentEditableAttrName, 'true');\n            } else if (hasNonEditClass(node)) {\n              node.attr(contentEditableAttrName, 'false');\n            }\n          }\n        });\n        editor.serializer.addAttributeFilter(contentEditableAttrName, function (nodes) {\n          var i = nodes.length, node;\n          while (i--) {\n            node = nodes[i];\n            if (!hasEditClass(node) && !hasNonEditClass(node)) {\n              continue;\n            }\n            if (nonEditableRegExps.length > 0 && node.attr('data-mce-content')) {\n              node.name = '#text';\n              node.type = 3;\n              node.raw = true;\n              node.value = node.attr('data-mce-content');\n            } else {\n              node.attr(contentEditableAttrName, null);\n            }\n          }\n        });\n      });\n    };\n\n    function Plugin () {\n      global$1.add('noneditable', function (editor) {\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"pagebreak\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/pagebreak')\n//   ES2015:\n//     import 'tinymce/plugins/pagebreak'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var getSeparatorHtml = function (editor) {\n      return editor.getParam('pagebreak_separator', '<!-- pagebreak -->');\n    };\n    var shouldSplitBlock = function (editor) {\n      return editor.getParam('pagebreak_split_block', false);\n    };\n\n    var pageBreakClass = 'mce-pagebreak';\n    var getPlaceholderHtml = function (shouldSplitBlock) {\n      var html = '<img src=\"' + global.transparentSrc + '\" class=\"' + pageBreakClass + '\" data-mce-resize=\"false\" data-mce-placeholder />';\n      return shouldSplitBlock ? '<p>' + html + '</p>' : html;\n    };\n    var setup$1 = function (editor) {\n      var separatorHtml = getSeparatorHtml(editor);\n      var shouldSplitBlock$1 = function () {\n        return shouldSplitBlock(editor);\n      };\n      var pageBreakSeparatorRegExp = new RegExp(separatorHtml.replace(/[\\?\\.\\*\\[\\]\\(\\)\\{\\}\\+\\^\\$\\:]/g, function (a) {\n        return '\\\\' + a;\n      }), 'gi');\n      editor.on('BeforeSetContent', function (e) {\n        e.content = e.content.replace(pageBreakSeparatorRegExp, getPlaceholderHtml(shouldSplitBlock$1()));\n      });\n      editor.on('PreInit', function () {\n        editor.serializer.addNodeFilter('img', function (nodes) {\n          var i = nodes.length, node, className;\n          while (i--) {\n            node = nodes[i];\n            className = node.attr('class');\n            if (className && className.indexOf(pageBreakClass) !== -1) {\n              var parentNode = node.parent;\n              if (editor.schema.getBlockElements()[parentNode.name] && shouldSplitBlock$1()) {\n                parentNode.type = 3;\n                parentNode.value = separatorHtml;\n                parentNode.raw = true;\n                node.remove();\n                continue;\n              }\n              node.type = 3;\n              node.value = separatorHtml;\n              node.raw = true;\n            }\n          }\n        });\n      });\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mcePageBreak', function () {\n        editor.insertContent(getPlaceholderHtml(shouldSplitBlock(editor)));\n      });\n    };\n\n    var setup = function (editor) {\n      editor.on('ResolveName', function (e) {\n        if (e.target.nodeName === 'IMG' && editor.dom.hasClass(e.target, pageBreakClass)) {\n          e.name = 'pagebreak';\n        }\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mcePageBreak');\n      };\n      editor.ui.registry.addButton('pagebreak', {\n        icon: 'page-break',\n        tooltip: 'Page break',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('pagebreak', {\n        text: 'Page break',\n        icon: 'page-break',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$1.add('pagebreak', function (editor) {\n        register$1(editor);\n        register(editor);\n        setup$1(editor);\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"paste\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/paste')\n//   ES2015:\n//     import 'tinymce/plugins/paste'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var hasProPlugin = function (editor) {\n      if (editor.hasPlugin('powerpaste', true)) {\n        if (typeof window.console !== 'undefined' && window.console.log) {\n          window.console.log('PowerPaste is incompatible with Paste plugin! Remove \\'paste\\' from the \\'plugins\\' option.');\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    var get = function (clipboard) {\n      return { clipboard: clipboard };\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isArray = isType('array');\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from$1 = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from$1\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativePush = Array.prototype.push;\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter$1 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var from = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var value = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    var repeat = function (s, count) {\n      return count <= 0 ? '' : new Array(count + 1).join(s);\n    };\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var firePastePreProcess = function (editor, html, internal, isWordHtml) {\n      return editor.fire('PastePreProcess', {\n        content: html,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePostProcess = function (editor, node, internal, isWordHtml) {\n      return editor.fire('PastePostProcess', {\n        node: node,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePlainTextToggle = function (editor, state) {\n      return editor.fire('PastePlainTextToggle', { state: state });\n    };\n    var firePaste = function (editor, ieFake) {\n      return editor.fire('paste', { ieFake: ieFake });\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var shouldBlockDrop = function (editor) {\n      return editor.getParam('paste_block_drop', false);\n    };\n    var shouldPasteDataImages = function (editor) {\n      return editor.getParam('paste_data_images', false);\n    };\n    var shouldFilterDrop = function (editor) {\n      return editor.getParam('paste_filter_drop', true);\n    };\n    var getPreProcess = function (editor) {\n      return editor.getParam('paste_preprocess');\n    };\n    var getPostProcess = function (editor) {\n      return editor.getParam('paste_postprocess');\n    };\n    var getWebkitStyles = function (editor) {\n      return editor.getParam('paste_webkit_styles');\n    };\n    var shouldRemoveWebKitStyles = function (editor) {\n      return editor.getParam('paste_remove_styles_if_webkit', true);\n    };\n    var shouldMergeFormats = function (editor) {\n      return editor.getParam('paste_merge_formats', true);\n    };\n    var isSmartPasteEnabled = function (editor) {\n      return editor.getParam('smart_paste', true);\n    };\n    var isPasteAsTextEnabled = function (editor) {\n      return editor.getParam('paste_as_text', false);\n    };\n    var getRetainStyleProps = function (editor) {\n      return editor.getParam('paste_retain_style_properties');\n    };\n    var getWordValidElements = function (editor) {\n      var defaultValidElements = '-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,' + '-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,' + 'td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody';\n      return editor.getParam('paste_word_valid_elements', defaultValidElements);\n    };\n    var shouldConvertWordFakeLists = function (editor) {\n      return editor.getParam('paste_convert_word_fake_lists', true);\n    };\n    var shouldUseDefaultFilters = function (editor) {\n      return editor.getParam('paste_enable_default_filters', true);\n    };\n    var getValidate = function (editor) {\n      return editor.getParam('validate');\n    };\n    var getAllowHtmlDataUrls = function (editor) {\n      return editor.getParam('allow_html_data_urls', false, 'boolean');\n    };\n    var getPasteDataImages = function (editor) {\n      return editor.getParam('paste_data_images', false, 'boolean');\n    };\n    var getImagesDataImgFilter = function (editor) {\n      return editor.getParam('images_dataimg_filter');\n    };\n    var getImagesReuseFilename = function (editor) {\n      return editor.getParam('images_reuse_filename');\n    };\n    var getForcedRootBlock = function (editor) {\n      return editor.getParam('forced_root_block');\n    };\n    var getForcedRootBlockAttrs = function (editor) {\n      return editor.getParam('forced_root_block_attrs');\n    };\n    var getTabSpaces = function (editor) {\n      return editor.getParam('paste_tab_spaces', 4, 'number');\n    };\n    var getAllowedImageFileTypes = function (editor) {\n      var defaultImageFileTypes = 'jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp';\n      return global$6.explode(editor.getParam('images_file_types', defaultImageFileTypes, 'string'));\n    };\n\n    var internalMimeType = 'x-tinymce/html';\n    var internalMark = '<!-- ' + internalMimeType + ' -->';\n    var mark = function (html) {\n      return internalMark + html;\n    };\n    var unmark = function (html) {\n      return html.replace(internalMark, '');\n    };\n    var isMarked = function (html) {\n      return html.indexOf(internalMark) !== -1;\n    };\n    var internalHtmlMime = constant(internalMimeType);\n\n    var hasOwnProperty = Object.hasOwnProperty;\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    var isPlainText = function (text) {\n      return !/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);\n    };\n    var toBRs = function (text) {\n      return text.replace(/\\r?\\n/g, '<br>');\n    };\n    var openContainer = function (rootTag, rootAttrs) {\n      var attrs = [];\n      var tag = '<' + rootTag;\n      if (typeof rootAttrs === 'object') {\n        for (var key in rootAttrs) {\n          if (has(rootAttrs, key)) {\n            attrs.push(key + '=\"' + global$5.encodeAllRaw(rootAttrs[key]) + '\"');\n          }\n        }\n        if (attrs.length) {\n          tag += ' ' + attrs.join(' ');\n        }\n      }\n      return tag + '>';\n    };\n    var toBlockElements = function (text, rootTag, rootAttrs) {\n      var blocks = text.split(/\\n\\n/);\n      var tagOpen = openContainer(rootTag, rootAttrs);\n      var tagClose = '</' + rootTag + '>';\n      var paragraphs = global$6.map(blocks, function (p) {\n        return p.split(/\\n/).join('<br />');\n      });\n      var stitch = function (p) {\n        return tagOpen + p + tagClose;\n      };\n      return paragraphs.length === 1 ? paragraphs[0] : global$6.map(paragraphs, stitch).join('');\n    };\n    var convert = function (text, rootTag, rootAttrs) {\n      return rootTag ? toBlockElements(text, rootTag === true ? 'p' : rootTag, rootAttrs) : toBRs(text);\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    var nbsp = '\\xA0';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.html.Schema');\n\n    var isRegExp = function (val) {\n      return val.constructor === RegExp;\n    };\n    var filter = function (content, items) {\n      global$6.each(items, function (v) {\n        if (isRegExp(v)) {\n          content = content.replace(v, '');\n        } else {\n          content = content.replace(v[0], v[1]);\n        }\n      });\n      return content;\n    };\n    var innerText = function (html) {\n      var schema = global$1();\n      var domParser = global$4({}, schema);\n      var text = '';\n      var shortEndedElements = schema.getShortEndedElements();\n      var ignoreElements = global$6.makeMap('script noscript style textarea video audio iframe object', ' ');\n      var blockElements = schema.getBlockElements();\n      var walk = function (node) {\n        var name = node.name, currentNode = node;\n        if (name === 'br') {\n          text += '\\n';\n          return;\n        }\n        if (name === 'wbr') {\n          return;\n        }\n        if (shortEndedElements[name]) {\n          text += ' ';\n        }\n        if (ignoreElements[name]) {\n          text += ' ';\n          return;\n        }\n        if (node.type === 3) {\n          text += node.value;\n        }\n        if (!node.shortEnded) {\n          if (node = node.firstChild) {\n            do {\n              walk(node);\n            } while (node = node.next);\n          }\n        }\n        if (blockElements[name] && currentNode.next) {\n          text += '\\n';\n          if (name === 'p') {\n            text += '\\n';\n          }\n        }\n      };\n      html = filter(html, [/<!\\[[^\\]]+\\]>/g]);\n      walk(domParser.parse(html));\n      return text;\n    };\n    var trimHtml = function (html) {\n      var trimSpaces = function (all, s1, s2) {\n        if (!s1 && !s2) {\n          return ' ';\n        }\n        return nbsp;\n      };\n      html = filter(html, [\n        /^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig,\n        /<!--StartFragment-->|<!--EndFragment-->/g,\n        [\n          /( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,\n          trimSpaces\n        ],\n        /<br class=\"Apple-interchange-newline\">/g,\n        /<br>$/i\n      ]);\n      return html;\n    };\n    var createIdGenerator = function (prefix) {\n      var count = 0;\n      return function () {\n        return prefix + count++;\n      };\n    };\n    var getImageMimeType = function (ext) {\n      var lowerExt = ext.toLowerCase();\n      var mimeOverrides = {\n        jpg: 'jpeg',\n        jpe: 'jpeg',\n        jfi: 'jpeg',\n        jif: 'jpeg',\n        jfif: 'jpeg',\n        pjpeg: 'jpeg',\n        pjp: 'jpeg',\n        svg: 'svg+xml'\n      };\n      return global$6.hasOwn(mimeOverrides, lowerExt) ? 'image/' + mimeOverrides[lowerExt] : 'image/' + lowerExt;\n    };\n\n    var isWordContent = function (content) {\n      return /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^']*\\bmso-|w:WordDocument/i.test(content) || /class=\"OutlineElement/.test(content) || /id=\"?docs\\-internal\\-guid\\-/.test(content);\n    };\n    var isNumericList = function (text) {\n      var found = false;\n      var patterns = [\n        /^[IVXLMCD]+\\.[ \\u00a0]/,\n        /^[ivxlmcd]+\\.[ \\u00a0]/,\n        /^[a-z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[A-Z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[0-9]+\\.[ \\u00a0]/,\n        /^[\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d]+\\.[ \\u00a0]/,\n        /^[\\u58f1\\u5f10\\u53c2\\u56db\\u4f0d\\u516d\\u4e03\\u516b\\u4e5d\\u62fe]+\\.[ \\u00a0]/\n      ];\n      text = text.replace(/^[\\u00a0 ]+/, '');\n      global$6.each(patterns, function (pattern) {\n        if (pattern.test(text)) {\n          found = true;\n          return false;\n        }\n      });\n      return found;\n    };\n    var isBulletList = function (text) {\n      return /^[\\s\\u00a0]*[\\u2022\\u00b7\\u00a7\\u25CF]\\s*/.test(text);\n    };\n    var convertFakeListsToProperLists = function (node) {\n      var currentListNode, prevListNode, lastLevel = 1;\n      var getText = function (node) {\n        var txt = '';\n        if (node.type === 3) {\n          return node.value;\n        }\n        if (node = node.firstChild) {\n          do {\n            txt += getText(node);\n          } while (node = node.next);\n        }\n        return txt;\n      };\n      var trimListStart = function (node, regExp) {\n        if (node.type === 3) {\n          if (regExp.test(node.value)) {\n            node.value = node.value.replace(regExp, '');\n            return false;\n          }\n        }\n        if (node = node.firstChild) {\n          do {\n            if (!trimListStart(node, regExp)) {\n              return false;\n            }\n          } while (node = node.next);\n        }\n        return true;\n      };\n      var removeIgnoredNodes = function (node) {\n        if (node._listIgnore) {\n          node.remove();\n          return;\n        }\n        if (node = node.firstChild) {\n          do {\n            removeIgnoredNodes(node);\n          } while (node = node.next);\n        }\n      };\n      var convertParagraphToLi = function (paragraphNode, listName, start) {\n        var level = paragraphNode._listLevel || lastLevel;\n        if (level !== lastLevel) {\n          if (level < lastLevel) {\n            if (currentListNode) {\n              currentListNode = currentListNode.parent.parent;\n            }\n          } else {\n            prevListNode = currentListNode;\n            currentListNode = null;\n          }\n        }\n        if (!currentListNode || currentListNode.name !== listName) {\n          prevListNode = prevListNode || currentListNode;\n          currentListNode = new global$2(listName, 1);\n          if (start > 1) {\n            currentListNode.attr('start', '' + start);\n          }\n          paragraphNode.wrap(currentListNode);\n        } else {\n          currentListNode.append(paragraphNode);\n        }\n        paragraphNode.name = 'li';\n        if (level > lastLevel && prevListNode) {\n          prevListNode.lastChild.append(currentListNode);\n        }\n        lastLevel = level;\n        removeIgnoredNodes(paragraphNode);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n        trimListStart(paragraphNode, /^\\s*([\\u2022\\u00b7\\u00a7\\u25CF]|\\w+\\.)/);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n      };\n      var elements = [];\n      var child = node.firstChild;\n      while (typeof child !== 'undefined' && child !== null) {\n        elements.push(child);\n        child = child.walk();\n        if (child !== null) {\n          while (typeof child !== 'undefined' && child.parent !== node) {\n            child = child.walk();\n          }\n        }\n      }\n      for (var i = 0; i < elements.length; i++) {\n        node = elements[i];\n        if (node.name === 'p' && node.firstChild) {\n          var nodeText = getText(node);\n          if (isBulletList(nodeText)) {\n            convertParagraphToLi(node, 'ul');\n            continue;\n          }\n          if (isNumericList(nodeText)) {\n            var matches = /([0-9]+)\\./.exec(nodeText);\n            var start = 1;\n            if (matches) {\n              start = parseInt(matches[1], 10);\n            }\n            convertParagraphToLi(node, 'ol', start);\n            continue;\n          }\n          if (node._listLevel) {\n            convertParagraphToLi(node, 'ul', 1);\n            continue;\n          }\n          currentListNode = null;\n        } else {\n          prevListNode = currentListNode;\n          currentListNode = null;\n        }\n      }\n    };\n    var filterStyles = function (editor, validStyles, node, styleValue) {\n      var outputStyles = {};\n      var styles = editor.dom.parseStyle(styleValue);\n      global$6.each(styles, function (value, name) {\n        switch (name) {\n        case 'mso-list':\n          var matches = /\\w+ \\w+([0-9]+)/i.exec(styleValue);\n          if (matches) {\n            node._listLevel = parseInt(matches[1], 10);\n          }\n          if (/Ignore/i.test(value) && node.firstChild) {\n            node._listIgnore = true;\n            node.firstChild._listIgnore = true;\n          }\n          break;\n        case 'horiz-align':\n          name = 'text-align';\n          break;\n        case 'vert-align':\n          name = 'vertical-align';\n          break;\n        case 'font-color':\n        case 'mso-foreground':\n          name = 'color';\n          break;\n        case 'mso-background':\n        case 'mso-highlight':\n          name = 'background';\n          break;\n        case 'font-weight':\n        case 'font-style':\n          if (value !== 'normal') {\n            outputStyles[name] = value;\n          }\n          return;\n        case 'mso-element':\n          if (/^(comment|comment-list)$/i.test(value)) {\n            node.remove();\n            return;\n          }\n          break;\n        }\n        if (name.indexOf('mso-comment') === 0) {\n          node.remove();\n          return;\n        }\n        if (name.indexOf('mso-') === 0) {\n          return;\n        }\n        if (getRetainStyleProps(editor) === 'all' || validStyles && validStyles[name]) {\n          outputStyles[name] = value;\n        }\n      });\n      if (/(bold)/i.test(outputStyles['font-weight'])) {\n        delete outputStyles['font-weight'];\n        node.wrap(new global$2('b', 1));\n      }\n      if (/(italic)/i.test(outputStyles['font-style'])) {\n        delete outputStyles['font-style'];\n        node.wrap(new global$2('i', 1));\n      }\n      var outputStyle = editor.dom.serializeStyle(outputStyles, node.name);\n      if (outputStyle) {\n        return outputStyle;\n      }\n      return null;\n    };\n    var filterWordContent = function (editor, content) {\n      var validStyles;\n      var retainStyleProperties = getRetainStyleProps(editor);\n      if (retainStyleProperties) {\n        validStyles = global$6.makeMap(retainStyleProperties.split(/[, ]/));\n      }\n      content = filter(content, [\n        /<br class=\"?Apple-interchange-newline\"?>/gi,\n        /<b[^>]+id=\"?docs-internal-[^>]*>/gi,\n        /<!--[\\s\\S]+?-->/gi,\n        /<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|img|meta|link|style|\\w:\\w+)(?=[\\s\\/>]))[^>]*>/gi,\n        [\n          /<(\\/?)s>/gi,\n          '<$1strike>'\n        ],\n        [\n          /&nbsp;/gi,\n          nbsp\n        ],\n        [\n          /<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s\\u00a0]*)<\\/span>/gi,\n          function (str, spaces) {\n            return spaces.length > 0 ? spaces.replace(/./, ' ').slice(Math.floor(spaces.length / 2)).split('').join(nbsp) : '';\n          }\n        ]\n      ]);\n      var validElements = getWordValidElements(editor);\n      var schema = global$1({\n        valid_elements: validElements,\n        valid_children: '-li[p]'\n      });\n      global$6.each(schema.elements, function (rule) {\n        if (!rule.attributes.class) {\n          rule.attributes.class = {};\n          rule.attributesOrder.push('class');\n        }\n        if (!rule.attributes.style) {\n          rule.attributes.style = {};\n          rule.attributesOrder.push('style');\n        }\n      });\n      var domParser = global$4({}, schema);\n      domParser.addAttributeFilter('style', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          node.attr('style', filterStyles(editor, validStyles, node, node.attr('style')));\n          if (node.name === 'span' && node.parent && !node.attributes.length) {\n            node.unwrap();\n          }\n        }\n      });\n      domParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length, node, className;\n        while (i--) {\n          node = nodes[i];\n          className = node.attr('class');\n          if (/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(className)) {\n            node.remove();\n          }\n          node.attr('class', null);\n        }\n      });\n      domParser.addNodeFilter('del', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].remove();\n        }\n      });\n      domParser.addNodeFilter('a', function (nodes) {\n        var i = nodes.length, node, href, name;\n        while (i--) {\n          node = nodes[i];\n          href = node.attr('href');\n          name = node.attr('name');\n          if (href && href.indexOf('#_msocom_') !== -1) {\n            node.remove();\n            continue;\n          }\n          if (href && href.indexOf('file://') === 0) {\n            href = href.split('#')[1];\n            if (href) {\n              href = '#' + href;\n            }\n          }\n          if (!href && !name) {\n            node.unwrap();\n          } else {\n            if (name && !/^_?(?:toc|edn|ftn)/i.test(name)) {\n              node.unwrap();\n              continue;\n            }\n            node.attr({\n              href: href,\n              name: name\n            });\n          }\n        }\n      });\n      var rootNode = domParser.parse(content);\n      if (shouldConvertWordFakeLists(editor)) {\n        convertFakeListsToProperLists(rootNode);\n      }\n      content = global$3({ validate: getValidate(editor) }, schema).serialize(rootNode);\n      return content;\n    };\n    var preProcess$1 = function (editor, content) {\n      return shouldUseDefaultFilters(editor) ? filterWordContent(editor, content) : content;\n    };\n\n    var preProcess = function (editor, html) {\n      var parser = global$4({}, editor.schema);\n      parser.addNodeFilter('meta', function (nodes) {\n        global$6.each(nodes, function (node) {\n          node.remove();\n        });\n      });\n      var fragment = parser.parse(html, {\n        forced_root_block: false,\n        isRootContent: true\n      });\n      return global$3({ validate: getValidate(editor) }, editor.schema).serialize(fragment);\n    };\n    var processResult = function (content, cancelled) {\n      return {\n        content: content,\n        cancelled: cancelled\n      };\n    };\n    var postProcessFilter = function (editor, html, internal, isWordHtml) {\n      var tempBody = editor.dom.create('div', { style: 'display:none' }, html);\n      var postProcessArgs = firePastePostProcess(editor, tempBody, internal, isWordHtml);\n      return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());\n    };\n    var filterContent = function (editor, content, internal, isWordHtml) {\n      var preProcessArgs = firePastePreProcess(editor, content, internal, isWordHtml);\n      var filteredContent = preProcess(editor, preProcessArgs.content);\n      if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {\n        return postProcessFilter(editor, filteredContent, internal, isWordHtml);\n      } else {\n        return processResult(filteredContent, preProcessArgs.isDefaultPrevented());\n      }\n    };\n    var process = function (editor, html, internal) {\n      var isWordHtml = isWordContent(html);\n      var content = isWordHtml ? preProcess$1(editor, html) : html;\n      return filterContent(editor, content, internal, isWordHtml);\n    };\n\n    var pasteHtml$1 = function (editor, html) {\n      editor.insertContent(html, {\n        merge: shouldMergeFormats(editor),\n        paste: true\n      });\n      return true;\n    };\n    var isAbsoluteUrl = function (url) {\n      return /^https?:\\/\\/[\\w\\-\\/+=.,!;:&%@^~(){}?#]+$/i.test(url);\n    };\n    var isImageUrl = function (editor, url) {\n      return isAbsoluteUrl(url) && exists(getAllowedImageFileTypes(editor), function (type) {\n        return endsWith(url.toLowerCase(), '.' + type.toLowerCase());\n      });\n    };\n    var createImage = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.insertContent('<img src=\"' + url + '\">');\n      });\n      return true;\n    };\n    var createLink = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.execCommand('mceInsertLink', false, url);\n      });\n      return true;\n    };\n    var linkSelection = function (editor, html, pasteHtmlFn) {\n      return editor.selection.isCollapsed() === false && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;\n    };\n    var insertImage = function (editor, html, pasteHtmlFn) {\n      return isImageUrl(editor, html) ? createImage(editor, html, pasteHtmlFn) : false;\n    };\n    var smartInsertContent = function (editor, html) {\n      global$6.each([\n        linkSelection,\n        insertImage,\n        pasteHtml$1\n      ], function (action) {\n        return action(editor, html, pasteHtml$1) !== true;\n      });\n    };\n    var insertContent = function (editor, html, pasteAsText) {\n      if (pasteAsText || isSmartPasteEnabled(editor) === false) {\n        pasteHtml$1(editor, html);\n      } else {\n        smartInsertContent(editor, html);\n      }\n    };\n\n    var isCollapsibleWhitespace = function (c) {\n      return ' \\f\\t\\x0B'.indexOf(c) !== -1;\n    };\n    var isNewLineChar = function (c) {\n      return c === '\\n' || c === '\\r';\n    };\n    var isNewline = function (text, idx) {\n      return idx < text.length && idx >= 0 ? isNewLineChar(text[idx]) : false;\n    };\n    var normalizeWhitespace = function (editor, text) {\n      var tabSpace = repeat(' ', getTabSpaces(editor));\n      var normalizedText = text.replace(/\\t/g, tabSpace);\n      var result = foldl(normalizedText, function (acc, c) {\n        if (isCollapsibleWhitespace(c) || c === nbsp) {\n          if (acc.pcIsSpace || acc.str === '' || acc.str.length === normalizedText.length - 1 || isNewline(normalizedText, acc.str.length + 1)) {\n            return {\n              pcIsSpace: false,\n              str: acc.str + nbsp\n            };\n          } else {\n            return {\n              pcIsSpace: true,\n              str: acc.str + ' '\n            };\n          }\n        } else {\n          return {\n            pcIsSpace: isNewLineChar(c),\n            str: acc.str + c\n          };\n        }\n      }, {\n        pcIsSpace: false,\n        str: ''\n      });\n      return result.str;\n    };\n\n    var doPaste = function (editor, content, internal, pasteAsText) {\n      var args = process(editor, content, internal);\n      if (args.cancelled === false) {\n        insertContent(editor, args.content, pasteAsText);\n      }\n    };\n    var pasteHtml = function (editor, html, internalFlag) {\n      var internal = internalFlag ? internalFlag : isMarked(html);\n      doPaste(editor, unmark(html), internal, false);\n    };\n    var pasteText = function (editor, text) {\n      var encodedText = editor.dom.encode(text).replace(/\\r\\n/g, '\\n');\n      var normalizedText = normalizeWhitespace(editor, encodedText);\n      var html = convert(normalizedText, getForcedRootBlock(editor), getForcedRootBlockAttrs(editor));\n      doPaste(editor, html, false, true);\n    };\n    var getDataTransferItems = function (dataTransfer) {\n      var items = {};\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n      if (dataTransfer) {\n        if (dataTransfer.getData) {\n          var legacyText = dataTransfer.getData('Text');\n          if (legacyText && legacyText.length > 0) {\n            if (legacyText.indexOf(mceInternalUrlPrefix) === -1) {\n              items['text/plain'] = legacyText;\n            }\n          }\n        }\n        if (dataTransfer.types) {\n          for (var i = 0; i < dataTransfer.types.length; i++) {\n            var contentType = dataTransfer.types[i];\n            try {\n              items[contentType] = dataTransfer.getData(contentType);\n            } catch (ex) {\n              items[contentType] = '';\n            }\n          }\n        }\n      }\n      return items;\n    };\n    var getClipboardContent = function (editor, clipboardEvent) {\n      return getDataTransferItems(clipboardEvent.clipboardData || editor.getDoc().dataTransfer);\n    };\n    var hasContentType = function (clipboardContent, mimeType) {\n      return mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\n    };\n    var hasHtmlOrText = function (content) {\n      return hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\n    };\n    var parseDataUri = function (uri) {\n      var matches = /data:([^;]+);base64,([a-z0-9\\+\\/=]+)/i.exec(uri);\n      if (matches) {\n        return {\n          type: matches[1],\n          data: decodeURIComponent(matches[2])\n        };\n      } else {\n        return {\n          type: null,\n          data: null\n        };\n      }\n    };\n    var isValidDataUriImage = function (editor, imgElm) {\n      var filter = getImagesDataImgFilter(editor);\n      return filter ? filter(imgElm) : true;\n    };\n    var extractFilename = function (editor, str) {\n      var m = str.match(/([\\s\\S]+?)(?:\\.[a-z0-9.]+)$/i);\n      return isNonNullable(m) ? editor.dom.encode(m[1]) : null;\n    };\n    var uniqueId = createIdGenerator('mceclip');\n    var pasteImage = function (editor, imageItem) {\n      var _a = parseDataUri(imageItem.uri), base64 = _a.data, type = _a.type;\n      var id = uniqueId();\n      var file = imageItem.blob;\n      var img = new Image();\n      img.src = imageItem.uri;\n      if (isValidDataUriImage(editor, img)) {\n        var blobCache = editor.editorUpload.blobCache;\n        var blobInfo = void 0;\n        var existingBlobInfo = blobCache.getByData(base64, type);\n        if (!existingBlobInfo) {\n          var useFileName = getImagesReuseFilename(editor) && isNonNullable(file.name);\n          var name_1 = useFileName ? extractFilename(editor, file.name) : id;\n          var filename = useFileName ? file.name : undefined;\n          blobInfo = blobCache.create(id, file, base64, name_1, filename);\n          blobCache.add(blobInfo);\n        } else {\n          blobInfo = existingBlobInfo;\n        }\n        pasteHtml(editor, '<img src=\"' + blobInfo.blobUri() + '\">', false);\n      } else {\n        pasteHtml(editor, '<img src=\"' + imageItem.uri + '\">', false);\n      }\n    };\n    var isClipboardEvent = function (event) {\n      return event.type === 'paste';\n    };\n    var isDataTransferItem = function (item) {\n      return isNonNullable(item.getAsFile);\n    };\n    var readFilesAsDataUris = function (items) {\n      return global$8.all(map(items, function (item) {\n        return new global$8(function (resolve) {\n          var blob = isDataTransferItem(item) ? item.getAsFile() : item;\n          var reader = new window.FileReader();\n          reader.onload = function () {\n            resolve({\n              blob: blob,\n              uri: reader.result\n            });\n          };\n          reader.readAsDataURL(blob);\n        });\n      }));\n    };\n    var isImage = function (editor) {\n      var allowedExtensions = getAllowedImageFileTypes(editor);\n      return function (file) {\n        return startsWith(file.type, 'image/') && exists(allowedExtensions, function (extension) {\n          return getImageMimeType(extension) === file.type;\n        });\n      };\n    };\n    var getImagesFromDataTransfer = function (editor, dataTransfer) {\n      var items = dataTransfer.items ? bind(from(dataTransfer.items), function (item) {\n        return item.kind === 'file' ? [item.getAsFile()] : [];\n      }) : [];\n      var files = dataTransfer.files ? from(dataTransfer.files) : [];\n      return filter$1(items.length > 0 ? items : files, isImage(editor));\n    };\n    var pasteImageData = function (editor, e, rng) {\n      var dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;\n      if (getPasteDataImages(editor) && dataTransfer) {\n        var images = getImagesFromDataTransfer(editor, dataTransfer);\n        if (images.length > 0) {\n          e.preventDefault();\n          readFilesAsDataUris(images).then(function (fileResults) {\n            if (rng) {\n              editor.selection.setRng(rng);\n            }\n            each(fileResults, function (result) {\n              pasteImage(editor, result);\n            });\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    var isBrokenAndroidClipboardEvent = function (e) {\n      var clipboardData = e.clipboardData;\n      return navigator.userAgent.indexOf('Android') !== -1 && clipboardData && clipboardData.items && clipboardData.items.length === 0;\n    };\n    var isKeyboardPasteEvent = function (e) {\n      return global$7.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;\n    };\n    var registerEventHandlers = function (editor, pasteBin, pasteFormat) {\n      var keyboardPasteEvent = value();\n      var keyboardPastePressed = value();\n      var keyboardPastePlainTextState;\n      editor.on('keyup', keyboardPastePressed.clear);\n      editor.on('keydown', function (e) {\n        var removePasteBinOnKeyUp = function (e) {\n          if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n            pasteBin.remove();\n          }\n        };\n        if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n          keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;\n          if (keyboardPastePlainTextState && global$a.webkit && navigator.userAgent.indexOf('Version/') !== -1) {\n            return;\n          }\n          e.stopImmediatePropagation();\n          keyboardPasteEvent.set(e);\n          keyboardPastePressed.set(true);\n          if (global$a.ie && keyboardPastePlainTextState) {\n            e.preventDefault();\n            firePaste(editor, true);\n            return;\n          }\n          pasteBin.remove();\n          pasteBin.create();\n          editor.once('keyup', removePasteBinOnKeyUp);\n          editor.once('paste', function () {\n            editor.off('keyup', removePasteBinOnKeyUp);\n          });\n        }\n      });\n      var insertClipboardContent = function (editor, clipboardContent, isKeyBoardPaste, plainTextMode, internal) {\n        var content;\n        if (hasContentType(clipboardContent, 'text/html')) {\n          content = clipboardContent['text/html'];\n        } else {\n          content = pasteBin.getHtml();\n          internal = internal ? internal : isMarked(content);\n          if (pasteBin.isDefaultContent(content)) {\n            plainTextMode = true;\n          }\n        }\n        content = trimHtml(content);\n        pasteBin.remove();\n        var isPlainTextHtml = internal === false && isPlainText(content);\n        var isAbsoluteUrl$1 = isAbsoluteUrl(content);\n        if (!content.length || isPlainTextHtml && !isAbsoluteUrl$1) {\n          plainTextMode = true;\n        }\n        if (plainTextMode || isAbsoluteUrl$1) {\n          if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {\n            content = clipboardContent['text/plain'];\n          } else {\n            content = innerText(content);\n          }\n        }\n        if (pasteBin.isDefaultContent(content)) {\n          if (!isKeyBoardPaste) {\n            editor.windowManager.alert('Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.');\n          }\n          return;\n        }\n        if (plainTextMode) {\n          pasteText(editor, content);\n        } else {\n          pasteHtml(editor, content, internal);\n        }\n      };\n      var getLastRng = function () {\n        return pasteBin.getLastRng() || editor.selection.getRng();\n      };\n      editor.on('paste', function (e) {\n        var isKeyboardPaste = keyboardPasteEvent.isSet() || keyboardPastePressed.isSet();\n        if (isKeyboardPaste) {\n          keyboardPasteEvent.clear();\n        }\n        var clipboardContent = getClipboardContent(editor, e);\n        var plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;\n        var internal = hasContentType(clipboardContent, internalHtmlMime());\n        keyboardPastePlainTextState = false;\n        if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\n          pasteBin.remove();\n          return;\n        }\n        if (!hasHtmlOrText(clipboardContent) && pasteImageData(editor, e, getLastRng())) {\n          pasteBin.remove();\n          return;\n        }\n        if (!isKeyboardPaste) {\n          e.preventDefault();\n        }\n        if (global$a.ie && (!isKeyboardPaste || e.ieFake) && !hasContentType(clipboardContent, 'text/html')) {\n          pasteBin.create();\n          editor.dom.bind(pasteBin.getEl(), 'paste', function (e) {\n            e.stopPropagation();\n          });\n          editor.getDoc().execCommand('Paste', false, null);\n          clipboardContent['text/html'] = pasteBin.getHtml();\n        }\n        if (hasContentType(clipboardContent, 'text/html')) {\n          e.preventDefault();\n          if (!internal) {\n            internal = isMarked(clipboardContent['text/html']);\n          }\n          insertClipboardContent(editor, clipboardContent, isKeyboardPaste, plainTextMode, internal);\n        } else {\n          global$9.setEditorTimeout(editor, function () {\n            insertClipboardContent(editor, clipboardContent, isKeyboardPaste, plainTextMode, internal);\n          }, 0);\n        }\n      });\n    };\n    var registerEventsAndFilters = function (editor, pasteBin, pasteFormat) {\n      registerEventHandlers(editor, pasteBin, pasteFormat);\n      var src;\n      editor.parser.addNodeFilter('img', function (nodes, name, args) {\n        var isPasteInsert = function (args) {\n          return args.data && args.data.paste === true;\n        };\n        var remove = function (node) {\n          if (!node.attr('data-mce-object') && src !== global$a.transparentSrc) {\n            node.remove();\n          }\n        };\n        var isWebKitFakeUrl = function (src) {\n          return src.indexOf('webkit-fake-url') === 0;\n        };\n        var isDataUri = function (src) {\n          return src.indexOf('data:') === 0;\n        };\n        if (!getPasteDataImages(editor) && isPasteInsert(args)) {\n          var i = nodes.length;\n          while (i--) {\n            src = nodes[i].attr('src');\n            if (!src) {\n              continue;\n            }\n            if (isWebKitFakeUrl(src)) {\n              remove(nodes[i]);\n            } else if (!getAllowHtmlDataUrls(editor) && isDataUri(src)) {\n              remove(nodes[i]);\n            }\n          }\n        }\n      });\n    };\n\n    var getPasteBinParent = function (editor) {\n      return global$a.ie && editor.inline ? document.body : editor.getBody();\n    };\n    var isExternalPasteBin = function (editor) {\n      return getPasteBinParent(editor) !== editor.getBody();\n    };\n    var delegatePasteEvents = function (editor, pasteBinElm, pasteBinDefaultContent) {\n      if (isExternalPasteBin(editor)) {\n        editor.dom.bind(pasteBinElm, 'paste keyup', function (_e) {\n          if (!isDefault(editor, pasteBinDefaultContent)) {\n            editor.fire('paste');\n          }\n        });\n      }\n    };\n    var create = function (editor, lastRngCell, pasteBinDefaultContent) {\n      var dom = editor.dom, body = editor.getBody();\n      lastRngCell.set(editor.selection.getRng());\n      var pasteBinElm = editor.dom.add(getPasteBinParent(editor), 'div', {\n        'id': 'mcepastebin',\n        'class': 'mce-pastebin',\n        'contentEditable': true,\n        'data-mce-bogus': 'all',\n        'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'\n      }, pasteBinDefaultContent);\n      if (global$a.ie || global$a.gecko) {\n        dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);\n      }\n      dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', function (e) {\n        e.stopPropagation();\n      });\n      delegatePasteEvents(editor, pasteBinElm, pasteBinDefaultContent);\n      pasteBinElm.focus();\n      editor.selection.select(pasteBinElm, true);\n    };\n    var remove = function (editor, lastRngCell) {\n      if (getEl(editor)) {\n        var pasteBinClone = void 0;\n        var lastRng = lastRngCell.get();\n        while (pasteBinClone = editor.dom.get('mcepastebin')) {\n          editor.dom.remove(pasteBinClone);\n          editor.dom.unbind(pasteBinClone);\n        }\n        if (lastRng) {\n          editor.selection.setRng(lastRng);\n        }\n      }\n      lastRngCell.set(null);\n    };\n    var getEl = function (editor) {\n      return editor.dom.get('mcepastebin');\n    };\n    var getHtml = function (editor) {\n      var copyAndRemove = function (toElm, fromElm) {\n        toElm.appendChild(fromElm);\n        editor.dom.remove(fromElm, true);\n      };\n      var pasteBinClones = global$6.grep(getPasteBinParent(editor).childNodes, function (elm) {\n        return elm.id === 'mcepastebin';\n      });\n      var pasteBinElm = pasteBinClones.shift();\n      global$6.each(pasteBinClones, function (pasteBinClone) {\n        copyAndRemove(pasteBinElm, pasteBinClone);\n      });\n      var dirtyWrappers = editor.dom.select('div[id=mcepastebin]', pasteBinElm);\n      for (var i = dirtyWrappers.length - 1; i >= 0; i--) {\n        var cleanWrapper = editor.dom.create('div');\n        pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);\n        copyAndRemove(cleanWrapper, dirtyWrappers[i]);\n      }\n      return pasteBinElm ? pasteBinElm.innerHTML : '';\n    };\n    var isDefaultContent = function (pasteBinDefaultContent, content) {\n      return content === pasteBinDefaultContent;\n    };\n    var isPasteBin = function (elm) {\n      return elm && elm.id === 'mcepastebin';\n    };\n    var isDefault = function (editor, pasteBinDefaultContent) {\n      var pasteBinElm = getEl(editor);\n      return isPasteBin(pasteBinElm) && isDefaultContent(pasteBinDefaultContent, pasteBinElm.innerHTML);\n    };\n    var PasteBin = function (editor) {\n      var lastRng = Cell(null);\n      var pasteBinDefaultContent = '%MCEPASTEBIN%';\n      return {\n        create: function () {\n          return create(editor, lastRng, pasteBinDefaultContent);\n        },\n        remove: function () {\n          return remove(editor, lastRng);\n        },\n        getEl: function () {\n          return getEl(editor);\n        },\n        getHtml: function () {\n          return getHtml(editor);\n        },\n        getLastRng: lastRng.get,\n        isDefault: function () {\n          return isDefault(editor, pasteBinDefaultContent);\n        },\n        isDefaultContent: function (content) {\n          return isDefaultContent(pasteBinDefaultContent, content);\n        }\n      };\n    };\n\n    var Clipboard = function (editor, pasteFormat) {\n      var pasteBin = PasteBin(editor);\n      editor.on('PreInit', function () {\n        return registerEventsAndFilters(editor, pasteBin, pasteFormat);\n      });\n      return {\n        pasteFormat: pasteFormat,\n        pasteHtml: function (html, internalFlag) {\n          return pasteHtml(editor, html, internalFlag);\n        },\n        pasteText: function (text) {\n          return pasteText(editor, text);\n        },\n        pasteImageData: function (e, rng) {\n          return pasteImageData(editor, e, rng);\n        },\n        getDataTransferItems: getDataTransferItems,\n        hasHtmlOrText: hasHtmlOrText,\n        hasContentType: hasContentType\n      };\n    };\n\n    var togglePlainTextPaste = function (editor, clipboard) {\n      if (clipboard.pasteFormat.get() === 'text') {\n        clipboard.pasteFormat.set('html');\n        firePastePlainTextToggle(editor, false);\n      } else {\n        clipboard.pasteFormat.set('text');\n        firePastePlainTextToggle(editor, true);\n      }\n      editor.focus();\n    };\n\n    var register$2 = function (editor, clipboard) {\n      editor.addCommand('mceTogglePlainTextPaste', function () {\n        togglePlainTextPaste(editor, clipboard);\n      });\n      editor.addCommand('mceInsertClipboardContent', function (ui, value) {\n        if (value.content) {\n          clipboard.pasteHtml(value.content, value.internal);\n        }\n        if (value.text) {\n          clipboard.pasteText(value.text);\n        }\n      });\n    };\n\n    var hasWorkingClipboardApi = function (clipboardData) {\n      return global$a.iOS === false && typeof (clipboardData === null || clipboardData === void 0 ? void 0 : clipboardData.setData) === 'function';\n    };\n    var setHtml5Clipboard = function (clipboardData, html, text) {\n      if (hasWorkingClipboardApi(clipboardData)) {\n        try {\n          clipboardData.clearData();\n          clipboardData.setData('text/html', html);\n          clipboardData.setData('text/plain', text);\n          clipboardData.setData(internalHtmlMime(), html);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    };\n    var setClipboardData = function (evt, data, fallback, done) {\n      if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {\n        evt.preventDefault();\n        done();\n      } else {\n        fallback(data.html, done);\n      }\n    };\n    var fallback = function (editor) {\n      return function (html, done) {\n        var markedHtml = mark(html);\n        var outer = editor.dom.create('div', {\n          'contenteditable': 'false',\n          'data-mce-bogus': 'all'\n        });\n        var inner = editor.dom.create('div', { contenteditable: 'true' }, markedHtml);\n        editor.dom.setStyles(outer, {\n          position: 'fixed',\n          top: '0',\n          left: '-3000px',\n          width: '1000px',\n          overflow: 'hidden'\n        });\n        outer.appendChild(inner);\n        editor.dom.add(editor.getBody(), outer);\n        var range = editor.selection.getRng();\n        inner.focus();\n        var offscreenRange = editor.dom.createRng();\n        offscreenRange.selectNodeContents(inner);\n        editor.selection.setRng(offscreenRange);\n        global$9.setTimeout(function () {\n          editor.selection.setRng(range);\n          outer.parentNode.removeChild(outer);\n          done();\n        }, 0);\n      };\n    };\n    var getData = function (editor) {\n      return {\n        html: editor.selection.getContent({ contextual: true }),\n        text: editor.selection.getContent({ format: 'text' })\n      };\n    };\n    var isTableSelection = function (editor) {\n      return !!editor.dom.getParent(editor.selection.getStart(), 'td[data-mce-selected],th[data-mce-selected]', editor.getBody());\n    };\n    var hasSelectedContent = function (editor) {\n      return !editor.selection.isCollapsed() || isTableSelection(editor);\n    };\n    var cut = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), function () {\n            if (global$a.browser.isChrome() || global$a.browser.isFirefox()) {\n              var rng_1 = editor.selection.getRng();\n              global$9.setEditorTimeout(editor, function () {\n                editor.selection.setRng(rng_1);\n                editor.execCommand('Delete');\n              }, 0);\n            } else {\n              editor.execCommand('Delete');\n            }\n          });\n        }\n      };\n    };\n    var copy = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), noop);\n        }\n      };\n    };\n    var register$1 = function (editor) {\n      editor.on('cut', cut(editor));\n      editor.on('copy', copy(editor));\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var getCaretRangeFromEvent = function (editor, e) {\n      return global.getCaretRangeFromPoint(e.clientX, e.clientY, editor.getDoc());\n    };\n    var isPlainTextFileUrl = function (content) {\n      var plainTextContent = content['text/plain'];\n      return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\n    };\n    var setFocusedRange = function (editor, rng) {\n      editor.focus();\n      editor.selection.setRng(rng);\n    };\n    var setup$2 = function (editor, clipboard, draggingInternallyState) {\n      if (shouldBlockDrop(editor)) {\n        editor.on('dragend dragover draggesture dragdrop drop drag', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n        });\n      }\n      if (!shouldPasteDataImages(editor)) {\n        editor.on('drop', function (e) {\n          var dataTransfer = e.dataTransfer;\n          if (dataTransfer && dataTransfer.files && dataTransfer.files.length > 0) {\n            e.preventDefault();\n          }\n        });\n      }\n      editor.on('drop', function (e) {\n        var rng = getCaretRangeFromEvent(editor, e);\n        if (e.isDefaultPrevented() || draggingInternallyState.get()) {\n          return;\n        }\n        var dropContent = clipboard.getDataTransferItems(e.dataTransfer);\n        var internal = clipboard.hasContentType(dropContent, internalHtmlMime());\n        if ((!clipboard.hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && clipboard.pasteImageData(e, rng)) {\n          return;\n        }\n        if (rng && shouldFilterDrop(editor)) {\n          var content_1 = dropContent['mce-internal'] || dropContent['text/html'] || dropContent['text/plain'];\n          if (content_1) {\n            e.preventDefault();\n            global$9.setEditorTimeout(editor, function () {\n              editor.undoManager.transact(function () {\n                if (dropContent['mce-internal']) {\n                  editor.execCommand('Delete');\n                }\n                setFocusedRange(editor, rng);\n                content_1 = trimHtml(content_1);\n                if (!dropContent['text/html']) {\n                  clipboard.pasteText(content_1);\n                } else {\n                  clipboard.pasteHtml(content_1, internal);\n                }\n              });\n            });\n          }\n        }\n      });\n      editor.on('dragstart', function (_e) {\n        draggingInternallyState.set(true);\n      });\n      editor.on('dragover dragend', function (e) {\n        if (shouldPasteDataImages(editor) && draggingInternallyState.get() === false) {\n          e.preventDefault();\n          setFocusedRange(editor, getCaretRangeFromEvent(editor, e));\n        }\n        if (e.type === 'dragend') {\n          draggingInternallyState.set(false);\n        }\n      });\n    };\n\n    var setup$1 = function (editor) {\n      var plugin = editor.plugins.paste;\n      var preProcess = getPreProcess(editor);\n      if (preProcess) {\n        editor.on('PastePreProcess', function (e) {\n          preProcess.call(plugin, plugin, e);\n        });\n      }\n      var postProcess = getPostProcess(editor);\n      if (postProcess) {\n        editor.on('PastePostProcess', function (e) {\n          postProcess.call(plugin, plugin, e);\n        });\n      }\n    };\n\n    var addPreProcessFilter = function (editor, filterFunc) {\n      editor.on('PastePreProcess', function (e) {\n        e.content = filterFunc(editor, e.content, e.internal, e.wordContent);\n      });\n    };\n    var addPostProcessFilter = function (editor, filterFunc) {\n      editor.on('PastePostProcess', function (e) {\n        filterFunc(editor, e.node);\n      });\n    };\n    var removeExplorerBrElementsAfterBlocks = function (editor, html) {\n      if (!isWordContent(html)) {\n        return html;\n      }\n      var blockElements = [];\n      global$6.each(editor.schema.getBlockElements(), function (block, blockName) {\n        blockElements.push(blockName);\n      });\n      var explorerBlocksRegExp = new RegExp('(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*(<\\\\/?(' + blockElements.join('|') + ')[^>]*>)(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*', 'g');\n      html = filter(html, [[\n          explorerBlocksRegExp,\n          '$1'\n        ]]);\n      html = filter(html, [\n        [\n          /<br><br>/g,\n          '<BR><BR>'\n        ],\n        [\n          /<br>/g,\n          ' '\n        ],\n        [\n          /<BR><BR>/g,\n          '<br>'\n        ]\n      ]);\n      return html;\n    };\n    var removeWebKitStyles = function (editor, content, internal, isWordHtml) {\n      if (isWordHtml || internal) {\n        return content;\n      }\n      var webKitStylesSetting = getWebkitStyles(editor);\n      var webKitStyles;\n      if (shouldRemoveWebKitStyles(editor) === false || webKitStylesSetting === 'all') {\n        return content;\n      }\n      if (webKitStylesSetting) {\n        webKitStyles = webKitStylesSetting.split(/[, ]/);\n      }\n      if (webKitStyles) {\n        var dom_1 = editor.dom, node_1 = editor.selection.getNode();\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, function (all, before, value, after) {\n          var inputStyles = dom_1.parseStyle(dom_1.decode(value));\n          var outputStyles = {};\n          if (webKitStyles === 'none') {\n            return before + after;\n          }\n          for (var i = 0; i < webKitStyles.length; i++) {\n            var inputValue = inputStyles[webKitStyles[i]], currentValue = dom_1.getStyle(node_1, webKitStyles[i], true);\n            if (/color/.test(webKitStyles[i])) {\n              inputValue = dom_1.toHex(inputValue);\n              currentValue = dom_1.toHex(currentValue);\n            }\n            if (currentValue !== inputValue) {\n              outputStyles[webKitStyles[i]] = inputValue;\n            }\n          }\n          var outputStyle = dom_1.serializeStyle(outputStyles, 'span');\n          if (outputStyle) {\n            return before + ' style=\"' + outputStyle + '\"' + after;\n          }\n          return before + after;\n        });\n      } else {\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, '$1$3');\n      }\n      content = content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi, function (all, before, value, after) {\n        return before + ' style=\"' + value + '\"' + after;\n      });\n      return content;\n    };\n    var removeUnderlineAndFontInAnchor = function (editor, root) {\n      editor.$('a', root).find('font,u').each(function (i, node) {\n        editor.dom.remove(node, true);\n      });\n    };\n    var setup = function (editor) {\n      if (global$a.webkit) {\n        addPreProcessFilter(editor, removeWebKitStyles);\n      }\n      if (global$a.ie) {\n        addPreProcessFilter(editor, removeExplorerBrElementsAfterBlocks);\n        addPostProcessFilter(editor, removeUnderlineAndFontInAnchor);\n      }\n    };\n\n    var makeSetupHandler = function (editor, clipboard) {\n      return function (api) {\n        api.setActive(clipboard.pasteFormat.get() === 'text');\n        var pastePlainTextToggleHandler = function (e) {\n          return api.setActive(e.state);\n        };\n        editor.on('PastePlainTextToggle', pastePlainTextToggleHandler);\n        return function () {\n          return editor.off('PastePlainTextToggle', pastePlainTextToggleHandler);\n        };\n      };\n    };\n    var register = function (editor, clipboard) {\n      var onAction = function () {\n        return editor.execCommand('mceTogglePlainTextPaste');\n      };\n      editor.ui.registry.addToggleButton('pastetext', {\n        active: false,\n        icon: 'paste-text',\n        tooltip: 'Paste as text',\n        onAction: onAction,\n        onSetup: makeSetupHandler(editor, clipboard)\n      });\n      editor.ui.registry.addToggleMenuItem('pastetext', {\n        text: 'Paste as text',\n        icon: 'paste-text',\n        onAction: onAction,\n        onSetup: makeSetupHandler(editor, clipboard)\n      });\n    };\n\n    function Plugin () {\n      global$b.add('paste', function (editor) {\n        if (hasProPlugin(editor) === false) {\n          var draggingInternallyState = Cell(false);\n          var pasteFormat = Cell(isPasteAsTextEnabled(editor) ? 'text' : 'html');\n          var clipboard = Clipboard(editor, pasteFormat);\n          setup(editor);\n          register(editor, clipboard);\n          register$2(editor, clipboard);\n          setup$1(editor);\n          register$1(editor);\n          setup$2(editor, clipboard, draggingInternallyState);\n          return get(clipboard);\n        }\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"preview\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/preview')\n//   ES2015:\n//     import 'tinymce/plugins/preview'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getContentStyle = function (editor) {\n      return editor.getParam('content_style', '', 'string');\n    };\n    var shouldUseContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors', false, 'boolean');\n    };\n    var getBodyClassByHash = function (editor) {\n      var bodyClass = editor.getParam('body_class', '', 'hash');\n      return bodyClass[editor.id] || '';\n    };\n    var getBodyClass = function (editor) {\n      var bodyClass = editor.getParam('body_class', '', 'string');\n      if (bodyClass.indexOf('=') === -1) {\n        return bodyClass;\n      } else {\n        return getBodyClassByHash(editor);\n      }\n    };\n    var getBodyIdByHash = function (editor) {\n      var bodyId = editor.getParam('body_id', '', 'hash');\n      return bodyId[editor.id] || bodyId;\n    };\n    var getBodyId = function (editor) {\n      var bodyId = editor.getParam('body_id', 'tinymce', 'string');\n      if (bodyId.indexOf('=') === -1) {\n        return bodyId;\n      } else {\n        return getBodyIdByHash(editor);\n      }\n    };\n\n    var getPreviewHtml = function (editor) {\n      var headHtml = '';\n      var encode = editor.dom.encode;\n      var contentStyle = getContentStyle(editor);\n      headHtml += '<base href=\"' + encode(editor.documentBaseURI.getURI()) + '\">';\n      var cors = shouldUseContentCssCors(editor) ? ' crossorigin=\"anonymous\"' : '';\n      global.each(editor.contentCSS, function (url) {\n        headHtml += '<link type=\"text/css\" rel=\"stylesheet\" href=\"' + encode(editor.documentBaseURI.toAbsolute(url)) + '\"' + cors + '>';\n      });\n      if (contentStyle) {\n        headHtml += '<style type=\"text/css\">' + contentStyle + '</style>';\n      }\n      var bodyId = getBodyId(editor);\n      var bodyClass = getBodyClass(editor);\n      var isMetaKeyPressed = global$1.mac ? 'e.metaKey' : 'e.ctrlKey && !e.altKey';\n      var preventClicksOnLinksScript = '<script>' + 'document.addEventListener && document.addEventListener(\"click\", function(e) {' + 'for (var elm = e.target; elm; elm = elm.parentNode) {' + 'if (elm.nodeName === \"A\" && !(' + isMetaKeyPressed + ')) {' + 'e.preventDefault();' + '}' + '}' + '}, false);' + '</script> ';\n      var directionality = editor.getBody().dir;\n      var dirAttr = directionality ? ' dir=\"' + encode(directionality) + '\"' : '';\n      var previewHtml = '<!DOCTYPE html>' + '<html>' + '<head>' + headHtml + '</head>' + '<body id=\"' + encode(bodyId) + '\" class=\"mce-content-body ' + encode(bodyClass) + '\"' + dirAttr + '>' + editor.getContent() + preventClicksOnLinksScript + '</body>' + '</html>';\n      return previewHtml;\n    };\n\n    var open = function (editor) {\n      var content = getPreviewHtml(editor);\n      var dataApi = editor.windowManager.open({\n        title: 'Preview',\n        size: 'large',\n        body: {\n          type: 'panel',\n          items: [{\n              name: 'preview',\n              type: 'iframe',\n              sandboxed: true\n            }]\n        },\n        buttons: [{\n            type: 'cancel',\n            name: 'close',\n            text: 'Close',\n            primary: true\n          }],\n        initialData: { preview: content }\n      });\n      dataApi.focus('close');\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mcePreview', function () {\n        open(editor);\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mcePreview');\n      };\n      editor.ui.registry.addButton('preview', {\n        icon: 'preview',\n        tooltip: 'Preview',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('preview', {\n        icon: 'preview',\n        text: 'Preview',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$2.add('preview', function (editor) {\n        register$1(editor);\n        register(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"print\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/print')\n//   ES2015:\n//     import 'tinymce/plugins/print'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var register$1 = function (editor) {\n      editor.addCommand('mcePrint', function () {\n        if (global.browser.isIE()) {\n          editor.getDoc().execCommand('print', false, null);\n        } else {\n          editor.getWin().print();\n        }\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mcePrint');\n      };\n      editor.ui.registry.addButton('print', {\n        icon: 'print',\n        tooltip: 'Print',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('print', {\n        text: 'Print...',\n        icon: 'print',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$1.add('print', function (editor) {\n        register$1(editor);\n        register(editor);\n        editor.addShortcut('Meta+P', '', 'mcePrint');\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"save\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/save')\n//   ES2015:\n//     import 'tinymce/plugins/save'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var enableWhenDirty = function (editor) {\n      return editor.getParam('save_enablewhendirty', true);\n    };\n    var hasOnSaveCallback = function (editor) {\n      return !!editor.getParam('save_onsavecallback');\n    };\n    var hasOnCancelCallback = function (editor) {\n      return !!editor.getParam('save_oncancelcallback');\n    };\n\n    var displayErrorMessage = function (editor, message) {\n      editor.notificationManager.open({\n        text: message,\n        type: 'error'\n      });\n    };\n    var save = function (editor) {\n      var formObj = global$1.DOM.getParent(editor.id, 'form');\n      if (enableWhenDirty(editor) && !editor.isDirty()) {\n        return;\n      }\n      editor.save();\n      if (hasOnSaveCallback(editor)) {\n        editor.execCallback('save_onsavecallback', editor);\n        editor.nodeChanged();\n        return;\n      }\n      if (formObj) {\n        editor.setDirty(false);\n        if (!formObj.onsubmit || formObj.onsubmit()) {\n          if (typeof formObj.submit === 'function') {\n            formObj.submit();\n          } else {\n            displayErrorMessage(editor, 'Error: Form submit field collision.');\n          }\n        }\n        editor.nodeChanged();\n      } else {\n        displayErrorMessage(editor, 'Error: No form element found.');\n      }\n    };\n    var cancel = function (editor) {\n      var h = global.trim(editor.startContent);\n      if (hasOnCancelCallback(editor)) {\n        editor.execCallback('save_oncancelcallback', editor);\n        return;\n      }\n      editor.resetContent(h);\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceSave', function () {\n        save(editor);\n      });\n      editor.addCommand('mceCancel', function () {\n        cancel(editor);\n      });\n    };\n\n    var stateToggle = function (editor) {\n      return function (api) {\n        var handler = function () {\n          api.setDisabled(enableWhenDirty(editor) && !editor.isDirty());\n        };\n        handler();\n        editor.on('NodeChange dirty', handler);\n        return function () {\n          return editor.off('NodeChange dirty', handler);\n        };\n      };\n    };\n    var register = function (editor) {\n      editor.ui.registry.addButton('save', {\n        icon: 'save',\n        tooltip: 'Save',\n        disabled: true,\n        onAction: function () {\n          return editor.execCommand('mceSave');\n        },\n        onSetup: stateToggle(editor)\n      });\n      editor.ui.registry.addButton('cancel', {\n        icon: 'cancel',\n        tooltip: 'Cancel',\n        disabled: true,\n        onAction: function () {\n          return editor.execCommand('mceCancel');\n        },\n        onSetup: stateToggle(editor)\n      });\n      editor.addShortcut('Meta+S', '', 'mceSave');\n    };\n\n    function Plugin () {\n      global$2.add('save', function (editor) {\n        register(editor);\n        register$1(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"searchreplace\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/searchreplace')\n//   ES2015:\n//     import 'tinymce/plugins/searchreplace'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType$1('string');\n    var isArray = isType$1('array');\n    var isBoolean = isSimpleType('boolean');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var punctuationStr = '[!-#%-*,-\\\\/:;?@\\\\[-\\\\]_{}\\xA1\\xAB\\xB7\\xBB\\xBF;\\xB7\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1361-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u3008\\u3009\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30\\u2E31\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uff3f\\uFF5B\\uFF5D\\uFF5F-\\uFF65]';\n\n    var punctuation$1 = constant(punctuationStr);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var punctuation = punctuation$1;\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var nativeSlice = Array.prototype.slice;\n    var nativePush = Array.prototype.push;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var groupBy = function (xs, f) {\n      if (xs.length === 0) {\n        return [];\n      } else {\n        var wasType = f(xs[0]);\n        var r = [];\n        var group = [];\n        for (var i = 0, len = xs.length; i < len; i++) {\n          var x = xs[i];\n          var type = f(x);\n          if (type !== wasType) {\n            r.push(group);\n            group = [];\n          }\n          wasType = type;\n          group.push(x);\n        }\n        if (group.length !== 0) {\n          r.push(group);\n        }\n        return r;\n      }\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n\n    var hasOwnProperty = Object.hasOwnProperty;\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isText$1 = isType(TEXT);\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionPreceding = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_PRECEDING);\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var children = function (element) {\n      return map(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var spot = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n    var leaf = function (element, offset) {\n      var cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    var before = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var append = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n    var wrap = function (element, wrapper) {\n      before(element, wrapper);\n      append(wrapper, element);\n    };\n\n    var NodeValue = function (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    };\n\n    var api = NodeValue(isText$1, 'text');\n    var get$1 = function (element) {\n      return api.get(element);\n    };\n\n    var descendants = function (scope, selector) {\n      return all(selector, scope);\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var isSimpleBoundary = function (dom, node) {\n      return dom.isBlock(node) || has(dom.schema.getShortEndedElements(), node.nodeName);\n    };\n    var isContentEditableFalse = function (dom, node) {\n      return dom.getContentEditable(node) === 'false';\n    };\n    var isContentEditableTrueInCef = function (dom, node) {\n      return dom.getContentEditable(node) === 'true' && dom.getContentEditableParent(node.parentNode) === 'false';\n    };\n    var isHidden = function (dom, node) {\n      return !dom.isBlock(node) && has(dom.schema.getWhiteSpaceElements(), node.nodeName);\n    };\n    var isBoundary = function (dom, node) {\n      return isSimpleBoundary(dom, node) || isContentEditableFalse(dom, node) || isHidden(dom, node) || isContentEditableTrueInCef(dom, node);\n    };\n    var isText = function (node) {\n      return node.nodeType === 3;\n    };\n    var nuSection = function () {\n      return {\n        sOffset: 0,\n        fOffset: 0,\n        elements: []\n      };\n    };\n    var toLeaf = function (node, offset) {\n      return leaf(SugarElement.fromDom(node), offset);\n    };\n    var walk = function (dom, walkerFn, startNode, callbacks, endNode, skipStart) {\n      if (skipStart === void 0) {\n        skipStart = true;\n      }\n      var next = skipStart ? walkerFn(false) : startNode;\n      while (next) {\n        var isCefNode = isContentEditableFalse(dom, next);\n        if (isCefNode || isHidden(dom, next)) {\n          var stopWalking = isCefNode ? callbacks.cef(next) : callbacks.boundary(next);\n          if (stopWalking) {\n            break;\n          } else {\n            next = walkerFn(true);\n            continue;\n          }\n        } else if (isSimpleBoundary(dom, next)) {\n          if (callbacks.boundary(next)) {\n            break;\n          }\n        } else if (isText(next)) {\n          callbacks.text(next);\n        }\n        if (next === endNode) {\n          break;\n        } else {\n          next = walkerFn(false);\n        }\n      }\n    };\n    var collectTextToBoundary = function (dom, section, node, rootNode, forwards) {\n      if (isBoundary(dom, node)) {\n        return;\n      }\n      var rootBlock = dom.getParent(rootNode, dom.isBlock);\n      var walker = new global(node, rootBlock);\n      var walkerFn = forwards ? walker.next.bind(walker) : walker.prev.bind(walker);\n      walk(dom, walkerFn, node, {\n        boundary: always,\n        cef: always,\n        text: function (next) {\n          if (forwards) {\n            section.fOffset += next.length;\n          } else {\n            section.sOffset += next.length;\n          }\n          section.elements.push(SugarElement.fromDom(next));\n        }\n      });\n    };\n    var collect = function (dom, rootNode, startNode, endNode, callbacks, skipStart) {\n      if (skipStart === void 0) {\n        skipStart = true;\n      }\n      var walker = new global(startNode, rootNode);\n      var sections = [];\n      var current = nuSection();\n      collectTextToBoundary(dom, current, startNode, rootNode, false);\n      var finishSection = function () {\n        if (current.elements.length > 0) {\n          sections.push(current);\n          current = nuSection();\n        }\n        return false;\n      };\n      walk(dom, walker.next.bind(walker), startNode, {\n        boundary: finishSection,\n        cef: function (node) {\n          finishSection();\n          if (callbacks) {\n            sections.push.apply(sections, callbacks.cef(node));\n          }\n          return false;\n        },\n        text: function (next) {\n          current.elements.push(SugarElement.fromDom(next));\n          if (callbacks) {\n            callbacks.text(next, current);\n          }\n        }\n      }, endNode, skipStart);\n      if (endNode) {\n        collectTextToBoundary(dom, current, endNode, rootNode, true);\n      }\n      finishSection();\n      return sections;\n    };\n    var collectRangeSections = function (dom, rng) {\n      var start = toLeaf(rng.startContainer, rng.startOffset);\n      var startNode = start.element.dom;\n      var end = toLeaf(rng.endContainer, rng.endOffset);\n      var endNode = end.element.dom;\n      return collect(dom, rng.commonAncestorContainer, startNode, endNode, {\n        text: function (node, section) {\n          if (node === endNode) {\n            section.fOffset += node.length - end.offset;\n          } else if (node === startNode) {\n            section.sOffset += start.offset;\n          }\n        },\n        cef: function (node) {\n          var sections = bind(descendants(SugarElement.fromDom(node), '*[contenteditable=true]'), function (e) {\n            var ceTrueNode = e.dom;\n            return collect(dom, ceTrueNode, ceTrueNode);\n          });\n          return sort(sections, function (a, b) {\n            return documentPositionPreceding(a.elements[0].dom, b.elements[0].dom) ? 1 : -1;\n          });\n        }\n      }, false);\n    };\n    var fromRng = function (dom, rng) {\n      return rng.collapsed ? [] : collectRangeSections(dom, rng);\n    };\n    var fromNode = function (dom, node) {\n      var rng = dom.createRng();\n      rng.selectNode(node);\n      return fromRng(dom, rng);\n    };\n    var fromNodes = function (dom, nodes) {\n      return bind(nodes, function (node) {\n        return fromNode(dom, node);\n      });\n    };\n\n    var find$2 = function (text, pattern, start, finish) {\n      if (start === void 0) {\n        start = 0;\n      }\n      if (finish === void 0) {\n        finish = text.length;\n      }\n      var regex = pattern.regex;\n      regex.lastIndex = start;\n      var results = [];\n      var match;\n      while (match = regex.exec(text)) {\n        var matchedText = match[pattern.matchIndex];\n        var matchStart = match.index + match[0].indexOf(matchedText);\n        var matchFinish = matchStart + matchedText.length;\n        if (matchFinish > finish) {\n          break;\n        }\n        results.push({\n          start: matchStart,\n          finish: matchFinish\n        });\n        regex.lastIndex = matchFinish;\n      }\n      return results;\n    };\n    var extract = function (elements, matches) {\n      var nodePositions = foldl(elements, function (acc, element) {\n        var content = get$1(element);\n        var start = acc.last;\n        var finish = start + content.length;\n        var positions = bind(matches, function (match, matchIdx) {\n          if (match.start < finish && match.finish > start) {\n            return [{\n                element: element,\n                start: Math.max(start, match.start) - start,\n                finish: Math.min(finish, match.finish) - start,\n                matchId: matchIdx\n              }];\n          } else {\n            return [];\n          }\n        });\n        return {\n          results: acc.results.concat(positions),\n          last: finish\n        };\n      }, {\n        results: [],\n        last: 0\n      }).results;\n      return groupBy(nodePositions, function (position) {\n        return position.matchId;\n      });\n    };\n\n    var find$1 = function (pattern, sections) {\n      return bind(sections, function (section) {\n        var elements = section.elements;\n        var content = map(elements, get$1).join('');\n        var positions = find$2(content, pattern, section.sOffset, content.length - section.fOffset);\n        return extract(elements, positions);\n      });\n    };\n    var mark = function (matches, replacementNode) {\n      eachr(matches, function (match, idx) {\n        eachr(match, function (pos) {\n          var wrapper = SugarElement.fromDom(replacementNode.cloneNode(false));\n          set(wrapper, 'data-mce-index', idx);\n          var textNode = pos.element.dom;\n          if (textNode.length === pos.finish && pos.start === 0) {\n            wrap(pos.element, wrapper);\n          } else {\n            if (textNode.length !== pos.finish) {\n              textNode.splitText(pos.finish);\n            }\n            var matchNode = textNode.splitText(pos.start);\n            wrap(SugarElement.fromDom(matchNode), wrapper);\n          }\n        });\n      });\n    };\n    var findAndMark = function (dom, pattern, node, replacementNode) {\n      var textSections = fromNode(dom, node);\n      var matches = find$1(pattern, textSections);\n      mark(matches, replacementNode);\n      return matches.length;\n    };\n    var findAndMarkInSelection = function (dom, pattern, selection, replacementNode) {\n      var bookmark = selection.getBookmark();\n      var nodes = dom.select('td[data-mce-selected],th[data-mce-selected]');\n      var textSections = nodes.length > 0 ? fromNodes(dom, nodes) : fromRng(dom, selection.getRng());\n      var matches = find$1(pattern, textSections);\n      mark(matches, replacementNode);\n      selection.moveToBookmark(bookmark);\n      return matches.length;\n    };\n\n    var getElmIndex = function (elm) {\n      var value = elm.getAttribute('data-mce-index');\n      if (typeof value === 'number') {\n        return '' + value;\n      }\n      return value;\n    };\n    var markAllMatches = function (editor, currentSearchState, pattern, inSelection) {\n      var marker = editor.dom.create('span', { 'data-mce-bogus': 1 });\n      marker.className = 'mce-match-marker';\n      var node = editor.getBody();\n      done(editor, currentSearchState, false);\n      if (inSelection) {\n        return findAndMarkInSelection(editor.dom, pattern, editor.selection, marker);\n      } else {\n        return findAndMark(editor.dom, pattern, node, marker);\n      }\n    };\n    var unwrap = function (node) {\n      var parentNode = node.parentNode;\n      if (node.firstChild) {\n        parentNode.insertBefore(node.firstChild, node);\n      }\n      node.parentNode.removeChild(node);\n    };\n    var findSpansByIndex = function (editor, index) {\n      var spans = [];\n      var nodes = global$1.toArray(editor.getBody().getElementsByTagName('span'));\n      if (nodes.length) {\n        for (var i = 0; i < nodes.length; i++) {\n          var nodeIndex = getElmIndex(nodes[i]);\n          if (nodeIndex === null || !nodeIndex.length) {\n            continue;\n          }\n          if (nodeIndex === index.toString()) {\n            spans.push(nodes[i]);\n          }\n        }\n      }\n      return spans;\n    };\n    var moveSelection = function (editor, currentSearchState, forward) {\n      var searchState = currentSearchState.get();\n      var testIndex = searchState.index;\n      var dom = editor.dom;\n      forward = forward !== false;\n      if (forward) {\n        if (testIndex + 1 === searchState.count) {\n          testIndex = 0;\n        } else {\n          testIndex++;\n        }\n      } else {\n        if (testIndex - 1 === -1) {\n          testIndex = searchState.count - 1;\n        } else {\n          testIndex--;\n        }\n      }\n      dom.removeClass(findSpansByIndex(editor, searchState.index), 'mce-match-marker-selected');\n      var spans = findSpansByIndex(editor, testIndex);\n      if (spans.length) {\n        dom.addClass(findSpansByIndex(editor, testIndex), 'mce-match-marker-selected');\n        editor.selection.scrollIntoView(spans[0]);\n        return testIndex;\n      }\n      return -1;\n    };\n    var removeNode = function (dom, node) {\n      var parent = node.parentNode;\n      dom.remove(node);\n      if (dom.isEmpty(parent)) {\n        dom.remove(parent);\n      }\n    };\n    var escapeSearchText = function (text, wholeWord) {\n      var escapedText = text.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&').replace(/\\s/g, '[^\\\\S\\\\r\\\\n\\\\uFEFF]');\n      var wordRegex = '(' + escapedText + ')';\n      return wholeWord ? '(?:^|\\\\s|' + punctuation() + ')' + wordRegex + ('(?=$|\\\\s|' + punctuation() + ')') : wordRegex;\n    };\n    var find = function (editor, currentSearchState, text, matchCase, wholeWord, inSelection) {\n      var selection = editor.selection;\n      var escapedText = escapeSearchText(text, wholeWord);\n      var isForwardSelection = selection.isForward();\n      var pattern = {\n        regex: new RegExp(escapedText, matchCase ? 'g' : 'gi'),\n        matchIndex: 1\n      };\n      var count = markAllMatches(editor, currentSearchState, pattern, inSelection);\n      if (global$2.browser.isSafari()) {\n        selection.setRng(selection.getRng(), isForwardSelection);\n      }\n      if (count) {\n        var newIndex = moveSelection(editor, currentSearchState, true);\n        currentSearchState.set({\n          index: newIndex,\n          count: count,\n          text: text,\n          matchCase: matchCase,\n          wholeWord: wholeWord,\n          inSelection: inSelection\n        });\n      }\n      return count;\n    };\n    var next = function (editor, currentSearchState) {\n      var index = moveSelection(editor, currentSearchState, true);\n      currentSearchState.set(__assign(__assign({}, currentSearchState.get()), { index: index }));\n    };\n    var prev = function (editor, currentSearchState) {\n      var index = moveSelection(editor, currentSearchState, false);\n      currentSearchState.set(__assign(__assign({}, currentSearchState.get()), { index: index }));\n    };\n    var isMatchSpan = function (node) {\n      var matchIndex = getElmIndex(node);\n      return matchIndex !== null && matchIndex.length > 0;\n    };\n    var replace = function (editor, currentSearchState, text, forward, all) {\n      var searchState = currentSearchState.get();\n      var currentIndex = searchState.index;\n      var currentMatchIndex, nextIndex = currentIndex;\n      forward = forward !== false;\n      var node = editor.getBody();\n      var nodes = global$1.grep(global$1.toArray(node.getElementsByTagName('span')), isMatchSpan);\n      for (var i = 0; i < nodes.length; i++) {\n        var nodeIndex = getElmIndex(nodes[i]);\n        var matchIndex = currentMatchIndex = parseInt(nodeIndex, 10);\n        if (all || matchIndex === searchState.index) {\n          if (text.length) {\n            nodes[i].firstChild.nodeValue = text;\n            unwrap(nodes[i]);\n          } else {\n            removeNode(editor.dom, nodes[i]);\n          }\n          while (nodes[++i]) {\n            matchIndex = parseInt(getElmIndex(nodes[i]), 10);\n            if (matchIndex === currentMatchIndex) {\n              removeNode(editor.dom, nodes[i]);\n            } else {\n              i--;\n              break;\n            }\n          }\n          if (forward) {\n            nextIndex--;\n          }\n        } else if (currentMatchIndex > currentIndex) {\n          nodes[i].setAttribute('data-mce-index', String(currentMatchIndex - 1));\n        }\n      }\n      currentSearchState.set(__assign(__assign({}, searchState), {\n        count: all ? 0 : searchState.count - 1,\n        index: nextIndex\n      }));\n      if (forward) {\n        next(editor, currentSearchState);\n      } else {\n        prev(editor, currentSearchState);\n      }\n      return !all && currentSearchState.get().count > 0;\n    };\n    var done = function (editor, currentSearchState, keepEditorSelection) {\n      var startContainer, endContainer;\n      var searchState = currentSearchState.get();\n      var nodes = global$1.toArray(editor.getBody().getElementsByTagName('span'));\n      for (var i = 0; i < nodes.length; i++) {\n        var nodeIndex = getElmIndex(nodes[i]);\n        if (nodeIndex !== null && nodeIndex.length) {\n          if (nodeIndex === searchState.index.toString()) {\n            if (!startContainer) {\n              startContainer = nodes[i].firstChild;\n            }\n            endContainer = nodes[i].firstChild;\n          }\n          unwrap(nodes[i]);\n        }\n      }\n      currentSearchState.set(__assign(__assign({}, searchState), {\n        index: -1,\n        count: 0,\n        text: ''\n      }));\n      if (startContainer && endContainer) {\n        var rng = editor.dom.createRng();\n        rng.setStart(startContainer, 0);\n        rng.setEnd(endContainer, endContainer.data.length);\n        if (keepEditorSelection !== false) {\n          editor.selection.setRng(rng);\n        }\n        return rng;\n      }\n    };\n    var hasNext = function (editor, currentSearchState) {\n      return currentSearchState.get().count > 1;\n    };\n    var hasPrev = function (editor, currentSearchState) {\n      return currentSearchState.get().count > 1;\n    };\n\n    var get = function (editor, currentState) {\n      var done$1 = function (keepEditorSelection) {\n        return done(editor, currentState, keepEditorSelection);\n      };\n      var find$1 = function (text, matchCase, wholeWord, inSelection) {\n        if (inSelection === void 0) {\n          inSelection = false;\n        }\n        return find(editor, currentState, text, matchCase, wholeWord, inSelection);\n      };\n      var next$1 = function () {\n        return next(editor, currentState);\n      };\n      var prev$1 = function () {\n        return prev(editor, currentState);\n      };\n      var replace$1 = function (text, forward, all) {\n        return replace(editor, currentState, text, forward, all);\n      };\n      return {\n        done: done$1,\n        find: find$1,\n        next: next$1,\n        prev: prev$1,\n        replace: replace$1\n      };\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var value = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var open = function (editor, currentSearchState) {\n      var dialogApi = value();\n      editor.undoManager.add();\n      var selectedText = global$1.trim(editor.selection.getContent({ format: 'text' }));\n      var updateButtonStates = function (api) {\n        var updateNext = hasNext(editor, currentSearchState) ? api.enable : api.disable;\n        updateNext('next');\n        var updatePrev = hasPrev(editor, currentSearchState) ? api.enable : api.disable;\n        updatePrev('prev');\n      };\n      var updateSearchState = function (api) {\n        var data = api.getData();\n        var current = currentSearchState.get();\n        currentSearchState.set(__assign(__assign({}, current), {\n          matchCase: data.matchcase,\n          wholeWord: data.wholewords,\n          inSelection: data.inselection\n        }));\n      };\n      var disableAll = function (api, disable) {\n        var buttons = [\n          'replace',\n          'replaceall',\n          'prev',\n          'next'\n        ];\n        var toggle = disable ? api.disable : api.enable;\n        each(buttons, toggle);\n      };\n      var notFoundAlert = function (api) {\n        editor.windowManager.alert('Could not find the specified string.', function () {\n          api.focus('findtext');\n        });\n      };\n      var focusButtonIfRequired = function (api, name) {\n        if (global$2.browser.isSafari() && global$2.deviceType.isTouch() && (name === 'find' || name === 'replace' || name === 'replaceall')) {\n          api.focus(name);\n        }\n      };\n      var reset = function (api) {\n        done(editor, currentSearchState, false);\n        disableAll(api, true);\n        updateButtonStates(api);\n      };\n      var doFind = function (api) {\n        var data = api.getData();\n        var last = currentSearchState.get();\n        if (!data.findtext.length) {\n          reset(api);\n          return;\n        }\n        if (last.text === data.findtext && last.matchCase === data.matchcase && last.wholeWord === data.wholewords) {\n          next(editor, currentSearchState);\n        } else {\n          var count = find(editor, currentSearchState, data.findtext, data.matchcase, data.wholewords, data.inselection);\n          if (count <= 0) {\n            notFoundAlert(api);\n          }\n          disableAll(api, count === 0);\n        }\n        updateButtonStates(api);\n      };\n      var initialState = currentSearchState.get();\n      var initialData = {\n        findtext: selectedText,\n        replacetext: '',\n        wholewords: initialState.wholeWord,\n        matchcase: initialState.matchCase,\n        inselection: initialState.inSelection\n      };\n      var spec = {\n        title: 'Find and Replace',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [\n            {\n              type: 'bar',\n              items: [\n                {\n                  type: 'input',\n                  name: 'findtext',\n                  placeholder: 'Find',\n                  maximized: true,\n                  inputMode: 'search'\n                },\n                {\n                  type: 'button',\n                  name: 'prev',\n                  text: 'Previous',\n                  icon: 'action-prev',\n                  disabled: true,\n                  borderless: true\n                },\n                {\n                  type: 'button',\n                  name: 'next',\n                  text: 'Next',\n                  icon: 'action-next',\n                  disabled: true,\n                  borderless: true\n                }\n              ]\n            },\n            {\n              type: 'input',\n              name: 'replacetext',\n              placeholder: 'Replace with',\n              inputMode: 'search'\n            }\n          ]\n        },\n        buttons: [\n          {\n            type: 'menu',\n            name: 'options',\n            icon: 'preferences',\n            tooltip: 'Preferences',\n            align: 'start',\n            items: [\n              {\n                type: 'togglemenuitem',\n                name: 'matchcase',\n                text: 'Match case'\n              },\n              {\n                type: 'togglemenuitem',\n                name: 'wholewords',\n                text: 'Find whole words only'\n              },\n              {\n                type: 'togglemenuitem',\n                name: 'inselection',\n                text: 'Find in selection'\n              }\n            ]\n          },\n          {\n            type: 'custom',\n            name: 'find',\n            text: 'Find',\n            primary: true\n          },\n          {\n            type: 'custom',\n            name: 'replace',\n            text: 'Replace',\n            disabled: true\n          },\n          {\n            type: 'custom',\n            name: 'replaceall',\n            text: 'Replace all',\n            disabled: true\n          }\n        ],\n        initialData: initialData,\n        onChange: function (api, details) {\n          if (details.name === 'findtext' && currentSearchState.get().count > 0) {\n            reset(api);\n          }\n        },\n        onAction: function (api, details) {\n          var data = api.getData();\n          switch (details.name) {\n          case 'find':\n            doFind(api);\n            break;\n          case 'replace':\n            if (!replace(editor, currentSearchState, data.replacetext)) {\n              reset(api);\n            } else {\n              updateButtonStates(api);\n            }\n            break;\n          case 'replaceall':\n            replace(editor, currentSearchState, data.replacetext, true, true);\n            reset(api);\n            break;\n          case 'prev':\n            prev(editor, currentSearchState);\n            updateButtonStates(api);\n            break;\n          case 'next':\n            next(editor, currentSearchState);\n            updateButtonStates(api);\n            break;\n          case 'matchcase':\n          case 'wholewords':\n          case 'inselection':\n            updateSearchState(api);\n            reset(api);\n            break;\n          }\n          focusButtonIfRequired(api, details.name);\n        },\n        onSubmit: function (api) {\n          doFind(api);\n          focusButtonIfRequired(api, 'find');\n        },\n        onClose: function () {\n          editor.focus();\n          done(editor, currentSearchState);\n          editor.undoManager.add();\n        }\n      };\n      dialogApi.set(editor.windowManager.open(spec, { inline: 'toolbar' }));\n    };\n\n    var register$1 = function (editor, currentSearchState) {\n      editor.addCommand('SearchReplace', function () {\n        open(editor, currentSearchState);\n      });\n    };\n\n    var showDialog = function (editor, currentSearchState) {\n      return function () {\n        open(editor, currentSearchState);\n      };\n    };\n    var register = function (editor, currentSearchState) {\n      editor.ui.registry.addMenuItem('searchreplace', {\n        text: 'Find and replace...',\n        shortcut: 'Meta+F',\n        onAction: showDialog(editor, currentSearchState),\n        icon: 'search'\n      });\n      editor.ui.registry.addButton('searchreplace', {\n        tooltip: 'Find and replace',\n        onAction: showDialog(editor, currentSearchState),\n        icon: 'search'\n      });\n      editor.shortcuts.add('Meta+F', '', showDialog(editor, currentSearchState));\n    };\n\n    function Plugin () {\n      global$3.add('searchreplace', function (editor) {\n        var currentSearchState = Cell({\n          index: -1,\n          count: 0,\n          text: '',\n          matchCase: false,\n          wholeWord: false,\n          inSelection: false\n        });\n        register$1(editor, currentSearchState);\n        register(editor, currentSearchState);\n        return get(editor, currentSearchState);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"spellchecker\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/spellchecker')\n//   ES2015:\n//     import 'tinymce/plugins/spellchecker'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var hasProPlugin = function (editor) {\n      if (editor.hasPlugin('tinymcespellchecker', true)) {\n        if (typeof window.console !== 'undefined' && window.console.log) {\n          window.console.log('Spell Checker Pro is incompatible with Spell Checker plugin! ' + 'Remove \\'spellchecker\\' from the \\'plugins\\' option.');\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    var hasOwnProperty = Object.hasOwnProperty;\n    var isEmpty = function (r) {\n      for (var x in r) {\n        if (hasOwnProperty.call(r, x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.XHR');\n\n    var fireSpellcheckStart = function (editor) {\n      return editor.fire('SpellcheckStart');\n    };\n    var fireSpellcheckEnd = function (editor) {\n      return editor.fire('SpellcheckEnd');\n    };\n\n    var getLanguages = function (editor) {\n      var defaultLanguages = 'English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv';\n      return editor.getParam('spellchecker_languages', defaultLanguages);\n    };\n    var getLanguage = function (editor) {\n      var defaultLanguage = editor.getParam('language', 'en');\n      return editor.getParam('spellchecker_language', defaultLanguage);\n    };\n    var getRpcUrl = function (editor) {\n      return editor.getParam('spellchecker_rpc_url');\n    };\n    var getSpellcheckerCallback = function (editor) {\n      return editor.getParam('spellchecker_callback');\n    };\n    var getSpellcheckerWordcharPattern = function (editor) {\n      var defaultPattern = new RegExp('[^' + '\\\\s!\"#$%&()*+,-./:;<=>?@[\\\\]^_{|}`' + '\\xA7\\xA9\\xAB\\xAE\\xB1\\xB6\\xB7\\xB8\\xBB' + '\\xBC\\xBD\\xBE\\xBF\\xD7\\xF7\\xA4\\u201D\\u201C\\u201E\\xA0\\u2002\\u2003\\u2009' + ']+', 'g');\n      return editor.getParam('spellchecker_wordchar_pattern', defaultPattern);\n    };\n\n    var isContentEditableFalse = function (node) {\n      return node && node.nodeType === 1 && node.contentEditable === 'false';\n    };\n    var DomTextMatcher = function (node, editor) {\n      var m, matches = [];\n      var dom = editor.dom;\n      var blockElementsMap = editor.schema.getBlockElements();\n      var hiddenTextElementsMap = editor.schema.getWhiteSpaceElements();\n      var shortEndedElementsMap = editor.schema.getShortEndedElements();\n      var createMatch = function (m, data) {\n        if (!m[0]) {\n          throw new Error('findAndReplaceDOMText cannot handle zero-length matches');\n        }\n        return {\n          start: m.index,\n          end: m.index + m[0].length,\n          text: m[0],\n          data: data\n        };\n      };\n      var getText = function (node) {\n        if (node.nodeType === 3) {\n          return node.data;\n        }\n        if (hiddenTextElementsMap[node.nodeName] && !blockElementsMap[node.nodeName]) {\n          return '';\n        }\n        if (isContentEditableFalse(node)) {\n          return '\\n';\n        }\n        var txt = '';\n        if (blockElementsMap[node.nodeName] || shortEndedElementsMap[node.nodeName]) {\n          txt += '\\n';\n        }\n        if (node = node.firstChild) {\n          do {\n            txt += getText(node);\n          } while (node = node.nextSibling);\n        }\n        return txt;\n      };\n      var stepThroughMatches = function (node, matches, replaceFn) {\n        var startNode, endNode, startNodeIndex, endNodeIndex, innerNodes = [], atIndex = 0, curNode = node, matchLocation, matchIndex = 0;\n        matches = matches.slice(0);\n        matches.sort(function (a, b) {\n          return a.start - b.start;\n        });\n        matchLocation = matches.shift();\n        out:\n          while (true) {\n            if (blockElementsMap[curNode.nodeName] || shortEndedElementsMap[curNode.nodeName] || isContentEditableFalse(curNode)) {\n              atIndex++;\n            }\n            if (curNode.nodeType === 3) {\n              if (!endNode && curNode.length + atIndex >= matchLocation.end) {\n                endNode = curNode;\n                endNodeIndex = matchLocation.end - atIndex;\n              } else if (startNode) {\n                innerNodes.push(curNode);\n              }\n              if (!startNode && curNode.length + atIndex > matchLocation.start) {\n                startNode = curNode;\n                startNodeIndex = matchLocation.start - atIndex;\n              }\n              atIndex += curNode.length;\n            }\n            if (startNode && endNode) {\n              curNode = replaceFn({\n                startNode: startNode,\n                startNodeIndex: startNodeIndex,\n                endNode: endNode,\n                endNodeIndex: endNodeIndex,\n                innerNodes: innerNodes,\n                match: matchLocation.text,\n                matchIndex: matchIndex\n              });\n              atIndex -= endNode.length - endNodeIndex;\n              startNode = null;\n              endNode = null;\n              innerNodes = [];\n              matchLocation = matches.shift();\n              matchIndex++;\n              if (!matchLocation) {\n                break;\n              }\n            } else if ((!hiddenTextElementsMap[curNode.nodeName] || blockElementsMap[curNode.nodeName]) && curNode.firstChild) {\n              if (!isContentEditableFalse(curNode)) {\n                curNode = curNode.firstChild;\n                continue;\n              }\n            } else if (curNode.nextSibling) {\n              curNode = curNode.nextSibling;\n              continue;\n            }\n            while (true) {\n              if (curNode.nextSibling) {\n                curNode = curNode.nextSibling;\n                break;\n              } else if (curNode.parentNode !== node) {\n                curNode = curNode.parentNode;\n              } else {\n                break out;\n              }\n            }\n          }\n      };\n      var genReplacer = function (callback) {\n        var makeReplacementNode = function (fill, matchIndex) {\n          var match = matches[matchIndex];\n          if (!match.stencil) {\n            match.stencil = callback(match);\n          }\n          var clone = match.stencil.cloneNode(false);\n          clone.setAttribute('data-mce-index', '' + matchIndex);\n          if (fill) {\n            clone.appendChild(dom.doc.createTextNode(fill));\n          }\n          return clone;\n        };\n        return function (range) {\n          var before;\n          var after;\n          var parentNode;\n          var startNode = range.startNode;\n          var endNode = range.endNode;\n          var matchIndex = range.matchIndex;\n          var doc = dom.doc;\n          if (startNode === endNode) {\n            var node_1 = startNode;\n            parentNode = node_1.parentNode;\n            if (range.startNodeIndex > 0) {\n              before = doc.createTextNode(node_1.data.substring(0, range.startNodeIndex));\n              parentNode.insertBefore(before, node_1);\n            }\n            var el = makeReplacementNode(range.match, matchIndex);\n            parentNode.insertBefore(el, node_1);\n            if (range.endNodeIndex < node_1.length) {\n              after = doc.createTextNode(node_1.data.substring(range.endNodeIndex));\n              parentNode.insertBefore(after, node_1);\n            }\n            node_1.parentNode.removeChild(node_1);\n            return el;\n          }\n          before = doc.createTextNode(startNode.data.substring(0, range.startNodeIndex));\n          after = doc.createTextNode(endNode.data.substring(range.endNodeIndex));\n          var elA = makeReplacementNode(startNode.data.substring(range.startNodeIndex), matchIndex);\n          for (var i = 0, l = range.innerNodes.length; i < l; ++i) {\n            var innerNode = range.innerNodes[i];\n            var innerEl = makeReplacementNode(innerNode.data, matchIndex);\n            innerNode.parentNode.replaceChild(innerEl, innerNode);\n          }\n          var elB = makeReplacementNode(endNode.data.substring(0, range.endNodeIndex), matchIndex);\n          parentNode = startNode.parentNode;\n          parentNode.insertBefore(before, startNode);\n          parentNode.insertBefore(elA, startNode);\n          parentNode.removeChild(startNode);\n          parentNode = endNode.parentNode;\n          parentNode.insertBefore(elB, endNode);\n          parentNode.insertBefore(after, endNode);\n          parentNode.removeChild(endNode);\n          return elB;\n        };\n      };\n      var unwrapElement = function (element) {\n        var parentNode = element.parentNode;\n        while (element.childNodes.length > 0) {\n          parentNode.insertBefore(element.childNodes[0], element);\n        }\n        parentNode.removeChild(element);\n      };\n      var hasClass = function (elm) {\n        return elm.className.indexOf('mce-spellchecker-word') !== -1;\n      };\n      var getWrappersByIndex = function (index) {\n        var elements = node.getElementsByTagName('*'), wrappers = [];\n        index = typeof index === 'number' ? '' + index : null;\n        for (var i = 0; i < elements.length; i++) {\n          var element = elements[i], dataIndex = element.getAttribute('data-mce-index');\n          if (dataIndex !== null && dataIndex.length && hasClass(element)) {\n            if (dataIndex === index || index === null) {\n              wrappers.push(element);\n            }\n          }\n        }\n        return wrappers;\n      };\n      var indexOf = function (match) {\n        var i = matches.length;\n        while (i--) {\n          if (matches[i] === match) {\n            return i;\n          }\n        }\n        return -1;\n      };\n      function filter(callback) {\n        var filteredMatches = [];\n        each(function (match, i) {\n          if (callback(match, i)) {\n            filteredMatches.push(match);\n          }\n        });\n        matches = filteredMatches;\n        return this;\n      }\n      function each(callback) {\n        for (var i = 0, l = matches.length; i < l; i++) {\n          if (callback(matches[i], i) === false) {\n            break;\n          }\n        }\n        return this;\n      }\n      function wrap(callback) {\n        if (matches.length) {\n          stepThroughMatches(node, matches, genReplacer(callback));\n        }\n        return this;\n      }\n      function find(regex, data) {\n        if (text && regex.global) {\n          while (m = regex.exec(text)) {\n            matches.push(createMatch(m, data));\n          }\n        }\n        return this;\n      }\n      function unwrap(match) {\n        var i;\n        var elements = getWrappersByIndex(match ? indexOf(match) : null);\n        i = elements.length;\n        while (i--) {\n          unwrapElement(elements[i]);\n        }\n        return this;\n      }\n      var matchFromElement = function (element) {\n        return matches[element.getAttribute('data-mce-index')];\n      };\n      var elementFromMatch = function (match) {\n        return getWrappersByIndex(indexOf(match))[0];\n      };\n      function add(start, length, data) {\n        matches.push({\n          start: start,\n          end: start + length,\n          text: text.substr(start, length),\n          data: data\n        });\n        return this;\n      }\n      var rangeFromMatch = function (match) {\n        var wrappers = getWrappersByIndex(indexOf(match));\n        var rng = editor.dom.createRng();\n        rng.setStartBefore(wrappers[0]);\n        rng.setEndAfter(wrappers[wrappers.length - 1]);\n        return rng;\n      };\n      var replace = function (match, text) {\n        var rng = rangeFromMatch(match);\n        rng.deleteContents();\n        if (text.length > 0) {\n          rng.insertNode(editor.dom.doc.createTextNode(text));\n        }\n        return rng;\n      };\n      function reset() {\n        matches.splice(0, matches.length);\n        unwrap();\n        return this;\n      }\n      var text = getText(node);\n      return {\n        text: text,\n        matches: matches,\n        each: each,\n        filter: filter,\n        reset: reset,\n        matchFromElement: matchFromElement,\n        elementFromMatch: elementFromMatch,\n        find: find,\n        add: add,\n        wrap: wrap,\n        unwrap: unwrap,\n        replace: replace,\n        rangeFromMatch: rangeFromMatch,\n        indexOf: indexOf\n      };\n    };\n\n    var getTextMatcher = function (editor, textMatcherState) {\n      if (!textMatcherState.get()) {\n        var textMatcher = DomTextMatcher(editor.getBody(), editor);\n        textMatcherState.set(textMatcher);\n      }\n      return textMatcherState.get();\n    };\n    var defaultSpellcheckCallback = function (editor, pluginUrl, currentLanguageState) {\n      return function (method, text, doneCallback, errorCallback) {\n        var data = {\n          method: method,\n          lang: currentLanguageState.get()\n        };\n        var postData = '';\n        data[method === 'addToDictionary' ? 'word' : 'text'] = text;\n        global$2.each(data, function (value, key) {\n          if (postData) {\n            postData += '&';\n          }\n          postData += key + '=' + encodeURIComponent(value);\n        });\n        global.send({\n          url: new global$1(pluginUrl).toAbsolute(getRpcUrl(editor)),\n          type: 'post',\n          content_type: 'application/x-www-form-urlencoded',\n          data: postData,\n          success: function (result) {\n            var parseResult = JSON.parse(result);\n            if (!parseResult) {\n              var message = editor.translate('Server response wasn\\'t proper JSON.');\n              errorCallback(message);\n            } else if (parseResult.error) {\n              errorCallback(parseResult.error);\n            } else {\n              doneCallback(parseResult);\n            }\n          },\n          error: function () {\n            var message = editor.translate('The spelling service was not found: (') + getRpcUrl(editor) + editor.translate(')');\n            errorCallback(message);\n          }\n        });\n      };\n    };\n    var sendRpcCall = function (editor, pluginUrl, currentLanguageState, name, data, successCallback, errorCallback) {\n      var userSpellcheckCallback = getSpellcheckerCallback(editor);\n      var spellCheckCallback = userSpellcheckCallback ? userSpellcheckCallback : defaultSpellcheckCallback(editor, pluginUrl, currentLanguageState);\n      spellCheckCallback.call(editor.plugins.spellchecker, name, data, successCallback, errorCallback);\n    };\n    var spellcheck = function (editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState) {\n      if (finish(editor, startedState, textMatcherState)) {\n        return;\n      }\n      var errorCallback = function (message) {\n        editor.notificationManager.open({\n          text: message,\n          type: 'error'\n        });\n        editor.setProgressState(false);\n        finish(editor, startedState, textMatcherState);\n      };\n      var successCallback = function (data) {\n        markErrors(editor, startedState, textMatcherState, lastSuggestionsState, data);\n      };\n      editor.setProgressState(true);\n      sendRpcCall(editor, pluginUrl, currentLanguageState, 'spellcheck', getTextMatcher(editor, textMatcherState).text, successCallback, errorCallback);\n      editor.focus();\n    };\n    var checkIfFinished = function (editor, startedState, textMatcherState) {\n      if (!editor.dom.select('span.mce-spellchecker-word').length) {\n        finish(editor, startedState, textMatcherState);\n      }\n    };\n    var addToDictionary = function (editor, pluginUrl, startedState, textMatcherState, currentLanguageState, word, spans) {\n      editor.setProgressState(true);\n      sendRpcCall(editor, pluginUrl, currentLanguageState, 'addToDictionary', word, function () {\n        editor.setProgressState(false);\n        editor.dom.remove(spans, true);\n        checkIfFinished(editor, startedState, textMatcherState);\n      }, function (message) {\n        editor.notificationManager.open({\n          text: message,\n          type: 'error'\n        });\n        editor.setProgressState(false);\n      });\n    };\n    var ignoreWord = function (editor, startedState, textMatcherState, word, spans, all) {\n      editor.selection.collapse();\n      if (all) {\n        global$2.each(editor.dom.select('span.mce-spellchecker-word'), function (span) {\n          if (span.getAttribute('data-mce-word') === word) {\n            editor.dom.remove(span, true);\n          }\n        });\n      } else {\n        editor.dom.remove(spans, true);\n      }\n      checkIfFinished(editor, startedState, textMatcherState);\n    };\n    var finish = function (editor, startedState, textMatcherState) {\n      var bookmark = editor.selection.getBookmark();\n      getTextMatcher(editor, textMatcherState).reset();\n      editor.selection.moveToBookmark(bookmark);\n      textMatcherState.set(null);\n      if (startedState.get()) {\n        startedState.set(false);\n        fireSpellcheckEnd(editor);\n        return true;\n      }\n    };\n    var getElmIndex = function (elm) {\n      var value = elm.getAttribute('data-mce-index');\n      if (typeof value === 'number') {\n        return '' + value;\n      }\n      return value;\n    };\n    var findSpansByIndex = function (editor, index) {\n      var spans = [];\n      var nodes = global$2.toArray(editor.getBody().getElementsByTagName('span'));\n      if (nodes.length) {\n        for (var i = 0; i < nodes.length; i++) {\n          var nodeIndex = getElmIndex(nodes[i]);\n          if (nodeIndex === null || !nodeIndex.length) {\n            continue;\n          }\n          if (nodeIndex === index.toString()) {\n            spans.push(nodes[i]);\n          }\n        }\n      }\n      return spans;\n    };\n    var markErrors = function (editor, startedState, textMatcherState, lastSuggestionsState, data) {\n      var hasDictionarySupport = !!data.dictionary;\n      var suggestions = data.words;\n      editor.setProgressState(false);\n      if (isEmpty(suggestions)) {\n        var message = editor.translate('No misspellings found.');\n        editor.notificationManager.open({\n          text: message,\n          type: 'info'\n        });\n        startedState.set(false);\n        return;\n      }\n      lastSuggestionsState.set({\n        suggestions: suggestions,\n        hasDictionarySupport: hasDictionarySupport\n      });\n      var bookmark = editor.selection.getBookmark();\n      getTextMatcher(editor, textMatcherState).find(getSpellcheckerWordcharPattern(editor)).filter(function (match) {\n        return !!suggestions[match.text];\n      }).wrap(function (match) {\n        return editor.dom.create('span', {\n          'class': 'mce-spellchecker-word',\n          'aria-invalid': 'spelling',\n          'data-mce-bogus': 1,\n          'data-mce-word': match.text\n        });\n      });\n      editor.selection.moveToBookmark(bookmark);\n      startedState.set(true);\n      fireSpellcheckStart(editor);\n    };\n\n    var get = function (editor, startedState, lastSuggestionsState, textMatcherState, currentLanguageState) {\n      var getWordCharPattern = function () {\n        return getSpellcheckerWordcharPattern(editor);\n      };\n      var markErrors$1 = function (data) {\n        markErrors(editor, startedState, textMatcherState, lastSuggestionsState, data);\n      };\n      return {\n        getTextMatcher: textMatcherState.get,\n        getWordCharPattern: getWordCharPattern,\n        markErrors: markErrors$1,\n        getLanguage: currentLanguageState.get\n      };\n    };\n\n    var register$1 = function (editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState) {\n      editor.addCommand('mceSpellCheck', function () {\n        spellcheck(editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState);\n      });\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var spellcheckerEvents = 'SpellcheckStart SpellcheckEnd';\n    var buildMenuItems = function (listName, languageValues) {\n      var items = [];\n      global$2.each(languageValues, function (languageValue) {\n        items.push({\n          selectable: true,\n          text: languageValue.name,\n          data: languageValue.value\n        });\n      });\n      return items;\n    };\n    var getItems = function (editor) {\n      return global$2.map(getLanguages(editor).split(','), function (langPair) {\n        var langPairs = langPair.split('=');\n        return {\n          name: langPairs[0],\n          value: langPairs[1]\n        };\n      });\n    };\n    var register = function (editor, pluginUrl, startedState, textMatcherState, currentLanguageState, lastSuggestionsState) {\n      var languageMenuItems = buildMenuItems('Language', getItems(editor));\n      var startSpellchecking = function () {\n        spellcheck(editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState);\n      };\n      var buttonArgs = {\n        tooltip: 'Spellcheck',\n        onAction: startSpellchecking,\n        icon: 'spell-check',\n        onSetup: function (buttonApi) {\n          var setButtonState = function () {\n            buttonApi.setActive(startedState.get());\n          };\n          editor.on(spellcheckerEvents, setButtonState);\n          return function () {\n            editor.off(spellcheckerEvents, setButtonState);\n          };\n        }\n      };\n      var splitButtonArgs = __assign(__assign({}, buttonArgs), {\n        type: 'splitbutton',\n        select: function (value) {\n          return value === currentLanguageState.get();\n        },\n        fetch: function (callback) {\n          var items = global$2.map(languageMenuItems, function (languageItem) {\n            return {\n              type: 'choiceitem',\n              value: languageItem.data,\n              text: languageItem.text\n            };\n          });\n          callback(items);\n        },\n        onItemAction: function (splitButtonApi, value) {\n          currentLanguageState.set(value);\n        }\n      });\n      if (languageMenuItems.length > 1) {\n        editor.ui.registry.addSplitButton('spellchecker', splitButtonArgs);\n      } else {\n        editor.ui.registry.addToggleButton('spellchecker', buttonArgs);\n      }\n      editor.ui.registry.addToggleMenuItem('spellchecker', {\n        text: 'Spellcheck',\n        icon: 'spell-check',\n        onSetup: function (menuApi) {\n          menuApi.setActive(startedState.get());\n          var setMenuItemCheck = function () {\n            menuApi.setActive(startedState.get());\n          };\n          editor.on(spellcheckerEvents, setMenuItemCheck);\n          return function () {\n            editor.off(spellcheckerEvents, setMenuItemCheck);\n          };\n        },\n        onAction: startSpellchecking\n      });\n    };\n\n    var ignoreAll = true;\n    var getSuggestions = function (editor, pluginUrl, lastSuggestionsState, startedState, textMatcherState, currentLanguageState, word, spans) {\n      var items = [];\n      var suggestions = lastSuggestionsState.get().suggestions[word];\n      global$2.each(suggestions, function (suggestion) {\n        items.push({\n          text: suggestion,\n          onAction: function () {\n            editor.insertContent(editor.dom.encode(suggestion));\n            editor.dom.remove(spans);\n            checkIfFinished(editor, startedState, textMatcherState);\n          }\n        });\n      });\n      var hasDictionarySupport = lastSuggestionsState.get().hasDictionarySupport;\n      if (hasDictionarySupport) {\n        items.push({ type: 'separator' });\n        items.push({\n          text: 'Add to dictionary',\n          onAction: function () {\n            addToDictionary(editor, pluginUrl, startedState, textMatcherState, currentLanguageState, word, spans);\n          }\n        });\n      }\n      items.push.apply(items, [\n        { type: 'separator' },\n        {\n          text: 'Ignore',\n          onAction: function () {\n            ignoreWord(editor, startedState, textMatcherState, word, spans);\n          }\n        },\n        {\n          text: 'Ignore all',\n          onAction: function () {\n            ignoreWord(editor, startedState, textMatcherState, word, spans, ignoreAll);\n          }\n        }\n      ]);\n      return items;\n    };\n    var setup = function (editor, pluginUrl, lastSuggestionsState, startedState, textMatcherState, currentLanguageState) {\n      var update = function (element) {\n        var target = element;\n        if (target.className === 'mce-spellchecker-word') {\n          var spans = findSpansByIndex(editor, getElmIndex(target));\n          if (spans.length > 0) {\n            var rng = editor.dom.createRng();\n            rng.setStartBefore(spans[0]);\n            rng.setEndAfter(spans[spans.length - 1]);\n            editor.selection.setRng(rng);\n            return getSuggestions(editor, pluginUrl, lastSuggestionsState, startedState, textMatcherState, currentLanguageState, target.getAttribute('data-mce-word'), spans);\n          }\n        } else {\n          return [];\n        }\n      };\n      editor.ui.registry.addContextMenu('spellchecker', { update: update });\n    };\n\n    function Plugin () {\n      global$3.add('spellchecker', function (editor, pluginUrl) {\n        if (hasProPlugin(editor) === false) {\n          var startedState = Cell(false);\n          var currentLanguageState = Cell(getLanguage(editor));\n          var textMatcherState = Cell(null);\n          var lastSuggestionsState = Cell(null);\n          register(editor, pluginUrl, startedState, textMatcherState, currentLanguageState, lastSuggestionsState);\n          setup(editor, pluginUrl, lastSuggestionsState, startedState, textMatcherState, currentLanguageState);\n          register$1(editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState);\n          return get(editor, startedState, lastSuggestionsState, textMatcherState, currentLanguageState);\n        }\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"tabfocus\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/tabfocus')\n//   ES2015:\n//     import 'tinymce/plugins/tabfocus'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var getTabFocusElements = function (editor) {\n      return editor.getParam('tabfocus_elements', ':prev,:next');\n    };\n    var getTabFocus = function (editor) {\n      return editor.getParam('tab_focus', getTabFocusElements(editor));\n    };\n\n    var DOM = global$5.DOM;\n    var tabCancel = function (e) {\n      if (e.keyCode === global.TAB && !e.ctrlKey && !e.altKey && !e.metaKey) {\n        e.preventDefault();\n      }\n    };\n    var setup = function (editor) {\n      var tabHandler = function (e) {\n        var x;\n        if (e.keyCode !== global.TAB || e.ctrlKey || e.altKey || e.metaKey || e.isDefaultPrevented()) {\n          return;\n        }\n        var find = function (direction) {\n          var el = DOM.select(':input:enabled,*[tabindex]:not(iframe)');\n          var canSelectRecursive = function (e) {\n            var castElem = e;\n            return e.nodeName === 'BODY' || castElem.type !== 'hidden' && castElem.style.display !== 'none' && castElem.style.visibility !== 'hidden' && canSelectRecursive(e.parentNode);\n          };\n          var canSelect = function (el) {\n            return /INPUT|TEXTAREA|BUTTON/.test(el.tagName) && global$4.get(e.id) && el.tabIndex !== -1 && canSelectRecursive(el);\n          };\n          global$1.each(el, function (e, i) {\n            if (e.id === editor.id) {\n              x = i;\n              return false;\n            }\n          });\n          if (direction > 0) {\n            for (var i = x + 1; i < el.length; i++) {\n              if (canSelect(el[i])) {\n                return el[i];\n              }\n            }\n          } else {\n            for (var i = x - 1; i >= 0; i--) {\n              if (canSelect(el[i])) {\n                return el[i];\n              }\n            }\n          }\n          return null;\n        };\n        var v = global$1.explode(getTabFocus(editor));\n        if (v.length === 1) {\n          v[1] = v[0];\n          v[0] = ':prev';\n        }\n        var el;\n        if (e.shiftKey) {\n          if (v[0] === ':prev') {\n            el = find(-1);\n          } else {\n            el = DOM.get(v[0]);\n          }\n        } else {\n          if (v[1] === ':next') {\n            el = find(1);\n          } else {\n            el = DOM.get(v[1]);\n          }\n        }\n        if (el) {\n          var focusEditor = global$4.get(el.id || el.name);\n          if (el.id && focusEditor) {\n            focusEditor.focus();\n          } else {\n            global$2.setTimeout(function () {\n              if (!global$3.webkit) {\n                window.focus();\n              }\n              el.focus();\n            }, 10);\n          }\n          e.preventDefault();\n        }\n      };\n      editor.on('init', function () {\n        if (editor.inline) {\n          DOM.setAttrib(editor.getBody(), 'tabIndex', null);\n        }\n        editor.on('keyup', tabCancel);\n        if (global$3.gecko) {\n          editor.on('keypress keydown', tabHandler);\n        } else {\n          editor.on('keydown', tabHandler);\n        }\n      });\n    };\n\n    function Plugin () {\n      global$6.add('tabfocus', function (editor) {\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"template\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/template')\n//   ES2015:\n//     import 'tinymce/plugins/template'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType('string');\n    var isFunction = isSimpleType('function');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var never = constant(false);\n    var always = constant(true);\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.XHR');\n\n    var getCreationDateClasses = function (editor) {\n      return editor.getParam('template_cdate_classes', 'cdate');\n    };\n    var getModificationDateClasses = function (editor) {\n      return editor.getParam('template_mdate_classes', 'mdate');\n    };\n    var getSelectedContentClasses = function (editor) {\n      return editor.getParam('template_selected_content_classes', 'selcontent');\n    };\n    var getPreviewReplaceValues = function (editor) {\n      return editor.getParam('template_preview_replace_values');\n    };\n    var getContentStyle = function (editor) {\n      return editor.getParam('content_style', '', 'string');\n    };\n    var shouldUseContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors', false, 'boolean');\n    };\n    var getTemplateReplaceValues = function (editor) {\n      return editor.getParam('template_replace_values');\n    };\n    var getTemplates = function (editor) {\n      return editor.getParam('templates');\n    };\n    var getCdateFormat = function (editor) {\n      return editor.getParam('template_cdate_format', editor.translate('%Y-%m-%d'));\n    };\n    var getMdateFormat = function (editor) {\n      return editor.getParam('template_mdate_format', editor.translate('%Y-%m-%d'));\n    };\n    var getBodyClassFromHash = function (editor) {\n      var bodyClass = editor.getParam('body_class', '', 'hash');\n      return bodyClass[editor.id] || '';\n    };\n    var getBodyClass = function (editor) {\n      var bodyClass = editor.getParam('body_class', '', 'string');\n      if (bodyClass.indexOf('=') === -1) {\n        return bodyClass;\n      } else {\n        return getBodyClassFromHash(editor);\n      }\n    };\n\n    var addZeros = function (value, len) {\n      value = '' + value;\n      if (value.length < len) {\n        for (var i = 0; i < len - value.length; i++) {\n          value = '0' + value;\n        }\n      }\n      return value;\n    };\n    var getDateTime = function (editor, fmt, date) {\n      if (date === void 0) {\n        date = new Date();\n      }\n      var daysShort = 'Sun Mon Tue Wed Thu Fri Sat Sun'.split(' ');\n      var daysLong = 'Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday'.split(' ');\n      var monthsShort = 'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec'.split(' ');\n      var monthsLong = 'January February March April May June July August September October November December'.split(' ');\n      fmt = fmt.replace('%D', '%m/%d/%Y');\n      fmt = fmt.replace('%r', '%I:%M:%S %p');\n      fmt = fmt.replace('%Y', '' + date.getFullYear());\n      fmt = fmt.replace('%y', '' + date.getYear());\n      fmt = fmt.replace('%m', addZeros(date.getMonth() + 1, 2));\n      fmt = fmt.replace('%d', addZeros(date.getDate(), 2));\n      fmt = fmt.replace('%H', '' + addZeros(date.getHours(), 2));\n      fmt = fmt.replace('%M', '' + addZeros(date.getMinutes(), 2));\n      fmt = fmt.replace('%S', '' + addZeros(date.getSeconds(), 2));\n      fmt = fmt.replace('%I', '' + ((date.getHours() + 11) % 12 + 1));\n      fmt = fmt.replace('%p', '' + (date.getHours() < 12 ? 'AM' : 'PM'));\n      fmt = fmt.replace('%B', '' + editor.translate(monthsLong[date.getMonth()]));\n      fmt = fmt.replace('%b', '' + editor.translate(monthsShort[date.getMonth()]));\n      fmt = fmt.replace('%A', '' + editor.translate(daysLong[date.getDay()]));\n      fmt = fmt.replace('%a', '' + editor.translate(daysShort[date.getDay()]));\n      fmt = fmt.replace('%%', '%');\n      return fmt;\n    };\n\n    var createTemplateList = function (editor, callback) {\n      return function () {\n        var templateList = getTemplates(editor);\n        if (isFunction(templateList)) {\n          templateList(callback);\n        } else if (isString(templateList)) {\n          global$2.send({\n            url: templateList,\n            success: function (text) {\n              callback(JSON.parse(text));\n            }\n          });\n        } else {\n          callback(templateList);\n        }\n      };\n    };\n    var replaceTemplateValues = function (html, templateValues) {\n      global$3.each(templateValues, function (v, k) {\n        if (isFunction(v)) {\n          v = v(k);\n        }\n        html = html.replace(new RegExp('\\\\{\\\\$' + k + '\\\\}', 'g'), v);\n      });\n      return html;\n    };\n    var replaceVals = function (editor, scope) {\n      var dom = editor.dom, vl = getTemplateReplaceValues(editor);\n      global$3.each(dom.select('*', scope), function (e) {\n        global$3.each(vl, function (v, k) {\n          if (dom.hasClass(e, k)) {\n            if (isFunction(v)) {\n              v(e);\n            }\n          }\n        });\n      });\n    };\n    var hasClass = function (n, c) {\n      return new RegExp('\\\\b' + c + '\\\\b', 'g').test(n.className);\n    };\n    var insertTemplate = function (editor, _ui, html) {\n      var dom = editor.dom;\n      var sel = editor.selection.getContent();\n      html = replaceTemplateValues(html, getTemplateReplaceValues(editor));\n      var el = dom.create('div', null, html);\n      var n = dom.select('.mceTmpl', el);\n      if (n && n.length > 0) {\n        el = dom.create('div', null);\n        el.appendChild(n[0].cloneNode(true));\n      }\n      global$3.each(dom.select('*', el), function (n) {\n        if (hasClass(n, getCreationDateClasses(editor).replace(/\\s+/g, '|'))) {\n          n.innerHTML = getDateTime(editor, getCdateFormat(editor));\n        }\n        if (hasClass(n, getModificationDateClasses(editor).replace(/\\s+/g, '|'))) {\n          n.innerHTML = getDateTime(editor, getMdateFormat(editor));\n        }\n        if (hasClass(n, getSelectedContentClasses(editor).replace(/\\s+/g, '|'))) {\n          n.innerHTML = sel;\n        }\n      });\n      replaceVals(editor, el);\n      editor.execCommand('mceInsertContent', false, el.innerHTML);\n      editor.addVisual();\n    };\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var hasOwnProperty = Object.hasOwnProperty;\n    var get = function (obj, key) {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var entitiesAttr = {\n      '\"': '&quot;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '&': '&amp;',\n      '\\'': '&#039;'\n    };\n    var htmlEscape = function (html) {\n      return html.replace(/[\"'<>&]/g, function (match) {\n        return get(entitiesAttr, match).getOr(match);\n      });\n    };\n\n    var getPreviewContent = function (editor, html) {\n      if (html.indexOf('<html>') === -1) {\n        var contentCssEntries_1 = '';\n        var contentStyle = getContentStyle(editor);\n        var cors_1 = shouldUseContentCssCors(editor) ? ' crossorigin=\"anonymous\"' : '';\n        global$3.each(editor.contentCSS, function (url) {\n          contentCssEntries_1 += '<link type=\"text/css\" rel=\"stylesheet\" href=\"' + editor.documentBaseURI.toAbsolute(url) + '\"' + cors_1 + '>';\n        });\n        if (contentStyle) {\n          contentCssEntries_1 += '<style type=\"text/css\">' + contentStyle + '</style>';\n        }\n        var bodyClass = getBodyClass(editor);\n        var encode = editor.dom.encode;\n        var isMetaKeyPressed = global$1.mac ? 'e.metaKey' : 'e.ctrlKey && !e.altKey';\n        var preventClicksOnLinksScript = '<script>' + 'document.addEventListener && document.addEventListener(\"click\", function(e) {' + 'for (var elm = e.target; elm; elm = elm.parentNode) {' + 'if (elm.nodeName === \"A\" && !(' + isMetaKeyPressed + ')) {' + 'e.preventDefault();' + '}' + '}' + '}, false);' + '</script> ';\n        var directionality = editor.getBody().dir;\n        var dirAttr = directionality ? ' dir=\"' + encode(directionality) + '\"' : '';\n        html = '<!DOCTYPE html>' + '<html>' + '<head>' + '<base href=\"' + encode(editor.documentBaseURI.getURI()) + '\">' + contentCssEntries_1 + preventClicksOnLinksScript + '</head>' + '<body class=\"' + encode(bodyClass) + '\"' + dirAttr + '>' + html + '</body>' + '</html>';\n      }\n      return replaceTemplateValues(html, getPreviewReplaceValues(editor));\n    };\n    var open = function (editor, templateList) {\n      var createTemplates = function () {\n        if (!templateList || templateList.length === 0) {\n          var message = editor.translate('No templates defined.');\n          editor.notificationManager.open({\n            text: message,\n            type: 'info'\n          });\n          return Optional.none();\n        }\n        return Optional.from(global$3.map(templateList, function (template, index) {\n          var isUrlTemplate = function (t) {\n            return t.url !== undefined;\n          };\n          return {\n            selected: index === 0,\n            text: template.title,\n            value: {\n              url: isUrlTemplate(template) ? Optional.from(template.url) : Optional.none(),\n              content: !isUrlTemplate(template) ? Optional.from(template.content) : Optional.none(),\n              description: template.description\n            }\n          };\n        }));\n      };\n      var createSelectBoxItems = function (templates) {\n        return map(templates, function (t) {\n          return {\n            text: t.text,\n            value: t.text\n          };\n        });\n      };\n      var findTemplate = function (templates, templateTitle) {\n        return find(templates, function (t) {\n          return t.text === templateTitle;\n        });\n      };\n      var loadFailedAlert = function (api) {\n        editor.windowManager.alert('Could not load the specified template.', function () {\n          return api.focus('template');\n        });\n      };\n      var getTemplateContent = function (t) {\n        return new global(function (resolve, reject) {\n          t.value.url.fold(function () {\n            return resolve(t.value.content.getOr(''));\n          }, function (url) {\n            return global$2.send({\n              url: url,\n              success: function (html) {\n                resolve(html);\n              },\n              error: function (e) {\n                reject(e);\n              }\n            });\n          });\n        });\n      };\n      var onChange = function (templates, updateDialog) {\n        return function (api, change) {\n          if (change.name === 'template') {\n            var newTemplateTitle = api.getData().template;\n            findTemplate(templates, newTemplateTitle).each(function (t) {\n              api.block('Loading...');\n              getTemplateContent(t).then(function (previewHtml) {\n                updateDialog(api, t, previewHtml);\n              }).catch(function () {\n                updateDialog(api, t, '');\n                api.disable('save');\n                loadFailedAlert(api);\n              });\n            });\n          }\n        };\n      };\n      var onSubmit = function (templates) {\n        return function (api) {\n          var data = api.getData();\n          findTemplate(templates, data.template).each(function (t) {\n            getTemplateContent(t).then(function (previewHtml) {\n              editor.execCommand('mceInsertTemplate', false, previewHtml);\n              api.close();\n            }).catch(function () {\n              api.disable('save');\n              loadFailedAlert(api);\n            });\n          });\n        };\n      };\n      var openDialog = function (templates) {\n        var selectBoxItems = createSelectBoxItems(templates);\n        var buildDialogSpec = function (bodyItems, initialData) {\n          return {\n            title: 'Insert Template',\n            size: 'large',\n            body: {\n              type: 'panel',\n              items: bodyItems\n            },\n            initialData: initialData,\n            buttons: [\n              {\n                type: 'cancel',\n                name: 'cancel',\n                text: 'Cancel'\n              },\n              {\n                type: 'submit',\n                name: 'save',\n                text: 'Save',\n                primary: true\n              }\n            ],\n            onSubmit: onSubmit(templates),\n            onChange: onChange(templates, updateDialog)\n          };\n        };\n        var updateDialog = function (dialogApi, template, previewHtml) {\n          var content = getPreviewContent(editor, previewHtml);\n          var bodyItems = [\n            {\n              type: 'selectbox',\n              name: 'template',\n              label: 'Templates',\n              items: selectBoxItems\n            },\n            {\n              type: 'htmlpanel',\n              html: '<p aria-live=\"polite\">' + htmlEscape(template.value.description) + '</p>'\n            },\n            {\n              label: 'Preview',\n              type: 'iframe',\n              name: 'preview',\n              sandboxed: false\n            }\n          ];\n          var initialData = {\n            template: template.text,\n            preview: content\n          };\n          dialogApi.unblock();\n          dialogApi.redial(buildDialogSpec(bodyItems, initialData));\n          dialogApi.focus('template');\n        };\n        var dialogApi = editor.windowManager.open(buildDialogSpec([], {\n          template: '',\n          preview: ''\n        }));\n        dialogApi.block('Loading...');\n        getTemplateContent(templates[0]).then(function (previewHtml) {\n          updateDialog(dialogApi, templates[0], previewHtml);\n        }).catch(function () {\n          updateDialog(dialogApi, templates[0], '');\n          dialogApi.disable('save');\n          loadFailedAlert(dialogApi);\n        });\n      };\n      var optTemplates = createTemplates();\n      optTemplates.each(openDialog);\n    };\n\n    var showDialog = function (editor) {\n      return function (templates) {\n        open(editor, templates);\n      };\n    };\n    var register$1 = function (editor) {\n      editor.addCommand('mceInsertTemplate', curry(insertTemplate, editor));\n      editor.addCommand('mceTemplate', createTemplateList(editor, showDialog(editor)));\n    };\n\n    var setup = function (editor) {\n      editor.on('PreProcess', function (o) {\n        var dom = editor.dom, dateFormat = getMdateFormat(editor);\n        global$3.each(dom.select('div', o.node), function (e) {\n          if (dom.hasClass(e, 'mceTmpl')) {\n            global$3.each(dom.select('*', e), function (e) {\n              if (dom.hasClass(e, getModificationDateClasses(editor).replace(/\\s+/g, '|'))) {\n                e.innerHTML = getDateTime(editor, dateFormat);\n              }\n            });\n            replaceVals(editor, e);\n          }\n        });\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mceTemplate');\n      };\n      editor.ui.registry.addButton('template', {\n        icon: 'template',\n        tooltip: 'Insert template',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('template', {\n        icon: 'template',\n        text: 'Insert template...',\n        onAction: onAction\n      });\n    };\n\n    function Plugin () {\n      global$4.add('template', function (editor) {\n        register(editor);\n        register$1(editor);\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"textpattern\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/textpattern')\n//   ES2015:\n//     import 'tinymce/plugins/textpattern'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isString = isType('string');\n    var isObject = isType('object');\n    var isArray = isType('array');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var contains = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var get$1 = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$1(xs, 0);\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var generate$1 = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              var foldArgs = [];\n              for (var _i = 0; _i < arguments.length; _i++) {\n                foldArgs[_i] = arguments[_i];\n              }\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              var target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$1 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    var partition = function (results) {\n      var errors = [];\n      var values = [];\n      each(results, function (result) {\n        result.fold(function (err) {\n          errors.push(err);\n        }, function (value) {\n          values.push(value);\n        });\n      });\n      return {\n        errors: errors,\n        values: values\n      };\n    };\n\n    var value = function (o) {\n      var or = function (_opt) {\n        return value(o);\n      };\n      var orThunk = function (_f) {\n        return value(o);\n      };\n      var map = function (f) {\n        return value(f(o));\n      };\n      var mapError = function (_f) {\n        return value(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOptional = function () {\n        return Optional.some(o);\n      };\n      return {\n        isValue: always,\n        isError: never,\n        getOr: constant(o),\n        getOrThunk: constant(o),\n        getOrDie: constant(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOptional: toOptional\n      };\n    };\n    var error$1 = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = identity;\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (_f) {\n        return error$1(message);\n      };\n      var mapError = function (f) {\n        return error$1(f(message));\n      };\n      var bind = function (_f) {\n        return error$1(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        isValue: never,\n        isError: always,\n        getOr: identity,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOptional: Optional.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error$1(err);\n      }, value);\n    };\n    var Result = {\n      value: value,\n      error: error$1,\n      fromOption: fromOption\n    };\n\n    var isInlinePattern = function (pattern) {\n      return pattern.type === 'inline-command' || pattern.type === 'inline-format';\n    };\n    var isBlockPattern = function (pattern) {\n      return pattern.type === 'block-command' || pattern.type === 'block-format';\n    };\n    var sortPatterns = function (patterns) {\n      return sort(patterns, function (a, b) {\n        if (a.start.length === b.start.length) {\n          return 0;\n        }\n        return a.start.length > b.start.length ? -1 : 1;\n      });\n    };\n    var normalizePattern = function (pattern) {\n      var err = function (message) {\n        return Result.error({\n          message: message,\n          pattern: pattern\n        });\n      };\n      var formatOrCmd = function (name, onFormat, onCommand) {\n        if (pattern.format !== undefined) {\n          var formats = void 0;\n          if (isArray(pattern.format)) {\n            if (!forall(pattern.format, isString)) {\n              return err(name + ' pattern has non-string items in the `format` array');\n            }\n            formats = pattern.format;\n          } else if (isString(pattern.format)) {\n            formats = [pattern.format];\n          } else {\n            return err(name + ' pattern has non-string `format` parameter');\n          }\n          return Result.value(onFormat(formats));\n        } else if (pattern.cmd !== undefined) {\n          if (!isString(pattern.cmd)) {\n            return err(name + ' pattern has non-string `cmd` parameter');\n          }\n          return Result.value(onCommand(pattern.cmd, pattern.value));\n        } else {\n          return err(name + ' pattern is missing both `format` and `cmd` parameters');\n        }\n      };\n      if (!isObject(pattern)) {\n        return err('Raw pattern is not an object');\n      }\n      if (!isString(pattern.start)) {\n        return err('Raw pattern is missing `start` parameter');\n      }\n      if (pattern.end !== undefined) {\n        if (!isString(pattern.end)) {\n          return err('Inline pattern has non-string `end` parameter');\n        }\n        if (pattern.start.length === 0 && pattern.end.length === 0) {\n          return err('Inline pattern has empty `start` and `end` parameters');\n        }\n        var start_1 = pattern.start;\n        var end_1 = pattern.end;\n        if (end_1.length === 0) {\n          end_1 = start_1;\n          start_1 = '';\n        }\n        return formatOrCmd('Inline', function (format) {\n          return {\n            type: 'inline-format',\n            start: start_1,\n            end: end_1,\n            format: format\n          };\n        }, function (cmd, value) {\n          return {\n            type: 'inline-command',\n            start: start_1,\n            end: end_1,\n            cmd: cmd,\n            value: value\n          };\n        });\n      } else if (pattern.replacement !== undefined) {\n        if (!isString(pattern.replacement)) {\n          return err('Replacement pattern has non-string `replacement` parameter');\n        }\n        if (pattern.start.length === 0) {\n          return err('Replacement pattern has empty `start` parameter');\n        }\n        return Result.value({\n          type: 'inline-command',\n          start: '',\n          end: pattern.start,\n          cmd: 'mceInsertContent',\n          value: pattern.replacement\n        });\n      } else {\n        if (pattern.start.length === 0) {\n          return err('Block pattern has empty `start` parameter');\n        }\n        return formatOrCmd('Block', function (formats) {\n          return {\n            type: 'block-format',\n            start: pattern.start,\n            format: formats[0]\n          };\n        }, function (command, commandValue) {\n          return {\n            type: 'block-command',\n            start: pattern.start,\n            cmd: command,\n            value: commandValue\n          };\n        });\n      }\n    };\n    var denormalizePattern = function (pattern) {\n      if (pattern.type === 'block-command') {\n        return {\n          start: pattern.start,\n          cmd: pattern.cmd,\n          value: pattern.value\n        };\n      } else if (pattern.type === 'block-format') {\n        return {\n          start: pattern.start,\n          format: pattern.format\n        };\n      } else if (pattern.type === 'inline-command') {\n        if (pattern.cmd === 'mceInsertContent' && pattern.start === '') {\n          return {\n            start: pattern.end,\n            replacement: pattern.value\n          };\n        } else {\n          return {\n            start: pattern.start,\n            end: pattern.end,\n            cmd: pattern.cmd,\n            value: pattern.value\n          };\n        }\n      } else if (pattern.type === 'inline-format') {\n        return {\n          start: pattern.start,\n          end: pattern.end,\n          format: pattern.format.length === 1 ? pattern.format[0] : pattern.format\n        };\n      }\n    };\n    var createPatternSet = function (patterns) {\n      return {\n        inlinePatterns: filter(patterns, isInlinePattern),\n        blockPatterns: sortPatterns(filter(patterns, isBlockPattern))\n      };\n    };\n\n    var get = function (patternsState) {\n      var setPatterns = function (newPatterns) {\n        var normalized = partition(map(newPatterns, normalizePattern));\n        if (normalized.errors.length > 0) {\n          var firstError = normalized.errors[0];\n          throw new Error(firstError.message + ':\\n' + JSON.stringify(firstError.pattern, null, 2));\n        }\n        patternsState.set(createPatternSet(normalized.values));\n      };\n      var getPatterns = function () {\n        return __spreadArray(__spreadArray([], map(patternsState.get().inlinePatterns, denormalizePattern), true), map(patternsState.get().blockPatterns, denormalizePattern), true);\n      };\n      return {\n        setPatterns: setPatterns,\n        getPatterns: getPatterns\n      };\n    };\n\n    var Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var error = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      var console = Global.console;\n      if (console) {\n        if (console.error) {\n          console.error.apply(console, args);\n        } else {\n          console.log.apply(console, args);\n        }\n      }\n    };\n    var defaultPatterns = [\n      {\n        start: '*',\n        end: '*',\n        format: 'italic'\n      },\n      {\n        start: '**',\n        end: '**',\n        format: 'bold'\n      },\n      {\n        start: '#',\n        format: 'h1'\n      },\n      {\n        start: '##',\n        format: 'h2'\n      },\n      {\n        start: '###',\n        format: 'h3'\n      },\n      {\n        start: '####',\n        format: 'h4'\n      },\n      {\n        start: '#####',\n        format: 'h5'\n      },\n      {\n        start: '######',\n        format: 'h6'\n      },\n      {\n        start: '1. ',\n        cmd: 'InsertOrderedList'\n      },\n      {\n        start: '* ',\n        cmd: 'InsertUnorderedList'\n      },\n      {\n        start: '- ',\n        cmd: 'InsertUnorderedList'\n      }\n    ];\n    var getPatternSet = function (editor) {\n      var patterns = editor.getParam('textpattern_patterns', defaultPatterns, 'array');\n      if (!isArray(patterns)) {\n        error('The setting textpattern_patterns should be an array');\n        return {\n          inlinePatterns: [],\n          blockPatterns: []\n        };\n      }\n      var normalized = partition(map(patterns, normalizePattern));\n      each(normalized.errors, function (err) {\n        return error(err.message, err.pattern);\n      });\n      return createPatternSet(normalized.values);\n    };\n    var getForcedRootBlock = function (editor) {\n      var block = editor.getParam('forced_root_block', 'p');\n      if (block === false) {\n        return '';\n      } else if (block === true) {\n        return 'p';\n      } else {\n        return block;\n      }\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var zeroWidth = '\\uFEFF';\n    var nbsp = '\\xA0';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global = tinymce.util.Tools.resolve('tinymce.dom.TextSeeker');\n\n    var point = function (container, offset) {\n      return {\n        container: container,\n        offset: offset\n      };\n    };\n\n    var isText = function (node) {\n      return node.nodeType === Node.TEXT_NODE;\n    };\n    var cleanEmptyNodes = function (dom, node, isRoot) {\n      if (node && dom.isEmpty(node) && !isRoot(node)) {\n        var parent_1 = node.parentNode;\n        dom.remove(node);\n        cleanEmptyNodes(dom, parent_1, isRoot);\n      }\n    };\n    var deleteRng = function (dom, rng, isRoot, clean) {\n      if (clean === void 0) {\n        clean = true;\n      }\n      var startParent = rng.startContainer.parentNode;\n      var endParent = rng.endContainer.parentNode;\n      rng.deleteContents();\n      if (clean && !isRoot(rng.startContainer)) {\n        if (isText(rng.startContainer) && rng.startContainer.data.length === 0) {\n          dom.remove(rng.startContainer);\n        }\n        if (isText(rng.endContainer) && rng.endContainer.data.length === 0) {\n          dom.remove(rng.endContainer);\n        }\n        cleanEmptyNodes(dom, startParent, isRoot);\n        if (startParent !== endParent) {\n          cleanEmptyNodes(dom, endParent, isRoot);\n        }\n      }\n    };\n    var isBlockFormatName = function (name, formatter) {\n      var formatSet = formatter.get(name);\n      return isArray(formatSet) && head(formatSet).exists(function (format) {\n        return has(format, 'block');\n      });\n    };\n    var isReplacementPattern = function (pattern) {\n      return pattern.start.length === 0;\n    };\n    var getParentBlock = function (editor, rng) {\n      var parentBlockOpt = Optional.from(editor.dom.getParent(rng.startContainer, editor.dom.isBlock));\n      if (getForcedRootBlock(editor) === '') {\n        return parentBlockOpt.orThunk(function () {\n          return Optional.some(editor.getBody());\n        });\n      } else {\n        return parentBlockOpt;\n      }\n    };\n\n    var DOM = global$1.DOM;\n    var alwaysNext = function (startNode) {\n      return function (node) {\n        return startNode === node ? -1 : 0;\n      };\n    };\n    var isBoundary = function (dom) {\n      return function (node) {\n        return dom.isBlock(node) || contains([\n          'BR',\n          'IMG',\n          'HR',\n          'INPUT'\n        ], node.nodeName) || dom.getContentEditable(node) === 'false';\n      };\n    };\n    var textBefore = function (node, offset, rootNode) {\n      if (isText(node) && offset >= 0) {\n        return Optional.some(point(node, offset));\n      } else {\n        var textSeeker = global(DOM);\n        return Optional.from(textSeeker.backwards(node, offset, alwaysNext(node), rootNode)).map(function (prev) {\n          return point(prev.container, prev.container.data.length);\n        });\n      }\n    };\n    var textAfter = function (node, offset, rootNode) {\n      if (isText(node) && offset >= node.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        var textSeeker = global(DOM);\n        return Optional.from(textSeeker.forwards(node, offset, alwaysNext(node), rootNode)).map(function (prev) {\n          return point(prev.container, 0);\n        });\n      }\n    };\n    var scanLeft = function (node, offset, rootNode) {\n      if (!isText(node)) {\n        return Optional.none();\n      }\n      var text = node.textContent;\n      if (offset >= 0 && offset <= text.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        var textSeeker = global(DOM);\n        return Optional.from(textSeeker.backwards(node, offset, alwaysNext(node), rootNode)).bind(function (prev) {\n          var prevText = prev.container.data;\n          return scanLeft(prev.container, offset + prevText.length, rootNode);\n        });\n      }\n    };\n    var scanRight = function (node, offset, rootNode) {\n      if (!isText(node)) {\n        return Optional.none();\n      }\n      var text = node.textContent;\n      if (offset <= text.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        var textSeeker = global(DOM);\n        return Optional.from(textSeeker.forwards(node, offset, alwaysNext(node), rootNode)).bind(function (next) {\n          return scanRight(next.container, offset - text.length, rootNode);\n        });\n      }\n    };\n    var repeatLeft = function (dom, node, offset, process, rootNode) {\n      var search = global(dom, isBoundary(dom));\n      return Optional.from(search.backwards(node, offset, process, rootNode));\n    };\n\n    var generatePath = function (root, node, offset) {\n      if (isText(node) && (offset < 0 || offset > node.data.length)) {\n        return [];\n      }\n      var p = [offset];\n      var current = node;\n      while (current !== root && current.parentNode) {\n        var parent_1 = current.parentNode;\n        for (var i = 0; i < parent_1.childNodes.length; i++) {\n          if (parent_1.childNodes[i] === current) {\n            p.push(i);\n            break;\n          }\n        }\n        current = parent_1;\n      }\n      return current === root ? p.reverse() : [];\n    };\n    var generatePathRange = function (root, startNode, startOffset, endNode, endOffset) {\n      var start = generatePath(root, startNode, startOffset);\n      var end = generatePath(root, endNode, endOffset);\n      return {\n        start: start,\n        end: end\n      };\n    };\n    var resolvePath = function (root, path) {\n      var nodePath = path.slice();\n      var offset = nodePath.pop();\n      var resolvedNode = foldl(nodePath, function (optNode, index) {\n        return optNode.bind(function (node) {\n          return Optional.from(node.childNodes[index]);\n        });\n      }, Optional.some(root));\n      return resolvedNode.bind(function (node) {\n        if (isText(node) && (offset < 0 || offset > node.data.length)) {\n          return Optional.none();\n        } else {\n          return Optional.some({\n            node: node,\n            offset: offset\n          });\n        }\n      });\n    };\n    var resolvePathRange = function (root, range) {\n      return resolvePath(root, range.start).bind(function (_a) {\n        var startNode = _a.node, startOffset = _a.offset;\n        return resolvePath(root, range.end).map(function (_a) {\n          var endNode = _a.node, endOffset = _a.offset;\n          var rng = document.createRange();\n          rng.setStart(startNode, startOffset);\n          rng.setEnd(endNode, endOffset);\n          return rng;\n        });\n      });\n    };\n    var generatePathRangeFromRange = function (root, range) {\n      return generatePathRange(root, range.startContainer, range.startOffset, range.endContainer, range.endOffset);\n    };\n\n    var stripPattern = function (dom, block, pattern) {\n      var firstTextNode = textAfter(block, 0, block);\n      firstTextNode.each(function (spot) {\n        var node = spot.container;\n        scanRight(node, pattern.start.length, block).each(function (end) {\n          var rng = dom.createRng();\n          rng.setStart(node, 0);\n          rng.setEnd(end.container, end.offset);\n          deleteRng(dom, rng, function (e) {\n            return e === block;\n          });\n        });\n      });\n    };\n    var applyPattern$1 = function (editor, match) {\n      var dom = editor.dom;\n      var pattern = match.pattern;\n      var rng = resolvePathRange(dom.getRoot(), match.range).getOrDie('Unable to resolve path range');\n      getParentBlock(editor, rng).each(function (block) {\n        if (pattern.type === 'block-format') {\n          if (isBlockFormatName(pattern.format, editor.formatter)) {\n            editor.undoManager.transact(function () {\n              stripPattern(editor.dom, block, pattern);\n              editor.formatter.apply(pattern.format);\n            });\n          }\n        } else if (pattern.type === 'block-command') {\n          editor.undoManager.transact(function () {\n            stripPattern(editor.dom, block, pattern);\n            editor.execCommand(pattern.cmd, false, pattern.value);\n          });\n        }\n      });\n      return true;\n    };\n    var findPattern$1 = function (patterns, text) {\n      var nuText = text.replace(nbsp, ' ');\n      return find(patterns, function (pattern) {\n        return text.indexOf(pattern.start) === 0 || nuText.indexOf(pattern.start) === 0;\n      });\n    };\n    var findPatterns$1 = function (editor, patterns) {\n      var dom = editor.dom;\n      var rng = editor.selection.getRng();\n      return getParentBlock(editor, rng).filter(function (block) {\n        var forcedRootBlock = getForcedRootBlock(editor);\n        var matchesForcedRootBlock = forcedRootBlock === '' && dom.is(block, 'body') || dom.is(block, forcedRootBlock);\n        return block !== null && matchesForcedRootBlock;\n      }).bind(function (block) {\n        var blockText = block.textContent;\n        var matchedPattern = findPattern$1(patterns, blockText);\n        return matchedPattern.map(function (pattern) {\n          if (global$2.trim(blockText).length === pattern.start.length) {\n            return [];\n          }\n          return [{\n              pattern: pattern,\n              range: generatePathRange(dom.getRoot(), block, 0, block, 0)\n            }];\n        });\n      }).getOr([]);\n    };\n    var applyMatches$1 = function (editor, matches) {\n      if (matches.length === 0) {\n        return;\n      }\n      var bookmark = editor.selection.getBookmark();\n      each(matches, function (match) {\n        return applyPattern$1(editor, match);\n      });\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    var unique = 0;\n    var generate = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n\n    var newMarker = function (dom, id) {\n      return dom.create('span', {\n        'data-mce-type': 'bookmark',\n        id: id\n      });\n    };\n    var rangeFromMarker = function (dom, marker) {\n      var rng = dom.createRng();\n      rng.setStartAfter(marker.start);\n      rng.setEndBefore(marker.end);\n      return rng;\n    };\n    var createMarker = function (dom, markerPrefix, pathRange) {\n      var rng = resolvePathRange(dom.getRoot(), pathRange).getOrDie('Unable to resolve path range');\n      var startNode = rng.startContainer;\n      var endNode = rng.endContainer;\n      var textEnd = rng.endOffset === 0 ? endNode : endNode.splitText(rng.endOffset);\n      var textStart = rng.startOffset === 0 ? startNode : startNode.splitText(rng.startOffset);\n      return {\n        prefix: markerPrefix,\n        end: textEnd.parentNode.insertBefore(newMarker(dom, markerPrefix + '-end'), textEnd),\n        start: textStart.parentNode.insertBefore(newMarker(dom, markerPrefix + '-start'), textStart)\n      };\n    };\n    var removeMarker = function (dom, marker, isRoot) {\n      cleanEmptyNodes(dom, dom.get(marker.prefix + '-end'), isRoot);\n      cleanEmptyNodes(dom, dom.get(marker.prefix + '-start'), isRoot);\n    };\n\n    var matchesPattern = function (dom, block, patternContent) {\n      return function (element, offset) {\n        var text = element.data;\n        var searchText = text.substring(0, offset);\n        var startEndIndex = searchText.lastIndexOf(patternContent.charAt(patternContent.length - 1));\n        var startIndex = searchText.lastIndexOf(patternContent);\n        if (startIndex !== -1) {\n          return startIndex + patternContent.length;\n        } else if (startEndIndex !== -1) {\n          return startEndIndex + 1;\n        } else {\n          return -1;\n        }\n      };\n    };\n    var findPatternStartFromSpot = function (dom, pattern, block, spot) {\n      var startPattern = pattern.start;\n      var startSpot = repeatLeft(dom, spot.container, spot.offset, matchesPattern(dom, block, startPattern), block);\n      return startSpot.bind(function (spot) {\n        if (spot.offset >= startPattern.length) {\n          var rng = dom.createRng();\n          rng.setStart(spot.container, spot.offset - startPattern.length);\n          rng.setEnd(spot.container, spot.offset);\n          return Optional.some(rng);\n        } else {\n          var offset = spot.offset - startPattern.length;\n          return scanLeft(spot.container, offset, block).map(function (nextSpot) {\n            var rng = dom.createRng();\n            rng.setStart(nextSpot.container, nextSpot.offset);\n            rng.setEnd(spot.container, spot.offset);\n            return rng;\n          }).filter(function (rng) {\n            return rng.toString() === startPattern;\n          }).orThunk(function () {\n            return findPatternStartFromSpot(dom, pattern, block, point(spot.container, 0));\n          });\n        }\n      });\n    };\n    var findPatternStart = function (dom, pattern, node, offset, block, requireGap) {\n      if (requireGap === void 0) {\n        requireGap = false;\n      }\n      if (pattern.start.length === 0 && !requireGap) {\n        var rng = dom.createRng();\n        rng.setStart(node, offset);\n        rng.setEnd(node, offset);\n        return Optional.some(rng);\n      }\n      return textBefore(node, offset, block).bind(function (spot) {\n        var start = findPatternStartFromSpot(dom, pattern, block, spot);\n        return start.bind(function (startRange) {\n          if (requireGap) {\n            if (startRange.endContainer === spot.container && startRange.endOffset === spot.offset) {\n              return Optional.none();\n            } else if (spot.offset === 0 && startRange.endContainer.textContent.length === startRange.endOffset) {\n              return Optional.none();\n            }\n          }\n          return Optional.some(startRange);\n        });\n      });\n    };\n    var findPattern = function (editor, block, details) {\n      var dom = editor.dom;\n      var root = dom.getRoot();\n      var pattern = details.pattern;\n      var endNode = details.position.container;\n      var endOffset = details.position.offset;\n      return scanLeft(endNode, endOffset - details.pattern.end.length, block).bind(function (spot) {\n        var endPathRng = generatePathRange(root, spot.container, spot.offset, endNode, endOffset);\n        if (isReplacementPattern(pattern)) {\n          return Optional.some({\n            matches: [{\n                pattern: pattern,\n                startRng: endPathRng,\n                endRng: endPathRng\n              }],\n            position: spot\n          });\n        } else {\n          var resultsOpt = findPatternsRec(editor, details.remainingPatterns, spot.container, spot.offset, block);\n          var results_1 = resultsOpt.getOr({\n            matches: [],\n            position: spot\n          });\n          var pos = results_1.position;\n          var start = findPatternStart(dom, pattern, pos.container, pos.offset, block, resultsOpt.isNone());\n          return start.map(function (startRng) {\n            var startPathRng = generatePathRangeFromRange(root, startRng);\n            return {\n              matches: results_1.matches.concat([{\n                  pattern: pattern,\n                  startRng: startPathRng,\n                  endRng: endPathRng\n                }]),\n              position: point(startRng.startContainer, startRng.startOffset)\n            };\n          });\n        }\n      });\n    };\n    var findPatternsRec = function (editor, patterns, node, offset, block) {\n      var dom = editor.dom;\n      return textBefore(node, offset, dom.getRoot()).bind(function (endSpot) {\n        var rng = dom.createRng();\n        rng.setStart(block, 0);\n        rng.setEnd(node, offset);\n        var text = rng.toString();\n        for (var i = 0; i < patterns.length; i++) {\n          var pattern = patterns[i];\n          if (!endsWith(text, pattern.end)) {\n            continue;\n          }\n          var patternsWithoutCurrent = patterns.slice();\n          patternsWithoutCurrent.splice(i, 1);\n          var result = findPattern(editor, block, {\n            pattern: pattern,\n            remainingPatterns: patternsWithoutCurrent,\n            position: endSpot\n          });\n          if (result.isSome()) {\n            return result;\n          }\n        }\n        return Optional.none();\n      });\n    };\n    var applyPattern = function (editor, pattern, patternRange) {\n      editor.selection.setRng(patternRange);\n      if (pattern.type === 'inline-format') {\n        each(pattern.format, function (format) {\n          editor.formatter.apply(format);\n        });\n      } else {\n        editor.execCommand(pattern.cmd, false, pattern.value);\n      }\n    };\n    var applyReplacementPattern = function (editor, pattern, marker, isRoot) {\n      var markerRange = rangeFromMarker(editor.dom, marker);\n      deleteRng(editor.dom, markerRange, isRoot);\n      applyPattern(editor, pattern, markerRange);\n    };\n    var applyPatternWithContent = function (editor, pattern, startMarker, endMarker, isRoot) {\n      var dom = editor.dom;\n      var markerEndRange = rangeFromMarker(dom, endMarker);\n      var markerStartRange = rangeFromMarker(dom, startMarker);\n      deleteRng(dom, markerStartRange, isRoot);\n      deleteRng(dom, markerEndRange, isRoot);\n      var patternMarker = {\n        prefix: startMarker.prefix,\n        start: startMarker.end,\n        end: endMarker.start\n      };\n      var patternRange = rangeFromMarker(dom, patternMarker);\n      applyPattern(editor, pattern, patternRange);\n    };\n    var addMarkers = function (dom, matches) {\n      var markerPrefix = generate('mce_textpattern');\n      var matchesWithEnds = foldr(matches, function (acc, match) {\n        var endMarker = createMarker(dom, markerPrefix + ('_end' + acc.length), match.endRng);\n        return acc.concat([__assign(__assign({}, match), { endMarker: endMarker })]);\n      }, []);\n      return foldr(matchesWithEnds, function (acc, match) {\n        var idx = matchesWithEnds.length - acc.length - 1;\n        var startMarker = isReplacementPattern(match.pattern) ? match.endMarker : createMarker(dom, markerPrefix + ('_start' + idx), match.startRng);\n        return acc.concat([__assign(__assign({}, match), { startMarker: startMarker })]);\n      }, []);\n    };\n    var findPatterns = function (editor, patterns, space) {\n      var rng = editor.selection.getRng();\n      if (rng.collapsed === false) {\n        return [];\n      }\n      return getParentBlock(editor, rng).bind(function (block) {\n        var offset = rng.startOffset - (space ? 1 : 0);\n        return findPatternsRec(editor, patterns, rng.startContainer, offset, block);\n      }).fold(function () {\n        return [];\n      }, function (result) {\n        return result.matches;\n      });\n    };\n    var applyMatches = function (editor, matches) {\n      if (matches.length === 0) {\n        return;\n      }\n      var dom = editor.dom;\n      var bookmark = editor.selection.getBookmark();\n      var matchesWithMarkers = addMarkers(dom, matches);\n      each(matchesWithMarkers, function (match) {\n        var block = dom.getParent(match.startMarker.start, dom.isBlock);\n        var isRoot = function (node) {\n          return node === block;\n        };\n        if (isReplacementPattern(match.pattern)) {\n          applyReplacementPattern(editor, match.pattern, match.endMarker, isRoot);\n        } else {\n          applyPatternWithContent(editor, match.pattern, match.startMarker, match.endMarker, isRoot);\n        }\n        removeMarker(dom, match.endMarker, isRoot);\n        removeMarker(dom, match.startMarker, isRoot);\n      });\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    var handleEnter = function (editor, patternSet) {\n      if (!editor.selection.isCollapsed()) {\n        return false;\n      }\n      var inlineMatches = findPatterns(editor, patternSet.inlinePatterns, false);\n      var blockMatches = findPatterns$1(editor, patternSet.blockPatterns);\n      if (blockMatches.length > 0 || inlineMatches.length > 0) {\n        editor.undoManager.add();\n        editor.undoManager.extra(function () {\n          editor.execCommand('mceInsertNewLine');\n        }, function () {\n          editor.insertContent(zeroWidth);\n          applyMatches(editor, inlineMatches);\n          applyMatches$1(editor, blockMatches);\n          var range = editor.selection.getRng();\n          var spot = textBefore(range.startContainer, range.startOffset, editor.dom.getRoot());\n          editor.execCommand('mceInsertNewLine');\n          spot.each(function (s) {\n            var node = s.container;\n            if (node.data.charAt(s.offset - 1) === zeroWidth) {\n              node.deleteData(s.offset - 1, 1);\n              cleanEmptyNodes(editor.dom, node.parentNode, function (e) {\n                return e === editor.dom.getRoot();\n              });\n            }\n          });\n        });\n        return true;\n      }\n      return false;\n    };\n    var handleInlineKey = function (editor, patternSet) {\n      var inlineMatches = findPatterns(editor, patternSet.inlinePatterns, true);\n      if (inlineMatches.length > 0) {\n        editor.undoManager.transact(function () {\n          applyMatches(editor, inlineMatches);\n        });\n      }\n    };\n    var checkKeyEvent = function (codes, event, predicate) {\n      for (var i = 0; i < codes.length; i++) {\n        if (predicate(codes[i], event)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var checkKeyCode = function (codes, event) {\n      return checkKeyEvent(codes, event, function (code, event) {\n        return code === event.keyCode && global$3.modifierPressed(event) === false;\n      });\n    };\n    var checkCharCode = function (chars, event) {\n      return checkKeyEvent(chars, event, function (chr, event) {\n        return chr.charCodeAt(0) === event.charCode;\n      });\n    };\n\n    var setup = function (editor, patternsState) {\n      var charCodes = [\n        ',',\n        '.',\n        ';',\n        ':',\n        '!',\n        '?'\n      ];\n      var keyCodes = [32];\n      editor.on('keydown', function (e) {\n        if (e.keyCode === 13 && !global$3.modifierPressed(e)) {\n          if (handleEnter(editor, patternsState.get())) {\n            e.preventDefault();\n          }\n        }\n      }, true);\n      editor.on('keyup', function (e) {\n        if (checkKeyCode(keyCodes, e)) {\n          handleInlineKey(editor, patternsState.get());\n        }\n      });\n      editor.on('keypress', function (e) {\n        if (checkCharCode(charCodes, e)) {\n          global$4.setEditorTimeout(editor, function () {\n            handleInlineKey(editor, patternsState.get());\n          });\n        }\n      });\n    };\n\n    function Plugin () {\n      global$5.add('textpattern', function (editor) {\n        var patternsState = Cell(getPatternSet(editor));\n        setup(editor, patternsState);\n        return get(patternsState);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"visualblocks\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/visualblocks')\n//   ES2015:\n//     import 'tinymce/plugins/visualblocks'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var fireVisualBlocks = function (editor, state) {\n      editor.fire('VisualBlocks', { state: state });\n    };\n\n    var toggleVisualBlocks = function (editor, pluginUrl, enabledState) {\n      var dom = editor.dom;\n      dom.toggleClass(editor.getBody(), 'mce-visualblocks');\n      enabledState.set(!enabledState.get());\n      fireVisualBlocks(editor, enabledState.get());\n    };\n\n    var register$1 = function (editor, pluginUrl, enabledState) {\n      editor.addCommand('mceVisualBlocks', function () {\n        toggleVisualBlocks(editor, pluginUrl, enabledState);\n      });\n    };\n\n    var isEnabledByDefault = function (editor) {\n      return editor.getParam('visualblocks_default_state', false, 'boolean');\n    };\n\n    var setup = function (editor, pluginUrl, enabledState) {\n      editor.on('PreviewFormats AfterPreviewFormats', function (e) {\n        if (enabledState.get()) {\n          editor.dom.toggleClass(editor.getBody(), 'mce-visualblocks', e.type === 'afterpreviewformats');\n        }\n      });\n      editor.on('init', function () {\n        if (isEnabledByDefault(editor)) {\n          toggleVisualBlocks(editor, pluginUrl, enabledState);\n        }\n      });\n    };\n\n    var toggleActiveState = function (editor, enabledState) {\n      return function (api) {\n        api.setActive(enabledState.get());\n        var editorEventCallback = function (e) {\n          return api.setActive(e.state);\n        };\n        editor.on('VisualBlocks', editorEventCallback);\n        return function () {\n          return editor.off('VisualBlocks', editorEventCallback);\n        };\n      };\n    };\n    var register = function (editor, enabledState) {\n      var onAction = function () {\n        return editor.execCommand('mceVisualBlocks');\n      };\n      editor.ui.registry.addToggleButton('visualblocks', {\n        icon: 'visualblocks',\n        tooltip: 'Show blocks',\n        onAction: onAction,\n        onSetup: toggleActiveState(editor, enabledState)\n      });\n      editor.ui.registry.addToggleMenuItem('visualblocks', {\n        text: 'Show blocks',\n        icon: 'visualblocks',\n        onAction: onAction,\n        onSetup: toggleActiveState(editor, enabledState)\n      });\n    };\n\n    function Plugin () {\n      global.add('visualblocks', function (editor, pluginUrl) {\n        var enabledState = Cell(false);\n        register$1(editor, pluginUrl, enabledState);\n        register(editor, enabledState);\n        setup(editor, pluginUrl, enabledState);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"visualchars\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/visualchars')\n//   ES2015:\n//     import 'tinymce/plugins/visualchars'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var get$2 = function (toggleState) {\n      var isEnabled = function () {\n        return toggleState.get();\n      };\n      return { isEnabled: isEnabled };\n    };\n\n    var fireVisualChars = function (editor, state) {\n      return editor.fire('VisualChars', { state: state });\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isString = isType$1('string');\n    var isBoolean = isSimpleType('boolean');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    var keys = Object.keys;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var TEXT = 3;\n\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var value = function (element) {\n      return element.dom.nodeValue;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isText = isType(TEXT);\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var get$1 = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var remove$3 = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var read = function (element, attr) {\n      var value = get$1(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add$2 = function (element, attr, id) {\n      var old = read(element, attr);\n      var nu = old.concat([id]);\n      set(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$2 = function (element, attr, id) {\n      var nu = filter(read(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set(element, attr, nu.join(' '));\n      } else {\n        remove$3(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom.classList !== undefined;\n    };\n    var get = function (element) {\n      return read(element, 'class');\n    };\n    var add$1 = function (element, clazz) {\n      return add$2(element, 'class', clazz);\n    };\n    var remove$1 = function (element, clazz) {\n      return remove$2(element, 'class', clazz);\n    };\n\n    var add = function (element, clazz) {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$1(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom.classList : get(element);\n      if (classList.length === 0) {\n        remove$3(element, 'class');\n      }\n    };\n    var remove = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$1(element, clazz);\n      }\n      cleanClass(element);\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var charMap = {\n      '\\xA0': 'nbsp',\n      '\\xAD': 'shy'\n    };\n    var charMapToRegExp = function (charMap, global) {\n      var regExp = '';\n      each(charMap, function (_value, key) {\n        regExp += key;\n      });\n      return new RegExp('[' + regExp + ']', global ? 'g' : '');\n    };\n    var charMapToSelector = function (charMap) {\n      var selector = '';\n      each(charMap, function (value) {\n        if (selector) {\n          selector += ',';\n        }\n        selector += 'span.mce-' + value;\n      });\n      return selector;\n    };\n    var regExp = charMapToRegExp(charMap);\n    var regExpGlobal = charMapToRegExp(charMap, true);\n    var selector = charMapToSelector(charMap);\n    var nbspClass = 'mce-nbsp';\n\n    var wrapCharWithSpan = function (value) {\n      return '<span data-mce-bogus=\"1\" class=\"mce-' + charMap[value] + '\">' + value + '</span>';\n    };\n\n    var isMatch = function (n) {\n      var value$1 = value(n);\n      return isText(n) && value$1 !== undefined && regExp.test(value$1);\n    };\n    var filterDescendants = function (scope, predicate) {\n      var result = [];\n      var dom = scope.dom;\n      var children = map(dom.childNodes, SugarElement.fromDom);\n      each$1(children, function (x) {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(filterDescendants(x, predicate));\n      });\n      return result;\n    };\n    var findParentElm = function (elm, rootElm) {\n      while (elm.parentNode) {\n        if (elm.parentNode === rootElm) {\n          return elm;\n        }\n        elm = elm.parentNode;\n      }\n    };\n    var replaceWithSpans = function (text) {\n      return text.replace(regExpGlobal, wrapCharWithSpan);\n    };\n\n    var isWrappedNbsp = function (node) {\n      return node.nodeName.toLowerCase() === 'span' && node.classList.contains('mce-nbsp-wrap');\n    };\n    var show = function (editor, rootElm) {\n      var nodeList = filterDescendants(SugarElement.fromDom(rootElm), isMatch);\n      each$1(nodeList, function (n) {\n        var parent = n.dom.parentNode;\n        if (isWrappedNbsp(parent)) {\n          add(SugarElement.fromDom(parent), nbspClass);\n        } else {\n          var withSpans = replaceWithSpans(editor.dom.encode(value(n)));\n          var div = editor.dom.create('div', null, withSpans);\n          var node = void 0;\n          while (node = div.lastChild) {\n            editor.dom.insertAfter(node, n.dom);\n          }\n          editor.dom.remove(n.dom);\n        }\n      });\n    };\n    var hide = function (editor, rootElm) {\n      var nodeList = editor.dom.select(selector, rootElm);\n      each$1(nodeList, function (node) {\n        if (isWrappedNbsp(node)) {\n          remove(SugarElement.fromDom(node), nbspClass);\n        } else {\n          editor.dom.remove(node, true);\n        }\n      });\n    };\n    var toggle = function (editor) {\n      var body = editor.getBody();\n      var bookmark = editor.selection.getBookmark();\n      var parentNode = findParentElm(editor.selection.getNode(), body);\n      parentNode = parentNode !== undefined ? parentNode : body;\n      hide(editor, parentNode);\n      show(editor, parentNode);\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    var applyVisualChars = function (editor, toggleState) {\n      fireVisualChars(editor, toggleState.get());\n      var body = editor.getBody();\n      if (toggleState.get() === true) {\n        show(editor, body);\n      } else {\n        hide(editor, body);\n      }\n    };\n    var toggleVisualChars = function (editor, toggleState) {\n      toggleState.set(!toggleState.get());\n      var bookmark = editor.selection.getBookmark();\n      applyVisualChars(editor, toggleState);\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    var register$1 = function (editor, toggleState) {\n      editor.addCommand('mceVisualChars', function () {\n        toggleVisualChars(editor, toggleState);\n      });\n    };\n\n    var isEnabledByDefault = function (editor) {\n      return editor.getParam('visualchars_default_state', false);\n    };\n    var hasForcedRootBlock = function (editor) {\n      return editor.getParam('forced_root_block') !== false;\n    };\n\n    var setup$1 = function (editor, toggleState) {\n      editor.on('init', function () {\n        applyVisualChars(editor, toggleState);\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var setup = function (editor, toggleState) {\n      var debouncedToggle = global.debounce(function () {\n        toggle(editor);\n      }, 300);\n      if (hasForcedRootBlock(editor)) {\n        editor.on('keydown', function (e) {\n          if (toggleState.get() === true) {\n            e.keyCode === 13 ? toggle(editor) : debouncedToggle();\n          }\n        });\n      }\n      editor.on('remove', debouncedToggle.stop);\n    };\n\n    var toggleActiveState = function (editor, enabledStated) {\n      return function (api) {\n        api.setActive(enabledStated.get());\n        var editorEventCallback = function (e) {\n          return api.setActive(e.state);\n        };\n        editor.on('VisualChars', editorEventCallback);\n        return function () {\n          return editor.off('VisualChars', editorEventCallback);\n        };\n      };\n    };\n    var register = function (editor, toggleState) {\n      var onAction = function () {\n        return editor.execCommand('mceVisualChars');\n      };\n      editor.ui.registry.addToggleButton('visualchars', {\n        tooltip: 'Show invisible characters',\n        icon: 'visualchars',\n        onAction: onAction,\n        onSetup: toggleActiveState(editor, toggleState)\n      });\n      editor.ui.registry.addToggleMenuItem('visualchars', {\n        text: 'Show invisible characters',\n        icon: 'visualchars',\n        onAction: onAction,\n        onSetup: toggleActiveState(editor, toggleState)\n      });\n    };\n\n    function Plugin () {\n      global$1.add('visualchars', function (editor) {\n        var toggleState = Cell(isEnabledByDefault(editor));\n        register$1(editor, toggleState);\n        register(editor, toggleState);\n        setup(editor, toggleState);\n        setup$1(editor, toggleState);\n        return get$2(toggleState);\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"wordcount\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/wordcount')\n//   ES2015:\n//     import 'tinymce/plugins/wordcount'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var identity = function (x) {\n      return x;\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var zeroWidth = '\\uFEFF';\n    var removeZwsp$1 = function (s) {\n      return s.replace(/\\uFEFF/g, '');\n    };\n\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n\n    var punctuationStr = '[!-#%-*,-\\\\/:;?@\\\\[-\\\\]_{}\\xA1\\xAB\\xB7\\xBB\\xBF;\\xB7\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1361-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u3008\\u3009\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30\\u2E31\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uff3f\\uFF5B\\uFF5D\\uFF5F-\\uFF65]';\n    var regExps = {\n      aletter: '[A-Za-z\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05F3\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u10a0-\\u10c5\\u10d0-\\u10fa\\u10fc\\u1100-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1a00-\\u1a16\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bc0-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u24B6-\\u24E9\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2d00-\\u2d25\\u2d30-\\u2d65\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005\\u303b\\u303c\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790\\ua791\\ua7a0-\\ua7a9\\ua7fa-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uffa0-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc]',\n      midnumlet: '[-\\'\\\\.\\u2018\\u2019\\u2024\\uFE52\\uFF07\\uFF0E]',\n      midletter: '[:\\xB7\\xB7\\u05F4\\u2027\\uFE13\\uFE55\\uFF1A]',\n      midnum: '[\\xB1+*/,;;\\u0589\\u060C\\u060D\\u066C\\u07F8\\u2044\\uFE10\\uFE14\\uFE50\\uFE54\\uFF0C\\uFF1B]',\n      numeric: '[0-9\\u0660-\\u0669\\u066B\\u06f0-\\u06f9\\u07c0-\\u07c9\\u0966-\\u096f\\u09e6-\\u09ef\\u0a66-\\u0a6f\\u0ae6-\\u0aef\\u0b66-\\u0b6f\\u0be6-\\u0bef\\u0c66-\\u0c6f\\u0ce6-\\u0cef\\u0d66-\\u0d6f\\u0e50-\\u0e59\\u0ed0-\\u0ed9\\u0f20-\\u0f29\\u1040-\\u1049\\u1090-\\u1099\\u17e0-\\u17e9\\u1810-\\u1819\\u1946-\\u194f\\u19d0-\\u19d9\\u1a80-\\u1a89\\u1a90-\\u1a99\\u1b50-\\u1b59\\u1bb0-\\u1bb9\\u1c40-\\u1c49\\u1c50-\\u1c59\\ua620-\\ua629\\ua8d0-\\ua8d9\\ua900-\\ua909\\ua9d0-\\ua9d9\\uaa50-\\uaa59\\uabf0-\\uabf9]',\n      cr: '\\\\r',\n      lf: '\\\\n',\n      newline: '[\\x0B\\f\\x85\\u2028\\u2029]',\n      extend: '[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0c01-\\u0c03\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d02\\u0d03\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f\\u109a-\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b6-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u19b0-\\u19c0\\u19c8\\u19c9\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1baa\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf2\\u1dc0-\\u1de6\\u1dfc-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\uA672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa7b\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe3-\\uabea\\uabec\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]',\n      format: '[\\xAD\\u0600-\\u0603\\u06DD\\u070F\\u17b4\\u17b5\\u200E\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u206A-\\u206F\\uFEFF\\uFFF9-\\uFFFB]',\n      katakana: '[\\u3031-\\u3035\\u309B\\u309C\\u30A0-\\u30fa\\u30fc-\\u30ff\\u31f0-\\u31ff\\u32D0-\\u32FE\\u3300-\\u3357\\uff66-\\uff9d]',\n      extendnumlet: '[=_\\u203f\\u2040\\u2054\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff3f\\u2200-\\u22FF<>]',\n      punctuation: punctuationStr\n    };\n    var characterIndices = {\n      ALETTER: 0,\n      MIDNUMLET: 1,\n      MIDLETTER: 2,\n      MIDNUM: 3,\n      NUMERIC: 4,\n      CR: 5,\n      LF: 6,\n      NEWLINE: 7,\n      EXTEND: 8,\n      FORMAT: 9,\n      KATAKANA: 10,\n      EXTENDNUMLET: 11,\n      AT: 12,\n      OTHER: 13\n    };\n    var SETS$1 = [\n      new RegExp(regExps.aletter),\n      new RegExp(regExps.midnumlet),\n      new RegExp(regExps.midletter),\n      new RegExp(regExps.midnum),\n      new RegExp(regExps.numeric),\n      new RegExp(regExps.cr),\n      new RegExp(regExps.lf),\n      new RegExp(regExps.newline),\n      new RegExp(regExps.extend),\n      new RegExp(regExps.format),\n      new RegExp(regExps.katakana),\n      new RegExp(regExps.extendnumlet),\n      new RegExp('@')\n    ];\n    var EMPTY_STRING$1 = '';\n    var PUNCTUATION$1 = new RegExp('^' + regExps.punctuation + '$');\n    var WHITESPACE$1 = /^\\s+$/;\n\n    var SETS = SETS$1;\n    var OTHER = characterIndices.OTHER;\n    var getType = function (char) {\n      var type = OTHER;\n      var setsLength = SETS.length;\n      for (var j = 0; j < setsLength; ++j) {\n        var set = SETS[j];\n        if (set && set.test(char)) {\n          type = j;\n          break;\n        }\n      }\n      return type;\n    };\n    var memoize = function (func) {\n      var cache = {};\n      return function (char) {\n        if (cache[char]) {\n          return cache[char];\n        } else {\n          var result = func(char);\n          cache[char] = result;\n          return result;\n        }\n      };\n    };\n    var classify = function (characters) {\n      var memoized = memoize(getType);\n      return map(characters, memoized);\n    };\n\n    var isWordBoundary = function (map, index) {\n      var type = map[index];\n      var nextType = map[index + 1];\n      if (index < 0 || index > map.length - 1 && index !== 0) {\n        return false;\n      }\n      if (type === characterIndices.ALETTER && nextType === characterIndices.ALETTER) {\n        return false;\n      }\n      var nextNextType = map[index + 2];\n      if (type === characterIndices.ALETTER && (nextType === characterIndices.MIDLETTER || nextType === characterIndices.MIDNUMLET || nextType === characterIndices.AT) && nextNextType === characterIndices.ALETTER) {\n        return false;\n      }\n      var prevType = map[index - 1];\n      if ((type === characterIndices.MIDLETTER || type === characterIndices.MIDNUMLET || nextType === characterIndices.AT) && nextType === characterIndices.ALETTER && prevType === characterIndices.ALETTER) {\n        return false;\n      }\n      if ((type === characterIndices.NUMERIC || type === characterIndices.ALETTER) && (nextType === characterIndices.NUMERIC || nextType === characterIndices.ALETTER)) {\n        return false;\n      }\n      if ((type === characterIndices.MIDNUM || type === characterIndices.MIDNUMLET) && nextType === characterIndices.NUMERIC && prevType === characterIndices.NUMERIC) {\n        return false;\n      }\n      if (type === characterIndices.NUMERIC && (nextType === characterIndices.MIDNUM || nextType === characterIndices.MIDNUMLET) && nextNextType === characterIndices.NUMERIC) {\n        return false;\n      }\n      if (type === characterIndices.EXTEND || type === characterIndices.FORMAT || prevType === characterIndices.EXTEND || prevType === characterIndices.FORMAT || nextType === characterIndices.EXTEND || nextType === characterIndices.FORMAT) {\n        return false;\n      }\n      if (type === characterIndices.CR && nextType === characterIndices.LF) {\n        return false;\n      }\n      if (type === characterIndices.NEWLINE || type === characterIndices.CR || type === characterIndices.LF) {\n        return true;\n      }\n      if (nextType === characterIndices.NEWLINE || nextType === characterIndices.CR || nextType === characterIndices.LF) {\n        return true;\n      }\n      if (type === characterIndices.KATAKANA && nextType === characterIndices.KATAKANA) {\n        return false;\n      }\n      if (nextType === characterIndices.EXTENDNUMLET && (type === characterIndices.ALETTER || type === characterIndices.NUMERIC || type === characterIndices.KATAKANA || type === characterIndices.EXTENDNUMLET)) {\n        return false;\n      }\n      if (type === characterIndices.EXTENDNUMLET && (nextType === characterIndices.ALETTER || nextType === characterIndices.NUMERIC || nextType === characterIndices.KATAKANA)) {\n        return false;\n      }\n      if (type === characterIndices.AT) {\n        return false;\n      }\n      return true;\n    };\n\n    var EMPTY_STRING = EMPTY_STRING$1;\n    var WHITESPACE = WHITESPACE$1;\n    var PUNCTUATION = PUNCTUATION$1;\n    var isProtocol = function (str) {\n      return str === 'http' || str === 'https';\n    };\n    var findWordEnd = function (characters, startIndex) {\n      var i;\n      for (i = startIndex; i < characters.length; i++) {\n        if (WHITESPACE.test(characters[i])) {\n          break;\n        }\n      }\n      return i;\n    };\n    var findUrlEnd = function (characters, startIndex) {\n      var endIndex = findWordEnd(characters, startIndex + 1);\n      var peakedWord = characters.slice(startIndex + 1, endIndex).join(EMPTY_STRING);\n      return peakedWord.substr(0, 3) === '://' ? endIndex : startIndex;\n    };\n    var findWords = function (chars, sChars, characterMap, options) {\n      var words = [];\n      var word = [];\n      for (var i = 0; i < characterMap.length; ++i) {\n        word.push(chars[i]);\n        if (isWordBoundary(characterMap, i)) {\n          var ch = sChars[i];\n          if ((options.includeWhitespace || !WHITESPACE.test(ch)) && (options.includePunctuation || !PUNCTUATION.test(ch))) {\n            var startOfWord = i - word.length + 1;\n            var endOfWord = i + 1;\n            var str = sChars.slice(startOfWord, endOfWord).join(EMPTY_STRING);\n            if (isProtocol(str)) {\n              var endOfUrl = findUrlEnd(sChars, i);\n              var url = chars.slice(endOfWord, endOfUrl);\n              Array.prototype.push.apply(word, url);\n              i = endOfUrl;\n            }\n            words.push(word);\n          }\n          word = [];\n        }\n      }\n      return words;\n    };\n    var getDefaultOptions = function () {\n      return {\n        includeWhitespace: false,\n        includePunctuation: false\n      };\n    };\n    var getWords$1 = function (chars, extract, options) {\n      options = __assign(__assign({}, getDefaultOptions()), options);\n      var filteredChars = [];\n      var extractedChars = [];\n      for (var i = 0; i < chars.length; i++) {\n        var ch = extract(chars[i]);\n        if (ch !== zeroWidth) {\n          filteredChars.push(chars[i]);\n          extractedChars.push(ch);\n        }\n      }\n      var characterMap = classify(extractedChars);\n      return findWords(filteredChars, extractedChars, characterMap, options);\n    };\n\n    var getWords = getWords$1;\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var getText = function (node, schema) {\n      var blockElements = schema.getBlockElements();\n      var shortEndedElements = schema.getShortEndedElements();\n      var isNewline = function (node) {\n        return blockElements[node.nodeName] || shortEndedElements[node.nodeName];\n      };\n      var textBlocks = [];\n      var txt = '';\n      var treeWalker = new global$1(node, node);\n      while (node = treeWalker.next()) {\n        if (node.nodeType === 3) {\n          txt += removeZwsp$1(node.data);\n        } else if (isNewline(node) && txt.length) {\n          textBlocks.push(txt);\n          txt = '';\n        }\n      }\n      if (txt.length) {\n        textBlocks.push(txt);\n      }\n      return textBlocks;\n    };\n\n    var removeZwsp = function (text) {\n      return text.replace(/\\u200B/g, '');\n    };\n    var strLen = function (str) {\n      return str.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, '_').length;\n    };\n    var countWords = function (node, schema) {\n      var text = removeZwsp(getText(node, schema).join('\\n'));\n      return getWords(text.split(''), identity).length;\n    };\n    var countCharacters = function (node, schema) {\n      var text = getText(node, schema).join('');\n      return strLen(text);\n    };\n    var countCharactersWithoutSpaces = function (node, schema) {\n      var text = getText(node, schema).join('').replace(/\\s/g, '');\n      return strLen(text);\n    };\n\n    var createBodyCounter = function (editor, count) {\n      return function () {\n        return count(editor.getBody(), editor.schema);\n      };\n    };\n    var createSelectionCounter = function (editor, count) {\n      return function () {\n        return count(editor.selection.getRng().cloneContents(), editor.schema);\n      };\n    };\n    var createBodyWordCounter = function (editor) {\n      return createBodyCounter(editor, countWords);\n    };\n    var get = function (editor) {\n      return {\n        body: {\n          getWordCount: createBodyWordCounter(editor),\n          getCharacterCount: createBodyCounter(editor, countCharacters),\n          getCharacterCountWithoutSpaces: createBodyCounter(editor, countCharactersWithoutSpaces)\n        },\n        selection: {\n          getWordCount: createSelectionCounter(editor, countWords),\n          getCharacterCount: createSelectionCounter(editor, countCharacters),\n          getCharacterCountWithoutSpaces: createSelectionCounter(editor, countCharactersWithoutSpaces)\n        },\n        getCount: createBodyWordCounter(editor)\n      };\n    };\n\n    var open = function (editor, api) {\n      editor.windowManager.open({\n        title: 'Word Count',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'table',\n              header: [\n                'Count',\n                'Document',\n                'Selection'\n              ],\n              cells: [\n                [\n                  'Words',\n                  String(api.body.getWordCount()),\n                  String(api.selection.getWordCount())\n                ],\n                [\n                  'Characters (no spaces)',\n                  String(api.body.getCharacterCountWithoutSpaces()),\n                  String(api.selection.getCharacterCountWithoutSpaces())\n                ],\n                [\n                  'Characters',\n                  String(api.body.getCharacterCount()),\n                  String(api.selection.getCharacterCount())\n                ]\n              ]\n            }]\n        },\n        buttons: [{\n            type: 'cancel',\n            name: 'close',\n            text: 'Close',\n            primary: true\n          }]\n      });\n    };\n\n    var register$1 = function (editor, api) {\n      editor.addCommand('mceWordCount', function () {\n        return open(editor, api);\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var fireWordCountUpdate = function (editor, api) {\n      editor.fire('wordCountUpdate', {\n        wordCount: {\n          words: api.body.getWordCount(),\n          characters: api.body.getCharacterCount(),\n          charactersWithoutSpaces: api.body.getCharacterCountWithoutSpaces()\n        }\n      });\n    };\n\n    var updateCount = function (editor, api) {\n      fireWordCountUpdate(editor, api);\n    };\n    var setup = function (editor, api, delay) {\n      var debouncedUpdate = global.debounce(function () {\n        return updateCount(editor, api);\n      }, delay);\n      editor.on('init', function () {\n        updateCount(editor, api);\n        global.setEditorTimeout(editor, function () {\n          editor.on('SetContent BeforeAddUndo Undo Redo ViewUpdate keyup', debouncedUpdate);\n        }, 0);\n      });\n    };\n\n    var register = function (editor) {\n      var onAction = function () {\n        return editor.execCommand('mceWordCount');\n      };\n      editor.ui.registry.addButton('wordcount', {\n        tooltip: 'Word count',\n        icon: 'character-count',\n        onAction: onAction\n      });\n      editor.ui.registry.addMenuItem('wordcount', {\n        text: 'Word count',\n        icon: 'character-count',\n        onAction: onAction\n      });\n    };\n\n    function Plugin (delay) {\n      if (delay === void 0) {\n        delay = 300;\n      }\n      global$2.add('wordcount', function (editor) {\n        var api = get(editor);\n        register$1(editor, api);\n        register(editor);\n        setup(editor, api, delay);\n        return api;\n      });\n    }\n\n    Plugin();\n\n}());\n","// Exports the \"silver\" theme for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/themes/silver')\n//   ES2015:\n//     import 'tinymce/themes/silver'\nrequire('./theme.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.7 (2022-12-06)\n */\n(function () {\n    'use strict';\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq$1 = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString = isType$1('string');\n    var isObject = isType$1('object');\n    var isArray = isType$1('array');\n    var isNull = eq$1(null);\n    var isBoolean = isSimpleType('boolean');\n    var isUndefined = eq$1(undefined);\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n    var isArrayOf = function (value, pred) {\n      if (isArray(value)) {\n        for (var i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    var noop = function () {\n    };\n    var noarg = function (f) {\n      return function () {\n        return f();\n      };\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant$1 = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity$1 = function (x) {\n      return x;\n    };\n    var tripleEquals = function (a, b) {\n      return a === b;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function (t) {\n        return !f(t);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var never = constant$1(false);\n    var always = constant$1(true);\n\n    var global$g = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __rest(s, e) {\n      var t = {};\n      for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n          t[p] = s[p];\n      if (s != null && typeof Object.getOwnPropertySymbols === 'function')\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n            t[p[i]] = s[p[i]];\n        }\n      return t;\n    }\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity$1;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant$1(null),\n        getOrUndefined: constant$1(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant$1('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant$1(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from$1 = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from$1\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var indexOf = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    var contains$2 = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var range$2 = function (num, f) {\n      var r = [];\n      for (var i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    var chunk$1 = function (array, size) {\n      var r = [];\n      for (var i = 0; i < array.length; i += size) {\n        var s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    var map$2 = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var partition$3 = function (xs, pred) {\n      var pass = [];\n      var fail = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        var arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass: pass,\n        fail: fail\n      };\n    };\n    var filter$2 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each$1(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find$5 = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var findIndex$1 = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind$3 = function (xs, f) {\n      return flatten(map$2(xs, f));\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var difference = function (a1, a2) {\n      return filter$2(a1, function (x) {\n        return !contains$2(a2, x);\n      });\n    };\n    var mapToObject = function (xs, f) {\n      var r = {};\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    var pure$2 = function (x) {\n      return [x];\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var get$f = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$f(xs, 0);\n    };\n    var last$2 = function (xs) {\n      return get$f(xs, xs.length - 1);\n    };\n    var from = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty$1 = Object.hasOwnProperty;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map$1 = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var filter$1 = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    var mapToArray = function (obj, f) {\n      var r = [];\n      each(obj, function (value, name) {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    var find$4 = function (obj, pred) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        if (pred(x, i, obj)) {\n          return Optional.some(x);\n        }\n      }\n      return Optional.none();\n    };\n    var values = function (obj) {\n      return mapToArray(obj, identity$1);\n    };\n    var get$e = function (obj, key) {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has$2 = function (obj, key) {\n      return hasOwnProperty$1.call(obj, key);\n    };\n    var hasNonNullableKey = function (obj, key) {\n      return has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n\n    var is$1 = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lhs.exists(function (left) {\n        return comparator(left, rhs);\n      });\n    };\n    var equals = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    };\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var sequence = function (arr) {\n      var r = [];\n      for (var i = 0; i < arr.length; i++) {\n        var x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Optional.none();\n        }\n      }\n      return Optional.some(r);\n    };\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    };\n    var lift3 = function (oa, ob, oc, f) {\n      return oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    };\n    var mapFrom = function (a, f) {\n      return a !== undefined && a !== null ? Optional.some(f(a)) : Optional.none();\n    };\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var addToEnd = function (str, suffix) {\n      return str + suffix;\n    };\n    var removeFromStart = function (str, numChars) {\n      return str.substring(numChars);\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var removeLeading = function (str, prefix) {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    var ensureTrailing = function (str, suffix) {\n      return endsWith(str, suffix) ? str : addToEnd(str, suffix);\n    };\n    var contains$1 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    var blank = function (r) {\n      return function (s) {\n        return s.replace(r, '');\n      };\n    };\n    var trim$1 = blank(/^\\s+|\\s+$/g);\n    var isNotEmpty = function (s) {\n      return s.length > 0;\n    };\n    var isEmpty = function (s) {\n      return !isNotEmpty(s);\n    };\n\n    var isSupported$1 = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var fromHtml$2 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml$2,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var name$2 = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement$2 = isType(ELEMENT);\n    var isText$1 = isType(TEXT);\n    var isDocument = isType(DOCUMENT);\n    var isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant$1(isiPad),\n        isiPhone: constant$1(isiPhone),\n        isTablet: constant$1(isTablet),\n        isPhone: constant$1(isPhone),\n        isTouch: constant$1(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant$1(iOSwebview),\n        isDesktop: constant$1(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$3 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$d(group(1), group(2));\n    };\n    var detect$4 = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$3();\n      }\n      return find$3(versionRegexes, cleanedAgent);\n    };\n    var unknown$3 = function () {\n      return nu$d(0, 0);\n    };\n    var nu$d = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$d,\n      detect: detect$4,\n      unknown: unknown$3\n    };\n\n    var detectBrowser$1 = function (browsers, userAgentData) {\n      return findMap(userAgentData.brands, function (uaBrand) {\n        var lcBrand = uaBrand.brand.toLowerCase();\n        return find$5(browsers, function (browser) {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(function (info) {\n          return {\n            current: info.name,\n            version: Version.nu(parseInt(uaBrand.version, 10), 0)\n          };\n        });\n      });\n    };\n\n    var detect$3 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find$5(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$3(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$3(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$1(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant$1(browsers),\n      oses: constant$1(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$2 = function () {\n      return nu$c({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$c = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$2,\n      nu: nu$c,\n      edge: constant$1(edge),\n      chrome: constant$1(chrome),\n      ie: constant$1(ie),\n      opera: constant$1(opera),\n      firefox: constant$1(firefox),\n      safari: constant$1(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown$1 = function () {\n      return nu$b({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$b = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown$1,\n      nu: nu$b,\n      windows: constant$1(windows),\n      ios: constant$1(ios),\n      android: constant$1(android),\n      linux: constant$1(linux),\n      osx: constant$1(osx),\n      solaris: constant$1(solaris),\n      freebsd: constant$1(freebsd),\n      chromeos: constant$1(chromeos)\n    };\n\n    var detect$2 = function (userAgent, userAgentDataOpt, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = userAgentDataOpt.bind(function (userAgentData) {\n        return detectBrowser$1(browsers, userAgentData);\n      }).orThunk(function () {\n        return detectBrowser(browsers, userAgent);\n      }).fold(Browser.unknown, Browser.nu);\n      var os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$2 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch);\n    });\n    var detect$1 = function () {\n      return platform();\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n\n    var is = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all$3 = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$2(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom;\n      var d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return documentPositionContainedBy(e1.dom, e2.dom);\n    };\n    var contains = function (e1, e2) {\n      return detect$1().browser.isIE() ? ieContains(e1, e2) : regularContains(e1, e2);\n    };\n\n    var owner$4 = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument(dos) ? dos : owner$4(dos);\n    };\n    var documentElement = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    };\n    var defaultView = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var parentNode = function (element) {\n      return parent(element);\n    };\n    var offsetParent = function (element) {\n      return Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    };\n    var children = function (element) {\n      return map$2(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var child$2 = function (element, index) {\n      var cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    var firstChild = function (element) {\n      return child$2(element, 0);\n    };\n    var spot = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n    var leaf = function (element, offset) {\n      var cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var isSupported = constant$1(supported);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getContentContainer = function (dos) {\n      return isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    };\n    var isInShadowRoot = function (e) {\n      return getShadowRoot(e).isSome();\n    };\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n    var getOriginalEventTarget = function (event) {\n      if (isSupported() && isNonNullable(event.target)) {\n        var el = SugarElement.fromDom(event.target);\n        if (isElement$2(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            var composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    var isOpenShadowHost = function (element) {\n      return isNonNullable(element.dom.shadowRoot);\n    };\n\n    var inBody = function (element) {\n      var dom = isText$1(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n    var body = function () {\n      return getBody(SugarElement.fromDom(document));\n    };\n    var getBody = function (doc) {\n      var b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set$8 = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var setAll$1 = function (element, attrs) {\n      var dom = element.dom;\n      each(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var get$d = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var getOpt = function (element, key) {\n      return Optional.from(get$d(element, key));\n    };\n    var has$1 = function (element, key) {\n      var dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    var remove$7 = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var internalRemove = function (dom, property) {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    var set$7 = function (element, property, value) {\n      var dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    var setAll = function (element, css) {\n      var dom = element.dom;\n      each(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var setOptions = function (element, css) {\n      var dom = element.dom;\n      each(css, function (v, k) {\n        v.fold(function () {\n          internalRemove(dom, k);\n        }, function (value) {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    var get$c = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw = function (element, property) {\n      var dom = element.dom;\n      var raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var getAllRaw = function (element) {\n      var css = {};\n      var dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (var i = 0; i < dom.style.length; i++) {\n          var ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    var isValidValue = function (tag, property, value) {\n      var element = SugarElement.fromTag(tag);\n      set$7(element, property, value);\n      var style = getRaw(element, property);\n      return style.isSome();\n    };\n    var remove$6 = function (element, property) {\n      var dom = element.dom;\n      internalRemove(dom, property);\n      if (is$1(getOpt(element, 'style').map(trim$1), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    var reflow = function (e) {\n      return e.dom.offsetWidth;\n    };\n\n    var Dimension = function (name, getOffset) {\n      var set = function (element, h) {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        var dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      var get = function (element) {\n        var r = getOffset(element);\n        if (r <= 0 || r === null) {\n          var css = get$c(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      var getOuter = get;\n      var aggregate = function (element, properties) {\n        return foldl(properties, function (acc, property) {\n          var val = get$c(element, property);\n          var value = val === undefined ? 0 : parseInt(val, 10);\n          return isNaN(value) ? acc : acc + value;\n        }, 0);\n      };\n      var max = function (element, value, properties) {\n        var cumulativeInclusions = aggregate(element, properties);\n        var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set: set,\n        get: get,\n        getOuter: getOuter,\n        aggregate: aggregate,\n        max: max\n      };\n    };\n\n    var api$3 = Dimension('height', function (element) {\n      var dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    var get$b = function (element) {\n      return api$3.get(element);\n    };\n    var getOuter$2 = function (element) {\n      return api$3.getOuter(element);\n    };\n    var setMax$1 = function (element, value) {\n      var inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      var absMax = api$3.max(element, value, inclusions);\n      set$7(element, 'max-height', absMax + 'px');\n    };\n\n    var r$1 = function (left, top) {\n      var translate = function (x, y) {\n        return r$1(left + x, top + y);\n      };\n      return {\n        left: left,\n        top: top,\n        translate: translate\n      };\n    };\n    var SugarPosition = r$1;\n\n    var boxPosition = function (dom) {\n      var box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    var firstDefinedOrZero = function (a, b) {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    var absolute$3 = function (element) {\n      var doc = element.dom.ownerDocument;\n      var body = doc.body;\n      var win = doc.defaultView;\n      var html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      var scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      var scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport$1(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    var viewport$1 = function (element) {\n      var dom = element.dom;\n      var doc = dom.ownerDocument;\n      var body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    var api$2 = Dimension('width', function (element) {\n      return element.dom.offsetWidth;\n    });\n    var set$6 = function (element, h) {\n      return api$2.set(element, h);\n    };\n    var get$a = function (element) {\n      return api$2.get(element);\n    };\n    var getOuter$1 = function (element) {\n      return api$2.getOuter(element);\n    };\n    var setMax = function (element, value) {\n      var inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      var absMax = api$2.max(element, value, inclusions);\n      set$7(element, 'max-width', absMax + 'px');\n    };\n\n    var mkEvent = function (target, x, y, stop, prevent, kill, raw) {\n      return {\n        target: target,\n        x: x,\n        y: y,\n        stop: stop,\n        prevent: prevent,\n        kill: kill,\n        raw: raw\n      };\n    };\n    var fromRawEvent$1 = function (rawEvent) {\n      var target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      var stop = function () {\n        return rawEvent.stopPropagation();\n      };\n      var prevent = function () {\n        return rawEvent.preventDefault();\n      };\n      var kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    var handle = function (filter, handler) {\n      return function (rawEvent) {\n        if (filter(rawEvent)) {\n          handler(fromRawEvent$1(rawEvent));\n        }\n      };\n    };\n    var binder = function (element, event, filter, handler, useCapture) {\n      var wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    var bind$2 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, false);\n    };\n    var capture$1 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, true);\n    };\n    var unbind = function (element, event, handler, useCapture) {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    var before$2 = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var after$2 = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append$2(v, element);\n        });\n      }, function (v) {\n        before$2(v, element);\n      });\n    };\n    var prepend$1 = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append$2(parent, element);\n      }, function (v) {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    var append$2 = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n    var appendAt = function (parent, element, index) {\n      child$2(parent, index).fold(function () {\n        append$2(parent, element);\n      }, function (v) {\n        before$2(v, element);\n      });\n    };\n\n    var before$1 = function (marker, elements) {\n      each$1(elements, function (x) {\n        before$2(marker, x);\n      });\n    };\n    var append$1 = function (parent, elements) {\n      each$1(elements, function (x) {\n        append$2(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom.textContent = '';\n      each$1(children(element), function (rogue) {\n        remove$5(rogue);\n      });\n    };\n    var remove$5 = function (element) {\n      var dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        before$1(wrapper, children$1);\n      }\n      remove$5(wrapper);\n    };\n\n    var get$9 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    var to = function (x, y, _DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n\n    var get$8 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      if (detect$1().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win['visualViewport']);\n      }\n    };\n    var bounds$1 = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var getBounds$3 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      var doc = win.document;\n      var scroll = get$9(SugarElement.fromDom(doc));\n      return get$8(win).fold(function () {\n        var html = win.document.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds$1(scroll.left, scroll.top, width, height);\n      }, function (visualViewport) {\n        return bounds$1(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height);\n      });\n    };\n\n    var walkUp = function (navigation, doc) {\n      var frame = navigation.view(doc);\n      return frame.fold(constant$1([]), function (f) {\n        var parent = navigation.owner(f);\n        var rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    var pathTo = function (element, navigation) {\n      var d = navigation.owner(element);\n      var paths = walkUp(navigation, d);\n      return Optional.some(paths);\n    };\n\n    var view = function (doc) {\n      var _a;\n      var element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    var owner$3 = function (element) {\n      return owner$4(element);\n    };\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$3\n    });\n\n    var find$2 = function (element) {\n      var doc = SugarElement.fromDom(document);\n      var scroll = get$9(doc);\n      var path = pathTo(element, Navigation);\n      return path.fold(curry(absolute$3, element), function (frames) {\n        var offset = viewport$1(element);\n        var r = foldr(frames, function (b, a) {\n          var loc = viewport$1(a);\n          return {\n            left: b.left + loc.left,\n            top: b.top + loc.top\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n      });\n    };\n\n    var pointed = function (point, width, height) {\n      return {\n        point: point,\n        width: width,\n        height: height\n      };\n    };\n    var rect = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    };\n    var bounds = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var box$1 = function (element) {\n      var xy = absolute$3(element);\n      var w = getOuter$1(element);\n      var h = getOuter$2(element);\n      return bounds(xy.left, xy.top, w, h);\n    };\n    var absolute$2 = function (element) {\n      var position = find$2(element);\n      var width = getOuter$1(element);\n      var height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    var win = function () {\n      return getBounds$3(window);\n    };\n\n    var value$3 = function (o) {\n      var or = function (_opt) {\n        return value$3(o);\n      };\n      var orThunk = function (_f) {\n        return value$3(o);\n      };\n      var map = function (f) {\n        return value$3(f(o));\n      };\n      var mapError = function (_f) {\n        return value$3(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOptional = function () {\n        return Optional.some(o);\n      };\n      return {\n        isValue: always,\n        isError: never,\n        getOr: constant$1(o),\n        getOrThunk: constant$1(o),\n        getOrDie: constant$1(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOptional: toOptional\n      };\n    };\n    var error$1 = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = identity$1;\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (_f) {\n        return error$1(message);\n      };\n      var mapError = function (f) {\n        return error$1(f(message));\n      };\n      var bind = function (_f) {\n        return error$1(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        isValue: never,\n        isError: always,\n        getOr: identity$1,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOptional: Optional.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error$1(err);\n      }, value$3);\n    };\n    var Result = {\n      value: value$3,\n      error: error$1,\n      fromOption: fromOption\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    var fold$1 = function (res, onError, onValue) {\n      return res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    };\n    var partition$2 = function (results) {\n      var values = [];\n      var errors = [];\n      each$1(results, function (obj) {\n        fold$1(obj, function (err) {\n          return errors.push(err);\n        }, function (val) {\n          return values.push(val);\n        });\n      });\n      return {\n        values: values,\n        errors: errors\n      };\n    };\n    var mapError = function (res, f) {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    var map = function (res, f) {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    var bind$1 = function (res, f) {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    var bindError = function (res, f) {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    var svalue = function (v) {\n      return {\n        stype: SimpleResultType.Value,\n        svalue: v\n      };\n    };\n    var serror = function (e) {\n      return {\n        stype: SimpleResultType.Error,\n        serror: e\n      };\n    };\n    var toResult$1 = function (res) {\n      return fold$1(res, Result.error, Result.value);\n    };\n    var fromResult$1 = function (res) {\n      return res.fold(serror, svalue);\n    };\n    var SimpleResult = {\n      fromResult: fromResult$1,\n      toResult: toResult$1,\n      svalue: svalue,\n      partition: partition$2,\n      serror: serror,\n      bind: bind$1,\n      bindError: bindError,\n      map: map,\n      mapError: mapError,\n      fold: fold$1\n    };\n\n    var field$2 = function (key, newKey, presence, prop) {\n      return {\n        tag: 'field',\n        key: key,\n        newKey: newKey,\n        presence: presence,\n        prop: prop\n      };\n    };\n    var customField$1 = function (newKey, instantiator) {\n      return {\n        tag: 'custom',\n        newKey: newKey,\n        instantiator: instantiator\n      };\n    };\n    var fold = function (value, ifField, ifCustom) {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    var shallow$1 = function (old, nu) {\n      return nu;\n    };\n    var deep = function (old, nu) {\n      var bothObjects = isObject(old) && isObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          objects[_i] = arguments[_i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var deepMerge = baseMerge(deep);\n    var merge$1 = baseMerge(shallow$1);\n\n    var required$2 = function () {\n      return {\n        tag: 'required',\n        process: {}\n      };\n    };\n    var defaultedThunk = function (fallbackThunk) {\n      return {\n        tag: 'defaultedThunk',\n        process: fallbackThunk\n      };\n    };\n    var defaulted$1 = function (fallback) {\n      return defaultedThunk(constant$1(fallback));\n    };\n    var asOption = function () {\n      return {\n        tag: 'option',\n        process: {}\n      };\n    };\n    var mergeWithThunk = function (baseThunk) {\n      return {\n        tag: 'mergeWithThunk',\n        process: baseThunk\n      };\n    };\n    var mergeWith = function (base) {\n      return mergeWithThunk(constant$1(base));\n    };\n\n    var mergeValues$1 = function (values, base) {\n      return values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge$1.apply(undefined, values))) : SimpleResult.svalue(base);\n    };\n    var mergeErrors$1 = function (errors) {\n      return compose(SimpleResult.serror, flatten)(errors);\n    };\n    var consolidateObj = function (objects, base) {\n      var partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    var consolidateArr = function (objects) {\n      var partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    var ResultCombine = {\n      consolidateObj: consolidateObj,\n      consolidateArr: consolidateArr\n    };\n\n    var formatObj = function (input) {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    var formatErrors = function (errors) {\n      var es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant$1('... (only showing first ten failures)')\n        }]) : errors;\n      return map$2(es, function (e) {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    var nu$a = function (path, getErrorInfo) {\n      return SimpleResult.serror([{\n          path: path,\n          getErrorInfo: getErrorInfo\n        }]);\n    };\n    var missingRequired = function (path, key, obj) {\n      return nu$a(path, function () {\n        return 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj);\n      });\n    };\n    var missingKey = function (path, key) {\n      return nu$a(path, function () {\n        return 'Choice schema did not contain choice key: \"' + key + '\"';\n      });\n    };\n    var missingBranch = function (path, branches, branch) {\n      return nu$a(path, function () {\n        return 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches);\n      });\n    };\n    var unsupportedFields = function (path, unsupported) {\n      return nu$a(path, function () {\n        return 'There are unsupported fields: [' + unsupported.join(', ') + '] specified';\n      });\n    };\n    var custom = function (path, err) {\n      return nu$a(path, constant$1(err));\n    };\n\n    var value$2 = function (validator) {\n      var extract = function (path, val) {\n        return SimpleResult.bindError(validator(val), function (err) {\n          return custom(path, err);\n        });\n      };\n      var toString = constant$1('val');\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var anyValue$1 = value$2(SimpleResult.svalue);\n\n    var requiredAccess = function (path, obj, key, bundle) {\n      return get$e(obj, key).fold(function () {\n        return missingRequired(path, key, obj);\n      }, bundle);\n    };\n    var fallbackAccess = function (obj, key, fallback, bundle) {\n      var v = get$e(obj, key).getOrThunk(function () {\n        return fallback(obj);\n      });\n      return bundle(v);\n    };\n    var optionAccess = function (obj, key, bundle) {\n      return bundle(get$e(obj, key));\n    };\n    var optionDefaultedAccess = function (obj, key, fallback, bundle) {\n      var opt = get$e(obj, key).map(function (val) {\n        return val === true ? fallback(obj) : val;\n      });\n      return bundle(opt);\n    };\n    var extractField = function (field, path, obj, key, prop) {\n      var bundle = function (av) {\n        return prop.extract(path.concat([key]), av);\n      };\n      var bundleAsOption = function (optValue) {\n        return optValue.fold(function () {\n          return SimpleResult.svalue(Optional.none());\n        }, function (ov) {\n          var result = prop.extract(path.concat([key]), ov);\n          return SimpleResult.map(result, Optional.some);\n        });\n      };\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant$1({}), function (v) {\n            var result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    var extractFields = function (path, obj, fields) {\n      var success = {};\n      var errors = [];\n      for (var _i = 0, fields_1 = fields; _i < fields_1.length; _i++) {\n        var field = fields_1[_i];\n        fold(field, function (key, newKey, presence, prop) {\n          var result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, function (err) {\n            errors.push.apply(errors, err);\n          }, function (res) {\n            success[newKey] = res;\n          });\n        }, function (newKey, instantiator) {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    var valueThunk = function (getDelegate) {\n      var extract = function (path, val) {\n        return getDelegate().extract(path, val);\n      };\n      var toString = function () {\n        return getDelegate().toString();\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var getSetKeys = function (obj) {\n      return keys(filter$1(obj, isNonNullable));\n    };\n    var objOfOnly = function (fields) {\n      var delegate = objOf(fields);\n      var fieldNames = foldr(fields, function (acc, value) {\n        return fold(value, function (key) {\n          var _a;\n          return deepMerge(acc, (_a = {}, _a[key] = true, _a));\n        }, constant$1(acc));\n      }, {});\n      var extract = function (path, o) {\n        var keys = isBoolean(o) ? [] : getSetKeys(o);\n        var extra = filter$2(keys, function (k) {\n          return !hasNonNullableKey(fieldNames, k);\n        });\n        return extra.length === 0 ? delegate.extract(path, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract: extract,\n        toString: delegate.toString\n      };\n    };\n    var objOf = function (values) {\n      var extract = function (path, o) {\n        return extractFields(path, o, values);\n      };\n      var toString = function () {\n        var fieldStrings = map$2(values, function (value) {\n          return fold(value, function (key, _okey, _presence, prop) {\n            return key + ' -> ' + prop.toString();\n          }, function (newKey, _instantiator) {\n            return 'state(' + newKey + ')';\n          });\n        });\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var arrOf = function (prop) {\n      var extract = function (path, array) {\n        var results = map$2(array, function (a, i) {\n          return prop.extract(path.concat(['[' + i + ']']), a);\n        });\n        return ResultCombine.consolidateArr(results);\n      };\n      var toString = function () {\n        return 'array(' + prop.toString() + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var oneOf = function (props) {\n      var extract = function (path, val) {\n        var errors = [];\n        for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n          var prop = props_1[_i];\n          var res = prop.extract(path, val);\n          if (res.stype === SimpleResultType.Value) {\n            return res;\n          }\n          errors.push(res);\n        }\n        return ResultCombine.consolidateArr(errors);\n      };\n      var toString = function () {\n        return 'oneOf(' + map$2(props, function (prop) {\n          return prop.toString();\n        }).join(', ') + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var setOf$1 = function (validator, prop) {\n      var validateKeys = function (path, keys) {\n        return arrOf(value$2(validator)).extract(path, keys);\n      };\n      var extract = function (path, o) {\n        var keys$1 = keys(o);\n        var validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, function (validKeys) {\n          var schema = map$2(validKeys, function (vk) {\n            return field$2(vk, vk, required$2(), prop);\n          });\n          return objOf(schema).extract(path, o);\n        });\n      };\n      var toString = function () {\n        return 'setOf(' + prop.toString() + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var thunk = function (_desc, processor) {\n      var getP = cached(processor);\n      var extract = function (path, val) {\n        return getP().extract(path, val);\n      };\n      var toString = function () {\n        return getP().toString();\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var arrOfObj = compose(arrOf, objOf);\n\n    var anyValue = constant$1(anyValue$1);\n    var typedValue = function (validator, expectedType) {\n      return value$2(function (a) {\n        var actualType = typeof a;\n        return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror('Expected type: ' + expectedType + ' but got: ' + actualType);\n      });\n    };\n    var number = typedValue(isNumber, 'number');\n    var string = typedValue(isString, 'string');\n    var boolean = typedValue(isBoolean, 'boolean');\n    var functionProcessor = typedValue(isFunction, 'function');\n    var isPostMessageable = function (val) {\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(function (prop) {\n          return isPostMessageable(val[prop]);\n        });\n      default:\n        return false;\n      }\n    };\n    var postMessageable = value$2(function (a) {\n      if (isPostMessageable(a)) {\n        return SimpleResult.svalue(a);\n      } else {\n        return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n      }\n    });\n\n    var chooseFrom = function (path, input, branches, ch) {\n      var fields = get$e(branches, ch);\n      return fields.fold(function () {\n        return missingBranch(path, branches, ch);\n      }, function (vp) {\n        return vp.extract(path.concat(['branch: ' + ch]), input);\n      });\n    };\n    var choose$2 = function (key, branches) {\n      var extract = function (path, input) {\n        var choice = get$e(input, key);\n        return choice.fold(function () {\n          return missingKey(path, key);\n        }, function (chosen) {\n          return chooseFrom(path, input, branches, chosen);\n        });\n      };\n      var toString = function () {\n        return 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n\n    var arrOfVal = function () {\n      return arrOf(anyValue$1);\n    };\n    var valueOf = function (validator) {\n      return value$2(function (v) {\n        return validator(v).fold(SimpleResult.serror, SimpleResult.svalue);\n      });\n    };\n    var setOf = function (validator, prop) {\n      return setOf$1(function (v) {\n        return SimpleResult.fromResult(validator(v));\n      }, prop);\n    };\n    var extractValue = function (label, prop, obj) {\n      var res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, function (errs) {\n        return {\n          input: obj,\n          errors: errs\n        };\n      });\n    };\n    var asRaw = function (label, prop, obj) {\n      return SimpleResult.toResult(extractValue(label, prop, obj));\n    };\n    var getOrDie = function (extraction) {\n      return extraction.fold(function (errInfo) {\n        throw new Error(formatError(errInfo));\n      }, identity$1);\n    };\n    var asRawOrDie$1 = function (label, prop, obj) {\n      return getOrDie(asRaw(label, prop, obj));\n    };\n    var formatError = function (errInfo) {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    var choose$1 = function (key, branches) {\n      return choose$2(key, map$1(branches, objOf));\n    };\n    var thunkOf = function (desc, schema) {\n      return thunk(desc, schema);\n    };\n\n    var field$1 = field$2;\n    var customField = customField$1;\n    var validateEnum = function (values) {\n      return valueOf(function (value) {\n        return contains$2(values, value) ? Result.value(value) : Result.error('Unsupported value: \"' + value + '\", choose one of \"' + values.join(', ') + '\".');\n      });\n    };\n    var required$1 = function (key) {\n      return field$1(key, key, required$2(), anyValue());\n    };\n    var requiredOf = function (key, schema) {\n      return field$1(key, key, required$2(), schema);\n    };\n    var requiredNumber = function (key) {\n      return requiredOf(key, number);\n    };\n    var requiredString = function (key) {\n      return requiredOf(key, string);\n    };\n    var requiredStringEnum = function (key, values) {\n      return field$1(key, key, required$2(), validateEnum(values));\n    };\n    var requiredBoolean = function (key) {\n      return requiredOf(key, boolean);\n    };\n    var requiredFunction = function (key) {\n      return requiredOf(key, functionProcessor);\n    };\n    var forbid = function (key, message) {\n      return field$1(key, key, asOption(), value$2(function (_v) {\n        return SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message);\n      }));\n    };\n    var requiredObjOf = function (key, objSchema) {\n      return field$1(key, key, required$2(), objOf(objSchema));\n    };\n    var requiredArrayOfObj = function (key, objFields) {\n      return field$1(key, key, required$2(), arrOfObj(objFields));\n    };\n    var requiredArrayOf = function (key, schema) {\n      return field$1(key, key, required$2(), arrOf(schema));\n    };\n    var option = function (key) {\n      return field$1(key, key, asOption(), anyValue());\n    };\n    var optionOf = function (key, schema) {\n      return field$1(key, key, asOption(), schema);\n    };\n    var optionNumber = function (key) {\n      return optionOf(key, number);\n    };\n    var optionString = function (key) {\n      return optionOf(key, string);\n    };\n    var optionFunction = function (key) {\n      return optionOf(key, functionProcessor);\n    };\n    var optionArrayOf = function (key, schema) {\n      return optionOf(key, arrOf(schema));\n    };\n    var optionObjOf = function (key, objSchema) {\n      return optionOf(key, objOf(objSchema));\n    };\n    var optionObjOfOnly = function (key, objSchema) {\n      return optionOf(key, objOfOnly(objSchema));\n    };\n    var defaulted = function (key, fallback) {\n      return field$1(key, key, defaulted$1(fallback), anyValue());\n    };\n    var defaultedOf = function (key, fallback, schema) {\n      return field$1(key, key, defaulted$1(fallback), schema);\n    };\n    var defaultedNumber = function (key, fallback) {\n      return defaultedOf(key, fallback, number);\n    };\n    var defaultedString = function (key, fallback) {\n      return defaultedOf(key, fallback, string);\n    };\n    var defaultedStringEnum = function (key, fallback, values) {\n      return defaultedOf(key, fallback, validateEnum(values));\n    };\n    var defaultedBoolean = function (key, fallback) {\n      return defaultedOf(key, fallback, boolean);\n    };\n    var defaultedFunction = function (key, fallback) {\n      return defaultedOf(key, fallback, functionProcessor);\n    };\n    var defaultedPostMsg = function (key, fallback) {\n      return defaultedOf(key, fallback, postMessageable);\n    };\n    var defaultedArrayOf = function (key, fallback, schema) {\n      return defaultedOf(key, fallback, arrOf(schema));\n    };\n    var defaultedObjOf = function (key, fallback, objSchema) {\n      return defaultedOf(key, fallback, objOf(objSchema));\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var generate$7 = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each$1(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              var foldArgs = [];\n              for (var _i = 0; _i < arguments.length; _i++) {\n                foldArgs[_i] = arguments[_i];\n              }\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              var target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$7 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    var partition$1 = function (results) {\n      var errors = [];\n      var values = [];\n      each$1(results, function (result) {\n        result.fold(function (err) {\n          errors.push(err);\n        }, function (value) {\n          values.push(value);\n        });\n      });\n      return {\n        errors: errors,\n        values: values\n      };\n    };\n\n    var exclude$1 = function (obj, fields) {\n      var r = {};\n      each(obj, function (v, k) {\n        if (!contains$2(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    var wrap$2 = function (key, value) {\n      var _a;\n      return _a = {}, _a[key] = value, _a;\n    };\n    var wrapAll$1 = function (keyvalues) {\n      var r = {};\n      each$1(keyvalues, function (kv) {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    var exclude = function (obj, fields) {\n      return exclude$1(obj, fields);\n    };\n    var wrap$1 = function (key, value) {\n      return wrap$2(key, value);\n    };\n    var wrapAll = function (keyvalues) {\n      return wrapAll$1(keyvalues);\n    };\n    var mergeValues = function (values, base) {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge$1.apply(undefined, values)));\n    };\n    var mergeErrors = function (errors) {\n      return Result.error(flatten(errors));\n    };\n    var consolidate = function (objs, base) {\n      var partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n\n    var ensureIsRoot = function (isRoot) {\n      return isFunction(isRoot) ? isRoot : never;\n    };\n    var ancestor$2 = function (scope, transform, isRoot) {\n      var element = scope.dom;\n      var stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        var transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$4 = function (scope, transform, isRoot) {\n      var current = transform(scope);\n      var stop = ensureIsRoot(isRoot);\n      return current.orThunk(function () {\n        return stop(scope) ? Optional.none() : ancestor$2(scope, transform, stop);\n      });\n    };\n\n    var isSource = function (component, simulatedEvent) {\n      return eq(component.element, simulatedEvent.event.target);\n    };\n\n    var defaultEventHandler = {\n      can: always,\n      abort: never,\n      run: noop\n    };\n    var nu$9 = function (parts) {\n      if (!hasNonNullableKey(parts, 'can') && !hasNonNullableKey(parts, 'abort') && !hasNonNullableKey(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return __assign(__assign({}, defaultEventHandler), parts);\n    };\n    var all$2 = function (handlers, f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return foldl(handlers, function (acc, handler) {\n          return acc && f(handler).apply(undefined, args);\n        }, true);\n      };\n    };\n    var any = function (handlers, f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return foldl(handlers, function (acc, handler) {\n          return acc || f(handler).apply(undefined, args);\n        }, false);\n      };\n    };\n    var read$2 = function (handler) {\n      return isFunction(handler) ? {\n        can: always,\n        abort: never,\n        run: handler\n      } : handler;\n    };\n    var fuse$1 = function (handlers) {\n      var can = all$2(handlers, function (handler) {\n        return handler.can;\n      });\n      var abort = any(handlers, function (handler) {\n        return handler.abort;\n      });\n      var run = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        each$1(handlers, function (handler) {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return {\n        can: can,\n        abort: abort,\n        run: run\n      };\n    };\n\n    var constant = constant$1;\n    var touchstart = constant('touchstart');\n    var touchmove = constant('touchmove');\n    var touchend = constant('touchend');\n    var touchcancel = constant('touchcancel');\n    var mousedown = constant('mousedown');\n    var mousemove = constant('mousemove');\n    var mouseout = constant('mouseout');\n    var mouseup = constant('mouseup');\n    var mouseover = constant('mouseover');\n    var focusin = constant('focusin');\n    var focusout = constant('focusout');\n    var keydown = constant('keydown');\n    var keyup = constant('keyup');\n    var input = constant('input');\n    var change = constant('change');\n    var click = constant('click');\n    var transitioncancel = constant('transitioncancel');\n    var transitionend = constant('transitionend');\n    var transitionstart = constant('transitionstart');\n    var selectstart = constant('selectstart');\n\n    var prefixName = function (name) {\n      return constant$1('alloy.' + name);\n    };\n    var alloy = { tap: prefixName('tap') };\n    var focus$4 = prefixName('focus');\n    var postBlur = prefixName('blur.post');\n    var postPaste = prefixName('paste.post');\n    var receive = prefixName('receive');\n    var execute$5 = prefixName('execute');\n    var focusItem = prefixName('focus.item');\n    var tap = alloy.tap;\n    var longpress = prefixName('longpress');\n    var sandboxClose = prefixName('sandbox.close');\n    var typeaheadCancel = prefixName('typeahead.cancel');\n    var systemInit = prefixName('system.init');\n    var documentTouchmove = prefixName('system.touchmove');\n    var documentTouchend = prefixName('system.touchend');\n    var windowScroll = prefixName('system.scroll');\n    var windowResize = prefixName('system.resize');\n    var attachedToDom = prefixName('system.attached');\n    var detachedFromDom = prefixName('system.detached');\n    var dismissRequested = prefixName('system.dismissRequested');\n    var repositionRequested = prefixName('system.repositionRequested');\n    var focusShifted = prefixName('focusmanager.shifted');\n    var slotVisibility = prefixName('slotcontainer.visibility');\n    var changeTab = prefixName('change.tab');\n    var dismissTab = prefixName('dismiss.tab');\n    var highlight$1 = prefixName('highlight');\n    var dehighlight$1 = prefixName('dehighlight');\n\n    var emit = function (component, event) {\n      dispatchWith(component, component.element, event, {});\n    };\n    var emitWith = function (component, event, properties) {\n      dispatchWith(component, component.element, event, properties);\n    };\n    var emitExecute = function (component) {\n      emit(component, execute$5());\n    };\n    var dispatch = function (component, target, event) {\n      dispatchWith(component, target, event, {});\n    };\n    var dispatchWith = function (component, target, event, properties) {\n      var data = __assign({ target: target }, properties);\n      component.getSystem().triggerEvent(event, target, data);\n    };\n    var dispatchEvent = function (component, target, event, simulatedEvent) {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event);\n    };\n\n    var derive$2 = function (configs) {\n      return wrapAll(configs);\n    };\n    var abort = function (name, predicate) {\n      return {\n        key: name,\n        value: nu$9({ abort: predicate })\n      };\n    };\n    var can = function (name, predicate) {\n      return {\n        key: name,\n        value: nu$9({ can: predicate })\n      };\n    };\n    var preventDefault = function (name) {\n      return {\n        key: name,\n        value: nu$9({\n          run: function (component, simulatedEvent) {\n            simulatedEvent.event.prevent();\n          }\n        })\n      };\n    };\n    var run$1 = function (name, handler) {\n      return {\n        key: name,\n        value: nu$9({ run: handler })\n      };\n    };\n    var runActionExtra = function (name, action, extra) {\n      return {\n        key: name,\n        value: nu$9({\n          run: function (component, simulatedEvent) {\n            action.apply(undefined, [\n              component,\n              simulatedEvent\n            ].concat(extra));\n          }\n        })\n      };\n    };\n    var runOnName = function (name) {\n      return function (handler) {\n        return run$1(name, handler);\n      };\n    };\n    var runOnSourceName = function (name) {\n      return function (handler) {\n        return {\n          key: name,\n          value: nu$9({\n            run: function (component, simulatedEvent) {\n              if (isSource(component, simulatedEvent)) {\n                handler(component, simulatedEvent);\n              }\n            }\n          })\n        };\n      };\n    };\n    var redirectToUid = function (name, uid) {\n      return run$1(name, function (component, simulatedEvent) {\n        component.getSystem().getByUid(uid).each(function (redirectee) {\n          dispatchEvent(redirectee, redirectee.element, name, simulatedEvent);\n        });\n      });\n    };\n    var redirectToPart = function (name, detail, partName) {\n      var uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    var runWithTarget = function (name, f) {\n      return run$1(name, function (component, simulatedEvent) {\n        var ev = simulatedEvent.event;\n        var target = component.getSystem().getByDom(ev.target).getOrThunk(function () {\n          var closest = closest$4(ev.target, function (el) {\n            return component.getSystem().getByDom(el).toOptional();\n          }, never);\n          return closest.getOr(component);\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    var cutter = function (name) {\n      return run$1(name, function (component, simulatedEvent) {\n        simulatedEvent.cut();\n      });\n    };\n    var stopper = function (name) {\n      return run$1(name, function (component, simulatedEvent) {\n        simulatedEvent.stop();\n      });\n    };\n    var runOnSource = function (name, f) {\n      return runOnSourceName(name)(f);\n    };\n    var runOnAttached = runOnSourceName(attachedToDom());\n    var runOnDetached = runOnSourceName(detachedFromDom());\n    var runOnInit = runOnSourceName(systemInit());\n    var runOnExecute$1 = runOnName(execute$5());\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    var get$7 = function (element) {\n      return element.dom.innerHTML;\n    };\n    var set$5 = function (element, content) {\n      var owner = owner$4(element);\n      var docDom = owner.dom;\n      var fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      var contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append$2(element, fragment);\n    };\n    var getOuter = function (element) {\n      var container = SugarElement.fromTag('div');\n      var clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$2(container, clone);\n      return get$7(container);\n    };\n\n    var clone$2 = function (original, isDeep) {\n      return SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    };\n    var shallow = function (original) {\n      return clone$2(original, false);\n    };\n\n    var getHtml = function (element) {\n      if (isShadowRoot(element)) {\n        return '#shadow-root';\n      } else {\n        var clone = shallow(element);\n        return getOuter(clone);\n      }\n    };\n\n    var element = function (elem) {\n      return getHtml(elem);\n    };\n\n    var isRecursive = function (component, originator, target) {\n      return eq(originator, component.element) && !eq(originator, target);\n    };\n    var events$i = derive$2([can(focus$4(), function (component, simulatedEvent) {\n        var event = simulatedEvent.event;\n        var originator = event.originator;\n        var target = event.target;\n        if (isRecursive(component, originator, target)) {\n          console.warn(focus$4() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus$4() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$i\n    });\n\n    var unique = 0;\n    var generate$6 = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var prefix$1 = constant$1('alloy-id-');\n    var idAttr$1 = constant$1('data-alloy-id');\n\n    var prefix = prefix$1();\n    var idAttr = idAttr$1();\n    var write = function (label, elem) {\n      var id = generate$6(prefix + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    var writeOnly = function (elem, uid) {\n      Object.defineProperty(elem.dom, idAttr, {\n        value: uid,\n        writable: true\n      });\n    };\n    var read$1 = function (elem) {\n      var id = isElement$2(elem) ? elem.dom[idAttr] : null;\n      return Optional.from(id);\n    };\n    var generate$5 = function (prefix) {\n      return generate$6(prefix);\n    };\n\n    var make$8 = identity$1;\n\n    var NoContextApi = function (getComp) {\n      var getMessage = function (event) {\n        return 'The component must be in a context to execute: ' + event + (getComp ? '\\n' + element(getComp().element) + ' is not in context.' : '');\n      };\n      var fail = function (event) {\n        return function () {\n          throw new Error(getMessage(event));\n        };\n      };\n      var warn = function (event) {\n        return function () {\n          console.warn(getMessage(event));\n        };\n      };\n      return {\n        debugInfo: constant$1('fake'),\n        triggerEvent: warn('triggerEvent'),\n        triggerFocus: warn('triggerFocus'),\n        triggerEscape: warn('triggerEscape'),\n        broadcast: warn('broadcast'),\n        broadcastOn: warn('broadcastOn'),\n        broadcastEvent: warn('broadcastEvent'),\n        build: fail('build'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        isConnected: never\n      };\n    };\n    var singleton$1 = NoContextApi();\n\n    var markAsBehaviourApi = function (f, apiName, apiFunction) {\n      var delegate = apiFunction.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: apiName,\n          parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n        };\n      };\n      return f;\n    };\n    var cleanParameters = function (parameters) {\n      return map$2(parameters, function (p) {\n        return endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p;\n      });\n    };\n    var markAsExtraApi = function (f, extraName) {\n      var delegate = f.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: extraName,\n          parameters: cleanParameters(parameters)\n        };\n      };\n      return f;\n    };\n    var markAsSketchApi = function (f, apiFunction) {\n      var delegate = apiFunction.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: 'OVERRIDE',\n          parameters: cleanParameters(parameters.slice(1))\n        };\n      };\n      return f;\n    };\n\n    var premadeTag = generate$6('alloy-premade');\n    var premade$1 = function (comp) {\n      return wrap$1(premadeTag, comp);\n    };\n    var getPremade = function (spec) {\n      return get$e(spec, premadeTag);\n    };\n    var makeApi = function (f) {\n      return markAsSketchApi(function (component) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          rest[_i - 1] = arguments[_i];\n        }\n        return f.apply(void 0, __spreadArray([\n          component.getApis(),\n          component\n        ], rest, false));\n      }, f);\n    };\n\n    var NoState = {\n      init: function () {\n        return nu$8({ readState: constant$1('No State required') });\n      }\n    };\n    var nu$8 = function (spec) {\n      return spec;\n    };\n\n    var generateFrom$1 = function (spec, all) {\n      var schema = map$2(all, function (a) {\n        return optionObjOf(a.name(), [\n          required$1('config'),\n          defaulted('state', NoState)\n        ]);\n      });\n      var validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(function (errInfo) {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, identity$1);\n      return {\n        list: all,\n        data: map$1(validated, function (optBlobThunk) {\n          var output = optBlobThunk.map(function (blob) {\n            return {\n              config: blob.config,\n              state: blob.state.init(blob.config)\n            };\n          });\n          return constant$1(output);\n        })\n      };\n    };\n    var getBehaviours$3 = function (bData) {\n      return bData.list;\n    };\n    var getData$2 = function (bData) {\n      return bData.data;\n    };\n\n    var byInnerKey = function (data, tuple) {\n      var r = {};\n      each(data, function (detail, key) {\n        each(detail, function (value, indexKey) {\n          var chain = get$e(r, indexKey).getOr([]);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    var nu$7 = function (s) {\n      return {\n        classes: isUndefined(s.classes) ? [] : s.classes,\n        attributes: isUndefined(s.attributes) ? {} : s.attributes,\n        styles: isUndefined(s.styles) ? {} : s.styles\n      };\n    };\n    var merge = function (defnA, mod) {\n      return __assign(__assign({}, defnA), {\n        attributes: __assign(__assign({}, defnA.attributes), mod.attributes),\n        styles: __assign(__assign({}, defnA.styles), mod.styles),\n        classes: defnA.classes.concat(mod.classes)\n      });\n    };\n\n    var combine$2 = function (info, baseMod, behaviours, base) {\n      var modsByBehaviour = __assign({}, baseMod);\n      each$1(behaviours, function (behaviour) {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      var byAspect = byInnerKey(modsByBehaviour, function (name, modification) {\n        return {\n          name: name,\n          modification: modification\n        };\n      });\n      var combineObjects = function (objects) {\n        return foldr(objects, function (b, a) {\n          return __assign(__assign({}, a.modification), b);\n        }, {});\n      };\n      var combinedClasses = foldr(byAspect.classes, function (b, a) {\n        return a.modification.concat(b);\n      }, []);\n      var combinedAttributes = combineObjects(byAspect.attributes);\n      var combinedStyles = combineObjects(byAspect.styles);\n      return nu$7({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    var sortKeys = function (label, keyName, array, order) {\n      try {\n        var sorted = sort(array, function (a, b) {\n          var aKey = a[keyName];\n          var bKey = b[keyName];\n          var aIndex = order.indexOf(aKey);\n          var bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    var uncurried = function (handler, purpose) {\n      return {\n        handler: handler,\n        purpose: purpose\n      };\n    };\n    var curried = function (handler, purpose) {\n      return {\n        cHandler: handler,\n        purpose: purpose\n      };\n    };\n    var curryArgs = function (descHandler, extraArgs) {\n      return curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose);\n    };\n    var getCurried = function (descHandler) {\n      return descHandler.cHandler;\n    };\n\n    var behaviourTuple = function (name, handler) {\n      return {\n        name: name,\n        handler: handler\n      };\n    };\n    var nameToHandlers = function (behaviours, info) {\n      var r = {};\n      each$1(behaviours, function (behaviour) {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    var groupByEvents = function (info, behaviours, base) {\n      var behaviourEvents = __assign(__assign({}, base), nameToHandlers(behaviours, info));\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    var combine$1 = function (info, eventOrder, behaviours, base) {\n      var byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    var assemble = function (rawHandler) {\n      var handler = read$2(rawHandler);\n      return function (component, simulatedEvent) {\n        var rest = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n          rest[_i - 2] = arguments[_i];\n        }\n        var args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    var missingOrderError = function (eventName, tuples) {\n      return Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map$2(tuples, function (c) {\n          return c.name;\n        }), null, 2)]);\n    };\n    var fuse = function (tuples, eventOrder, eventName) {\n      var order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(function (sortedTuples) {\n          var handlers = map$2(sortedTuples, function (tuple) {\n            return tuple.handler;\n          });\n          return fuse$1(handlers);\n        });\n      }\n    };\n    var combineGroups = function (byEventName, eventOrder) {\n      var r = mapToArray(byEventName, function (tuples, eventName) {\n        var combined = tuples.length === 1 ? Result.value(tuples[0].handler) : fuse(tuples, eventOrder, eventName);\n        return combined.map(function (handler) {\n          var assembled = assemble(handler);\n          var purpose = tuples.length > 1 ? filter$2(eventOrder[eventName], function (o) {\n            return exists(tuples, function (t) {\n              return t.name === o;\n            });\n          }).join(' > ') : tuples[0].name;\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    var _a$2;\n    var baseBehaviour = 'alloy.base.behaviour';\n    var schema$z = objOf([\n      field$1('dom', 'dom', required$2(), objOf([\n        required$1('tag'),\n        defaulted('styles', {}),\n        defaulted('classes', []),\n        defaulted('attributes', {}),\n        option('value'),\n        option('innerHtml')\n      ])),\n      required$1('components'),\n      required$1('uid'),\n      defaulted('events', {}),\n      defaulted('apis', {}),\n      field$1('eventOrder', 'eventOrder', mergeWith((_a$2 = {}, _a$2[execute$5()] = [\n        'disabling',\n        baseBehaviour,\n        'toggling',\n        'typeaheadevents'\n      ], _a$2[focus$4()] = [\n        baseBehaviour,\n        'focusing',\n        'keying'\n      ], _a$2[systemInit()] = [\n        baseBehaviour,\n        'disabling',\n        'toggling',\n        'representing'\n      ], _a$2[input()] = [\n        baseBehaviour,\n        'representing',\n        'streaming',\n        'invalidating'\n      ], _a$2[detachedFromDom()] = [\n        baseBehaviour,\n        'representing',\n        'item-events',\n        'tooltipping'\n      ], _a$2[mousedown()] = [\n        'focusing',\n        baseBehaviour,\n        'item-type-events'\n      ], _a$2[touchstart()] = [\n        'focusing',\n        baseBehaviour,\n        'item-type-events'\n      ], _a$2[mouseover()] = [\n        'item-type-events',\n        'tooltipping'\n      ], _a$2[receive()] = [\n        'receiving',\n        'reflecting',\n        'tooltipping'\n      ], _a$2)), anyValue()),\n      option('domModification')\n    ]);\n    var toInfo = function (spec) {\n      return asRaw('custom.definition', schema$z, spec);\n    };\n    var toDefinition = function (detail) {\n      return __assign(__assign({}, detail.dom), {\n        uid: detail.uid,\n        domChildren: map$2(detail.components, function (comp) {\n          return comp.element;\n        })\n      });\n    };\n    var toModification = function (detail) {\n      return detail.domModification.fold(function () {\n        return nu$7({});\n      }, nu$7);\n    };\n    var toEvents = function (info) {\n      return info.events;\n    };\n\n    var read = function (element, attr) {\n      var value = get$d(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add$4 = function (element, attr, id) {\n      var old = read(element, attr);\n      var nu = old.concat([id]);\n      set$8(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$4 = function (element, attr, id) {\n      var nu = filter$2(read(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set$8(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom.classList !== undefined;\n    };\n    var get$6 = function (element) {\n      return read(element, 'class');\n    };\n    var add$3 = function (element, clazz) {\n      return add$4(element, 'class', clazz);\n    };\n    var remove$3 = function (element, clazz) {\n      return remove$4(element, 'class', clazz);\n    };\n\n    var add$2 = function (element, clazz) {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom.classList : get$6(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    var remove$2 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has = function (element, clazz) {\n      return supports(element) && element.dom.classList.contains(clazz);\n    };\n\n    var add$1 = function (element, classes) {\n      each$1(classes, function (x) {\n        add$2(element, x);\n      });\n    };\n    var remove$1 = function (element, classes) {\n      each$1(classes, function (x) {\n        remove$2(element, x);\n      });\n    };\n    var hasAll = function (element, classes) {\n      return forall(classes, function (clazz) {\n        return has(element, clazz);\n      });\n    };\n\n    var get$5 = function (element) {\n      return element.dom.value;\n    };\n    var set$4 = function (element, value) {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom.value = value;\n    };\n\n    var renderToDom = function (definition) {\n      var subject = SugarElement.fromTag(definition.tag);\n      setAll$1(subject, definition.attributes);\n      add$1(subject, definition.classes);\n      setAll(subject, definition.styles);\n      definition.innerHtml.each(function (html) {\n        return set$5(subject, html);\n      });\n      var children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(function (value) {\n        set$4(subject, value);\n      });\n      if (!definition.uid) {\n        debugger;\n      }\n      writeOnly(subject, definition.uid);\n      return subject;\n    };\n\n    var getBehaviours$2 = function (spec) {\n      var behaviours = get$e(spec, 'behaviours').getOr({});\n      return bind$3(keys(behaviours), function (name) {\n        var behaviour = behaviours[name];\n        return isNonNullable(behaviour) ? [behaviour.me] : [];\n      });\n    };\n    var generateFrom = function (spec, all) {\n      return generateFrom$1(spec, all);\n    };\n    var generate$4 = function (spec) {\n      var all = getBehaviours$2(spec);\n      return generateFrom(spec, all);\n    };\n\n    var getDomDefinition = function (info, bList, bData) {\n      var definition = toDefinition(info);\n      var infoModification = toModification(info);\n      var baseModification = { 'alloy.base.modification': infoModification };\n      var modification = bList.length > 0 ? combine$2(bData, baseModification, bList, definition) : infoModification;\n      return merge(definition, modification);\n    };\n    var getEvents = function (info, bList, bData) {\n      var baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    var build$2 = function (spec) {\n      var getMe = function () {\n        return me;\n      };\n      var systemApi = Cell(singleton$1);\n      var info = getOrDie(toInfo(spec));\n      var bBlob = generate$4(spec);\n      var bList = getBehaviours$3(bBlob);\n      var bData = getData$2(bBlob);\n      var modDefinition = getDomDefinition(info, bList, bData);\n      var item = renderToDom(modDefinition);\n      var events = getEvents(info, bList, bData);\n      var subcomponents = Cell(info.components);\n      var connect = function (newApi) {\n        systemApi.set(newApi);\n      };\n      var disconnect = function () {\n        systemApi.set(NoContextApi(getMe));\n      };\n      var syncComponents = function () {\n        var children$1 = children(item);\n        var subs = bind$3(children$1, function (child) {\n          return systemApi.get().getByDom(child).fold(function () {\n            return [];\n          }, pure$2);\n        });\n        subcomponents.set(subs);\n      };\n      var config = function (behaviour) {\n        var b = bData;\n        var f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : function () {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      var hasConfigured = function (behaviour) {\n        return isFunction(bData[behaviour.name()]);\n      };\n      var getApis = function () {\n        return info.apis;\n      };\n      var readState = function (behaviourName) {\n        return bData[behaviourName]().map(function (b) {\n          return b.state.readState();\n        }).getOr('not enabled');\n      };\n      var me = {\n        uid: spec.uid,\n        getSystem: systemApi.get,\n        config: config,\n        hasConfigured: hasConfigured,\n        spec: spec,\n        readState: readState,\n        getApis: getApis,\n        connect: connect,\n        disconnect: disconnect,\n        element: item,\n        syncComponents: syncComponents,\n        components: subcomponents.get,\n        events: events\n      };\n      return me;\n    };\n\n    var buildSubcomponents = function (spec) {\n      var components = get$e(spec, 'components').getOr([]);\n      return map$2(components, build$1);\n    };\n    var buildFromSpec = function (userSpec) {\n      var _a = make$8(userSpec), specEvents = _a.events, spec = __rest(_a, ['events']);\n      var components = buildSubcomponents(spec);\n      var completeSpec = __assign(__assign({}, spec), {\n        events: __assign(__assign({}, DefaultEvents), specEvents),\n        components: components\n      });\n      return Result.value(build$2(completeSpec));\n    };\n    var text$1 = function (textContent) {\n      var element = SugarElement.fromText(textContent);\n      return external$2({ element: element });\n    };\n    var external$2 = function (spec) {\n      var extSpec = asRawOrDie$1('external.component', objOfOnly([\n        required$1('element'),\n        option('uid')\n      ]), spec);\n      var systemApi = Cell(NoContextApi());\n      var connect = function (newApi) {\n        systemApi.set(newApi);\n      };\n      var disconnect = function () {\n        systemApi.set(NoContextApi(function () {\n          return me;\n        }));\n      };\n      var uid = extSpec.uid.getOrThunk(function () {\n        return generate$5('external');\n      });\n      writeOnly(extSpec.element, uid);\n      var me = {\n        uid: uid,\n        getSystem: systemApi.get,\n        config: Optional.none,\n        hasConfigured: never,\n        connect: connect,\n        disconnect: disconnect,\n        getApis: function () {\n          return {};\n        },\n        element: extSpec.element,\n        spec: spec,\n        readState: constant$1('No state'),\n        syncComponents: noop,\n        components: constant$1([]),\n        events: {}\n      };\n      return premade$1(me);\n    };\n    var uids = generate$5;\n    var isSketchSpec$1 = function (spec) {\n      return has$2(spec, 'uid');\n    };\n    var build$1 = function (spec) {\n      return getPremade(spec).getOrThunk(function () {\n        var userSpecWithUid = isSketchSpec$1(spec) ? spec : __assign({ uid: uids('') }, spec);\n        return buildFromSpec(userSpecWithUid).getOrDie();\n      });\n    };\n    var premade = premade$1;\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    }\n\n    var ancestor$1 = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$3 = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    var child$1 = function (scope, predicate) {\n      var pred = function (node) {\n        return predicate(SugarElement.fromDom(node));\n      };\n      var result = find$5(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    var descendant$1 = function (scope, predicate) {\n      var descend = function (node) {\n        for (var i = 0; i < node.childNodes.length; i++) {\n          var child_1 = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child_1)) {\n            return Optional.some(child_1);\n          }\n          var res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    var closest$2 = function (scope, predicate, isRoot) {\n      return closest$3(scope, predicate, isRoot).isSome();\n    };\n\n    var ancestor = function (scope, selector, isRoot) {\n      return ancestor$1(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n    var child = function (scope, selector) {\n      return child$1(scope, function (e) {\n        return is(e, selector);\n      });\n    };\n    var descendant = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$1 = function (scope, selector, isRoot) {\n      var is$1 = function (element, selector) {\n        return is(element, selector);\n      };\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    var find$1 = function (queryElem) {\n      var dependent = closest$3(queryElem, function (elem) {\n        if (!isElement$2(elem)) {\n          return false;\n        }\n        var id = get$d(elem, 'id');\n        return id !== undefined && id.indexOf('aria-owns') > -1;\n      });\n      return dependent.bind(function (dep) {\n        var id = get$d(dep, 'id');\n        var dos = getRootNode(dep);\n        return descendant(dos, '[aria-owns=\"' + id + '\"]');\n      });\n    };\n    var manager = function () {\n      var ariaId = generate$6('aria-owns');\n      var link = function (elem) {\n        set$8(elem, 'aria-owns', ariaId);\n      };\n      var unlink = function (elem) {\n        remove$7(elem, 'aria-owns');\n      };\n      return {\n        id: ariaId,\n        link: link,\n        unlink: unlink\n      };\n    };\n\n    var isAriaPartOf = function (component, queryElem) {\n      return find$1(queryElem).exists(function (owner) {\n        return isPartOf$1(component, owner);\n      });\n    };\n    var isPartOf$1 = function (component, queryElem) {\n      return closest$2(queryElem, function (el) {\n        return eq(el, component.element);\n      }, never) || isAriaPartOf(component, queryElem);\n    };\n\n    var unknown = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    var eventConfig = Cell({});\n    var makeEventLogger = function (eventName, initialTarget) {\n      var sequence = [];\n      var startTime = new Date().getTime();\n      return {\n        logEventCut: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'cut',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logEventStopped: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'stopped',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logNoParent: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'no-parent',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logEventNoHandlers: function (_name, target) {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target: target\n          });\n        },\n        logEventResponse: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'response',\n            purpose: purpose,\n            target: target\n          });\n        },\n        write: function () {\n          var finishTime = new Date().getTime();\n          if (contains$2([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom,\n            sequence: map$2(sequence, function (s) {\n              if (!contains$2([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    var processEvent = function (eventName, initialTarget, f) {\n      var status = get$e(eventConfig.get(), eventName).orThunk(function () {\n        var patterns = keys(eventConfig.get());\n        return findMap(patterns, function (p) {\n          return eventName.indexOf(p) > -1 ? Optional.some(eventConfig.get()[p]) : Optional.none();\n        });\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          var logger = makeEventLogger(eventName, initialTarget);\n          var output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    var path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    var getTrace = function () {\n      var err = new Error();\n      if (err.stack !== undefined) {\n        var lines = err.stack.split('\\n');\n        return find$5(lines, function (line) {\n          return line.indexOf('alloy') > 0 && !exists(path, function (p) {\n            return line.indexOf(p) > -1;\n          });\n        }).getOr(unknown);\n      } else {\n        return unknown;\n      }\n    };\n    var ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    var monitorEvent = function (eventName, initialTarget, f) {\n      return processEvent(eventName, initialTarget, f);\n    };\n    var noLogger = constant$1(ignoreEvent);\n\n    var menuFields = constant$1([\n      required$1('menu'),\n      required$1('selectedMenu')\n    ]);\n    var itemFields = constant$1([\n      required$1('item'),\n      required$1('selectedItem')\n    ]);\n    constant$1(objOf(itemFields().concat(menuFields())));\n    var itemSchema$3 = constant$1(objOf(itemFields()));\n\n    var _initSize = requiredObjOf('initSize', [\n      required$1('numColumns'),\n      required$1('numRows')\n    ]);\n    var itemMarkers = function () {\n      return requiredOf('markers', itemSchema$3());\n    };\n    var tieredMenuMarkers = function () {\n      return requiredObjOf('markers', [required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    };\n    var markers$1 = function (required) {\n      return requiredObjOf('markers', map$2(required, required$1));\n    };\n    var onPresenceHandler = function (label, fieldName, presence) {\n      getTrace();\n      return field$1(fieldName, fieldName, presence, valueOf(function (f) {\n        return Result.value(function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          return f.apply(undefined, args);\n        });\n      }));\n    };\n    var onHandler = function (fieldName) {\n      return onPresenceHandler('onHandler', fieldName, defaulted$1(noop));\n    };\n    var onKeyboardHandler = function (fieldName) {\n      return onPresenceHandler('onKeyboardHandler', fieldName, defaulted$1(Optional.none));\n    };\n    var onStrictHandler = function (fieldName) {\n      return onPresenceHandler('onHandler', fieldName, required$2());\n    };\n    var onStrictKeyboardHandler = function (fieldName) {\n      return onPresenceHandler('onKeyboardHandler', fieldName, required$2());\n    };\n    var output$1 = function (name, value) {\n      return customField(name, constant$1(value));\n    };\n    var snapshot = function (name) {\n      return customField(name, identity$1);\n    };\n    var initSize = constant$1(_initSize);\n\n    var nu$6 = function (x, y, bubble, direction, placement, boundsRestriction, labelPrefix, alwaysFit) {\n      if (alwaysFit === void 0) {\n        alwaysFit = false;\n      }\n      return {\n        x: x,\n        y: y,\n        bubble: bubble,\n        direction: direction,\n        placement: placement,\n        restriction: boundsRestriction,\n        label: labelPrefix + '-' + placement,\n        alwaysFit: alwaysFit\n      };\n    };\n\n    var adt$a = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    var cata$2 = function (subject, southeast, southwest, northeast, northwest, south, north, east, west) {\n      return subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    };\n    var cataVertical = function (subject, south, middle, north) {\n      return subject.fold(south, south, north, north, south, north, middle, middle);\n    };\n    var cataHorizontal = function (subject, east, middle, west) {\n      return subject.fold(east, west, east, west, middle, middle, east, west);\n    };\n    var southeast$3 = adt$a.southeast;\n    var southwest$3 = adt$a.southwest;\n    var northeast$3 = adt$a.northeast;\n    var northwest$3 = adt$a.northwest;\n    var south$3 = adt$a.south;\n    var north$3 = adt$a.north;\n    var east$3 = adt$a.east;\n    var west$3 = adt$a.west;\n\n    var cycleBy = function (value, delta, min, max) {\n      var r = value + delta;\n      if (r > max) {\n        return min;\n      } else if (r < min) {\n        return max;\n      } else {\n        return r;\n      }\n    };\n    var clamp$1 = function (value, min, max) {\n      return Math.min(Math.max(value, min), max);\n    };\n\n    var getRestriction = function (anchor, restriction) {\n      switch (restriction) {\n      case 1:\n        return anchor.x;\n      case 0:\n        return anchor.x + anchor.width;\n      case 2:\n        return anchor.y;\n      case 3:\n        return anchor.y + anchor.height;\n      }\n    };\n    var boundsRestriction = function (anchor, restrictions) {\n      return mapToObject([\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], function (dir) {\n        return get$e(restrictions, dir).map(function (restriction) {\n          return getRestriction(anchor, restriction);\n        });\n      });\n    };\n    var adjustBounds = function (bounds$1, restriction, bubbleOffset) {\n      var applyRestriction = function (dir, current) {\n        return restriction[dir].map(function (pos) {\n          var isVerticalAxis = dir === 'top' || dir === 'bottom';\n          var offset = isVerticalAxis ? bubbleOffset.top : bubbleOffset.left;\n          var comparator = dir === 'left' || dir === 'top' ? Math.max : Math.min;\n          var newPos = comparator(pos, current) + offset;\n          return isVerticalAxis ? clamp$1(newPos, bounds$1.y, bounds$1.bottom) : clamp$1(newPos, bounds$1.x, bounds$1.right);\n        }).getOr(current);\n      };\n      var adjustedLeft = applyRestriction('left', bounds$1.x);\n      var adjustedTop = applyRestriction('top', bounds$1.y);\n      var adjustedRight = applyRestriction('right', bounds$1.right);\n      var adjustedBottom = applyRestriction('bottom', bounds$1.bottom);\n      return bounds(adjustedLeft, adjustedTop, adjustedRight - adjustedLeft, adjustedBottom - adjustedTop);\n    };\n\n    var labelPrefix$2 = 'layout';\n    var eastX$1 = function (anchor) {\n      return anchor.x;\n    };\n    var middleX$1 = function (anchor, element) {\n      return anchor.x + anchor.width / 2 - element.width / 2;\n    };\n    var westX$1 = function (anchor, element) {\n      return anchor.x + anchor.width - element.width;\n    };\n    var northY$2 = function (anchor, element) {\n      return anchor.y - element.height;\n    };\n    var southY$2 = function (anchor) {\n      return anchor.y + anchor.height;\n    };\n    var centreY$1 = function (anchor, element) {\n      return anchor.y + anchor.height / 2 - element.height / 2;\n    };\n    var eastEdgeX$1 = function (anchor) {\n      return anchor.x + anchor.width;\n    };\n    var westEdgeX$1 = function (anchor, element) {\n      return anchor.x - element.width;\n    };\n    var southeast$2 = function (anchor, element, bubbles) {\n      return nu$6(eastX$1(anchor), southY$2(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 1,\n        top: 3\n      }), labelPrefix$2);\n    };\n    var southwest$2 = function (anchor, element, bubbles) {\n      return nu$6(westX$1(anchor, element), southY$2(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 0,\n        top: 3\n      }), labelPrefix$2);\n    };\n    var northeast$2 = function (anchor, element, bubbles) {\n      return nu$6(eastX$1(anchor), northY$2(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 1,\n        bottom: 2\n      }), labelPrefix$2);\n    };\n    var northwest$2 = function (anchor, element, bubbles) {\n      return nu$6(westX$1(anchor, element), northY$2(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 0,\n        bottom: 2\n      }), labelPrefix$2);\n    };\n    var north$2 = function (anchor, element, bubbles) {\n      return nu$6(middleX$1(anchor, element), northY$2(anchor, element), bubbles.north(), north$3(), 'north', boundsRestriction(anchor, { bottom: 2 }), labelPrefix$2);\n    };\n    var south$2 = function (anchor, element, bubbles) {\n      return nu$6(middleX$1(anchor, element), southY$2(anchor), bubbles.south(), south$3(), 'south', boundsRestriction(anchor, { top: 3 }), labelPrefix$2);\n    };\n    var east$2 = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX$1(anchor), centreY$1(anchor, element), bubbles.east(), east$3(), 'east', boundsRestriction(anchor, { left: 0 }), labelPrefix$2);\n    };\n    var west$2 = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX$1(anchor, element), centreY$1(anchor, element), bubbles.west(), west$3(), 'west', boundsRestriction(anchor, { right: 1 }), labelPrefix$2);\n    };\n    var all$1 = function () {\n      return [\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        south$2,\n        north$2,\n        east$2,\n        west$2\n      ];\n    };\n    var allRtl$1 = function () {\n      return [\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        south$2,\n        north$2,\n        east$2,\n        west$2\n      ];\n    };\n    var aboveOrBelow = function () {\n      return [\n        northeast$2,\n        northwest$2,\n        southeast$2,\n        southwest$2,\n        north$2,\n        south$2\n      ];\n    };\n    var aboveOrBelowRtl = function () {\n      return [\n        northwest$2,\n        northeast$2,\n        southwest$2,\n        southeast$2,\n        north$2,\n        south$2\n      ];\n    };\n    var belowOrAbove = function () {\n      return [\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        south$2,\n        north$2\n      ];\n    };\n    var belowOrAboveRtl = function () {\n      return [\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        south$2,\n        north$2\n      ];\n    };\n\n    var chooseChannels = function (channels, message) {\n      return message.universal ? channels : filter$2(channels, function (ch) {\n        return contains$2(message.channels, ch);\n      });\n    };\n    var events$h = function (receiveConfig) {\n      return derive$2([run$1(receive(), function (component, message) {\n          var channelMap = receiveConfig.channels;\n          var channels = keys(channelMap);\n          var receivingData = message;\n          var targetChannels = chooseChannels(channels, receivingData);\n          each$1(targetChannels, function (ch) {\n            var channelInfo = channelMap[ch];\n            var channelSchema = channelInfo.schema;\n            var data = asRawOrDie$1('channel[' + ch + '] data\\nReceiver: ' + element(component.element), channelSchema, receivingData.data);\n            channelInfo.onReceive(component, data);\n          });\n        })]);\n    };\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$h\n    });\n\n    var ReceivingSchema = [requiredOf('channels', setOf(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted('schema', anyValue())\n      ])))];\n\n    var executeEvent = function (bConfig, bState, executor) {\n      return runOnExecute$1(function (component) {\n        executor(component, bConfig, bState);\n      });\n    };\n    var loadEvent = function (bConfig, bState, f) {\n      return runOnInit(function (component, _simulatedEvent) {\n        f(component, bConfig, bState);\n      });\n    };\n    var create$9 = function (schema, name, active, apis, extra, state) {\n      var configSchema = objOfOnly(schema);\n      var schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    var createModes$1 = function (modes, name, active, apis, extra, state) {\n      var configSchema = modes;\n      var schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    var wrapApi = function (bName, apiFunction, apiName) {\n      var f = function (component) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          rest[_i - 1] = arguments[_i];\n        }\n        var args = [component].concat(rest);\n        return component.config({ name: constant$1(bName) }).fold(function () {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, function (info) {\n          var rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    var revokeBehaviour = function (name) {\n      return {\n        key: name,\n        value: undefined\n      };\n    };\n    var doCreate = function (configSchema, schemaSchema, name, active, apis, extra, state) {\n      var getConfig = function (info) {\n        return hasNonNullableKey(info, name) ? info[name]() : Optional.none();\n      };\n      var wrappedApis = map$1(apis, function (apiF, apiName) {\n        return wrapApi(name, apiF, apiName);\n      });\n      var wrappedExtra = map$1(extra, function (extraF, extraName) {\n        return markAsExtraApi(extraF, extraName);\n      });\n      var me = __assign(__assign(__assign({}, wrappedExtra), wrappedApis), {\n        revoke: curry(revokeBehaviour, name),\n        config: function (spec) {\n          var prepared = asRawOrDie$1(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me: me,\n              configAsRaw: cached(function () {\n                return asRawOrDie$1(name + '-config', configSchema, spec);\n              }),\n              initialConfig: spec,\n              state: state\n            }\n          };\n        },\n        schema: constant$1(schemaSchema),\n        exhibit: function (info, base) {\n          return lift2(getConfig(info), get$e(active, 'exhibit'), function (behaviourInfo, exhibitor) {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          }).getOrThunk(function () {\n            return nu$7({});\n          });\n        },\n        name: constant$1(name),\n        handlers: function (info) {\n          return getConfig(info).map(function (behaviourInfo) {\n            var getEvents = get$e(active, 'events').getOr(function () {\n              return {};\n            });\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      });\n      return me;\n    };\n\n    var derive$1 = function (capabilities) {\n      return wrapAll(capabilities);\n    };\n    var simpleSchema = objOfOnly([\n      required$1('fields'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    var create$8 = function (data) {\n      var value = asRawOrDie$1('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create$9(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    var modeSchema = objOfOnly([\n      required$1('branchKey'),\n      required$1('branches'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    var createModes = function (data) {\n      var value = asRawOrDie$1('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes$1(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    var revoke = constant$1(undefined);\n\n    var Receiving = create$8({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    var exhibit$6 = function (base, posConfig) {\n      return nu$7({\n        classes: [],\n        styles: posConfig.useFixed() ? {} : { position: 'relative' }\n      });\n    };\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$6\n    });\n\n    var getDocument = function () {\n      return SugarElement.fromDom(document);\n    };\n\n    var focus$3 = function (element) {\n      return element.dom.focus();\n    };\n    var blur$1 = function (element) {\n      return element.dom.blur();\n    };\n    var hasFocus = function (element) {\n      var root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    var active = function (root) {\n      if (root === void 0) {\n        root = getDocument();\n      }\n      return Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    };\n    var search = function (element) {\n      return active(getRootNode(element)).filter(function (e) {\n        return element.dom.contains(e.dom);\n      });\n    };\n\n    var preserve$1 = function (f, container) {\n      var dos = getRootNode(container);\n      var refocus = active(dos).bind(function (focused) {\n        var hasFocus = function (elem) {\n          return eq(focused, elem);\n        };\n        return hasFocus(container) ? Optional.some(container) : descendant$1(container, hasFocus);\n      });\n      var result = f(container);\n      refocus.each(function (oldFocus) {\n        active(dos).filter(function (newFocus) {\n          return eq(newFocus, oldFocus);\n        }).fold(function () {\n          focus$3(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    var NuPositionCss = function (position, left, top, right, bottom) {\n      var toPx = function (num) {\n        return num + 'px';\n      };\n      return {\n        position: position,\n        left: left.map(toPx),\n        top: top.map(toPx),\n        right: right.map(toPx),\n        bottom: bottom.map(toPx)\n      };\n    };\n    var toOptions = function (position) {\n      return __assign(__assign({}, position), { position: Optional.some(position.position) });\n    };\n    var applyPositionCss = function (element, position) {\n      setOptions(element, toOptions(position));\n    };\n\n    var adt$9 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    var positionWithDirection = function (posName, decision, x, y, width, height) {\n      var decisionRect = decision.rect;\n      var decisionX = decisionRect.x - x;\n      var decisionY = decisionRect.y - y;\n      var decisionWidth = decisionRect.width;\n      var decisionHeight = decisionRect.height;\n      var decisionRight = width - (decisionX + decisionWidth);\n      var decisionBottom = height - (decisionY + decisionHeight);\n      var left = Optional.some(decisionX);\n      var top = Optional.some(decisionY);\n      var right = Optional.some(decisionRight);\n      var bottom = Optional.some(decisionBottom);\n      var none = Optional.none();\n      return cata$2(decision.direction, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, none, top, right, none);\n      }, function () {\n        return NuPositionCss(posName, left, none, none, bottom);\n      }, function () {\n        return NuPositionCss(posName, none, none, right, bottom);\n      }, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, left, none, none, bottom);\n      }, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, none, top, right, none);\n      });\n    };\n    var reposition = function (origin, decision) {\n      return origin.fold(function () {\n        var decisionRect = decision.rect;\n        return NuPositionCss('absolute', Optional.some(decisionRect.x), Optional.some(decisionRect.y), Optional.none(), Optional.none());\n      }, function (x, y, width, height) {\n        return positionWithDirection('absolute', decision, x, y, width, height);\n      }, function (x, y, width, height) {\n        return positionWithDirection('fixed', decision, x, y, width, height);\n      });\n    };\n    var toBox = function (origin, element) {\n      var rel = curry(find$2, element);\n      var position = origin.fold(rel, rel, function () {\n        var scroll = get$9();\n        return find$2(element).translate(-scroll.left, -scroll.top);\n      });\n      var width = getOuter$1(element);\n      var height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    var viewport = function (origin, getBounds) {\n      return getBounds.fold(function () {\n        return origin.fold(win, win, bounds);\n      }, function (b) {\n        return origin.fold(b, b, function () {\n          var bounds$1 = b();\n          var pos = translate$2(origin, bounds$1.x, bounds$1.y);\n          return bounds(pos.left, pos.top, bounds$1.width, bounds$1.height);\n        });\n      });\n    };\n    var translate$2 = function (origin, x, y) {\n      var pos = SugarPosition(x, y);\n      var removeScroll = function () {\n        var outerScroll = get$9();\n        return pos.translate(-outerScroll.left, -outerScroll.top);\n      };\n      return origin.fold(constant$1(pos), constant$1(pos), removeScroll);\n    };\n    var cata$1 = function (subject, onNone, onRelative, onFixed) {\n      return subject.fold(onNone, onRelative, onFixed);\n    };\n    adt$9.none;\n    var relative$1 = adt$9.relative;\n    var fixed$1 = adt$9.fixed;\n\n    var anchor = function (anchorBox, origin) {\n      return {\n        anchorBox: anchorBox,\n        origin: origin\n      };\n    };\n    var box = function (anchorBox, origin) {\n      return anchor(anchorBox, origin);\n    };\n\n    var placementAttribute = 'data-alloy-placement';\n    var setPlacement$1 = function (element, placement) {\n      set$8(element, placementAttribute, placement);\n    };\n    var getPlacement = function (element) {\n      return getOpt(element, placementAttribute);\n    };\n    var reset$2 = function (element) {\n      return remove$7(element, placementAttribute);\n    };\n\n    var adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'visibleW',\n          'visibleH',\n          'isVisible'\n        ]\n      }\n    ]);\n    var determinePosition = function (box, bounds) {\n      var boundsX = bounds.x, boundsY = bounds.y, boundsRight = bounds.right, boundsBottom = bounds.bottom;\n      var x = box.x, y = box.y, right = box.right, bottom = box.bottom, width = box.width, height = box.height;\n      var xInBounds = x >= boundsX && x <= boundsRight;\n      var yInBounds = y >= boundsY && y <= boundsBottom;\n      var originInBounds = xInBounds && yInBounds;\n      var rightInBounds = right <= boundsRight && right >= boundsX;\n      var bottomInBounds = bottom <= boundsBottom && bottom >= boundsY;\n      var sizeInBounds = rightInBounds && bottomInBounds;\n      var visibleW = Math.min(width, x >= boundsX ? boundsRight - x : right - boundsX);\n      var visibleH = Math.min(height, y >= boundsY ? boundsBottom - y : bottom - boundsY);\n      return {\n        originInBounds: originInBounds,\n        sizeInBounds: sizeInBounds,\n        visibleW: visibleW,\n        visibleH: visibleH\n      };\n    };\n    var calcReposition = function (box, bounds$1) {\n      var boundsX = bounds$1.x, boundsY = bounds$1.y, boundsRight = bounds$1.right, boundsBottom = bounds$1.bottom;\n      var x = box.x, y = box.y, width = box.width, height = box.height;\n      var maxX = Math.max(boundsX, boundsRight - width);\n      var maxY = Math.max(boundsY, boundsBottom - height);\n      var restrictedX = clamp$1(x, boundsX, maxX);\n      var restrictedY = clamp$1(y, boundsY, maxY);\n      var restrictedWidth = Math.min(restrictedX + width, boundsRight) - restrictedX;\n      var restrictedHeight = Math.min(restrictedY + height, boundsBottom) - restrictedY;\n      return bounds(restrictedX, restrictedY, restrictedWidth, restrictedHeight);\n    };\n    var calcMaxSizes = function (direction, box, bounds) {\n      var upAvailable = constant$1(box.bottom - bounds.y);\n      var downAvailable = constant$1(bounds.bottom - box.y);\n      var maxHeight = cataVertical(direction, downAvailable, downAvailable, upAvailable);\n      var westAvailable = constant$1(box.right - bounds.x);\n      var eastAvailable = constant$1(bounds.right - box.x);\n      var maxWidth = cataHorizontal(direction, eastAvailable, eastAvailable, westAvailable);\n      return {\n        maxWidth: maxWidth,\n        maxHeight: maxHeight\n      };\n    };\n    var attempt = function (candidate, width, height, bounds$1) {\n      var bubble = candidate.bubble;\n      var bubbleOffset = bubble.offset;\n      var adjustedBounds = adjustBounds(bounds$1, candidate.restriction, bubbleOffset);\n      var newX = candidate.x + bubbleOffset.left;\n      var newY = candidate.y + bubbleOffset.top;\n      var box = bounds(newX, newY, width, height);\n      var _a = determinePosition(box, adjustedBounds), originInBounds = _a.originInBounds, sizeInBounds = _a.sizeInBounds, visibleW = _a.visibleW, visibleH = _a.visibleH;\n      var fits = originInBounds && sizeInBounds;\n      var fittedBox = fits ? box : calcReposition(box, adjustedBounds);\n      var isPartlyVisible = fittedBox.width > 0 && fittedBox.height > 0;\n      var _b = calcMaxSizes(candidate.direction, fittedBox, bounds$1), maxWidth = _b.maxWidth, maxHeight = _b.maxHeight;\n      var reposition = {\n        rect: fittedBox,\n        maxHeight: maxHeight,\n        maxWidth: maxWidth,\n        direction: candidate.direction,\n        placement: candidate.placement,\n        classes: {\n          on: bubble.classesOn,\n          off: bubble.classesOff\n        },\n        layout: candidate.label,\n        testY: newY\n      };\n      return fits || candidate.alwaysFit ? adt$8.fit(reposition) : adt$8.nofit(reposition, visibleW, visibleH, isPartlyVisible);\n    };\n    var attempts = function (element, candidates, anchorBox, elementBox, bubbles, bounds) {\n      var panelWidth = elementBox.width;\n      var panelHeight = elementBox.height;\n      var attemptBestFit = function (layout, reposition, visibleW, visibleH, isVisible) {\n        var next = layout(anchorBox, elementBox, bubbles, element, bounds);\n        var attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(constant$1(attemptLayout), function (newReposition, newVisibleW, newVisibleH, newIsVisible) {\n          var improved = isVisible === newIsVisible ? newVisibleH > visibleH || newVisibleW > visibleW : !isVisible && newIsVisible;\n          return improved ? attemptLayout : adt$8.nofit(reposition, visibleW, visibleH, isVisible);\n        });\n      };\n      var abc = foldl(candidates, function (b, a) {\n        var bestNext = curry(attemptBestFit, a);\n        return b.fold(constant$1(b), bestNext);\n      }, adt$8.nofit({\n        rect: anchorBox,\n        maxHeight: elementBox.height,\n        maxWidth: elementBox.width,\n        direction: southeast$3(),\n        placement: 'southeast',\n        classes: {\n          on: [],\n          off: []\n        },\n        layout: 'none',\n        testY: anchorBox.y\n      }, -1, -1, false));\n      return abc.fold(identity$1, identity$1);\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var destroyable = function () {\n      return singleton(function (s) {\n        return s.destroy();\n      });\n    };\n    var unbindable = function () {\n      return singleton(function (s) {\n        return s.unbind();\n      });\n    };\n    var api$1 = function () {\n      var subject = destroyable();\n      var run = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { run: run });\n    };\n    var value$1 = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var filter = always;\n    var bind = function (element, event, handler) {\n      return bind$2(element, event, filter, handler);\n    };\n    var capture = function (element, event, handler) {\n      return capture$1(element, event, filter, handler);\n    };\n    var fromRawEvent = fromRawEvent$1;\n\n    var properties = [\n      'top',\n      'bottom',\n      'right',\n      'left'\n    ];\n    var timerAttr = 'data-alloy-transition-timer';\n    var isTransitioning$1 = function (element, transition) {\n      return hasAll(element, transition.classes);\n    };\n    var shouldApplyTransitionCss = function (transition, decision, lastPlacement) {\n      return lastPlacement.exists(function (placer) {\n        var mode = transition.mode;\n        return mode === 'all' ? true : placer[mode] !== decision[mode];\n      });\n    };\n    var hasChanges = function (position, intermediate) {\n      var round = function (value) {\n        return parseFloat(value).toFixed(3);\n      };\n      return find$4(intermediate, function (value, key) {\n        var newValue = position[key].map(round);\n        var val = value.map(round);\n        return !equals(newValue, val);\n      }).isSome();\n    };\n    var getTransitionDuration = function (element) {\n      var get = function (name) {\n        var style = get$c(element, name);\n        var times = isString(style) ? style.split(/\\s*,\\s*/) : [];\n        return filter$2(times, isNotEmpty);\n      };\n      var parse = function (value) {\n        if (isString(value) && /^[\\d.]+/.test(value)) {\n          var num = parseFloat(value);\n          return endsWith(value, 'ms') ? num : num * 1000;\n        } else {\n          return 0;\n        }\n      };\n      var delay = get('transition-delay');\n      var duration = get('transition-duration');\n      return foldl(duration, function (acc, dur, i) {\n        var time = parse(delay[i]) + parse(dur);\n        return Math.max(acc, time);\n      }, 0);\n    };\n    var setupTransitionListeners = function (element, transition) {\n      var transitionEnd = unbindable();\n      var transitionCancel = unbindable();\n      var timer;\n      var isSourceTransition = function (e) {\n        var _a;\n        var pseudoElement = (_a = e.raw.pseudoElement) !== null && _a !== void 0 ? _a : '';\n        return eq(e.target, element) && isEmpty(pseudoElement) && contains$2(properties, e.raw.propertyName);\n      };\n      var transitionDone = function (e) {\n        if (isNullable(e) || isSourceTransition(e)) {\n          transitionEnd.clear();\n          transitionCancel.clear();\n          var type = e === null || e === void 0 ? void 0 : e.raw.type;\n          if (isNullable(type) || type === transitionend()) {\n            clearTimeout(timer);\n            remove$7(element, timerAttr);\n            remove$1(element, transition.classes);\n          }\n        }\n      };\n      var transitionStarted = function () {\n        transitionEnd.set(bind(element, transitionend(), transitionDone));\n        transitionCancel.set(bind(element, transitioncancel(), transitionDone));\n      };\n      if ('ontransitionstart' in element.dom) {\n        var transitionStart_1 = bind(element, transitionstart(), function (e) {\n          if (isSourceTransition(e)) {\n            transitionStart_1.unbind();\n            transitionStarted();\n          }\n        });\n      } else {\n        transitionStarted();\n      }\n      var duration = getTransitionDuration(element);\n      requestAnimationFrame(function () {\n        timer = setTimeout(transitionDone, duration + 17);\n        set$8(element, timerAttr, timer);\n      });\n    };\n    var startTransitioning = function (element, transition) {\n      add$1(element, transition.classes);\n      getOpt(element, timerAttr).each(function (timerId) {\n        clearTimeout(parseInt(timerId, 10));\n        remove$7(element, timerAttr);\n      });\n      setupTransitionListeners(element, transition);\n    };\n    var applyTransitionCss = function (element, origin, position, transition, decision, lastPlacement) {\n      var shouldTransition = shouldApplyTransitionCss(transition, decision, lastPlacement);\n      if (shouldTransition || isTransitioning$1(element, transition)) {\n        set$7(element, 'position', position.position);\n        var rect = toBox(origin, element);\n        var intermediatePosition_1 = reposition(origin, __assign(__assign({}, decision), { rect: rect }));\n        var intermediateCssOptions = mapToObject(properties, function (prop) {\n          return intermediatePosition_1[prop];\n        });\n        if (hasChanges(position, intermediateCssOptions)) {\n          setOptions(element, intermediateCssOptions);\n          if (shouldTransition) {\n            startTransitioning(element, transition);\n          }\n          reflow(element);\n        }\n      } else {\n        remove$1(element, transition.classes);\n      }\n    };\n\n    var elementSize = function (p) {\n      return {\n        width: getOuter$1(p),\n        height: getOuter$2(p)\n      };\n    };\n    var layout = function (anchorBox, element, bubbles, options) {\n      remove$6(element, 'max-height');\n      remove$6(element, 'max-width');\n      var elementBox = elementSize(element);\n      return attempts(element, options.preference, anchorBox, elementBox, bubbles, options.bounds);\n    };\n    var setClasses = function (element, decision) {\n      var classInfo = decision.classes;\n      remove$1(element, classInfo.off);\n      add$1(element, classInfo.on);\n    };\n    var setHeight = function (element, decision, options) {\n      var maxHeightFunction = options.maxHeightFunction;\n      maxHeightFunction(element, decision.maxHeight);\n    };\n    var setWidth = function (element, decision, options) {\n      var maxWidthFunction = options.maxWidthFunction;\n      maxWidthFunction(element, decision.maxWidth);\n    };\n    var position$2 = function (element, decision, options) {\n      var positionCss = reposition(options.origin, decision);\n      options.transition.each(function (transition) {\n        applyTransitionCss(element, options.origin, positionCss, transition, decision, options.lastPlacement);\n      });\n      applyPositionCss(element, positionCss);\n    };\n    var setPlacement = function (element, decision) {\n      setPlacement$1(element, decision.placement);\n    };\n\n    var setMaxHeight = function (element, maxHeight) {\n      setMax$1(element, Math.floor(maxHeight));\n    };\n    var anchored = constant$1(function (element, available) {\n      setMaxHeight(element, available);\n      setAll(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    var expandable$1 = constant$1(function (element, available) {\n      setMaxHeight(element, available);\n    });\n\n    var defaultOr = function (options, key, dephault) {\n      return options[key] === undefined ? dephault : options[key];\n    };\n    var simple = function (anchor, element, bubble, layouts, lastPlacement, getBounds, overrideOptions, transition) {\n      var maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      var maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      var anchorBox = anchor.anchorBox;\n      var origin = anchor.origin;\n      var options = {\n        bounds: viewport(origin, getBounds),\n        origin: origin,\n        preference: layouts,\n        maxHeightFunction: maxHeightFunction,\n        maxWidthFunction: maxWidthFunction,\n        lastPlacement: lastPlacement,\n        transition: transition\n      };\n      return go(anchorBox, element, bubble, options);\n    };\n    var go = function (anchorBox, element, bubble, options) {\n      var decision = layout(anchorBox, element, bubble, options);\n      position$2(element, decision, options);\n      setPlacement(element, decision);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n      return {\n        layout: decision.layout,\n        placement: decision.placement\n      };\n    };\n\n    var allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right',\n      'inset'\n    ];\n    var nu$5 = function (xOffset, yOffset, classes, insetModifier) {\n      if (insetModifier === void 0) {\n        insetModifier = 1;\n      }\n      var insetXOffset = xOffset * insetModifier;\n      var insetYOffset = yOffset * insetModifier;\n      var getClasses = function (prop) {\n        return get$e(classes, prop).getOr([]);\n      };\n      var make = function (xDelta, yDelta, alignmentsOn) {\n        var alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: SugarPosition(xDelta, yDelta),\n          classesOn: bind$3(alignmentsOn, getClasses),\n          classesOff: bind$3(alignmentsOff, getClasses)\n        };\n      };\n      return {\n        southeast: function () {\n          return make(-xOffset, yOffset, [\n            'top',\n            'alignLeft'\n          ]);\n        },\n        southwest: function () {\n          return make(xOffset, yOffset, [\n            'top',\n            'alignRight'\n          ]);\n        },\n        south: function () {\n          return make(-xOffset / 2, yOffset, [\n            'top',\n            'alignCentre'\n          ]);\n        },\n        northeast: function () {\n          return make(-xOffset, -yOffset, [\n            'bottom',\n            'alignLeft'\n          ]);\n        },\n        northwest: function () {\n          return make(xOffset, -yOffset, [\n            'bottom',\n            'alignRight'\n          ]);\n        },\n        north: function () {\n          return make(-xOffset / 2, -yOffset, [\n            'bottom',\n            'alignCentre'\n          ]);\n        },\n        east: function () {\n          return make(xOffset, -yOffset / 2, [\n            'valignCentre',\n            'left'\n          ]);\n        },\n        west: function () {\n          return make(-xOffset, -yOffset / 2, [\n            'valignCentre',\n            'right'\n          ]);\n        },\n        insetNortheast: function () {\n          return make(insetXOffset, insetYOffset, [\n            'top',\n            'alignLeft',\n            'inset'\n          ]);\n        },\n        insetNorthwest: function () {\n          return make(-insetXOffset, insetYOffset, [\n            'top',\n            'alignRight',\n            'inset'\n          ]);\n        },\n        insetNorth: function () {\n          return make(-insetXOffset / 2, insetYOffset, [\n            'top',\n            'alignCentre',\n            'inset'\n          ]);\n        },\n        insetSoutheast: function () {\n          return make(insetXOffset, -insetYOffset, [\n            'bottom',\n            'alignLeft',\n            'inset'\n          ]);\n        },\n        insetSouthwest: function () {\n          return make(-insetXOffset, -insetYOffset, [\n            'bottom',\n            'alignRight',\n            'inset'\n          ]);\n        },\n        insetSouth: function () {\n          return make(-insetXOffset / 2, -insetYOffset, [\n            'bottom',\n            'alignCentre',\n            'inset'\n          ]);\n        },\n        insetEast: function () {\n          return make(-insetXOffset, -insetYOffset / 2, [\n            'valignCentre',\n            'right',\n            'inset'\n          ]);\n        },\n        insetWest: function () {\n          return make(insetXOffset, -insetYOffset / 2, [\n            'valignCentre',\n            'left',\n            'inset'\n          ]);\n        }\n      };\n    };\n    var fallback = function () {\n      return nu$5(0, 0, {});\n    };\n\n    var nu$4 = identity$1;\n\n    var onDirection = function (isLtr, isRtl) {\n      return function (element) {\n        return getDirection(element) === 'rtl' ? isRtl : isLtr;\n      };\n    };\n    var getDirection = function (element) {\n      return get$c(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n    };\n\n    var AttributeValue;\n    (function (AttributeValue) {\n      AttributeValue['TopToBottom'] = 'toptobottom';\n      AttributeValue['BottomToTop'] = 'bottomtotop';\n    }(AttributeValue || (AttributeValue = {})));\n    var Attribute = 'data-alloy-vertical-dir';\n    var isBottomToTopDir = function (el) {\n      return closest$2(el, function (current) {\n        return isElement$2(current) && get$d(current, 'data-alloy-vertical-dir') === AttributeValue.BottomToTop;\n      });\n    };\n\n    var schema$y = function () {\n      return optionObjOf('layouts', [\n        required$1('onLtr'),\n        required$1('onRtl'),\n        option('onBottomLtr'),\n        option('onBottomRtl')\n      ]);\n    };\n    var get$4 = function (elem, info, defaultLtr, defaultRtl, defaultBottomLtr, defaultBottomRtl, dirElement) {\n      var isBottomToTop = dirElement.map(isBottomToTopDir).getOr(false);\n      var customLtr = info.layouts.map(function (ls) {\n        return ls.onLtr(elem);\n      });\n      var customRtl = info.layouts.map(function (ls) {\n        return ls.onRtl(elem);\n      });\n      var ltr = isBottomToTop ? info.layouts.bind(function (ls) {\n        return ls.onBottomLtr.map(function (f) {\n          return f(elem);\n        });\n      }).or(customLtr).getOr(defaultBottomLtr) : customLtr.getOr(defaultLtr);\n      var rtl = isBottomToTop ? info.layouts.bind(function (ls) {\n        return ls.onBottomRtl.map(function (f) {\n          return f(elem);\n        });\n      }).or(customRtl).getOr(defaultBottomRtl) : customRtl.getOr(defaultRtl);\n      var f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    var placement$4 = function (component, anchorInfo, origin) {\n      var hotspot = anchorInfo.hotspot;\n      var anchorBox = toBox(origin, hotspot.element);\n      var layouts = get$4(component.element, anchorInfo, belowOrAbove(), belowOrAboveRtl(), aboveOrBelow(), aboveOrBelowRtl(), Optional.some(anchorInfo.hotspot.element));\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var HotspotAnchor = [\n      required$1('hotspot'),\n      option('bubble'),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$4)\n    ];\n\n    var placement$3 = function (component, anchorInfo, origin) {\n      var pos = translate$2(origin, anchorInfo.x, anchorInfo.y);\n      var anchorBox = bounds(pos.left, pos.top, anchorInfo.width, anchorInfo.height);\n      var layouts = get$4(component.element, anchorInfo, all$1(), allRtl$1(), all$1(), allRtl$1(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var MakeshiftAnchor = [\n      required$1('x'),\n      required$1('y'),\n      defaulted('height', 0),\n      defaulted('width', 0),\n      defaulted('bubble', fallback()),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$3)\n    ];\n\n    var adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    var toFixed = function (pos) {\n      return pos.fold(identity$1, function (point, scrollLeft, scrollTop) {\n        return point.translate(-scrollLeft, -scrollTop);\n      });\n    };\n    var toAbsolute = function (pos) {\n      return pos.fold(identity$1, identity$1);\n    };\n    var sum = function (points) {\n      return foldl(points, function (b, a) {\n        return b.translate(a.left, a.top);\n      }, SugarPosition(0, 0));\n    };\n    var sumAsFixed = function (positions) {\n      var points = map$2(positions, toFixed);\n      return sum(points);\n    };\n    var sumAsAbsolute = function (positions) {\n      var points = map$2(positions, toAbsolute);\n      return sum(points);\n    };\n    var screen = adt$7.screen;\n    var absolute$1 = adt$7.absolute;\n\n    var getOffset = function (component, origin, anchorInfo) {\n      var win = defaultView(anchorInfo.root).dom;\n      var hasSameOwner = function (frame) {\n        var frameOwner = owner$4(frame);\n        var compOwner = owner$4(component.element);\n        return eq(frameOwner, compOwner);\n      };\n      return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);\n    };\n    var getRootPoint = function (component, origin, anchorInfo) {\n      var doc = owner$4(component.element);\n      var outerScroll = get$9(doc);\n      var offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$1(offset, outerScroll.left, outerScroll.top);\n    };\n\n    var getBox = function (left, top, width, height) {\n      var point = screen(SugarPosition(left, top));\n      return Optional.some(pointed(point, width, height));\n    };\n    var calcNewAnchor = function (optBox, rootPoint, anchorInfo, origin, elem) {\n      return optBox.map(function (box) {\n        var points = [\n          rootPoint,\n          box.point\n        ];\n        var topLeft = cata$1(origin, function () {\n          return sumAsAbsolute(points);\n        }, function () {\n          return sumAsAbsolute(points);\n        }, function () {\n          return sumAsFixed(points);\n        });\n        var anchorBox = rect(topLeft.left, topLeft.top, box.width, box.height);\n        var layoutsLtr = anchorInfo.showAbove ? aboveOrBelow() : belowOrAbove();\n        var layoutsRtl = anchorInfo.showAbove ? aboveOrBelowRtl() : belowOrAboveRtl();\n        var layouts = get$4(elem, anchorInfo, layoutsLtr, layoutsRtl, layoutsLtr, layoutsRtl, Optional.none());\n        return nu$4({\n          anchorBox: anchorBox,\n          bubble: anchorInfo.bubble.getOr(fallback()),\n          overrides: anchorInfo.overrides,\n          layouts: layouts,\n          placer: Optional.none()\n        });\n      });\n    };\n\n    var placement$2 = function (component, anchorInfo, origin) {\n      var rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.filter(inBody).bind(function (target) {\n        var rect = target.dom.getBoundingClientRect();\n        var nodeBox = getBox(rect.left, rect.top, rect.width, rect.height);\n        var elem = anchorInfo.node.getOr(component.element);\n        return calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      required$1('node'),\n      required$1('root'),\n      option('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$2)\n    ];\n\n    var zeroWidth = '\\uFEFF';\n    var nbsp = '\\xA0';\n\n    var create$7 = function (start, soffset, finish, foffset) {\n      return {\n        start: start,\n        soffset: soffset,\n        finish: finish,\n        foffset: foffset\n      };\n    };\n    var SimRange = { create: create$7 };\n\n    var adt$6 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart$1 = function (situ) {\n      return situ.fold(identity$1, identity$1, identity$1);\n    };\n    var before = adt$6.before;\n    var on$1 = adt$6.on;\n    var after$1 = adt$6.after;\n    var Situ = {\n      before: before,\n      on: on$1,\n      after: after$1,\n      cata: cata,\n      getStart: getStart$1\n    };\n\n    var adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt$5.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    };\n    var getStart = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return SugarElement.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, _finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, _soffset, _finish, _foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt$5.domRange;\n    var relative = adt$5.relative;\n    var exact = adt$5.exact;\n    var getWin = function (selection) {\n      var start = getStart(selection);\n      return defaultView(start);\n    };\n    var range$1 = SimRange.create;\n    var SimSelection = {\n      domRange: domRange,\n      relative: relative,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range$1\n    };\n\n    var setStart = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setStartBefore(e.dom);\n      }, function (e, o) {\n        rng.setStart(e.dom, o);\n      }, function (e) {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    var setFinish = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setEndBefore(e.dom);\n      }, function (e, o) {\n        rng.setEnd(e.dom, o);\n      }, function (e) {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    var relativeToNative = function (win, startSitu, finishSitu) {\n      var range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    var exactToNative = function (win, start, soffset, finish, foffset) {\n      var rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    var toRect = function (rect) {\n      return {\n        left: rect.left,\n        top: rect.top,\n        right: rect.right,\n        bottom: rect.bottom,\n        width: rect.width,\n        height: rect.height\n      };\n    };\n    var getFirstRect$1 = function (rng) {\n      var rects = rng.getClientRects();\n      var rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n    var getBounds$2 = function (rng) {\n      var rect = rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    var adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var fromRange = function (win, type, range) {\n      return type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    };\n    var getRanges = function (win, selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return {\n            ltr: constant$1(rng),\n            rtl: Optional.none\n          };\n        },\n        relative: function (startSitu, finishSitu) {\n          return {\n            ltr: cached(function () {\n              return relativeToNative(win, startSitu, finishSitu);\n            }),\n            rtl: cached(function () {\n              return Optional.some(relativeToNative(win, finishSitu, startSitu));\n            })\n          };\n        },\n        exact: function (start, soffset, finish, foffset) {\n          return {\n            ltr: cached(function () {\n              return exactToNative(win, start, soffset, finish, foffset);\n            }),\n            rtl: cached(function () {\n              return Optional.some(exactToNative(win, finish, foffset, start, soffset));\n            })\n          };\n        }\n      });\n    };\n    var doDiagnose = function (win, ranges) {\n      var rng = ranges.ltr();\n      if (rng.collapsed) {\n        var reversed = ranges.rtl().filter(function (rev) {\n          return rev.collapsed === false;\n        });\n        return reversed.map(function (rev) {\n          return adt$4.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset);\n        }).getOrThunk(function () {\n          return fromRange(win, adt$4.ltr, rng);\n        });\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    var diagnose = function (win, selection) {\n      var ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    var asLtrRange = function (win, selection) {\n      var diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$4.ltr;\n    adt$4.rtl;\n\n    var NodeValue = function (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    };\n\n    var api = NodeValue(isText$1, 'text');\n    var get$3 = function (element) {\n      return api.get(element);\n    };\n    var getOption = function (element) {\n      return api.getOption(element);\n    };\n\n    var getEnd = function (element) {\n      return name$2(element) === 'img' ? 1 : getOption(element).fold(function () {\n        return children(element).length;\n      }, function (v) {\n        return v.length;\n      });\n    };\n    var isTextNodeWithCursorPosition = function (el) {\n      return getOption(el).filter(function (text) {\n        return text.trim().length !== 0 || text.indexOf(nbsp) > -1;\n      }).isSome();\n    };\n    var elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    var isCursorPosition = function (elem) {\n      var hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name$2(elem));\n    };\n\n    var last$1 = function (element) {\n      return descendantRtl(element, isCursorPosition);\n    };\n    var descendantRtl = function (scope, predicate) {\n      var descend = function (element) {\n        var children$1 = children(element);\n        for (var i = children$1.length - 1; i >= 0; i--) {\n          var child = children$1[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          var res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    var descendants = function (scope, selector) {\n      return all$3(selector, scope);\n    };\n\n    var makeRange = function (start, soffset, finish, foffset) {\n      var doc = owner$4(start);\n      var rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    var after = function (start, soffset, finish, foffset) {\n      var r = makeRange(start, soffset, finish, foffset);\n      var same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    var getNativeSelection = function (win) {\n      return Optional.from(win.getSelection());\n    };\n    var readRange = function (selection) {\n      if (selection.rangeCount > 0) {\n        var firstRng = selection.getRangeAt(0);\n        var lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    var doGetExact = function (selection) {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        var anchor = SugarElement.fromDom(selection.anchorNode);\n        var focus_1 = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus_1, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus_1, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    var getExact = function (win) {\n      return getNativeSelection(win).filter(function (sel) {\n        return sel.rangeCount > 0;\n      }).bind(doGetExact);\n    };\n    var getFirstRect = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    var getBounds$1 = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return getBounds$2(rng);\n    };\n\n    var point$1 = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n    var descendOnce$1 = function (element, offset) {\n      var children$1 = children(element);\n      if (children$1.length === 0) {\n        return point$1(element, offset);\n      } else if (offset < children$1.length) {\n        return point$1(children$1[offset], 0);\n      } else {\n        var last = children$1[children$1.length - 1];\n        var len = isText$1(last) ? get$3(last).length : children(last).length;\n        return point$1(last, len);\n      }\n    };\n\n    var descendOnce = function (element, offset) {\n      return isText$1(element) ? point$1(element, offset) : descendOnce$1(element, offset);\n    };\n    var getAnchorSelection = function (win, anchorInfo) {\n      var getSelection = anchorInfo.getSelection.getOrThunk(function () {\n        return function () {\n          return getExact(win);\n        };\n      });\n      return getSelection().map(function (sel) {\n        var modStart = descendOnce(sel.start, sel.soffset);\n        var modFinish = descendOnce(sel.finish, sel.foffset);\n        return SimSelection.range(modStart.element, modStart.offset, modFinish.element, modFinish.offset);\n      });\n    };\n    var placement$1 = function (component, anchorInfo, origin) {\n      var win = defaultView(anchorInfo.root).dom;\n      var rootPoint = getRootPoint(component, origin, anchorInfo);\n      var selectionBox = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n        var optRect = getBounds$1(win, SimSelection.exactFromRange(sel)).orThunk(function () {\n          var x = SugarElement.fromText(zeroWidth);\n          before$2(sel.start, x);\n          var rect = getFirstRect(win, SimSelection.exact(x, 0, x, 1));\n          remove$5(x);\n          return rect;\n        });\n        return optRect.bind(function (rawRect) {\n          return getBox(rawRect.left, rawRect.top, rawRect.width, rawRect.height);\n        });\n      });\n      var targetElement = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n        return isElement$2(sel.start) ? Optional.some(sel.start) : parentNode(sel.start);\n      });\n      var elem = targetElement.getOr(component.element);\n      return calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option('getSelection'),\n      required$1('root'),\n      option('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$1)\n    ];\n\n    var labelPrefix$1 = 'link-layout';\n    var eastX = function (anchor) {\n      return anchor.x + anchor.width;\n    };\n    var westX = function (anchor, element) {\n      return anchor.x - element.width;\n    };\n    var northY$1 = function (anchor, element) {\n      return anchor.y - element.height + anchor.height;\n    };\n    var southY$1 = function (anchor) {\n      return anchor.y;\n    };\n    var southeast$1 = function (anchor, element, bubbles) {\n      return nu$6(eastX(anchor), southY$1(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 0,\n        top: 2\n      }), labelPrefix$1);\n    };\n    var southwest$1 = function (anchor, element, bubbles) {\n      return nu$6(westX(anchor, element), southY$1(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 1,\n        top: 2\n      }), labelPrefix$1);\n    };\n    var northeast$1 = function (anchor, element, bubbles) {\n      return nu$6(eastX(anchor), northY$1(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 0,\n        bottom: 3\n      }), labelPrefix$1);\n    };\n    var northwest$1 = function (anchor, element, bubbles) {\n      return nu$6(westX(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 1,\n        bottom: 3\n      }), labelPrefix$1);\n    };\n    var all = function () {\n      return [\n        southeast$1,\n        southwest$1,\n        northeast$1,\n        northwest$1\n      ];\n    };\n    var allRtl = function () {\n      return [\n        southwest$1,\n        southeast$1,\n        northwest$1,\n        northeast$1\n      ];\n    };\n\n    var placement = function (component, submenuInfo, origin) {\n      var anchorBox = toBox(origin, submenuInfo.item.element);\n      var layouts = get$4(component.element, submenuInfo, all(), allRtl(), all(), allRtl(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var SubmenuAnchor = [\n      required$1('item'),\n      schema$y(),\n      defaulted('overrides', {}),\n      output$1('placement', placement)\n    ];\n\n    var AnchorSchema = choose$1('type', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    var TransitionSchema = [\n      requiredArrayOf('classes', string),\n      defaultedStringEnum('mode', 'all', [\n        'all',\n        'layout',\n        'placement'\n      ])\n    ];\n    var PositionSchema = [\n      defaulted('useFixed', never),\n      option('getBounds')\n    ];\n    var PlacementSchema = [\n      requiredOf('anchor', AnchorSchema),\n      optionObjOf('transition', TransitionSchema)\n    ];\n\n    var getFixedOrigin = function () {\n      var html = document.documentElement;\n      return fixed$1(0, 0, html.clientWidth, html.clientHeight);\n    };\n    var getRelativeOrigin = function (component) {\n      var position = absolute$3(component.element);\n      var bounds = component.element.dom.getBoundingClientRect();\n      return relative$1(position.left, position.top, bounds.width, bounds.height);\n    };\n    var place = function (component, origin, anchoring, getBounds, placee, lastPlace, transition) {\n      var anchor = box(anchoring.anchorBox, origin);\n      return simple(anchor, placee.element, anchoring.bubble, anchoring.layouts, lastPlace, getBounds, anchoring.overrides, transition);\n    };\n    var position$1 = function (component, posConfig, posState, placee, placementSpec) {\n      positionWithin(component, posConfig, posState, placee, placementSpec, Optional.none());\n    };\n    var positionWithin = function (component, posConfig, posState, placee, placementSpec, boxElement) {\n      var boundsBox = boxElement.map(box$1);\n      return positionWithinBounds(component, posConfig, posState, placee, placementSpec, boundsBox);\n    };\n    var positionWithinBounds = function (component, posConfig, posState, placee, placementSpec, bounds) {\n      var placeeDetail = asRawOrDie$1('placement.info', objOf(PlacementSchema), placementSpec);\n      var anchorage = placeeDetail.anchor;\n      var element = placee.element;\n      var placeeState = posState.get(placee.uid);\n      preserve$1(function () {\n        set$7(element, 'position', 'fixed');\n        var oldVisibility = getRaw(element, 'visibility');\n        set$7(element, 'visibility', 'hidden');\n        var origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        var placer = anchorage.placement;\n        var getBounds = bounds.map(constant$1).or(posConfig.getBounds);\n        placer(component, anchorage, origin).each(function (anchoring) {\n          var doPlace = anchoring.placer.getOr(place);\n          var newState = doPlace(component, origin, anchoring, getBounds, placee, placeeState, placeeDetail.transition);\n          posState.set(placee.uid, newState);\n        });\n        oldVisibility.fold(function () {\n          remove$6(element, 'visibility');\n        }, function (vis) {\n          set$7(element, 'visibility', vis);\n        });\n        if (getRaw(element, 'left').isNone() && getRaw(element, 'top').isNone() && getRaw(element, 'right').isNone() && getRaw(element, 'bottom').isNone() && is$1(getRaw(element, 'position'), 'fixed')) {\n          remove$6(element, 'position');\n        }\n      }, element);\n    };\n    var getMode = function (component, pConfig, _pState) {\n      return pConfig.useFixed() ? 'fixed' : 'absolute';\n    };\n    var reset$1 = function (component, pConfig, posState, placee) {\n      var element = placee.element;\n      each$1([\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], function (prop) {\n        return remove$6(element, prop);\n      });\n      reset$2(element);\n      posState.clear(placee.uid);\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        position: position$1,\n        positionWithin: positionWithin,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode,\n        reset: reset$1\n    });\n\n    var init$g = function () {\n      var state = {};\n      var set = function (id, data) {\n        state[id] = data;\n      };\n      var get = function (id) {\n        return get$e(state, id);\n      };\n      var clear = function (id) {\n        if (isNonNullable(id)) {\n          delete state[id];\n        } else {\n          state = {};\n        }\n      };\n      return nu$8({\n        readState: function () {\n          return state;\n        },\n        clear: clear,\n        set: set,\n        get: get\n      });\n    };\n\n    var PositioningState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$g\n    });\n\n    var Positioning = create$8({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis,\n      state: PositioningState\n    });\n\n    var fireDetaching = function (component) {\n      emit(component, detachedFromDom());\n      var children = component.components();\n      each$1(children, fireDetaching);\n    };\n    var fireAttaching = function (component) {\n      var children = component.components();\n      each$1(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    var attach$1 = function (parent, child) {\n      append$2(parent.element, child.element);\n    };\n    var detachChildren$1 = function (component) {\n      each$1(component.components(), function (childComp) {\n        return remove$5(childComp.element);\n      });\n      empty(component.element);\n      component.syncComponents();\n    };\n    var replaceChildren = function (component, newChildren) {\n      var subs = component.components();\n      detachChildren$1(component);\n      var deleted = difference(subs, newChildren);\n      each$1(deleted, function (comp) {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each$1(newChildren, function (childComp) {\n        if (!childComp.getSystem().isConnected()) {\n          component.getSystem().addToWorld(childComp);\n          attach$1(component, childComp);\n          if (inBody(component.element)) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach$1(component, childComp);\n        }\n        component.syncComponents();\n      });\n    };\n\n    var attach = function (parent, child) {\n      attachWith(parent, child, append$2);\n    };\n    var attachWith = function (parent, child, insertion) {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element, child.element);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    var doDetach = function (component) {\n      fireDetaching(component);\n      remove$5(component.element);\n      component.getSystem().removeFromWorld(component);\n    };\n    var detach = function (component) {\n      var parent$1 = parent(component.element).bind(function (p) {\n        return component.getSystem().getByDom(p).toOptional();\n      });\n      doDetach(component);\n      parent$1.each(function (p) {\n        p.syncComponents();\n      });\n    };\n    var detachChildren = function (component) {\n      var subs = component.components();\n      each$1(subs, doDetach);\n      empty(component.element);\n      component.syncComponents();\n    };\n    var attachSystem = function (element, guiSystem) {\n      attachSystemWith(element, guiSystem, append$2);\n    };\n    var attachSystemAfter = function (element, guiSystem) {\n      attachSystemWith(element, guiSystem, after$2);\n    };\n    var attachSystemWith = function (element, guiSystem, inserter) {\n      inserter(element, guiSystem.element);\n      var children$1 = children(guiSystem.element);\n      each$1(children$1, function (child) {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    var detachSystem = function (guiSystem) {\n      var children$1 = children(guiSystem.element);\n      each$1(children$1, function (child) {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove$5(guiSystem.element);\n    };\n\n    var rebuild = function (sandbox, sConfig, sState, data) {\n      sState.get().each(function (_data) {\n        detachChildren(sandbox);\n      });\n      var point = sConfig.getAttachPoint(sandbox);\n      attach(point, sandbox);\n      var built = sandbox.getSystem().build(data);\n      attach(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    var open$1 = function (sandbox, sConfig, sState, data) {\n      var newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    var setContent = function (sandbox, sConfig, sState, data) {\n      return sState.get().map(function () {\n        return rebuild(sandbox, sConfig, sState, data);\n      });\n    };\n    var openWhileCloaked = function (sandbox, sConfig, sState, data, transaction) {\n      cloak(sandbox, sConfig);\n      open$1(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    var close$1 = function (sandbox, sConfig, sState) {\n      sState.get().each(function (data) {\n        detachChildren(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    var isOpen$1 = function (_sandbox, _sConfig, sState) {\n      return sState.isOpen();\n    };\n    var isPartOf = function (sandbox, sConfig, sState, queryElem) {\n      return isOpen$1(sandbox, sConfig, sState) && sState.get().exists(function (data) {\n        return sConfig.isPartOf(sandbox, data, queryElem);\n      });\n    };\n    var getState$2 = function (_sandbox, _sConfig, sState) {\n      return sState.get();\n    };\n    var store = function (sandbox, cssKey, attr, newValue) {\n      getRaw(sandbox.element, cssKey).fold(function () {\n        remove$7(sandbox.element, attr);\n      }, function (v) {\n        set$8(sandbox.element, attr, v);\n      });\n      set$7(sandbox.element, cssKey, newValue);\n    };\n    var restore = function (sandbox, cssKey, attr) {\n      getOpt(sandbox.element, attr).fold(function () {\n        return remove$6(sandbox.element, cssKey);\n      }, function (oldValue) {\n        return set$7(sandbox.element, cssKey, oldValue);\n      });\n    };\n    var cloak = function (sandbox, sConfig, _sState) {\n      var sink = sConfig.getAttachPoint(sandbox);\n      set$7(sandbox.element, 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    var hasPosition = function (element) {\n      return exists([\n        'top',\n        'left',\n        'right',\n        'bottom'\n      ], function (pos) {\n        return getRaw(element, pos).isSome();\n      });\n    };\n    var decloak = function (sandbox, sConfig, _sState) {\n      if (!hasPosition(sandbox.element)) {\n        remove$6(sandbox.element, 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        cloak: cloak,\n        decloak: decloak,\n        open: open$1,\n        openWhileCloaked: openWhileCloaked,\n        close: close$1,\n        isOpen: isOpen$1,\n        isPartOf: isPartOf,\n        getState: getState$2,\n        setContent: setContent\n    });\n\n    var events$g = function (sandboxConfig, sandboxState) {\n      return derive$2([run$1(sandboxClose(), function (sandbox, _simulatedEvent) {\n          close$1(sandbox, sandboxConfig, sandboxState);\n        })]);\n    };\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$g\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      required$1('isPartOf'),\n      required$1('getAttachPoint'),\n      defaulted('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    var init$f = function () {\n      var contents = value$1();\n      var readState = constant$1('not-implemented');\n      return nu$8({\n        readState: readState,\n        isOpen: contents.isSet,\n        clear: contents.clear,\n        set: contents.set,\n        get: contents.get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$f\n    });\n\n    var Sandboxing = create$8({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    var dismissPopups = constant$1('dismiss.popups');\n    var repositionPopups = constant$1('reposition.popups');\n    var mouseReleased = constant$1('mouse.released');\n\n    var schema$x = objOfOnly([\n      defaulted('isExtraPart', never),\n      optionObjOf('fireEventInstead', [defaulted('event', dismissRequested())])\n    ]);\n    var receivingChannel$1 = function (rawSpec) {\n      var _a;\n      var detail = asRawOrDie$1('Dismissal', schema$x, rawSpec);\n      return _a = {}, _a[dismissPopups()] = {\n        schema: objOfOnly([required$1('target')]),\n        onReceive: function (sandbox, data) {\n          if (Sandboxing.isOpen(sandbox)) {\n            var isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n            if (!isPart) {\n              detail.fireEventInstead.fold(function () {\n                return Sandboxing.close(sandbox);\n              }, function (fe) {\n                return emit(sandbox, fe.event);\n              });\n            }\n          }\n        }\n      }, _a;\n    };\n\n    var schema$w = objOfOnly([\n      optionObjOf('fireEventInstead', [defaulted('event', repositionRequested())]),\n      requiredFunction('doReposition')\n    ]);\n    var receivingChannel = function (rawSpec) {\n      var _a;\n      var detail = asRawOrDie$1('Reposition', schema$w, rawSpec);\n      return _a = {}, _a[repositionPopups()] = {\n        onReceive: function (sandbox) {\n          if (Sandboxing.isOpen(sandbox)) {\n            detail.fireEventInstead.fold(function () {\n              return detail.doReposition(sandbox);\n            }, function (fe) {\n              return emit(sandbox, fe.event);\n            });\n          }\n        }\n      }, _a;\n    };\n\n    var onLoad$5 = function (component, repConfig, repState) {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    var onUnload$2 = function (component, repConfig, repState) {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    var setValue$3 = function (component, repConfig, repState, data) {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    var getValue$3 = function (component, repConfig, repState) {\n      return repConfig.store.manager.getValue(component, repConfig, repState);\n    };\n    var getState$1 = function (component, repConfig, repState) {\n      return repState;\n    };\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad$5,\n        onUnload: onUnload$2,\n        setValue: setValue$3,\n        getValue: getValue$3,\n        getState: getState$1\n    });\n\n    var events$f = function (repConfig, repState) {\n      var es = repConfig.resetOnDom ? [\n        runOnAttached(function (comp, _se) {\n          onLoad$5(comp, repConfig, repState);\n        }),\n        runOnDetached(function (comp, _se) {\n          onUnload$2(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad$5)];\n      return derive$2(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$f\n    });\n\n    var memory$1 = function () {\n      var data = Cell(null);\n      var readState = function () {\n        return {\n          mode: 'memory',\n          value: data.get()\n        };\n      };\n      var isNotSet = function () {\n        return data.get() === null;\n      };\n      var clear = function () {\n        data.set(null);\n      };\n      return nu$8({\n        set: data.set,\n        get: data.get,\n        isNotSet: isNotSet,\n        clear: clear,\n        readState: readState\n      });\n    };\n    var manual = function () {\n      var readState = noop;\n      return nu$8({ readState: readState });\n    };\n    var dataset = function () {\n      var dataByValue = Cell({});\n      var dataByText = Cell({});\n      var readState = function () {\n        return {\n          mode: 'dataset',\n          dataByValue: dataByValue.get(),\n          dataByText: dataByText.get()\n        };\n      };\n      var clear = function () {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      var lookup = function (itemString) {\n        return get$e(dataByValue.get(), itemString).orThunk(function () {\n          return get$e(dataByText.get(), itemString);\n        });\n      };\n      var update = function (items) {\n        var currentDataByValue = dataByValue.get();\n        var currentDataByText = dataByText.get();\n        var newDataByValue = {};\n        var newDataByText = {};\n        each$1(items, function (item) {\n          newDataByValue[item.value] = item;\n          get$e(item, 'meta').each(function (meta) {\n            get$e(meta, 'text').each(function (text) {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set(__assign(__assign({}, currentDataByValue), newDataByValue));\n        dataByText.set(__assign(__assign({}, currentDataByText), newDataByText));\n      };\n      return nu$8({\n        readState: readState,\n        lookup: lookup,\n        update: update,\n        clear: clear\n      });\n    };\n    var init$e = function (spec) {\n      return spec.store.manager.state(spec);\n    };\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        memory: memory$1,\n        dataset: dataset,\n        manual: manual,\n        init: init$e\n    });\n\n    var setValue$2 = function (component, repConfig, repState, data) {\n      var store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    var getValue$2 = function (component, repConfig, repState) {\n      var store = repConfig.store;\n      var key = store.getDataKey(component);\n      return repState.lookup(key).getOrThunk(function () {\n        return store.getFallbackEntry(key);\n      });\n    };\n    var onLoad$4 = function (component, repConfig, repState) {\n      var store = repConfig.store;\n      store.initialValue.each(function (data) {\n        setValue$2(component, repConfig, repState, data);\n      });\n    };\n    var onUnload$1 = function (component, repConfig, repState) {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option('initialValue'),\n      required$1('getFallbackEntry'),\n      required$1('getDataKey'),\n      required$1('setValue'),\n      output$1('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$4,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    var getValue$1 = function (component, repConfig, _repState) {\n      return repConfig.store.getValue(component);\n    };\n    var setValue$1 = function (component, repConfig, _repState, data) {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    var onLoad$3 = function (component, repConfig, _repState) {\n      repConfig.store.initialValue.each(function (data) {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      required$1('getValue'),\n      defaulted('setValue', noop),\n      option('initialValue'),\n      output$1('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$3,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    var setValue = function (component, repConfig, repState, data) {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    var getValue = function (component, repConfig, repState) {\n      return repState.get();\n    };\n    var onLoad$2 = function (component, repConfig, repState) {\n      repConfig.store.initialValue.each(function (initVal) {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    var onUnload = function (component, repConfig, repState) {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option('initialValue'),\n      output$1('manager', {\n        setValue: setValue,\n        getValue: getValue,\n        onLoad: onLoad$2,\n        onUnload: onUnload,\n        state: memory$1\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted('resetOnDom', false)\n    ];\n\n    var Representing = create$8({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: function (component, source) {\n          var value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    var field = function (name, forbidden) {\n      return defaultedObjOf(name, {}, map$2(forbidden, function (f) {\n        return forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name);\n      }).concat([customField('dump', identity$1)]));\n    };\n    var get$2 = function (data) {\n      return data.dump;\n    };\n    var augment = function (data, original) {\n      return __assign(__assign({}, derive$1(original)), data.dump);\n    };\n    var SketchBehaviours = {\n      field: field,\n      augment: augment,\n      get: get$2\n    };\n\n    var _placeholder = 'placeholder';\n    var adt$3 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    var isSubstituted = function (spec) {\n      return has$2(spec, 'uiType');\n    };\n    var subPlaceholder = function (owner, detail, compSpec, placeholders) {\n      if (owner.exists(function (o) {\n          return o !== compSpec.owner;\n        })) {\n        return adt$3.single(true, constant$1(compSpec));\n      }\n      return get$e(placeholders, compSpec.name).fold(function () {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, function (newSpec) {\n        return newSpec.replace();\n      });\n    };\n    var scan = function (owner, detail, compSpec, placeholders) {\n      if (isSubstituted(compSpec) && compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$3.single(false, constant$1(compSpec));\n      }\n    };\n    var substitute = function (owner, detail, compSpec, placeholders) {\n      var base = scan(owner, detail, compSpec, placeholders);\n      return base.fold(function (req, valueThunk) {\n        var value = isSubstituted(compSpec) ? valueThunk(detail, compSpec.config, compSpec.validated) : valueThunk(detail);\n        var childSpecs = get$e(value, 'components').getOr([]);\n        var substituted = bind$3(childSpecs, function (c) {\n          return substitute(owner, detail, c, placeholders);\n        });\n        return [__assign(__assign({}, value), { components: substituted })];\n      }, function (req, valuesThunk) {\n        if (isSubstituted(compSpec)) {\n          var values = valuesThunk(detail, compSpec.config, compSpec.validated);\n          var preprocessor = compSpec.validated.preprocess.getOr(identity$1);\n          return preprocessor(values);\n        } else {\n          return valuesThunk(detail);\n        }\n      });\n    };\n    var substituteAll = function (owner, detail, components, placeholders) {\n      return bind$3(components, function (c) {\n        return substitute(owner, detail, c, placeholders);\n      });\n    };\n    var oneReplace = function (label, replacements) {\n      var called = false;\n      var used = function () {\n        return called;\n      };\n      var replace = function () {\n        if (called) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      var required = function () {\n        return replacements.fold(function (req, _) {\n          return req;\n        }, function (req, _) {\n          return req;\n        });\n      };\n      return {\n        name: constant$1(label),\n        required: required,\n        used: used,\n        replace: replace\n      };\n    };\n    var substitutePlaces = function (owner, detail, components, placeholders) {\n      var ps = map$1(placeholders, function (ph, name) {\n        return oneReplace(name, ph);\n      });\n      var outcome = substituteAll(owner, detail, components, ps);\n      each(ps, function (p) {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    var single$2 = adt$3.single;\n    var multiple = adt$3.multiple;\n    var placeholder = constant$1(_placeholder);\n\n    var adt$2 = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    var fFactory = defaulted('factory', { sketch: identity$1 });\n    var fSchema = defaulted('schema', []);\n    var fName = required$1('name');\n    var fPname = field$1('pname', 'pname', defaultedThunk(function (typeSpec) {\n      return '<alloy.' + generate$6(typeSpec.name) + '>';\n    }), anyValue());\n    var fGroupSchema = customField('schema', function () {\n      return [option('preprocess')];\n    });\n    var fDefaults = defaulted('defaults', constant$1({}));\n    var fOverrides = defaulted('overrides', constant$1({}));\n    var requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    var optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      required$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var asNamedPart = function (part) {\n      return part.fold(Optional.some, Optional.none, Optional.some, Optional.some);\n    };\n    var name$1 = function (part) {\n      var get = function (data) {\n        return data.name;\n      };\n      return part.fold(get, get, get, get);\n    };\n    var asCommon = function (part) {\n      return part.fold(identity$1, identity$1, identity$1, identity$1);\n    };\n    var convert = function (adtConstructor, partSchema) {\n      return function (spec) {\n        var data = asRawOrDie$1('Converting part type', partSchema, spec);\n        return adtConstructor(data);\n      };\n    };\n    var required = convert(adt$2.required, requiredSpec);\n    var external$1 = convert(adt$2.external, externalSpec);\n    var optional = convert(adt$2.optional, optionalSpec);\n    var group = convert(adt$2.group, groupSpec);\n    var original = constant$1('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        required: required,\n        external: external$1,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$1,\n        asCommon: asCommon,\n        original: original\n    });\n\n    var combine = function (detail, data, partSpec, partValidated) {\n      return deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    };\n    var subs = function (owner, detail, parts) {\n      var internals = {};\n      var externals = {};\n      each$1(parts, function (part) {\n        part.fold(function (data) {\n          internals[data.pname] = single$2(true, function (detail, partSpec, partValidated) {\n            return data.factory.sketch(combine(detail, data, partSpec, partValidated));\n          });\n        }, function (data) {\n          var partSpec = detail.parts[data.name];\n          externals[data.name] = constant$1(data.factory.sketch(combine(detail, data, partSpec[original()]), partSpec));\n        }, function (data) {\n          internals[data.pname] = single$2(false, function (detail, partSpec, partValidated) {\n            return data.factory.sketch(combine(detail, data, partSpec, partValidated));\n          });\n        }, function (data) {\n          internals[data.pname] = multiple(true, function (detail, _partSpec, _partValidated) {\n            var units = detail[data.name];\n            return map$2(units, function (u) {\n              return data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u)));\n            });\n          });\n        });\n      });\n      return {\n        internals: constant$1(internals),\n        externals: constant$1(externals)\n      };\n    };\n\n    var generate$3 = function (owner, parts) {\n      var r = {};\n      each$1(parts, function (part) {\n        asNamedPart(part).each(function (np) {\n          var g = doGenerateOne(owner, np.pname);\n          r[np.name] = function (config) {\n            var validated = asRawOrDie$1('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return __assign(__assign({}, g), {\n              config: config,\n              validated: validated\n            });\n          };\n        });\n      });\n      return r;\n    };\n    var doGenerateOne = function (owner, pname) {\n      return {\n        uiType: placeholder(),\n        owner: owner,\n        name: pname\n      };\n    };\n    var generateOne$1 = function (owner, pname, config) {\n      return {\n        uiType: placeholder(),\n        owner: owner,\n        name: pname,\n        config: config,\n        validated: {}\n      };\n    };\n    var schemas = function (parts) {\n      return bind$3(parts, function (part) {\n        return part.fold(Optional.none, Optional.some, Optional.none, Optional.none).map(function (data) {\n          return requiredObjOf(data.name, data.schema.concat([snapshot(original())]));\n        }).toArray();\n      });\n    };\n    var names = function (parts) {\n      return map$2(parts, name$1);\n    };\n    var substitutes = function (owner, detail, parts) {\n      return subs(owner, detail, parts);\n    };\n    var components$1 = function (owner, detail, internals) {\n      return substitutePlaces(Optional.some(owner), detail, detail.components, internals);\n    };\n    var getPart = function (component, detail, partKey) {\n      var uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOptional();\n    };\n    var getPartOrDie = function (component, detail, partKey) {\n      return getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    };\n    var getParts = function (component, detail, partKeys) {\n      var r = {};\n      var uids = detail.partUids;\n      var system = component.getSystem();\n      each$1(partKeys, function (pk) {\n        r[pk] = constant$1(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    var getAllParts = function (component, detail) {\n      var system = component.getSystem();\n      return map$1(detail.partUids, function (pUid, _k) {\n        return constant$1(system.getByUid(pUid));\n      });\n    };\n    var getAllPartNames = function (detail) {\n      return keys(detail.partUids);\n    };\n    var getPartsOrDie = function (component, detail, partKeys) {\n      var r = {};\n      var uids = detail.partUids;\n      var system = component.getSystem();\n      each$1(partKeys, function (pk) {\n        r[pk] = constant$1(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    var defaultUids = function (baseUid, partTypes) {\n      var partNames = names(partTypes);\n      return wrapAll(map$2(partNames, function (pn) {\n        return {\n          key: pn,\n          value: baseUid + '-' + pn\n        };\n      }));\n    };\n    var defaultUidsSchema = function (partTypes) {\n      return field$1('partUids', 'partUids', mergeWithThunk(function (spec) {\n        return defaultUids(spec.uid, partTypes);\n      }), anyValue());\n    };\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        generate: generate$3,\n        generateOne: generateOne$1,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components$1,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    var base = function (partSchemas, partUidsSchemas) {\n      var ps = partSchemas.length > 0 ? [requiredObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        required$1('uid'),\n        defaulted('dom', {}),\n        defaulted('components', []),\n        snapshot('originalSpec'),\n        defaulted('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    var asRawOrDie = function (label, schema, spec, partSchemas, partUidsSchemas) {\n      var baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie$1(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    var single$1 = function (owner, schema, factory, spec) {\n      var specWithUid = supplyUid(spec);\n      var detail = asRawOrDie(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    var composite$1 = function (owner, schema, partTypes, factory, spec) {\n      var specWithUid = supplyUid(spec);\n      var partSchemas = schemas(partTypes);\n      var partUidsSchema = defaultUidsSchema(partTypes);\n      var detail = asRawOrDie(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      var subs = substitutes(owner, detail, partTypes);\n      var components = components$1(owner, detail, subs.internals());\n      return factory(detail, components, specWithUid, subs.externals());\n    };\n    var hasUid = function (spec) {\n      return has$2(spec, 'uid');\n    };\n    var supplyUid = function (spec) {\n      return hasUid(spec) ? spec : __assign(__assign({}, spec), { uid: generate$5('uid') });\n    };\n\n    var isSketchSpec = function (spec) {\n      return spec.uid !== undefined;\n    };\n    var singleSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    var compositeSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      required$1('partFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    var single = function (rawConfig) {\n      var config = asRawOrDie$1('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      var sketch = function (spec) {\n        return single$1(config.name, config.configFields, config.factory, spec);\n      };\n      var apis = map$1(config.apis, makeApi);\n      var extraApis = map$1(config.extraApis, function (f, k) {\n        return markAsExtraApi(f, k);\n      });\n      return __assign(__assign({\n        name: config.name,\n        configFields: config.configFields,\n        sketch: sketch\n      }, apis), extraApis);\n    };\n    var composite = function (rawConfig) {\n      var config = asRawOrDie$1('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      var sketch = function (spec) {\n        return composite$1(config.name, config.configFields, config.partFields, config.factory, spec);\n      };\n      var parts = generate$3(config.name, config.partFields);\n      var apis = map$1(config.apis, makeApi);\n      var extraApis = map$1(config.extraApis, function (f, k) {\n        return markAsExtraApi(f, k);\n      });\n      return __assign(__assign({\n        name: config.name,\n        partFields: config.partFields,\n        configFields: config.configFields,\n        sketch: sketch,\n        parts: parts\n      }, apis), extraApis);\n    };\n\n    var inside = function (target) {\n      return name$2(target) === 'input' && get$d(target, 'type') !== 'radio' || name$2(target) === 'textarea';\n    };\n\n    var getCurrent = function (component, composeConfig, _composeState) {\n      return composeConfig.find(component);\n    };\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCurrent: getCurrent\n    });\n\n    var ComposeSchema = [required$1('find')];\n\n    var Composing = create$8({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    var nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    var onLoad$1 = function (component, disableConfig, disableState) {\n      var f = disableConfig.disabled() ? disable$1 : enable$1;\n      f(component, disableConfig);\n    };\n    var hasNative = function (component, config) {\n      return config.useNative === true && contains$2(nativeDisabled, name$2(component.element));\n    };\n    var nativeIsDisabled = function (component) {\n      return has$1(component.element, 'disabled');\n    };\n    var nativeDisable = function (component) {\n      set$8(component.element, 'disabled', 'disabled');\n    };\n    var nativeEnable = function (component) {\n      remove$7(component.element, 'disabled');\n    };\n    var ariaIsDisabled = function (component) {\n      return get$d(component.element, 'aria-disabled') === 'true';\n    };\n    var ariaDisable = function (component) {\n      set$8(component.element, 'aria-disabled', 'true');\n    };\n    var ariaEnable = function (component) {\n      set$8(component.element, 'aria-disabled', 'false');\n    };\n    var disable$1 = function (component, disableConfig, _disableState) {\n      disableConfig.disableClass.each(function (disableClass) {\n        add$2(component.element, disableClass);\n      });\n      var f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    var enable$1 = function (component, disableConfig, _disableState) {\n      disableConfig.disableClass.each(function (disableClass) {\n        remove$2(component.element, disableClass);\n      });\n      var f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    var isDisabled = function (component, disableConfig) {\n      return hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    };\n    var set$3 = function (component, disableConfig, disableState, disabled) {\n      var f = disabled ? disable$1 : enable$1;\n      f(component, disableConfig);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        enable: enable$1,\n        disable: disable$1,\n        isDisabled: isDisabled,\n        onLoad: onLoad$1,\n        set: set$3\n    });\n\n    var exhibit$5 = function (base, disableConfig) {\n      return nu$7({ classes: disableConfig.disabled() ? disableConfig.disableClass.toArray() : [] });\n    };\n    var events$e = function (disableConfig, disableState) {\n      return derive$2([\n        abort(execute$5(), function (component, _simulatedEvent) {\n          return isDisabled(component, disableConfig);\n        }),\n        loadEvent(disableConfig, disableState, onLoad$1)\n      ]);\n    };\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$5,\n        events: events$e\n    });\n\n    var DisableSchema = [\n      defaultedFunction('disabled', never),\n      defaulted('useNative', true),\n      option('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    var Disabling = create$8({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    var dehighlightAllExcept = function (component, hConfig, hState, skip) {\n      var highlighted = descendants(component.element, '.' + hConfig.highlightClass);\n      each$1(highlighted, function (h) {\n        if (!exists(skip, function (skipComp) {\n            return skipComp.element === h;\n          })) {\n          remove$2(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(function (target) {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight$1());\n          });\n        }\n      });\n    };\n    var dehighlightAll = function (component, hConfig, hState) {\n      return dehighlightAllExcept(component, hConfig, hState, []);\n    };\n    var dehighlight = function (component, hConfig, hState, target) {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$2(target.element, hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight$1());\n      }\n    };\n    var highlight = function (component, hConfig, hState, target) {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element, hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight$1());\n      }\n    };\n    var highlightFirst = function (component, hConfig, hState) {\n      getFirst(component, hConfig).each(function (firstComp) {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    var highlightLast = function (component, hConfig, hState) {\n      getLast(component, hConfig).each(function (lastComp) {\n        highlight(component, hConfig, hState, lastComp);\n      });\n    };\n    var highlightAt = function (component, hConfig, hState, index) {\n      getByIndex(component, hConfig, hState, index).fold(function (err) {\n        throw err;\n      }, function (firstComp) {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    var highlightBy = function (component, hConfig, hState, predicate) {\n      var candidates = getCandidates(component, hConfig);\n      var targetComp = find$5(candidates, predicate);\n      targetComp.each(function (c) {\n        highlight(component, hConfig, hState, c);\n      });\n    };\n    var isHighlighted = function (component, hConfig, hState, queryTarget) {\n      return has(queryTarget.element, hConfig.highlightClass);\n    };\n    var getHighlighted = function (component, hConfig, _hState) {\n      return descendant(component.element, '.' + hConfig.highlightClass).bind(function (e) {\n        return component.getSystem().getByDom(e).toOptional();\n      });\n    };\n    var getByIndex = function (component, hConfig, hState, index) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      return Optional.from(items[index]).fold(function () {\n        return Result.error(new Error('No element found with index ' + index));\n      }, component.getSystem().getByDom);\n    };\n    var getFirst = function (component, hConfig, _hState) {\n      return descendant(component.element, '.' + hConfig.itemClass).bind(function (e) {\n        return component.getSystem().getByDom(e).toOptional();\n      });\n    };\n    var getLast = function (component, hConfig, _hState) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      var last = items.length > 0 ? Optional.some(items[items.length - 1]) : Optional.none();\n      return last.bind(function (c) {\n        return component.getSystem().getByDom(c).toOptional();\n      });\n    };\n    var getDelta$2 = function (component, hConfig, hState, delta) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      var current = findIndex$1(items, function (item) {\n        return has(item, hConfig.highlightClass);\n      });\n      return current.bind(function (selected) {\n        var dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOptional();\n      });\n    };\n    var getPrevious = function (component, hConfig, hState) {\n      return getDelta$2(component, hConfig, hState, -1);\n    };\n    var getNext = function (component, hConfig, hState) {\n      return getDelta$2(component, hConfig, hState, +1);\n    };\n    var getCandidates = function (component, hConfig, _hState) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      return cat(map$2(items, function (i) {\n        return component.getSystem().getByDom(i).toOptional();\n      }));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight,\n        highlight: highlight,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      required$1('highlightClass'),\n      required$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    var Highlighting = create$8({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    var BACKSPACE = [8];\n    var TAB = [9];\n    var ENTER = [13];\n    var ESCAPE = [27];\n    var SPACE = [32];\n    var LEFT = [37];\n    var UP = [38];\n    var RIGHT = [39];\n    var DOWN = [40];\n\n    var cyclePrev = function (values, index, predicate) {\n      var before = reverse(values.slice(0, index));\n      var after = reverse(values.slice(index + 1));\n      return find$5(before.concat(after), predicate);\n    };\n    var tryPrev = function (values, index, predicate) {\n      var before = reverse(values.slice(0, index));\n      return find$5(before, predicate);\n    };\n    var cycleNext = function (values, index, predicate) {\n      var before = values.slice(0, index);\n      var after = values.slice(index + 1);\n      return find$5(after.concat(before), predicate);\n    };\n    var tryNext = function (values, index, predicate) {\n      var after = values.slice(index + 1);\n      return find$5(after, predicate);\n    };\n\n    var inSet = function (keys) {\n      return function (event) {\n        var raw = event.raw;\n        return contains$2(keys, raw.which);\n      };\n    };\n    var and = function (preds) {\n      return function (event) {\n        return forall(preds, function (pred) {\n          return pred(event);\n        });\n      };\n    };\n    var isShift = function (event) {\n      var raw = event.raw;\n      return raw.shiftKey === true;\n    };\n    var isControl = function (event) {\n      var raw = event.raw;\n      return raw.ctrlKey === true;\n    };\n    var isNotShift = not(isShift);\n\n    var rule = function (matches, action) {\n      return {\n        matches: matches,\n        classification: action\n      };\n    };\n    var choose = function (transitions, event) {\n      var transition = find$5(transitions, function (t) {\n        return t.matches(event);\n      });\n      return transition.map(function (t) {\n        return t.classification;\n      });\n    };\n\n    var reportFocusShifting = function (component, prevFocus, newFocus) {\n      var noChange = prevFocus.exists(function (p) {\n        return newFocus.exists(function (n) {\n          return eq(n, p);\n        });\n      });\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus: prevFocus,\n          newFocus: newFocus\n        });\n      }\n    };\n    var dom$2 = function () {\n      var get = function (component) {\n        return search(component.element);\n      };\n      var set = function (component, focusee) {\n        var prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element);\n        var newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n    var highlights = function () {\n      var get = function (component) {\n        return Highlighting.getHighlighted(component).map(function (item) {\n          return item.element;\n        });\n      };\n      var set = function (component, element) {\n        var prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, function (item) {\n          Highlighting.highlight(component, item);\n        });\n        var newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    var typical = function (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) {\n      var schema = function () {\n        return infoSchema.concat([\n          defaulted('focusManager', dom$2()),\n          defaultedOf('focusInside', 'onFocus', valueOf(function (val) {\n            return contains$2([\n              'onFocus',\n              'onEnterOrSpace',\n              'onApi'\n            ], val) ? Result.value(val) : Result.error('Invalid value for focusInside');\n          })),\n          output$1('handler', me),\n          output$1('state', stateInit),\n          output$1('sendFocusIn', optFocusIn)\n        ]);\n      };\n      var processKey = function (component, simulatedEvent, getRules, keyingConfig, keyingState) {\n        var rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose(rules, simulatedEvent.event).bind(function (rule) {\n          return rule(component, simulatedEvent, keyingConfig, keyingState);\n        });\n      };\n      var toEvents = function (keyingConfig, keyingState) {\n        var onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Optional.none() : optFocusIn(keyingConfig).map(function (focusIn) {\n          return run$1(focus$4(), function (component, simulatedEvent) {\n            focusIn(component, keyingConfig, keyingState);\n            simulatedEvent.stop();\n          });\n        });\n        var tryGoInsideComponent = function (component, simulatedEvent) {\n          var isEnterOrSpace = inSet(SPACE.concat(ENTER))(simulatedEvent.event);\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(function (focusIn) {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        var keyboardEvents = [\n          run$1(keydown(), function (component, simulatedEvent) {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(function () {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, function (_) {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(keyup(), function (component, simulatedEvent) {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(function (_) {\n              simulatedEvent.stop();\n            });\n          })\n        ];\n        return derive$2(onFocusHandler.toArray().concat(keyboardEvents));\n      };\n      var me = {\n        schema: schema,\n        processKey: processKey,\n        toEvents: toEvents\n      };\n      return me;\n    };\n\n    var create$6 = function (cyclicField) {\n      var schema = [\n        option('onEscape'),\n        option('onEnter'),\n        defaulted('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted('firstTabstop', 0),\n        defaulted('useTabstopAt', always),\n        option('visibilitySelector')\n      ].concat([cyclicField]);\n      var isVisible = function (tabbingConfig, element) {\n        var target = tabbingConfig.visibilitySelector.bind(function (sel) {\n          return closest$1(element, sel);\n        }).getOr(element);\n        return get$b(target) > 0;\n      };\n      var findInitial = function (component, tabbingConfig) {\n        var tabstops = descendants(component.element, tabbingConfig.selector);\n        var visibles = filter$2(tabstops, function (elem) {\n          return isVisible(tabbingConfig, elem);\n        });\n        return Optional.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      var findCurrent = function (component, tabbingConfig) {\n        return tabbingConfig.focusManager.get(component).bind(function (elem) {\n          return closest$1(elem, tabbingConfig.selector);\n        });\n      };\n      var isTabstop = function (tabbingConfig, element) {\n        return isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      };\n      var focusIn = function (component, tabbingConfig, _tabbingState) {\n        findInitial(component, tabbingConfig).each(function (target) {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      var goFromTabstop = function (component, tabstops, stopIndex, tabbingConfig, cycle) {\n        return cycle(tabstops, stopIndex, function (elem) {\n          return isTabstop(tabbingConfig, elem);\n        }).fold(function () {\n          return tabbingConfig.cyclic ? Optional.some(true) : Optional.none();\n        }, function (target) {\n          tabbingConfig.focusManager.set(component, target);\n          return Optional.some(true);\n        });\n      };\n      var go = function (component, _simulatedEvent, tabbingConfig, cycle) {\n        var tabstops = descendants(component.element, tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(function (tabstop) {\n          var optStopIndex = findIndex$1(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(function (stopIndex) {\n            return goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle);\n          });\n        });\n      };\n      var goBackwards = function (component, simulatedEvent, tabbingConfig) {\n        var navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      var goForwards = function (component, simulatedEvent, tabbingConfig) {\n        var navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      var execute = function (component, simulatedEvent, tabbingConfig) {\n        return tabbingConfig.onEnter.bind(function (f) {\n          return f(component, simulatedEvent);\n        });\n      };\n      var exit = function (component, simulatedEvent, tabbingConfig) {\n        return tabbingConfig.onEscape.bind(function (f) {\n          return f(component, simulatedEvent);\n        });\n      };\n      var getKeydownRules = constant$1([\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), goBackwards),\n        rule(inSet(TAB), goForwards),\n        rule(inSet(ESCAPE), exit),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), execute)\n      ]);\n      var getKeyupRules = constant$1([]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, function () {\n        return Optional.some(focusIn);\n      });\n    };\n\n    var AcyclicType = create$6(customField('cyclic', never));\n\n    var CyclicType = create$6(customField('cyclic', always));\n\n    var doDefaultExecute = function (component, _simulatedEvent, focused) {\n      dispatch(component, focused, execute$5());\n      return Optional.some(true);\n    };\n    var defaultExecute = function (component, simulatedEvent, focused) {\n      var isComplex = inside(focused) && inSet(SPACE)(simulatedEvent.event);\n      return isComplex ? Optional.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    var stopEventForFirefox = function (_component, _simulatedEvent) {\n      return Optional.some(true);\n    };\n\n    var schema$v = [\n      defaulted('execute', defaultExecute),\n      defaulted('useSpace', false),\n      defaulted('useEnter', true),\n      defaulted('useControlEnter', false),\n      defaulted('useDown', false)\n    ];\n    var execute$4 = function (component, simulatedEvent, executeConfig) {\n      return executeConfig.execute(component, simulatedEvent, component.element);\n    };\n    var getKeydownRules$5 = function (component, _simulatedEvent, executeConfig, _executeState) {\n      var spaceExec = executeConfig.useSpace && !inside(component.element) ? SPACE : [];\n      var enterExec = executeConfig.useEnter ? ENTER : [];\n      var downExec = executeConfig.useDown ? DOWN : [];\n      var execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$4)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER)\n        ]), execute$4)] : []);\n    };\n    var getKeyupRules$5 = function (component, _simulatedEvent, executeConfig, _executeState) {\n      return executeConfig.useSpace && !inside(component.element) ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    };\n    var ExecutionType = typical(schema$v, NoState.init, getKeydownRules$5, getKeyupRules$5, function () {\n      return Optional.none();\n    });\n\n    var flatgrid$1 = function () {\n      var dimensions = value$1();\n      var setGridSize = function (numRows, numColumns) {\n        dimensions.set({\n          numRows: numRows,\n          numColumns: numColumns\n        });\n      };\n      var getNumRows = function () {\n        return dimensions.get().map(function (d) {\n          return d.numRows;\n        });\n      };\n      var getNumColumns = function () {\n        return dimensions.get().map(function (d) {\n          return d.numColumns;\n        });\n      };\n      return nu$8({\n        readState: function () {\n          return dimensions.get().map(function (d) {\n            return {\n              numRows: String(d.numRows),\n              numColumns: String(d.numColumns)\n            };\n          }).getOr({\n            numRows: '?',\n            numColumns: '?'\n          });\n        },\n        setGridSize: setGridSize,\n        getNumRows: getNumRows,\n        getNumColumns: getNumColumns\n      });\n    };\n    var init$d = function (spec) {\n      return spec.state(spec);\n    };\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        flatgrid: flatgrid$1,\n        init: init$d\n    });\n\n    var useH = function (movement) {\n      return function (component, simulatedEvent, config, state) {\n        var move = movement(component.element);\n        return use(move, component, simulatedEvent, config, state);\n      };\n    };\n    var west$1 = function (moveLeft, moveRight) {\n      var movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    var east$1 = function (moveLeft, moveRight) {\n      var movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    var useV = function (move) {\n      return function (component, simulatedEvent, config, state) {\n        return use(move, component, simulatedEvent, config, state);\n      };\n    };\n    var use = function (move, component, simulatedEvent, config, state) {\n      var outcome = config.focusManager.get(component).bind(function (focused) {\n        return move(component.element, focused, config, state);\n      });\n      return outcome.map(function (newFocus) {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    var north$1 = useV;\n    var south$1 = useV;\n    var move$1 = useV;\n\n    var isHidden$1 = function (dom) {\n      return dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    };\n    var isVisible = function (element) {\n      return !isHidden$1(element.dom);\n    };\n\n    var locate = function (candidates, predicate) {\n      return findIndex$1(candidates, predicate).map(function (index) {\n        return {\n          index: index,\n          candidates: candidates\n        };\n      });\n    };\n\n    var locateVisible = function (container, current, selector) {\n      var predicate = function (x) {\n        return eq(x, current);\n      };\n      var candidates = descendants(container, selector);\n      var visible = filter$2(candidates, isVisible);\n      return locate(visible, predicate);\n    };\n    var findIndex = function (elements, target) {\n      return findIndex$1(elements, function (elem) {\n        return eq(target, elem);\n      });\n    };\n\n    var withGrid = function (values, index, numCols, f) {\n      var oldRow = Math.floor(index / numCols);\n      var oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(function (address) {\n        var newIndex = address.row * numCols + address.column;\n        return newIndex >= 0 && newIndex < values.length ? Optional.some(values[newIndex]) : Optional.none();\n      });\n    };\n    var cycleHorizontal$1 = function (values, index, numRows, numCols, delta) {\n      return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n        var onLastRow = oldRow === numRows - 1;\n        var colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n        var newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n        return Optional.some({\n          row: oldRow,\n          column: newColumn\n        });\n      });\n    };\n    var cycleVertical$1 = function (values, index, numRows, numCols, delta) {\n      return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n        var newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n        var onLastRow = newRow === numRows - 1;\n        var colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n        var newCol = clamp$1(oldColumn, 0, colsInRow - 1);\n        return Optional.some({\n          row: newRow,\n          column: newCol\n        });\n      });\n    };\n    var cycleRight$1 = function (values, index, numRows, numCols) {\n      return cycleHorizontal$1(values, index, numRows, numCols, +1);\n    };\n    var cycleLeft$1 = function (values, index, numRows, numCols) {\n      return cycleHorizontal$1(values, index, numRows, numCols, -1);\n    };\n    var cycleUp$1 = function (values, index, numRows, numCols) {\n      return cycleVertical$1(values, index, numRows, numCols, -1);\n    };\n    var cycleDown$1 = function (values, index, numRows, numCols) {\n      return cycleVertical$1(values, index, numRows, numCols, +1);\n    };\n\n    var schema$u = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('captureTab', false),\n      initSize()\n    ];\n    var focusIn$3 = function (component, gridConfig, _gridState) {\n      descendant(component.element, gridConfig.selector).each(function (first) {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    var findCurrent$1 = function (component, gridConfig) {\n      return gridConfig.focusManager.get(component).bind(function (elem) {\n        return closest$1(elem, gridConfig.selector);\n      });\n    };\n    var execute$3 = function (component, simulatedEvent, gridConfig, _gridState) {\n      return findCurrent$1(component, gridConfig).bind(function (focused) {\n        return gridConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var doMove$2 = function (cycle) {\n      return function (element, focused, gridConfig, gridState) {\n        return locateVisible(element, focused, gridConfig.selector).bind(function (identified) {\n          return cycle(identified.candidates, identified.index, gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns));\n        });\n      };\n    };\n    var handleTab = function (_component, _simulatedEvent, gridConfig) {\n      return gridConfig.captureTab ? Optional.some(true) : Optional.none();\n    };\n    var doEscape$1 = function (component, simulatedEvent, gridConfig) {\n      return gridConfig.onEscape(component, simulatedEvent);\n    };\n    var moveLeft$3 = doMove$2(cycleLeft$1);\n    var moveRight$3 = doMove$2(cycleRight$1);\n    var moveNorth$1 = doMove$2(cycleUp$1);\n    var moveSouth$1 = doMove$2(cycleDown$1);\n    var getKeydownRules$4 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT), east$1(moveLeft$3, moveRight$3)),\n      rule(inSet(UP), north$1(moveNorth$1)),\n      rule(inSet(DOWN), south$1(moveSouth$1)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(inSet(ESCAPE), doEscape$1),\n      rule(inSet(SPACE.concat(ENTER)), execute$3)\n    ]);\n    var getKeyupRules$4 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var FlatgridType = typical(schema$u, flatgrid$1, getKeydownRules$4, getKeyupRules$4, function () {\n      return Optional.some(focusIn$3);\n    });\n\n    var horizontal = function (container, selector, current, delta) {\n      var isDisabledButton = function (candidate) {\n        return name$2(candidate) === 'button' && get$d(candidate, 'disabled') === 'disabled';\n      };\n      var tryCycle = function (initial, index, candidates) {\n        var newIndex = cycleBy(index, delta, 0, candidates.length - 1);\n        if (newIndex === initial) {\n          return Optional.none();\n        } else {\n          return isDisabledButton(candidates[newIndex]) ? tryCycle(initial, newIndex, candidates) : Optional.from(candidates[newIndex]);\n        }\n      };\n      return locateVisible(container, current, selector).bind(function (identified) {\n        var index = identified.index;\n        var candidates = identified.candidates;\n        return tryCycle(index, index, candidates);\n      });\n    };\n\n    var schema$t = [\n      required$1('selector'),\n      defaulted('getInitial', Optional.none),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('executeOnMove', false),\n      defaulted('allowVertical', true)\n    ];\n    var findCurrent = function (component, flowConfig) {\n      return flowConfig.focusManager.get(component).bind(function (elem) {\n        return closest$1(elem, flowConfig.selector);\n      });\n    };\n    var execute$2 = function (component, simulatedEvent, flowConfig) {\n      return findCurrent(component, flowConfig).bind(function (focused) {\n        return flowConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var focusIn$2 = function (component, flowConfig, _state) {\n      flowConfig.getInitial(component).orThunk(function () {\n        return descendant(component.element, flowConfig.selector);\n      }).each(function (first) {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    var moveLeft$2 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, -1);\n    };\n    var moveRight$2 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, +1);\n    };\n    var doMove$1 = function (movement) {\n      return function (component, simulatedEvent, flowConfig, flowState) {\n        return movement(component, simulatedEvent, flowConfig, flowState).bind(function () {\n          return flowConfig.executeOnMove ? execute$2(component, simulatedEvent, flowConfig) : Optional.some(true);\n        });\n      };\n    };\n    var doEscape = function (component, simulatedEvent, flowConfig) {\n      return flowConfig.onEscape(component, simulatedEvent);\n    };\n    var getKeydownRules$3 = function (_component, _se, flowConfig, _flowState) {\n      var westMovers = LEFT.concat(flowConfig.allowVertical ? UP : []);\n      var eastMovers = RIGHT.concat(flowConfig.allowVertical ? DOWN : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$1(moveLeft$2, moveRight$2))),\n        rule(inSet(eastMovers), doMove$1(east$1(moveLeft$2, moveRight$2))),\n        rule(inSet(ENTER), execute$2),\n        rule(inSet(SPACE), execute$2),\n        rule(inSet(ESCAPE), doEscape)\n      ];\n    };\n    var getKeyupRules$3 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var FlowType = typical(schema$t, NoState.init, getKeydownRules$3, getKeyupRules$3, function () {\n      return Optional.some(focusIn$2);\n    });\n\n    var toCell = function (matrix, rowIndex, columnIndex) {\n      return Optional.from(matrix[rowIndex]).bind(function (row) {\n        return Optional.from(row[columnIndex]).map(function (cell) {\n          return {\n            rowIndex: rowIndex,\n            columnIndex: columnIndex,\n            cell: cell\n          };\n        });\n      });\n    };\n    var cycleHorizontal = function (matrix, rowIndex, startCol, deltaCol) {\n      var row = matrix[rowIndex];\n      var colsInRow = row.length;\n      var newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    var cycleVertical = function (matrix, colIndex, startRow, deltaRow) {\n      var nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      var colsInNextRow = matrix[nextRowIndex].length;\n      var nextColIndex = clamp$1(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    var moveHorizontal = function (matrix, rowIndex, startCol, deltaCol) {\n      var row = matrix[rowIndex];\n      var colsInRow = row.length;\n      var newColIndex = clamp$1(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    var moveVertical = function (matrix, colIndex, startRow, deltaRow) {\n      var nextRowIndex = clamp$1(startRow + deltaRow, 0, matrix.length - 1);\n      var colsInNextRow = matrix[nextRowIndex].length;\n      var nextColIndex = clamp$1(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    var cycleRight = function (matrix, startRow, startCol) {\n      return cycleHorizontal(matrix, startRow, startCol, +1);\n    };\n    var cycleLeft = function (matrix, startRow, startCol) {\n      return cycleHorizontal(matrix, startRow, startCol, -1);\n    };\n    var cycleUp = function (matrix, startRow, startCol) {\n      return cycleVertical(matrix, startCol, startRow, -1);\n    };\n    var cycleDown = function (matrix, startRow, startCol) {\n      return cycleVertical(matrix, startCol, startRow, +1);\n    };\n    var moveLeft$1 = function (matrix, startRow, startCol) {\n      return moveHorizontal(matrix, startRow, startCol, -1);\n    };\n    var moveRight$1 = function (matrix, startRow, startCol) {\n      return moveHorizontal(matrix, startRow, startCol, +1);\n    };\n    var moveUp$1 = function (matrix, startRow, startCol) {\n      return moveVertical(matrix, startCol, startRow, -1);\n    };\n    var moveDown$1 = function (matrix, startRow, startCol) {\n      return moveVertical(matrix, startCol, startRow, +1);\n    };\n\n    var schema$s = [\n      requiredObjOf('selectors', [\n        required$1('row'),\n        required$1('cell')\n      ]),\n      defaulted('cycles', true),\n      defaulted('previousSelector', Optional.none),\n      defaulted('execute', defaultExecute)\n    ];\n    var focusIn$1 = function (component, matrixConfig, _state) {\n      var focused = matrixConfig.previousSelector(component).orThunk(function () {\n        var selectors = matrixConfig.selectors;\n        return descendant(component.element, selectors.cell);\n      });\n      focused.each(function (cell) {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    var execute$1 = function (component, simulatedEvent, matrixConfig) {\n      return search(component.element).bind(function (focused) {\n        return matrixConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var toMatrix = function (rows, matrixConfig) {\n      return map$2(rows, function (row) {\n        return descendants(row, matrixConfig.selectors.cell);\n      });\n    };\n    var doMove = function (ifCycle, ifMove) {\n      return function (element, focused, matrixConfig) {\n        var move = matrixConfig.cycles ? ifCycle : ifMove;\n        return closest$1(focused, matrixConfig.selectors.row).bind(function (inRow) {\n          var cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n          return findIndex(cellsInRow, focused).bind(function (colIndex) {\n            var allRows = descendants(element, matrixConfig.selectors.row);\n            return findIndex(allRows, inRow).bind(function (rowIndex) {\n              var matrix = toMatrix(allRows, matrixConfig);\n              return move(matrix, rowIndex, colIndex).map(function (next) {\n                return next.cell;\n              });\n            });\n          });\n        });\n      };\n    };\n    var moveLeft = doMove(cycleLeft, moveLeft$1);\n    var moveRight = doMove(cycleRight, moveRight$1);\n    var moveNorth = doMove(cycleUp, moveUp$1);\n    var moveSouth = doMove(cycleDown, moveDown$1);\n    var getKeydownRules$2 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft, moveRight)),\n      rule(inSet(RIGHT), east$1(moveLeft, moveRight)),\n      rule(inSet(UP), north$1(moveNorth)),\n      rule(inSet(DOWN), south$1(moveSouth)),\n      rule(inSet(SPACE.concat(ENTER)), execute$1)\n    ]);\n    var getKeyupRules$2 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MatrixType = typical(schema$s, NoState.init, getKeydownRules$2, getKeyupRules$2, function () {\n      return Optional.some(focusIn$1);\n    });\n\n    var schema$r = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      defaulted('moveOnTab', false)\n    ];\n    var execute = function (component, simulatedEvent, menuConfig) {\n      return menuConfig.focusManager.get(component).bind(function (focused) {\n        return menuConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var focusIn = function (component, menuConfig, _state) {\n      descendant(component.element, menuConfig.selector).each(function (first) {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    var moveUp = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, -1);\n    };\n    var moveDown = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, +1);\n    };\n    var fireShiftTab = function (component, simulatedEvent, menuConfig, menuState) {\n      return menuConfig.moveOnTab ? move$1(moveUp)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    };\n    var fireTab = function (component, simulatedEvent, menuConfig, menuState) {\n      return menuConfig.moveOnTab ? move$1(moveDown)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    };\n    var getKeydownRules$1 = constant$1([\n      rule(inSet(UP), move$1(moveUp)),\n      rule(inSet(DOWN), move$1(moveDown)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), fireTab),\n      rule(inSet(ENTER), execute),\n      rule(inSet(SPACE), execute)\n    ]);\n    var getKeyupRules$1 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MenuType = typical(schema$r, NoState.init, getKeydownRules$1, getKeyupRules$1, function () {\n      return Optional.some(focusIn);\n    });\n\n    var schema$q = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted('stopSpaceKeyup', false),\n      option('focusIn')\n    ];\n    var getKeydownRules = function (component, simulatedEvent, specialInfo) {\n      return [\n        rule(inSet(SPACE), specialInfo.onSpace),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), specialInfo.onEnter),\n        rule(and([\n          isShift,\n          inSet(ENTER)\n        ]), specialInfo.onShiftEnter),\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), specialInfo.onShiftTab),\n        rule(and([\n          isNotShift,\n          inSet(TAB)\n        ]), specialInfo.onTab),\n        rule(inSet(UP), specialInfo.onUp),\n        rule(inSet(DOWN), specialInfo.onDown),\n        rule(inSet(LEFT), specialInfo.onLeft),\n        rule(inSet(RIGHT), specialInfo.onRight),\n        rule(inSet(SPACE), specialInfo.onSpace),\n        rule(inSet(ESCAPE), specialInfo.onEscape)\n      ];\n    };\n    var getKeyupRules = function (component, simulatedEvent, specialInfo) {\n      return specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    };\n    var SpecialType = typical(schema$q, NoState.init, getKeydownRules, getKeyupRules, function (specialInfo) {\n      return specialInfo.focusIn;\n    });\n\n    var acyclic = AcyclicType.schema();\n    var cyclic = CyclicType.schema();\n    var flow = FlowType.schema();\n    var flatgrid = FlatgridType.schema();\n    var matrix = MatrixType.schema();\n    var execution = ExecutionType.schema();\n    var menu = MenuType.schema();\n    var special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    var isFlatgridState = function (keyState) {\n      return hasNonNullableKey(keyState, 'setGridSize');\n    };\n    var Keying = createModes({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: function (keyingConfig, keyingState) {\n          var handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: function (component, keyConfig, keyState) {\n          keyConfig.sendFocusIn(keyConfig).fold(function () {\n            component.getSystem().triggerFocus(component.element, component.element);\n          }, function (sendFocusIn) {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: function (component, keyConfig, keyState, numRows, numColumns) {\n          if (!isFlatgridState(keyState)) {\n            console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    var set$2 = function (component, replaceConfig, replaceState, data) {\n      preserve$1(function () {\n        var newChildren = map$2(data, component.getSystem().build);\n        replaceChildren(component, newChildren);\n      }, component.element);\n    };\n    var insert = function (component, replaceConfig, insertion, childSpec) {\n      var child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    var append = function (component, replaceConfig, replaceState, appendee) {\n      insert(component, replaceConfig, append$2, appendee);\n    };\n    var prepend = function (component, replaceConfig, replaceState, prependee) {\n      insert(component, replaceConfig, prepend$1, prependee);\n    };\n    var remove = function (component, replaceConfig, replaceState, removee) {\n      var children = contents(component);\n      var foundChild = find$5(children, function (child) {\n        return eq(removee.element, child.element);\n      });\n      foundChild.each(detach);\n    };\n    var contents = function (component, _replaceConfig) {\n      return component.components();\n    };\n    var replaceAt = function (component, replaceConfig, replaceState, replaceeIndex, replacer) {\n      var children = contents(component);\n      return Optional.from(children[replaceeIndex]).map(function (replacee) {\n        remove(component, replaceConfig, replaceState, replacee);\n        replacer.each(function (r) {\n          insert(component, replaceConfig, function (p, c) {\n            appendAt(p, c, replaceeIndex);\n          }, r);\n        });\n        return replacee;\n      });\n    };\n    var replaceBy = function (component, replaceConfig, replaceState, replaceePred, replacer) {\n      var children = contents(component);\n      return findIndex$1(children, replaceePred).bind(function (replaceeIndex) {\n        return replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer);\n      });\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        append: append,\n        prepend: prepend,\n        remove: remove,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$2,\n        contents: contents\n    });\n\n    var Replacing = create$8({\n      fields: [],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    var events$d = function (name, eventHandlers) {\n      var events = derive$2(eventHandlers);\n      return create$8({\n        fields: [required$1('enabled')],\n        name: name,\n        active: { events: constant$1(events) }\n      });\n    };\n    var config = function (name, eventHandlers) {\n      var me = events$d(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me: me,\n          configAsRaw: constant$1({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    var focus$2 = function (component, focusConfig) {\n      if (!focusConfig.ignore) {\n        focus$3(component.element);\n        focusConfig.onFocus(component);\n      }\n    };\n    var blur = function (component, focusConfig) {\n      if (!focusConfig.ignore) {\n        blur$1(component.element);\n      }\n    };\n    var isFocused = function (component) {\n      return hasFocus(component.element);\n    };\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        focus: focus$2,\n        blur: blur,\n        isFocused: isFocused\n    });\n\n    var exhibit$4 = function (base, focusConfig) {\n      var mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$7(mod);\n    };\n    var events$c = function (focusConfig) {\n      return derive$2([run$1(focus$4(), function (component, simulatedEvent) {\n          focus$2(component, focusConfig);\n          simulatedEvent.stop();\n        })].concat(focusConfig.stopMousedown ? [run$1(mousedown(), function (_, simulatedEvent) {\n          simulatedEvent.event.prevent();\n        })] : []));\n    };\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$4,\n        events: events$c\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted('stopMousedown', false),\n      defaulted('ignore', false)\n    ];\n\n    var Focusing = create$8({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    var SetupBehaviourCellState = function (initialState) {\n      var init = function () {\n        var cell = Cell(initialState);\n        var get = function () {\n          return cell.get();\n        };\n        var set = function (newState) {\n          return cell.set(newState);\n        };\n        var clear = function () {\n          return cell.set(initialState);\n        };\n        var readState = function () {\n          return cell.get();\n        };\n        return {\n          get: get,\n          set: set,\n          clear: clear,\n          readState: readState\n        };\n      };\n      return { init: init };\n    };\n\n    var updateAriaState = function (component, toggleConfig, toggleState) {\n      var ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    var updateClass = function (component, toggleConfig, toggleState) {\n      toggleConfig.toggleClass.each(function (toggleClass) {\n        if (toggleState.get()) {\n          add$2(component.element, toggleClass);\n        } else {\n          remove$2(component.element, toggleClass);\n        }\n      });\n    };\n    var toggle$2 = function (component, toggleConfig, toggleState) {\n      set$1(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    var on = function (component, toggleConfig, toggleState) {\n      toggleState.set(true);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    var off = function (component, toggleConfig, toggleState) {\n      toggleState.set(false);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    var set$1 = function (component, toggleConfig, toggleState, state) {\n      var action = state ? on : off;\n      action(component, toggleConfig, toggleState);\n    };\n    var isOn = function (component, toggleConfig, toggleState) {\n      return toggleState.get();\n    };\n    var onLoad = function (component, toggleConfig, toggleState) {\n      set$1(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad,\n        toggle: toggle$2,\n        isOn: isOn,\n        on: on,\n        off: off,\n        set: set$1\n    });\n\n    var exhibit$3 = function () {\n      return nu$7({});\n    };\n    var events$b = function (toggleConfig, toggleState) {\n      var execute = executeEvent(toggleConfig, toggleState, toggle$2);\n      var load = loadEvent(toggleConfig, toggleState, onLoad);\n      return derive$2(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$3,\n        events: events$b\n    });\n\n    var updatePressed = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    var updateSelected = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-selected', status);\n    };\n    var updateChecked = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-checked', status);\n    };\n    var updateExpanded = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted('selected', false),\n      option('toggleClass'),\n      defaulted('toggleOnExecute', true),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted('syncWithExpanded', false),\n          output$1('update', updatePressed)\n        ],\n        checked: [output$1('update', updateChecked)],\n        expanded: [output$1('update', updateExpanded)],\n        selected: [output$1('update', updateSelected)],\n        none: [output$1('update', noop)]\n      }))\n    ];\n\n    var Toggling = create$8({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    var pointerEvents = function () {\n      var onClick = function (component, simulatedEvent) {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      return [\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        cutter(touchstart()),\n        cutter(mousedown())\n      ];\n    };\n    var events$a = function (optAction) {\n      var executeHandler = function (action) {\n        return runOnExecute$1(function (component, simulatedEvent) {\n          action(component);\n          simulatedEvent.stop();\n        });\n      };\n      return derive$2(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents()\n      ]));\n    };\n\n    var hoverEvent = 'alloy.item-hover';\n    var focusEvent = 'alloy.item-focus';\n    var onHover = function (item) {\n      if (search(item.element).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item: item });\n      }\n    };\n    var onFocus$1 = function (item) {\n      emitWith(item, focusEvent, { item: item });\n    };\n    var hover = constant$1(hoverEvent);\n    var focus$1 = constant$1(focusEvent);\n\n    var builder$2 = function (detail) {\n      return {\n        dom: detail.dom,\n        domModification: __assign(__assign({}, detail.domModification), { attributes: __assign(__assign(__assign({ 'role': detail.toggling.isSome() ? 'menuitemcheckbox' : 'menuitem' }, detail.domModification.attributes), { 'aria-haspopup': detail.hasSubmenu }), detail.hasSubmenu ? { 'aria-expanded': false } : {}) }),\n        behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n          detail.toggling.fold(Toggling.revoke, function (tConfig) {\n            return Toggling.config(__assign({ aria: { mode: 'checked' } }, tConfig));\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            stopMousedown: detail.ignoreFocus,\n            onFocus: function (component) {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({ mode: 'execution' }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          config('item-type-events', __spreadArray(__spreadArray([], pointerEvents(), true), [\n            run$1(mouseover(), onHover),\n            run$1(focusItem(), Focusing.focus)\n          ], false))\n        ]),\n        components: detail.components,\n        eventOrder: detail.eventOrder\n      };\n    };\n    var schema$p = [\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('hasSubmenu', false),\n      option('toggling'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted('ignoreFocus', false),\n      defaulted('domModification', {}),\n      output$1('builder', builder$2),\n      defaulted('eventOrder', {})\n    ];\n\n    var builder$1 = function (detail) {\n      return {\n        dom: detail.dom,\n        components: detail.components,\n        events: derive$2([stopper(focusItem())])\n      };\n    };\n    var schema$o = [\n      required$1('dom'),\n      required$1('components'),\n      output$1('builder', builder$1)\n    ];\n\n    var owner$2 = constant$1('item-widget');\n    var parts$h = constant$1([required({\n        name: 'widget',\n        overrides: function (detail) {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: function (_component) {\n                    return detail.data;\n                  },\n                  setValue: noop\n                }\n              })])\n          };\n        }\n      })]);\n\n    var builder = function (detail) {\n      var subs = substitutes(owner$2(), detail, parts$h());\n      var components = components$1(owner$2(), detail, subs.internals());\n      var focusWidget = function (component) {\n        return getPart(component, detail, 'widget').map(function (widget) {\n          Keying.focusIn(widget);\n          return widget;\n        });\n      };\n      var onHorizontalArrow = function (component, simulatedEvent) {\n        return inside(simulatedEvent.event.target) ? Optional.none() : function () {\n          if (detail.autofocus) {\n            simulatedEvent.setSource(component.element);\n            return Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }();\n      };\n      return {\n        dom: detail.dom,\n        components: components,\n        domModification: detail.domModification,\n        events: derive$2([\n          runOnExecute$1(function (component, simulatedEvent) {\n            focusWidget(component).each(function (_widget) {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), function (component, _simulatedEvent) {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: function (component) {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? function (component) {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: function (component, simulatedEvent) {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Optional.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element);\n                return Optional.none();\n              } else {\n                return Optional.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    var schema$n = [\n      required$1('uid'),\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('autofocus', false),\n      defaulted('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted('domModification', {}),\n      defaultUidsSchema(parts$h()),\n      output$1('builder', builder)\n    ];\n\n    var itemSchema$2 = choose$1('type', {\n      widget: schema$n,\n      item: schema$p,\n      separator: schema$o\n    });\n    var configureGrid = function (detail, movementInfo) {\n      return {\n        mode: 'flatgrid',\n        selector: '.' + detail.markers.item,\n        initSize: {\n          numColumns: movementInfo.initSize.numColumns,\n          numRows: movementInfo.initSize.numRows\n        },\n        focusManager: detail.focusManager\n      };\n    };\n    var configureMatrix = function (detail, movementInfo) {\n      return {\n        mode: 'matrix',\n        selectors: {\n          row: movementInfo.rowSelector,\n          cell: '.' + detail.markers.item\n        },\n        focusManager: detail.focusManager\n      };\n    };\n    var configureMenu = function (detail, movementInfo) {\n      return {\n        mode: 'menu',\n        selector: '.' + detail.markers.item,\n        moveOnTab: movementInfo.moveOnTab,\n        focusManager: detail.focusManager\n      };\n    };\n    var parts$g = constant$1([group({\n        factory: {\n          sketch: function (spec) {\n            var itemInfo = asRawOrDie$1('menu.spec item', itemSchema$2, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: function (detail, u) {\n          return has$2(u, 'uid') ? u : __assign(__assign({}, u), { uid: generate$5('item') });\n        },\n        overrides: function (detail, u) {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    var schema$m = constant$1([\n      required$1('value'),\n      required$1('items'),\n      required$1('dom'),\n      required$1('components'),\n      defaulted('eventOrder', {}),\n      field('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output$1('config', configureGrid)\n        ],\n        matrix: [\n          output$1('config', configureMatrix),\n          required$1('rowSelector')\n        ],\n        menu: [\n          defaulted('moveOnTab', true),\n          output$1('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted('fakeFocus', false),\n      defaulted('focusManager', dom$2()),\n      onHandler('onHighlight')\n    ]);\n\n    var focus = constant$1('alloy.menu-focus');\n\n    var make$7 = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.menuBehaviours, [\n          Highlighting.config({\n            highlightClass: detail.markers.selectedItem,\n            itemClass: detail.markers.item,\n            onHighlight: detail.onHighlight\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.value\n            }\n          }),\n          Composing.config({ find: Optional.some }),\n          Keying.config(detail.movement.config(detail, detail.movement))\n        ]),\n        events: derive$2([\n          run$1(focus$1(), function (menu, simulatedEvent) {\n            var event = simulatedEvent.event;\n            menu.getSystem().getByDom(event.target).each(function (item) {\n              Highlighting.highlight(menu, item);\n              simulatedEvent.stop();\n              emitWith(menu, focus(), {\n                menu: menu,\n                item: item\n              });\n            });\n          }),\n          run$1(hover(), function (menu, simulatedEvent) {\n            var item = simulatedEvent.event.item;\n            Highlighting.highlight(menu, item);\n          })\n        ]),\n        components: components,\n        eventOrder: detail.eventOrder,\n        domModification: { attributes: { role: 'menu' } }\n      };\n    };\n\n    var Menu = composite({\n      name: 'Menu',\n      configFields: schema$m(),\n      partFields: parts$g(),\n      factory: make$7\n    });\n\n    var transpose$1 = function (obj) {\n      return tupleMap(obj, function (v, k) {\n        return {\n          k: v,\n          v: k\n        };\n      });\n    };\n    var trace = function (items, byItem, byMenu, finish) {\n      return get$e(byMenu, finish).bind(function (triggerItem) {\n        return get$e(items, triggerItem).bind(function (triggerMenu) {\n          var rest = trace(items, byItem, byMenu, triggerMenu);\n          return Optional.some([triggerMenu].concat(rest));\n        });\n      }).getOr([]);\n    };\n    var generate$2 = function (menus, expansions) {\n      var items = {};\n      each(menus, function (menuItems, menu) {\n        each$1(menuItems, function (item) {\n          items[item] = menu;\n        });\n      });\n      var byItem = expansions;\n      var byMenu = transpose$1(expansions);\n      var menuPaths = map$1(byMenu, function (_triggerItem, submenu) {\n        return [submenu].concat(trace(items, byItem, byMenu, submenu));\n      });\n      return map$1(items, function (menu) {\n        return get$e(menuPaths, menu).getOr([menu]);\n      });\n    };\n\n    var init$c = function () {\n      var expansions = Cell({});\n      var menus = Cell({});\n      var paths = Cell({});\n      var primary = value$1();\n      var directory = Cell({});\n      var clear = function () {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.clear();\n      };\n      var isClear = function () {\n        return primary.get().isNone();\n      };\n      var setMenuBuilt = function (menuName, built) {\n        var _a;\n        menus.set(__assign(__assign({}, menus.get()), (_a = {}, _a[menuName] = {\n          type: 'prepared',\n          menu: built\n        }, _a)));\n      };\n      var setContents = function (sPrimary, sMenus, sExpansions, dir) {\n        primary.set(sPrimary);\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        var sPaths = generate$2(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      var getTriggeringItem = function (menuValue) {\n        return find$4(expansions.get(), function (v, _k) {\n          return v === menuValue;\n        });\n      };\n      var getTriggerData = function (menuValue, getItemByValue, path) {\n        return getPreparedMenu(menuValue).bind(function (menu) {\n          return getTriggeringItem(menuValue).bind(function (triggeringItemValue) {\n            return getItemByValue(triggeringItemValue).map(function (triggeredItem) {\n              return {\n                triggeredMenu: menu,\n                triggeringItem: triggeredItem,\n                triggeringPath: path\n              };\n            });\n          });\n        });\n      };\n      var getTriggeringPath = function (itemValue, getItemByValue) {\n        var extraPath = filter$2(lookupItem(itemValue).toArray(), function (menuValue) {\n          return getPreparedMenu(menuValue).isSome();\n        });\n        return get$e(paths.get(), itemValue).bind(function (path) {\n          var revPath = reverse(extraPath.concat(path));\n          var triggers = bind$3(revPath, function (menuValue, menuIndex) {\n            return getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(function () {\n              return is$1(primary.get(), menuValue) ? [] : [Optional.none()];\n            }, function (data) {\n              return [Optional.some(data)];\n            });\n          });\n          return sequence(triggers);\n        });\n      };\n      var expand = function (itemValue) {\n        return get$e(expansions.get(), itemValue).map(function (menu) {\n          var current = get$e(paths.get(), itemValue).getOr([]);\n          return [menu].concat(current);\n        });\n      };\n      var collapse = function (itemValue) {\n        return get$e(paths.get(), itemValue).bind(function (path) {\n          return path.length > 1 ? Optional.some(path.slice(1)) : Optional.none();\n        });\n      };\n      var refresh = function (itemValue) {\n        return get$e(paths.get(), itemValue);\n      };\n      var getPreparedMenu = function (menuValue) {\n        return lookupMenu(menuValue).bind(extractPreparedMenu);\n      };\n      var lookupMenu = function (menuValue) {\n        return get$e(menus.get(), menuValue);\n      };\n      var lookupItem = function (itemValue) {\n        return get$e(expansions.get(), itemValue);\n      };\n      var otherMenus = function (path) {\n        var menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      var getPrimary = function () {\n        return primary.get().bind(getPreparedMenu);\n      };\n      var getMenus = function () {\n        return menus.get();\n      };\n      return {\n        setMenuBuilt: setMenuBuilt,\n        setContents: setContents,\n        expand: expand,\n        refresh: refresh,\n        collapse: collapse,\n        lookupMenu: lookupMenu,\n        lookupItem: lookupItem,\n        otherMenus: otherMenus,\n        getPrimary: getPrimary,\n        getMenus: getMenus,\n        clear: clear,\n        isClear: isClear,\n        getTriggeringPath: getTriggeringPath\n      };\n    };\n    var extractPreparedMenu = function (prep) {\n      return prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n    };\n    var LayeredState = {\n      init: init$c,\n      extractPreparedMenu: extractPreparedMenu\n    };\n\n    var make$6 = function (detail, _rawUiSpec) {\n      var submenuParentItems = value$1();\n      var buildMenus = function (container, primaryName, menus) {\n        return map$1(menus, function (spec, name) {\n          var makeSketch = function () {\n            return Menu.sketch(__assign(__assign({}, spec), {\n              value: name,\n              markers: detail.markers,\n              fakeFocus: detail.fakeFocus,\n              onHighlight: detail.onHighlight,\n              focusManager: detail.fakeFocus ? highlights() : dom$2()\n            }));\n          };\n          return name === primaryName ? {\n            type: 'prepared',\n            menu: container.getSystem().build(makeSketch())\n          } : {\n            type: 'notbuilt',\n            nbMenu: makeSketch\n          };\n        });\n      };\n      var layeredState = LayeredState.init();\n      var setup = function (container) {\n        var componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        var directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      var getItemValue = function (item) {\n        return Representing.getValue(item).value;\n      };\n      var getItemByValue = function (_container, menus, itemValue) {\n        return findMap(menus, function (menu) {\n          if (!menu.getSystem().isConnected()) {\n            return Optional.none();\n          }\n          var candidates = Highlighting.getCandidates(menu);\n          return find$5(candidates, function (c) {\n            return getItemValue(c) === itemValue;\n          });\n        });\n      };\n      var toDirectory = function (_container) {\n        return map$1(detail.data.menus, function (data, _menuName) {\n          return bind$3(data.items, function (item) {\n            return item.type === 'separator' ? [] : [item.data.value];\n          });\n        });\n      };\n      var setActiveMenu = function (container, menu) {\n        Highlighting.highlight(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(function () {\n          return Highlighting.getFirst(menu);\n        }).each(function (item) {\n          dispatch(container, item.element, focusItem());\n        });\n      };\n      var getMenus = function (state, menuValues) {\n        return cat(map$2(menuValues, function (mv) {\n          return state.lookupMenu(mv).bind(function (prep) {\n            return prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n          });\n        }));\n      };\n      var closeOthers = function (container, state, path) {\n        var others = getMenus(state, state.otherMenus(path));\n        each$1(others, function (o) {\n          remove$1(o.element, [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      var getSubmenuParents = function (container) {\n        return submenuParentItems.get().getOrThunk(function () {\n          var r = {};\n          var items = descendants(container.element, '.' + detail.markers.item);\n          var parentItems = filter$2(items, function (i) {\n            return get$d(i, 'aria-haspopup') === 'true';\n          });\n          each$1(parentItems, function (i) {\n            container.getSystem().getByDom(i).each(function (itemComp) {\n              var key = getItemValue(itemComp);\n              r[key] = itemComp;\n            });\n          });\n          submenuParentItems.set(r);\n          return r;\n        });\n      };\n      var updateAriaExpansions = function (container, path) {\n        var parentItems = getSubmenuParents(container);\n        each(parentItems, function (v, k) {\n          var expanded = contains$2(path, k);\n          set$8(v.element, 'aria-expanded', expanded);\n        });\n      };\n      var updateMenuPath = function (container, state, path) {\n        return Optional.from(path[0]).bind(function (latestMenuName) {\n          return state.lookupMenu(latestMenuName).bind(function (menuPrep) {\n            if (menuPrep.type === 'notbuilt') {\n              return Optional.none();\n            } else {\n              var activeMenu = menuPrep.menu;\n              var rest = getMenus(state, path.slice(1));\n              each$1(rest, function (r) {\n                add$2(r.element, detail.markers.backgroundMenu);\n              });\n              if (!inBody(activeMenu.element)) {\n                Replacing.append(container, premade(activeMenu));\n              }\n              remove$1(activeMenu.element, [detail.markers.backgroundMenu]);\n              setActiveMenu(container, activeMenu);\n              closeOthers(container, state, path);\n              return Optional.some(activeMenu);\n            }\n          });\n        });\n      };\n      var ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      var buildIfRequired = function (container, menuName, menuPrep) {\n        if (menuPrep.type === 'notbuilt') {\n          var menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      var expandRight = function (container, item, decision) {\n        if (decision === void 0) {\n          decision = ExpandHighlightDecision.HighlightSubmenu;\n        }\n        if (item.hasConfigured(Disabling) && Disabling.isDisabled(item)) {\n          return Optional.some(item);\n        } else {\n          var value = getItemValue(item);\n          return layeredState.expand(value).bind(function (path) {\n            updateAriaExpansions(container, path);\n            return Optional.from(path[0]).bind(function (menuName) {\n              return layeredState.lookupMenu(menuName).bind(function (activeMenuPrep) {\n                var activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n                if (!inBody(activeMenu.element)) {\n                  Replacing.append(container, premade(activeMenu));\n                }\n                detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n                if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                  Highlighting.highlightFirst(activeMenu);\n                  return updateMenuPath(container, layeredState, path);\n                } else {\n                  Highlighting.dehighlightAll(activeMenu);\n                  return Optional.some(item);\n                }\n              });\n            });\n          });\n        }\n      };\n      var collapseLeft = function (container, item) {\n        var value = getItemValue(item);\n        return layeredState.collapse(value).bind(function (path) {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(function (activeMenu) {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      var updateView = function (container, item) {\n        var value = getItemValue(item);\n        return layeredState.refresh(value).bind(function (path) {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      var onRight = function (container, item) {\n        return inside(item.element) ? Optional.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      };\n      var onLeft = function (container, item) {\n        return inside(item.element) ? Optional.none() : collapseLeft(container, item);\n      };\n      var onEscape = function (container, item) {\n        return collapseLeft(container, item).orThunk(function () {\n          return detail.onEscape(container, item).map(function () {\n            return container;\n          });\n        });\n      };\n      var keyOnItem = function (f) {\n        return function (container, simulatedEvent) {\n          return closest$1(simulatedEvent.getSource(), '.' + detail.markers.item).bind(function (target) {\n            return container.getSystem().getByDom(target).toOptional().bind(function (item) {\n              return f(container, item).map(always);\n            });\n          });\n        };\n      };\n      var events = derive$2([\n        run$1(focus(), function (sandbox, simulatedEvent) {\n          var item = simulatedEvent.event.item;\n          layeredState.lookupItem(getItemValue(item)).each(function () {\n            var menu = simulatedEvent.event.menu;\n            Highlighting.highlight(sandbox, menu);\n            var value = getItemValue(simulatedEvent.event.item);\n            layeredState.refresh(value).each(function (path) {\n              return closeOthers(sandbox, layeredState, path);\n            });\n          });\n        }),\n        runOnExecute$1(function (component, simulatedEvent) {\n          var target = simulatedEvent.event.target;\n          component.getSystem().getByDom(target).each(function (item) {\n            var itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(function () {\n              detail.onExecute(component, item);\n            }, noop);\n          });\n        }),\n        runOnAttached(function (container, _simulatedEvent) {\n          setup(container).each(function (primary) {\n            Replacing.append(container, premade(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightImmediately) {\n              setActiveMenu(container, primary);\n            }\n          });\n        })\n      ].concat(detail.navigateOnHover ? [run$1(hover(), function (sandbox, simulatedEvent) {\n          var item = simulatedEvent.event.item;\n          updateView(sandbox, item);\n          expandRight(sandbox, item, ExpandHighlightDecision.HighlightParent);\n          detail.onHover(sandbox, item);\n        })] : []));\n      var getActiveItem = function (container) {\n        return Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      };\n      var collapseMenuApi = function (container) {\n        getActiveItem(container).each(function (currentItem) {\n          collapseLeft(container, currentItem);\n        });\n      };\n      var highlightPrimary = function (container) {\n        layeredState.getPrimary().each(function (primary) {\n          setActiveMenu(container, primary);\n        });\n      };\n      var extractMenuFromContainer = function (container) {\n        return Optional.from(container.components()[0]).filter(function (comp) {\n          return get$d(comp.element, 'role') === 'menu';\n        });\n      };\n      var repositionMenus = function (container) {\n        var maybeActivePrimary = layeredState.getPrimary().bind(function (primary) {\n          return getActiveItem(container).bind(function (currentItem) {\n            var itemValue = getItemValue(currentItem);\n            var allMenus = values(layeredState.getMenus());\n            var preparedMenus = cat(map$2(allMenus, LayeredState.extractPreparedMenu));\n            return layeredState.getTriggeringPath(itemValue, function (v) {\n              return getItemByValue(container, preparedMenus, v);\n            });\n          }).map(function (triggeringPath) {\n            return {\n              primary: primary,\n              triggeringPath: triggeringPath\n            };\n          });\n        });\n        maybeActivePrimary.fold(function () {\n          extractMenuFromContainer(container).each(function (primaryMenu) {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, function (_a) {\n          var primary = _a.primary, triggeringPath = _a.triggeringPath;\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      var apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary: highlightPrimary,\n        repositionMenus: repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: function (container, _keyInfo) {\n              layeredState.getPrimary().each(function (primary) {\n                dispatch(container, primary.element, focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: function (container) {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis: apis,\n        events: events\n      };\n    };\n    var collapseItem$1 = constant$1('collapse-item');\n\n    var tieredData = function (primary, menus, expansions) {\n      return {\n        primary: primary,\n        menus: menus,\n        expansions: expansions\n      };\n    };\n    var singleData = function (name, menu) {\n      return {\n        primary: name,\n        menus: wrap$1(name, menu),\n        expansions: {}\n      };\n    };\n    var collapseItem = function (text) {\n      return {\n        value: generate$6(collapseItem$1()),\n        meta: { text: text }\n      };\n    };\n    var tieredMenu = single({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted('highlightImmediately', true),\n        requiredObjOf('data', [\n          required$1('primary'),\n          required$1('menus'),\n          required$1('expansions')\n        ]),\n        defaulted('fakeFocus', false),\n        onHandler('onHighlight'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        required$1('dom'),\n        defaulted('navigateOnHover', true),\n        defaulted('stayInDom', false),\n        field('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: function (apis, tmenu) {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: function (apis, tmenu) {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: function (apis, tmenu) {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$6,\n      extraApis: {\n        tieredData: tieredData,\n        singleData: singleData,\n        collapseItem: collapseItem\n      }\n    });\n\n    var makeMenu = function (detail, menuSandbox, placementSpec, menuSpec, getBounds) {\n      var lazySink = function () {\n        return detail.lazySink(menuSandbox);\n      };\n      var layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: function () {\n            return belowOrAbove();\n          },\n          onRtl: function () {\n            return belowOrAboveRtl();\n          }\n        }\n      } : {};\n      var isFirstTierSubmenu = function (triggeringPaths) {\n        return triggeringPaths.length === 2;\n      };\n      var getSubmenuLayouts = function (triggeringPaths) {\n        return isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      };\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        highlightImmediately: menuSpec.menu.highlightImmediately,\n        onEscape: function () {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(function (handler) {\n            return handler(menuSandbox);\n          });\n          return Optional.some(true);\n        },\n        onExecute: function () {\n          return Optional.some(true);\n        },\n        onOpenMenu: function (tmenu, menu) {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), menu, placementSpec, getBounds());\n        },\n        onOpenSubmenu: function (tmenu, item, submenu, triggeringPaths) {\n          var sink = lazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: __assign({\n              type: 'submenu',\n              item: item\n            }, getSubmenuLayouts(triggeringPaths))\n          });\n        },\n        onRepositionMenu: function (tmenu, primaryMenu, submenuTriggers) {\n          var sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, primaryMenu, placementSpec, getBounds());\n          each$1(submenuTriggers, function (st) {\n            var submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: __assign({\n                type: 'submenu',\n                item: st.triggeringItem\n              }, submenuLayouts)\n            });\n          });\n        }\n      });\n    };\n    var factory$m = function (detail, spec) {\n      var isPartOfRelated = function (sandbox, queryElem) {\n        var related = detail.getRelated(sandbox);\n        return related.exists(function (rel) {\n          return isPartOf$1(rel, queryElem);\n        });\n      };\n      var setContent = function (sandbox, thing) {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      var showAt = function (sandbox, thing, placementSpec) {\n        showWithin(sandbox, thing, placementSpec, Optional.none());\n      };\n      var showWithin = function (sandbox, thing, placementSpec, boxElement) {\n        showWithinBounds(sandbox, thing, placementSpec, function () {\n          return boxElement.map(function (elem) {\n            return box$1(elem);\n          });\n        });\n      };\n      var showWithinBounds = function (sandbox, thing, placementSpec, getBounds) {\n        var sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, function () {\n          return Positioning.positionWithinBounds(sink, sandbox, placementSpec, getBounds());\n        });\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'position',\n          config: placementSpec,\n          getBounds: getBounds\n        }));\n      };\n      var showMenuAt = function (sandbox, placementSpec, menuSpec) {\n        showMenuWithinBounds(sandbox, placementSpec, menuSpec, Optional.none);\n      };\n      var showMenuWithinBounds = function (sandbox, placementSpec, menuSpec, getBounds) {\n        var menu = makeMenu(detail, sandbox, placementSpec, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'menu',\n          menu: menu\n        }));\n      };\n      var hide = function (sandbox) {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.setValue(sandbox, Optional.none());\n          Sandboxing.close(sandbox);\n        }\n      };\n      var getContent = function (sandbox) {\n        return Sandboxing.getState(sandbox);\n      };\n      var reposition = function (sandbox) {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(function (state) {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);\n              break;\n            case 'position':\n              var sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, sandbox, state.config, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      var apis = {\n        setContent: setContent,\n        showAt: showAt,\n        showWithin: showWithin,\n        showWithinBounds: showWithinBounds,\n        showMenuAt: showMenuAt,\n        showMenuWithinBounds: showMenuWithinBounds,\n        hide: hide,\n        getContent: getContent,\n        reposition: reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: function (sandbox, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: function (sandbox) {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: function (sandbox) {\n              detail.onShow(sandbox);\n            },\n            onClose: function (sandbox) {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Optional.none()\n            }\n          }),\n          Receiving.config({\n            channels: __assign(__assign({}, receivingChannel$1(__assign({ isExtraPart: spec.isExtraPart }, detail.fireDismissalEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})))), receivingChannel(__assign(__assign({}, detail.fireRepositionEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})), { doReposition: reposition })))\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis: apis\n      };\n    };\n    var InlineView = single({\n      name: 'InlineView',\n      configFields: [\n        required$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted('event', repositionRequested())]),\n        defaulted('getRelated', Optional.none),\n        defaulted('isExtraPart', never),\n        defaulted('eventOrder', Optional.none)\n      ],\n      factory: factory$m,\n      apis: {\n        showAt: function (apis, component, anchor, thing) {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithin: function (apis, component, anchor, thing, boxElement) {\n          apis.showWithin(component, anchor, thing, boxElement);\n        },\n        showWithinBounds: function (apis, component, anchor, thing, bounds) {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: function (apis, component, anchor, menuSpec) {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: function (apis, component, anchor, menuSpec, bounds) {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: function (apis, component) {\n          apis.hide(component);\n        },\n        isOpen: function (apis, component) {\n          return apis.isOpen(component);\n        },\n        getContent: function (apis, component) {\n          return apis.getContent(component);\n        },\n        setContent: function (apis, component, thing) {\n          apis.setContent(component, thing);\n        },\n        reposition: function (apis, component) {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var labelPrefix = 'layout-inset';\n    var westEdgeX = function (anchor) {\n      return anchor.x;\n    };\n    var middleX = function (anchor, element) {\n      return anchor.x + anchor.width / 2 - element.width / 2;\n    };\n    var eastEdgeX = function (anchor, element) {\n      return anchor.x + anchor.width - element.width;\n    };\n    var northY = function (anchor) {\n      return anchor.y;\n    };\n    var southY = function (anchor, element) {\n      return anchor.y + anchor.height - element.height;\n    };\n    var centreY = function (anchor, element) {\n      return anchor.y + anchor.height / 2 - element.height / 2;\n    };\n    var southwest = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), southY(anchor, element), bubbles.insetSouthwest(), northwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 0,\n        bottom: 3\n      }), labelPrefix);\n    };\n    var southeast = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), southY(anchor, element), bubbles.insetSoutheast(), northeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 1,\n        bottom: 3\n      }), labelPrefix);\n    };\n    var northwest = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), northY(anchor), bubbles.insetNorthwest(), southwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 0,\n        top: 2\n      }), labelPrefix);\n    };\n    var northeast = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), northY(anchor), bubbles.insetNortheast(), southeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 1,\n        top: 2\n      }), labelPrefix);\n    };\n    var north = function (anchor, element, bubbles) {\n      return nu$6(middleX(anchor, element), northY(anchor), bubbles.insetNorth(), south$3(), 'north', boundsRestriction(anchor, { top: 2 }), labelPrefix);\n    };\n    var south = function (anchor, element, bubbles) {\n      return nu$6(middleX(anchor, element), southY(anchor, element), bubbles.insetSouth(), north$3(), 'south', boundsRestriction(anchor, { bottom: 3 }), labelPrefix);\n    };\n    var east = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), centreY(anchor, element), bubbles.insetEast(), west$3(), 'east', boundsRestriction(anchor, { right: 0 }), labelPrefix);\n    };\n    var west = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), centreY(anchor, element), bubbles.insetWest(), east$3(), 'west', boundsRestriction(anchor, { left: 1 }), labelPrefix);\n    };\n    var lookupPreserveLayout = function (lastPlacement) {\n      switch (lastPlacement) {\n      case 'north':\n        return north;\n      case 'northeast':\n        return northeast;\n      case 'northwest':\n        return northwest;\n      case 'south':\n        return south;\n      case 'southeast':\n        return southeast;\n      case 'southwest':\n        return southwest;\n      case 'east':\n        return east;\n      case 'west':\n        return west;\n      }\n    };\n    var preserve = function (anchor, element, bubbles, placee, bounds) {\n      var layout = getPlacement(placee).map(lookupPreserveLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n    var lookupFlippedLayout = function (lastPlacement) {\n      switch (lastPlacement) {\n      case 'north':\n        return south;\n      case 'northeast':\n        return southeast;\n      case 'northwest':\n        return southwest;\n      case 'south':\n        return north;\n      case 'southeast':\n        return northeast;\n      case 'southwest':\n        return northwest;\n      case 'east':\n        return west;\n      case 'west':\n        return east;\n      }\n    };\n    var flip$2 = function (anchor, element, bubbles, placee, bounds) {\n      var layout = getPlacement(placee).map(lookupFlippedLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n\n    var global$f = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var factory$l = function (detail) {\n      var events = events$a(detail.action);\n      var tag = detail.dom.tag;\n      var lookupAttr = function (attr) {\n        return get$e(detail.dom, 'attributes').bind(function (attrs) {\n          return get$e(attrs, attr);\n        });\n      };\n      var getModAttributes = function () {\n        if (tag === 'button') {\n          var type = lookupAttr('type').getOr('button');\n          var roleAttrs = lookupAttr('role').map(function (role) {\n            return { role: role };\n          }).getOr({});\n          return __assign({ type: type }, roleAttrs);\n        } else {\n          var role = lookupAttr('role').getOr('button');\n          return { role: role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events: events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Button = single({\n      name: 'Button',\n      factory: factory$l,\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('dom'),\n        defaulted('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option('action'),\n        option('role'),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    var record = function (spec) {\n      var uid = isSketchSpec(spec) && hasNonNullableKey(spec, 'uid') ? spec.uid : generate$5('memento');\n      var get = function (anyInSystem) {\n        return anyInSystem.getSystem().getByUid(uid).getOrDie();\n      };\n      var getOpt = function (anyInSystem) {\n        return anyInSystem.getSystem().getByUid(uid).toOptional();\n      };\n      var asSpec = function () {\n        return __assign(__assign({}, spec), { uid: uid });\n      };\n      return {\n        get: get,\n        getOpt: getOpt,\n        asSpec: asSpec\n      };\n    };\n\n    var global$e = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    var rtlTransform = {\n      'indent': true,\n      'outdent': true,\n      'table-insert-column-after': true,\n      'table-insert-column-before': true,\n      'paste-column-after': true,\n      'paste-column-before': true,\n      'unordered-list': true,\n      'list-bull-circle': true,\n      'list-bull-default': true,\n      'list-bull-square': true\n    };\n    var defaultIconName = 'temporary-placeholder';\n    var defaultIcon = function (icons) {\n      return function () {\n        return get$e(icons, defaultIconName).getOr('!not found!');\n      };\n    };\n    var getIconName = function (name, icons) {\n      var lcName = name.toLowerCase();\n      if (global$e.isRtl()) {\n        var rtlName = ensureTrailing(lcName, '-rtl');\n        return has$2(icons, rtlName) ? rtlName : lcName;\n      } else {\n        return lcName;\n      }\n    };\n    var lookupIcon = function (name, icons) {\n      return get$e(icons, getIconName(name, icons));\n    };\n    var get$1 = function (name, iconProvider) {\n      var icons = iconProvider();\n      return lookupIcon(name, icons).getOrThunk(defaultIcon(icons));\n    };\n    var getOr = function (name, iconProvider, fallbackIcon) {\n      var icons = iconProvider();\n      return lookupIcon(name, icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n    };\n    var needsRtlTransform = function (iconName) {\n      return global$e.isRtl() ? has$2(rtlTransform, iconName) : false;\n    };\n    var addFocusableBehaviour = function () {\n      return config('add-focusable', [runOnAttached(function (comp) {\n          child(comp.element, 'svg').each(function (svg) {\n            return set$8(svg, 'focusable', 'false');\n          });\n        })]);\n    };\n    var renderIcon$2 = function (spec, iconName, icons, fallbackIcon) {\n      var _a, _b;\n      var rtlIconClasses = needsRtlTransform(iconName) ? ['tox-icon--flip'] : [];\n      var iconHtml = get$e(icons, getIconName(iconName, icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n      return {\n        dom: {\n          tag: spec.tag,\n          attributes: (_a = spec.attributes) !== null && _a !== void 0 ? _a : {},\n          classes: spec.classes.concat(rtlIconClasses),\n          innerHtml: iconHtml\n        },\n        behaviours: derive$1(__spreadArray(__spreadArray([], (_b = spec.behaviours) !== null && _b !== void 0 ? _b : [], true), [addFocusableBehaviour()], false))\n      };\n    };\n    var render$3 = function (iconName, spec, iconProvider, fallbackIcon) {\n      if (fallbackIcon === void 0) {\n        fallbackIcon = Optional.none();\n      }\n      return renderIcon$2(spec, iconName, iconProvider(), fallbackIcon);\n    };\n    var renderFirst = function (iconNames, spec, iconProvider) {\n      var icons = iconProvider();\n      var iconName = find$5(iconNames, function (name) {\n        return has$2(icons, getIconName(name, icons));\n      });\n      return renderIcon$2(spec, iconName.getOr(defaultIconName), icons, Optional.none());\n    };\n\n    var notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    var factory$k = function (detail) {\n      var memBannerText = record({\n        dom: {\n          tag: 'p',\n          innerHtml: detail.translationProvider(detail.text)\n        },\n        behaviours: derive$1([Replacing.config({})])\n      });\n      var renderPercentBar = function (percent) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-bar'],\n            attributes: { style: 'width: ' + percent + '%' }\n          }\n        };\n      };\n      var renderPercentText = function (percent) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-text'],\n            innerHtml: percent + '%'\n          }\n        };\n      };\n      var memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      var updateProgress = function (comp, percent) {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(function (progress) {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      var updateText = function (comp, text) {\n        if (comp.getSystem().isConnected()) {\n          var banner = memBannerText.get(comp);\n          Replacing.set(banner, [text$1(text)]);\n        }\n      };\n      var apis = {\n        updateProgress: updateProgress,\n        updateText: updateText\n      };\n      var iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(function (level) {\n          return Optional.from(notificationIconMap[level]);\n        }).toArray()\n      ]);\n      var memButton = record(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-notification__dismiss',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ]\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon'],\n            attributes: { 'aria-label': detail.translationProvider('Close') }\n          }, detail.iconProvider)],\n        action: function (comp) {\n          detail.onAction(comp);\n        }\n      }));\n      var notificationIconSpec = renderFirst(iconChoices, {\n        tag: 'div',\n        classes: ['tox-notification__icon']\n      }, detail.iconProvider);\n      var notificationBodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      };\n      var components = [\n        notificationIconSpec,\n        notificationBodySpec\n      ];\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: detail.level.map(function (level) {\n            return [\n              'tox-notification',\n              'tox-notification--in',\n              'tox-notification--' + level\n            ];\n          }).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          config('notification-events', [run$1(focusin(), function (comp) {\n              memButton.getOpt(comp).each(Focusing.focus);\n            })])\n        ]),\n        components: components.concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat(!detail.closeButton ? [] : [memButton.asSpec()]),\n        apis: apis\n      };\n    };\n    var Notification = single({\n      name: 'Notification',\n      factory: factory$k,\n      configFields: [\n        option('level'),\n        required$1('progress'),\n        required$1('icon'),\n        required$1('onAction'),\n        required$1('text'),\n        required$1('iconProvider'),\n        required$1('translationProvider'),\n        defaultedBoolean('closeButton', true)\n      ],\n      apis: {\n        updateProgress: function (apis, comp, percent) {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: function (apis, comp, text) {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    function NotificationManagerImpl (editor, extras, uiMothership) {\n      var sharedBackstage = extras.backstage.shared;\n      var getLayoutDirection = function (rel) {\n        switch (rel) {\n        case 'bc-bc':\n          return south;\n        case 'tc-tc':\n          return north;\n        case 'tc-bc':\n          return north$2;\n        case 'bc-tc':\n        default:\n          return south$2;\n        }\n      };\n      var reposition = function (notifications) {\n        if (notifications.length > 0) {\n          each$1(notifications, function (notification, index) {\n            if (index === 0) {\n              notification.moveRel(null, 'banner');\n            } else {\n              notification.moveRel(notifications[index - 1].getEl(), 'bc-tc');\n            }\n          });\n        }\n      };\n      var open = function (settings, closeCallback) {\n        var hideCloseButton = !settings.closeButton && settings.timeout && (settings.timeout > 0 || settings.timeout < 0);\n        var close = function () {\n          closeCallback();\n          InlineView.hide(notificationWrapper);\n        };\n        var notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains$2([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: Optional.from(settings.icon),\n          closeButton: !hideCloseButton,\n          onAction: close,\n          iconProvider: sharedBackstage.providers.icons,\n          translationProvider: sharedBackstage.providers.translate\n        }));\n        var notificationWrapper = build$1(InlineView.sketch(__assign({\n          dom: {\n            tag: 'div',\n            classes: ['tox-notifications-container']\n          },\n          lazySink: sharedBackstage.getSink,\n          fireDismissalEventInstead: {}\n        }, sharedBackstage.header.isPositionedAtTop() ? {} : { fireRepositionEventInstead: {} })));\n        uiMothership.add(notificationWrapper);\n        if (settings.timeout > 0) {\n          global$f.setTimeout(function () {\n            close();\n          }, settings.timeout);\n        }\n        var getBounds = function () {\n          var contentArea = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n          var win$1 = win();\n          var x = clamp$1(win$1.x, contentArea.x, contentArea.right);\n          var y = clamp$1(win$1.y, contentArea.y, contentArea.bottom);\n          var right = Math.max(contentArea.right, win$1.right);\n          var bottom = Math.max(contentArea.bottom, win$1.bottom);\n          return Optional.some(bounds(x, y, right - x, bottom - y));\n        };\n        return {\n          close: close,\n          moveTo: function (x, y) {\n            InlineView.showAt(notificationWrapper, premade(notification), {\n              anchor: {\n                type: 'makeshift',\n                x: x,\n                y: y\n              }\n            });\n          },\n          moveRel: function (element, rel) {\n            var notificationSpec = premade(notification);\n            var anchorOverrides = { maxHeightFunction: expandable$1() };\n            if (rel !== 'banner' && isNonNullable(element)) {\n              var layoutDirection_1 = getLayoutDirection(rel);\n              var nodeAnchor = {\n                type: 'node',\n                root: body(),\n                node: Optional.some(SugarElement.fromDom(element)),\n                overrides: anchorOverrides,\n                layouts: {\n                  onRtl: function () {\n                    return [layoutDirection_1];\n                  },\n                  onLtr: function () {\n                    return [layoutDirection_1];\n                  }\n                }\n              };\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: nodeAnchor }, getBounds);\n            } else {\n              var anchor = __assign(__assign({}, sharedBackstage.anchors.banner()), { overrides: anchorOverrides });\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: anchor }, getBounds);\n            }\n          },\n          text: function (nuText) {\n            Notification.updateText(notification, nuText);\n          },\n          settings: settings,\n          getEl: function () {\n            return notification.element.dom;\n          },\n          progressBar: {\n            value: function (percent) {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n      };\n      var close = function (notification) {\n        notification.close();\n      };\n      var getArgs = function (notification) {\n        return notification.settings;\n      };\n      return {\n        open: open,\n        close: close,\n        reposition: reposition,\n        getArgs: getArgs\n      };\n    }\n\n    var first = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (isNull(timer)) {\n          timer = setTimeout(function () {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n    var last = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        cancel();\n        timer = setTimeout(function () {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    var global$d = tinymce.util.Tools.resolve('tinymce.dom.TextSeeker');\n\n    var isBoundary = function (dom, node) {\n      return dom.isBlock(node) || contains$2([\n        'BR',\n        'IMG',\n        'HR',\n        'INPUT'\n      ], node.nodeName) || dom.getContentEditable(node) === 'false';\n    };\n    var repeatLeft = function (dom, node, offset, process, rootNode) {\n      var search = global$d(dom, function (node) {\n        return isBoundary(dom, node);\n      });\n      return Optional.from(search.backwards(node, offset, process, rootNode));\n    };\n\n    var autocompleteSelector = '[data-mce-autocompleter]';\n    var create$5 = function (editor, range) {\n      return detect(SugarElement.fromDom(editor.selection.getNode())).getOrThunk(function () {\n        var wrapper = SugarElement.fromHtml('<span data-mce-autocompleter=\"1\" data-mce-bogus=\"1\"></span>', editor.getDoc());\n        append$2(wrapper, SugarElement.fromDom(range.extractContents()));\n        range.insertNode(wrapper.dom);\n        parent(wrapper).each(function (elm) {\n          return elm.dom.normalize();\n        });\n        last$1(wrapper).map(function (last) {\n          editor.selection.setCursorLocation(last.dom, getEnd(last));\n        });\n        return wrapper;\n      });\n    };\n    var detect = function (elm) {\n      return closest$1(elm, autocompleteSelector);\n    };\n\n    var isValidTextRange = function (rng) {\n      return rng.collapsed && rng.startContainer.nodeType === 3;\n    };\n    var getText = function (rng) {\n      return rng.toString().replace(/\\u00A0/g, ' ').replace(/\\uFEFF/g, '');\n    };\n    var isWhitespace = function (chr) {\n      return chr !== '' && ' \\xA0\\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n    };\n\n    var stripTriggerChar = function (text, triggerCh) {\n      return text.substring(triggerCh.length);\n    };\n    var findChar = function (text, index, ch) {\n      var i;\n      for (i = index - 1; i >= 0; i--) {\n        var char = text.charAt(i);\n        if (isWhitespace(char)) {\n          return Optional.none();\n        }\n        if (char === ch) {\n          break;\n        }\n      }\n      return Optional.some(i);\n    };\n    var findStart = function (dom, initRange, ch, minChars) {\n      if (minChars === void 0) {\n        minChars = 0;\n      }\n      if (!isValidTextRange(initRange)) {\n        return Optional.none();\n      }\n      var findTriggerChIndex = function (element, offset, text) {\n        return findChar(text, offset, ch).getOr(offset);\n      };\n      var root = dom.getParent(initRange.startContainer, dom.isBlock) || dom.getRoot();\n      return repeatLeft(dom, initRange.startContainer, initRange.startOffset, findTriggerChIndex, root).bind(function (spot) {\n        var range = initRange.cloneRange();\n        range.setStart(spot.container, spot.offset);\n        range.setEnd(initRange.endContainer, initRange.endOffset);\n        if (range.collapsed) {\n          return Optional.none();\n        }\n        var text = getText(range);\n        var triggerCharIndex = text.lastIndexOf(ch);\n        if (triggerCharIndex !== 0 || stripTriggerChar(text, ch).length < minChars) {\n          return Optional.none();\n        } else {\n          return Optional.some({\n            text: stripTriggerChar(text, ch),\n            range: range,\n            triggerChar: ch\n          });\n        }\n      });\n    };\n    var getContext = function (dom, initRange, ch, minChars) {\n      if (minChars === void 0) {\n        minChars = 0;\n      }\n      return detect(SugarElement.fromDom(initRange.startContainer)).fold(function () {\n        return findStart(dom, initRange, ch, minChars);\n      }, function (elm) {\n        var range = dom.createRng();\n        range.selectNode(elm.dom);\n        var text = getText(range);\n        return Optional.some({\n          range: range,\n          text: stripTriggerChar(text, ch),\n          triggerChar: ch\n        });\n      });\n    };\n\n    var setup$e = function (api, editor) {\n      editor.on('keypress compositionend', api.onKeypress.throttle);\n      editor.on('remove', api.onKeypress.cancel);\n      var redirectKeyToItem = function (item, e) {\n        emitWith(item, keydown(), { raw: e });\n      };\n      editor.on('keydown', function (e) {\n        var getItem = function () {\n          return api.getView().bind(Highlighting.getHighlighted);\n        };\n        if (e.which === 8) {\n          api.onKeypress.throttle(e);\n        }\n        if (api.isActive()) {\n          if (e.which === 27) {\n            api.cancelIfNecessary();\n          }\n          if (api.isMenuOpen()) {\n            if (e.which === 13) {\n              getItem().each(emitExecute);\n              e.preventDefault();\n            } else if (e.which === 40) {\n              getItem().fold(function () {\n                api.getView().each(Highlighting.highlightFirst);\n              }, function (item) {\n                redirectKeyToItem(item, e);\n              });\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            } else if (e.which === 37 || e.which === 38 || e.which === 39) {\n              getItem().each(function (item) {\n                redirectKeyToItem(item, e);\n                e.preventDefault();\n                e.stopImmediatePropagation();\n              });\n            }\n          } else {\n            if (e.which === 13 || e.which === 38 || e.which === 40) {\n              api.cancelIfNecessary();\n            }\n          }\n        }\n      });\n      editor.on('NodeChange', function (e) {\n        if (api.isActive() && !api.isProcessingAction() && detect(SugarElement.fromDom(e.element)).isNone()) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    var AutocompleterEditorEvents = { setup: setup$e };\n\n    var global$c = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var point = function (container, offset) {\n      return {\n        container: container,\n        offset: offset\n      };\n    };\n\n    var isText = function (node) {\n      return node.nodeType === TEXT;\n    };\n    var isElement$1 = function (node) {\n      return node.nodeType === ELEMENT;\n    };\n    var toLast = function (node) {\n      if (isText(node)) {\n        return point(node, node.data.length);\n      } else {\n        var children = node.childNodes;\n        return children.length > 0 ? toLast(children[children.length - 1]) : point(node, children.length);\n      }\n    };\n    var toLeaf = function (node, offset) {\n      var children = node.childNodes;\n      if (children.length > 0 && offset < children.length) {\n        return toLeaf(children[offset], 0);\n      } else if (children.length > 0 && isElement$1(node) && children.length === offset) {\n        return toLast(children[children.length - 1]);\n      } else {\n        return point(node, offset);\n      }\n    };\n\n    var isPreviousCharContent = function (dom, leaf) {\n      return repeatLeft(dom, leaf.container, leaf.offset, function (element, offset) {\n        return offset === 0 ? -1 : offset;\n      }, dom.getRoot()).filter(function (spot) {\n        var char = spot.container.data.charAt(spot.offset - 1);\n        return !isWhitespace(char);\n      }).isSome();\n    };\n    var isStartOfWord = function (dom) {\n      return function (rng) {\n        var leaf = toLeaf(rng.startContainer, rng.startOffset);\n        return !isPreviousCharContent(dom, leaf);\n      };\n    };\n    var getTriggerContext = function (dom, initRange, database) {\n      return findMap(database.triggerChars, function (ch) {\n        return getContext(dom, initRange, ch);\n      });\n    };\n    var lookup$2 = function (editor, getDatabase) {\n      var database = getDatabase();\n      var rng = editor.selection.getRng();\n      return getTriggerContext(editor.dom, rng, database).bind(function (context) {\n        return lookupWithContext(editor, getDatabase, context);\n      });\n    };\n    var lookupWithContext = function (editor, getDatabase, context, fetchOptions) {\n      if (fetchOptions === void 0) {\n        fetchOptions = {};\n      }\n      var database = getDatabase();\n      var rng = editor.selection.getRng();\n      var startText = rng.startContainer.nodeValue;\n      var autocompleters = filter$2(database.lookupByChar(context.triggerChar), function (autocompleter) {\n        return context.text.length >= autocompleter.minChars && autocompleter.matches.getOrThunk(function () {\n          return isStartOfWord(editor.dom);\n        })(context.range, startText, context.text);\n      });\n      if (autocompleters.length === 0) {\n        return Optional.none();\n      }\n      var lookupData = global$c.all(map$2(autocompleters, function (ac) {\n        var fetchResult = ac.fetch(context.text, ac.maxResults, fetchOptions);\n        return fetchResult.then(function (results) {\n          return {\n            matchText: context.text,\n            items: results,\n            columns: ac.columns,\n            onAction: ac.onAction,\n            highlightOn: ac.highlightOn\n          };\n        });\n      }));\n      return Optional.some({\n        lookupData: lookupData,\n        context: context\n      });\n    };\n\n    var separatorMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('text')\n    ]);\n    var createSeparatorMenuItem = function (spec) {\n      return asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n    };\n\n    var autocompleterItemSchema = objOf([\n      defaulted('type', 'autocompleteitem'),\n      defaulted('active', false),\n      defaulted('disabled', false),\n      defaulted('meta', {}),\n      requiredString('value'),\n      optionString('text'),\n      optionString('icon')\n    ]);\n    var autocompleterSchema = objOf([\n      requiredString('type'),\n      requiredString('ch'),\n      defaultedNumber('minChars', 1),\n      defaulted('columns', 1),\n      defaultedNumber('maxResults', 10),\n      optionFunction('matches'),\n      requiredFunction('fetch'),\n      requiredFunction('onAction'),\n      defaultedArrayOf('highlightOn', [], string)\n    ]);\n    var createSeparatorItem = function (spec) {\n      return asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    };\n    var createAutocompleterItem = function (spec) {\n      return asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n    };\n    var createAutocompleter = function (spec) {\n      return asRaw('Autocompleter', autocompleterSchema, spec);\n    };\n\n    var baseToolbarButtonFields = [\n      defaultedBoolean('disabled', false),\n      optionString('tooltip'),\n      optionString('icon'),\n      optionString('text'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ];\n    var toolbarButtonSchema = objOf([\n      requiredString('type'),\n      requiredFunction('onAction')\n    ].concat(baseToolbarButtonFields));\n    var createToolbarButton = function (spec) {\n      return asRaw('toolbarbutton', toolbarButtonSchema, spec);\n    };\n\n    var baseToolbarToggleButtonFields = [defaultedBoolean('active', false)].concat(baseToolbarButtonFields);\n    var toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      requiredString('type'),\n      requiredFunction('onAction')\n    ]));\n    var createToggleButton = function (spec) {\n      return asRaw('ToggleButton', toggleButtonSchema, spec);\n    };\n\n    var contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    var contextButtonFields = baseToolbarButtonFields.concat([\n      defaulted('type', 'contextformbutton'),\n      defaulted('primary', false),\n      requiredFunction('onAction'),\n      customField('original', identity$1)\n    ]);\n    var contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaulted('type', 'contextformbutton'),\n      defaulted('primary', false),\n      requiredFunction('onAction'),\n      customField('original', identity$1)\n    ]);\n    var launchButtonFields = baseToolbarButtonFields.concat([defaulted('type', 'contextformbutton')]);\n    var launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaulted('type', 'contextformtogglebutton')]);\n    var toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    var contextFormSchema = objOf([\n      defaulted('type', 'contextform'),\n      defaultedFunction('initValue', constant$1('')),\n      optionString('label'),\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n    var createContextForm = function (spec) {\n      return asRaw('ContextForm', contextFormSchema, spec);\n    };\n\n    var contextToolbarSchema = objOf([\n      defaulted('type', 'contexttoolbar'),\n      requiredString('items')\n    ].concat(contextBarFields));\n    var createContextToolbar = function (spec) {\n      return asRaw('ContextToolbar', contextToolbarSchema, spec);\n    };\n\n    var stringArray = function (a) {\n      var all = {};\n      each$1(a, function (key) {\n        all[key] = {};\n      });\n      return keys(all);\n    };\n\n    var register$b = function (editor) {\n      var popups = editor.ui.registry.getAll().popups;\n      var dataset = map$1(popups, function (popup) {\n        return createAutocompleter(popup).fold(function (err) {\n          throw new Error(formatError(err));\n        }, identity$1);\n      });\n      var triggerChars = stringArray(mapToArray(dataset, function (v) {\n        return v.ch;\n      }));\n      var datasetValues = values(dataset);\n      var lookupByChar = function (ch) {\n        return filter$2(datasetValues, function (dv) {\n          return dv.ch === ch;\n        });\n      };\n      return {\n        dataset: dataset,\n        triggerChars: triggerChars,\n        lookupByChar: lookupByChar\n      };\n    };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    var navClass = 'tox-menu-nav__js';\n    var selectableClass = 'tox-collection__item';\n    var colorClass = 'tox-swatch';\n    var presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    var tickedClass = 'tox-collection__item--enabled';\n    var groupHeadingClass = 'tox-collection__group-heading';\n    var iconClass = 'tox-collection__item-icon';\n    var textClass = 'tox-collection__item-label';\n    var accessoryClass = 'tox-collection__item-accessory';\n    var caretClass = 'tox-collection__item-caret';\n    var checkmarkClass = 'tox-collection__item-checkmark';\n    var activeClass = 'tox-collection__item--active';\n    var containerClass = 'tox-collection__item-container';\n    var containerColumnClass = 'tox-collection__item-container--column';\n    var containerRowClass = 'tox-collection__item-container--row';\n    var containerAlignRightClass = 'tox-collection__item-container--align-right';\n    var containerAlignLeftClass = 'tox-collection__item-container--align-left';\n    var containerValignTopClass = 'tox-collection__item-container--valign-top';\n    var containerValignMiddleClass = 'tox-collection__item-container--valign-middle';\n    var containerValignBottomClass = 'tox-collection__item-container--valign-bottom';\n    var classForPreset = function (presets) {\n      return get$e(presetClasses, presets).getOr(navClass);\n    };\n\n    var forMenu = function (presets) {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    var classes = function (presets) {\n      return {\n        backgroundMenu: 'tox-background-menu',\n        selectedMenu: 'tox-selected-menu',\n        selectedItem: 'tox-collection__item--active',\n        hasIcons: 'tox-menu--has-icons',\n        menu: forMenu(presets),\n        tieredMenu: 'tox-tiered-menu'\n      };\n    };\n\n    var markers = function (presets) {\n      var menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    var dom$1 = function (hasIcons, columns, presets) {\n      var menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            'tox-menu-' + columns + '-column'\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    var components = [Menu.parts.items({})];\n    var part = function (hasIcons, columns, presets) {\n      var menuClasses = classes(presets);\n      var d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers(presets)\n      };\n    };\n\n    var chunk = function (rowDom, numColumns) {\n      return function (items) {\n        var chunks = chunk$1(items, numColumns);\n        return map$2(chunks, function (c) {\n          return {\n            dom: rowDom,\n            components: c\n          };\n        });\n      };\n    };\n    var forSwatch = function (columns) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-swatches-menu'\n          ]\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-swatches']\n            },\n            components: [Menu.parts.items({\n                preprocess: columns !== 'auto' ? chunk({\n                  tag: 'div',\n                  classes: ['tox-swatches__row']\n                }, columns) : identity$1\n              })]\n          }]\n      };\n    };\n    var forToolbar = function (columns) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection',\n            'tox-collection--toolbar',\n            'tox-collection--toolbar-lg'\n          ]\n        },\n        components: [Menu.parts.items({\n            preprocess: chunk({\n              tag: 'div',\n              classes: ['tox-collection__group']\n            }, columns)\n          })]\n      };\n    };\n    var preprocessCollection = function (items, isSeparator) {\n      var allSplits = [];\n      var currentSplit = [];\n      each$1(items, function (item, i) {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has$2(item.dom, 'innerHtml')) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map$2(allSplits, function (s) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-collection__group']\n          },\n          components: s\n        };\n      });\n    };\n    var forCollection = function (columns, initItems, _hasIcons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection'\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n        },\n        components: [Menu.parts.items({\n            preprocess: function (items) {\n              if (columns !== 'auto' && columns > 1) {\n                return chunk({\n                  tag: 'div',\n                  classes: ['tox-collection__group']\n                }, columns)(items);\n              } else {\n                return preprocessCollection(items, function (_item, i) {\n                  return initItems[i].type === 'separator';\n                });\n              }\n            }\n          })]\n      };\n    };\n    var forHorizontalCollection = function (initItems, _hasIcons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-collection',\n            'tox-collection--horizontal'\n          ]\n        },\n        components: [Menu.parts.items({\n            preprocess: function (items) {\n              return preprocessCollection(items, function (_item, i) {\n                return initItems[i].type === 'separator';\n              });\n            }\n          })]\n      };\n    };\n\n    var menuHasIcons = function (xs) {\n      return exists(xs, function (item) {\n        return 'icon' in item && item.icon !== undefined;\n      });\n    };\n    var handleError = function (error) {\n      console.error(formatError(error));\n      console.log(error);\n      return Optional.none();\n    };\n    var createHorizontalPartialMenuWithAlloyItems = function (value, _hasIcons, items, _columns, _presets) {\n      var structure = forHorizontalCollection(items);\n      return {\n        value: value,\n        dom: structure.dom,\n        components: structure.components,\n        items: items\n      };\n    };\n    var createPartialMenuWithAlloyItems = function (value, hasIcons, items, columns, presets) {\n      if (presets === 'color') {\n        var structure = forSwatch(columns);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal' && columns === 'auto') {\n        var structure = forCollection(columns, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal' && columns === 1) {\n        var structure = forCollection(1, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal') {\n        var structure = forCollection(columns, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'listpreview' && columns !== 'auto') {\n        var structure = forToolbar(columns);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      return {\n        value: value,\n        dom: dom$1(hasIcons, columns, presets),\n        components: components,\n        items: items\n      };\n    };\n\n    var cardImageFields = [\n      requiredString('type'),\n      requiredString('src'),\n      optionString('alt'),\n      defaultedArrayOf('classes', [], string)\n    ];\n    var cardImageSchema = objOf(cardImageFields);\n\n    var cardTextFields = [\n      requiredString('type'),\n      requiredString('text'),\n      optionString('name'),\n      defaultedArrayOf('classes', ['tox-collection__item-label'], string)\n    ];\n    var cardTextSchema = objOf(cardTextFields);\n\n    var itemSchema$1 = valueThunk(function () {\n      return choose$2('type', {\n        cardimage: cardImageSchema,\n        cardtext: cardTextSchema,\n        cardcontainer: cardContainerSchema\n      });\n    });\n    var cardContainerSchema = objOf([\n      requiredString('type'),\n      defaultedString('direction', 'horizontal'),\n      defaultedString('align', 'left'),\n      defaultedString('valign', 'middle'),\n      requiredArrayOf('items', itemSchema$1)\n    ]);\n\n    var commonMenuItemFields = [\n      defaultedBoolean('disabled', false),\n      optionString('text'),\n      optionString('shortcut'),\n      field$1('value', 'value', defaultedThunk(function () {\n        return generate$6('menuitem-value');\n      }), anyValue()),\n      defaulted('meta', {})\n    ];\n\n    var cardMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('label'),\n      requiredArrayOf('items', itemSchema$1),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedFunction('onAction', noop)\n    ].concat(commonMenuItemFields));\n    var createCardMenuItem = function (spec) {\n      return asRaw('cardmenuitem', cardMenuItemSchema, spec);\n    };\n\n    var choiceMenuItemSchema = objOf([\n      requiredString('type'),\n      defaultedBoolean('active', false),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createChoiceMenuItem = function (spec) {\n      return asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n    };\n\n    var baseFields = [\n      requiredString('type'),\n      requiredString('fancytype'),\n      defaultedFunction('onAction', noop)\n    ];\n    var insertTableFields = [defaulted('initData', {})].concat(baseFields);\n    var colorSwatchFields = [defaultedObjOf('initData', {}, [\n        defaultedBoolean('allowCustomColors', true),\n        optionArrayOf('colors', anyValue())\n      ])].concat(baseFields);\n    var fancyMenuItemSchema = choose$1('fancytype', {\n      inserttable: insertTableFields,\n      colorswatch: colorSwatchFields\n    });\n    var createFancyMenuItem = function (spec) {\n      return asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n    };\n\n    var menuItemSchema = objOf([\n      requiredString('type'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedFunction('onAction', noop),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createMenuItem = function (spec) {\n      return asRaw('menuitem', menuItemSchema, spec);\n    };\n\n    var nestedMenuItemSchema = objOf([\n      requiredString('type'),\n      requiredFunction('getSubmenuItems'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createNestedMenuItem = function (spec) {\n      return asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n    };\n\n    var toggleMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('icon'),\n      defaultedBoolean('active', false),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      requiredFunction('onAction')\n    ].concat(commonMenuItemFields));\n    var createToggleMenuItem = function (spec) {\n      return asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n    };\n\n    var detectSize = function (comp, margin, selectorClass) {\n      var descendants$1 = descendants(comp.element, '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        var columnLength = findIndex$1(descendants$1, function (c) {\n          var thisTop = c.dom.getBoundingClientRect().top;\n          var cTop = descendants$1[0].dom.getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Optional.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    var namedEvents = function (name, handlers) {\n      return derive$1([config(name, handlers)]);\n    };\n    var unnamedEvents = function (handlers) {\n      return namedEvents(generate$6('unnamed-events'), handlers);\n    };\n    var SimpleBehaviours = {\n      namedEvents: namedEvents,\n      unnamedEvents: unnamedEvents\n    };\n\n    var ExclusivityChannel = generate$6('tooltip.exclusive');\n    var ShowTooltipEvent = generate$6('tooltip.show');\n    var HideTooltipEvent = generate$6('tooltip.hide');\n\n    var hideAllExclusive = function (component, _tConfig, _tState) {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    var setComponents = function (component, tConfig, tState, specs) {\n      tState.getTooltip().each(function (tooltip) {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        hideAllExclusive: hideAllExclusive,\n        setComponents: setComponents\n    });\n\n    var events$9 = function (tooltipConfig, state) {\n      var hide = function (comp) {\n        state.getTooltip().each(function (p) {\n          detach(p);\n          tooltipConfig.onHide(comp, p);\n          state.clearTooltip();\n        });\n        state.clearTimer();\n      };\n      var show = function (comp) {\n        if (!state.isShowing()) {\n          hideAllExclusive(comp);\n          var sink = tooltipConfig.lazySink(comp).getOrDie();\n          var popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive$2(tooltipConfig.mode === 'normal' ? [\n              run$1(mouseover(), function (_) {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run$1(mouseout(), function (_) {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, popup, { anchor: tooltipConfig.anchor(comp) });\n        }\n      };\n      return derive$2(flatten([\n        [\n          run$1(ShowTooltipEvent, function (comp) {\n            state.resetTimer(function () {\n              show(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(HideTooltipEvent, function (comp) {\n            state.resetTimer(function () {\n              hide(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(receive(), function (comp, message) {\n            var receivingData = message;\n            if (!receivingData.universal) {\n              if (contains$2(receivingData.channels, ExclusivityChannel)) {\n                hide(comp);\n              }\n            }\n          }),\n          runOnDetached(function (comp) {\n            hide(comp);\n          })\n        ],\n        tooltipConfig.mode === 'normal' ? [\n          run$1(focusin(), function (comp) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(postBlur(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          }),\n          run$1(mouseover(), function (comp) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(mouseout(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          })\n        ] : [\n          run$1(highlight$1(), function (comp, _se) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(dehighlight$1(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          })\n        ]\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$9\n    });\n\n    var TooltippingSchema = [\n      required$1('lazySink'),\n      required$1('tooltipDom'),\n      defaulted('exclusive', true),\n      defaulted('tooltipComponents', []),\n      defaulted('delay', 300),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight'\n      ]),\n      defaulted('anchor', function (comp) {\n        return {\n          type: 'hotspot',\n          hotspot: comp,\n          layouts: {\n            onLtr: constant$1([\n              south$2,\n              north$2,\n              southeast$2,\n              northeast$2,\n              southwest$2,\n              northwest$2\n            ]),\n            onRtl: constant$1([\n              south$2,\n              north$2,\n              southeast$2,\n              northeast$2,\n              southwest$2,\n              northwest$2\n            ])\n          }\n        };\n      }),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    var init$b = function () {\n      var timer = value$1();\n      var popup = value$1();\n      var clearTimer = function () {\n        timer.on(clearTimeout);\n      };\n      var resetTimer = function (f, delay) {\n        clearTimer();\n        timer.set(setTimeout(f, delay));\n      };\n      var readState = constant$1('not-implemented');\n      return nu$8({\n        getTooltip: popup.get,\n        isShowing: popup.isSet,\n        setTooltip: popup.set,\n        clearTooltip: popup.clear,\n        clearTimer: clearTimer,\n        resetTimer: resetTimer,\n        readState: readState\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$b\n    });\n\n    var Tooltipping = create$8({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    var escape = function (text) {\n      return text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    };\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var getSkinUrl = function (editor) {\n      var skin = editor.getParam('skin');\n      var skinUrl = editor.getParam('skin_url');\n      if (skin !== false) {\n        var skinName = skin ? skin : 'oxide';\n        if (skinUrl) {\n          skinUrl = editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          skinUrl = global$a.baseURL + '/skins/ui/' + skinName;\n        }\n      }\n      return skinUrl;\n    };\n    var isReadOnly = function (editor) {\n      return editor.getParam('readonly', false, 'boolean');\n    };\n    var isSkinDisabled = function (editor) {\n      return editor.getParam('skin') === false;\n    };\n    var getHeightSetting = function (editor) {\n      return editor.getParam('height', Math.max(editor.getElement().offsetHeight, 200));\n    };\n    var getWidthSetting = function (editor) {\n      return editor.getParam('width', global$b.DOM.getStyle(editor.getElement(), 'width'));\n    };\n    var getMinWidthSetting = function (editor) {\n      return Optional.from(editor.getParam('min_width')).filter(isNumber);\n    };\n    var getMinHeightSetting = function (editor) {\n      return Optional.from(editor.getParam('min_height')).filter(isNumber);\n    };\n    var getMaxWidthSetting = function (editor) {\n      return Optional.from(editor.getParam('max_width')).filter(isNumber);\n    };\n    var getMaxHeightSetting = function (editor) {\n      return Optional.from(editor.getParam('max_height')).filter(isNumber);\n    };\n    var getUserStyleFormats = function (editor) {\n      return Optional.from(editor.getParam('style_formats')).filter(isArray);\n    };\n    var isMergeStyleFormats = function (editor) {\n      return editor.getParam('style_formats_merge', false, 'boolean');\n    };\n    var getLineHeightFormats = function (editor) {\n      return editor.getParam('lineheight_formats', '1 1.1 1.2 1.3 1.4 1.5 2', 'string').split(' ');\n    };\n    var getContentLanguages = function (editor) {\n      return editor.getParam('content_langs', undefined, 'array');\n    };\n    var getRemovedMenuItems = function (editor) {\n      return editor.getParam('removed_menuitems', '');\n    };\n    var isMenubarEnabled = function (editor) {\n      return editor.getParam('menubar', true, 'boolean') !== false;\n    };\n    var isToolbarEnabled = function (editor) {\n      var toolbar = editor.getParam('toolbar', true);\n      var isToolbarTrue = toolbar === true;\n      var isToolbarString = isString(toolbar);\n      var isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || isToolbarTrue);\n    };\n    var getMultipleToolbarsSetting = function (editor) {\n      var toolbars = range$2(9, function (num) {\n        return editor.getParam('toolbar' + (num + 1), false, 'string');\n      });\n      var toolbarArray = filter$2(toolbars, function (toolbar) {\n        return typeof toolbar === 'string';\n      });\n      return toolbarArray.length > 0 ? Optional.some(toolbarArray) : Optional.none();\n    };\n    var isMultipleToolbars = function (editor) {\n      return getMultipleToolbarsSetting(editor).fold(function () {\n        var toolbar = editor.getParam('toolbar', [], 'string[]');\n        return toolbar.length > 0;\n      }, always);\n    };\n    var ToolbarMode;\n    (function (ToolbarMode) {\n      ToolbarMode['default'] = 'wrap';\n      ToolbarMode['floating'] = 'floating';\n      ToolbarMode['sliding'] = 'sliding';\n      ToolbarMode['scrolling'] = 'scrolling';\n    }(ToolbarMode || (ToolbarMode = {})));\n    var getToolbarMode = function (editor) {\n      return editor.getParam('toolbar_mode', '', 'string');\n    };\n    var ToolbarLocation;\n    (function (ToolbarLocation) {\n      ToolbarLocation['auto'] = 'auto';\n      ToolbarLocation['top'] = 'top';\n      ToolbarLocation['bottom'] = 'bottom';\n    }(ToolbarLocation || (ToolbarLocation = {})));\n    var getToolbarGroups = function (editor) {\n      return editor.getParam('toolbar_groups', {}, 'object');\n    };\n    var getToolbarLocation = function (editor) {\n      return editor.getParam('toolbar_location', ToolbarLocation.auto, 'string');\n    };\n    var isToolbarLocationBottom = function (editor) {\n      return getToolbarLocation(editor) === ToolbarLocation.bottom;\n    };\n    var fixedContainerSelector = function (editor) {\n      return editor.getParam('fixed_toolbar_container', '', 'string');\n    };\n    var fixedToolbarContainerTarget = function (editor) {\n      return editor.getParam('fixed_toolbar_container_target');\n    };\n    var isToolbarPersist = function (editor) {\n      return editor.getParam('toolbar_persist', false, 'boolean');\n    };\n    var fixedContainerTarget = function (editor) {\n      if (!editor.inline) {\n        return Optional.none();\n      }\n      var selector = fixedContainerSelector(editor);\n      if (selector.length > 0) {\n        return descendant(body(), selector);\n      }\n      var element = fixedToolbarContainerTarget(editor);\n      if (isNonNullable(element)) {\n        return Optional.some(SugarElement.fromDom(element));\n      }\n      return Optional.none();\n    };\n    var useFixedContainer = function (editor) {\n      return editor.inline && fixedContainerTarget(editor).isSome();\n    };\n    var getUiContainer = function (editor) {\n      var fixedContainer = fixedContainerTarget(editor);\n      return fixedContainer.getOrThunk(function () {\n        return getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement())));\n      });\n    };\n    var isDistractionFree = function (editor) {\n      return editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    };\n    var isStickyToolbar = function (editor) {\n      var isStickyToolbar = editor.getParam('toolbar_sticky', false, 'boolean');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    var getStickyToolbarOffset = function (editor) {\n      return editor.getParam('toolbar_sticky_offset', 0, 'number');\n    };\n    var isDraggableModal$1 = function (editor) {\n      return editor.getParam('draggable_modal', false, 'boolean');\n    };\n    var getMenus = function (editor) {\n      var menu = editor.getParam('menu');\n      if (menu) {\n        return map$1(menu, function (menu) {\n          return __assign(__assign({}, menu), { items: menu.items });\n        });\n      } else {\n        return {};\n      }\n    };\n    var getMenubar = function (editor) {\n      return editor.getParam('menubar');\n    };\n    var getToolbar = function (editor) {\n      return editor.getParam('toolbar', true);\n    };\n    var getFilePickerCallback = function (editor) {\n      return editor.getParam('file_picker_callback');\n    };\n    var getFilePickerTypes = function (editor) {\n      return editor.getParam('file_picker_types');\n    };\n    var getFileBrowserCallbackTypes = function (editor) {\n      return editor.getParam('file_browser_callback_types');\n    };\n    var noTypeaheadUrls = function (editor) {\n      return editor.getParam('typeahead_urls') === false;\n    };\n    var getAnchorTop = function (editor) {\n      return editor.getParam('anchor_top', '#top');\n    };\n    var getAnchorBottom = function (editor) {\n      return editor.getParam('anchor_bottom', '#bottom');\n    };\n    var getFilePickerValidatorHandler = function (editor) {\n      var handler = editor.getParam('file_picker_validator_handler', undefined, 'function');\n      if (handler === undefined) {\n        return editor.getParam('filepicker_validator_handler', undefined, 'function');\n      } else {\n        return handler;\n      }\n    };\n\n    var ReadOnlyChannel = 'silver.readonly';\n    var ReadOnlyDataSchema = objOf([requiredBoolean('readonly')]);\n    var broadcastReadonly = function (uiComponents, readonly) {\n      var outerContainer = uiComponents.outerContainer;\n      var target = outerContainer.element;\n      if (readonly) {\n        uiComponents.mothership.broadcastOn([dismissPopups()], { target: target });\n        uiComponents.uiMothership.broadcastOn([dismissPopups()], { target: target });\n      }\n      uiComponents.mothership.broadcastOn([ReadOnlyChannel], { readonly: readonly });\n      uiComponents.uiMothership.broadcastOn([ReadOnlyChannel], { readonly: readonly });\n    };\n    var setupReadonlyModeSwitch = function (editor, uiComponents) {\n      editor.on('init', function () {\n        if (editor.mode.isReadOnly()) {\n          broadcastReadonly(uiComponents, true);\n        }\n      });\n      editor.on('SwitchMode', function () {\n        return broadcastReadonly(uiComponents, editor.mode.isReadOnly());\n      });\n      if (isReadOnly(editor)) {\n        editor.setMode('readonly');\n      }\n    };\n    var receivingConfig = function () {\n      var _a;\n      return Receiving.config({\n        channels: (_a = {}, _a[ReadOnlyChannel] = {\n          schema: ReadOnlyDataSchema,\n          onReceive: function (comp, data) {\n            Disabling.set(comp, data.readonly);\n          }\n        }, _a)\n      });\n    };\n\n    var item = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-collection__item--state-disabled'\n      });\n    };\n    var button = function (disabled) {\n      return Disabling.config({ disabled: disabled });\n    };\n    var splitButton = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-tbtn--disabled'\n      });\n    };\n    var toolbarButton = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-tbtn--disabled',\n        useNative: false\n      });\n    };\n    var DisablingConfigs = {\n      item: item,\n      button: button,\n      splitButton: splitButton,\n      toolbarButton: toolbarButton\n    };\n\n    var runWithApi = function (info, comp) {\n      var api = info.getApi(comp);\n      return function (f) {\n        f(api);\n      };\n    };\n    var onControlAttached = function (info, editorOffCell) {\n      return runOnAttached(function (comp) {\n        var run = runWithApi(info, comp);\n        run(function (api) {\n          var onDestroy = info.onSetup(api);\n          if (isFunction(onDestroy)) {\n            editorOffCell.set(onDestroy);\n          }\n        });\n      });\n    };\n    var onControlDetached = function (getApi, editorOffCell) {\n      return runOnDetached(function (comp) {\n        return runWithApi(getApi, comp)(editorOffCell.get());\n      });\n    };\n\n    var _a$1;\n    var onMenuItemExecute = function (info, itemResponse) {\n      return runOnExecute$1(function (comp, simulatedEvent) {\n        runWithApi(info, comp)(info.onAction);\n        if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n          emit(comp, sandboxClose());\n          simulatedEvent.stop();\n        }\n      });\n    };\n    var menuItemEventOrder = (_a$1 = {}, _a$1[execute$5()] = [\n      'disabling',\n      'alloy.base.behaviour',\n      'toggling',\n      'item-events'\n    ], _a$1);\n\n    var componentRenderPipeline = cat;\n    var renderCommonItem = function (spec, structure, itemResponse, providersbackstage) {\n      var editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(function () {\n            return spec.disabled || providersbackstage.isDisabled();\n          }),\n          receivingConfig(),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    var buildData = function (source) {\n      return {\n        value: source.value,\n        meta: __assign({ text: source.text.getOr('') }, source.meta)\n      };\n    };\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var convertText = function (source) {\n      var mac = {\n        alt: '&#x2325;',\n        ctrl: '&#x2303;',\n        shift: '&#x21E7;',\n        meta: '&#x2318;',\n        access: '&#x2303;&#x2325;'\n      };\n      var other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      var replace = global$9.mac ? mac : other;\n      var shortcut = source.split('+');\n      var updated = map$2(shortcut, function (segment) {\n        var search = segment.toLowerCase().trim();\n        return has$2(replace, search) ? replace[search] : segment;\n      });\n      return global$9.mac ? updated.join('') : updated.join('+');\n    };\n\n    var renderIcon$1 = function (name, icons, classes) {\n      if (classes === void 0) {\n        classes = [iconClass];\n      }\n      return render$3(name, {\n        tag: 'div',\n        classes: classes\n      }, icons);\n    };\n    var renderText = function (text) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [textClass]\n        },\n        components: [text$1(global$e.translate(text))]\n      };\n    };\n    var renderHtml = function (html, classes) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: classes,\n          innerHtml: html\n        }\n      };\n    };\n    var renderStyledText = function (style, text) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [textClass]\n        },\n        components: [{\n            dom: {\n              tag: style.tag,\n              styles: style.styles\n            },\n            components: [text$1(global$e.translate(text))]\n          }]\n      };\n    };\n    var renderShortcut = function (shortcut) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [accessoryClass],\n          innerHtml: convertText(shortcut)\n        }\n      };\n    };\n    var renderCheckmark = function (icons) {\n      return renderIcon$1('checkmark', icons, [checkmarkClass]);\n    };\n    var renderSubmenuCaret = function (icons) {\n      return renderIcon$1('chevron-right', icons, [caretClass]);\n    };\n    var renderDownwardsCaret = function (icons) {\n      return renderIcon$1('chevron-down', icons, [caretClass]);\n    };\n    var renderContainer = function (container, components) {\n      var directionClass = container.direction === 'vertical' ? containerColumnClass : containerRowClass;\n      var alignClass = container.align === 'left' ? containerAlignLeftClass : containerAlignRightClass;\n      var getValignClass = function () {\n        switch (container.valign) {\n        case 'top':\n          return containerValignTopClass;\n        case 'middle':\n          return containerValignMiddleClass;\n        case 'bottom':\n          return containerValignBottomClass;\n        }\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            containerClass,\n            directionClass,\n            alignClass,\n            getValignClass()\n          ]\n        },\n        components: components\n      };\n    };\n    var renderImage = function (src, classes, alt) {\n      return {\n        dom: {\n          tag: 'img',\n          classes: classes,\n          attributes: {\n            src: src,\n            alt: alt.getOr('')\n          }\n        }\n      };\n    };\n\n    var renderColorStructure = function (item, providerBackstage, fallbackIcon) {\n      var colorPickerCommand = 'custom';\n      var removeColorCommand = 'remove';\n      var itemText = item.ariaLabel;\n      var itemValue = item.value;\n      var iconSvg = item.iconContent.map(function (name) {\n        return getOr(name, providerBackstage.icons, fallbackIcon);\n      });\n      var getDom = function () {\n        var common = colorClass;\n        var icon = iconSvg.getOr('');\n        var attributes = itemText.map(function (text) {\n          return { title: providerBackstage.translate(text) };\n        }).getOr({});\n        var baseDom = {\n          tag: 'div',\n          attributes: attributes,\n          classes: [common]\n        };\n        if (itemValue === colorPickerCommand) {\n          return __assign(__assign({}, baseDom), {\n            tag: 'button',\n            classes: __spreadArray(__spreadArray([], baseDom.classes, true), ['tox-swatches__picker-btn'], false),\n            innerHtml: icon\n          });\n        } else if (itemValue === removeColorCommand) {\n          return __assign(__assign({}, baseDom), {\n            classes: __spreadArray(__spreadArray([], baseDom.classes, true), ['tox-swatch--remove'], false),\n            innerHtml: icon\n          });\n        } else {\n          return __assign(__assign({}, baseDom), {\n            attributes: __assign(__assign({}, baseDom.attributes), { 'data-mce-color': itemValue }),\n            styles: { 'background-color': itemValue }\n          });\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    var renderItemDomStructure = function (ariaLabel) {\n      var domTitle = ariaLabel.map(function (label) {\n        return { attributes: { title: global$e.translate(label) } };\n      }).getOr({});\n      return __assign({\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ]\n      }, domTitle);\n    };\n    var renderNormalItemStructure = function (info, providersBackstage, renderIcons, fallbackIcon) {\n      var iconSpec = {\n        tag: 'div',\n        classes: [iconClass]\n      };\n      var renderIcon = function (iconName) {\n        return render$3(iconName, iconSpec, providersBackstage.icons, fallbackIcon);\n      };\n      var renderEmptyIcon = function () {\n        return Optional.some({ dom: iconSpec });\n      };\n      var leftIcon = renderIcons ? info.iconContent.map(renderIcon).orThunk(renderEmptyIcon) : Optional.none();\n      var checkmark = info.checkMark;\n      var textRender = Optional.from(info.meta).fold(function () {\n        return renderText;\n      }, function (meta) {\n        return has$2(meta, 'style') ? curry(renderStyledText, meta.style) : renderText;\n      });\n      var content = info.htmlContent.fold(function () {\n        return info.textContent.map(textRender);\n      }, function (html) {\n        return Optional.some(renderHtml(html, [textClass]));\n      });\n      var menuItem = {\n        dom: renderItemDomStructure(info.ariaLabel),\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          checkmark,\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    var renderItemStructure = function (info, providersBackstage, renderIcons, fallbackIcon) {\n      if (fallbackIcon === void 0) {\n        fallbackIcon = Optional.none();\n      }\n      if (info.presets === 'color') {\n        return renderColorStructure(info, providersBackstage, fallbackIcon);\n      } else {\n        return renderNormalItemStructure(info, providersBackstage, renderIcons, fallbackIcon);\n      }\n    };\n\n    var tooltipBehaviour = function (meta, sharedBackstage) {\n      return get$e(meta, 'tooltipWorker').map(function (tooltipWorker) {\n        return [Tooltipping.config({\n            lazySink: sharedBackstage.getSink,\n            tooltipDom: {\n              tag: 'div',\n              classes: ['tox-tooltip-worker-container']\n            },\n            tooltipComponents: [],\n            anchor: function (comp) {\n              return {\n                type: 'submenu',\n                item: comp,\n                overrides: { maxHeightFunction: expandable$1 }\n              };\n            },\n            mode: 'follow-highlight',\n            onShow: function (component, _tooltip) {\n              tooltipWorker(function (elm) {\n                Tooltipping.setComponents(component, [external$2({ element: SugarElement.fromDom(elm) })]);\n              });\n            }\n          })];\n      }).getOr([]);\n    };\n    var encodeText = function (text) {\n      return global$b.DOM.encode(text);\n    };\n    var replaceText = function (text, matchText) {\n      var translated = global$e.translate(text);\n      var encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        var escapedMatchRegex = new RegExp(escape(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, function (match) {\n          return '<span class=\"tox-autocompleter-highlight\">' + match + '</span>';\n        });\n      } else {\n        return encoded;\n      }\n    };\n    var renderAutocompleteItem = function (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var structure = renderItemStructure({\n        presets: presets,\n        textContent: Optional.none(),\n        htmlContent: useText ? spec.text.map(function (text) {\n          return replaceText(text, matchText);\n        }) : Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Optional.none(),\n        checkMark: Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      return renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: constant$1({}),\n        onAction: function (_api) {\n          return onItemValueHandler(spec.value, spec.meta);\n        },\n        onSetup: constant$1(noop),\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec.meta, sharedBackstage)\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    var render$2 = function (items, extras) {\n      return map$2(items, function (item) {\n        switch (item.type) {\n        case 'cardcontainer':\n          return renderContainer(item, render$2(item.items, extras));\n        case 'cardimage':\n          return renderImage(item.src, item.classes, item.alt);\n        case 'cardtext':\n          var shouldHighlight = item.name.exists(function (name) {\n            return contains$2(extras.cardText.highlightOn, name);\n          });\n          var matchText = shouldHighlight ? Optional.from(extras.cardText.matchText).getOr('') : '';\n          return renderHtml(replaceText(item.text, matchText), item.classes);\n        }\n      });\n    };\n    var renderCardMenuItem = function (spec, itemResponse, sharedBackstage, extras) {\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            Disabling.set(component, state);\n            each$1(descendants(component.element, '*'), function (elm) {\n              component.getSystem().getByDom(elm).each(function (comp) {\n                if (comp.hasConfigured(Disabling)) {\n                  Disabling.set(comp, state);\n                }\n              });\n            });\n          }\n        };\n      };\n      var structure = {\n        dom: renderItemDomStructure(spec.label),\n        optComponents: [Optional.some({\n            dom: {\n              tag: 'div',\n              classes: [\n                containerClass,\n                containerRowClass\n              ]\n            },\n            components: render$2(spec.items, extras)\n          })]\n      };\n      return renderCommonItem({\n        data: buildData(__assign({ text: Optional.none() }, spec)),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: Optional.from(extras.itemBehaviours).getOr([])\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    var renderChoiceItem = function (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          setActive: function (state) {\n            Toggling.set(component, state);\n          },\n          isActive: function () {\n            return Toggling.isOn(component);\n          },\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: presets,\n        textContent: useText ? spec.text : Optional.none(),\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Optional.none(),\n        checkMark: useText ? Optional.some(renderCheckmark(providersBackstage.icons)) : Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: function (_api) {\n          return onItemValueHandler(spec.value);\n        },\n        onSetup: function (api) {\n          api.setActive(isSelected);\n          return noop;\n        },\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    var parts$f = generate$3(owner$2(), parts$h());\n\n    var hexColour = function (value) {\n      return { value: value };\n    };\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    var longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    var isHexString = function (hex) {\n      return shorthandRegex.test(hex) || longformRegex.test(hex);\n    };\n    var normalizeHex = function (hex) {\n      return removeLeading(hex, '#').toUpperCase();\n    };\n    var fromString$1 = function (hex) {\n      return isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    };\n    var getLongForm = function (hex) {\n      var hexString = hex.value.replace(shorthandRegex, function (m, r, g, b) {\n        return r + r + g + g + b + b;\n      });\n      return { value: hexString };\n    };\n    var extractValues = function (hex) {\n      var longForm = getLongForm(hex);\n      var splitForm = longformRegex.exec(longForm.value);\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    var toHex = function (component) {\n      var hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    var fromRgba = function (rgbaColour) {\n      var value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    var min = Math.min;\n    var max = Math.max;\n    var round$1 = Math.round;\n    var rgbRegex = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/;\n    var rgbaRegex = /^rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*(\\d?(?:\\.\\d+)?)\\)/;\n    var rgbaColour = function (red, green, blue, alpha) {\n      return {\n        red: red,\n        green: green,\n        blue: blue,\n        alpha: alpha\n      };\n    };\n    var isRgbaComponent = function (value) {\n      var num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    var fromHsv = function (hsv) {\n      var r;\n      var g;\n      var b;\n      var hue = (hsv.hue || 0) % 360;\n      var saturation = hsv.saturation / 100;\n      var brightness = hsv.value / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$1(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      var side = hue / 60;\n      var chroma = brightness * saturation;\n      var x = chroma * (1 - Math.abs(side % 2 - 1));\n      var match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$1(255 * (r + match));\n      g = round$1(255 * (g + match));\n      b = round$1(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    var fromHex = function (hexColour) {\n      var result = extractValues(hexColour);\n      var red = parseInt(result[1], 16);\n      var green = parseInt(result[2], 16);\n      var blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    var fromStringValues = function (red, green, blue, alpha) {\n      var r = parseInt(red, 10);\n      var g = parseInt(green, 10);\n      var b = parseInt(blue, 10);\n      var a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    var fromString = function (rgbaString) {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      var rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      var rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    var toString = function (rgba) {\n      return 'rgba(' + rgba.red + ',' + rgba.green + ',' + rgba.blue + ',' + rgba.alpha + ')';\n    };\n    var red = rgbaColour(255, 0, 0, 1);\n\n    var fireSkinLoaded$1 = function (editor) {\n      return editor.fire('SkinLoaded');\n    };\n    var fireSkinLoadError$1 = function (editor, error) {\n      return editor.fire('SkinLoadError', error);\n    };\n    var fireResizeEditor = function (editor) {\n      return editor.fire('ResizeEditor');\n    };\n    var fireResizeContent = function (editor, e) {\n      return editor.fire('ResizeContent', e);\n    };\n    var fireScrollContent = function (editor, e) {\n      return editor.fire('ScrollContent', e);\n    };\n    var fireTextColorChange = function (editor, data) {\n      return editor.fire('TextColorChange', data);\n    };\n\n    var hsvColour = function (hue, saturation, value) {\n      return {\n        hue: hue,\n        saturation: saturation,\n        value: value\n      };\n    };\n    var fromRgb = function (rgbaColour) {\n      var h = 0;\n      var s = 0;\n      var v = 0;\n      var r = rgbaColour.red / 255;\n      var g = rgbaColour.green / 255;\n      var b = rgbaColour.blue / 255;\n      var minRGB = Math.min(r, Math.min(g, b));\n      var maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      var d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    var hexToHsv = function (hex) {\n      return fromRgb(fromHex(hex));\n    };\n    var hsvToHex = function (hsv) {\n      return fromRgba(fromHsv(hsv));\n    };\n    var anyToHex = function (color) {\n      return fromString$1(color).orThunk(function () {\n        return fromString(color).map(fromRgba);\n      }).getOrThunk(function () {\n        var canvas = document.createElement('canvas');\n        canvas.height = 1;\n        canvas.width = 1;\n        var canvasContext = canvas.getContext('2d');\n        canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n        canvasContext.fillStyle = '#FFFFFF';\n        canvasContext.fillStyle = color;\n        canvasContext.fillRect(0, 0, 1, 1);\n        var rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n        var r = rgba[0];\n        var g = rgba[1];\n        var b = rgba[2];\n        var a = rgba[3];\n        return fromRgba(rgbaColour(r, g, b, a));\n      });\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    var storageName = 'tinymce-custom-colors';\n    function ColorCache (max) {\n      if (max === void 0) {\n        max = 10;\n      }\n      var storageString = global$8.getItem(storageName);\n      var localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      var prune = function (list) {\n        var diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      var cache = prune(localstorage);\n      var add = function (key) {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$8.setItem(storageName, JSON.stringify(cache));\n      };\n      var remove = function (idx) {\n        cache.splice(idx, 1);\n      };\n      var state = function () {\n        return cache.slice(0);\n      };\n      return {\n        add: add,\n        state: state\n      };\n    }\n\n    var choiceItem = 'choiceitem';\n    var defaultColors = [\n      {\n        type: choiceItem,\n        text: 'Light Green',\n        value: '#BFEDD2'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Yellow',\n        value: '#FBEEB8'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Red',\n        value: '#F8CAC6'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Purple',\n        value: '#ECCAFA'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Blue',\n        value: '#C2E0F4'\n      },\n      {\n        type: choiceItem,\n        text: 'Green',\n        value: '#2DC26B'\n      },\n      {\n        type: choiceItem,\n        text: 'Yellow',\n        value: '#F1C40F'\n      },\n      {\n        type: choiceItem,\n        text: 'Red',\n        value: '#E03E2D'\n      },\n      {\n        type: choiceItem,\n        text: 'Purple',\n        value: '#B96AD9'\n      },\n      {\n        type: choiceItem,\n        text: 'Blue',\n        value: '#3598DB'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Turquoise',\n        value: '#169179'\n      },\n      {\n        type: choiceItem,\n        text: 'Orange',\n        value: '#E67E23'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Red',\n        value: '#BA372A'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Purple',\n        value: '#843FA1'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Blue',\n        value: '#236FA1'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Gray',\n        value: '#ECF0F1'\n      },\n      {\n        type: choiceItem,\n        text: 'Medium Gray',\n        value: '#CED4D9'\n      },\n      {\n        type: choiceItem,\n        text: 'Gray',\n        value: '#95A5A6'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Gray',\n        value: '#7E8C8D'\n      },\n      {\n        type: choiceItem,\n        text: 'Navy Blue',\n        value: '#34495E'\n      },\n      {\n        type: choiceItem,\n        text: 'Black',\n        value: '#000000'\n      },\n      {\n        type: choiceItem,\n        text: 'White',\n        value: '#ffffff'\n      }\n    ];\n    var colorCache = ColorCache(10);\n    var mapColors = function (colorMap) {\n      var colors = [];\n      for (var i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: '#' + anyToHex(colorMap[i]).value,\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    var getColorCols$2 = function (editor, defaultCols) {\n      return editor.getParam('color_cols', defaultCols, 'number');\n    };\n    var hasCustomColors$1 = function (editor) {\n      return editor.getParam('custom_colors') !== false;\n    };\n    var getColorMap = function (editor) {\n      return editor.getParam('color_map');\n    };\n    var getColors$2 = function (editor) {\n      var unmapped = getColorMap(editor);\n      return unmapped !== undefined ? mapColors(unmapped) : defaultColors;\n    };\n    var getCurrentColors = function () {\n      return map$2(colorCache.state(), function (color) {\n        return {\n          type: choiceItem,\n          text: color,\n          value: color\n        };\n      });\n    };\n    var addColor = function (color) {\n      colorCache.add(color);\n    };\n\n    var fallbackColor = '#000000';\n    var getCurrentColor = function (editor, format) {\n      var color;\n      editor.dom.getParents(editor.selection.getStart(), function (elm) {\n        var value;\n        if (value = elm.style[format === 'forecolor' ? 'color' : 'background-color']) {\n          color = color ? color : value;\n        }\n      });\n      return Optional.from(color);\n    };\n    var applyFormat = function (editor, format, value) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.apply(format, { value: value });\n        editor.nodeChanged();\n      });\n    };\n    var removeFormat = function (editor, format) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, null, true);\n        editor.nodeChanged();\n      });\n    };\n    var registerCommands = function (editor) {\n      editor.addCommand('mceApplyTextcolor', function (format, value) {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', function (format) {\n        removeFormat(editor, format);\n      });\n    };\n    var calcCols = function (colors) {\n      return Math.max(5, Math.ceil(Math.sqrt(colors)));\n    };\n    var getColorCols$1 = function (editor) {\n      var colors = getColors$2(editor);\n      var defaultCols = calcCols(colors.length);\n      return getColorCols$2(editor, defaultCols);\n    };\n    var getAdditionalColors = function (hasCustom) {\n      var type = 'choiceitem';\n      var remove = {\n        type: type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      var custom = {\n        type: type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    var applyColor = function (editor, format, value, onChoice) {\n      if (value === 'custom') {\n        var dialog = colorPickerDialog(editor);\n        dialog(function (colorOpt) {\n          colorOpt.each(function (color) {\n            addColor(color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, fallbackColor);\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    var getColors$1 = function (colors, hasCustom) {\n      return colors.concat(getCurrentColors().concat(getAdditionalColors(hasCustom)));\n    };\n    var getFetch$1 = function (colors, hasCustom) {\n      return function (callback) {\n        callback(getColors$1(colors, hasCustom));\n      };\n    };\n    var setIconColor = function (splitButtonApi, name, newColor) {\n      var id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      splitButtonApi.setIconFill(id, newColor);\n    };\n    var registerTextColorButton = function (editor, name, format, tooltip, lastColor) {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip: tooltip,\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: function (value) {\n          var optCurrentRgb = getCurrentColor(editor, format);\n          return optCurrentRgb.bind(function (currentRgb) {\n            return fromString(currentRgb).map(function (rgba) {\n              var currentHex = fromRgba(rgba).value;\n              return contains$1(value.toLowerCase(), currentHex);\n            });\n          }).getOr(false);\n        },\n        columns: getColorCols$1(editor),\n        fetch: getFetch$1(getColors$2(editor), hasCustomColors$1(editor)),\n        onAction: function (_splitButtonApi) {\n          applyColor(editor, format, lastColor.get(), noop);\n        },\n        onItemAction: function (_splitButtonApi, value) {\n          applyColor(editor, format, value, function (newColor) {\n            lastColor.set(newColor);\n            fireTextColorChange(editor, {\n              name: name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: function (splitButtonApi) {\n          setIconColor(splitButtonApi, name, lastColor.get());\n          var handler = function (e) {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return function () {\n            editor.off('TextColorChange', handler);\n          };\n        }\n      });\n    };\n    var registerTextColorMenuItem = function (editor, name, format, text) {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text: text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        getSubmenuItems: function () {\n          return [{\n              type: 'fancymenuitem',\n              fancytype: 'colorswatch',\n              onAction: function (data) {\n                applyColor(editor, format, data.value, noop);\n              }\n            }];\n        }\n      });\n    };\n    var colorPickerDialog = function (editor) {\n      return function (callback, value) {\n        var isValid = false;\n        var onSubmit = function (api) {\n          var data = api.getData();\n          var hex = data.colorpicker;\n          if (isValid) {\n            callback(Optional.from(hex));\n            api.close();\n          } else {\n            editor.windowManager.alert(editor.translate([\n              'Invalid hex color code: {0}',\n              hex\n            ]));\n          }\n        };\n        var onAction = function (_api, details) {\n          if (details.name === 'hex-valid') {\n            isValid = details.value;\n          }\n        };\n        var initialData = { colorpicker: value };\n        editor.windowManager.open({\n          title: 'Color Picker',\n          size: 'normal',\n          body: {\n            type: 'panel',\n            items: [{\n                type: 'colorpicker',\n                name: 'colorpicker',\n                label: 'Color'\n              }]\n          },\n          buttons: [\n            {\n              type: 'cancel',\n              name: 'cancel',\n              text: 'Cancel'\n            },\n            {\n              type: 'submit',\n              name: 'save',\n              text: 'Save',\n              primary: true\n            }\n          ],\n          initialData: initialData,\n          onAction: onAction,\n          onSubmit: onSubmit,\n          onClose: noop,\n          onCancel: function () {\n            callback(Optional.none());\n          }\n        });\n      };\n    };\n    var register$a = function (editor) {\n      registerCommands(editor);\n      var lastForeColor = Cell(fallbackColor);\n      var lastBackColor = Cell(fallbackColor);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color');\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color');\n    };\n\n    var createPartialChoiceMenu = function (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) {\n      var hasIcons = menuHasIcons(items);\n      var presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      var alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, presets);\n    };\n    var createChoiceItems = function (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) {\n      return cat(map$2(items, function (item) {\n        if (item.type === 'choiceitem') {\n          return createChoiceMenuItem(item).fold(handleError, function (d) {\n            return Optional.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(item.value), itemResponse, providersBackstage, menuHasIcons(items)));\n          });\n        } else {\n          return Optional.none();\n        }\n      }));\n    };\n\n    var deriveMenuMovement = function (columns, presets) {\n      var menuMarkers = markers(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        var rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass\n        };\n      }\n    };\n    var deriveCollectionMovement = function (columns, presets) {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? '.' + colorClass : '.' + selectableClass\n          }\n        };\n      }\n    };\n\n    var renderColorSwatchItem = function (spec, backstage) {\n      var items = getColorItems(spec, backstage);\n      var columns = backstage.colorinput.getColorCols();\n      var presets = 'color';\n      var menuSpec = createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n        spec.onAction({ value: value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, backstage.shared.providers);\n      var widgetSpec = __assign(__assign({}, menuSpec), {\n        markers: markers(presets),\n        movement: deriveMenuMovement(columns, presets)\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget(Menu.sketch(widgetSpec))]\n      };\n    };\n    var getColorItems = function (spec, backstage) {\n      var useCustomColors = spec.initData.allowCustomColors && backstage.colorinput.hasCustomColors();\n      return spec.initData.colors.fold(function () {\n        return getColors$1(backstage.colorinput.getColors(), useCustomColors);\n      }, function (colors) {\n        return colors.concat(getAdditionalColors(useCustomColors));\n      });\n    };\n\n    var cellOverEvent = generate$6('cell-over');\n    var cellExecuteEvent = generate$6('cell-execute');\n    var makeCell = function (row, col, labelId) {\n      var _a;\n      var emitCellOver = function (c) {\n        return emitWith(c, cellOverEvent, {\n          row: row,\n          col: col\n        });\n      };\n      var emitExecute = function (c) {\n        return emitWith(c, cellExecuteEvent, {\n          row: row,\n          col: col\n        });\n      };\n      var onClick = function (c, se) {\n        se.stop();\n        emitExecute(c);\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: (_a = { role: 'button' }, _a['aria-labelledby'] = labelId, _a)\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run$1(mouseover(), Focusing.focus),\n            run$1(execute$5(), emitExecute),\n            run$1(click(), onClick),\n            run$1(tap(), onClick)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    var makeCells = function (labelId, numRows, numCols) {\n      var cells = [];\n      for (var i = 0; i < numRows; i++) {\n        var row = [];\n        for (var j = 0; j < numCols; j++) {\n          row.push(makeCell(i, j, labelId));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    var selectCells = function (cells, selectedRow, selectedColumn, numRows, numColumns) {\n      for (var i = 0; i < numRows; i++) {\n        for (var j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    var makeComponents = function (cells) {\n      return bind$3(cells, function (cellRow) {\n        return map$2(cellRow, premade);\n      });\n    };\n    var makeLabelText = function (row, col) {\n      return text$1(col + 'x' + row);\n    };\n    var renderInsertTableMenuItem = function (spec) {\n      var numRows = 10;\n      var numColumns = 10;\n      var sizeLabelId = generate$6('size-label');\n      var cells = makeCells(sizeLabelId, numRows, numColumns);\n      var emptyLabelText = makeLabelText(0, 0);\n      var memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label'],\n          attributes: { id: sizeLabelId }\n        },\n        components: [emptyLabelText],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runOnAttached(function (c) {\n                  Replacing.set(memLabel.get(c), [emptyLabelText]);\n                }),\n                runWithTarget(cellOverEvent, function (c, t, e) {\n                  var _a = e.event, row = _a.row, col = _a.col;\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row + 1, col + 1)]);\n                }),\n                runWithTarget(cellExecuteEvent, function (c, _, e) {\n                  var _a = e.event, row = _a.row, col = _a.col;\n                  spec.onAction({\n                    numRows: row + 1,\n                    numColumns: col + 1\n                  });\n                  emit(c, sandboxClose());\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows: numRows,\n                  numColumns: numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    };\n\n    var fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    var renderFancyMenuItem = function (spec, backstage) {\n      return get$e(fancyMenuItems, spec.fancytype).map(function (render) {\n        return render(spec, backstage);\n      });\n    };\n\n    var renderNestedItem = function (spec, itemResponse, providersBackstage, renderIcons, downwardsCaret) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      if (downwardsCaret === void 0) {\n        downwardsCaret = false;\n      }\n      var caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.some(caret),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi: getApi,\n        disabled: spec.disabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    var renderNormalItem = function (spec, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.none(),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi: getApi,\n        disabled: spec.disabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    var renderSeparatorItem = function (spec) {\n      var innerHtml = spec.text.fold(function () {\n        return {};\n      }, function (text) {\n        return { innerHtml: text };\n      });\n      return {\n        type: 'separator',\n        dom: __assign({\n          tag: 'div',\n          classes: [\n            selectableClass,\n            groupHeadingClass\n          ]\n        }, innerHtml),\n        components: []\n      };\n    };\n\n    var renderToggleMenuItem = function (spec, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          setActive: function (state) {\n            Toggling.set(component, state);\n          },\n          isActive: function () {\n            return Toggling.isOn(component);\n          },\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        checkMark: Optional.some(renderCheckmark(providersBackstage.icons)),\n        caret: Optional.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    var autocomplete = renderAutocompleteItem;\n    var separator$3 = renderSeparatorItem;\n    var normal = renderNormalItem;\n    var nested = renderNestedItem;\n    var toggle$1 = renderToggleMenuItem;\n    var fancy = renderFancyMenuItem;\n    var card = renderCardMenuItem;\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    var createMenuItemFromBridge = function (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) {\n      var providersBackstage = backstage.shared.providers;\n      var parseForHorizontalMenu = function (menuitem) {\n        return !isHorizontalMenu ? menuitem : __assign(__assign({}, menuitem), {\n          shortcut: Optional.none(),\n          icon: menuitem.text.isSome() ? Optional.none() : menuitem.icon\n        });\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons));\n        });\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu));\n        });\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons));\n        });\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(separator$3(d));\n        });\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, function (d) {\n          return fancy(parseForHorizontalMenu(d), backstage);\n        });\n      default: {\n          console.error('Unknown item in general menu', item);\n          return Optional.none();\n        }\n      }\n    };\n    var createAutocompleteItems = function (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage, highlightOn) {\n      var renderText = columns === 1;\n      var renderIcons = !renderText || menuHasIcons(items);\n      return cat(map$2(items, function (item) {\n        switch (item.type) {\n        case 'separator':\n          return createSeparatorItem(item).fold(handleError, function (d) {\n            return Optional.some(separator$3(d));\n          });\n        case 'cardmenuitem':\n          return createCardMenuItem(item).fold(handleError, function (d) {\n            return Optional.some(card(__assign(__assign({}, d), {\n              onAction: function (api) {\n                d.onAction(api);\n                onItemValueHandler(d.value, d.meta);\n              }\n            }), itemResponse, sharedBackstage, {\n              itemBehaviours: tooltipBehaviour(d.meta, sharedBackstage),\n              cardText: {\n                matchText: matchText,\n                highlightOn: highlightOn\n              }\n            }));\n          });\n        case 'autocompleteitem':\n        default:\n          return createAutocompleterItem(item).fold(handleError, function (d) {\n            return Optional.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons));\n          });\n        }\n      }));\n    };\n    var createPartialMenu = function (value, items, itemResponse, backstage, isHorizontalMenu) {\n      var hasIcons = menuHasIcons(items);\n      var alloyItems = cat(map$2(items, function (item) {\n        var itemHasIcon = function (i) {\n          return isHorizontalMenu ? !has$2(i, 'text') : hasIcons;\n        };\n        var createItem = function (i) {\n          return createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        };\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem(__assign(__assign({}, item), { disabled: true }));\n        } else {\n          return createItem(item);\n        }\n      }));\n      var createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, 'normal');\n    };\n    var createTieredDataFrom = function (partialMenu) {\n      return tieredMenu.singleData(partialMenu.value, partialMenu);\n    };\n    var createMenuFrom = function (partialMenu, columns, focusMode, presets) {\n      var focusManager = focusMode === FocusMode.ContentFocus ? highlights() : dom$2();\n      var movement = deriveMenuMovement(columns, presets);\n      var menuMarkers = markers(presets);\n      return {\n        dom: partialMenu.dom,\n        components: partialMenu.components,\n        items: partialMenu.items,\n        value: partialMenu.value,\n        markers: {\n          selectedItem: menuMarkers.selectedItem,\n          item: menuMarkers.item\n        },\n        movement: movement,\n        fakeFocus: focusMode === FocusMode.ContentFocus,\n        focusManager: focusManager,\n        menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached(function (comp, _se) {\n            detectSize(comp, 4, menuMarkers.item).each(function (_a) {\n              var numColumns = _a.numColumns, numRows = _a.numRows;\n              Keying.setGridSize(comp, numRows, numColumns);\n            });\n          })])\n      };\n    };\n\n    var register$9 = function (editor, sharedBackstage) {\n      var activeAutocompleter = value$1();\n      var processingAction = Cell(false);\n      var autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter']\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [run$1(dismissRequested(), function () {\n              return cancelIfNecessary();\n            })])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      var isMenuOpen = function () {\n        return InlineView.isOpen(autocompleter);\n      };\n      var isActive = function () {\n        return activeAutocompleter.get().isSome();\n      };\n      var hideIfNecessary = function () {\n        if (isActive()) {\n          InlineView.hide(autocompleter);\n        }\n      };\n      var cancelIfNecessary = function () {\n        if (isActive()) {\n          var lastElement = activeAutocompleter.get().map(function (ac) {\n            return ac.element;\n          });\n          detect(lastElement.getOr(SugarElement.fromDom(editor.selection.getNode()))).each(unwrap);\n          hideIfNecessary();\n          activeAutocompleter.clear();\n          processingAction.set(false);\n        }\n      };\n      var getAutocompleters = cached(function () {\n        return register$b(editor);\n      });\n      var getCombinedItems = function (triggerChar, matches) {\n        var columns = findMap(matches, function (m) {\n          return Optional.from(m.columns);\n        }).getOr(1);\n        return bind$3(matches, function (match) {\n          var choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, function (itemValue, itemMeta) {\n            var nr = editor.selection.getRng();\n            getContext(editor.dom, nr, triggerChar).fold(function () {\n              return console.error('Lost context. Cursor probably moved');\n            }, function (_a) {\n              var range = _a.range;\n              var autocompleterApi = {\n                hide: function () {\n                  cancelIfNecessary();\n                },\n                reload: function (fetchOptions) {\n                  hideIfNecessary();\n                  load(fetchOptions);\n                }\n              };\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage, match.highlightOn);\n        });\n      };\n      var commenceIfNecessary = function (context) {\n        if (!isActive()) {\n          var wrapper = create$5(editor, context.range);\n          activeAutocompleter.set({\n            triggerChar: context.triggerChar,\n            element: wrapper,\n            matchLength: context.text.length\n          });\n          processingAction.set(false);\n        }\n      };\n      var display = function (ac, context, lookupData, items) {\n        ac.matchLength = context.text.length;\n        var columns = findMap(lookupData, function (ld) {\n          return Optional.from(ld.columns);\n        }).getOr(1);\n        InlineView.showAt(autocompleter, Menu.sketch(createMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, 'normal'), columns, FocusMode.ContentFocus, 'normal')), {\n          anchor: {\n            type: 'node',\n            root: SugarElement.fromDom(editor.getBody()),\n            node: Optional.from(ac.element)\n          }\n        });\n        InlineView.getContent(autocompleter).each(Highlighting.highlightFirst);\n      };\n      var doLookup = function (fetchOptions) {\n        return activeAutocompleter.get().map(function (ac) {\n          return getContext(editor.dom, editor.selection.getRng(), ac.triggerChar).bind(function (newContext) {\n            return lookupWithContext(editor, getAutocompleters, newContext, fetchOptions);\n          });\n        }).getOrThunk(function () {\n          return lookup$2(editor, getAutocompleters);\n        });\n      };\n      var load = function (fetchOptions) {\n        doLookup(fetchOptions).fold(cancelIfNecessary, function (lookupInfo) {\n          commenceIfNecessary(lookupInfo.context);\n          lookupInfo.lookupData.then(function (lookupData) {\n            activeAutocompleter.get().map(function (ac) {\n              var context = lookupInfo.context;\n              if (ac.triggerChar === context.triggerChar) {\n                var combinedItems = getCombinedItems(context.triggerChar, lookupData);\n                if (combinedItems.length > 0) {\n                  display(ac, context, lookupData, combinedItems);\n                } else if (context.text.length - ac.matchLength >= 10) {\n                  cancelIfNecessary();\n                } else {\n                  hideIfNecessary();\n                }\n              }\n            });\n          });\n        });\n      };\n      var onKeypress = last(function (e) {\n        if (e.which === 27) {\n          return;\n        }\n        load();\n      }, 50);\n      var autocompleterUiApi = {\n        onKeypress: onKeypress,\n        cancelIfNecessary: cancelIfNecessary,\n        isMenuOpen: isMenuOpen,\n        isActive: isActive,\n        isProcessingAction: processingAction.get,\n        getView: function () {\n          return InlineView.getContent(autocompleter);\n        }\n      };\n      if (editor.hasPlugin('rtc') === false) {\n        AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n      }\n    };\n    var Autocompleter = { register: register$9 };\n\n    var closest = function (scope, selector, isRoot) {\n      return closest$1(scope, selector, isRoot).isSome();\n    };\n\n    var DelayedFunction = function (fun, delay) {\n      var ref = null;\n      var schedule = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        ref = setTimeout(function () {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      var cancel = function () {\n        if (ref !== null) {\n          clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel: cancel,\n        schedule: schedule\n      };\n    };\n\n    var SIGNIFICANT_MOVE = 5;\n    var LONGPRESS_DELAY = 400;\n    var getTouch = function (event) {\n      var raw = event.raw;\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(raw.touches[0]);\n    };\n    var isFarEnough = function (touch, data) {\n      var distX = Math.abs(touch.clientX - data.x);\n      var distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    var monitor = function (settings) {\n      var startData = value$1();\n      var longpressFired = Cell(false);\n      var longpress$1 = DelayedFunction(function (event) {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      var handleTouchstart = function (event) {\n        getTouch(event).each(function (touch) {\n          longpress$1.cancel();\n          var data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n        return Optional.none();\n      };\n      var handleTouchmove = function (event) {\n        longpress$1.cancel();\n        getTouch(event).each(function (touch) {\n          startData.on(function (data) {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n            }\n          });\n        });\n        return Optional.none();\n      };\n      var handleTouchend = function (event) {\n        longpress$1.cancel();\n        var isSame = function (data) {\n          return eq(data.target, event.target);\n        };\n        return startData.get().filter(isSame).map(function (_data) {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      var handlers = wrapAll([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      var fireIfReady = function (event, type) {\n        return get$e(handlers, type).bind(function (handler) {\n          return handler(event);\n        });\n      };\n      return { fireIfReady: fireIfReady };\n    };\n\n    var isDangerous = function (event) {\n      var keyEv = event.raw;\n      return keyEv.which === BACKSPACE[0] && !contains$2([\n        'input',\n        'textarea'\n      ], name$2(event.target)) && !closest(event.target, '[contenteditable=\"true\"]');\n    };\n    var isFirefox = function () {\n      return detect$1().browser.isFirefox();\n    };\n    var bindFocus = function (container, handler) {\n      if (isFirefox()) {\n        return capture(container, 'focus', handler);\n      } else {\n        return bind(container, 'focusin', handler);\n      }\n    };\n    var bindBlur = function (container, handler) {\n      if (isFirefox()) {\n        return capture(container, 'blur', handler);\n      } else {\n        return bind(container, 'focusout', handler);\n      }\n    };\n    var setup$d = function (container, rawSettings) {\n      var settings = __assign({ stopBackspace: true }, rawSettings);\n      var pointerEvents = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'touchcancel',\n        'gesturestart',\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      var tapEvent = monitor(settings);\n      var simpleEvents = map$2(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'transitioncancel',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), function (type) {\n        return bind(container, type, function (event) {\n          tapEvent.fireIfReady(event, type).each(function (tapStopped) {\n            if (tapStopped) {\n              event.kill();\n            }\n          });\n          var stopped = settings.triggerEvent(type, event);\n          if (stopped) {\n            event.kill();\n          }\n        });\n      });\n      var pasteTimeout = value$1();\n      var onPaste = bind(container, 'paste', function (event) {\n        tapEvent.fireIfReady(event, 'paste').each(function (tapStopped) {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        var stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(setTimeout(function () {\n          settings.triggerEvent(postPaste(), event);\n        }, 0));\n      });\n      var onKeydown = bind(container, 'keydown', function (event) {\n        var stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      var onFocusIn = bindFocus(container, function (event) {\n        var stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      var focusoutTimeout = value$1();\n      var onFocusOut = bindBlur(container, function (event) {\n        var stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(setTimeout(function () {\n          settings.triggerEvent(postBlur(), event);\n        }, 0));\n      });\n      var unbind = function () {\n        each$1(simpleEvents, function (e) {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.on(clearTimeout);\n        focusoutTimeout.on(clearTimeout);\n      };\n      return { unbind: unbind };\n    };\n\n    var derive = function (rawEvent, rawTarget) {\n      var source = get$e(rawEvent, 'target').getOr(rawTarget);\n      return Cell(source);\n    };\n\n    var fromSource = function (event, source) {\n      var stopper = Cell(false);\n      var cutter = Cell(false);\n      var stop = function () {\n        stopper.set(true);\n      };\n      var cut = function () {\n        cutter.set(true);\n      };\n      return {\n        stop: stop,\n        cut: cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event: event,\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    var fromExternal = function (event) {\n      var stopper = Cell(false);\n      var stop = function () {\n        stopper.set(true);\n      };\n      return {\n        stop: stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: never,\n        event: event,\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    var adt$1 = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    var doTriggerHandler = function (lookup, eventType, rawEvent, target, source, logger) {\n      var handler = lookup(eventType, target);\n      var simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(function () {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$1.complete();\n      }, function (handlerInfo) {\n        var descHandler = handlerInfo.descHandler;\n        var eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.complete();\n        } else {\n          return parent(handlerInfo.element).fold(function () {\n            logger.logNoParent(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.complete();\n          }, function (parent) {\n            logger.logEventResponse(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.resume(parent);\n          });\n        }\n      });\n    };\n    var doTriggerOnUntilStopped = function (lookup, eventType, rawEvent, rawTarget, source, logger) {\n      return doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(always, function (parent) {\n        return doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger);\n      }, never);\n    };\n    var triggerHandler = function (lookup, eventType, rawEvent, target, logger) {\n      var source = derive(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    var broadcast = function (listeners, rawEvent, _logger) {\n      var simulatedEvent = fromExternal(rawEvent);\n      each$1(listeners, function (listener) {\n        var descHandler = listener.descHandler;\n        var handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    var triggerUntilStopped = function (lookup, eventType, rawEvent, logger) {\n      return triggerOnUntilStopped(lookup, eventType, rawEvent, rawEvent.target, logger);\n    };\n    var triggerOnUntilStopped = function (lookup, eventType, rawEvent, rawTarget, logger) {\n      var source = derive(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    var eventHandler = function (element, descHandler) {\n      return {\n        element: element,\n        descHandler: descHandler\n      };\n    };\n    var broadcastHandler = function (id, handler) {\n      return {\n        id: id,\n        descHandler: handler\n      };\n    };\n    var EventRegistry = function () {\n      var registry = {};\n      var registerId = function (extraArgs, id, events) {\n        each(events, function (v, k) {\n          var handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      var findHandler = function (handlers, elem) {\n        return read$1(elem).bind(function (id) {\n          return get$e(handlers, id);\n        }).map(function (descHandler) {\n          return eventHandler(elem, descHandler);\n        });\n      };\n      var filterByType = function (type) {\n        return get$e(registry, type).map(function (handlers) {\n          return mapToArray(handlers, function (f, id) {\n            return broadcastHandler(id, f);\n          });\n        }).getOr([]);\n      };\n      var find = function (isAboveRoot, type, target) {\n        return get$e(registry, type).bind(function (handlers) {\n          return closest$4(target, function (elem) {\n            return findHandler(handlers, elem);\n          }, isAboveRoot);\n        });\n      };\n      var unregisterId = function (id) {\n        each(registry, function (handlersById, _eventName) {\n          if (has$2(handlersById, id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId: registerId,\n        unregisterId: unregisterId,\n        filterByType: filterByType,\n        find: find\n      };\n    };\n\n    var Registry = function () {\n      var events = EventRegistry();\n      var components = {};\n      var readOrTag = function (component) {\n        var elem = component.element;\n        return read$1(elem).getOrThunk(function () {\n          return write('uid-', component.element);\n        });\n      };\n      var failOnDuplicate = function (component, tagId) {\n        var conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element) + '\\nCannot use it for: ' + element(component.element) + '\\n' + 'The conflicting element is' + (inBody(conflict.element) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      var register = function (component) {\n        var tagId = readOrTag(component);\n        if (hasNonNullableKey(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        var extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events);\n        components[tagId] = component;\n      };\n      var unregister = function (component) {\n        read$1(component.element).each(function (tagId) {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      var filter = function (type) {\n        return events.filterByType(type);\n      };\n      var find = function (isAboveRoot, type, target) {\n        return events.find(isAboveRoot, type, target);\n      };\n      var getById = function (id) {\n        return get$e(components, id);\n      };\n      return {\n        find: find,\n        filter: filter,\n        register: register,\n        unregister: unregister,\n        getById: getById\n      };\n    };\n\n    var factory$j = function (detail) {\n      var _a = detail.dom, attributes = _a.attributes, domWithoutAttributes = __rest(_a, ['attributes']);\n      return {\n        uid: detail.uid,\n        dom: __assign({\n          tag: 'div',\n          attributes: __assign({ role: 'presentation' }, attributes)\n        }, domWithoutAttributes),\n        components: detail.components,\n        behaviours: get$2(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Container = single({\n      name: 'Container',\n      factory: factory$j,\n      configFields: [\n        defaulted('components', []),\n        field('containerBehaviours', []),\n        defaulted('events', {}),\n        defaulted('domModification', {}),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    var takeover = function (root) {\n      var isAboveRoot = function (el) {\n        return parent(root.element).fold(always, function (parent) {\n          return eq(el, parent);\n        });\n      };\n      var registry = Registry();\n      var lookup = function (eventName, target) {\n        return registry.find(isAboveRoot, eventName, target);\n      };\n      var domEvents = setup$d(root.element, {\n        triggerEvent: function (eventName, event) {\n          return monitorEvent(eventName, event.target, function (logger) {\n            return triggerUntilStopped(lookup, eventName, event, logger);\n          });\n        }\n      });\n      var systemApi = {\n        debugInfo: constant$1('real'),\n        triggerEvent: function (eventName, target, data) {\n          monitorEvent(eventName, target, function (logger) {\n            return triggerOnUntilStopped(lookup, eventName, data, target, logger);\n          });\n        },\n        triggerFocus: function (target, originator) {\n          read$1(target).fold(function () {\n            focus$3(target);\n          }, function (_alloyId) {\n            monitorEvent(focus$4(), target, function (logger) {\n              triggerHandler(lookup, focus$4(), {\n                originator: originator,\n                kill: noop,\n                prevent: noop,\n                target: target\n              }, target, logger);\n              return false;\n            });\n          });\n        },\n        triggerEscape: function (comp, simulatedEvent) {\n          systemApi.triggerEvent('keydown', comp.element, simulatedEvent.event);\n        },\n        getByUid: function (uid) {\n          return getByUid(uid);\n        },\n        getByDom: function (elem) {\n          return getByDom(elem);\n        },\n        build: build$1,\n        addToGui: function (c) {\n          add(c);\n        },\n        removeFromGui: function (c) {\n          remove(c);\n        },\n        addToWorld: function (c) {\n          addToWorld(c);\n        },\n        removeFromWorld: function (c) {\n          removeFromWorld(c);\n        },\n        broadcast: function (message) {\n          broadcast$1(message);\n        },\n        broadcastOn: function (channels, message) {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: function (eventName, event) {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: always\n      };\n      var addToWorld = function (component) {\n        component.connect(systemApi);\n        if (!isText$1(component.element)) {\n          registry.register(component);\n          each$1(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element, { target: component.element });\n        }\n      };\n      var removeFromWorld = function (component) {\n        if (!isText$1(component.element)) {\n          each$1(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      var add = function (component) {\n        attach(root, component);\n      };\n      var remove = function (component) {\n        detach(component);\n      };\n      var destroy = function () {\n        domEvents.unbind();\n        remove$5(root.element);\n      };\n      var broadcastData = function (data) {\n        var receivers = registry.filter(receive());\n        each$1(receivers, function (receiver) {\n          var descHandler = receiver.descHandler;\n          var handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      var broadcast$1 = function (message) {\n        broadcastData({\n          universal: true,\n          data: message\n        });\n      };\n      var broadcastOn = function (channels, message) {\n        broadcastData({\n          universal: false,\n          channels: channels,\n          data: message\n        });\n      };\n      var broadcastEvent = function (eventName, event) {\n        var listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      var getByUid = function (uid) {\n        return registry.getById(uid).fold(function () {\n          return Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.'));\n        }, Result.value);\n      };\n      var getByDom = function (elem) {\n        var uid = read$1(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root: root,\n        element: root.element,\n        destroy: destroy,\n        add: add,\n        remove: remove,\n        getByUid: getByUid,\n        getByDom: getByDom,\n        addToWorld: addToWorld,\n        removeFromWorld: removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn: broadcastOn,\n        broadcastEvent: broadcastEvent\n      };\n    };\n\n    var renderBar = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-bar',\n            'tox-form__controls-h-stack'\n          ]\n        },\n        components: map$2(spec.items, backstage.interpreter)\n      };\n    };\n\n    var schema$l = constant$1([\n      defaulted('prefix', 'form-field'),\n      field('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    var parts$e = constant$1([\n      optional({\n        schema: [required$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: function (spec) {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: function (spec) {\n            var excludeFactory = exclude(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [required$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    var factory$i = function (detail, components, _spec, _externals) {\n      var behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: function (container) {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: function (field) {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: function (field, value) {\n              Composing.getCurrent(field).each(function (current) {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      var events = derive$2([runOnAttached(function (component, _simulatedEvent) {\n          var ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(function (field) {\n            var id = generate$6(detail.prefix);\n            ps.label().each(function (label) {\n              set$8(label.element, 'for', id);\n              set$8(field.element, 'id', id);\n            });\n            ps['aria-descriptor']().each(function (descriptor) {\n              var descriptorId = generate$6(detail.prefix);\n              set$8(descriptor.element, 'id', descriptorId);\n              set$8(field.element, 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      var apis = {\n        getField: function (container) {\n          return getPart(container, detail, 'field');\n        },\n        getLabel: function (container) {\n          return getPart(container, detail, 'label');\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: behaviours,\n        events: events,\n        apis: apis\n      };\n    };\n    var FormField = composite({\n      name: 'FormField',\n      configFields: schema$l(),\n      partFields: parts$e(),\n      factory: factory$i,\n      apis: {\n        getField: function (apis, comp) {\n          return apis.getField(comp);\n        },\n        getLabel: function (apis, comp) {\n          return apis.getLabel(comp);\n        }\n      }\n    });\n\n    var exhibit$2 = function (base, tabConfig) {\n      return nu$7({\n        attributes: wrapAll([{\n            key: tabConfig.tabAttr,\n            value: 'true'\n          }])\n      });\n    };\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$2\n    });\n\n    var TabstopSchema = [defaulted('tabAttr', 'data-alloy-tabstop')];\n\n    var Tabstopping = create$8({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    var renderFormFieldWith = function (pLabel, pField, extraClasses, extraBehaviours) {\n      var spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    var renderFormField = function (pLabel, pField) {\n      return renderFormFieldWith(pLabel, pField, [], []);\n    };\n    var renderFormFieldSpecWith = function (pLabel, pField, extraClasses, extraBehaviours) {\n      return {\n        dom: renderFormFieldDomWith(extraClasses),\n        components: pLabel.toArray().concat([pField]),\n        fieldBehaviours: derive$1(extraBehaviours)\n      };\n    };\n    var renderFormFieldDom = function () {\n      return renderFormFieldDomWith([]);\n    };\n    var renderFormFieldDomWith = function (extraClasses) {\n      return {\n        tag: 'div',\n        classes: ['tox-form__group'].concat(extraClasses)\n      };\n    };\n    var renderLabel$2 = function (label, providersBackstage) {\n      return FormField.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label'],\n          innerHtml: providersBackstage.translate(label)\n        }\n      });\n    };\n\n    var formChangeEvent = generate$6('form-component-change');\n    var formCloseEvent = generate$6('form-close');\n    var formCancelEvent = generate$6('form-cancel');\n    var formActionEvent = generate$6('form-action');\n    var formSubmitEvent = generate$6('form-submit');\n    var formBlockEvent = generate$6('form-block');\n    var formUnblockEvent = generate$6('form-unblock');\n    var formTabChangeEvent = generate$6('form-tabchange');\n    var formResizeEvent = generate$6('form-resize');\n\n    var renderCollection = function (spec, providersBackstage) {\n      var _a;\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var runOnItem = function (f) {\n        return function (comp, se) {\n          closest$1(se.event.target, '[data-collection-item-value]').each(function (target) {\n            f(comp, se, target, get$d(target, 'data-collection-item-value'));\n          });\n        };\n      };\n      var setContents = function (comp, items) {\n        var htmlLines = map$2(items, function (item) {\n          var itemText = global$e.translate(item.text);\n          var textContent = spec.columns === 1 ? '<div class=\"tox-collection__item-label\">' + itemText + '</div>' : '';\n          var iconContent = '<div class=\"tox-collection__item-icon\">' + item.icon + '</div>';\n          var mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          var ariaLabel = itemText.replace(/\\_| \\- |\\-/g, function (match) {\n            return mapItemName[match];\n          });\n          var disabledClass = providersBackstage.isDisabled() ? ' tox-collection__item--state-disabled' : '';\n          return '<div class=\"tox-collection__item' + disabledClass + '\" tabindex=\"-1\" data-collection-item-value=\"' + global$7.encodeAllRaw(item.value) + '\" title=\"' + ariaLabel + '\" aria-label=\"' + ariaLabel + '\">' + iconContent + textContent + '</div>';\n        });\n        var chunks = spec.columns !== 'auto' && spec.columns > 1 ? chunk$1(htmlLines, spec.columns) : [htmlLines];\n        var html = map$2(chunks, function (ch) {\n          return '<div class=\"tox-collection__group\">' + ch.join('') + '</div>';\n        });\n        set$5(comp.element, html.join(''));\n      };\n      var onClick = runOnItem(function (comp, se, tgt, itemValue) {\n        se.stop();\n        if (!providersBackstage.isDisabled()) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }\n      });\n      var collectionEvents = [\n        run$1(mouseover(), runOnItem(function (comp, se, tgt) {\n          focus$3(tgt);\n        })),\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        run$1(focusin(), runOnItem(function (comp, se, tgt) {\n          descendant(comp.element, '.' + activeClass).each(function (currentActive) {\n            remove$2(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run$1(focusout(), runOnItem(function (comp) {\n          descendant(comp.element, '.' + activeClass).each(function (currentActive) {\n            remove$2(currentActive, activeClass);\n          });\n        })),\n        runOnExecute$1(runOnItem(function (comp, se, tgt, itemValue) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      var iterCollectionItems = function (comp, applyAttributes) {\n        return map$2(descendants(comp.element, '.tox-collection__item'), applyAttributes);\n      };\n      var pField = FormField.parts.field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity$1 },\n        behaviours: derive$1([\n          Disabling.config({\n            disabled: providersBackstage.isDisabled,\n            onDisabled: function (comp) {\n              iterCollectionItems(comp, function (childElm) {\n                add$2(childElm, 'tox-collection__item--state-disabled');\n                set$8(childElm, 'aria-disabled', true);\n              });\n            },\n            onEnabled: function (comp) {\n              iterCollectionItems(comp, function (childElm) {\n                remove$2(childElm, 'tox-collection__item--state-disabled');\n                remove$7(childElm, 'aria-disabled');\n              });\n            }\n          }),\n          receivingConfig(),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: []\n            },\n            onSetValue: function (comp, items) {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(function (_a) {\n                  var numRows = _a.numRows, numColumns = _a.numColumns;\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ]),\n        eventOrder: (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'alloy.base.behaviour',\n          'collection-events'\n        ], _a)\n      });\n      var extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    var schema$k = constant$1([\n      option('data'),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('tag', 'input'),\n      defaulted('inputClasses', []),\n      onHandler('onSetValue'),\n      defaulted('styles', {}),\n      defaulted('eventOrder', {}),\n      field('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted('selectOnFocus', true)\n    ]);\n    var focusBehaviours = function (detail) {\n      return derive$1([Focusing.config({\n          onFocus: !detail.selectOnFocus ? noop : function (component) {\n            var input = component.element;\n            var value = get$5(input);\n            input.dom.setSelectionRange(0, value.length);\n          }\n        })]);\n    };\n    var behaviours = function (detail) {\n      return __assign(__assign({}, focusBehaviours(detail)), augment(detail.inputBehaviours, [Representing.config({\n          store: __assign(__assign({ mode: 'manual' }, detail.data.map(function (data) {\n            return { initialValue: data };\n          }).getOr({})), {\n            getValue: function (input) {\n              return get$5(input.element);\n            },\n            setValue: function (input, data) {\n              var current = get$5(input.element);\n              if (current !== data) {\n                set$4(input.element, data);\n              }\n            }\n          }),\n          onSetValue: detail.onSetValue\n        })]));\n    };\n    var dom = function (detail) {\n      return {\n        tag: detail.tag,\n        attributes: __assign({ type: 'text' }, detail.inputAttributes),\n        styles: detail.inputStyles,\n        classes: detail.inputClasses\n      };\n    };\n\n    var factory$h = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: dom(detail),\n        components: [],\n        behaviours: behaviours(detail),\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Input = single({\n      name: 'Input',\n      configFields: schema$k(),\n      factory: factory$h\n    });\n\n    var exports$1 = {}, module = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (global, factory) {\n        typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.EphoxContactWrapper = factory());\n      }(this, function () {\n        var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n        var promise = { exports: {} };\n        (function (module) {\n          (function (root) {\n            var setTimeoutFunc = setTimeout;\n            function noop() {\n            }\n            function bind(fn, thisArg) {\n              return function () {\n                fn.apply(thisArg, arguments);\n              };\n            }\n            function Promise(fn) {\n              if (typeof this !== 'object')\n                throw new TypeError('Promises must be constructed via new');\n              if (typeof fn !== 'function')\n                throw new TypeError('not a function');\n              this._state = 0;\n              this._handled = false;\n              this._value = undefined;\n              this._deferreds = [];\n              doResolve(fn, this);\n            }\n            function handle(self, deferred) {\n              while (self._state === 3) {\n                self = self._value;\n              }\n              if (self._state === 0) {\n                self._deferreds.push(deferred);\n                return;\n              }\n              self._handled = true;\n              Promise._immediateFn(function () {\n                var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                if (cb === null) {\n                  (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                  return;\n                }\n                var ret;\n                try {\n                  ret = cb(self._value);\n                } catch (e) {\n                  reject(deferred.promise, e);\n                  return;\n                }\n                resolve(deferred.promise, ret);\n              });\n            }\n            function resolve(self, newValue) {\n              try {\n                if (newValue === self)\n                  throw new TypeError('A promise cannot be resolved with itself.');\n                if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                  var then = newValue.then;\n                  if (newValue instanceof Promise) {\n                    self._state = 3;\n                    self._value = newValue;\n                    finale(self);\n                    return;\n                  } else if (typeof then === 'function') {\n                    doResolve(bind(then, newValue), self);\n                    return;\n                  }\n                }\n                self._state = 1;\n                self._value = newValue;\n                finale(self);\n              } catch (e) {\n                reject(self, e);\n              }\n            }\n            function reject(self, newValue) {\n              self._state = 2;\n              self._value = newValue;\n              finale(self);\n            }\n            function finale(self) {\n              if (self._state === 2 && self._deferreds.length === 0) {\n                Promise._immediateFn(function () {\n                  if (!self._handled) {\n                    Promise._unhandledRejectionFn(self._value);\n                  }\n                });\n              }\n              for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                handle(self, self._deferreds[i]);\n              }\n              self._deferreds = null;\n            }\n            function Handler(onFulfilled, onRejected, promise) {\n              this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n              this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n              this.promise = promise;\n            }\n            function doResolve(fn, self) {\n              var done = false;\n              try {\n                fn(function (value) {\n                  if (done)\n                    return;\n                  done = true;\n                  resolve(self, value);\n                }, function (reason) {\n                  if (done)\n                    return;\n                  done = true;\n                  reject(self, reason);\n                });\n              } catch (ex) {\n                if (done)\n                  return;\n                done = true;\n                reject(self, ex);\n              }\n            }\n            Promise.prototype['catch'] = function (onRejected) {\n              return this.then(null, onRejected);\n            };\n            Promise.prototype.then = function (onFulfilled, onRejected) {\n              var prom = new this.constructor(noop);\n              handle(this, new Handler(onFulfilled, onRejected, prom));\n              return prom;\n            };\n            Promise.all = function (arr) {\n              var args = Array.prototype.slice.call(arr);\n              return new Promise(function (resolve, reject) {\n                if (args.length === 0)\n                  return resolve([]);\n                var remaining = args.length;\n                function res(i, val) {\n                  try {\n                    if (val && (typeof val === 'object' || typeof val === 'function')) {\n                      var then = val.then;\n                      if (typeof then === 'function') {\n                        then.call(val, function (val) {\n                          res(i, val);\n                        }, reject);\n                        return;\n                      }\n                    }\n                    args[i] = val;\n                    if (--remaining === 0) {\n                      resolve(args);\n                    }\n                  } catch (ex) {\n                    reject(ex);\n                  }\n                }\n                for (var i = 0; i < args.length; i++) {\n                  res(i, args[i]);\n                }\n              });\n            };\n            Promise.resolve = function (value) {\n              if (value && typeof value === 'object' && value.constructor === Promise) {\n                return value;\n              }\n              return new Promise(function (resolve) {\n                resolve(value);\n              });\n            };\n            Promise.reject = function (value) {\n              return new Promise(function (resolve, reject) {\n                reject(value);\n              });\n            };\n            Promise.race = function (values) {\n              return new Promise(function (resolve, reject) {\n                for (var i = 0, len = values.length; i < len; i++) {\n                  values[i].then(resolve, reject);\n                }\n              });\n            };\n            Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n              setImmediate(fn);\n            } : function (fn) {\n              setTimeoutFunc(fn, 0);\n            };\n            Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n              if (typeof console !== 'undefined' && console) {\n                console.warn('Possible Unhandled Promise Rejection:', err);\n              }\n            };\n            Promise._setImmediateFn = function _setImmediateFn(fn) {\n              Promise._immediateFn = fn;\n            };\n            Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n              Promise._unhandledRejectionFn = fn;\n            };\n            if (module.exports) {\n              module.exports = Promise;\n            } else if (!root.Promise) {\n              root.Promise = Promise;\n            }\n          }(commonjsGlobal));\n        }(promise));\n        var promisePolyfill = promise.exports;\n        var Global = function () {\n          if (typeof window !== 'undefined') {\n            return window;\n          } else {\n            return Function('return this;')();\n          }\n        }();\n        var promisePolyfill_1 = { boltExport: Global.Promise || promisePolyfill };\n        return promisePolyfill_1;\n      }));\n    }(undefined, exports$1, module));\n    var Promise$1 = module.exports.boltExport;\n\n    var nu$3 = function (baseFn) {\n      var data = Optional.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu$3(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each$1(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure$1 = function (a) {\n      return nu$3(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu$3,\n      pure: pure$1\n    };\n\n    var errorReporter = function (err) {\n      setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make$5 = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make$5(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make$5(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make$5(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make$5(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu$2 = function (baseFn) {\n      return make$5(function () {\n        return new Promise$1(baseFn);\n      });\n    };\n    var pure = function (a) {\n      return make$5(function () {\n        return Promise$1.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu$2,\n      pure: pure\n    };\n\n    var ariaElements = [\n      'input',\n      'textarea'\n    ];\n    var isAriaElement = function (elem) {\n      var name = name$2(elem);\n      return contains$2(ariaElements, name);\n    };\n    var markValid = function (component, invalidConfig) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      remove$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(function (notifyInfo) {\n        if (isAriaElement(component.element)) {\n          set$8(component.element, 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(function (container) {\n          set$5(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    var markInvalid = function (component, invalidConfig, invalidState, text) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(function (notifyInfo) {\n        if (isAriaElement(component.element)) {\n          set$8(component.element, 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(function (container) {\n          set$5(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    var query = function (component, invalidConfig, _invalidState) {\n      return invalidConfig.validator.fold(function () {\n        return Future.pure(Result.value(true));\n      }, function (validatorInfo) {\n        return validatorInfo.validate(component);\n      });\n    };\n    var run = function (component, invalidConfig, invalidState) {\n      invalidConfig.notify.each(function (notifyInfo) {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(function (valid) {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(function (err) {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, function (v) {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    var isInvalid = function (component, invalidConfig) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      return has(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run,\n        isInvalid: isInvalid\n    });\n\n    var events$8 = function (invalidConfig, invalidState) {\n      return invalidConfig.validator.map(function (validatorInfo) {\n        return derive$2([run$1(validatorInfo.onEvent, function (component) {\n            run(component, invalidConfig, invalidState).get(identity$1);\n          })].concat(validatorInfo.validateOnLoad ? [runOnAttached(function (component) {\n            run(component, invalidConfig, invalidState).get(noop);\n          })] : []));\n      }).getOr({});\n    };\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$8\n    });\n\n    var InvalidateSchema = [\n      required$1('invalidClass'),\n      defaulted('getRoot', Optional.none),\n      optionObjOf('notify', [\n        defaulted('aria', 'alert'),\n        defaulted('getContainer', Optional.none),\n        defaulted('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        required$1('validate'),\n        defaulted('onEvent', 'input'),\n        defaulted('validateOnLoad', true)\n      ])\n    ];\n\n    var Invalidating = create$8({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: function (validator) {\n          return function (component) {\n            var v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    var getCoupled = function (component, coupleConfig, coupleState, name) {\n      return coupleState.getOrCreate(component, coupleConfig, name);\n    };\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCoupled: getCoupled\n    });\n\n    var CouplingSchema = [requiredOf('others', setOf(Result.value, anyValue()))];\n\n    var init$a = function () {\n      var coupled = {};\n      var getOrCreate = function (component, coupleConfig, name) {\n        var available = keys(coupleConfig.others);\n        if (!available) {\n          throw new Error('Cannot find coupled component: ' + name + '. Known coupled components: ' + JSON.stringify(available, null, 2));\n        } else {\n          return get$e(coupled, name).getOrThunk(function () {\n            var builder = get$e(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n            var spec = builder(component);\n            var built = component.getSystem().build(spec);\n            coupled[name] = built;\n            return built;\n          });\n        }\n      };\n      var readState = constant$1({});\n      return nu$8({\n        readState: readState,\n        getOrCreate: getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$a\n    });\n\n    var Coupling = create$8({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    var suffix = constant$1('sink');\n    var partType$1 = constant$1(optional({\n      name: suffix(),\n      overrides: constant$1({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive$2([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightFirst'] = 0] = 'HighlightFirst';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 1] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n    var getAnchor = function (detail, component) {\n      var hotspot = detail.getHotspot(component).getOr(component);\n      var type = 'hotspot';\n      var overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(function () {\n        return {\n          type: type,\n          hotspot: hotspot,\n          overrides: overrides\n        };\n      }, function (layouts) {\n        return {\n          type: type,\n          hotspot: hotspot,\n          overrides: overrides,\n          layouts: layouts\n        };\n      });\n    };\n    var fetch = function (detail, mapFetch, component) {\n      var fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    var openF = function (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) {\n      var futureData = fetch(detail, mapFetch, component);\n      var getLazySink = getSink(component, detail);\n      return futureData.map(function (tdata) {\n        return tdata.bind(function (data) {\n          return Optional.from(tieredMenu.sketch(__assign(__assign({}, externals.menu()), {\n            uid: generate$5(''),\n            data: data,\n            highlightImmediately: highlightOnOpen === HighlightOnOpen.HighlightFirst,\n            onOpenMenu: function (tmenu, menu) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, menu, { anchor: anchor });\n              Sandboxing.decloak(sandbox);\n            },\n            onOpenSubmenu: function (tmenu, item, submenu) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, submenu, {\n                anchor: {\n                  type: 'submenu',\n                  item: item\n                }\n              });\n              Sandboxing.decloak(sandbox);\n            },\n            onRepositionMenu: function (tmenu, primaryMenu, submenuTriggers) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, primaryMenu, { anchor: anchor });\n              each$1(submenuTriggers, function (st) {\n                Positioning.position(sink, st.triggeredMenu, {\n                  anchor: {\n                    type: 'submenu',\n                    item: st.triggeringItem\n                  }\n                });\n              });\n            },\n            onEscape: function () {\n              Focusing.focus(component);\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n          })));\n        });\n      });\n    };\n    var open = function (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) {\n      var anchor = getAnchor(detail, hotspot);\n      var processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(function (tdata) {\n        tdata.fold(function () {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, function (data) {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    var close = function (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    var togglePopup = function (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) {\n      var sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      var showing = Sandboxing.isOpen(sandbox);\n      var action = showing ? close : open;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    var matchWidth = function (hotspot, container, useMinWidth) {\n      var menu = Composing.getCurrent(container).getOr(container);\n      var buttonWidth = get$a(hotspot.element);\n      if (useMinWidth) {\n        set$7(menu.element, 'min-width', buttonWidth + 'px');\n      } else {\n        set$6(menu.element, buttonWidth);\n      }\n    };\n    var getSink = function (anyInSystem, sinkDetail) {\n      return anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(function (internalSink) {\n        return function () {\n          return Result.value(internalSink);\n        };\n      }).getOrThunk(function () {\n        return sinkDetail.lazySink.fold(function () {\n          return function () {\n            return Result.error(new Error('No internal sink is specified, nor could an external sink be found'));\n          };\n        }, function (lazySinkFn) {\n          return function () {\n            return lazySinkFn(anyInSystem);\n          };\n        });\n      });\n    };\n    var doRepositionMenus = function (sandbox) {\n      Sandboxing.getState(sandbox).each(function (tmenu) {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    var makeSandbox$1 = function (detail, hotspot, extras) {\n      var ariaOwner = manager();\n      var onOpen = function (component, menu) {\n        var anchor = getAnchor(detail, hotspot);\n        ariaOwner.link(hotspot.element);\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      var onClose = function (component, menu) {\n        ariaOwner.unlink(hotspot.element);\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      var lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: {\n            id: ariaOwner.id,\n            role: 'listbox'\n          }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen: onOpen,\n            onClose: onClose,\n            isPartOf: function (container, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOf$1(hotspot, queryElem);\n            },\n            getAttachPoint: function () {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: function (sandbox) {\n              return Sandboxing.getState(sandbox).bind(function (menu) {\n                return Composing.getCurrent(menu);\n              });\n            }\n          }),\n          Receiving.config({ channels: __assign(__assign({}, receivingChannel$1({ isExtraPart: never })), receivingChannel({ doReposition: doRepositionMenus })) })\n        ])\n      };\n    };\n    var repositionMenus = function (comp) {\n      var sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    var sandboxFields = function () {\n      return [\n        defaulted('sandboxClasses', []),\n        SketchBehaviours.field('sandboxBehaviours', [\n          Composing,\n          Receiving,\n          Sandboxing,\n          Representing\n        ])\n      ];\n    };\n\n    var schema$j = constant$1([\n      required$1('dom'),\n      required$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      field('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      required$1('toggleClass'),\n      defaulted('eventOrder', {}),\n      option('lazySink'),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      option('role')\n    ].concat(sandboxFields()));\n    var parts$d = constant$1([\n      external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: function (detail) {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType$1()\n    ]);\n\n    var factory$g = function (detail, components, _spec, externals) {\n      var _a;\n      var lookupAttr = function (attr) {\n        return get$e(detail.dom, 'attributes').bind(function (attrs) {\n          return get$e(attrs, attr);\n        });\n      };\n      var switchToMenu = function (sandbox) {\n        Sandboxing.getState(sandbox).each(function (tmenu) {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      var action = function (component) {\n        var onOpenSync = switchToMenu;\n        togglePopup(detail, identity$1, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      var apis = {\n        expand: function (comp) {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: function (comp) {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        isOpen: Toggling.isOn,\n        close: function (comp) {\n          if (Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        repositionMenus: function (comp) {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      var triggerExecute = function (comp, _se) {\n        emitExecute(comp);\n        return Optional.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: function (hotspot) {\n                return makeSandbox$1(detail, hotspot, {\n                  onOpen: function () {\n                    return Toggling.on(hotspot);\n                  },\n                  onClose: function () {\n                    return Toggling.off(hotspot);\n                  }\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: function (comp, _se) {\n              if (Dropdown.isOpen(comp)) {\n                var sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Optional.some(true);\n            },\n            onEscape: function (comp, _se) {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Optional.some(true);\n              } else {\n                return Optional.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$a(Optional.some(action)),\n        eventOrder: __assign(__assign({}, detail.eventOrder), (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'toggling',\n          'alloy.base.behaviour'\n        ], _a)),\n        apis: apis,\n        domModification: {\n          attributes: __assign(__assign({ 'aria-haspopup': 'true' }, detail.role.fold(function () {\n            return {};\n          }, function (role) {\n            return { role: role };\n          })), detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {})\n        }\n      };\n    };\n    var Dropdown = composite({\n      name: 'Dropdown',\n      configFields: schema$j(),\n      partFields: parts$d(),\n      factory: factory$g,\n      apis: {\n        open: function (apis, comp) {\n          return apis.open(comp);\n        },\n        expand: function (apis, comp) {\n          return apis.expand(comp);\n        },\n        close: function (apis, comp) {\n          return apis.close(comp);\n        },\n        isOpen: function (apis, comp) {\n          return apis.isOpen(comp);\n        },\n        repositionMenus: function (apis, comp) {\n          return apis.repositionMenus(comp);\n        }\n      }\n    });\n\n    var exhibit$1 = function () {\n      return nu$7({\n        styles: {\n          '-webkit-user-select': 'none',\n          'user-select': 'none',\n          '-ms-user-select': 'none',\n          '-moz-user-select': '-moz-none'\n        },\n        attributes: { unselectable: 'on' }\n      });\n    };\n    var events$7 = function () {\n      return derive$2([abort(selectstart(), always)]);\n    };\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$7,\n        exhibit: exhibit$1\n    });\n\n    var Unselecting = create$8({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    var renderPanelButton = function (spec, sharedBackstage) {\n      return Dropdown.sketch({\n        dom: spec.dom,\n        components: spec.components,\n        toggleClass: 'mce-active',\n        dropdownBehaviours: derive$1([\n          DisablingConfigs.button(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          Unselecting.config({}),\n          Tabstopping.config({})\n        ]),\n        layouts: spec.layouts,\n        sandboxClasses: ['tox-dialog__popups'],\n        lazySink: sharedBackstage.getSink,\n        fetch: function (comp) {\n          return Future.nu(function (callback) {\n            return spec.fetch(callback);\n          }).map(function (items) {\n            return Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n              spec.onItemAction(comp, value);\n            }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })));\n          });\n        },\n        parts: { menu: part(false, 1, spec.presets) }\n      });\n    };\n\n    var colorInputChangeEvent = generate$6('color-input-change');\n    var colorSwatchChangeEvent = generate$6('color-swatch-change');\n    var colorPickerCancelEvent = generate$6('color-picker-cancel');\n    var renderColorInput = function (spec, sharedBackstage, colorInputBackstage) {\n      var pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        onSetValue: function (c) {\n          return Invalidating.run(c).get(noop);\n        },\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: sharedBackstage.providers.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: function (comp) {\n              return parent(comp.element);\n            },\n            notify: {\n              onValid: function (comp) {\n                var val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: function (input) {\n                var inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  var span = SugarElement.fromTag('span');\n                  set$7(span, 'background-color', inputValue);\n                  var res = getRaw(span, 'background-color').fold(function () {\n                    return Result.error('blah');\n                  }, function (_) {\n                    return Result.value(inputValue);\n                  });\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, sharedBackstage.providers);\n      });\n      var emitSwatchChange = function (colorBit, value) {\n        emitWith(colorBit, colorSwatchChangeEvent, { value: value });\n      };\n      var onItemAction = function (comp, value) {\n        memColorButton.getOpt(comp).each(function (colorBit) {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(function (valueOpt) {\n              valueOpt.fold(function () {\n                return emit(colorBit, colorPickerCancelEvent);\n              }, function (value) {\n                emitSwatchChange(colorBit, value);\n                addColor(value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      var memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: {\n          onRtl: function () {\n            return [\n              southwest$2,\n              southeast$2,\n              south$2\n            ];\n          },\n          onLtr: function () {\n            return [\n              southeast$2,\n              southwest$2,\n              south$2\n            ];\n          }\n        },\n        components: [],\n        fetch: getFetch$1(colorInputBackstage.getColors(), colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(),\n        presets: 'color',\n        onItemAction: onItemAction\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run$1(colorInputChangeEvent, function (comp, se) {\n              memColorButton.getOpt(comp).each(function (colorButton) {\n                set$7(colorButton.element, 'background-color', se.event.color);\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run$1(colorSwatchChangeEvent, function (comp, se) {\n              FormField.getField(comp).each(function (field) {\n                Representing.setValue(field, se.event.value);\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run$1(colorPickerCancelEvent, function (comp, _se) {\n              FormField.getField(comp).each(function (_field) {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    var labelPart = optional({\n      schema: [required$1('dom')],\n      name: 'label'\n    });\n    var edgePart = function (name) {\n      return optional({\n        name: '' + name + '-edge',\n        overrides: function (detail) {\n          var action = detail.model.manager.edgeActions[name];\n          return action.fold(function () {\n            return {};\n          }, function (a) {\n            return {\n              events: derive$2([\n                runActionExtra(touchstart(), function (comp, se, d) {\n                  return a(comp, d);\n                }, [detail]),\n                runActionExtra(mousedown(), function (comp, se, d) {\n                  return a(comp, d);\n                }, [detail]),\n                runActionExtra(mousemove(), function (comp, se, det) {\n                  if (det.mouseIsDown.get()) {\n                    a(comp, det);\n                  }\n                }, [detail])\n              ])\n            };\n          });\n        }\n      });\n    };\n    var tlEdgePart = edgePart('top-left');\n    var tedgePart = edgePart('top');\n    var trEdgePart = edgePart('top-right');\n    var redgePart = edgePart('right');\n    var brEdgePart = edgePart('bottom-right');\n    var bedgePart = edgePart('bottom');\n    var blEdgePart = edgePart('bottom-left');\n    var ledgePart = edgePart('left');\n    var thumbPart = required({\n      name: 'thumb',\n      defaults: constant$1({ dom: { styles: { position: 'absolute' } } }),\n      overrides: function (detail) {\n        return {\n          events: derive$2([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    var spectrumPart = required({\n      schema: [customField('mouseIsDown', function () {\n          return Cell(false);\n        })],\n      name: 'spectrum',\n      overrides: function (detail) {\n        var modelDetail = detail.model;\n        var model = modelDetail.manager;\n        var setValueFrom = function (component, simulatedEvent) {\n          return model.getValueFromEvent(simulatedEvent).map(function (value) {\n            return model.setValueFrom(component, detail, value);\n          });\n        };\n        return {\n          behaviours: derive$1([\n            Keying.config({\n              mode: 'special',\n              onLeft: function (spectrum) {\n                return model.onLeft(spectrum, detail);\n              },\n              onRight: function (spectrum) {\n                return model.onRight(spectrum, detail);\n              },\n              onUp: function (spectrum) {\n                return model.onUp(spectrum, detail);\n              },\n              onDown: function (spectrum) {\n                return model.onDown(spectrum, detail);\n              }\n            }),\n            Focusing.config({})\n          ]),\n          events: derive$2([\n            run$1(touchstart(), setValueFrom),\n            run$1(touchmove(), setValueFrom),\n            run$1(mousedown(), setValueFrom),\n            run$1(mousemove(), function (spectrum, se) {\n              if (detail.mouseIsDown.get()) {\n                setValueFrom(spectrum, se);\n              }\n            })\n          ])\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    var _sliderChangeEvent = 'slider.change.value';\n    var sliderChangeEvent = constant$1(_sliderChangeEvent);\n    var isTouchEvent$2 = function (evt) {\n      return evt.type.indexOf('touch') !== -1;\n    };\n    var getEventSource = function (simulatedEvent) {\n      var evt = simulatedEvent.event.raw;\n      if (isTouchEvent$2(evt)) {\n        var touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Optional.some(touchEvent.touches[0]).map(function (t) {\n          return SugarPosition(t.clientX, t.clientY);\n        }) : Optional.none();\n      } else {\n        var mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Optional.some(mouseEvent).map(function (me) {\n          return SugarPosition(me.clientX, me.clientY);\n        }) : Optional.none();\n      }\n    };\n\n    var t = 'top', r = 'right', b = 'bottom', l = 'left';\n    var minX = function (detail) {\n      return detail.model.minX;\n    };\n    var minY = function (detail) {\n      return detail.model.minY;\n    };\n    var min1X = function (detail) {\n      return detail.model.minX - 1;\n    };\n    var min1Y = function (detail) {\n      return detail.model.minY - 1;\n    };\n    var maxX = function (detail) {\n      return detail.model.maxX;\n    };\n    var maxY = function (detail) {\n      return detail.model.maxY;\n    };\n    var max1X = function (detail) {\n      return detail.model.maxX + 1;\n    };\n    var max1Y = function (detail) {\n      return detail.model.maxY + 1;\n    };\n    var range = function (detail, max, min) {\n      return max(detail) - min(detail);\n    };\n    var xRange = function (detail) {\n      return range(detail, maxX, minX);\n    };\n    var yRange = function (detail) {\n      return range(detail, maxY, minY);\n    };\n    var halfX = function (detail) {\n      return xRange(detail) / 2;\n    };\n    var halfY = function (detail) {\n      return yRange(detail) / 2;\n    };\n    var step = function (detail) {\n      return detail.stepSize;\n    };\n    var snap = function (detail) {\n      return detail.snapToGrid;\n    };\n    var snapStart = function (detail) {\n      return detail.snapStart;\n    };\n    var rounded = function (detail) {\n      return detail.rounded;\n    };\n    var hasEdge = function (detail, edgeName) {\n      return detail[edgeName + '-edge'] !== undefined;\n    };\n    var hasLEdge = function (detail) {\n      return hasEdge(detail, l);\n    };\n    var hasREdge = function (detail) {\n      return hasEdge(detail, r);\n    };\n    var hasTEdge = function (detail) {\n      return hasEdge(detail, t);\n    };\n    var hasBEdge = function (detail) {\n      return hasEdge(detail, b);\n    };\n    var currentValue = function (detail) {\n      return detail.model.value.get();\n    };\n\n    var xValue = function (x) {\n      return { x: x };\n    };\n    var yValue = function (y) {\n      return { y: y };\n    };\n    var xyValue = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var fireSliderChange$3 = function (component, value) {\n      emitWith(component, sliderChangeEvent(), { value: value });\n    };\n    var setToTLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    var setToTEdge = function (edge, detail) {\n      fireSliderChange$3(edge, yValue(min1Y(detail)));\n    };\n    var setToTEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    var setToTREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    var setToREdge = function (edge, detail) {\n      fireSliderChange$3(edge, xValue(max1X(detail)));\n    };\n    var setToREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    var setToBREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    var setToBEdge = function (edge, detail) {\n      fireSliderChange$3(edge, yValue(max1Y(detail)));\n    };\n    var setToBEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    var setToBLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    var setToLEdge = function (edge, detail) {\n      fireSliderChange$3(edge, xValue(min1X(detail)));\n    };\n    var setToLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    var reduceBy = function (value, min, max, step) {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    var increaseBy = function (value, min, max, step) {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    var capValue = function (value, min, max) {\n      return Math.max(min, Math.min(max, value));\n    };\n    var snapValueOf = function (value, min, max, step, snapStart) {\n      return snapStart.fold(function () {\n        var initValue = value - min;\n        var extraValue = Math.round(initValue / step) * step;\n        return capValue(min + extraValue, min - 1, max + 1);\n      }, function (start) {\n        var remainder = (value - start) % step;\n        var adjustment = Math.round(remainder / step);\n        var rawSteps = Math.floor((value - start) / step);\n        var maxSteps = Math.floor((max - start) / step);\n        var numSteps = Math.min(maxSteps, rawSteps + adjustment);\n        var r = start + numSteps * step;\n        return Math.max(start, r);\n      });\n    };\n    var findOffsetOf = function (value, min, max) {\n      return Math.min(max, Math.max(value, min)) - min;\n    };\n    var findValueOf = function (args) {\n      var min = args.min, max = args.max, range = args.range, value = args.value, step = args.step, snap = args.snap, snapStart = args.snapStart, rounded = args.rounded, hasMinEdge = args.hasMinEdge, hasMaxEdge = args.hasMaxEdge, minBound = args.minBound, maxBound = args.maxBound, screenRange = args.screenRange;\n      var capMin = hasMinEdge ? min - 1 : min;\n      var capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        var offset = findOffsetOf(value, minBound, maxBound);\n        var newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    var findOffsetOfValue$2 = function (args) {\n      var min = args.min, max = args.max, range = args.range, value = args.value, hasMinEdge = args.hasMinEdge, hasMaxEdge = args.hasMaxEdge, maxBound = args.maxBound, maxOffset = args.maxOffset, centerMinEdge = args.centerMinEdge, centerMaxEdge = args.centerMaxEdge;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    var top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    var getBounds = function (component) {\n      return component.element.dom.getBoundingClientRect();\n    };\n    var getBoundsProperty = function (bounds, property) {\n      return bounds[property];\n    };\n    var getMinXBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, left);\n    };\n    var getMaxXBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, right);\n    };\n    var getMinYBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, top);\n    };\n    var getMaxYBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    var getXScreenRange = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, width);\n    };\n    var getYScreenRange = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, height);\n    };\n    var getCenterOffsetOf = function (componentMinEdge, componentMaxEdge, spectrumMinEdge) {\n      return (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    };\n    var getXCenterOffSetOf = function (component, spectrum) {\n      var componentBounds = getBounds(component);\n      var spectrumBounds = getBounds(spectrum);\n      var componentMinEdge = getBoundsProperty(componentBounds, left);\n      var componentMaxEdge = getBoundsProperty(componentBounds, right);\n      var spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    var getYCenterOffSetOf = function (component, spectrum) {\n      var componentBounds = getBounds(component);\n      var spectrumBounds = getBounds(spectrum);\n      var componentMinEdge = getBoundsProperty(componentBounds, top);\n      var componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      var spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    var fireSliderChange$2 = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue$2 = function (x) {\n      return { x: x };\n    };\n    var findValueOfOffset$1 = function (spectrum, detail, left) {\n      var args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    var setValueFrom$2 = function (spectrum, detail, value) {\n      var xValue = findValueOfOffset$1(spectrum, detail, value);\n      var sliderVal = sliderValue$2(xValue);\n      fireSliderChange$2(spectrum, sliderVal);\n      return xValue;\n    };\n    var setToMin$2 = function (spectrum, detail) {\n      var min = minX(detail);\n      fireSliderChange$2(spectrum, sliderValue$2(min));\n    };\n    var setToMax$2 = function (spectrum, detail) {\n      var max = maxX(detail);\n      fireSliderChange$2(spectrum, sliderValue$2(max));\n    };\n    var moveBy$2 = function (direction, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var xValue = f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      fireSliderChange$2(spectrum, sliderValue$2(xValue));\n      return Optional.some(xValue);\n    };\n    var handleMovement$2 = function (direction) {\n      return function (spectrum, detail) {\n        return moveBy$2(direction, spectrum, detail).map(always);\n      };\n    };\n    var getValueFromEvent$2 = function (simulatedEvent) {\n      var pos = getEventSource(simulatedEvent);\n      return pos.map(function (p) {\n        return p.left;\n      });\n    };\n    var findOffsetOfValue$1 = function (spectrum, detail, value, minEdge, maxEdge) {\n      var minOffset = 0;\n      var maxOffset = getXScreenRange(spectrum);\n      var centerMinEdge = minEdge.bind(function (edge) {\n        return Optional.some(getXCenterOffSetOf(edge, spectrum));\n      }).getOr(minOffset);\n      var centerMaxEdge = maxEdge.bind(function (edge) {\n        return Optional.some(getXCenterOffSetOf(edge, spectrum));\n      }).getOr(maxOffset);\n      var args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset: minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset: maxOffset,\n        centerMinEdge: centerMinEdge,\n        centerMaxEdge: centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    var findPositionOfValue$1 = function (slider, spectrum, value, minEdge, maxEdge, detail) {\n      var offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    var setPositionFromValue$2 = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      var thumbRadius = get$a(thumb.element) / 2;\n      set$7(thumb.element, 'left', pos - thumbRadius + 'px');\n    };\n    var onLeft$2 = handleMovement$2(-1);\n    var onRight$2 = handleMovement$2(1);\n    var onUp$2 = Optional.none;\n    var onDown$2 = Optional.none;\n    var edgeActions$2 = {\n      'top-left': Optional.none(),\n      'top': Optional.none(),\n      'top-right': Optional.none(),\n      'right': Optional.some(setToREdge),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.none(),\n      'bottom-left': Optional.none(),\n      'left': Optional.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$2,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    var fireSliderChange$1 = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue$1 = function (y) {\n      return { y: y };\n    };\n    var findValueOfOffset = function (spectrum, detail, top) {\n      var args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    var setValueFrom$1 = function (spectrum, detail, value) {\n      var yValue = findValueOfOffset(spectrum, detail, value);\n      var sliderVal = sliderValue$1(yValue);\n      fireSliderChange$1(spectrum, sliderVal);\n      return yValue;\n    };\n    var setToMin$1 = function (spectrum, detail) {\n      var min = minY(detail);\n      fireSliderChange$1(spectrum, sliderValue$1(min));\n    };\n    var setToMax$1 = function (spectrum, detail) {\n      var max = maxY(detail);\n      fireSliderChange$1(spectrum, sliderValue$1(max));\n    };\n    var moveBy$1 = function (direction, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var yValue = f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange$1(spectrum, sliderValue$1(yValue));\n      return Optional.some(yValue);\n    };\n    var handleMovement$1 = function (direction) {\n      return function (spectrum, detail) {\n        return moveBy$1(direction, spectrum, detail).map(always);\n      };\n    };\n    var getValueFromEvent$1 = function (simulatedEvent) {\n      var pos = getEventSource(simulatedEvent);\n      return pos.map(function (p) {\n        return p.top;\n      });\n    };\n    var findOffsetOfValue = function (spectrum, detail, value, minEdge, maxEdge) {\n      var minOffset = 0;\n      var maxOffset = getYScreenRange(spectrum);\n      var centerMinEdge = minEdge.bind(function (edge) {\n        return Optional.some(getYCenterOffSetOf(edge, spectrum));\n      }).getOr(minOffset);\n      var centerMaxEdge = maxEdge.bind(function (edge) {\n        return Optional.some(getYCenterOffSetOf(edge, spectrum));\n      }).getOr(maxOffset);\n      var args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset: minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset: maxOffset,\n        centerMinEdge: centerMinEdge,\n        centerMaxEdge: centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    var findPositionOfValue = function (slider, spectrum, value, minEdge, maxEdge, detail) {\n      var offset = findOffsetOfValue(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    var setPositionFromValue$1 = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var pos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      var thumbRadius = get$b(thumb.element) / 2;\n      set$7(thumb.element, 'top', pos - thumbRadius + 'px');\n    };\n    var onLeft$1 = Optional.none;\n    var onRight$1 = Optional.none;\n    var onUp$1 = handleMovement$1(-1);\n    var onDown$1 = handleMovement$1(1);\n    var edgeActions$1 = {\n      'top-left': Optional.none(),\n      'top': Optional.some(setToTEdge),\n      'top-right': Optional.none(),\n      'right': Optional.none(),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.some(setToBEdge),\n      'bottom-left': Optional.none(),\n      'left': Optional.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    var fireSliderChange = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var setValueFrom = function (spectrum, detail, value) {\n      var xValue = findValueOfOffset$1(spectrum, detail, value.left);\n      var yValue = findValueOfOffset(spectrum, detail, value.top);\n      var val = sliderValue(xValue, yValue);\n      fireSliderChange(spectrum, val);\n      return val;\n    };\n    var moveBy = function (direction, isVerticalMovement, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var xValue = isVerticalMovement ? currentValue(detail).x : f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      var yValue = !isVerticalMovement ? currentValue(detail).y : f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange(spectrum, sliderValue(xValue, yValue));\n      return Optional.some(xValue);\n    };\n    var handleMovement = function (direction, isVerticalMovement) {\n      return function (spectrum, detail) {\n        return moveBy(direction, isVerticalMovement, spectrum, detail).map(always);\n      };\n    };\n    var setToMin = function (spectrum, detail) {\n      var mX = minX(detail);\n      var mY = minY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    var setToMax = function (spectrum, detail) {\n      var mX = maxX(detail);\n      var mY = maxY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    var getValueFromEvent = function (simulatedEvent) {\n      return getEventSource(simulatedEvent);\n    };\n    var setPositionFromValue = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var xPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      var yPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      var thumbXRadius = get$a(thumb.element) / 2;\n      var thumbYRadius = get$b(thumb.element) / 2;\n      set$7(thumb.element, 'left', xPos - thumbXRadius + 'px');\n      set$7(thumb.element, 'top', yPos - thumbYRadius + 'px');\n    };\n    var onLeft = handleMovement(-1, false);\n    var onRight = handleMovement(1, false);\n    var onUp = handleMovement(-1, true);\n    var onDown = handleMovement(1, true);\n    var edgeActions = {\n      'top-left': Optional.some(setToTLEdgeXY),\n      'top': Optional.some(setToTEdgeXY),\n      'top-right': Optional.some(setToTREdgeXY),\n      'right': Optional.some(setToREdgeXY),\n      'bottom-right': Optional.some(setToBREdgeXY),\n      'bottom': Optional.some(setToBEdgeXY),\n      'bottom-left': Optional.some(setToBLEdgeXY),\n      'left': Optional.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        getValueFromEvent: getValueFromEvent,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    var SliderSchema = [\n      defaulted('stepSize', 1),\n      defaulted('onChange', noop),\n      defaulted('onChoose', noop),\n      defaulted('onInit', noop),\n      defaulted('onDragStart', noop),\n      defaulted('onDragEnd', noop),\n      defaulted('snapToGrid', false),\n      defaulted('rounded', true),\n      option('snapStart'),\n      requiredOf('model', choose$1('mode', {\n        x: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          customField('value', function (spec) {\n            return Cell(spec.mode.minX);\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', function (spec) {\n            return Cell(spec.mode.minY);\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', function (spec) {\n            return Cell({\n              x: spec.mode.minX,\n              y: spec.mode.minY\n            });\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', TwoDModel)\n        ]\n      })),\n      field('sliderBehaviours', [\n        Keying,\n        Representing\n      ]),\n      customField('mouseIsDown', function () {\n        return Cell(false);\n      })\n    ];\n\n    var sketch$2 = function (detail, components, _spec, _externals) {\n      var _a;\n      var getThumb = function (component) {\n        return getPartOrDie(component, detail, 'thumb');\n      };\n      var getSpectrum = function (component) {\n        return getPartOrDie(component, detail, 'spectrum');\n      };\n      var getLeftEdge = function (component) {\n        return getPart(component, detail, 'left-edge');\n      };\n      var getRightEdge = function (component) {\n        return getPart(component, detail, 'right-edge');\n      };\n      var getTopEdge = function (component) {\n        return getPart(component, detail, 'top-edge');\n      };\n      var getBottomEdge = function (component) {\n        return getPart(component, detail, 'bottom-edge');\n      };\n      var modelDetail = detail.model;\n      var model = modelDetail.manager;\n      var refresh = function (slider, thumb) {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge: getLeftEdge,\n          getRightEdge: getRightEdge,\n          getTopEdge: getTopEdge,\n          getBottomEdge: getBottomEdge,\n          getSpectrum: getSpectrum\n        });\n      };\n      var setValue = function (slider, newValue) {\n        modelDetail.value.set(newValue);\n        var thumb = getThumb(slider);\n        refresh(slider, thumb);\n      };\n      var changeValue = function (slider, newValue) {\n        setValue(slider, newValue);\n        var thumb = getThumb(slider);\n        detail.onChange(slider, thumb, newValue);\n        return Optional.some(true);\n      };\n      var resetToMin = function (slider) {\n        model.setToMin(slider, detail);\n      };\n      var resetToMax = function (slider) {\n        model.setToMax(slider, detail);\n      };\n      var choose = function (slider) {\n        var fireOnChoose = function () {\n          getPart(slider, detail, 'thumb').each(function (thumb) {\n            var value = modelDetail.value.get();\n            detail.onChoose(slider, thumb, value);\n          });\n        };\n        var wasDown = detail.mouseIsDown.get();\n        detail.mouseIsDown.set(false);\n        if (wasDown) {\n          fireOnChoose();\n        }\n      };\n      var onDragStart = function (slider, simulatedEvent) {\n        simulatedEvent.stop();\n        detail.mouseIsDown.set(true);\n        detail.onDragStart(slider, getThumb(slider));\n      };\n      var onDragEnd = function (slider, simulatedEvent) {\n        simulatedEvent.stop();\n        detail.onDragEnd(slider, getThumb(slider));\n        choose(slider);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.sliderBehaviours, [\n          Keying.config({\n            mode: 'special',\n            focusIn: function (slider) {\n              return getPart(slider, detail, 'spectrum').map(Keying.focusIn).map(always);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (_) {\n                return modelDetail.value.get();\n              }\n            }\n          }),\n          Receiving.config({ channels: (_a = {}, _a[mouseReleased()] = { onReceive: choose }, _a) })\n        ]),\n        events: derive$2([\n          run$1(sliderChangeEvent(), function (slider, simulatedEvent) {\n            changeValue(slider, simulatedEvent.event.value);\n          }),\n          runOnAttached(function (slider, _simulatedEvent) {\n            var getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            var thumb = getThumb(slider);\n            refresh(slider, thumb);\n            var spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          }),\n          run$1(touchstart(), onDragStart),\n          run$1(touchend(), onDragEnd),\n          run$1(mousedown(), onDragStart),\n          run$1(mouseup(), onDragEnd)\n        ]),\n        apis: {\n          resetToMin: resetToMin,\n          resetToMax: resetToMax,\n          setValue: setValue,\n          refresh: refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    var Slider = composite({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch$2,\n      apis: {\n        setValue: function (apis, slider, value) {\n          apis.setValue(slider, value);\n        },\n        resetToMin: function (apis, slider) {\n          apis.resetToMin(slider);\n        },\n        resetToMax: function (apis, slider) {\n          apis.resetToMax(slider);\n        },\n        refresh: function (apis, slider) {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    var fieldsUpdate = generate$6('rgb-hex-update');\n    var sliderUpdate = generate$6('slider-update');\n    var paletteUpdate = generate$6('palette-update');\n\n    var sliderFactory = function (translate, getClass) {\n      var spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      var thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: { role: 'presentation' }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant$1({ y: 0 })\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: function (slider, _thumb, value) {\n          emitWith(slider, sliderUpdate, { value: value });\n        }\n      });\n    };\n\n    var owner$1 = 'form';\n    var schema$i = [field('formBehaviours', [Representing])];\n    var getPartName$1 = function (name) {\n      return '<alloy.field.' + name + '>';\n    };\n    var sketch$1 = function (fSpec) {\n      var parts = function () {\n        var record = [];\n        var field = function (name, config) {\n          record.push(name);\n          return generateOne$1(owner$1, getPartName$1(name), config);\n        };\n        return {\n          field: field,\n          record: constant$1(record)\n        };\n      }();\n      var spec = fSpec(parts);\n      var partNames = parts.record();\n      var fieldParts = map$2(partNames, function (n) {\n        return required({\n          name: n,\n          pname: getPartName$1(n)\n        });\n      });\n      return composite$1(owner$1, schema$i, fieldParts, make$4, spec);\n    };\n    var toResult = function (o, e) {\n      return o.fold(function () {\n        return Result.error(e);\n      }, Result.value);\n    };\n    var make$4 = function (detail, components) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.formBehaviours, [Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (form) {\n                var resPs = getAllParts(form, detail);\n                return map$1(resPs, function (resPThunk, pName) {\n                  return resPThunk().bind(function (v) {\n                    var opt = Composing.getCurrent(v);\n                    return toResult(opt, new Error('Cannot find a current component to extract the value from for form part \\'' + pName + '\\': ' + element(v.element)));\n                  }).map(Representing.getValue);\n                });\n              },\n              setValue: function (form, values) {\n                each(values, function (newValue, key) {\n                  getPart(form, detail, key).each(function (wrapper) {\n                    Composing.getCurrent(wrapper).each(function (field) {\n                      Representing.setValue(field, newValue);\n                    });\n                  });\n                });\n              }\n            }\n          })]),\n        apis: {\n          getField: function (form, key) {\n            return getPart(form, detail, key).bind(Composing.getCurrent);\n          }\n        }\n      };\n    };\n    var Form = {\n      getField: makeApi(function (apis, component, key) {\n        return apis.getField(component, key);\n      }),\n      sketch: sketch$1\n    };\n\n    var validInput = generate$6('valid-input');\n    var invalidInput = generate$6('invalid-input');\n    var validatingInput = generate$6('validating-input');\n    var translatePrefix = 'colorcustom.rgb.';\n    var rgbFormFactory = function (translate, getClass, onValidHexx, onInvalidHexx) {\n      var invalidation = function (label, isValid) {\n        return Invalidating.config({\n          invalidClass: getClass('invalid'),\n          notify: {\n            onValidate: function (comp) {\n              emitWith(comp, validatingInput, { type: label });\n            },\n            onValid: function (comp) {\n              emitWith(comp, validInput, {\n                type: label,\n                value: Representing.getValue(comp)\n              });\n            },\n            onInvalid: function (comp) {\n              emitWith(comp, invalidInput, {\n                type: label,\n                value: Representing.getValue(comp)\n              });\n            }\n          },\n          validator: {\n            validate: function (comp) {\n              var value = Representing.getValue(comp);\n              var res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n              return Future.pure(res);\n            },\n            validateOnLoad: false\n          }\n        });\n      };\n      var renderTextField = function (isValid, name, label, description, data) {\n        var helptext = translate(translatePrefix + 'range');\n        var pLabel = FormField.parts.label({\n          dom: {\n            tag: 'label',\n            innerHtml: label,\n            attributes: { 'aria-label': description }\n          }\n        });\n        var pField = FormField.parts.field({\n          data: data,\n          factory: Input,\n          inputAttributes: __assign({ type: 'text' }, name === 'hex' ? { 'aria-live': 'polite' } : {}),\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid),\n            Tabstopping.config({})\n          ]),\n          onSetValue: function (input) {\n            if (Invalidating.isInvalid(input)) {\n              var run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        var comps = [\n          pLabel,\n          pField\n        ];\n        var concats = name !== 'hex' ? [FormField.parts['aria-descriptor']({ text: helptext })] : [];\n        var components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' }\n          },\n          components: components\n        };\n      };\n      var copyRgbToHex = function (form, rgba) {\n        var hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(function (hexField) {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value });\n          }\n        });\n        return hex;\n      };\n      var copyRgbToForm = function (form, rgb) {\n        var red = rgb.red;\n        var green = rgb.green;\n        var blue = rgb.blue;\n        Representing.setValue(form, {\n          red: red,\n          green: green,\n          blue: blue\n        });\n      };\n      var memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      var updatePreview = function (anyInSystem, hex) {\n        memPreview.getOpt(anyInSystem).each(function (preview) {\n          set$7(preview.element, 'background-color', '#' + hex.value);\n        });\n      };\n      var factory = function () {\n        var state = {\n          red: Cell(Optional.some(255)),\n          green: Cell(Optional.some(255)),\n          blue: Cell(Optional.some(255)),\n          hex: Cell(Optional.some('ffffff'))\n        };\n        var copyHexToRgb = function (form, hex) {\n          var rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        var get = function (prop) {\n          return state[prop].get();\n        };\n        var set = function (prop, value) {\n          state[prop].set(value);\n        };\n        var getValueRgb = function () {\n          return get('red').bind(function (red) {\n            return get('green').bind(function (green) {\n              return get('blue').map(function (blue) {\n                return rgbaColour(red, green, blue, 1);\n              });\n            });\n          });\n        };\n        var setValueRgb = function (rgb) {\n          var red = rgb.red;\n          var green = rgb.green;\n          var blue = rgb.blue;\n          set('red', Optional.some(red));\n          set('green', Optional.some(green));\n          set('blue', Optional.some(blue));\n        };\n        var onInvalidInput = function (form, simulatedEvent) {\n          var data = simulatedEvent.event;\n          if (data.type !== 'hex') {\n            set(data.type, Optional.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        var onValidHex = function (form, value) {\n          onValidHexx(form);\n          var hex = hexColour(value);\n          set('hex', Optional.some(value));\n          var rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate, { hex: hex });\n          updatePreview(form, hex);\n        };\n        var onValidRgb = function (form, prop, value) {\n          var val = parseInt(value, 10);\n          set(prop, Optional.some(val));\n          getValueRgb().each(function (rgb) {\n            var hex = copyRgbToHex(form, rgb);\n            emitWith(form, fieldsUpdate, { hex: hex });\n            updatePreview(form, hex);\n          });\n        };\n        var isHexInputEvent = function (data) {\n          return data.type === 'hex';\n        };\n        var onValidInput = function (form, simulatedEvent) {\n          var data = simulatedEvent.event;\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value);\n          } else {\n            onValidRgb(form, data.type, data.value);\n          }\n        };\n        var formPartStrings = function (key) {\n          return {\n            label: translate(translatePrefix + key + '.label'),\n            description: translate(translatePrefix + key + '.description')\n          };\n        };\n        var redStrings = formPartStrings('red');\n        var greenStrings = formPartStrings('green');\n        var blueStrings = formPartStrings('blue');\n        var hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(function (parts) {\n          return {\n            dom: {\n              tag: 'form',\n              classes: [getClass('rgb-form')],\n              attributes: { 'aria-label': translate('aria.color.picker') }\n            },\n            components: [\n              parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n              parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n              parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n              parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n              memPreview.asSpec()\n            ],\n            formBehaviours: derive$1([\n              Invalidating.config({ invalidClass: getClass('form-invalid') }),\n              config('rgb-form-events', [\n                run$1(validInput, onValidInput),\n                run$1(invalidInput, onInvalidInput),\n                run$1(validatingInput, onInvalidInput)\n              ])\n            ])\n          };\n        }), {\n          apis: {\n            updateHex: function (form, hex) {\n              Representing.setValue(form, { hex: hex.value });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      var rgbFormSketcher = single({\n        factory: factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: function (apis, form, hex) {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n\n    var paletteFactory = function (_translate, getClass) {\n      var spectrumPart = Slider.parts.spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      var thumbPart = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: '<div class=' + getClass('sv-palette-inner-thumb') + ' role=\"presentation\"></div>'\n        }\n      });\n      var setColour = function (canvas, rgba) {\n        var width = canvas.width, height = canvas.height;\n        var ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        var grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        var grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      var setPaletteHue = function (slider, hue) {\n        var canvas = slider.components()[0].element.dom;\n        var hsv = hsvColour(hue, 100, 100);\n        var rgba = fromHsv(hsv);\n        setColour(canvas, toString(rgba));\n      };\n      var setPaletteThumb = function (slider, hex) {\n        var hsv = fromRgb(fromHex(hex));\n        Slider.setValue(slider, {\n          x: hsv.saturation,\n          y: 100 - hsv.value\n        });\n      };\n      var factory = function (_detail) {\n        var getInitialValue = constant$1({\n          x: 0,\n          y: 0\n        });\n        var onChange = function (slider, _thumb, value) {\n          emitWith(slider, paletteUpdate, { value: value });\n        };\n        var onInit = function (_slider, _thumb, spectrum, _value) {\n          setColour(spectrum.element.dom, toString(red));\n        };\n        var sliderBehaviours = derive$1([\n          Composing.config({ find: Optional.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue: getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange: onChange,\n          onInit: onInit,\n          sliderBehaviours: sliderBehaviours\n        });\n      };\n      var saturationBrightnessPaletteSketcher = single({\n        factory: factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setHue: function (_apis, slider, hue) {\n            setPaletteHue(slider, hue);\n          },\n          setThumb: function (_apis, slider, hex) {\n            setPaletteThumb(slider, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n\n    var makeFactory = function (translate, getClass) {\n      var factory = function (detail) {\n        var rgbForm = rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n        var sbPalette = paletteFactory(translate, getClass);\n        var hueSliderToDegrees = function (hue) {\n          return (100 - hue) / 100 * 360;\n        };\n        var hueDegreesToSlider = function (hue) {\n          return 100 - hue / 360 * 100;\n        };\n        var state = {\n          paletteRgba: Cell(red),\n          paletteHue: Cell(0)\n        };\n        var memSlider = record(sliderFactory(translate, getClass));\n        var memPalette = record(sbPalette.sketch({}));\n        var memRgb = record(rgbForm.sketch({}));\n        var updatePalette = function (anyInSystem, _hex, hue) {\n          memPalette.getOpt(anyInSystem).each(function (palette) {\n            sbPalette.setHue(palette, hue);\n          });\n        };\n        var updateFields = function (anyInSystem, hex) {\n          memRgb.getOpt(anyInSystem).each(function (form) {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        var updateSlider = function (anyInSystem, _hex, hue) {\n          memSlider.getOpt(anyInSystem).each(function (slider) {\n            Slider.setValue(slider, { y: hueDegreesToSlider(hue) });\n          });\n        };\n        var updatePaletteThumb = function (anyInSystem, hex) {\n          memPalette.getOpt(anyInSystem).each(function (palette) {\n            sbPalette.setThumb(palette, hex);\n          });\n        };\n        var updateState = function (hex, hue) {\n          var rgba = fromHex(hex);\n          state.paletteRgba.set(rgba);\n          state.paletteHue.set(hue);\n        };\n        var runUpdates = function (anyInSystem, hex, hue, updates) {\n          updateState(hex, hue);\n          each$1(updates, function (update) {\n            update(anyInSystem, hex, hue);\n          });\n        };\n        var onPaletteUpdate = function () {\n          var updates = [updateFields];\n          return function (form, simulatedEvent) {\n            var value = simulatedEvent.event.value;\n            var oldHue = state.paletteHue.get();\n            var newHsv = hsvColour(oldHue, value.x, 100 - value.y);\n            var newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, oldHue, updates);\n          };\n        };\n        var onSliderUpdate = function () {\n          var updates = [\n            updatePalette,\n            updateFields\n          ];\n          return function (form, simulatedEvent) {\n            var hue = hueSliderToDegrees(simulatedEvent.event.value.y);\n            var oldRgb = state.paletteRgba.get();\n            var oldHsv = fromRgb(oldRgb);\n            var newHsv = hsvColour(hue, oldHsv.saturation, oldHsv.value);\n            var newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, hue, updates);\n          };\n        };\n        var onFieldsUpdate = function () {\n          var updates = [\n            updatePalette,\n            updateSlider,\n            updatePaletteThumb\n          ];\n          return function (form, simulatedEvent) {\n            var hex = simulatedEvent.event.hex;\n            var hsv = hexToHsv(hex);\n            runUpdates(form, hex, hsv.hue, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            memSlider.asSpec(),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run$1(fieldsUpdate, onFieldsUpdate()),\n              run$1(paletteUpdate, onPaletteUpdate()),\n              run$1(sliderUpdate, onSliderUpdate())\n            ]),\n            Composing.config({\n              find: function (comp) {\n                return memRgb.getOpt(comp);\n              }\n            }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      var colourPickerSketcher = single({\n        name: 'ColourPicker',\n        configFields: [\n          required$1('dom'),\n          defaulted('onValidHex', noop),\n          defaulted('onInvalidHex', noop)\n        ],\n        factory: factory\n      });\n      return colourPickerSketcher;\n    };\n\n    var self$1 = function () {\n      return Composing.config({ find: Optional.some });\n    };\n    var memento$1 = function (mem) {\n      return Composing.config({ find: mem.getOpt });\n    };\n    var childAt = function (index) {\n      return Composing.config({\n        find: function (comp) {\n          return child$2(comp.element, index).bind(function (element) {\n            return comp.getSystem().getByDom(element).toOptional();\n          });\n        }\n      });\n    };\n    var ComposingConfigs = {\n      self: self$1,\n      memento: memento$1,\n      childAt: childAt\n    };\n\n    var english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red component',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green component',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue component',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'colorcustom.sb.saturation': 'Saturation',\n      'colorcustom.sb.brightness': 'Brightness',\n      'colorcustom.sb.picker': 'Saturation and Brightness Picker',\n      'colorcustom.sb.palette': 'Saturation and Brightness Palette',\n      'colorcustom.sb.instructions': 'Use arrow keys to select saturation and brightness, on x and y axes',\n      'colorcustom.hue.hue': 'Hue',\n      'colorcustom.hue.slider': 'Hue Slider',\n      'colorcustom.hue.palette': 'Hue Palette',\n      'colorcustom.hue.instructions': 'Use arrow keys to select a hue',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    var getEnglishText = function (key) {\n      return english[key];\n    };\n    var translate$1 = function (key) {\n      return getEnglishText(key);\n    };\n    var renderColorPicker = function (_spec) {\n      var getClass = function (key) {\n        return 'tox-' + key;\n      };\n      var colourPickerFactory = makeFactory(translate$1, getClass);\n      var onValidHex = function (form) {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      var onInvalidHex = function (form) {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      var memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex: onValidHex,\n        onInvalidHex: onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (comp) {\n                var picker = memPicker.get(comp);\n                var optRgbForm = Composing.getCurrent(picker);\n                var optHex = optRgbForm.bind(function (rgbForm) {\n                  var formValues = Representing.getValue(rgbForm);\n                  return formValues.hex;\n                });\n                return optHex.map(function (hex) {\n                  return '#' + hex;\n                }).getOr('');\n              },\n              setValue: function (comp, newValue) {\n                var pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n                var m = pattern.exec(newValue);\n                var picker = memPicker.get(comp);\n                var optRgbForm = Composing.getCurrent(picker);\n                optRgbForm.fold(function () {\n                  console.log('Can not find form');\n                }, function (rgbForm) {\n                  Representing.setValue(rgbForm, { hex: Optional.from(m[1]).getOr('') });\n                  Form.getField(rgbForm, 'hex').each(function (hexField) {\n                    emit(hexField, input());\n                  });\n                });\n              }\n            }\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    var isOldCustomEditor = function (spec) {\n      return has$2(spec, 'init');\n    };\n    var renderCustomEditor = function (spec) {\n      var editorApi = value$1();\n      var memReplaced = record({ dom: { tag: spec.tag } });\n      var initialValue = value$1();\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('custom-editor-events', [runOnAttached(function (component) {\n              memReplaced.getOpt(component).each(function (ta) {\n                (isOldCustomEditor(spec) ? spec.init(ta.element.dom) : global$6.load(spec.scriptId, spec.scriptUrl).then(function (init) {\n                  return init(ta.element.dom, spec.settings);\n                })).then(function (ea) {\n                  initialValue.on(function (cvalue) {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.clear();\n                  editorApi.set(ea);\n                });\n              });\n            })]),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function () {\n                return editorApi.get().fold(function () {\n                  return initialValue.get().getOr('');\n                }, function (ed) {\n                  return ed.getValue();\n                });\n              },\n              setValue: function (component, value) {\n                editorApi.get().fold(function () {\n                  initialValue.set(value);\n                }, function (ed) {\n                  return ed.setValue(value);\n                });\n              }\n            }\n          }),\n          ComposingConfigs.self()\n        ]),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var processors = objOf([\n      defaulted('preprocess', identity$1),\n      defaulted('postprocess', identity$1)\n    ]);\n    var memento = function (mem, rawProcessors) {\n      var ps = asRawOrDie$1('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function (comp) {\n            var other = mem.get(comp);\n            var rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: function (comp, rawValue) {\n            var newValue = ps.preprocess(rawValue);\n            var other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    var withComp = function (optInitialValue, getter, setter) {\n      return Representing.config(deepMerge({\n        store: {\n          mode: 'manual',\n          getValue: getter,\n          setValue: setter\n        }\n      }, optInitialValue.map(function (initialValue) {\n        return { store: { initialValue: initialValue } };\n      }).getOr({})));\n    };\n    var withElement = function (initialValue, getter, setter) {\n      return withComp(initialValue, function (c) {\n        return getter(c.element);\n      }, function (c, v) {\n        return setter(c.element, v);\n      });\n    };\n    var domValue = function (optInitialValue) {\n      return withElement(optInitialValue, get$5, set$4);\n    };\n    var domHtml = function (optInitialValue) {\n      return withElement(optInitialValue, get$7, set$5);\n    };\n    var memory = function (initialValue) {\n      return Representing.config({\n        store: {\n          mode: 'memory',\n          initialValue: initialValue\n        }\n      });\n    };\n    var RepresentingConfigs = {\n      memento: memento,\n      withElement: withElement,\n      withComp: withComp,\n      domValue: domValue,\n      domHtml: domHtml,\n      memory: memory\n    };\n\n    var defaultImageFileTypes = 'jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp';\n    var filterByExtension = function (files, providersBackstage) {\n      var allowedImageFileTypes = global$5.explode(providersBackstage.getSetting('images_file_types', defaultImageFileTypes, 'string'));\n      var isFileInAllowedTypes = function (file) {\n        return exists(allowedImageFileTypes, function (type) {\n          return endsWith(file.name.toLowerCase(), '.' + type.toLowerCase());\n        });\n      };\n      return filter$2(from(files), isFileInAllowedTypes);\n    };\n    var renderDropZone = function (spec, providersBackstage) {\n      var stopper = function (_, se) {\n        se.stop();\n      };\n      var sequence = function (actions) {\n        return function (comp, se) {\n          each$1(actions, function (a) {\n            a(comp, se);\n          });\n        };\n      };\n      var onDrop = function (comp, se) {\n        if (!Disabling.isDisabled(comp)) {\n          var transferEvent = se.event.raw;\n          handleFiles(comp, transferEvent.dataTransfer.files);\n        }\n      };\n      var onSelect = function (component, simulatedEvent) {\n        var input = simulatedEvent.event.raw.target;\n        handleFiles(component, input.files);\n      };\n      var handleFiles = function (component, files) {\n        Representing.setValue(component, filterByExtension(files, providersBackstage));\n        emitWith(component, formChangeEvent, { name: spec.name });\n      };\n      var memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [\n            cutter(click()),\n            cutter(tap())\n          ])])\n      });\n      var renderField = function (s) {\n        return {\n          uid: s.uid,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dropzone-container']\n          },\n          behaviours: derive$1([\n            RepresentingConfigs.memory([]),\n            ComposingConfigs.self(),\n            Disabling.config({}),\n            Toggling.config({\n              toggleClass: 'dragenter',\n              toggleOnExecute: false\n            }),\n            config('dropzone-events', [\n              run$1('dragenter', sequence([\n                stopper,\n                Toggling.toggle\n              ])),\n              run$1('dragleave', sequence([\n                stopper,\n                Toggling.toggle\n              ])),\n              run$1('dragover', stopper),\n              run$1('drop', sequence([\n                stopper,\n                onDrop\n              ])),\n              run$1(change(), onSelect)\n            ])\n          ]),\n          components: [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-dropzone'],\n                styles: {}\n              },\n              components: [\n                {\n                  dom: {\n                    tag: 'p',\n                    innerHtml: providersBackstage.translate('Drop an image here')\n                  }\n                },\n                Button.sketch({\n                  dom: {\n                    tag: 'button',\n                    innerHtml: providersBackstage.translate('Browse for an image'),\n                    styles: { position: 'relative' },\n                    classes: [\n                      'tox-button',\n                      'tox-button--secondary'\n                    ]\n                  },\n                  components: [memInput.asSpec()],\n                  action: function (comp) {\n                    var inputComp = memInput.get(comp);\n                    inputComp.element.dom.click();\n                  },\n                  buttonBehaviours: derive$1([\n                    Tabstopping.config({}),\n                    DisablingConfigs.button(providersBackstage.isDisabled),\n                    receivingConfig()\n                  ])\n                })\n              ]\n            }]\n        };\n      };\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({ factory: { sketch: renderField } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    var renderGrid = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-form__grid',\n            'tox-form__grid--' + spec.columns + 'col'\n          ]\n        },\n        components: map$2(spec.items, backstage.interpreter)\n      };\n    };\n\n    var beforeObject = generate$6('alloy-fake-before-tabstop');\n    var afterObject = generate$6('alloy-fake-after-tabstop');\n    var craftWithClasses = function (classes) {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes: classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    var craft = function (spec) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-navobj']\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    var triggerTab = function (placeholder, shiftKey) {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey: shiftKey\n        }\n      });\n    };\n    var onFocus = function (container, targetComp) {\n      var target = targetComp.element;\n      if (has(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    var isPseudoStop = function (element) {\n      return closest(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), never);\n    };\n\n    var platformNeedsSandboxing = !(detect$1().browser.isIE() || detect$1().browser.isEdge());\n    var getDynamicSource = function (isSandbox) {\n      var cachedValue = Cell('');\n      return {\n        getValue: function (_frameComponent) {\n          return cachedValue.get();\n        },\n        setValue: function (frameComponent, html) {\n          if (!isSandbox) {\n            set$8(frameComponent.element, 'src', 'javascript:\\'\\'');\n            var doc = frameComponent.element.dom.contentWindow.document;\n            doc.open();\n            doc.write(html);\n            doc.close();\n          } else {\n            set$8(frameComponent.element, 'srcdoc', html);\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    var renderIFrame = function (spec, providersBackstage) {\n      var isSandbox = platformNeedsSandboxing && spec.sandboxed;\n      var attributes = __assign(__assign({}, spec.label.map(function (title) {\n        return { title: title };\n      }).getOr({})), isSandbox ? { sandbox: 'allow-scripts allow-same-origin' } : {});\n      var sourcing = getDynamicSource(isSandbox);\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var factory = function (newSpec) {\n        return craft({\n          uid: newSpec.uid,\n          dom: {\n            tag: 'iframe',\n            attributes: attributes\n          },\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            RepresentingConfigs.withComp(Optional.none(), sourcing.getValue, sourcing.setValue)\n          ])\n        });\n      };\n      var pField = FormField.parts.field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    var create$4 = function (width, height) {\n      return resize$3(document.createElement('canvas'), width, height);\n    };\n    var clone$1 = function (canvas) {\n      var tCanvas = create$4(canvas.width, canvas.height);\n      var ctx = get2dContext(tCanvas);\n      ctx.drawImage(canvas, 0, 0);\n      return tCanvas;\n    };\n    var get2dContext = function (canvas) {\n      return canvas.getContext('2d');\n    };\n    var resize$3 = function (canvas, width, height) {\n      canvas.width = width;\n      canvas.height = height;\n      return canvas;\n    };\n\n    var getWidth$1 = function (image) {\n      return image.naturalWidth || image.width;\n    };\n    var getHeight$1 = function (image) {\n      return image.naturalHeight || image.height;\n    };\n\n    var blobToImage = function (blob) {\n      return new Promise$1(function (resolve, reject) {\n        var blobUrl = URL.createObjectURL(blob);\n        var image = new Image();\n        var removeListeners = function () {\n          image.removeEventListener('load', loaded);\n          image.removeEventListener('error', error);\n        };\n        var loaded = function () {\n          removeListeners();\n          resolve(image);\n        };\n        var error = function () {\n          removeListeners();\n          reject('Unable to load data of type ' + blob.type + ': ' + blobUrl);\n        };\n        image.addEventListener('load', loaded);\n        image.addEventListener('error', error);\n        image.src = blobUrl;\n        if (image.complete) {\n          setTimeout(loaded, 0);\n        }\n      });\n    };\n    var dataUriToBlobSync = function (uri) {\n      var data = uri.split(',');\n      var matches = /data:([^;]+)/.exec(data[0]);\n      if (!matches) {\n        return Optional.none();\n      }\n      var mimetype = matches[1];\n      var base64 = data[1];\n      var sliceSize = 1024;\n      var byteCharacters = atob(base64);\n      var bytesLength = byteCharacters.length;\n      var slicesCount = Math.ceil(bytesLength / sliceSize);\n      var byteArrays = new Array(slicesCount);\n      for (var sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n        var begin = sliceIndex * sliceSize;\n        var end = Math.min(begin + sliceSize, bytesLength);\n        var bytes = new Array(end - begin);\n        for (var offset = begin, i = 0; offset < end; ++i, ++offset) {\n          bytes[i] = byteCharacters[offset].charCodeAt(0);\n        }\n        byteArrays[sliceIndex] = new Uint8Array(bytes);\n      }\n      return Optional.some(new Blob(byteArrays, { type: mimetype }));\n    };\n    var dataUriToBlob = function (uri) {\n      return new Promise$1(function (resolve, reject) {\n        dataUriToBlobSync(uri).fold(function () {\n          reject('uri is not base64: ' + uri);\n        }, resolve);\n      });\n    };\n    var canvasToBlob = function (canvas, type, quality) {\n      type = type || 'image/png';\n      if (isFunction(HTMLCanvasElement.prototype.toBlob)) {\n        return new Promise$1(function (resolve, reject) {\n          canvas.toBlob(function (blob) {\n            if (blob) {\n              resolve(blob);\n            } else {\n              reject();\n            }\n          }, type, quality);\n        });\n      } else {\n        return dataUriToBlob(canvas.toDataURL(type, quality));\n      }\n    };\n    var canvasToDataURL = function (canvas, type, quality) {\n      type = type || 'image/png';\n      return canvas.toDataURL(type, quality);\n    };\n    var blobToCanvas = function (blob) {\n      return blobToImage(blob).then(function (image) {\n        revokeImageUrl(image);\n        var canvas = create$4(getWidth$1(image), getHeight$1(image));\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0);\n        return canvas;\n      });\n    };\n    var blobToDataUri = function (blob) {\n      return new Promise$1(function (resolve) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n    var revokeImageUrl = function (image) {\n      URL.revokeObjectURL(image.src);\n    };\n\n    var create$3 = function (getCanvas, blob, uri) {\n      var initialType = blob.type;\n      var getType = constant$1(initialType);\n      var toBlob = function () {\n        return Promise$1.resolve(blob);\n      };\n      var toDataURL = constant$1(uri);\n      var toBase64 = function () {\n        return uri.split(',')[1];\n      };\n      var toAdjustedBlob = function (type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToBlob(canvas, type, quality);\n        });\n      };\n      var toAdjustedDataURL = function (type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToDataURL(canvas, type, quality);\n        });\n      };\n      var toAdjustedBase64 = function (type, quality) {\n        return toAdjustedDataURL(type, quality).then(function (dataurl) {\n          return dataurl.split(',')[1];\n        });\n      };\n      var toCanvas = function () {\n        return getCanvas.then(clone$1);\n      };\n      return {\n        getType: getType,\n        toBlob: toBlob,\n        toDataURL: toDataURL,\n        toBase64: toBase64,\n        toAdjustedBlob: toAdjustedBlob,\n        toAdjustedDataURL: toAdjustedDataURL,\n        toAdjustedBase64: toAdjustedBase64,\n        toCanvas: toCanvas\n      };\n    };\n    var fromBlob = function (blob) {\n      return blobToDataUri(blob).then(function (uri) {\n        return create$3(blobToCanvas(blob), blob, uri);\n      });\n    };\n    var fromCanvas = function (canvas, type) {\n      return canvasToBlob(canvas, type).then(function (blob) {\n        return create$3(Promise$1.resolve(canvas), blob, canvas.toDataURL());\n      });\n    };\n\n    var blobToImageResult = function (blob) {\n      return fromBlob(blob);\n    };\n\n    var clamp = function (value, min, max) {\n      var parsedValue = typeof value === 'string' ? parseFloat(value) : value;\n      if (parsedValue > max) {\n        parsedValue = max;\n      } else if (parsedValue < min) {\n        parsedValue = min;\n      }\n      return parsedValue;\n    };\n    var identity = function () {\n      return [\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ];\n    };\n    var DELTA_INDEX = [\n      0,\n      0.01,\n      0.02,\n      0.04,\n      0.05,\n      0.06,\n      0.07,\n      0.08,\n      0.1,\n      0.11,\n      0.12,\n      0.14,\n      0.15,\n      0.16,\n      0.17,\n      0.18,\n      0.2,\n      0.21,\n      0.22,\n      0.24,\n      0.25,\n      0.27,\n      0.28,\n      0.3,\n      0.32,\n      0.34,\n      0.36,\n      0.38,\n      0.4,\n      0.42,\n      0.44,\n      0.46,\n      0.48,\n      0.5,\n      0.53,\n      0.56,\n      0.59,\n      0.62,\n      0.65,\n      0.68,\n      0.71,\n      0.74,\n      0.77,\n      0.8,\n      0.83,\n      0.86,\n      0.89,\n      0.92,\n      0.95,\n      0.98,\n      1,\n      1.06,\n      1.12,\n      1.18,\n      1.24,\n      1.3,\n      1.36,\n      1.42,\n      1.48,\n      1.54,\n      1.6,\n      1.66,\n      1.72,\n      1.78,\n      1.84,\n      1.9,\n      1.96,\n      2,\n      2.12,\n      2.25,\n      2.37,\n      2.5,\n      2.62,\n      2.75,\n      2.87,\n      3,\n      3.2,\n      3.4,\n      3.6,\n      3.8,\n      4,\n      4.3,\n      4.7,\n      4.9,\n      5,\n      5.5,\n      6,\n      6.5,\n      6.8,\n      7,\n      7.3,\n      7.5,\n      7.8,\n      8,\n      8.4,\n      8.7,\n      9,\n      9.4,\n      9.6,\n      9.8,\n      10\n    ];\n    var multiply = function (matrix1, matrix2) {\n      var col = [];\n      var out = new Array(25);\n      var val;\n      for (var i = 0; i < 5; i++) {\n        for (var j = 0; j < 5; j++) {\n          col[j] = matrix2[j + i * 5];\n        }\n        for (var j = 0; j < 5; j++) {\n          val = 0;\n          for (var k = 0; k < 5; k++) {\n            val += matrix1[j + k * 5] * col[k];\n          }\n          out[j + i * 5] = val;\n        }\n      }\n      return out;\n    };\n    var adjustContrast = function (matrix, value) {\n      var x;\n      value = clamp(value, -1, 1);\n      value *= 100;\n      if (value < 0) {\n        x = 127 + value / 100 * 127;\n      } else {\n        x = value % 1;\n        if (x === 0) {\n          x = DELTA_INDEX[value];\n        } else {\n          x = DELTA_INDEX[Math.floor(value)] * (1 - x) + DELTA_INDEX[Math.floor(value) + 1] * x;\n        }\n        x = x * 127 + 127;\n      }\n      return multiply(matrix, [\n        x / 127,\n        0,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        x / 127,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        x / 127,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n    var adjustBrightness = function (matrix, value) {\n      value = clamp(255 * value, -255, 255);\n      return multiply(matrix, [\n        1,\n        0,\n        0,\n        0,\n        value,\n        0,\n        1,\n        0,\n        0,\n        value,\n        0,\n        0,\n        1,\n        0,\n        value,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n    var adjustColors = function (matrix, adjustR, adjustG, adjustB) {\n      adjustR = clamp(adjustR, 0, 2);\n      adjustG = clamp(adjustG, 0, 2);\n      adjustB = clamp(adjustB, 0, 2);\n      return multiply(matrix, [\n        adjustR,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustG,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustB,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n\n    var colorFilter = function (ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyColorFilter(canvas, ir.getType(), matrix);\n      });\n    };\n    var applyColorFilter = function (canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      var applyMatrix = function (pixelsData, m) {\n        var r, g, b, a;\n        var data = pixelsData.data, m0 = m[0], m1 = m[1], m2 = m[2], m3 = m[3], m4 = m[4], m5 = m[5], m6 = m[6], m7 = m[7], m8 = m[8], m9 = m[9], m10 = m[10], m11 = m[11], m12 = m[12], m13 = m[13], m14 = m[14], m15 = m[15], m16 = m[16], m17 = m[17], m18 = m[18], m19 = m[19];\n        for (var i = 0; i < data.length; i += 4) {\n          r = data[i];\n          g = data[i + 1];\n          b = data[i + 2];\n          a = data[i + 3];\n          data[i] = r * m0 + g * m1 + b * m2 + a * m3 + m4;\n          data[i + 1] = r * m5 + g * m6 + b * m7 + a * m8 + m9;\n          data[i + 2] = r * m10 + g * m11 + b * m12 + a * m13 + m14;\n          data[i + 3] = r * m15 + g * m16 + b * m17 + a * m18 + m19;\n        }\n        return pixelsData;\n      };\n      var pixels = applyMatrix(context.getImageData(0, 0, canvas.width, canvas.height), matrix);\n      context.putImageData(pixels, 0, 0);\n      return fromCanvas(canvas, type);\n    };\n    var convoluteFilter = function (ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyConvoluteFilter(canvas, ir.getType(), matrix);\n      });\n    };\n    var applyConvoluteFilter = function (canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      var applyMatrix = function (pIn, pOut, aMatrix) {\n        var clamp = function (value, min, max) {\n          if (value > max) {\n            value = max;\n          } else if (value < min) {\n            value = min;\n          }\n          return value;\n        };\n        var side = Math.round(Math.sqrt(aMatrix.length));\n        var halfSide = Math.floor(side / 2);\n        var rgba = pIn.data;\n        var drgba = pOut.data;\n        var w = pIn.width;\n        var h = pIn.height;\n        for (var y = 0; y < h; y++) {\n          for (var x = 0; x < w; x++) {\n            var r = 0;\n            var g = 0;\n            var b = 0;\n            for (var cy = 0; cy < side; cy++) {\n              for (var cx = 0; cx < side; cx++) {\n                var scx = clamp(x + cx - halfSide, 0, w - 1);\n                var scy = clamp(y + cy - halfSide, 0, h - 1);\n                var innerOffset = (scy * w + scx) * 4;\n                var wt = aMatrix[cy * side + cx];\n                r += rgba[innerOffset] * wt;\n                g += rgba[innerOffset + 1] * wt;\n                b += rgba[innerOffset + 2] * wt;\n              }\n            }\n            var offset = (y * w + x) * 4;\n            drgba[offset] = clamp(r, 0, 255);\n            drgba[offset + 1] = clamp(g, 0, 255);\n            drgba[offset + 2] = clamp(b, 0, 255);\n          }\n        }\n        return pOut;\n      };\n      var pixelsIn = context.getImageData(0, 0, canvas.width, canvas.height);\n      var pixelsOut = context.getImageData(0, 0, canvas.width, canvas.height);\n      pixelsOut = applyMatrix(pixelsIn, pixelsOut, matrix);\n      context.putImageData(pixelsOut, 0, 0);\n      return fromCanvas(canvas, type);\n    };\n    var functionColorFilter = function (colorFn) {\n      var filterImpl = function (canvas, type, value) {\n        var context = get2dContext(canvas);\n        var lookup = new Array(256);\n        var applyLookup = function (pixelsData, lookupData) {\n          var data = pixelsData.data;\n          for (var i = 0; i < data.length; i += 4) {\n            data[i] = lookupData[data[i]];\n            data[i + 1] = lookupData[data[i + 1]];\n            data[i + 2] = lookupData[data[i + 2]];\n          }\n          return pixelsData;\n        };\n        for (var i = 0; i < lookup.length; i++) {\n          lookup[i] = colorFn(i, value);\n        }\n        var pixels = applyLookup(context.getImageData(0, 0, canvas.width, canvas.height), lookup);\n        context.putImageData(pixels, 0, 0);\n        return fromCanvas(canvas, type);\n      };\n      return function (ir, value) {\n        return ir.toCanvas().then(function (canvas) {\n          return filterImpl(canvas, ir.getType(), value);\n        });\n      };\n    };\n    var complexAdjustableColorFilter = function (matrixAdjustFn) {\n      return function (ir, adjust) {\n        return colorFilter(ir, matrixAdjustFn(identity(), adjust));\n      };\n    };\n    var basicColorFilter = function (matrix) {\n      return function (ir) {\n        return colorFilter(ir, matrix);\n      };\n    };\n    var basicConvolutionFilter = function (kernel) {\n      return function (ir) {\n        return convoluteFilter(ir, kernel);\n      };\n    };\n    var invert$1 = basicColorFilter([\n      -1,\n      0,\n      0,\n      0,\n      255,\n      0,\n      -1,\n      0,\n      0,\n      255,\n      0,\n      0,\n      -1,\n      0,\n      255,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1\n    ]);\n    var brightness$1 = complexAdjustableColorFilter(adjustBrightness);\n    var contrast$1 = complexAdjustableColorFilter(adjustContrast);\n    var colorize$1 = function (ir, adjustR, adjustG, adjustB) {\n      return colorFilter(ir, adjustColors(identity(), adjustR, adjustG, adjustB));\n    };\n    var sharpen$1 = basicConvolutionFilter([\n      0,\n      -1,\n      0,\n      -1,\n      5,\n      -1,\n      0,\n      -1,\n      0\n    ]);\n    var gamma$1 = functionColorFilter(function (color, value) {\n      return Math.pow(color / 255, 1 - value) * 255;\n    });\n\n    var scale = function (image, dW, dH) {\n      var sW = getWidth$1(image);\n      var sH = getHeight$1(image);\n      var wRatio = dW / sW;\n      var hRatio = dH / sH;\n      var scaleCapped = false;\n      if (wRatio < 0.5 || wRatio > 2) {\n        wRatio = wRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      if (hRatio < 0.5 || hRatio > 2) {\n        hRatio = hRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      var scaled = _scale(image, wRatio, hRatio);\n      return !scaleCapped ? scaled : scaled.then(function (tCanvas) {\n        return scale(tCanvas, dW, dH);\n      });\n    };\n    var _scale = function (image, wRatio, hRatio) {\n      return new Promise$1(function (resolve) {\n        var sW = getWidth$1(image);\n        var sH = getHeight$1(image);\n        var dW = Math.floor(sW * wRatio);\n        var dH = Math.floor(sH * hRatio);\n        var canvas = create$4(dW, dH);\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0, sW, sH, 0, 0, dW, dH);\n        resolve(canvas);\n      });\n    };\n\n    var ceilWithPrecision = function (num, precision) {\n      if (precision === void 0) {\n        precision = 2;\n      }\n      var mul = Math.pow(10, precision);\n      var upper = Math.round(num * mul);\n      return Math.ceil(upper / mul);\n    };\n    var rotate$1 = function (ir, angle) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyRotate(canvas, ir.getType(), angle);\n      });\n    };\n    var applyRotate = function (image, type, angle) {\n      var degrees = angle < 0 ? 360 + angle : angle;\n      var rad = degrees * Math.PI / 180;\n      var width = image.width;\n      var height = image.height;\n      var sin = Math.sin(rad);\n      var cos = Math.cos(rad);\n      var newWidth = ceilWithPrecision(Math.abs(width * cos) + Math.abs(height * sin));\n      var newHeight = ceilWithPrecision(Math.abs(width * sin) + Math.abs(height * cos));\n      var canvas = create$4(newWidth, newHeight);\n      var context = get2dContext(canvas);\n      context.translate(newWidth / 2, newHeight / 2);\n      context.rotate(rad);\n      context.drawImage(image, -width / 2, -height / 2);\n      return fromCanvas(canvas, type);\n    };\n    var flip$1 = function (ir, axis) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyFlip(canvas, ir.getType(), axis);\n      });\n    };\n    var applyFlip = function (image, type, axis) {\n      var canvas = create$4(image.width, image.height);\n      var context = get2dContext(canvas);\n      if (axis === 'v') {\n        context.scale(1, -1);\n        context.drawImage(image, 0, -canvas.height);\n      } else {\n        context.scale(-1, 1);\n        context.drawImage(image, -canvas.width, 0);\n      }\n      return fromCanvas(canvas, type);\n    };\n    var crop$1 = function (ir, x, y, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyCrop(canvas, ir.getType(), x, y, w, h);\n      });\n    };\n    var applyCrop = function (image, type, x, y, w, h) {\n      var canvas = create$4(w, h);\n      var context = get2dContext(canvas);\n      context.drawImage(image, -x, -y);\n      return fromCanvas(canvas, type);\n    };\n    var resize$2 = function (ir, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return scale(canvas, w, h).then(function (newCanvas) {\n          return fromCanvas(newCanvas, ir.getType());\n        });\n      });\n    };\n\n    var invert = function (ir) {\n      return invert$1(ir);\n    };\n    var sharpen = function (ir) {\n      return sharpen$1(ir);\n    };\n    var gamma = function (ir, value) {\n      return gamma$1(ir, value);\n    };\n    var colorize = function (ir, adjustR, adjustG, adjustB) {\n      return colorize$1(ir, adjustR, adjustG, adjustB);\n    };\n    var brightness = function (ir, adjust) {\n      return brightness$1(ir, adjust);\n    };\n    var contrast = function (ir, adjust) {\n      return contrast$1(ir, adjust);\n    };\n    var flip = function (ir, axis) {\n      return flip$1(ir, axis);\n    };\n    var crop = function (ir, x, y, w, h) {\n      return crop$1(ir, x, y, w, h);\n    };\n    var resize$1 = function (ir, w, h) {\n      return resize$2(ir, w, h);\n    };\n    var rotate = function (ir, angle) {\n      return rotate$1(ir, angle);\n    };\n\n    var renderIcon = function (iconName, iconsProvider, behaviours) {\n      return render$3(iconName, {\n        tag: 'span',\n        classes: [\n          'tox-icon',\n          'tox-tbtn__icon-wrap'\n        ],\n        behaviours: behaviours\n      }, iconsProvider);\n    };\n    var renderIconFromPack = function (iconName, iconsProvider) {\n      return renderIcon(iconName, iconsProvider, []);\n    };\n    var renderReplacableIconFromPack = function (iconName, iconsProvider) {\n      return renderIcon(iconName, iconsProvider, [Replacing.config({})]);\n    };\n    var renderLabel$1 = function (text, prefix, providersBackstage) {\n      return {\n        dom: {\n          tag: 'span',\n          innerHtml: providersBackstage.translate(text),\n          classes: [prefix + '__select-label']\n        },\n        behaviours: derive$1([Replacing.config({})])\n      };\n    };\n\n    var _a;\n    var internalToolbarButtonExecute = generate$6('toolbar.button.execute');\n    var onToolbarButtonExecute = function (info) {\n      return runOnExecute$1(function (comp, _simulatedEvent) {\n        runWithApi(info, comp)(function (itemApi) {\n          emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n          info.onAction(itemApi);\n        });\n      });\n    };\n    var toolbarButtonEventOrder = (_a = {}, _a[execute$5()] = [\n      'disabling',\n      'alloy.base.behaviour',\n      'toggling',\n      'toolbar-button-events'\n    ], _a);\n\n    var updateMenuText = generate$6('update-menu-text');\n    var updateMenuIcon = generate$6('update-menu-icon');\n    var renderCommonDropdown = function (spec, prefix, sharedBackstage) {\n      var editorOffCell = Cell(noop);\n      var optMemDisplayText = spec.text.map(function (text) {\n        return record(renderLabel$1(text, prefix, sharedBackstage.providers));\n      });\n      var optMemDisplayIcon = spec.icon.map(function (iconName) {\n        return record(renderReplacableIconFromPack(iconName, sharedBackstage.providers.icons));\n      });\n      var onLeftOrRightInMenu = function (comp, se) {\n        var dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event.raw });\n        Dropdown.close(dropdown);\n        return Optional.some(true);\n      };\n      var role = spec.role.fold(function () {\n        return {};\n      }, function (role) {\n        return { role: role };\n      });\n      var tooltipAttributes = spec.tooltip.fold(function () {\n        return {};\n      }, function (tooltip) {\n        var translatedTooltip = sharedBackstage.providers.translate(tooltip);\n        return {\n          'title': translatedTooltip,\n          'aria-label': translatedTooltip\n        };\n      });\n      var iconSpec = render$3('chevron-down', {\n        tag: 'div',\n        classes: [prefix + '__select-chevron']\n      }, sharedBackstage.providers.icons);\n      var memDropdown = record(Dropdown.sketch(__assign(__assign(__assign({}, spec.uid ? { uid: spec.uid } : {}), role), {\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            prefix + '--select'\n          ].concat(map$2(spec.classes, function (c) {\n            return prefix + '--' + c;\n          })),\n          attributes: __assign({}, tooltipAttributes)\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(function (mem) {\n            return mem.asSpec();\n          }),\n          optMemDisplayText.map(function (mem) {\n            return mem.asSpec();\n          }),\n          Optional.some(iconSpec)\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        dropdownBehaviours: derive$1(__spreadArray(__spreadArray([], spec.dropdownBehaviours, true), [\n          DisablingConfigs.button(function () {\n            return spec.disabled || sharedBackstage.providers.isDisabled();\n          }),\n          receivingConfig(),\n          Unselecting.config({}),\n          Replacing.config({}),\n          config('dropdown-events', [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config('menubutton-update-display-text', [\n            run$1(updateMenuText, function (comp, se) {\n              optMemDisplayText.bind(function (mem) {\n                return mem.getOpt(comp);\n              }).each(function (displayText) {\n                Replacing.set(displayText, [text$1(sharedBackstage.providers.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, function (comp, se) {\n              optMemDisplayIcon.bind(function (mem) {\n                return mem.getOpt(comp);\n              }).each(function (displayIcon) {\n                Replacing.set(displayIcon, [renderReplacableIconFromPack(se.event.icon, sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ], false)),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          mousedown: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ]\n        }),\n        sandboxBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          })]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: prefix + '--active',\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        fetch: function (comp) {\n          return Future.nu(curry(spec.fetch, comp));\n        }\n      })));\n      return memDropdown.asSpec();\n    };\n\n    var isMenuItemReference = function (item) {\n      return isString(item);\n    };\n    var isSeparator$1 = function (item) {\n      return item.type === 'separator';\n    };\n    var isExpandingMenuItem = function (item) {\n      return has$2(item, 'getSubmenuItems');\n    };\n    var separator$2 = { type: 'separator' };\n    var unwrapReferences = function (items, menuItems) {\n      var realItems = foldl(items, function (acc, item) {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator$1(acc[acc.length - 1]) ? acc.concat([separator$2]) : acc;\n          } else if (has$2(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator$1(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    var getFromExpandingItem = function (item, menuItems) {\n      var submenuItems = item.getSubmenuItems();\n      var rest = expand(submenuItems, menuItems);\n      var newMenus = deepMerge(rest.menus, wrap$1(item.value, rest.items));\n      var newExpansions = deepMerge(rest.expansions, wrap$1(item.value, item.value));\n      return {\n        item: item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    var getFromItem = function (item, menuItems) {\n      return isExpandingMenuItem(item) ? getFromExpandingItem(item, menuItems) : {\n        item: item,\n        menus: {},\n        expansions: {}\n      };\n    };\n    var generateValueIfRequired = function (item) {\n      if (isSeparator$1(item)) {\n        return item;\n      } else {\n        var itemValue = get$e(item, 'value').getOrThunk(function () {\n          return generate$6('generated-menu-item');\n        });\n        return deepMerge({ value: itemValue }, item);\n      }\n    };\n    var expand = function (items, menuItems) {\n      var realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, function (acc, item) {\n        var itemWithValue = generateValueIfRequired(item);\n        var newData = getFromItem(itemWithValue, menuItems);\n        return {\n          menus: deepMerge(acc.menus, newData.menus),\n          items: [newData.item].concat(acc.items),\n          expansions: deepMerge(acc.expansions, newData.expansions)\n        };\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    var build = function (items, itemResponse, backstage, isHorizontalMenu) {\n      var primary = generate$6('primary-menu');\n      var data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Optional.none();\n      }\n      var mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, isHorizontalMenu);\n      var submenus = map$1(data.menus, function (menuItems, menuName) {\n        return createPartialMenu(menuName, menuItems, itemResponse, backstage, false);\n      });\n      var menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Optional.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    var getMenuButtonApi = function (component) {\n      return {\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        },\n        setActive: function (state) {\n          var elm = component.element;\n          if (state) {\n            add$2(elm, 'tox-tbtn--enabled');\n            set$8(elm, 'aria-pressed', true);\n          } else {\n            remove$2(elm, 'tox-tbtn--enabled');\n            remove$7(elm, 'aria-pressed');\n          }\n        },\n        isActive: function () {\n          return has(component.element, 'tox-tbtn--enabled');\n        }\n      };\n    };\n    var renderMenuButton = function (spec, prefix, backstage, role) {\n      return renderCommonDropdown({\n        text: spec.text,\n        icon: spec.icon,\n        tooltip: spec.tooltip,\n        role: role,\n        fetch: function (_comp, callback) {\n          spec.fetch(function (items) {\n            callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n          });\n        },\n        onSetup: spec.onSetup,\n        getApi: getMenuButtonApi,\n        columns: 1,\n        presets: 'normal',\n        classes: [],\n        dropdownBehaviours: [Tabstopping.config({})]\n      }, prefix, backstage.shared);\n    };\n    var getFetch = function (items, getButton, backstage) {\n      var getMenuItemAction = function (item) {\n        return function (api) {\n          var newValue = !api.isActive();\n          api.setActive(newValue);\n          item.storage.set(newValue);\n          backstage.shared.getSink().each(function (sink) {\n            getButton().getOpt(sink).each(function (orig) {\n              focus$3(orig.element);\n              emitWith(orig, formActionEvent, {\n                name: item.name,\n                value: item.storage.get()\n              });\n            });\n          });\n        };\n      };\n      var getMenuItemSetup = function (item) {\n        return function (api) {\n          api.setActive(item.storage.get());\n        };\n      };\n      return function (success) {\n        success(map$2(items, function (item) {\n          var text = item.text.fold(function () {\n            return {};\n          }, function (text) {\n            return { text: text };\n          });\n          return __assign(__assign({\n            type: item.type,\n            active: false\n          }, text), {\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          });\n        }));\n      };\n    };\n\n    var renderCommonSpec = function (spec, actionOpt, extraBehaviours, dom, components, providersBackstage) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var action = actionOpt.fold(function () {\n        return {};\n      }, function (action) {\n        return { action: action };\n      });\n      var common = __assign({\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('button press', [\n            preventDefault('click'),\n            preventDefault('mousedown')\n          ])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        }\n      }, action);\n      var domFinal = deepMerge(common, { dom: dom });\n      return deepMerge(domFinal, { components: components });\n    };\n    var renderIconButtonSpec = function (spec, action, providersBackstage, extraBehaviours) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var tooltipAttributes = spec.tooltip.map(function (tooltip) {\n        return {\n          'aria-label': providersBackstage.translate(tooltip),\n          'title': providersBackstage.translate(tooltip)\n        };\n      }).getOr({});\n      var dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: tooltipAttributes\n      };\n      var icon = spec.icon.map(function (iconName) {\n        return renderIconFromPack(iconName, providersBackstage.icons);\n      });\n      var components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    var renderIconButton = function (spec, action, providersBackstage, extraBehaviours) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var iconButtonSpec = renderIconButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours);\n      return Button.sketch(iconButtonSpec);\n    };\n    var renderButtonSpec = function (spec, action, providersBackstage, extraBehaviours, extraClasses) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      if (extraClasses === void 0) {\n        extraClasses = [];\n      }\n      var translatedText = providersBackstage.translate(spec.text);\n      var icon = spec.icon ? spec.icon.map(function (iconName) {\n        return renderIconFromPack(iconName, providersBackstage.icons);\n      }) : Optional.none();\n      var components = icon.isSome() ? componentRenderPipeline([icon]) : [];\n      var innerHtml = icon.isSome() ? {} : { innerHtml: translatedText };\n      var classes = __spreadArray(__spreadArray(__spreadArray(__spreadArray([], !spec.primary && !spec.borderless ? [\n        'tox-button',\n        'tox-button--secondary'\n      ] : ['tox-button'], true), icon.isSome() ? ['tox-button--icon'] : [], true), spec.borderless ? ['tox-button--naked'] : [], true), extraClasses, true);\n      var dom = __assign(__assign({\n        tag: 'button',\n        classes: classes\n      }, innerHtml), { attributes: { title: translatedText } });\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    var renderButton = function (spec, action, providersBackstage, extraBehaviours, extraClasses) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      if (extraClasses === void 0) {\n        extraClasses = [];\n      }\n      var buttonSpec = renderButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    var getAction = function (name, buttonType) {\n      return function (comp) {\n        if (buttonType === 'custom') {\n          emitWith(comp, formActionEvent, {\n            name: name,\n            value: {}\n          });\n        } else if (buttonType === 'submit') {\n          emit(comp, formSubmitEvent);\n        } else if (buttonType === 'cancel') {\n          emit(comp, formCancelEvent);\n        } else {\n          console.error('Unknown button type: ', buttonType);\n        }\n      };\n    };\n    var isMenuFooterButtonSpec = function (spec, buttonType) {\n      return buttonType === 'menu';\n    };\n    var isNormalFooterButtonSpec = function (spec, buttonType) {\n      return buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    };\n    var renderFooterButton = function (spec, buttonType, backstage) {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        var getButton = function () {\n          return memButton_1;\n        };\n        var menuButtonSpec = spec;\n        var fixedSpec = __assign(__assign({}, spec), {\n          onSetup: function (api) {\n            api.setDisabled(spec.disabled);\n            return noop;\n          },\n          fetch: getFetch(menuButtonSpec.items, getButton, backstage)\n        });\n        var memButton_1 = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Optional.none()));\n        return memButton_1.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        var action = getAction(spec.name, buttonType);\n        var buttonSpec = __assign(__assign({}, spec), { borderless: false });\n        return renderButton(buttonSpec, action, backstage.shared.providers, []);\n      } else {\n        console.error('Unknown footer button type: ', buttonType);\n      }\n    };\n    var renderDialogButton = function (spec, providersBackstage) {\n      var action = getAction(spec.name, 'custom');\n      return renderFormField(Optional.none(), FormField.parts.field(__assign({ factory: Button }, renderButtonSpec(spec, Optional.some(action), providersBackstage, [\n        RepresentingConfigs.memory(''),\n        ComposingConfigs.self()\n      ]))));\n    };\n\n    var schema$h = constant$1([\n      defaulted('field1Name', 'field1'),\n      defaulted('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers$1(['lockClass']),\n      defaulted('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    var getField = function (comp, detail, partName) {\n      return getPart(comp, detail, partName).bind(Composing.getCurrent);\n    };\n    var coupledPart = function (selfName, otherName) {\n      return required({\n        factory: FormField,\n        name: selfName,\n        overrides: function (detail) {\n          return {\n            fieldBehaviours: derive$1([config('coupled-input-behaviour', [run$1(input(), function (me) {\n                  getField(me, detail, otherName).each(function (other) {\n                    getPart(me, detail, 'lock').each(function (lock) {\n                      if (Toggling.isOn(lock)) {\n                        detail.onLockedChange(me, other, lock);\n                      }\n                    });\n                  });\n                })])])\n          };\n        }\n      });\n    };\n    var parts$c = constant$1([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [required$1('dom')],\n        name: 'lock',\n        overrides: function (detail) {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    var factory$f = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n          Composing.config({ find: Optional.some }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (comp) {\n                var _a;\n                var parts = getPartsOrDie(comp, detail, [\n                  'field1',\n                  'field2'\n                ]);\n                return _a = {}, _a[detail.field1Name] = Representing.getValue(parts.field1()), _a[detail.field2Name] = Representing.getValue(parts.field2()), _a;\n              },\n              setValue: function (comp, value) {\n                var parts = getPartsOrDie(comp, detail, [\n                  'field1',\n                  'field2'\n                ]);\n                if (hasNonNullableKey(value, detail.field1Name)) {\n                  Representing.setValue(parts.field1(), value[detail.field1Name]);\n                }\n                if (hasNonNullableKey(value, detail.field2Name)) {\n                  Representing.setValue(parts.field2(), value[detail.field2Name]);\n                }\n              }\n            }\n          })\n        ]),\n        apis: {\n          getField1: function (component) {\n            return getPart(component, detail, 'field1');\n          },\n          getField2: function (component) {\n            return getPart(component, detail, 'field2');\n          },\n          getLock: function (component) {\n            return getPart(component, detail, 'lock');\n          }\n        }\n      };\n    };\n    var FormCoupledInputs = composite({\n      name: 'FormCoupledInputs',\n      configFields: schema$h(),\n      partFields: parts$c(),\n      factory: factory$f,\n      apis: {\n        getField1: function (apis, component) {\n          return apis.getField1(component);\n        },\n        getField2: function (apis, component) {\n          return apis.getField2(component);\n        },\n        getLock: function (apis, component) {\n          return apis.getLock(component);\n        }\n      }\n    });\n\n    var formatSize = function (size) {\n      var unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      var maxDecimal = function (unit) {\n        return unit in unitDec ? unitDec[unit] : 1;\n      };\n      var numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    var parseSize = function (sizeText) {\n      var numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      var match = numPattern.exec(sizeText);\n      if (match !== null) {\n        var value = parseFloat(match[1]);\n        var unit = match[2];\n        return Result.value({\n          value: value,\n          unit: unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    var convertUnit = function (size, unit) {\n      var inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      var supported = function (u) {\n        return has$2(inInch, u);\n      };\n      if (size.unit === unit) {\n        return Optional.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Optional.some(size.value);\n        } else {\n          return Optional.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    var noSizeConversion = function (_input) {\n      return Optional.none();\n    };\n    var ratioSizeConversion = function (scale, unit) {\n      return function (size) {\n        return convertUnit(size, unit).map(function (value) {\n          return {\n            value: value * scale,\n            unit: unit\n          };\n        });\n      };\n    };\n    var makeRatioConverter = function (currentFieldText, otherFieldText) {\n      var cValue = parseSize(currentFieldText).toOptional();\n      var oValue = parseSize(otherFieldText).toOptional();\n      return lift2(cValue, oValue, function (cSize, oSize) {\n        return convertUnit(cSize, oSize.unit).map(function (val) {\n          return oSize.value / val;\n        }).map(function (r) {\n          return ratioSizeConversion(r, oSize.unit);\n        }).getOr(noSizeConversion);\n      }).getOr(noSizeConversion);\n    };\n\n    var renderSizeInput = function (spec, providersBackstage) {\n      var converter = noSizeConversion;\n      var ratioEvent = generate$6('ratio-event');\n      var makeIcon = function (iconName) {\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-lock-icon__' + iconName\n          ]\n        }, providersBackstage.icons);\n      };\n      var pLock = FormCoupledInputs.parts.lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { title: providersBackstage.translate(spec.label.getOr('Constrain proportions')) }\n        },\n        components: [\n          makeIcon('lock'),\n          makeIcon('unlock')\n        ],\n        buttonBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          }),\n          receivingConfig(),\n          Tabstopping.config({})\n        ])\n      });\n      var formGroup = function (components) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group']\n          },\n          components: components\n        };\n      };\n      var getFieldPart = function (isField1) {\n        return FormField.parts.field({\n          factory: Input,\n          inputClasses: ['tox-textfield'],\n          inputBehaviours: derive$1([\n            Disabling.config({\n              disabled: function () {\n                return spec.disabled || providersBackstage.isDisabled();\n              }\n            }),\n            receivingConfig(),\n            Tabstopping.config({}),\n            config('size-input-events', [\n              run$1(focusin(), function (component, _simulatedEvent) {\n                emitWith(component, ratioEvent, { isField1: isField1 });\n              }),\n              run$1(change(), function (component, _simulatedEvent) {\n                emitWith(component, formChangeEvent, { name: spec.name });\n              })\n            ])\n          ]),\n          selectOnFocus: false\n        });\n      };\n      var getLabel = function (label) {\n        return {\n          dom: {\n            tag: 'label',\n            classes: ['tox-label'],\n            innerHtml: providersBackstage.translate(label)\n          }\n        };\n      };\n      var widthField = FormCoupledInputs.parts.field1(formGroup([\n        FormField.parts.label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      var heightField = FormCoupledInputs.parts.field2(formGroup([\n        FormField.parts.label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel('&nbsp;'),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: function (current, other, _lock) {\n          parseSize(Representing.getValue(current)).each(function (size) {\n            converter(size).each(function (newSize) {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('size-input-events2', [run$1(ratioEvent, function (component, simulatedEvent) {\n              var isField1 = simulatedEvent.event.isField1;\n              var optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              var optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              var value1 = optCurrent.map(Representing.getValue).getOr('');\n              var value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            })])\n        ])\n      });\n    };\n\n    var undo = constant$1(generate$6('undo'));\n    var redo = constant$1(generate$6('redo'));\n    var zoom = constant$1(generate$6('zoom'));\n    var back = constant$1(generate$6('back'));\n    var apply$1 = constant$1(generate$6('apply'));\n    var swap = constant$1(generate$6('swap'));\n    var transform$1 = constant$1(generate$6('transform'));\n    var tempTransform = constant$1(generate$6('temp-transform'));\n    var transformApply = constant$1(generate$6('transform-apply'));\n    var internal = {\n      undo: undo,\n      redo: redo,\n      zoom: zoom,\n      back: back,\n      apply: apply$1,\n      swap: swap,\n      transform: transform$1,\n      tempTransform: tempTransform,\n      transformApply: transformApply\n    };\n    var saveState = constant$1('save-state');\n    var disable = constant$1('disable');\n    var enable = constant$1('enable');\n    var external = {\n      formActionEvent: formActionEvent,\n      saveState: saveState,\n      disable: disable,\n      enable: enable\n    };\n\n    var renderEditPanel = function (imagePanel, providersBackstage) {\n      var createButton = function (text, action, disabled, primary) {\n        return record(renderButton({\n          name: text,\n          text: text,\n          disabled: disabled,\n          primary: primary,\n          icon: Optional.none(),\n          borderless: false\n        }, action, providersBackstage));\n      };\n      var createIconButton = function (icon, tooltip, action, disabled) {\n        return record(renderIconButton({\n          name: icon,\n          icon: Optional.some(icon),\n          tooltip: Optional.some(tooltip),\n          disabled: disabled,\n          primary: false,\n          borderless: false\n        }, action, providersBackstage));\n      };\n      var disableAllComponents = function (comps, eventcomp) {\n        comps.map(function (mem) {\n          var component = mem.get(eventcomp);\n          if (component.hasConfigured(Disabling)) {\n            Disabling.disable(component);\n          }\n        });\n      };\n      var enableAllComponents = function (comps, eventcomp) {\n        comps.map(function (mem) {\n          var component = mem.get(eventcomp);\n          if (component.hasConfigured(Disabling)) {\n            Disabling.enable(component);\n          }\n        });\n      };\n      var panelDom = {\n        tag: 'div',\n        classes: [\n          'tox-image-tools__toolbar',\n          'tox-image-tools-edit-panel'\n        ]\n      };\n      var noop$1 = noop;\n      var emit$1 = function (comp, event, data) {\n        emitWith(comp, event, data);\n      };\n      var emitDisable = function (component) {\n        return emit(component, external.disable());\n      };\n      var emitEnable = function (component) {\n        return emit(component, external.enable());\n      };\n      var emitTransform = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.transform(), { transform: transform });\n        emitEnable(comp);\n      };\n      var emitTempTransform = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.tempTransform(), { transform: transform });\n        emitEnable(comp);\n      };\n      var getBackSwap = function (anyInSystem) {\n        return function () {\n          memContainer.getOpt(anyInSystem).each(function (container) {\n            Replacing.set(container, [ButtonPanel]);\n          });\n        };\n      };\n      var emitTransformApply = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.transformApply(), {\n          transform: transform,\n          swap: getBackSwap(comp)\n        });\n        emitEnable(comp);\n      };\n      var createBackButton = function () {\n        return createButton('Back', function (button) {\n          return emit$1(button, internal.back(), { swap: getBackSwap(button) });\n        }, false, false);\n      };\n      var createSpacer = function () {\n        return record({\n          dom: {\n            tag: 'div',\n            classes: ['tox-spacer']\n          },\n          behaviours: derive$1([Disabling.config({})])\n        });\n      };\n      var createApplyButton = function () {\n        return createButton('Apply', function (button) {\n          return emit$1(button, internal.apply(), { swap: getBackSwap(button) });\n        }, true, true);\n      };\n      var makeCropTransform = function () {\n        return function (ir) {\n          var rect = imagePanel.getRect();\n          return crop(ir, rect.x, rect.y, rect.w, rect.h);\n        };\n      };\n      var cropPanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        createButton('Apply', function (button) {\n          var transform = makeCropTransform();\n          emitTransformApply(button, transform);\n          imagePanel.hideCrop();\n        }, false, true)\n      ];\n      var CropPanel = Container.sketch({\n        dom: panelDom,\n        components: cropPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-crop-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(cropPanelComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(cropPanelComponents, comp);\n            })\n          ])])\n      });\n      var memSize = record(renderSizeInput({\n        name: 'size',\n        label: Optional.none(),\n        constrain: true,\n        disabled: false\n      }, providersBackstage));\n      var makeResizeTransform = function (width, height) {\n        return function (ir) {\n          return resize$1(ir, width, height);\n        };\n      };\n      var resizePanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        memSize,\n        createSpacer(),\n        createButton('Apply', function (button) {\n          memSize.getOpt(button).each(function (sizeInput) {\n            var value = Representing.getValue(sizeInput);\n            var width = parseInt(value.width, 10);\n            var height = parseInt(value.height, 10);\n            var transform = makeResizeTransform(width, height);\n            emitTransformApply(button, transform);\n          });\n        }, false, true)\n      ];\n      var ResizePanel = Container.sketch({\n        dom: panelDom,\n        components: resizePanelComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-resize-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(resizePanelComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(resizePanelComponents, comp);\n            })\n          ])])\n      });\n      var makeValueTransform = function (transform, value) {\n        return function (ir) {\n          return transform(ir, value);\n        };\n      };\n      var horizontalFlip = makeValueTransform(flip, 'h');\n      var verticalFlip = makeValueTransform(flip, 'v');\n      var counterclockwiseRotate = makeValueTransform(rotate, -90);\n      var clockwiseRotate = makeValueTransform(rotate, 90);\n      var flipRotateOnAction = function (comp, operation) {\n        emitTempTransform(comp, operation);\n      };\n      var flipRotateComponents = [\n        createBackButton(),\n        createSpacer(),\n        createIconButton('flip-horizontally', 'Flip horizontally', function (button) {\n          flipRotateOnAction(button, horizontalFlip);\n        }, false),\n        createIconButton('flip-vertically', 'Flip vertically', function (button) {\n          flipRotateOnAction(button, verticalFlip);\n        }, false),\n        createIconButton('rotate-left', 'Rotate counterclockwise', function (button) {\n          flipRotateOnAction(button, counterclockwiseRotate);\n        }, false),\n        createIconButton('rotate-right', 'Rotate clockwise', function (button) {\n          flipRotateOnAction(button, clockwiseRotate);\n        }, false),\n        createSpacer(),\n        createApplyButton()\n      ];\n      var FlipRotatePanel = Container.sketch({\n        dom: panelDom,\n        components: flipRotateComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-fliprotate-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(flipRotateComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(flipRotateComponents, comp);\n            })\n          ])])\n      });\n      var makeSlider = function (label, onChoose, min, value, max) {\n        var labelPart = Slider.parts.label({\n          dom: {\n            tag: 'label',\n            classes: ['tox-label'],\n            innerHtml: providersBackstage.translate(label)\n          }\n        });\n        var spectrum = Slider.parts.spectrum({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider__rail'],\n            attributes: { role: 'presentation' }\n          }\n        });\n        var thumb = Slider.parts.thumb({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider__handle'],\n            attributes: { role: 'presentation' }\n          }\n        });\n        return record(Slider.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider'],\n            attributes: { role: 'presentation' }\n          },\n          model: {\n            mode: 'x',\n            minX: min,\n            maxX: max,\n            getInitialValue: constant$1({ x: value })\n          },\n          components: [\n            labelPart,\n            spectrum,\n            thumb\n          ],\n          sliderBehaviours: derive$1([Focusing.config({})]),\n          onChoose: onChoose\n        }));\n      };\n      var makeVariableSlider = function (label, transform, min, value, max) {\n        var onChoose = function (slider, _thumb, value) {\n          var valTransform = makeValueTransform(transform, value.x / 100);\n          emitTransform(slider, valTransform);\n        };\n        return makeSlider(label, onChoose, min, value, max);\n      };\n      var variableFilterPanelComponents = function (label, transform, min, value, max) {\n        return [\n          createBackButton(),\n          makeVariableSlider(label, transform, min, value, max),\n          createApplyButton()\n        ];\n      };\n      var createVariableFilterPanel = function (label, transform, min, value, max) {\n        var filterPanelComponents = variableFilterPanelComponents(label, transform, min, value, max);\n        return Container.sketch({\n          dom: panelDom,\n          components: filterPanelComponents.map(function (mem) {\n            return mem.asSpec();\n          }),\n          containerBehaviours: derive$1([config('image-tools-filter-panel-buttons-events', [\n              run$1(external.disable(), function (comp, _se) {\n                disableAllComponents(filterPanelComponents, comp);\n              }),\n              run$1(external.enable(), function (comp, _se) {\n                enableAllComponents(filterPanelComponents, comp);\n              })\n            ])])\n        });\n      };\n      var filterPanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        createApplyButton()\n      ];\n      var FilterPanel = Container.sketch({\n        dom: panelDom,\n        components: filterPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var BrightnessPanel = createVariableFilterPanel('Brightness', brightness, -100, 0, 100);\n      var ContrastPanel = createVariableFilterPanel('Contrast', contrast, -100, 0, 100);\n      var GammaPanel = createVariableFilterPanel('Gamma', gamma, -100, 0, 100);\n      var makeColorTransform = function (red, green, blue) {\n        return function (ir) {\n          return colorize(ir, red, green, blue);\n        };\n      };\n      var makeColorSlider = function (label) {\n        var onChoose = function (slider, _thumb, _value) {\n          var redOpt = memRed.getOpt(slider);\n          var blueOpt = memBlue.getOpt(slider);\n          var greenOpt = memGreen.getOpt(slider);\n          redOpt.each(function (red) {\n            blueOpt.each(function (blue) {\n              greenOpt.each(function (green) {\n                var r = Representing.getValue(red).x / 100;\n                var g = Representing.getValue(green).x / 100;\n                var b = Representing.getValue(blue).x / 100;\n                var transform = makeColorTransform(r, g, b);\n                emitTransform(slider, transform);\n              });\n            });\n          });\n        };\n        return makeSlider(label, onChoose, 0, 100, 200);\n      };\n      var memRed = makeColorSlider('R');\n      var memGreen = makeColorSlider('G');\n      var memBlue = makeColorSlider('B');\n      var colorizePanelComponents = [\n        createBackButton(),\n        memRed,\n        memGreen,\n        memBlue,\n        createApplyButton()\n      ];\n      var ColorizePanel = Container.sketch({\n        dom: panelDom,\n        components: colorizePanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var getTransformPanelEvent = function (panel, transform, update) {\n        return function (button) {\n          var swap = function () {\n            memContainer.getOpt(button).each(function (container) {\n              Replacing.set(container, [panel]);\n              update(container);\n            });\n          };\n          emit$1(button, internal.swap(), {\n            transform: transform,\n            swap: swap\n          });\n        };\n      };\n      var cropPanelUpdate = function (_anyInSystem) {\n        imagePanel.showCrop();\n      };\n      var resizePanelUpdate = function (anyInSystem) {\n        memSize.getOpt(anyInSystem).each(function (sizeInput) {\n          var measurements = imagePanel.getMeasurements();\n          var width = measurements.width;\n          var height = measurements.height;\n          Representing.setValue(sizeInput, {\n            width: width,\n            height: height\n          });\n        });\n      };\n      var sharpenTransform = Optional.some(sharpen);\n      var invertTransform = Optional.some(invert);\n      var buttonPanelComponents = [\n        createIconButton('crop', 'Crop', getTransformPanelEvent(CropPanel, Optional.none(), cropPanelUpdate), false),\n        createIconButton('resize', 'Resize', getTransformPanelEvent(ResizePanel, Optional.none(), resizePanelUpdate), false),\n        createIconButton('orientation', 'Orientation', getTransformPanelEvent(FlipRotatePanel, Optional.none(), noop$1), false),\n        createIconButton('brightness', 'Brightness', getTransformPanelEvent(BrightnessPanel, Optional.none(), noop$1), false),\n        createIconButton('sharpen', 'Sharpen', getTransformPanelEvent(FilterPanel, sharpenTransform, noop$1), false),\n        createIconButton('contrast', 'Contrast', getTransformPanelEvent(ContrastPanel, Optional.none(), noop$1), false),\n        createIconButton('color-levels', 'Color levels', getTransformPanelEvent(ColorizePanel, Optional.none(), noop$1), false),\n        createIconButton('gamma', 'Gamma', getTransformPanelEvent(GammaPanel, Optional.none(), noop$1), false),\n        createIconButton('invert', 'Invert', getTransformPanelEvent(FilterPanel, invertTransform, noop$1), false)\n      ];\n      var ButtonPanel = Container.sketch({\n        dom: panelDom,\n        components: buttonPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var container = Container.sketch({\n        dom: { tag: 'div' },\n        components: [ButtonPanel],\n        containerBehaviours: derive$1([Replacing.config({})])\n      });\n      var memContainer = record(container);\n      var getApplyButton = function (anyInSystem) {\n        return memContainer.getOpt(anyInSystem).map(function (container) {\n          var panel = container.components()[0];\n          return panel.components()[panel.components().length - 1];\n        });\n      };\n      return {\n        memContainer: memContainer,\n        getApplyButton: getApplyButton\n      };\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.geom.Rect');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Observable');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var getDocumentSize = function (doc) {\n      var max = Math.max;\n      var documentElement = doc.documentElement;\n      var body = doc.body;\n      var scrollWidth = max(documentElement.scrollWidth, body.scrollWidth);\n      var clientWidth = max(documentElement.clientWidth, body.clientWidth);\n      var offsetWidth = max(documentElement.offsetWidth, body.offsetWidth);\n      var scrollHeight = max(documentElement.scrollHeight, body.scrollHeight);\n      var clientHeight = max(documentElement.clientHeight, body.clientHeight);\n      var offsetHeight = max(documentElement.offsetHeight, body.offsetHeight);\n      return {\n        width: scrollWidth < offsetWidth ? clientWidth : scrollWidth,\n        height: scrollHeight < offsetHeight ? clientHeight : scrollHeight\n      };\n    };\n    var isTouchEvent$1 = function (e) {\n      return isNonNullable(e.changedTouches);\n    };\n    var updateWithTouchData = function (e) {\n      if (isTouchEvent$1(e)) {\n        var keys = 'screenX screenY pageX pageY clientX clientY'.split(' ');\n        for (var i = 0; i < keys.length; i++) {\n          e[keys[i]] = e.changedTouches[0][keys[i]];\n        }\n      }\n    };\n    function DragHelper (id, settings) {\n      var _a, _b, _c;\n      var eventOverlay;\n      var handleEvents = [];\n      var overlayEvents = [];\n      var doc = (_a = settings.document) !== null && _a !== void 0 ? _a : document;\n      var root = (_b = settings.root) !== null && _b !== void 0 ? _b : doc;\n      var sugarDoc = SugarElement.fromDom(doc);\n      var downButton;\n      var startX;\n      var startY;\n      var handleElement = SugarElement.fromDom(root.getElementById((_c = settings.handle) !== null && _c !== void 0 ? _c : id));\n      var start = function (e) {\n        var rawEvent = e.raw;\n        var docSize = getDocumentSize(doc);\n        updateWithTouchData(rawEvent);\n        e.prevent();\n        downButton = rawEvent.button;\n        startX = rawEvent.screenX;\n        startY = rawEvent.screenY;\n        var cursor = get$c(handleElement, 'cursor');\n        eventOverlay = SugarElement.fromTag('div', doc);\n        setAll(eventOverlay, {\n          'position': 'absolute',\n          'top': '0',\n          'left': '0',\n          'width': docSize.width + 'px',\n          'height': docSize.height + 'px',\n          'z-index': 2147483647 + '',\n          'opacity': '0.0001',\n          cursor: cursor\n        });\n        append$2(getBody(sugarDoc), eventOverlay);\n        overlayEvents.push(bind(sugarDoc, 'mousemove', drag), bind(sugarDoc, 'touchmove', drag), bind(sugarDoc, 'mouseup', stop), bind(sugarDoc, 'touchend', stop));\n        settings.start(rawEvent);\n      };\n      var drag = function (e) {\n        var rawEvent = e.raw;\n        updateWithTouchData(rawEvent);\n        if (rawEvent.button !== downButton) {\n          return stop(e);\n        }\n        rawEvent.deltaX = rawEvent.screenX - startX;\n        rawEvent.deltaY = rawEvent.screenY - startY;\n        e.prevent();\n        settings.drag(rawEvent);\n      };\n      var stop = function (e) {\n        updateWithTouchData(e.raw);\n        each$1(overlayEvents, function (e) {\n          return e.unbind();\n        });\n        overlayEvents = [];\n        remove$5(eventOverlay);\n        if (settings.stop) {\n          settings.stop(e.raw);\n        }\n      };\n      var destroy = function () {\n        each$1(overlayEvents.concat(handleEvents), function (e) {\n          return e.unbind();\n        });\n        overlayEvents = [];\n        handleEvents = [];\n        if (isNonNullable(eventOverlay)) {\n          remove$5(eventOverlay);\n        }\n      };\n      handleEvents.push(bind(handleElement, 'mousedown', start), bind(handleElement, 'touchstart', start));\n      return { destroy: destroy };\n    }\n\n    var count = 0;\n    var create$2 = function (currentRect, viewPortRect, clampRect, containerElm, action) {\n      var dragHelpers;\n      var events = [];\n      var prefix = 'tox-';\n      var id = prefix + 'crid-' + count++;\n      var container = SugarElement.fromDom(containerElm);\n      var handles = [\n        {\n          name: 'move',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: 0,\n          deltaH: 0,\n          label: 'Crop Mask'\n        },\n        {\n          name: 'nw',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: -1,\n          deltaH: -1,\n          label: 'Top Left Crop Handle'\n        },\n        {\n          name: 'ne',\n          xMul: 1,\n          yMul: 0,\n          deltaX: 0,\n          deltaY: 1,\n          deltaW: 1,\n          deltaH: -1,\n          label: 'Top Right Crop Handle'\n        },\n        {\n          name: 'sw',\n          xMul: 0,\n          yMul: 1,\n          deltaX: 1,\n          deltaY: 0,\n          deltaW: -1,\n          deltaH: 1,\n          label: 'Bottom Left Crop Handle'\n        },\n        {\n          name: 'se',\n          xMul: 1,\n          yMul: 1,\n          deltaX: 0,\n          deltaY: 0,\n          deltaW: 1,\n          deltaH: 1,\n          label: 'Bottom Right Crop Handle'\n        }\n      ];\n      var blockers = [\n        'top',\n        'right',\n        'bottom',\n        'left'\n      ];\n      var getAbsoluteRect = function (outerRect, relativeRect) {\n        return {\n          x: relativeRect.x + outerRect.x,\n          y: relativeRect.y + outerRect.y,\n          w: relativeRect.w,\n          h: relativeRect.h\n        };\n      };\n      var getRelativeRect = function (outerRect, innerRect) {\n        return {\n          x: innerRect.x - outerRect.x,\n          y: innerRect.y - outerRect.y,\n          w: innerRect.w,\n          h: innerRect.h\n        };\n      };\n      var getInnerRect = function () {\n        return getRelativeRect(clampRect, currentRect);\n      };\n      var moveRect = function (handle, startRect, deltaX, deltaY) {\n        var x = startRect.x + deltaX * handle.deltaX;\n        var y = startRect.y + deltaY * handle.deltaY;\n        var w = Math.max(20, startRect.w + deltaX * handle.deltaW);\n        var h = Math.max(20, startRect.h + deltaY * handle.deltaH);\n        var rect = currentRect = global$4.clamp({\n          x: x,\n          y: y,\n          w: w,\n          h: h\n        }, clampRect, handle.name === 'move');\n        rect = getRelativeRect(clampRect, rect);\n        instance.fire('updateRect', { rect: rect });\n        setInnerRect(rect);\n      };\n      var render = function () {\n        var createDragHelper = function (handle) {\n          var startRect;\n          return DragHelper(id, {\n            document: containerElm.ownerDocument,\n            root: getRootNode(container).dom,\n            handle: id + '-' + handle.name,\n            start: function () {\n              startRect = currentRect;\n            },\n            drag: function (e) {\n              moveRect(handle, startRect, e.deltaX, e.deltaY);\n            }\n          });\n        };\n        var cropContainer = SugarElement.fromTag('div');\n        setAll$1(cropContainer, {\n          id: id,\n          'class': prefix + 'croprect-container',\n          'role': 'grid',\n          'aria-dropeffect': 'execute'\n        });\n        append$2(container, cropContainer);\n        each$1(blockers, function (blocker) {\n          descendant(container, '#' + id).each(function (blockerElm) {\n            var cropBlocker = SugarElement.fromTag('div');\n            setAll$1(cropBlocker, {\n              'id': id + '-' + blocker,\n              'class': prefix + 'croprect-block',\n              'data-mce-bogus': 'all'\n            });\n            set$7(cropBlocker, 'display', 'none');\n            append$2(blockerElm, cropBlocker);\n          });\n        });\n        each$1(handles, function (handle) {\n          descendant(container, '#' + id).each(function (handleElm) {\n            var cropHandle = SugarElement.fromTag('div');\n            setAll$1(cropHandle, {\n              'id': id + '-' + handle.name,\n              'aria-label': handle.label,\n              'aria-grabbed': 'false',\n              'data-mce-bogus': 'all',\n              'role': 'gridcell',\n              'tabindex': '-1',\n              'title': handle.label\n            });\n            add$1(cropHandle, [\n              prefix + 'croprect-handle',\n              prefix + 'croprect-handle-' + handle.name\n            ]);\n            set$7(cropHandle, 'display', 'none');\n            append$2(handleElm, cropHandle);\n          });\n        });\n        dragHelpers = map$2(handles, createDragHelper);\n        repaint(currentRect);\n        var handleFocus = function (e) {\n          set$8(e.target, 'aria-grabbed', e.raw.type === 'focus' ? 'true' : 'false');\n        };\n        var handleKeydown = function (e) {\n          var activeHandle;\n          each$1(handles, function (handle) {\n            if (get$d(e.target, 'id') === id + '-' + handle.name) {\n              activeHandle = handle;\n              return false;\n            }\n          });\n          var moveAndBlock = function (evt, handle, startRect, deltaX, deltaY) {\n            evt.stopPropagation();\n            evt.preventDefault();\n            moveRect(activeHandle, startRect, deltaX, deltaY);\n          };\n          switch (e.raw.keyCode) {\n          case global$2.LEFT:\n            moveAndBlock(e, activeHandle, currentRect, -10, 0);\n            break;\n          case global$2.RIGHT:\n            moveAndBlock(e, activeHandle, currentRect, 10, 0);\n            break;\n          case global$2.UP:\n            moveAndBlock(e, activeHandle, currentRect, 0, -10);\n            break;\n          case global$2.DOWN:\n            moveAndBlock(e, activeHandle, currentRect, 0, 10);\n            break;\n          case global$2.ENTER:\n          case global$2.SPACEBAR:\n            e.prevent();\n            action();\n            break;\n          }\n        };\n        events.push(bind(container, 'focusin', handleFocus), bind(container, 'focusout', handleFocus), bind(container, 'keydown', handleKeydown));\n      };\n      var toggleVisibility = function (state) {\n        var selectors = __spreadArray(__spreadArray([], map$2(handles, function (handle) {\n          return '#' + id + '-' + handle.name;\n        }), true), map$2(blockers, function (blocker) {\n          return '#' + id + '-' + blocker;\n        }), true).join(',');\n        var elems = descendants(container, selectors);\n        if (state) {\n          each$1(elems, function (elm) {\n            return remove$6(elm, 'display');\n          });\n        } else {\n          each$1(elems, function (elm) {\n            return set$7(elm, 'display', 'none');\n          });\n        }\n      };\n      var repaint = function (rect) {\n        var updateElementRect = function (name, newRect) {\n          descendant(container, '#' + id + '-' + name).each(function (elm) {\n            setAll(elm, {\n              left: newRect.x + 'px',\n              top: newRect.y + 'px',\n              width: Math.max(0, newRect.w) + 'px',\n              height: Math.max(0, newRect.h) + 'px'\n            });\n          });\n        };\n        each$1(handles, function (handle) {\n          descendant(container, '#' + id + '-' + handle.name).each(function (elm) {\n            setAll(elm, {\n              left: rect.w * handle.xMul + rect.x + 'px',\n              top: rect.h * handle.yMul + rect.y + 'px'\n            });\n          });\n        });\n        updateElementRect('top', {\n          x: viewPortRect.x,\n          y: viewPortRect.y,\n          w: viewPortRect.w,\n          h: rect.y - viewPortRect.y\n        });\n        updateElementRect('right', {\n          x: rect.x + rect.w,\n          y: rect.y,\n          w: viewPortRect.w - rect.x - rect.w + viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('bottom', {\n          x: viewPortRect.x,\n          y: rect.y + rect.h,\n          w: viewPortRect.w,\n          h: viewPortRect.h - rect.y - rect.h + viewPortRect.y\n        });\n        updateElementRect('left', {\n          x: viewPortRect.x,\n          y: rect.y,\n          w: rect.x - viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('move', rect);\n      };\n      var setRect = function (rect) {\n        currentRect = rect;\n        repaint(currentRect);\n      };\n      var setViewPortRect = function (rect) {\n        viewPortRect = rect;\n        repaint(currentRect);\n      };\n      var setInnerRect = function (rect) {\n        setRect(getAbsoluteRect(clampRect, rect));\n      };\n      var setClampRect = function (rect) {\n        clampRect = rect;\n        repaint(currentRect);\n      };\n      var destroy = function () {\n        each$1(dragHelpers, function (helper) {\n          return helper.destroy();\n        });\n        dragHelpers = [];\n        each$1(events, function (e) {\n          return e.unbind();\n        });\n        events = [];\n      };\n      render();\n      var instance = __assign(__assign({}, global$3), {\n        toggleVisibility: toggleVisibility,\n        setClampRect: setClampRect,\n        setRect: setRect,\n        getInnerRect: getInnerRect,\n        setInnerRect: setInnerRect,\n        setViewPortRect: setViewPortRect,\n        destroy: destroy\n      });\n      return instance;\n    };\n    var CropRect = { create: create$2 };\n\n    var loadImage = function (image) {\n      return new global$c(function (resolve) {\n        var loaded = function () {\n          image.removeEventListener('load', loaded);\n          resolve(image);\n        };\n        if (image.complete) {\n          resolve(image);\n        } else {\n          image.addEventListener('load', loaded);\n        }\n      });\n    };\n    var renderImagePanel = function (initialUrl) {\n      var memBg = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-image-tools__image-bg'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      var zoomState = Cell(1);\n      var cropRect = api$1();\n      var rectState = Cell({\n        x: 0,\n        y: 0,\n        w: 1,\n        h: 1\n      });\n      var viewRectState = Cell({\n        x: 0,\n        y: 0,\n        w: 1,\n        h: 1\n      });\n      var repaintImg = function (anyInSystem, img) {\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var zoom = zoomState.get();\n          var panelW = get$a(panel.element);\n          var panelH = get$b(panel.element);\n          var width = img.dom.naturalWidth * zoom;\n          var height = img.dom.naturalHeight * zoom;\n          var left = Math.max(0, panelW / 2 - width / 2);\n          var top = Math.max(0, panelH / 2 - height / 2);\n          var css = {\n            left: left.toString() + 'px',\n            top: top.toString() + 'px',\n            width: width.toString() + 'px',\n            height: height.toString() + 'px',\n            position: 'absolute'\n          };\n          setAll(img, css);\n          memBg.getOpt(panel).each(function (bg) {\n            setAll(bg.element, css);\n          });\n          cropRect.run(function (cRect) {\n            var rect = rectState.get();\n            cRect.setRect({\n              x: rect.x * zoom + left,\n              y: rect.y * zoom + top,\n              w: rect.w * zoom,\n              h: rect.h * zoom\n            });\n            cRect.setClampRect({\n              x: left,\n              y: top,\n              w: width,\n              h: height\n            });\n            cRect.setViewPortRect({\n              x: 0,\n              y: 0,\n              w: panelW,\n              h: panelH\n            });\n          });\n        });\n      };\n      var zoomFit = function (anyInSystem, img) {\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var panelW = get$a(panel.element);\n          var panelH = get$b(panel.element);\n          var width = img.dom.naturalWidth;\n          var height = img.dom.naturalHeight;\n          var zoom = Math.min(panelW / width, panelH / height);\n          if (zoom >= 1) {\n            zoomState.set(1);\n          } else {\n            zoomState.set(zoom);\n          }\n        });\n      };\n      var updateSrc = function (anyInSystem, url) {\n        var img = SugarElement.fromTag('img');\n        set$8(img, 'src', url);\n        return loadImage(img.dom).then(function () {\n          if (anyInSystem.getSystem().isConnected()) {\n            memContainer.getOpt(anyInSystem).map(function (panel) {\n              var aImg = external$2({ element: img });\n              Replacing.replaceAt(panel, 1, Optional.some(aImg));\n              var lastViewRect = viewRectState.get();\n              var viewRect = {\n                x: 0,\n                y: 0,\n                w: img.dom.naturalWidth,\n                h: img.dom.naturalHeight\n              };\n              viewRectState.set(viewRect);\n              var rect = global$4.inflate(viewRect, -20, -20);\n              rectState.set(rect);\n              if (lastViewRect.w !== viewRect.w || lastViewRect.h !== viewRect.h) {\n                zoomFit(panel, img);\n              }\n              repaintImg(panel, img);\n            });\n          }\n        });\n      };\n      var zoom = function (anyInSystem, direction) {\n        var currentZoom = zoomState.get();\n        var newZoom = direction > 0 ? Math.min(2, currentZoom + 0.1) : Math.max(0.1, currentZoom - 0.1);\n        zoomState.set(newZoom);\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var img = panel.components()[1].element;\n          repaintImg(panel, img);\n        });\n      };\n      var showCrop = function () {\n        cropRect.run(function (cRect) {\n          cRect.toggleVisibility(true);\n        });\n      };\n      var hideCrop = function () {\n        cropRect.run(function (cRect) {\n          cRect.toggleVisibility(false);\n        });\n      };\n      var getRect = function () {\n        return rectState.get();\n      };\n      var container = Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-image-tools__image']\n        },\n        components: [\n          memBg.asSpec(),\n          {\n            dom: {\n              tag: 'img',\n              attributes: { src: initialUrl }\n            }\n          },\n          {\n            dom: { tag: 'div' },\n            behaviours: derive$1([config('image-panel-crop-events', [\n                runOnAttached(function (comp) {\n                  memContainer.getOpt(comp).each(function (container) {\n                    var el = container.element.dom;\n                    var cRect = CropRect.create({\n                      x: 10,\n                      y: 10,\n                      w: 100,\n                      h: 100\n                    }, {\n                      x: 0,\n                      y: 0,\n                      w: 200,\n                      h: 200\n                    }, {\n                      x: 0,\n                      y: 0,\n                      w: 200,\n                      h: 200\n                    }, el, noop);\n                    cRect.toggleVisibility(false);\n                    cRect.on('updateRect', function (e) {\n                      var rect = e.rect;\n                      var zoom = zoomState.get();\n                      var newRect = {\n                        x: Math.round(rect.x / zoom),\n                        y: Math.round(rect.y / zoom),\n                        w: Math.round(rect.w / zoom),\n                        h: Math.round(rect.h / zoom)\n                      };\n                      rectState.set(newRect);\n                    });\n                    cropRect.set(cRect);\n                  });\n                }),\n                runOnDetached(function () {\n                  cropRect.clear();\n                })\n              ])])\n          }\n        ],\n        containerBehaviours: derive$1([\n          Replacing.config({}),\n          config('image-panel-events', [runOnAttached(function (comp) {\n              updateSrc(comp, initialUrl);\n            })])\n        ])\n      });\n      var memContainer = record(container);\n      var getMeasurements = function () {\n        var viewRect = viewRectState.get();\n        return {\n          width: viewRect.w,\n          height: viewRect.h\n        };\n      };\n      return {\n        memContainer: memContainer,\n        updateSrc: updateSrc,\n        zoom: zoom,\n        showCrop: showCrop,\n        hideCrop: hideCrop,\n        getRect: getRect,\n        getMeasurements: getMeasurements\n      };\n    };\n\n    var createButton = function (innerHtml, icon, disabled, action, providersBackstage) {\n      return renderIconButton({\n        name: innerHtml,\n        icon: Optional.some(icon),\n        disabled: disabled,\n        tooltip: Optional.some(innerHtml),\n        primary: false,\n        borderless: false\n      }, action, providersBackstage);\n    };\n    var setButtonEnabled = function (button, enabled) {\n      if (enabled) {\n        Disabling.enable(button);\n      } else {\n        Disabling.disable(button);\n      }\n    };\n    var renderSideBar = function (providersBackstage) {\n      var updateButtonUndoStates = function (anyInSystem, undoEnabled, redoEnabled) {\n        memUndo.getOpt(anyInSystem).each(function (undo) {\n          setButtonEnabled(undo, undoEnabled);\n        });\n        memRedo.getOpt(anyInSystem).each(function (redo) {\n          setButtonEnabled(redo, redoEnabled);\n        });\n      };\n      var memUndo = record(createButton('Undo', 'undo', true, function (button) {\n        emitWith(button, internal.undo(), { direction: 1 });\n      }, providersBackstage));\n      var memRedo = record(createButton('Redo', 'redo', true, function (button) {\n        emitWith(button, internal.redo(), { direction: 1 });\n      }, providersBackstage));\n      var container = Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-image-tools__toolbar',\n            'tox-image-tools__sidebar'\n          ]\n        },\n        components: [\n          memUndo.asSpec(),\n          memRedo.asSpec(),\n          createButton('Zoom in', 'zoom-in', false, function (button) {\n            emitWith(button, internal.zoom(), { direction: 1 });\n          }, providersBackstage),\n          createButton('Zoom out', 'zoom-out', false, function (button) {\n            emitWith(button, internal.zoom(), { direction: -1 });\n          }, providersBackstage)\n        ]\n      });\n      return {\n        container: container,\n        updateButtonUndoStates: updateButtonUndoStates\n      };\n    };\n\n    function UndoStack () {\n      var data = [];\n      var index = -1;\n      var add = function (state) {\n        var removed = data.splice(++index);\n        data.push(state);\n        return {\n          state: state,\n          removed: removed\n        };\n      };\n      var undo = function () {\n        if (canUndo()) {\n          return data[--index];\n        }\n      };\n      var redo = function () {\n        if (canRedo()) {\n          return data[++index];\n        }\n      };\n      var canUndo = function () {\n        return index > 0;\n      };\n      var canRedo = function () {\n        return index !== -1 && index < data.length - 1;\n      };\n      return {\n        data: data,\n        add: add,\n        undo: undo,\n        redo: redo,\n        canUndo: canUndo,\n        canRedo: canRedo\n      };\n    }\n\n    var makeState = function (initialState) {\n      var blobState = Cell(initialState);\n      var tempState = value$1();\n      var undoStack = UndoStack();\n      undoStack.add(initialState);\n      var getBlobState = function () {\n        return blobState.get();\n      };\n      var setBlobState = function (state) {\n        blobState.set(state);\n      };\n      var getTempState = function () {\n        return tempState.get().getOrThunk(blobState.get);\n      };\n      var updateTempState = function (blob) {\n        var newTempState = createState(blob);\n        destroyTempState();\n        tempState.set(newTempState);\n        return newTempState.url;\n      };\n      var createState = function (blob) {\n        return {\n          blob: blob,\n          url: URL.createObjectURL(blob)\n        };\n      };\n      var destroyState = function (state) {\n        URL.revokeObjectURL(state.url);\n      };\n      var destroyStates = function (states) {\n        global$5.each(states, destroyState);\n      };\n      var destroyTempState = function () {\n        tempState.on(destroyState);\n        tempState.clear();\n      };\n      var addBlobState = function (blob) {\n        var newState = createState(blob);\n        setBlobState(newState);\n        var removed = undoStack.add(newState).removed;\n        destroyStates(removed);\n        return newState.url;\n      };\n      var addTempState = function (blob) {\n        var newState = createState(blob);\n        tempState.set(newState);\n        return newState.url;\n      };\n      var applyTempState = function (postApply) {\n        return tempState.get().fold(noop, function (temp) {\n          addBlobState(temp.blob);\n          postApply();\n        });\n      };\n      var undo = function () {\n        var currentState = undoStack.undo();\n        setBlobState(currentState);\n        return currentState.url;\n      };\n      var redo = function () {\n        var currentState = undoStack.redo();\n        setBlobState(currentState);\n        return currentState.url;\n      };\n      var getHistoryStates = function () {\n        var undoEnabled = undoStack.canUndo();\n        var redoEnabled = undoStack.canRedo();\n        return {\n          undoEnabled: undoEnabled,\n          redoEnabled: redoEnabled\n        };\n      };\n      return {\n        getBlobState: getBlobState,\n        setBlobState: setBlobState,\n        addBlobState: addBlobState,\n        getTempState: getTempState,\n        updateTempState: updateTempState,\n        addTempState: addTempState,\n        applyTempState: applyTempState,\n        destroyTempState: destroyTempState,\n        undo: undo,\n        redo: redo,\n        getHistoryStates: getHistoryStates\n      };\n    };\n\n    var renderImageTools = function (detail, providersBackstage) {\n      var state = makeState(detail.currentState);\n      var zoom = function (anyInSystem, simulatedEvent) {\n        var direction = simulatedEvent.event.direction;\n        imagePanel.zoom(anyInSystem, direction);\n      };\n      var updateButtonUndoStates = function (anyInSystem) {\n        var historyStates = state.getHistoryStates();\n        sideBar.updateButtonUndoStates(anyInSystem, historyStates.undoEnabled, historyStates.redoEnabled);\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.saveState(),\n          value: historyStates.undoEnabled\n        });\n      };\n      var disableUndoRedo = function (anyInSystem) {\n        sideBar.updateButtonUndoStates(anyInSystem, false, false);\n      };\n      var undo = function (anyInSystem, _simulatedEvent) {\n        var url = state.undo();\n        updateSrc(anyInSystem, url).then(function (_oImg) {\n          unblock(anyInSystem);\n          updateButtonUndoStates(anyInSystem);\n        });\n      };\n      var redo = function (anyInSystem, _simulatedEvent) {\n        var url = state.redo();\n        updateSrc(anyInSystem, url).then(function (_oImg) {\n          unblock(anyInSystem);\n          updateButtonUndoStates(anyInSystem);\n        });\n      };\n      var imageResultToBlob = function (ir) {\n        return ir.toBlob();\n      };\n      var block = function (anyInSystem) {\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.disable(),\n          value: {}\n        });\n      };\n      var unblock = function (anyInSystem) {\n        editPanel.getApplyButton(anyInSystem).each(function (applyButton) {\n          Disabling.enable(applyButton);\n        });\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.enable(),\n          value: {}\n        });\n      };\n      var updateSrc = function (anyInSystem, src) {\n        block(anyInSystem);\n        return imagePanel.updateSrc(anyInSystem, src);\n      };\n      var blobManipulate = function (anyInSystem, blob, filter, action, swap) {\n        block(anyInSystem);\n        blobToImageResult(blob).then(filter).then(imageResultToBlob).then(action).then(function (url) {\n          return updateSrc(anyInSystem, url);\n        }).then(function () {\n          updateButtonUndoStates(anyInSystem);\n          swap();\n          unblock(anyInSystem);\n        }).catch(function (err) {\n          console.log(err);\n          if (anyInSystem.getSystem().isConnected()) {\n            unblock(anyInSystem);\n          }\n        });\n      };\n      var manipulate = function (anyInSystem, filter, swap) {\n        var blob = state.getBlobState().blob;\n        var action = function (blob) {\n          return state.updateTempState(blob);\n        };\n        blobManipulate(anyInSystem, blob, filter, action, swap);\n      };\n      var tempManipulate = function (anyInSystem, filter) {\n        var blob = state.getTempState().blob;\n        var action = function (blob) {\n          return state.addTempState(blob);\n        };\n        blobManipulate(anyInSystem, blob, filter, action, noop);\n      };\n      var manipulateApply = function (anyInSystem, filter, swap) {\n        var blob = state.getBlobState().blob;\n        var action = function (blob) {\n          var url = state.addBlobState(blob);\n          destroyTempState(anyInSystem);\n          return url;\n        };\n        blobManipulate(anyInSystem, blob, filter, action, swap);\n      };\n      var apply = function (anyInSystem, simulatedEvent) {\n        var postApply = function () {\n          destroyTempState(anyInSystem);\n          var swap = simulatedEvent.event.swap;\n          swap();\n        };\n        state.applyTempState(postApply);\n      };\n      var destroyTempState = function (anyInSystem) {\n        var currentUrl = state.getBlobState().url;\n        state.destroyTempState();\n        updateButtonUndoStates(anyInSystem);\n        return currentUrl;\n      };\n      var cancel = function (anyInSystem) {\n        var currentUrl = destroyTempState(anyInSystem);\n        updateSrc(anyInSystem, currentUrl).then(function (_oImg) {\n          unblock(anyInSystem);\n        });\n      };\n      var back = function (anyInSystem, simulatedEvent) {\n        cancel(anyInSystem);\n        var swap = simulatedEvent.event.swap;\n        swap();\n        imagePanel.hideCrop();\n      };\n      var transform = function (anyInSystem, simulatedEvent) {\n        return manipulate(anyInSystem, simulatedEvent.event.transform, noop);\n      };\n      var tempTransform = function (anyInSystem, simulatedEvent) {\n        return tempManipulate(anyInSystem, simulatedEvent.event.transform);\n      };\n      var transformApply = function (anyInSystem, simulatedEvent) {\n        return manipulateApply(anyInSystem, simulatedEvent.event.transform, simulatedEvent.event.swap);\n      };\n      var imagePanel = renderImagePanel(detail.currentState.url);\n      var sideBar = renderSideBar(providersBackstage);\n      var editPanel = renderEditPanel(imagePanel, providersBackstage);\n      var swap = function (anyInSystem, simulatedEvent) {\n        disableUndoRedo(anyInSystem);\n        var transform = simulatedEvent.event.transform;\n        var swap = simulatedEvent.event.swap;\n        transform.fold(function () {\n          swap();\n        }, function (transform) {\n          manipulate(anyInSystem, transform, swap);\n        });\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' }\n        },\n        components: [\n          editPanel.memContainer.asSpec(),\n          imagePanel.memContainer.asSpec(),\n          sideBar.container\n        ],\n        behaviours: derive$1([\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function () {\n                return state.getBlobState();\n              }\n            }\n          }),\n          config('image-tools-events', [\n            run$1(internal.undo(), undo),\n            run$1(internal.redo(), redo),\n            run$1(internal.zoom(), zoom),\n            run$1(internal.back(), back),\n            run$1(internal.apply(), apply),\n            run$1(internal.transform(), transform),\n            run$1(internal.tempTransform(), tempTransform),\n            run$1(internal.transformApply(), transformApply),\n            run$1(internal.swap(), swap)\n          ]),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var renderLabel = function (spec, backstageShared) {\n      var label = {\n        dom: {\n          tag: 'label',\n          innerHtml: backstageShared.providers.translate(spec.label),\n          classes: ['tox-label']\n        }\n      };\n      var comps = map$2(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [label].concat(comps),\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          RepresentingConfigs.domHtml(Optional.none()),\n          Keying.config({ mode: 'acyclic' })\n        ])\n      };\n    };\n\n    var isSingleListItem = function (item) {\n      return !has$2(item, 'items');\n    };\n    var dataAttribute = 'data-value';\n    var fetchItems = function (dropdownComp, name, items, selectedValue) {\n      return map$2(items, function (item) {\n        if (!isSingleListItem(item)) {\n          return {\n            type: 'nestedmenuitem',\n            text: item.text,\n            getSubmenuItems: function () {\n              return fetchItems(dropdownComp, name, item.items, selectedValue);\n            }\n          };\n        } else {\n          return {\n            type: 'togglemenuitem',\n            text: item.text,\n            value: item.value,\n            active: item.value === selectedValue,\n            onAction: function () {\n              Representing.setValue(dropdownComp, item.value);\n              emitWith(dropdownComp, formChangeEvent, { name: name });\n              Focusing.focus(dropdownComp);\n            }\n          };\n        }\n      });\n    };\n    var findItemByValue = function (items, value) {\n      return findMap(items, function (item) {\n        if (!isSingleListItem(item)) {\n          return findItemByValue(item.items, value);\n        } else {\n          return someIf(item.value === value, item);\n        }\n      });\n    };\n    var renderListBox = function (spec, backstage) {\n      var providersBackstage = backstage.shared.providers;\n      var initialItem = head(spec.items).filter(isSingleListItem);\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({\n        dom: {},\n        factory: {\n          sketch: function (sketchSpec) {\n            return renderCommonDropdown({\n              uid: sketchSpec.uid,\n              text: initialItem.map(function (item) {\n                return item.text;\n              }),\n              icon: Optional.none(),\n              tooltip: spec.label,\n              role: Optional.none(),\n              fetch: function (comp, callback) {\n                var items = fetchItems(comp, spec.name, spec.items, Representing.getValue(comp));\n                callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n              },\n              onSetup: constant$1(noop),\n              getApi: constant$1({}),\n              columns: 1,\n              presets: 'normal',\n              classes: [],\n              dropdownBehaviours: [\n                Tabstopping.config({}),\n                Representing.config({\n                  store: {\n                    mode: 'manual',\n                    initialValue: initialItem.map(function (item) {\n                      return item.value;\n                    }).getOr(''),\n                    getValue: function (comp) {\n                      return get$d(comp.element, dataAttribute);\n                    },\n                    setValue: function (comp, data) {\n                      findItemByValue(spec.items, data).each(function (item) {\n                        set$8(comp.element, dataAttribute, item.value);\n                        emitWith(comp, updateMenuText, { text: item.text });\n                      });\n                    }\n                  }\n                })\n              ]\n            }, 'tox-listbox', backstage.shared);\n          }\n        }\n      });\n      var listBoxWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-listboxfield']\n        },\n        components: [pField]\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [listBoxWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: constant$1(spec.disabled),\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    var renderPanel = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: spec.classes\n        },\n        components: map$2(spec.items, backstage.shared.interpreter)\n      };\n    };\n\n    var factory$e = function (detail, _spec) {\n      var options = map$2(detail.options, function (option) {\n        return {\n          dom: {\n            tag: 'option',\n            value: option.value,\n            innerHtml: option.text\n          }\n        };\n      });\n      var initialValues = detail.data.map(function (v) {\n        return wrap$1('initialValue', v);\n      }).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: __assign({\n              mode: 'manual',\n              getValue: function (select) {\n                return get$5(select.element);\n              },\n              setValue: function (select, newValue) {\n                var found = find$5(detail.options, function (opt) {\n                  return opt.value === newValue;\n                });\n                if (found.isSome()) {\n                  set$4(select.element, newValue);\n                }\n              }\n            }, initialValues)\n          })\n        ])\n      };\n    };\n    var HtmlSelect = single({\n      name: 'HtmlSelect',\n      configFields: [\n        required$1('options'),\n        field('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted('selectClasses', []),\n        defaulted('selectAttributes', {}),\n        option('data')\n      ],\n      factory: factory$e\n    });\n\n    var renderSelectBox = function (spec, providersBackstage) {\n      var translatedOptions = map$2(spec.items, function (item) {\n        return {\n          text: providersBackstage.translate(item.text),\n          value: item.value\n        };\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({\n        dom: {},\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run$1(change(), function (component, _) {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      var chevron = spec.size > 1 ? Optional.none() : Optional.some(render$3('chevron-down', {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js']\n      }, providersBackstage.icons));\n      var selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    var renderTable = function (spec, providersBackstage) {\n      var renderTh = function (text) {\n        return {\n          dom: {\n            tag: 'th',\n            innerHtml: providersBackstage.translate(text)\n          }\n        };\n      };\n      var renderHeader = function (header) {\n        return {\n          dom: { tag: 'thead' },\n          components: [{\n              dom: { tag: 'tr' },\n              components: map$2(header, renderTh)\n            }]\n        };\n      };\n      var renderTd = function (text) {\n        return {\n          dom: {\n            tag: 'td',\n            innerHtml: providersBackstage.translate(text)\n          }\n        };\n      };\n      var renderTr = function (row) {\n        return {\n          dom: { tag: 'tr' },\n          components: map$2(row, renderTd)\n        };\n      };\n      var renderRows = function (rows) {\n        return {\n          dom: { tag: 'tbody' },\n          components: map$2(rows, renderTr)\n        };\n      };\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    var renderTextField = function (spec, providersBackstage) {\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var baseInputBehaviours = [\n        Disabling.config({\n          disabled: function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }\n        }),\n        receivingConfig(),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: function (comp) {\n            emit(comp, formSubmitEvent);\n            return Optional.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run$1(input(), function (component, _) {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run$1(postPaste(), function (component, _) {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      var validatingBehaviours = spec.validation.map(function (vl) {\n        return Invalidating.config({\n          getRoot: function (input) {\n            return parent(input.element);\n          },\n          invalidClass: 'tox-invalid',\n          validator: {\n            validate: function (input) {\n              var v = Representing.getValue(input);\n              var result = vl.validator(v);\n              return Future.pure(result === true ? Result.value(v) : Result.error(result));\n            },\n            validateOnLoad: vl.validateOnLoad\n          }\n        });\n      }).toArray();\n      var placeholder = spec.placeholder.fold(constant$1({}), function (p) {\n        return { placeholder: providersBackstage.translate(p) };\n      });\n      var inputMode = spec.inputMode.fold(constant$1({}), function (mode) {\n        return { inputmode: mode };\n      });\n      var inputAttributes = __assign(__assign({}, placeholder), inputMode);\n      var pField = FormField.parts.field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        inputAttributes: inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      var extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      var extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      var extraBehaviours = [\n        Disabling.config({\n          disabled: function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          },\n          onDisabled: function (comp) {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: function (comp) {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        }),\n        receivingConfig()\n      ];\n      return renderFormFieldWith(pLabel, pField, extraClasses2, extraBehaviours);\n    };\n    var renderInput = function (spec, providersBackstage) {\n      return renderTextField({\n        name: spec.name,\n        multiline: false,\n        label: spec.label,\n        inputMode: spec.inputMode,\n        placeholder: spec.placeholder,\n        flex: false,\n        disabled: spec.disabled,\n        classname: 'tox-textfield',\n        validation: Optional.none(),\n        maximized: spec.maximized\n      }, providersBackstage);\n    };\n    var renderTextarea = function (spec, providersBackstage) {\n      return renderTextField({\n        name: spec.name,\n        multiline: true,\n        label: spec.label,\n        inputMode: Optional.none(),\n        placeholder: spec.placeholder,\n        flex: true,\n        disabled: spec.disabled,\n        classname: 'tox-textarea',\n        validation: Optional.none(),\n        maximized: spec.maximized\n      }, providersBackstage);\n    };\n\n    var events$6 = function (streamConfig, streamState) {\n      var streams = streamConfig.stream.streams;\n      var processor = streams.setup(streamConfig, streamState);\n      return derive$2([\n        run$1(streamConfig.event, processor),\n        runOnDetached(function () {\n          return streamState.cancel();\n        })\n      ].concat(streamConfig.cancelEvent.map(function (e) {\n        return [run$1(e, function () {\n            return streamState.cancel();\n          })];\n      }).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$6\n    });\n\n    var throttle = function (_config) {\n      var state = Cell(null);\n      var readState = function () {\n        return { timer: state.get() !== null ? 'set' : 'unset' };\n      };\n      var setTimer = function (t) {\n        state.set(t);\n      };\n      var cancel = function () {\n        var t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$8({\n        readState: readState,\n        setTimer: setTimer,\n        cancel: cancel\n      });\n    };\n    var init$9 = function (spec) {\n      return spec.stream.streams.state(spec);\n    };\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        throttle: throttle,\n        init: init$9\n    });\n\n    var setup$c = function (streamInfo, streamState) {\n      var sInfo = streamInfo.stream;\n      var throttler = last(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return function (component, simulatedEvent) {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      requiredOf('stream', choose$1('mode', {\n        throttle: [\n          required$1('delay'),\n          defaulted('stopEvent', true),\n          output$1('streams', {\n            setup: setup$c,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted('event', 'input'),\n      option('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    var Streaming = create$8({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    var setValueFromItem = function (model, input, item) {\n      var itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    var setSelectionOn = function (input, f) {\n      var el = input.element;\n      var value = get$5(el);\n      var node = el.dom;\n      if (get$d(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    var setCursorAtEnd = function (input) {\n      setSelectionOn(input, function (node, value) {\n        return node.setSelectionRange(value.length, value.length);\n      });\n    };\n    var setSelectionToEnd = function (input, startOffset) {\n      setSelectionOn(input, function (node, value) {\n        return node.setSelectionRange(startOffset, value.length);\n      });\n    };\n    var attemptSelectOver = function (model, input, item) {\n      if (!model.selectsOver) {\n        return Optional.none();\n      } else {\n        var currentValue = Representing.getValue(input);\n        var inputDisplay_1 = model.getDisplayText(currentValue);\n        var itemValue = Representing.getValue(item);\n        var itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay_1) === 0 ? Optional.some(function () {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay_1.length);\n        }) : Optional.none();\n      }\n    };\n\n    var itemExecute = constant$1('alloy.typeahead.itemexecute');\n\n    var make$3 = function (detail, components, spec, externals) {\n      var navigateList = function (comp, simulatedEvent, highlighter) {\n        detail.previewing.set(false);\n        var sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(function (menu) {\n            Highlighting.getHighlighted(menu).fold(function () {\n              highlighter(menu);\n            }, function () {\n              dispatchEvent(sandbox, menu.element, 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          var onOpenSync = function (sandbox) {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n        }\n      };\n      var focusBehaviours$1 = focusBehaviours(detail);\n      var mapFetch = function (comp) {\n        return function (tdata) {\n          return tdata.map(function (data) {\n            var menus = values(data.menus);\n            var items = bind$3(menus, function (menu) {\n              return filter$2(menu.items, function (item) {\n                return item.type === 'item';\n              });\n            });\n            var repState = Representing.getState(comp);\n            repState.update(map$2(items, function (item) {\n              return item.data;\n            }));\n            return data;\n          });\n        };\n      };\n      var behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: __assign({\n            mode: 'dataset',\n            getDataKey: function (comp) {\n              return get$5(comp.element);\n            },\n            getFallbackEntry: function (itemString) {\n              return {\n                value: itemString,\n                meta: {}\n              };\n            },\n            setValue: function (comp, data) {\n              set$4(comp.element, detail.model.getDisplayText(data));\n            }\n          }, detail.initialData.map(function (d) {\n            return wrap$1('initialValue', d);\n          }).getOr({}))\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: function (component, _simulatedEvent) {\n            var sandbox = Coupling.getCoupled(component, 'sandbox');\n            var focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$5(component.element).length >= detail.minChars) {\n                var previousValue_1 = Composing.getCurrent(sandbox).bind(function (menu) {\n                  return Highlighting.getHighlighted(menu).map(Representing.getValue);\n                });\n                detail.previewing.set(true);\n                var onOpenSync = function (_sandbox) {\n                  Composing.getCurrent(sandbox).each(function (menu) {\n                    previousValue_1.fold(function () {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(menu);\n                      }\n                    }, function (pv) {\n                      Highlighting.highlightBy(menu, function (item) {\n                        var itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(menu).orThunk(function () {\n                        Highlighting.highlightFirst(menu);\n                        return Optional.none();\n                      });\n                    });\n                  });\n                };\n                open(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: function (comp, simulatedEvent) {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Optional.some(true);\n          },\n          onEscape: function (comp) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n            return Optional.none();\n          },\n          onUp: function (comp, simulatedEvent) {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Optional.some(true);\n          },\n          onEnter: function (comp) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            var sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return Composing.getCurrent(sandbox).bind(function (menu) {\n                return Highlighting.getHighlighted(menu);\n              }).map(function (item) {\n                emitWith(comp, itemExecute(), { item: item });\n                return true;\n              });\n            } else {\n              var currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Optional.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: function (hotspot) {\n              return makeSandbox$1(detail, hotspot, {\n                onOpen: function () {\n                  return Toggling.on(hotspot);\n                },\n                onClose: function () {\n                  return Toggling.off(hotspot);\n                }\n              });\n            }\n          }\n        }),\n        config('typeaheadevents', [\n          runOnExecute$1(function (comp) {\n            var onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n          }),\n          run$1(itemExecute(), function (comp, se) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event.item);\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event.item, Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run$1(postBlur(), function (typeahead) {\n            var sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      return {\n        uid: detail.uid,\n        dom: dom(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: __assign(__assign({}, focusBehaviours$1), augment(detail.typeaheadBehaviours, behaviours)),\n        eventOrder: detail.eventOrder\n      };\n    };\n\n    var schema$g = constant$1([\n      option('lazySink'),\n      required$1('fetch'),\n      defaulted('minChars', 5),\n      defaulted('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      defaulted('layouts', Optional.none()),\n      defaulted('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted('getDisplayText', function (itemData) {\n          return itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value;\n        }),\n        defaulted('selectsOver', true),\n        defaulted('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted('inputClasses', []),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('matchWidth', true),\n      defaulted('useMinWidth', false),\n      defaulted('dismissOnBlur', true),\n      markers$1(['openClass']),\n      option('initialData'),\n      field('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      customField('previewing', function () {\n        return Cell(true);\n      })\n    ].concat(schema$k()).concat(sandboxFields()));\n    var parts$b = constant$1([external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: function (detail) {\n          return {\n            fakeFocus: true,\n            onHighlight: function (menu, item) {\n              if (!detail.previewing.get()) {\n                menu.getSystem().getByUid(detail.uid).each(function (input) {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                });\n              } else {\n                menu.getSystem().getByUid(detail.uid).each(function (input) {\n                  attemptSelectOver(detail.model, input, item).fold(function () {\n                    return Highlighting.dehighlight(menu, item);\n                  }, function (fn) {\n                    return fn();\n                  });\n                });\n              }\n              detail.previewing.set(false);\n            },\n            onExecute: function (menu, item) {\n              return menu.getSystem().getByUid(detail.uid).toOptional().map(function (typeahead) {\n                emitWith(typeahead, itemExecute(), { item: item });\n                return true;\n              });\n            },\n            onHover: function (menu, item) {\n              detail.previewing.set(false);\n              menu.getSystem().getByUid(detail.uid).each(function (input) {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    var Typeahead = composite({\n      name: 'Typeahead',\n      configFields: schema$g(),\n      partFields: parts$b(),\n      factory: make$3\n    });\n\n    var wrap = function (delegate) {\n      var toCached = function () {\n        return wrap(delegate.toCached());\n      };\n      var bindFuture = function (f) {\n        return wrap(delegate.bind(function (resA) {\n          return resA.fold(function (err) {\n            return Future.pure(Result.error(err));\n          }, function (a) {\n            return f(a);\n          });\n        }));\n      };\n      var bindResult = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.bind(f);\n        }));\n      };\n      var mapResult = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.map(f);\n        }));\n      };\n      var mapError = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.mapError(f);\n        }));\n      };\n      var foldResult = function (whenError, whenValue) {\n        return delegate.map(function (res) {\n          return res.fold(whenError, whenValue);\n        });\n      };\n      var withTimeout = function (timeout, errorThunk) {\n        return wrap(Future.nu(function (callback) {\n          var timedOut = false;\n          var timer = setTimeout(function () {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(function (result) {\n            if (!timedOut) {\n              clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return __assign(__assign({}, delegate), {\n        toCached: toCached,\n        bindFuture: bindFuture,\n        bindResult: bindResult,\n        mapResult: mapResult,\n        mapError: mapError,\n        foldResult: foldResult,\n        withTimeout: withTimeout\n      });\n    };\n    var nu$1 = function (worker) {\n      return wrap(Future.nu(worker));\n    };\n    var value = function (value) {\n      return wrap(Future.pure(Result.value(value)));\n    };\n    var error = function (error) {\n      return wrap(Future.pure(Result.error(error)));\n    };\n    var fromResult = function (result) {\n      return wrap(Future.pure(result));\n    };\n    var fromFuture = function (future) {\n      return wrap(future.map(Result.value));\n    };\n    var fromPromise = function (promise) {\n      return nu$1(function (completer) {\n        promise.then(function (value) {\n          completer(Result.value(value));\n        }, function (error) {\n          completer(Result.error(error));\n        });\n      });\n    };\n    var FutureResult = {\n      nu: nu$1,\n      wrap: wrap,\n      pure: value,\n      value: value,\n      error: error,\n      fromResult: fromResult,\n      fromFuture: fromFuture,\n      fromPromise: fromPromise\n    };\n\n    var separator$1 = { type: 'separator' };\n    var toMenuItem = function (target) {\n      return {\n        type: 'menuitem',\n        value: target.url,\n        text: target.title,\n        meta: { attach: target.attach },\n        onAction: noop\n      };\n    };\n    var staticMenuItem = function (title, url) {\n      return {\n        type: 'menuitem',\n        value: url,\n        text: title,\n        meta: { attach: undefined },\n        onAction: noop\n      };\n    };\n    var toMenuItems = function (targets) {\n      return map$2(targets, toMenuItem);\n    };\n    var filterLinkTargets = function (type, targets) {\n      return filter$2(targets, function (target) {\n        return target.type === type;\n      });\n    };\n    var filteredTargets = function (type, targets) {\n      return toMenuItems(filterLinkTargets(type, targets));\n    };\n    var headerTargets = function (linkInfo) {\n      return filteredTargets('header', linkInfo.targets);\n    };\n    var anchorTargets = function (linkInfo) {\n      return filteredTargets('anchor', linkInfo.targets);\n    };\n    var anchorTargetTop = function (linkInfo) {\n      return Optional.from(linkInfo.anchorTop).map(function (url) {\n        return staticMenuItem('<top>', url);\n      }).toArray();\n    };\n    var anchorTargetBottom = function (linkInfo) {\n      return Optional.from(linkInfo.anchorBottom).map(function (url) {\n        return staticMenuItem('<bottom>', url);\n      }).toArray();\n    };\n    var historyTargets = function (history) {\n      return map$2(history, function (url) {\n        return staticMenuItem(url, url);\n      });\n    };\n    var joinMenuLists = function (items) {\n      return foldl(items, function (a, b) {\n        var bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$1, b);\n      }, []);\n    };\n    var filterByQuery = function (term, menuItems) {\n      var lowerCaseTerm = term.toLowerCase();\n      return filter$2(menuItems, function (item) {\n        var text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(item.value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    var getItems = function (fileType, input, urlBackstage) {\n      var urlInputValue = Representing.getValue(input);\n      var term = urlInputValue.meta.text !== undefined ? urlInputValue.meta.text : urlInputValue.value;\n      var info = urlBackstage.getLinkInformation();\n      return info.fold(function () {\n        return [];\n      }, function (linkInfo) {\n        var history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    var errorId = generate$6('aria-invalid');\n    var renderUrlInput = function (spec, backstage, urlBackstage) {\n      var _a;\n      var providersBackstage = backstage.shared.providers;\n      var updateHistory = function (component) {\n        var urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      var pField = FormField.parts.field({\n        factory: Typeahead,\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: function (input) {\n          var items = getItems(spec.filetype, input, urlBackstage);\n          var tdata = build(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, false);\n          return Future.pure(tdata);\n        },\n        getHotspot: function (comp) {\n          return memUrlBox.getOpt(comp);\n        },\n        onSetValue: function (comp, _newValue) {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1(flatten([\n          urlBackstage.getValidationHandler().map(function (handler) {\n            return Invalidating.config({\n              getRoot: function (comp) {\n                return parent(comp.element);\n              },\n              invalidClass: 'tox-control-wrap--status-invalid',\n              notify: {\n                onInvalid: function (comp, err) {\n                  memInvalidIcon.getOpt(comp).each(function (invalidComp) {\n                    set$8(invalidComp.element, 'title', providersBackstage.translate(err));\n                  });\n                }\n              },\n              validator: {\n                validate: function (input) {\n                  var urlEntry = Representing.getValue(input);\n                  return FutureResult.nu(function (completer) {\n                    handler({\n                      type: spec.filetype,\n                      url: urlEntry.value\n                    }, function (validation) {\n                      if (validation.status === 'invalid') {\n                        var err = Result.error(validation.message);\n                        completer(err);\n                      } else {\n                        var val = Result.value(validation.message);\n                        completer(val);\n                      }\n                    });\n                  });\n                },\n                validateOnLoad: false\n              }\n            });\n          }).toArray(),\n          [\n            Disabling.config({\n              disabled: function () {\n                return spec.disabled || providersBackstage.isDisabled();\n              }\n            }),\n            Tabstopping.config({}),\n            config('urlinput-events', flatten([\n              spec.filetype === 'file' ? [run$1(input(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                })] : [],\n              [\n                run$1(change(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                }),\n                run$1(postPaste(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                })\n              ]\n            ]))\n          ]\n        ])),\n        eventOrder: (_a = {}, _a[input()] = [\n          'streaming',\n          'urlinput-events',\n          'invalidating'\n        ], _a),\n        model: {\n          getDisplayText: function (itemData) {\n            return itemData.value;\n          },\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: function (_menu, component, _entry) {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: function (typeahead, _sandbox, _item, _value) {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var makeIcon = function (name, errId, icon, label) {\n        if (icon === void 0) {\n          icon = name;\n        }\n        if (label === void 0) {\n          label = name;\n        }\n        return render$3(icon, {\n          tag: 'div',\n          classes: [\n            'tox-icon',\n            'tox-control-wrap__status-icon-' + name\n          ],\n          attributes: __assign({\n            'title': providersBackstage.translate(label),\n            'aria-live': 'polite'\n          }, errId.fold(function () {\n            return {};\n          }, function (id) {\n            return { id: id };\n          }))\n        }, providersBackstage.icons);\n      };\n      var memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n      var memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      var optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      var browseUrlEvent = generate$6('browser.url.event');\n      var memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          })])\n      });\n      var memUrlPickerButton = record(renderButton({\n        name: spec.name,\n        icon: Optional.some('browse'),\n        text: spec.label.getOr(''),\n        disabled: spec.disabled,\n        primary: false,\n        borderless: true\n      }, function (component) {\n        return emit(component, browseUrlEvent);\n      }, providersBackstage, [], ['tox-browse-url']));\n      var controlHWrapper = function () {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__controls-h-stack']\n          },\n          components: flatten([\n            [memUrlBox.asSpec()],\n            optUrlPicker.map(function () {\n              return memUrlPickerButton.asSpec();\n            }).toArray()\n          ])\n        };\n      };\n      var openUrlPicker = function (comp) {\n        Composing.getCurrent(comp).each(function (field) {\n          var componentData = Representing.getValue(field);\n          var urlData = __assign({ fieldname: spec.name }, componentData);\n          optUrlPicker.each(function (picker) {\n            picker(urlData).get(function (chosenData) {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('url-input-events', [run$1(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    var renderAlertBanner = function (spec, providersBackstage) {\n      return Container.sketch({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: [\n            'tox-notification',\n            'tox-notification--in',\n            'tox-notification--' + spec.level\n          ]\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__icon']\n            },\n            components: [Button.sketch({\n                dom: {\n                  tag: 'button',\n                  classes: [\n                    'tox-button',\n                    'tox-button--naked',\n                    'tox-button--icon'\n                  ],\n                  innerHtml: get$1(spec.icon, providersBackstage.icons),\n                  attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n                },\n                action: function (comp) {\n                  emitWith(comp, formActionEvent, {\n                    name: 'alert-banner',\n                    value: spec.url\n                  });\n                },\n                buttonBehaviours: derive$1([addFocusableBehaviour()])\n              })]\n          },\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__body'],\n              innerHtml: providersBackstage.translate(spec.text)\n            }\n          }\n        ]\n      });\n    };\n\n    var renderCheckbox = function (spec, providerBackstage) {\n      var repBehaviour = Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function (comp) {\n            var el = comp.element.dom;\n            return el.checked;\n          },\n          setValue: function (comp, value) {\n            var el = comp.element.dom;\n            el.checked = value;\n          }\n        }\n      });\n      var toggleCheckboxHandler = function (comp) {\n        comp.element.dom.click();\n        return Optional.some(true);\n      };\n      var pField = FormField.parts.field({\n        factory: { sketch: identity$1 },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providerBackstage.isDisabled();\n            }\n          }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          repBehaviour,\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run$1(change(), function (component, _) {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      var pLabel = FormField.parts.label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label'],\n          innerHtml: providerBackstage.translate(spec.label)\n        },\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      var makeIcon = function (className) {\n        var iconName = className === 'checked' ? 'selected' : 'unselected';\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-checkbox-icon__' + className\n          ]\n        }, providerBackstage.icons);\n      };\n      var memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providerBackstage.isDisabled();\n            },\n            disableClass: 'tox-checkbox--disabled',\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    var renderHtmlPanel = function (spec) {\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html\n          }\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({})\n          ])\n        });\n      }\n    };\n\n    var make$2 = function (render) {\n      return function (parts, spec, backstage) {\n        return get$e(spec, 'name').fold(function () {\n          return render(spec, backstage);\n        }, function (fieldName) {\n          return parts.field(fieldName, render(spec, backstage));\n        });\n      };\n    };\n    var makeIframe = function (render) {\n      return function (parts, spec, backstage) {\n        var iframeSpec = deepMerge(spec, { source: 'dynamic' });\n        return make$2(render)(parts, iframeSpec, backstage);\n      };\n    };\n    var factories = {\n      bar: make$2(function (spec, backstage) {\n        return renderBar(spec, backstage.shared);\n      }),\n      collection: make$2(function (spec, backstage) {\n        return renderCollection(spec, backstage.shared.providers);\n      }),\n      alertbanner: make$2(function (spec, backstage) {\n        return renderAlertBanner(spec, backstage.shared.providers);\n      }),\n      input: make$2(function (spec, backstage) {\n        return renderInput(spec, backstage.shared.providers);\n      }),\n      textarea: make$2(function (spec, backstage) {\n        return renderTextarea(spec, backstage.shared.providers);\n      }),\n      label: make$2(function (spec, backstage) {\n        return renderLabel(spec, backstage.shared);\n      }),\n      iframe: makeIframe(function (spec, backstage) {\n        return renderIFrame(spec, backstage.shared.providers);\n      }),\n      button: make$2(function (spec, backstage) {\n        return renderDialogButton(spec, backstage.shared.providers);\n      }),\n      checkbox: make$2(function (spec, backstage) {\n        return renderCheckbox(spec, backstage.shared.providers);\n      }),\n      colorinput: make$2(function (spec, backstage) {\n        return renderColorInput(spec, backstage.shared, backstage.colorinput);\n      }),\n      colorpicker: make$2(renderColorPicker),\n      dropzone: make$2(function (spec, backstage) {\n        return renderDropZone(spec, backstage.shared.providers);\n      }),\n      grid: make$2(function (spec, backstage) {\n        return renderGrid(spec, backstage.shared);\n      }),\n      listbox: make$2(function (spec, backstage) {\n        return renderListBox(spec, backstage);\n      }),\n      selectbox: make$2(function (spec, backstage) {\n        return renderSelectBox(spec, backstage.shared.providers);\n      }),\n      sizeinput: make$2(function (spec, backstage) {\n        return renderSizeInput(spec, backstage.shared.providers);\n      }),\n      urlinput: make$2(function (spec, backstage) {\n        return renderUrlInput(spec, backstage, backstage.urlinput);\n      }),\n      customeditor: make$2(renderCustomEditor),\n      htmlpanel: make$2(renderHtmlPanel),\n      imagetools: make$2(function (spec, backstage) {\n        return renderImageTools(spec, backstage.shared.providers);\n      }),\n      table: make$2(function (spec, backstage) {\n        return renderTable(spec, backstage.shared.providers);\n      }),\n      panel: make$2(function (spec, backstage) {\n        return renderPanel(spec, backstage);\n      })\n    };\n    var noFormParts = {\n      field: function (_name, spec) {\n        return spec;\n      }\n    };\n    var interpretInForm = function (parts, spec, oldBackstage) {\n      var newBackstage = deepMerge(oldBackstage, {\n        shared: {\n          interpreter: function (childSpec) {\n            return interpretParts(parts, childSpec, newBackstage);\n          }\n        }\n      });\n      return interpretParts(parts, spec, newBackstage);\n    };\n    var interpretParts = function (parts, spec, backstage) {\n      return get$e(factories, spec.type).fold(function () {\n        console.error('Unknown factory type \"' + spec.type + '\", defaulting to container: ', spec);\n        return spec;\n      }, function (factory) {\n        return factory(parts, spec, backstage);\n      });\n    };\n    var interpretWithoutForm = function (spec, backstage) {\n      var parts = noFormParts;\n      return interpretParts(parts, spec, backstage);\n    };\n\n    var bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    var getInlineDialogAnchor = function (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) {\n      var bubbleSize = 12;\n      var overrides = { maxHeightFunction: expandable$1() };\n      var editableAreaAnchor = function () {\n        return {\n          type: 'node',\n          root: getContentContainer(contentAreaElement()),\n          node: Optional.from(contentAreaElement()),\n          bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n          layouts: {\n            onRtl: function () {\n              return [northeast];\n            },\n            onLtr: function () {\n              return [northwest];\n            }\n          },\n          overrides: overrides\n        };\n      };\n      var standardAnchor = function () {\n        return {\n          type: 'hotspot',\n          hotspot: lazyAnchorbar(),\n          bubble: nu$5(-bubbleSize, bubbleSize, bubbleAlignments$2),\n          layouts: {\n            onRtl: function () {\n              return [southeast$2];\n            },\n            onLtr: function () {\n              return [southwest$2];\n            }\n          },\n          overrides: overrides\n        };\n      };\n      return function () {\n        return lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n      };\n    };\n    var getBannerAnchor = function (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) {\n      var editableAreaAnchor = function () {\n        return {\n          type: 'node',\n          root: getContentContainer(contentAreaElement()),\n          node: Optional.from(contentAreaElement()),\n          layouts: {\n            onRtl: function () {\n              return [north];\n            },\n            onLtr: function () {\n              return [north];\n            }\n          }\n        };\n      };\n      var standardAnchor = function () {\n        return {\n          type: 'hotspot',\n          hotspot: lazyAnchorbar(),\n          layouts: {\n            onRtl: function () {\n              return [south$2];\n            },\n            onLtr: function () {\n              return [south$2];\n            }\n          }\n        };\n      };\n      return function () {\n        return lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n      };\n    };\n    var getCursorAnchor = function (editor, bodyElement) {\n      return function () {\n        return {\n          type: 'selection',\n          root: bodyElement(),\n          getSelection: function () {\n            var rng = editor.selection.getRng();\n            return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n          }\n        };\n      };\n    };\n    var getNodeAnchor$1 = function (bodyElement) {\n      return function (element) {\n        return {\n          type: 'node',\n          root: bodyElement(),\n          node: element\n        };\n      };\n    };\n    var getAnchors = function (editor, lazyAnchorbar, isToolbarTop) {\n      var useFixedToolbarContainer = useFixedContainer(editor);\n      var bodyElement = function () {\n        return SugarElement.fromDom(editor.getBody());\n      };\n      var contentAreaElement = function () {\n        return SugarElement.fromDom(editor.getContentAreaContainer());\n      };\n      var lazyUseEditableAreaAnchor = function () {\n        return useFixedToolbarContainer || !isToolbarTop();\n      };\n      return {\n        inlineDialog: getInlineDialogAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        banner: getBannerAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor$1(bodyElement)\n      };\n    };\n\n    var colorPicker = function (editor) {\n      return function (callback, value) {\n        var dialog = colorPickerDialog(editor);\n        dialog(callback, value);\n      };\n    };\n    var hasCustomColors = function (editor) {\n      return function () {\n        return hasCustomColors$1(editor);\n      };\n    };\n    var getColors = function (editor) {\n      return function () {\n        return getColors$2(editor);\n      };\n    };\n    var getColorCols = function (editor) {\n      return function () {\n        return getColorCols$1(editor);\n      };\n    };\n    var ColorInputBackstage = function (editor) {\n      return {\n        colorPicker: colorPicker(editor),\n        hasCustomColors: hasCustomColors(editor),\n        getColors: getColors(editor),\n        getColorCols: getColorCols(editor)\n      };\n    };\n\n    var isDraggableModal = function (editor) {\n      return function () {\n        return isDraggableModal$1(editor);\n      };\n    };\n    var DialogBackstage = function (editor) {\n      return { isDraggableModal: isDraggableModal(editor) };\n    };\n\n    var HeaderBackstage = function (editor) {\n      var mode = Cell(isToolbarLocationBottom(editor) ? 'bottom' : 'top');\n      return {\n        isPositionedAtTop: function () {\n          return mode.get() === 'top';\n        },\n        getDockingMode: mode.get,\n        setDockingMode: mode.set\n      };\n    };\n\n    var defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    var isNestedFormat = function (format) {\n      return has$2(format, 'items');\n    };\n    var isBlockFormat = function (format) {\n      return has$2(format, 'block');\n    };\n    var isInlineFormat = function (format) {\n      return has$2(format, 'inline');\n    };\n    var isSelectorFormat = function (format) {\n      return has$2(format, 'selector');\n    };\n    var mapFormats = function (userFormats) {\n      return foldl(userFormats, function (acc, fmt) {\n        if (isNestedFormat(fmt)) {\n          var result = mapFormats(fmt.items);\n          return {\n            customFormats: acc.customFormats.concat(result.customFormats),\n            formats: acc.formats.concat([{\n                title: fmt.title,\n                items: result.formats\n              }])\n          };\n        } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n          var formatName = isString(fmt.name) ? fmt.name : fmt.title.toLowerCase();\n          var formatNameWithPrefix = 'custom-' + formatName;\n          return {\n            customFormats: acc.customFormats.concat([{\n                name: formatNameWithPrefix,\n                format: fmt\n              }]),\n            formats: acc.formats.concat([{\n                title: fmt.title,\n                format: formatNameWithPrefix,\n                icon: fmt.icon\n              }])\n          };\n        } else {\n          return __assign(__assign({}, acc), { formats: acc.formats.concat(fmt) });\n        }\n      }, {\n        customFormats: [],\n        formats: []\n      });\n    };\n    var registerCustomFormats = function (editor, userFormats) {\n      var result = mapFormats(userFormats);\n      var registerFormats = function (customFormats) {\n        each$1(customFormats, function (fmt) {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', function () {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    var getStyleFormats = function (editor) {\n      return getUserStyleFormats(editor).map(function (userFormats) {\n        var registeredUserFormats = registerCustomFormats(editor, userFormats);\n        return isMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n      }).getOr(defaultStyleFormats);\n    };\n\n    var processBasic = function (item, isSelectedFor, getPreviewFor) {\n      var formatterSpec = {\n        type: 'formatter',\n        isSelected: isSelectedFor(item.format),\n        getStylePreview: getPreviewFor(item.format)\n      };\n      return deepMerge(item, formatterSpec);\n    };\n    var register$8 = function (editor, formats, isSelectedFor, getPreviewFor) {\n      var enrichSupported = function (item) {\n        return processBasic(item, isSelectedFor, getPreviewFor);\n      };\n      var enrichMenu = function (item) {\n        var submenuSpec = { type: 'submenu' };\n        return deepMerge(item, submenuSpec);\n      };\n      var enrichCustom = function (item) {\n        var formatName = isString(item.name) ? item.name : generate$6(item.title);\n        var formatNameWithPrefix = 'custom-' + formatName;\n        var customSpec = {\n          type: 'formatter',\n          format: formatNameWithPrefix,\n          isSelected: isSelectedFor(formatNameWithPrefix),\n          getStylePreview: getPreviewFor(formatNameWithPrefix)\n        };\n        var newItem = deepMerge(item, customSpec);\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      var doEnrich = function (items) {\n        return map$2(items, function (item) {\n          var keys$1 = keys(item);\n          if (hasNonNullableKey(item, 'items')) {\n            var newItems = doEnrich(item.items);\n            return deepMerge(enrichMenu(item), { getStyleItems: constant$1(newItems) });\n          } else if (hasNonNullableKey(item, 'format')) {\n            return enrichSupported(item);\n          } else if (keys$1.length === 1 && contains$2(keys$1, 'title')) {\n            return deepMerge(item, { type: 'separator' });\n          } else {\n            return enrichCustom(item);\n          }\n        });\n      };\n      return doEnrich(formats);\n    };\n\n    var init$8 = function (editor) {\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return fmt !== undefined ? Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          }) : Optional.none();\n        };\n      };\n      var flatten = function (fmt) {\n        var subs = fmt.items;\n        return subs !== undefined && subs.length > 0 ? bind$3(subs, flatten) : [fmt.format];\n      };\n      var settingsFormats = Cell([]);\n      var settingsFlattenedFormats = Cell([]);\n      var eventsFormats = Cell([]);\n      var eventsFlattenedFormats = Cell([]);\n      var replaceSettings = Cell(false);\n      editor.on('PreInit', function (_e) {\n        var formats = getStyleFormats(editor);\n        var enriched = register$8(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n        settingsFlattenedFormats.set(bind$3(enriched, flatten));\n      });\n      editor.on('addStyleModifications', function (e) {\n        var modifications = register$8(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n        eventsFlattenedFormats.set(bind$3(modifications, flatten));\n      });\n      var getData = function () {\n        var fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        var fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      var getFlattenedKeys = function () {\n        var fromSettings = replaceSettings.get() ? [] : settingsFlattenedFormats.get();\n        var fromEvents = eventsFlattenedFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return {\n        getData: getData,\n        getFlattenedKeys: getFlattenedKeys\n      };\n    };\n\n    var isElement = function (node) {\n      return isNonNullable(node) && node.nodeType === 1;\n    };\n    var trim = global$5.trim;\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var isContentEditableTrue = hasContentEditableState('true');\n    var isContentEditableFalse = hasContentEditableState('false');\n    var create$1 = function (type, title, url, level, attach) {\n      return {\n        type: type,\n        title: title,\n        url: url,\n        level: level,\n        attach: attach\n      };\n    };\n    var isChildOfContentEditableTrue = function (node) {\n      while (node = node.parentNode) {\n        var value = node.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(node);\n        }\n      }\n      return false;\n    };\n    var select = function (selector, root) {\n      return map$2(descendants(SugarElement.fromDom(root), selector), function (element) {\n        return element.dom;\n      });\n    };\n    var getElementText = function (elm) {\n      return elm.innerText || elm.textContent;\n    };\n    var getOrGenerateId = function (elm) {\n      return elm.id ? elm.id : generate$6('h');\n    };\n    var isAnchor = function (elm) {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    var isValidAnchor = function (elm) {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    var isHeader = function (elm) {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    var isEditable = function (elm) {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    var isValidHeader = function (elm) {\n      return isHeader(elm) && isEditable(elm);\n    };\n    var getLevel = function (elm) {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    var headerTarget = function (elm) {\n      var headerId = getOrGenerateId(elm);\n      var attach = function () {\n        elm.id = headerId;\n      };\n      return create$1('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\n    };\n    var anchorTarget = function (elm) {\n      var anchorId = elm.id || elm.name;\n      var anchorText = getElementText(elm);\n      return create$1('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    var getHeaderTargets = function (elms) {\n      return map$2(filter$2(elms, isValidHeader), headerTarget);\n    };\n    var getAnchorTargets = function (elms) {\n      return map$2(filter$2(elms, isValidAnchor), anchorTarget);\n    };\n    var getTargetElements = function (elm) {\n      var elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    var hasTitle = function (target) {\n      return trim(target.title).length > 0;\n    };\n    var find = function (elm) {\n      var elms = getTargetElements(elm);\n      return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    var LinkTargets = { find: find };\n\n    var STORAGE_KEY = 'tinymce-url-history';\n    var HISTORY_LENGTH = 5;\n    var isHttpUrl = function (url) {\n      return isString(url) && /^https?/.test(url);\n    };\n    var isArrayOfUrl = function (a) {\n      return isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    };\n    var isRecordOfUrlArray = function (r) {\n      return isObject(r) && find$4(r, function (value) {\n        return !isArrayOfUrl(value);\n      }).isNone();\n    };\n    var getAllHistory = function () {\n      var unparsedHistory = global$8.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      var history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    var setAllHistory = function (history) {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      global$8.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    var getHistory = function (fileType) {\n      var history = getAllHistory();\n      return get$e(history, fileType).getOr([]);\n    };\n    var addToHistory = function (url, fileType) {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      var history = getAllHistory();\n      var items = get$e(history, fileType).getOr([]);\n      var itemsWithoutUrl = filter$2(items, function (item) {\n        return item !== url;\n      });\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    var isTruthy = function (value) {\n      return !!value;\n    };\n    var makeMap = function (value) {\n      return map$1(global$5.makeMap(value, /[, ]/), isTruthy);\n    };\n    var getPicker = function (editor) {\n      return Optional.from(getFilePickerCallback(editor)).filter(isFunction);\n    };\n    var getPickerTypes = function (editor) {\n      var optFileTypes = Optional.some(getFilePickerTypes(editor)).filter(isTruthy);\n      var optLegacyTypes = Optional.some(getFileBrowserCallbackTypes(editor)).filter(isTruthy);\n      var optTypes = optFileTypes.or(optLegacyTypes).map(makeMap);\n      return getPicker(editor).fold(never, function (_picker) {\n        return optTypes.fold(always, function (types) {\n          return keys(types).length > 0 ? types : false;\n        });\n      });\n    };\n    var getPickerSetting = function (editor, filetype) {\n      var pickerTypes = getPickerTypes(editor);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(editor) : Optional.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(editor) : Optional.none();\n      }\n    };\n    var getUrlPicker = function (editor, filetype) {\n      return getPickerSetting(editor, filetype).map(function (picker) {\n        return function (entry) {\n          return Future.nu(function (completer) {\n            var handler = function (value, meta) {\n              if (!isString(value)) {\n                throw new Error('Expected value to be string');\n              }\n              if (meta !== undefined && !isObject(meta)) {\n                throw new Error('Expected meta to be a object');\n              }\n              var r = {\n                value: value,\n                meta: meta\n              };\n              completer(r);\n            };\n            var meta = __assign({\n              filetype: filetype,\n              fieldname: entry.fieldname\n            }, Optional.from(entry.meta).getOr({}));\n            picker.call(editor, handler, entry.value, meta);\n          });\n        };\n      });\n    };\n    var getTextSetting = function (value) {\n      return Optional.from(value).filter(isString).getOrUndefined();\n    };\n    var getLinkInformation = function (editor) {\n      if (noTypeaheadUrls(editor)) {\n        return Optional.none();\n      }\n      return Optional.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(getAnchorTop(editor)),\n        anchorBottom: getTextSetting(getAnchorBottom(editor))\n      });\n    };\n    var getValidationHandler = function (editor) {\n      return Optional.from(getFilePickerValidatorHandler(editor));\n    };\n    var UrlInputBackstage = function (editor) {\n      return {\n        getHistory: getHistory,\n        addToHistory: addToHistory,\n        getLinkInformation: function () {\n          return getLinkInformation(editor);\n        },\n        getValidationHandler: function () {\n          return getValidationHandler(editor);\n        },\n        getUrlPicker: function (filetype) {\n          return getUrlPicker(editor, filetype);\n        }\n      };\n    };\n\n    var init$7 = function (sink, editor, lazyAnchorbar) {\n      var contextMenuState = Cell(false);\n      var toolbar = HeaderBackstage(editor);\n      var backstage = {\n        shared: {\n          providers: {\n            icons: function () {\n              return editor.ui.registry.getAll().icons;\n            },\n            menuItems: function () {\n              return editor.ui.registry.getAll().menuItems;\n            },\n            translate: global$e.translate,\n            isDisabled: function () {\n              return editor.mode.isReadOnly() || editor.ui.isDisabled();\n            },\n            getSetting: editor.getParam.bind(editor)\n          },\n          interpreter: function (s) {\n            return interpretWithoutForm(s, backstage);\n          },\n          anchors: getAnchors(editor, lazyAnchorbar, toolbar.isPositionedAtTop),\n          header: toolbar,\n          getSink: function () {\n            return Result.value(sink);\n          }\n        },\n        urlinput: UrlInputBackstage(editor),\n        styleselect: init$8(editor),\n        colorinput: ColorInputBackstage(editor),\n        dialog: DialogBackstage(editor),\n        isContextMenuOpen: function () {\n          return contextMenuState.get();\n        },\n        setContextMenuState: function (state) {\n          return contextMenuState.set(state);\n        }\n      };\n      return backstage;\n    };\n\n    var setup$b = function (editor, mothership, uiMothership) {\n      var broadcastEvent = function (name, evt) {\n        each$1([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastEvent(name, evt);\n        });\n      };\n      var broadcastOn = function (channel, message) {\n        each$1([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastOn([channel], message);\n        });\n      };\n      var fireDismissPopups = function (evt) {\n        return broadcastOn(dismissPopups(), { target: evt.target });\n      };\n      var doc = getDocument();\n      var onTouchstart = bind(doc, 'touchstart', fireDismissPopups);\n      var onTouchmove = bind(doc, 'touchmove', function (evt) {\n        return broadcastEvent(documentTouchmove(), evt);\n      });\n      var onTouchend = bind(doc, 'touchend', function (evt) {\n        return broadcastEvent(documentTouchend(), evt);\n      });\n      var onMousedown = bind(doc, 'mousedown', fireDismissPopups);\n      var onMouseup = bind(doc, 'mouseup', function (evt) {\n        if (evt.raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: evt.target });\n        }\n      });\n      var onContentClick = function (raw) {\n        return broadcastOn(dismissPopups(), { target: SugarElement.fromDom(raw.target) });\n      };\n      var onContentMouseup = function (raw) {\n        if (raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: SugarElement.fromDom(raw.target) });\n        }\n      };\n      var onContentMousedown = function () {\n        each$1(editor.editorManager.get(), function (loopEditor) {\n          if (editor !== loopEditor) {\n            loopEditor.fire('DismissPopups', { relatedTarget: editor });\n          }\n        });\n      };\n      var onWindowScroll = function (evt) {\n        return broadcastEvent(windowScroll(), fromRawEvent(evt));\n      };\n      var onWindowResize = function (evt) {\n        broadcastOn(repositionPopups(), {});\n        broadcastEvent(windowResize(), fromRawEvent(evt));\n      };\n      var onEditorResize = function () {\n        return broadcastOn(repositionPopups(), {});\n      };\n      var onEditorProgress = function (evt) {\n        if (evt.state) {\n          broadcastOn(dismissPopups(), { target: SugarElement.fromDom(editor.getContainer()) });\n        }\n      };\n      var onDismissPopups = function (event) {\n        broadcastOn(dismissPopups(), { target: SugarElement.fromDom(event.relatedTarget.getContainer()) });\n      };\n      editor.on('PostRender', function () {\n        editor.on('click', onContentClick);\n        editor.on('tap', onContentClick);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('mousedown', onContentMousedown);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n        editor.on('AfterProgressState', onEditorProgress);\n        editor.on('DismissPopups', onDismissPopups);\n      });\n      editor.on('remove', function () {\n        editor.off('click', onContentClick);\n        editor.off('tap', onContentClick);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('mousedown', onContentMousedown);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        editor.off('AfterProgressState', onEditorProgress);\n        editor.off('DismissPopups', onDismissPopups);\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n      });\n      editor.on('detach', function () {\n        detachSystem(mothership);\n        detachSystem(uiMothership);\n        mothership.destroy();\n        uiMothership.destroy();\n      });\n    };\n\n    var parts$a = AlloyParts;\n    var partType = PartType;\n\n    var schema$f = constant$1([\n      defaulted('shell', false),\n      required$1('makeItem'),\n      defaulted('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    var customListDetail = function () {\n      return { behaviours: derive$1([Replacing.config({})]) };\n    };\n    var itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    var parts$9 = constant$1([itemsPart]);\n    var name = constant$1('CustomList');\n\n    var factory$d = function (detail, components, _spec, _external) {\n      var setItems = function (list, items) {\n        getListContainer(list).fold(function () {\n          console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, function (container) {\n          var itemComps = Replacing.contents(container);\n          var numListsRequired = items.length;\n          var numListsToAdd = numListsRequired - itemComps.length;\n          var itemsToAdd = numListsToAdd > 0 ? range$2(numListsToAdd, function () {\n            return detail.makeItem();\n          }) : [];\n          var itemsToRemove = itemComps.slice(numListsRequired);\n          each$1(itemsToRemove, function (item) {\n            return Replacing.remove(container, item);\n          });\n          each$1(itemsToAdd, function (item) {\n            return Replacing.append(container, item);\n          });\n          var builtLists = Replacing.contents(container);\n          each$1(builtLists, function (item, i) {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      var extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components: components\n      };\n      var getListContainer = function (component) {\n        return detail.shell ? Optional.some(component) : getPart(component, detail, 'items');\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems: setItems }\n      };\n    };\n    var CustomList = composite({\n      name: name(),\n      configFields: schema$f(),\n      partFields: parts$9(),\n      factory: factory$d,\n      apis: {\n        setItems: function (apis, list, items) {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    var schema$e = constant$1([\n      required$1('dom'),\n      defaulted('shell', true),\n      field('toolbarBehaviours', [Replacing])\n    ]);\n    var enhanceGroups = function () {\n      return { behaviours: derive$1([Replacing.config({})]) };\n    };\n    var parts$8 = constant$1([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    var factory$c = function (detail, components, _spec, _externals) {\n      var setGroups = function (toolbar, groups) {\n        getGroupContainer(toolbar).fold(function () {\n          console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, function (container) {\n          Replacing.set(container, groups);\n        });\n      };\n      var getGroupContainer = function (component) {\n        return detail.shell ? Optional.some(component) : getPart(component, detail, 'groups');\n      };\n      var extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components: components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: { setGroups: setGroups },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var Toolbar = composite({\n      name: 'Toolbar',\n      configFields: schema$e(),\n      partFields: parts$8(),\n      factory: factory$c,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    var setup$a = noop;\n    var isDocked$2 = never;\n    var getBehaviours$1 = constant$1([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$a,\n        isDocked: isDocked$2,\n        getBehaviours: getBehaviours$1\n    });\n\n    var getOffsetParent = function (element) {\n      var isFixed = is$1(getRaw(element, 'position'), 'fixed');\n      var offsetParent$1 = isFixed ? Optional.none() : offsetParent(element);\n      return offsetParent$1.orThunk(function () {\n        var marker = SugarElement.fromTag('span');\n        return parent(element).bind(function (parent) {\n          append$2(parent, marker);\n          var offsetParent$1 = offsetParent(marker);\n          remove$5(marker);\n          return offsetParent$1;\n        });\n      });\n    };\n    var getOrigin = function (element) {\n      return getOffsetParent(element).map(absolute$3).getOrThunk(function () {\n        return SugarPosition(0, 0);\n      });\n    };\n\n    var morphAdt = Adt.generate([\n      { static: [] },\n      { absolute: ['positionCss'] },\n      { fixed: ['positionCss'] }\n    ]);\n    var appear = function (component, contextualInfo) {\n      var elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    var disappear = function (component, contextualInfo) {\n      var elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    var isPartiallyVisible = function (box, viewport) {\n      return box.y < viewport.bottom && box.bottom > viewport.y;\n    };\n    var isTopCompletelyVisible = function (box, viewport) {\n      return box.y >= viewport.y;\n    };\n    var isBottomCompletelyVisible = function (box, viewport) {\n      return box.bottom <= viewport.bottom;\n    };\n    var isVisibleForModes = function (modes, box, viewport) {\n      return forall(modes, function (mode) {\n        switch (mode) {\n        case 'bottom':\n          return isBottomCompletelyVisible(box, viewport);\n        case 'top':\n          return isTopCompletelyVisible(box, viewport);\n        }\n      });\n    };\n    var getPrior = function (elem, state) {\n      return state.getInitialPos().map(function (pos) {\n        return bounds(pos.bounds.x, pos.bounds.y, get$a(elem), get$b(elem));\n      });\n    };\n    var storePrior = function (elem, box, state) {\n      state.setInitialPos({\n        style: getAllRaw(elem),\n        position: get$c(elem, 'position') || 'static',\n        bounds: box\n      });\n    };\n    var revertToOriginal = function (elem, box, state) {\n      return state.getInitialPos().bind(function (position) {\n        state.clearInitialPos();\n        switch (position.position) {\n        case 'static':\n          return Optional.some(morphAdt.static());\n        case 'absolute':\n          var offsetBox_1 = getOffsetParent(elem).map(box$1).getOrThunk(function () {\n            return box$1(body());\n          });\n          return Optional.some(morphAdt.absolute(NuPositionCss('absolute', get$e(position.style, 'left').map(function (_left) {\n            return box.x - offsetBox_1.x;\n          }), get$e(position.style, 'top').map(function (_top) {\n            return box.y - offsetBox_1.y;\n          }), get$e(position.style, 'right').map(function (_right) {\n            return offsetBox_1.right - box.right;\n          }), get$e(position.style, 'bottom').map(function (_bottom) {\n            return offsetBox_1.bottom - box.bottom;\n          }))));\n        default:\n          return Optional.none();\n        }\n      });\n    };\n    var morphToOriginal = function (elem, viewport, state) {\n      return getPrior(elem, state).filter(function (box) {\n        return isVisibleForModes(state.getModes(), box, viewport);\n      }).bind(function (box) {\n        return revertToOriginal(elem, box, state);\n      });\n    };\n    var morphToFixed = function (elem, viewport, state) {\n      var box = box$1(elem);\n      if (!isVisibleForModes(state.getModes(), box, viewport)) {\n        storePrior(elem, box, state);\n        var winBox = win();\n        var left = box.x - winBox.x;\n        var top_1 = viewport.y - winBox.y;\n        var bottom = winBox.bottom - viewport.bottom;\n        var isTop = box.y <= viewport.y;\n        return Optional.some(morphAdt.fixed(NuPositionCss('fixed', Optional.some(left), isTop ? Optional.some(top_1) : Optional.none(), Optional.none(), !isTop ? Optional.some(bottom) : Optional.none())));\n      } else {\n        return Optional.none();\n      }\n    };\n    var getMorph = function (component, viewport, state) {\n      var elem = component.element;\n      var isDocked = is$1(getRaw(elem, 'position'), 'fixed');\n      return isDocked ? morphToOriginal(elem, viewport, state) : morphToFixed(elem, viewport, state);\n    };\n    var getMorphToOriginal = function (component, state) {\n      var elem = component.element;\n      return getPrior(elem, state).bind(function (box) {\n        return revertToOriginal(elem, box, state);\n      });\n    };\n\n    var morphToStatic = function (component, config, state) {\n      state.setDocked(false);\n      each$1([\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'position'\n      ], function (prop) {\n        return remove$6(component.element, prop);\n      });\n      config.onUndocked(component);\n    };\n    var morphToCoord = function (component, config, state, position) {\n      var isDocked = position.position === 'fixed';\n      state.setDocked(isDocked);\n      applyPositionCss(component.element, position);\n      var method = isDocked ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    var updateVisibility = function (component, config, state, viewport, morphToDocked) {\n      if (morphToDocked === void 0) {\n        morphToDocked = false;\n      }\n      config.contextual.each(function (contextInfo) {\n        contextInfo.lazyContext(component).each(function (box) {\n          var isVisible = isPartiallyVisible(box, viewport);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$1(component.element, [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              var method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    var refreshInternal = function (component, config, state) {\n      var viewport = config.lazyViewport(component);\n      var isDocked = state.isDocked();\n      if (isDocked) {\n        updateVisibility(component, config, state, viewport);\n      }\n      getMorph(component, viewport, state).each(function (morph) {\n        morph.fold(function () {\n          return morphToStatic(component, config, state);\n        }, function (position) {\n          return morphToCoord(component, config, state, position);\n        }, function (position) {\n          updateVisibility(component, config, state, viewport, true);\n          morphToCoord(component, config, state, position);\n        });\n      });\n    };\n    var resetInternal = function (component, config, state) {\n      var elem = component.element;\n      state.setDocked(false);\n      getMorphToOriginal(component, state).each(function (morph) {\n        morph.fold(function () {\n          return morphToStatic(component, config, state);\n        }, function (position) {\n          return morphToCoord(component, config, state, position);\n        }, noop);\n      });\n      state.setVisible(true);\n      config.contextual.each(function (contextInfo) {\n        remove$1(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$4(component, config, state);\n    };\n    var refresh$4 = function (component, config, state) {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    var reset = function (component, config, state) {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    var isDocked$1 = function (component, config, state) {\n      return state.isDocked();\n    };\n    var setModes = function (component, config, state, modes) {\n      return state.setModes(modes);\n    };\n    var getModes = function (component, config, state) {\n      return state.getModes();\n    };\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$4,\n        reset: reset,\n        isDocked: isDocked$1,\n        getModes: getModes,\n        setModes: setModes\n    });\n\n    var events$5 = function (dockInfo, dockState) {\n      return derive$2([\n        runOnSource(transitionend(), function (component, simulatedEvent) {\n          dockInfo.contextual.each(function (contextInfo) {\n            if (has(component.element, contextInfo.transitionClass)) {\n              remove$1(component.element, [\n                contextInfo.transitionClass,\n                contextInfo.fadeInClass\n              ]);\n              var notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n              notify(component);\n            }\n            simulatedEvent.stop();\n          });\n        }),\n        run$1(windowScroll(), function (component, _) {\n          refresh$4(component, dockInfo, dockState);\n        }),\n        run$1(windowResize(), function (component, _) {\n          reset(component, dockInfo, dockState);\n        })\n      ]);\n    };\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$5\n    });\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        requiredString('fadeInClass'),\n        requiredString('fadeOutClass'),\n        requiredString('transitionClass'),\n        requiredFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', win),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    var init$6 = function (spec) {\n      var docked = Cell(false);\n      var visible = Cell(true);\n      var initialBounds = value$1();\n      var modes = Cell(spec.modes);\n      var readState = function () {\n        return 'docked:  ' + docked.get() + ', visible: ' + visible.get() + ', modes: ' + modes.get().join(',');\n      };\n      return nu$8({\n        isDocked: docked.get,\n        setDocked: docked.set,\n        getInitialPos: initialBounds.get,\n        setInitialPos: initialBounds.set,\n        clearInitialPos: initialBounds.clear,\n        isVisible: visible.get,\n        setVisible: visible.set,\n        getModes: modes.get,\n        setModes: modes.set,\n        readState: readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$6\n    });\n\n    var Docking = create$8({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    var toolbarHeightChange = constant$1(generate$6('toolbar-height-change'));\n\n    var visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    var editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    var editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    var scrollFromBehindHeader = function (e, containerHeader) {\n      var doc = owner$4(containerHeader);\n      var viewHeight = doc.dom.defaultView.innerHeight;\n      var scrollPos = get$9(doc);\n      var markerElement = SugarElement.fromDom(e.elm);\n      var markerPos = absolute$2(markerElement);\n      var markerHeight = get$b(markerElement);\n      var markerTop = markerPos.y;\n      var markerBottom = markerTop + markerHeight;\n      var editorHeaderPos = absolute$3(containerHeader);\n      var editorHeaderHeight = get$b(containerHeader);\n      var editorHeaderTop = editorHeaderPos.top;\n      var editorHeaderBottom = editorHeaderTop + editorHeaderHeight;\n      var editorHeaderDockedAtTop = Math.abs(editorHeaderTop - scrollPos.top) < 2;\n      var editorHeaderDockedAtBottom = Math.abs(editorHeaderBottom - (scrollPos.top + viewHeight)) < 2;\n      if (editorHeaderDockedAtTop && markerTop < editorHeaderBottom) {\n        to(scrollPos.left, markerTop - editorHeaderHeight, doc);\n      } else if (editorHeaderDockedAtBottom && markerBottom > editorHeaderTop) {\n        var y = markerTop - viewHeight + markerHeight + editorHeaderHeight;\n        to(scrollPos.left, y, doc);\n      }\n    };\n    var isDockedMode = function (header, mode) {\n      return contains$2(Docking.getModes(header), mode);\n    };\n    var updateIframeContentFlow = function (header) {\n      var getOccupiedHeight = function (elm) {\n        return getOuter$2(elm) + (parseInt(get$c(elm, 'margin-top'), 10) || 0) + (parseInt(get$c(elm, 'margin-bottom'), 10) || 0);\n      };\n      var elm = header.element;\n      parent(elm).each(function (parentElem) {\n        var padding = 'padding-' + Docking.getModes(header)[0];\n        if (Docking.isDocked(header)) {\n          var parentWidth = get$a(parentElem);\n          set$7(elm, 'width', parentWidth + 'px');\n          set$7(parentElem, padding, getOccupiedHeight(elm) + 'px');\n        } else {\n          remove$6(elm, 'width');\n          remove$6(parentElem, padding);\n        }\n      });\n    };\n    var updateSinkVisibility = function (sinkElem, visible) {\n      if (visible) {\n        remove$2(sinkElem, visibility.fadeOutClass);\n        add$1(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$2(sinkElem, visibility.fadeInClass);\n        add$1(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    var updateEditorClasses = function (editor, docked) {\n      var editorContainer = SugarElement.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$2(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$2(editorContainer, editorStickyOnClass);\n      }\n    };\n    var restoreFocus = function (headerElem, focusedElem) {\n      var ownerDoc = owner$4(focusedElem);\n      active(ownerDoc).filter(function (activeElm) {\n        return !eq(focusedElem, activeElm);\n      }).filter(function (activeElm) {\n        return eq(activeElm, SugarElement.fromDom(ownerDoc.dom.body)) || contains(headerElem, activeElm);\n      }).each(function () {\n        return focus$3(focusedElem);\n      });\n    };\n    var findFocusedElem = function (rootElm, lazySink) {\n      return search(rootElm).orThunk(function () {\n        return lazySink().toOptional().bind(function (sink) {\n          return search(sink.element);\n        });\n      });\n    };\n    var setup$9 = function (editor, sharedBackstage, lazyHeader) {\n      if (!editor.inline) {\n        if (!sharedBackstage.header.isPositionedAtTop()) {\n          editor.on('ResizeEditor', function () {\n            lazyHeader().each(Docking.reset);\n          });\n        }\n        editor.on('ResizeWindow ResizeEditor', function () {\n          lazyHeader().each(updateIframeContentFlow);\n        });\n        editor.on('SkinLoaded', function () {\n          lazyHeader().each(function (comp) {\n            Docking.isDocked(comp) ? Docking.reset(comp) : Docking.refresh(comp);\n          });\n        });\n        editor.on('FullscreenStateChanged', function () {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('AfterScrollIntoView', function (e) {\n        lazyHeader().each(function (header) {\n          Docking.refresh(header);\n          var headerElem = header.element;\n          if (isVisible(headerElem)) {\n            scrollFromBehindHeader(e, headerElem);\n          }\n        });\n      });\n      editor.on('PostRender', function () {\n        updateEditorClasses(editor, false);\n      });\n    };\n    var isDocked = function (lazyHeader) {\n      return lazyHeader().map(Docking.isDocked).getOr(false);\n    };\n    var getIframeBehaviours = function () {\n      var _a;\n      return [Receiving.config({ channels: (_a = {}, _a[toolbarHeightChange()] = { onReceive: updateIframeContentFlow }, _a) })];\n    };\n    var getBehaviours = function (editor, sharedBackstage) {\n      var focusedElm = value$1();\n      var lazySink = sharedBackstage.getSink;\n      var runOnSinkElement = function (f) {\n        lazySink().each(function (sink) {\n          return f(sink.element);\n        });\n      };\n      var onDockingSwitch = function (comp) {\n        if (!editor.inline) {\n          updateIframeContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(function (sink) {\n          return sink.getSystem().broadcastOn([repositionPopups()], {});\n        });\n      };\n      var additionalBehaviours = editor.inline ? [] : getIframeBehaviours();\n      return __spreadArray([\n        Focusing.config({}),\n        Docking.config({\n          contextual: __assign({\n            lazyContext: function (comp) {\n              var headerHeight = getOuter$2(comp.element);\n              var container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              var box = box$1(SugarElement.fromDom(container));\n              var boxHeight = box.height - headerHeight;\n              var topBound = box.y + (isDockedMode(comp, 'top') ? 0 : headerHeight);\n              return Optional.some(bounds(box.x, topBound, box.width, boxHeight));\n            },\n            onShow: function () {\n              runOnSinkElement(function (elem) {\n                return updateSinkVisibility(elem, true);\n              });\n            },\n            onShown: function (comp) {\n              runOnSinkElement(function (elem) {\n                return remove$1(elem, [\n                  visibility.transitionClass,\n                  visibility.fadeInClass\n                ]);\n              });\n              focusedElm.get().each(function (elem) {\n                restoreFocus(comp.element, elem);\n                focusedElm.clear();\n              });\n            },\n            onHide: function (comp) {\n              findFocusedElem(comp.element, lazySink).fold(focusedElm.clear, focusedElm.set);\n              runOnSinkElement(function (elem) {\n                return updateSinkVisibility(elem, false);\n              });\n            },\n            onHidden: function () {\n              runOnSinkElement(function (elem) {\n                return remove$1(elem, [visibility.transitionClass]);\n              });\n            }\n          }, visibility),\n          lazyViewport: function (comp) {\n            var win$1 = win();\n            var offset = getStickyToolbarOffset(editor);\n            var top = win$1.y + (isDockedMode(comp, 'top') ? offset : 0);\n            var height = win$1.height - (isDockedMode(comp, 'bottom') ? offset : 0);\n            return bounds(win$1.x, top, win$1.width, height);\n          },\n          modes: [sharedBackstage.header.getDockingMode()],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        })\n      ], additionalBehaviours, true);\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$9,\n        isDocked: isDocked,\n        getBehaviours: getBehaviours\n    });\n\n    var renderHeader = function (spec) {\n      var editor = spec.editor;\n      var getBehaviours$2 = spec.sticky ? getBehaviours : getBehaviours$1;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours$2(editor, spec.sharedBackstage))\n      };\n    };\n\n    var groupToolbarButtonSchema = objOf([\n      requiredString('type'),\n      requiredOf('items', oneOf([\n        arrOfObj([\n          requiredString('name'),\n          requiredArrayOf('items', string)\n        ]),\n        string\n      ]))\n    ].concat(baseToolbarButtonFields));\n    var createGroupToolbarButton = function (spec) {\n      return asRaw('GroupToolbarButton', groupToolbarButtonSchema, spec);\n    };\n\n    var baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ];\n\n    var MenuButtonSchema = objOf(__spreadArray([requiredString('type')], baseMenuButtonFields, true));\n    var createMenuButton = function (spec) {\n      return asRaw('menubutton', MenuButtonSchema, spec);\n    };\n\n    var splitButtonSchema = objOf([\n      requiredString('type'),\n      optionString('tooltip'),\n      optionString('icon'),\n      optionString('text'),\n      optionFunction('select'),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaulted('columns', 1),\n      requiredFunction('onAction'),\n      requiredFunction('onItemAction')\n    ]);\n    var createSplitButton = function (spec) {\n      return asRaw('SplitButton', splitButtonSchema, spec);\n    };\n\n    var factory$b = function (detail, spec) {\n      var setMenus = function (comp, menus) {\n        var newMenus = map$2(menus, function (m) {\n          var buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: function (callback) {\n              callback(m.getItems());\n            }\n          };\n          var internal = createMenuButton(buttonSpec).mapError(function (errInfo) {\n            return formatError(errInfo);\n          }).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Optional.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      var apis = {\n        focus: Keying.focusIn,\n        setMenus: setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(function (component) {\n              detail.onSetup(component);\n            }),\n            run$1(mouseover(), function (comp, se) {\n              descendant(comp.element, '.' + 'tox-mbtn--active').each(function (activeButton) {\n                closest$1(se.event.target, '.' + 'tox-mbtn').each(function (hoveredButton) {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(function (activeComp) {\n                      comp.getSystem().getByDom(hoveredButton).each(function (hoveredComp) {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run$1(focusShifted(), function (comp, se) {\n              se.event.prevFocus.bind(function (prev) {\n                return comp.getSystem().getByDom(prev).toOptional();\n              }).each(function (prev) {\n                se.event.newFocus.bind(function (nu) {\n                  return comp.getSystem().getByDom(nu).toOptional();\n                }).each(function (nu) {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: function (comp) {\n              detail.onEscape(comp);\n              return Optional.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis: apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single({\n      factory: factory$b,\n      name: 'silver.Menubar',\n      configFields: [\n        required$1('dom'),\n        required$1('uid'),\n        required$1('onEscape'),\n        required$1('backstage'),\n        defaulted('onSetup', noop)\n      ],\n      apis: {\n        focus: function (apis, comp) {\n          apis.focus(comp);\n        },\n        setMenus: function (apis, comp, menus) {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    var getAnimationRoot = function (component, slideConfig) {\n      return slideConfig.getAnimationRoot.fold(function () {\n        return component.element;\n      }, function (get) {\n        return get(component);\n      });\n    };\n\n    var getDimensionProperty = function (slideConfig) {\n      return slideConfig.dimension.property;\n    };\n    var getDimension = function (slideConfig, elem) {\n      return slideConfig.dimension.getDimension(elem);\n    };\n    var disableTransitions = function (component, slideConfig) {\n      var root = getAnimationRoot(component, slideConfig);\n      remove$1(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    var setShrunk = function (component, slideConfig) {\n      remove$2(component.element, slideConfig.openClass);\n      add$2(component.element, slideConfig.closedClass);\n      set$7(component.element, getDimensionProperty(slideConfig), '0px');\n      reflow(component.element);\n    };\n    var setGrown = function (component, slideConfig) {\n      remove$2(component.element, slideConfig.closedClass);\n      add$2(component.element, slideConfig.openClass);\n      remove$6(component.element, getDimensionProperty(slideConfig));\n    };\n    var doImmediateShrink = function (component, slideConfig, slideState, _calculatedSize) {\n      slideState.setCollapsed();\n      set$7(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n      reflow(component.element);\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    var doStartShrink = function (component, slideConfig, slideState, calculatedSize) {\n      var size = calculatedSize.getOrThunk(function () {\n        return getDimension(slideConfig, component.element);\n      });\n      slideState.setCollapsed();\n      set$7(component.element, getDimensionProperty(slideConfig), size);\n      reflow(component.element);\n      var root = getAnimationRoot(component, slideConfig);\n      remove$2(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    var doStartSmartShrink = function (component, slideConfig, slideState) {\n      var size = getDimension(slideConfig, component.element);\n      var shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Optional.some(size));\n    };\n    var doStartGrow = function (component, slideConfig, slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      var wasShrinking = has(root, slideConfig.shrinkingClass);\n      var beforeSize = getDimension(slideConfig, component.element);\n      setGrown(component, slideConfig);\n      var fullSize = getDimension(slideConfig, component.element);\n      var startPartialGrow = function () {\n        set$7(component.element, getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element);\n      };\n      var startCompleteGrow = function () {\n        setShrunk(component, slideConfig);\n      };\n      var setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$2(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$7(component.element, getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    var refresh$3 = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        remove$6(component.element, getDimensionProperty(slideConfig));\n        var fullSize = getDimension(slideConfig, component.element);\n        set$7(component.element, getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    var grow = function (component, slideConfig, slideState) {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    var shrink = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    var immediateShrink = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    var hasGrown = function (component, slideConfig, slideState) {\n      return slideState.isExpanded();\n    };\n    var hasShrunk = function (component, slideConfig, slideState) {\n      return slideState.isCollapsed();\n    };\n    var isGrowing = function (component, slideConfig, _slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.growingClass) === true;\n    };\n    var isShrinking = function (component, slideConfig, _slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.shrinkingClass) === true;\n    };\n    var isTransitioning = function (component, slideConfig, slideState) {\n      return isGrowing(component, slideConfig) || isShrinking(component, slideConfig);\n    };\n    var toggleGrow = function (component, slideConfig, slideState) {\n      var f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$3,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions\n    });\n\n    var exhibit = function (base, slideConfig, _slideState) {\n      var expanded = slideConfig.expanded;\n      return expanded ? nu$7({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$7({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    var events$4 = function (slideConfig, slideState) {\n      return derive$2([runOnSource(transitionend(), function (component, simulatedEvent) {\n          var raw = simulatedEvent.event.raw;\n          if (raw.propertyName === slideConfig.dimension.property) {\n            disableTransitions(component, slideConfig);\n            if (slideState.isExpanded()) {\n              remove$6(component.element, slideConfig.dimension.property);\n            }\n            var notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n            notify(component);\n          }\n        })]);\n    };\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit,\n        events: events$4\n    });\n\n    var SlidingSchema = [\n      required$1('closedClass'),\n      required$1('openClass'),\n      required$1('shrinkingClass'),\n      required$1('growingClass'),\n      option('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted('expanded', false),\n      requiredOf('dimension', choose$1('property', {\n        width: [\n          output$1('property', 'width'),\n          output$1('getDimension', function (elem) {\n            return get$a(elem) + 'px';\n          })\n        ],\n        height: [\n          output$1('property', 'height'),\n          output$1('getDimension', function (elem) {\n            return get$b(elem) + 'px';\n          })\n        ]\n      }))\n    ];\n\n    var init$5 = function (spec) {\n      var state = Cell(spec.expanded);\n      var readState = function () {\n        return 'expanded: ' + state.get();\n      };\n      return nu$8({\n        isExpanded: function () {\n          return state.get() === true;\n        },\n        isCollapsed: function () {\n          return state.get() === false;\n        },\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState: readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$5\n    });\n\n    var Sliding = create$8({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    var owner = 'container';\n    var schema$d = [field('slotBehaviours', [])];\n    var getPartName = function (name) {\n      return '<alloy.field.' + name + '>';\n    };\n    var sketch = function (sSpec) {\n      var parts = function () {\n        var record = [];\n        var slot = function (name, config) {\n          record.push(name);\n          return generateOne$1(owner, getPartName(name), config);\n        };\n        return {\n          slot: slot,\n          record: constant$1(record)\n        };\n      }();\n      var spec = sSpec(parts);\n      var partNames = parts.record();\n      var fieldParts = map$2(partNames, function (n) {\n        return required({\n          name: n,\n          pname: getPartName(n)\n        });\n      });\n      return composite$1(owner, schema$d, fieldParts, make$1, spec);\n    };\n    var make$1 = function (detail, components) {\n      var getSlotNames = function (_) {\n        return getAllPartNames(detail);\n      };\n      var getSlot = function (container, key) {\n        return getPart(container, detail, key);\n      };\n      var onSlot = function (f, def) {\n        return function (container, key) {\n          return getPart(container, detail, key).map(function (slot) {\n            return f(slot, key);\n          }).getOr(def);\n        };\n      };\n      var onSlots = function (f) {\n        return function (container, keys) {\n          each$1(keys, function (key) {\n            return f(container, key);\n          });\n        };\n      };\n      var doShowing = function (comp, _key) {\n        return get$d(comp.element, 'aria-hidden') !== 'true';\n      };\n      var doShow = function (comp, key) {\n        if (!doShowing(comp)) {\n          var element = comp.element;\n          remove$6(element, 'display');\n          remove$7(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      var doHide = function (comp, key) {\n        if (doShowing(comp)) {\n          var element = comp.element;\n          set$7(element, 'display', 'none');\n          set$8(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      var isShowing = onSlot(doShowing, false);\n      var hideSlot = onSlot(doHide);\n      var hideSlots = onSlots(hideSlot);\n      var hideAllSlots = function (container) {\n        return hideSlots(container, getSlotNames());\n      };\n      var showSlot = onSlot(doShow);\n      var apis = {\n        getSlotNames: getSlotNames,\n        getSlot: getSlot,\n        isShowing: isShowing,\n        hideSlot: hideSlot,\n        hideAllSlots: hideAllSlots,\n        showSlot: showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: get$2(detail.slotBehaviours),\n        apis: apis\n      };\n    };\n    var slotApis = map$1({\n      getSlotNames: function (apis, c) {\n        return apis.getSlotNames(c);\n      },\n      getSlot: function (apis, c, key) {\n        return apis.getSlot(c, key);\n      },\n      isShowing: function (apis, c, key) {\n        return apis.isShowing(c, key);\n      },\n      hideSlot: function (apis, c, key) {\n        return apis.hideSlot(c, key);\n      },\n      hideAllSlots: function (apis, c) {\n        return apis.hideAllSlots(c);\n      },\n      showSlot: function (apis, c, key) {\n        return apis.showSlot(c, key);\n      }\n    }, function (value) {\n      return makeApi(value);\n    });\n    var SlotContainer = __assign(__assign({}, slotApis), { sketch: sketch });\n\n    var sidebarSchema = objOf([\n      optionString('icon'),\n      optionString('tooltip'),\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ]);\n    var createSidebar = function (spec) {\n      return asRaw('sidebar', sidebarSchema, spec);\n    };\n\n    var setup$8 = function (editor) {\n      var sidebars = editor.ui.registry.getAll().sidebars;\n      each$1(keys(sidebars), function (name) {\n        var spec = sidebars[name];\n        var isActive = function () {\n          return is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')), name);\n        };\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: function (buttonApi) {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: function (buttonApi) {\n            var handleToggle = function () {\n              return buttonApi.setActive(isActive());\n            };\n            editor.on('ToggleSidebar', handleToggle);\n            return function () {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          }\n        });\n      });\n    };\n    var getApi = function (comp) {\n      return {\n        element: function () {\n          return comp.element.dom;\n        }\n      };\n    };\n    var makePanels = function (parts, panelConfigs) {\n      var specs = map$2(keys(panelConfigs), function (name) {\n        var spec = panelConfigs[name];\n        var bridged = getOrDie(createSidebar(spec));\n        return {\n          name: name,\n          getApi: getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map$2(specs, function (spec) {\n        var editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run$1(slotVisibility(), function (sidepanel, se) {\n              var data = se.event;\n              var optSidePanelSpec = find$5(specs, function (config) {\n                return config.name === data.name;\n              });\n              optSidePanelSpec.each(function (sidePanelSpec) {\n                var handler = data.visible ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    var makeSidebar = function (panelConfigs) {\n      return SlotContainer.sketch(function (parts) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane-container']\n          },\n          components: makePanels(parts, panelConfigs),\n          slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(function (slotContainer) {\n              return SlotContainer.hideAllSlots(slotContainer);\n            })])\n        };\n      });\n    };\n    var setSidebar = function (sidebar, panelConfigs) {\n      var optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(function (slider) {\n        return Replacing.set(slider, [makeSidebar(panelConfigs)]);\n      });\n    };\n    var toggleSidebar = function (sidebar, name) {\n      var optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(function (slider) {\n        var optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(function (slotContainer) {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n          }\n        });\n      });\n    };\n    var whichSidebar = function (sidebar) {\n      var optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(function (slider) {\n        var sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          var optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(function (slotContainer) {\n            return find$5(SlotContainer.getSlotNames(slotContainer), function (name) {\n              return SlotContainer.isShowing(slotContainer, name);\n            });\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var fixSize = generate$6('FixSizeEvent');\n    var autoSize = generate$6('AutoSizeEvent');\n    var renderSidebar = function (spec) {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar'],\n          attributes: { role: 'complementary' }\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-sidebar__slider']\n            },\n            components: [],\n            behaviours: derive$1([\n              Tabstopping.config({}),\n              Focusing.config({}),\n              Sliding.config({\n                dimension: { property: 'width' },\n                closedClass: 'tox-sidebar--sliding-closed',\n                openClass: 'tox-sidebar--sliding-open',\n                shrinkingClass: 'tox-sidebar--sliding-shrinking',\n                growingClass: 'tox-sidebar--sliding-growing',\n                onShrunk: function (slider) {\n                  var optSlotContainer = Composing.getCurrent(slider);\n                  optSlotContainer.each(SlotContainer.hideAllSlots);\n                  emit(slider, autoSize);\n                },\n                onGrown: function (slider) {\n                  emit(slider, autoSize);\n                },\n                onStartGrow: function (slider) {\n                  emitWith(slider, fixSize, { width: getRaw(slider.element, 'width').getOr('') });\n                },\n                onStartShrink: function (slider) {\n                  emitWith(slider, fixSize, { width: get$a(slider.element) + 'px' });\n                }\n              }),\n              Replacing.config({}),\n              Composing.config({\n                find: function (comp) {\n                  var children = Replacing.contents(comp);\n                  return head(children);\n                }\n              })\n            ])\n          }],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          config('sidebar-sliding-events', [\n            run$1(fixSize, function (comp, se) {\n              set$7(comp.element, 'width', se.event.width);\n            }),\n            run$1(autoSize, function (comp, _se) {\n              remove$6(comp.element, 'width');\n            })\n          ])\n        ])\n      };\n    };\n\n    var block = function (component, config, state, getBusySpec) {\n      set$8(component.element, 'aria-busy', true);\n      var root = config.getRoot(component).getOr(component);\n      var blockerBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: function () {\n            return Optional.some(true);\n          },\n          onShiftTab: function () {\n            return Optional.some(true);\n          }\n        }),\n        Focusing.config({})\n      ]);\n      var blockSpec = getBusySpec(root, blockerBehaviours);\n      var blocker = root.getSystem().build(blockSpec);\n      Replacing.append(root, premade(blocker));\n      if (blocker.hasConfigured(Keying) && config.focus) {\n        Keying.focusIn(blocker);\n      }\n      if (!state.isBlocked()) {\n        config.onBlock(component);\n      }\n      state.blockWith(function () {\n        return Replacing.remove(root, blocker);\n      });\n    };\n    var unblock = function (component, config, state) {\n      remove$7(component.element, 'aria-busy');\n      if (state.isBlocked()) {\n        config.onUnblock(component);\n      }\n      state.clear();\n    };\n\n    var BlockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        block: block,\n        unblock: unblock\n    });\n\n    var BlockingSchema = [\n      defaultedFunction('getRoot', Optional.none),\n      defaultedBoolean('focus', true),\n      onHandler('onBlock'),\n      onHandler('onUnblock')\n    ];\n\n    var init$4 = function () {\n      var blocker = destroyable();\n      var blockWith = function (destroy) {\n        blocker.set({ destroy: destroy });\n      };\n      return nu$8({\n        readState: blocker.isSet,\n        blockWith: blockWith,\n        clear: blocker.clear,\n        isBlocked: blocker.isSet\n      });\n    };\n\n    var BlockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$4\n    });\n\n    var Blocking = create$8({\n      fields: BlockingSchema,\n      name: 'blocking',\n      apis: BlockingApis,\n      state: BlockingState\n    });\n\n    var getAttrs = function (elem) {\n      var attributes = elem.dom.attributes !== undefined ? elem.dom.attributes : [];\n      return foldl(attributes, function (b, attr) {\n        var _a;\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return __assign(__assign({}, b), (_a = {}, _a[attr.name] = attr.value, _a));\n        }\n      }, {});\n    };\n    var getClasses = function (elem) {\n      return Array.prototype.slice.call(elem.dom.classList, 0);\n    };\n    var fromHtml = function (html) {\n      var elem = SugarElement.fromHtml(html);\n      var children$1 = children(elem);\n      var attrs = getAttrs(elem);\n      var classes = getClasses(elem);\n      var contents = children$1.length === 0 ? {} : { innerHtml: get$7(elem) };\n      return __assign({\n        tag: name$2(elem),\n        classes: classes,\n        attributes: attrs\n      }, contents);\n    };\n\n    var getBusySpec$1 = function (providerBackstage) {\n      return function (_root, _behaviours) {\n        return {\n          dom: {\n            tag: 'div',\n            attributes: {\n              'aria-label': providerBackstage.translate('Loading...'),\n              'tabindex': '0'\n            },\n            classes: ['tox-throbber__busy-spinner']\n          },\n          components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n        };\n      };\n    };\n    var focusBusyComponent = function (throbber) {\n      return Composing.getCurrent(throbber).each(function (comp) {\n        return focus$3(comp.element);\n      });\n    };\n    var toggleEditorTabIndex = function (editor, state) {\n      var tabIndexAttr = 'tabindex';\n      var dataTabIndexAttr = 'data-mce-' + tabIndexAttr;\n      Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(function (iframe) {\n        if (state) {\n          getOpt(iframe, tabIndexAttr).each(function (tabIndex) {\n            return set$8(iframe, dataTabIndexAttr, tabIndex);\n          });\n          set$8(iframe, tabIndexAttr, -1);\n        } else {\n          remove$7(iframe, tabIndexAttr);\n          getOpt(iframe, dataTabIndexAttr).each(function (tabIndex) {\n            set$8(iframe, tabIndexAttr, tabIndex);\n            remove$7(iframe, dataTabIndexAttr);\n          });\n        }\n      });\n    };\n    var toggleThrobber = function (editor, comp, state, providerBackstage) {\n      var element = comp.element;\n      toggleEditorTabIndex(editor, state);\n      if (state) {\n        Blocking.block(comp, getBusySpec$1(providerBackstage));\n        remove$6(element, 'display');\n        remove$7(element, 'aria-hidden');\n        if (editor.hasFocus()) {\n          focusBusyComponent(comp);\n        }\n      } else {\n        var throbberFocus = Composing.getCurrent(comp).exists(function (busyComp) {\n          return hasFocus(busyComp.element);\n        });\n        Blocking.unblock(comp);\n        set$7(element, 'display', 'none');\n        set$8(element, 'aria-hidden', 'true');\n        if (throbberFocus) {\n          editor.focus();\n        }\n      }\n    };\n    var renderThrobber = function (spec) {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          attributes: { 'aria-hidden': 'true' },\n          classes: ['tox-throbber'],\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([\n          Replacing.config({}),\n          Blocking.config({ focus: false }),\n          Composing.config({\n            find: function (comp) {\n              return head(comp.components());\n            }\n          })\n        ]),\n        components: []\n      };\n    };\n    var isFocusEvent = function (event) {\n      return event.type === 'focusin';\n    };\n    var isPasteBinTarget = function (event) {\n      if (isFocusEvent(event)) {\n        var node = event.composed ? head(event.composedPath()) : Optional.from(event.target);\n        return node.map(SugarElement.fromDom).filter(isElement$2).exists(function (targetElm) {\n          return has(targetElm, 'mce-pastebin');\n        });\n      } else {\n        return false;\n      }\n    };\n    var setup$7 = function (editor, lazyThrobber, sharedBackstage) {\n      var throbberState = Cell(false);\n      var timer = value$1();\n      var stealFocus = function (e) {\n        if (throbberState.get() && !isPasteBinTarget(e)) {\n          e.preventDefault();\n          focusBusyComponent(lazyThrobber());\n          editor.editorManager.setActive(editor);\n        }\n      };\n      if (!editor.inline) {\n        editor.on('PreInit', function () {\n          editor.dom.bind(editor.getWin(), 'focusin', stealFocus);\n          editor.on('BeforeExecCommand', function (e) {\n            if (e.command.toLowerCase() === 'mcefocus' && e.value !== true) {\n              stealFocus(e);\n            }\n          });\n        });\n      }\n      var toggle = function (state) {\n        if (state !== throbberState.get()) {\n          throbberState.set(state);\n          toggleThrobber(editor, lazyThrobber(), state, sharedBackstage.providers);\n          editor.fire('AfterProgressState', { state: state });\n        }\n      };\n      editor.on('ProgressState', function (e) {\n        timer.on(global$f.clearTimeout);\n        if (isNumber(e.time)) {\n          var timerId = global$f.setEditorTimeout(editor, function () {\n            return toggle(e.state);\n          }, e.time);\n          timer.set(timerId);\n        } else {\n          toggle(e.state);\n          timer.clear();\n        }\n      });\n    };\n\n    var generate$1 = function (xs, f) {\n      var init = {\n        len: 0,\n        list: []\n      };\n      var r = foldl(xs, function (b, a) {\n        var value = f(a, b.len);\n        return value.fold(constant$1(b), function (v) {\n          return {\n            len: v.finish,\n            list: b.list.concat([v])\n          };\n        });\n      }, init);\n      return r.list;\n    };\n\n    var output = function (within, extra, withinWidth) {\n      return {\n        within: within,\n        extra: extra,\n        withinWidth: withinWidth\n      };\n    };\n    var apportion = function (units, total, len) {\n      var parray = generate$1(units, function (unit, current) {\n        var width = len(unit);\n        return Optional.some({\n          element: unit,\n          start: current,\n          finish: current + width,\n          width: width\n        });\n      });\n      var within = filter$2(parray, function (unit) {\n        return unit.finish <= total;\n      });\n      var withinWidth = foldr(within, function (acc, el) {\n        return acc + el.width;\n      }, 0);\n      var extra = parray.slice(within.length);\n      return {\n        within: within,\n        extra: extra,\n        withinWidth: withinWidth\n      };\n    };\n    var toUnit = function (parray) {\n      return map$2(parray, function (unit) {\n        return unit.element;\n      });\n    };\n    var fitLast = function (within, extra, withinWidth) {\n      var fits = toUnit(within.concat(extra));\n      return output(fits, [], withinWidth);\n    };\n    var overflow = function (within, extra, overflower, withinWidth) {\n      var fits = toUnit(within).concat([overflower]);\n      return output(fits, toUnit(extra), withinWidth);\n    };\n    var fitAll = function (within, extra, withinWidth) {\n      return output(toUnit(within), [], withinWidth);\n    };\n    var tryFit = function (total, units, len) {\n      var divide = apportion(units, total, len);\n      return divide.extra.length === 0 ? Optional.some(divide) : Optional.none();\n    };\n    var partition = function (total, units, len, overflower) {\n      var divide = tryFit(total, units, len).getOrThunk(function () {\n        return apportion(units, total - len(overflower), len);\n      });\n      var within = divide.within;\n      var extra = divide.extra;\n      var withinWidth = divide.withinWidth;\n      if (extra.length === 1 && extra[0].width <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    var setGroups$1 = function (toolbar, storedGroups) {\n      var bGroups = map$2(storedGroups, function (g) {\n        return premade(g);\n      });\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    var findFocusedComp = function (comps) {\n      return findMap(comps, function (comp) {\n        return search(comp.element).bind(function (focusedElm) {\n          return comp.getSystem().getByDom(focusedElm).toOptional();\n        });\n      });\n    };\n    var refresh$2 = function (toolbar, detail, setOverflow) {\n      var builtGroups = detail.builtGroups.get();\n      if (builtGroups.length === 0) {\n        return;\n      }\n      var primary = getPartOrDie(toolbar, detail, 'primary');\n      var overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$7(primary.element, 'visibility', 'hidden');\n      var groups = builtGroups.concat([overflowGroup]);\n      var focusedComp = findFocusedComp(groups);\n      setOverflow([]);\n      setGroups$1(primary, groups);\n      var availableWidth = get$a(primary.element);\n      var overflows = partition(availableWidth, detail.builtGroups.get(), function (comp) {\n        return get$a(comp.element);\n      }, overflowGroup);\n      if (overflows.extra.length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        setOverflow([]);\n      } else {\n        setGroups$1(primary, overflows.within);\n        setOverflow(overflows.extra);\n      }\n      remove$6(primary.element, 'visibility');\n      reflow(primary.element);\n      focusedComp.each(Focusing.focus);\n    };\n\n    var schema$c = constant$1([\n      field('splitToolbarBehaviours', [Coupling]),\n      customField('builtGroups', function () {\n        return Cell([]);\n      })\n    ]);\n\n    var schema$b = constant$1([\n      markers$1(['overflowToggledClass']),\n      optionFunction('getOverflowBounds'),\n      required$1('lazySink'),\n      customField('overflowGroups', function () {\n        return Cell([]);\n      })\n    ].concat(schema$c()));\n    var parts$7 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      external$1({\n        schema: schema$e(),\n        name: 'overflow'\n      }),\n      external$1({ name: 'overflow-button' }),\n      external$1({ name: 'overflow-group' })\n    ]);\n\n    var expandable = constant$1(function (element, available) {\n      setMax(element, Math.floor(available));\n    });\n\n    var schema$a = constant$1([\n      markers$1(['toggledClass']),\n      required$1('lazySink'),\n      requiredFunction('fetch'),\n      optionFunction('getBounds'),\n      optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n      schema$y()\n    ]);\n    var parts$6 = constant$1([\n      external$1({\n        name: 'button',\n        overrides: function (detail) {\n          return {\n            dom: { attributes: { 'aria-haspopup': 'true' } },\n            buttonBehaviours: derive$1([Toggling.config({\n                toggleClass: detail.markers.toggledClass,\n                aria: { mode: 'expanded' },\n                toggleOnExecute: false\n              })])\n          };\n        }\n      }),\n      external$1({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'toolbar',\n        overrides: function (detail) {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: function (comp) {\n                  getPart(comp, detail, 'button').each(Focusing.focus);\n                  return Optional.none();\n                }\n              })])\n          };\n        }\n      })\n    ]);\n\n    var toggle = function (button, externals) {\n      var toolbarSandbox = Coupling.getCoupled(button, 'toolbarSandbox');\n      if (Sandboxing.isOpen(toolbarSandbox)) {\n        Sandboxing.close(toolbarSandbox);\n      } else {\n        Sandboxing.open(toolbarSandbox, externals.toolbar());\n      }\n    };\n    var position = function (button, toolbar, detail, layouts) {\n      var bounds = detail.getBounds.map(function (bounder) {\n        return bounder();\n      });\n      var sink = detail.lazySink(button).getOrDie();\n      Positioning.positionWithinBounds(sink, toolbar, {\n        anchor: {\n          type: 'hotspot',\n          hotspot: button,\n          layouts: layouts,\n          overrides: { maxWidthFunction: expandable() }\n        }\n      }, bounds);\n    };\n    var setGroups = function (button, toolbar, detail, layouts, groups) {\n      Toolbar.setGroups(toolbar, groups);\n      position(button, toolbar, detail, layouts);\n      Toggling.on(button);\n    };\n    var makeSandbox = function (button, spec, detail) {\n      var ariaOwner = manager();\n      var onOpen = function (sandbox, toolbar) {\n        detail.fetch().get(function (groups) {\n          setGroups(button, toolbar, detail, spec.layouts, groups);\n          ariaOwner.link(button.element);\n          Keying.focusIn(toolbar);\n        });\n      };\n      var onClose = function () {\n        Toggling.off(button);\n        Focusing.focus(button);\n        ariaOwner.unlink(button.element);\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaOwner.id }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: function (comp) {\n              Sandboxing.close(comp);\n              return Optional.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen: onOpen,\n            onClose: onClose,\n            isPartOf: function (container, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOf$1(button, queryElem);\n            },\n            getAttachPoint: function () {\n              return detail.lazySink(button).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: __assign(__assign({}, receivingChannel$1(__assign({ isExtraPart: never }, detail.fireDismissalEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})))), receivingChannel({\n              doReposition: function () {\n                Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n                  position(button, toolbar, detail, spec.layouts);\n                });\n              }\n            }))\n          })\n        ])\n      };\n    };\n    var factory$a = function (detail, components, spec, externals) {\n      return __assign(__assign({}, Button.sketch(__assign(__assign({}, externals.button()), {\n        action: function (button) {\n          toggle(button, externals);\n        },\n        buttonBehaviours: SketchBehaviours.augment({ dump: externals.button().buttonBehaviours }, [Coupling.config({\n            others: {\n              toolbarSandbox: function (button) {\n                return makeSandbox(button, spec, detail);\n              }\n            }\n          })])\n      }))), {\n        apis: {\n          setGroups: function (button, groups) {\n            Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n              setGroups(button, toolbar, detail, spec.layouts, groups);\n            });\n          },\n          reposition: function (button) {\n            Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n              position(button, toolbar, detail, spec.layouts);\n            });\n          },\n          toggle: function (button) {\n            toggle(button, externals);\n          },\n          getToolbar: function (button) {\n            return Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox'));\n          },\n          isOpen: function (button) {\n            return Sandboxing.isOpen(Coupling.getCoupled(button, 'toolbarSandbox'));\n          }\n        }\n      });\n    };\n    var FloatingToolbarButton = composite({\n      name: 'FloatingToolbarButton',\n      factory: factory$a,\n      configFields: schema$a(),\n      partFields: parts$6(),\n      apis: {\n        setGroups: function (apis, button, groups) {\n          apis.setGroups(button, groups);\n        },\n        reposition: function (apis, button) {\n          apis.reposition(button);\n        },\n        toggle: function (apis, button) {\n          apis.toggle(button);\n        },\n        getToolbar: function (apis, button) {\n          return apis.getToolbar(button);\n        },\n        isOpen: function (apis, button) {\n          return apis.isOpen(button);\n        }\n      }\n    });\n\n    var schema$9 = constant$1([\n      required$1('items'),\n      markers$1(['itemSelector']),\n      field('tgroupBehaviours', [Keying])\n    ]);\n    var parts$5 = constant$1([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    var factory$9 = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n            mode: 'flow',\n            selector: detail.markers.itemSelector\n          })]),\n        domModification: { attributes: { role: 'toolbar' } }\n      };\n    };\n    var ToolbarGroup = composite({\n      name: 'ToolbarGroup',\n      configFields: schema$9(),\n      partFields: parts$5(),\n      factory: factory$9\n    });\n\n    var buildGroups = function (comps) {\n      return map$2(comps, function (g) {\n        return premade(g);\n      });\n    };\n    var refresh$1 = function (toolbar, memFloatingToolbarButton, detail) {\n      refresh$2(toolbar, detail, function (overflowGroups) {\n        detail.overflowGroups.set(overflowGroups);\n        memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n          FloatingToolbarButton.setGroups(floatingToolbarButton, buildGroups(overflowGroups));\n        });\n      });\n    };\n    var factory$8 = function (detail, components, spec, externals) {\n      var memFloatingToolbarButton = record(FloatingToolbarButton.sketch({\n        fetch: function () {\n          return Future.nu(function (resolve) {\n            resolve(buildGroups(detail.overflowGroups.get()));\n          });\n        },\n        layouts: {\n          onLtr: function () {\n            return [\n              southwest$2,\n              southeast$2\n            ];\n          },\n          onRtl: function () {\n            return [\n              southeast$2,\n              southwest$2\n            ];\n          },\n          onBottomLtr: function () {\n            return [\n              northwest$2,\n              northeast$2\n            ];\n          },\n          onBottomRtl: function () {\n            return [\n              northeast$2,\n              northwest$2\n            ];\n          }\n        },\n        getBounds: spec.getOverflowBounds,\n        lazySink: detail.lazySink,\n        fireDismissalEventInstead: {},\n        markers: { toggledClass: detail.markers.overflowToggledClass },\n        parts: {\n          button: externals['overflow-button'](),\n          toolbar: externals.overflow()\n        }\n      }));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n            others: {\n              overflowGroup: function () {\n                return ToolbarGroup.sketch(__assign(__assign({}, externals['overflow-group']()), { items: [memFloatingToolbarButton.asSpec()] }));\n              }\n            }\n          })]),\n        apis: {\n          setGroups: function (toolbar, groups) {\n            detail.builtGroups.set(map$2(groups, toolbar.getSystem().build));\n            refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          refresh: function (toolbar) {\n            return refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          toggle: function (toolbar) {\n            memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n              FloatingToolbarButton.toggle(floatingToolbarButton);\n            });\n          },\n          isOpen: function (toolbar) {\n            return memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false);\n          },\n          reposition: function (toolbar) {\n            memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n              FloatingToolbarButton.reposition(floatingToolbarButton);\n            });\n          },\n          getOverflow: function (toolbar) {\n            return memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar);\n          }\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var SplitFloatingToolbar = composite({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$b(),\n      partFields: parts$7(),\n      factory: factory$8,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: function (apis, toolbar) {\n          apis.refresh(toolbar);\n        },\n        reposition: function (apis, toolbar) {\n          apis.reposition(toolbar);\n        },\n        toggle: function (apis, toolbar) {\n          apis.toggle(toolbar);\n        },\n        isOpen: function (apis, toolbar) {\n          return apis.isOpen(toolbar);\n        },\n        getOverflow: function (apis, toolbar) {\n          return apis.getOverflow(toolbar);\n        }\n      }\n    });\n\n    var schema$8 = constant$1([\n      markers$1([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    var parts$4 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'overflow',\n        overrides: function (detail) {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(function (button) {\n                    Toggling.off(button);\n                    Focusing.focus(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: function (comp) {\n                  Keying.focusIn(comp);\n                  detail.onOpened(comp);\n                },\n                onStartGrow: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Optional.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external$1({\n        name: 'overflow-button',\n        overrides: function (detail) {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                toggleClass: detail.markers.overflowToggledClass,\n                aria: { mode: 'pressed' },\n                toggleOnExecute: false\n              })])\n          };\n        }\n      }),\n      external$1({ name: 'overflow-group' })\n    ]);\n\n    var isOpen = function (toolbar, detail) {\n      return getPart(toolbar, detail, 'overflow').map(Sliding.hasGrown).getOr(false);\n    };\n    var toggleToolbar = function (toolbar, detail) {\n      getPart(toolbar, detail, 'overflow-button').bind(function () {\n        return getPart(toolbar, detail, 'overflow');\n      }).each(function (overf) {\n        refresh(toolbar, detail);\n        Sliding.toggleGrow(overf);\n      });\n    };\n    var refresh = function (toolbar, detail) {\n      getPart(toolbar, detail, 'overflow').each(function (overflow) {\n        refresh$2(toolbar, detail, function (groups) {\n          var builtGroups = map$2(groups, function (g) {\n            return premade(g);\n          });\n          Toolbar.setGroups(overflow, builtGroups);\n        });\n        getPart(toolbar, detail, 'overflow-button').each(function (button) {\n          if (Sliding.hasGrown(overflow)) {\n            Toggling.on(button);\n          }\n        });\n        Sliding.refresh(overflow);\n      });\n    };\n    var factory$7 = function (detail, components, spec, externals) {\n      var toolbarToggleEvent = 'alloy.toolbar.toggle';\n      var doSetGroups = function (toolbar, groups) {\n        var built = map$2(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: {\n              overflowGroup: function (toolbar) {\n                return ToolbarGroup.sketch(__assign(__assign({}, externals['overflow-group']()), {\n                  items: [Button.sketch(__assign(__assign({}, externals['overflow-button']()), {\n                      action: function (_button) {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    }))]\n                }));\n              }\n            }\n          }),\n          config('toolbar-toggle-events', [run$1(toolbarToggleEvent, function (toolbar) {\n              toggleToolbar(toolbar, detail);\n            })])\n        ]),\n        apis: {\n          setGroups: function (toolbar, groups) {\n            doSetGroups(toolbar, groups);\n            refresh(toolbar, detail);\n          },\n          refresh: function (toolbar) {\n            return refresh(toolbar, detail);\n          },\n          toggle: function (toolbar) {\n            return toggleToolbar(toolbar, detail);\n          },\n          isOpen: function (toolbar) {\n            return isOpen(toolbar, detail);\n          }\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var SplitSlidingToolbar = composite({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$8(),\n      partFields: parts$4(),\n      factory: factory$7,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: function (apis, toolbar) {\n          apis.refresh(toolbar);\n        },\n        toggle: function (apis, toolbar) {\n          apis.toggle(toolbar);\n        },\n        isOpen: function (apis, toolbar) {\n          return apis.isOpen(toolbar);\n        }\n      }\n    });\n\n    var renderToolbarGroupCommon = function (toolbarGroup) {\n      var attributes = toolbarGroup.title.fold(function () {\n        return {};\n      }, function (title) {\n        return { attributes: { title: title } };\n      });\n      return {\n        dom: __assign({\n          tag: 'div',\n          classes: ['tox-toolbar__group']\n        }, attributes),\n        components: [ToolbarGroup.parts.items({})],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), ' + '.tox-split-button:not([disabled]), ' + '.tox-toolbar-nav-js:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    var renderToolbarGroup = function (toolbarGroup) {\n      return ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    };\n    var getToolbarbehaviours = function (toolbarSpec, modeName) {\n      var onAttached = runOnAttached(function (component) {\n        var groups = map$2(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),\n        receivingConfig(),\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached])\n      ]);\n    };\n    var renderMoreToolbarCommon = function (toolbarSpec) {\n      var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Optional.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            name: 'more',\n            icon: Optional.some('more-drawer'),\n            disabled: false,\n            tooltip: Optional.some('More...'),\n            primary: false,\n            borderless: false\n          }, Optional.none(), toolbarSpec.providers)\n        },\n        splitToolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      };\n    };\n    var renderFloatingMoreToolbar = function (toolbarSpec) {\n      var baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      var overflowXOffset = 4;\n      var primary = SplitFloatingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch(__assign(__assign({}, baseSpec), {\n        lazySink: toolbarSpec.getSink,\n        getOverflowBounds: function () {\n          var headerElem = toolbarSpec.moreDrawerData.lazyHeader().element;\n          var headerBounds = absolute$2(headerElem);\n          var docElem = documentElement(headerElem);\n          var docBounds = absolute$2(docElem);\n          var height = Math.max(docElem.dom.scrollHeight, docBounds.height);\n          return bounds(headerBounds.x + overflowXOffset, docBounds.y, headerBounds.width - overflowXOffset * 2, height);\n        },\n        parts: __assign(__assign({}, baseSpec.parts), {\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: toolbarSpec.attributes\n            }\n          }\n        }),\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' }\n      }));\n    };\n    var renderSlidingMoreToolbar = function (toolbarSpec) {\n      var primary = SplitSlidingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      var overflow = SplitSlidingToolbar.parts.overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      var baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      return SplitSlidingToolbar.sketch(__assign(__assign({}, baseSpec), {\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: function (comp) {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n        },\n        onClosed: function (comp) {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n        }\n      }));\n    };\n    var renderToolbar = function (toolbarSpec) {\n      var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar'].concat(toolbarSpec.type === ToolbarMode.scrolling ? ['tox-toolbar--scrolling'] : [])\n        },\n        components: [Toolbar.parts.groups({})],\n        toolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      });\n    };\n\n    var factory$6 = function (detail, components, _spec) {\n      var apis = {\n        getSocket: function (comp) {\n          return parts$a.getPart(comp, detail, 'socket');\n        },\n        setSidebar: function (comp, panelConfigs) {\n          parts$a.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n            return setSidebar(sidebar, panelConfigs);\n          });\n        },\n        toggleSidebar: function (comp, name) {\n          parts$a.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n            return toggleSidebar(sidebar, name);\n          });\n        },\n        whichSidebar: function (comp) {\n          return parts$a.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: function (comp) {\n          return parts$a.getPart(comp, detail, 'header');\n        },\n        getToolbar: function (comp) {\n          return parts$a.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: function (comp, groups) {\n          parts$a.getPart(comp, detail, 'toolbar').each(function (toolbar) {\n            toolbar.getApis().setGroups(toolbar, groups);\n          });\n        },\n        setToolbars: function (comp, toolbars) {\n          parts$a.getPart(comp, detail, 'multiple-toolbar').each(function (mToolbar) {\n            CustomList.setItems(mToolbar, toolbars);\n          });\n        },\n        refreshToolbar: function (comp) {\n          var toolbar = parts$a.getPart(comp, detail, 'toolbar');\n          toolbar.each(function (toolbar) {\n            return toolbar.getApis().refresh(toolbar);\n          });\n        },\n        toggleToolbarDrawer: function (comp) {\n          parts$a.getPart(comp, detail, 'toolbar').each(function (toolbar) {\n            mapFrom(toolbar.getApis().toggle, function (toggle) {\n              return toggle(toolbar);\n            });\n          });\n        },\n        isToolbarDrawerToggled: function (comp) {\n          return parts$a.getPart(comp, detail, 'toolbar').bind(function (toolbar) {\n            return Optional.from(toolbar.getApis().isOpen).map(function (isOpen) {\n              return isOpen(toolbar);\n            });\n          }).getOr(false);\n        },\n        getThrobber: function (comp) {\n          return parts$a.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: function (comp) {\n          var optToolbar = parts$a.getPart(comp, detail, 'toolbar').orThunk(function () {\n            return parts$a.getPart(comp, detail, 'multiple-toolbar');\n          });\n          optToolbar.each(function (toolbar) {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: function (comp, menus) {\n          parts$a.getPart(comp, detail, 'menubar').each(function (menubar) {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: function (comp) {\n          parts$a.getPart(comp, detail, 'menubar').each(function (menubar) {\n            SilverMenubar.focus(menubar);\n          });\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: apis,\n        behaviours: detail.behaviours\n      };\n    };\n    var partMenubar = partType.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [required$1('backstage')]\n    });\n    var toolbarFactory = function (spec) {\n      if (spec.type === ToolbarMode.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.type === ToolbarMode.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    var partMultipleToolbar = partType.optional({\n      factory: {\n        sketch: function (spec) {\n          return CustomList.sketch({\n            uid: spec.uid,\n            dom: spec.dom,\n            listBehaviours: derive$1([Keying.config({\n                mode: 'acyclic',\n                selector: '.tox-toolbar'\n              })]),\n            makeItem: function () {\n              return renderToolbar({\n                type: spec.type,\n                uid: generate$6('multiple-toolbar-item'),\n                cyclicKeying: false,\n                initGroups: [],\n                providers: spec.providers,\n                onEscape: function () {\n                  spec.onEscape();\n                  return Optional.some(true);\n                }\n              });\n            },\n            setupItem: function (_mToolbar, tc, data, _index) {\n              Toolbar.setGroups(tc, data);\n            },\n            shell: true\n          });\n        }\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape')\n      ]\n    });\n    var partToolbar = partType.optional({\n      factory: {\n        sketch: function (spec) {\n          var renderer = toolbarFactory(spec);\n          var toolbarSpec = {\n            type: spec.type,\n            uid: spec.uid,\n            onEscape: function () {\n              spec.onEscape();\n              return Optional.some(true);\n            },\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            providers: spec.providers,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            },\n            attributes: spec.attributes\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape'),\n        required$1('getSink')\n      ]\n    });\n    var partHeader = partType.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [required$1('dom')]\n    });\n    var partSocket = partType.optional({\n      name: 'socket',\n      schema: [required$1('dom')]\n    });\n    var partSidebar = partType.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [required$1('dom')]\n    });\n    var partThrobber = partType.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [required$1('dom')]\n    });\n    var OuterContainer = composite({\n      name: 'OuterContainer',\n      factory: factory$6,\n      configFields: [\n        required$1('dom'),\n        required$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partThrobber\n      ],\n      apis: {\n        getSocket: function (apis, comp) {\n          return apis.getSocket(comp);\n        },\n        setSidebar: function (apis, comp, panelConfigs) {\n          apis.setSidebar(comp, panelConfigs);\n        },\n        toggleSidebar: function (apis, comp, name) {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: function (apis, comp) {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: function (apis, comp) {\n          return apis.getHeader(comp);\n        },\n        getToolbar: function (apis, comp) {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: function (apis, comp, grps) {\n          var groups = map$2(grps, function (grp) {\n            return renderToolbarGroup(grp);\n          });\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: function (apis, comp, ts) {\n          var renderedToolbars = map$2(ts, function (g) {\n            return map$2(g, renderToolbarGroup);\n          });\n          apis.setToolbars(comp, renderedToolbars);\n        },\n        refreshToolbar: function (apis, comp) {\n          return apis.refreshToolbar(comp);\n        },\n        toggleToolbarDrawer: function (apis, comp) {\n          apis.toggleToolbarDrawer(comp);\n        },\n        isToolbarDrawerToggled: function (apis, comp) {\n          return apis.isToolbarDrawerToggled(comp);\n        },\n        getThrobber: function (apis, comp) {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: function (apis, comp, menus) {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: function (apis, comp) {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: function (apis, comp) {\n          apis.focusToolbar(comp);\n        }\n      }\n    });\n\n    var defaultMenubar = 'file edit view insert format tools table help';\n    var defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | export print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'spellchecker spellcheckerlanguage | a11ycheck code wordcount'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable | cell row column | advtablesort | tableprops deletetable'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    var make = function (menu, registry, editor) {\n      var removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: function () {\n          return bind$3(menu.items, function (i) {\n            var itemName = i.toLowerCase();\n            if (itemName.trim().length === 0) {\n              return [];\n            } else if (exists(removedMenuItems, function (removedMenuItem) {\n                return removedMenuItem === itemName;\n              })) {\n              return [];\n            } else if (itemName === 'separator' || itemName === '|') {\n              return [{ type: 'separator' }];\n            } else if (registry.menuItems[itemName]) {\n              return [registry.menuItems[itemName]];\n            } else {\n              return [];\n            }\n          });\n        }\n      };\n    };\n    var parseItemsString = function (items) {\n      if (typeof items === 'string') {\n        return items.split(' ');\n      }\n      return items;\n    };\n    var identifyMenus = function (editor, registry) {\n      var rawMenuData = __assign(__assign({}, defaultMenus), registry.menus);\n      var userDefinedMenus = keys(registry.menus).length > 0;\n      var menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      var validMenus = filter$2(menubar, function (menuName) {\n        var isDefaultMenu = has$2(defaultMenus, menuName);\n        if (userDefinedMenus) {\n          return isDefaultMenu || get$e(registry.menus, menuName).exists(function (menu) {\n            return has$2(menu, 'items');\n          });\n        } else {\n          return isDefaultMenu;\n        }\n      });\n      var menus = map$2(validMenus, function (menuName) {\n        var menuData = rawMenuData[menuName];\n        return make({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter$2(menus, function (menu) {\n        var isNotSeparator = function (item) {\n          return item.type !== 'separator';\n        };\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    var fireSkinLoaded = function (editor) {\n      var done = function () {\n        editor._skinLoaded = true;\n        fireSkinLoaded$1(editor);\n      };\n      return function () {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    var fireSkinLoadError = function (editor, err) {\n      return function () {\n        return fireSkinLoadError$1(editor, { message: err });\n      };\n    };\n\n    var loadStylesheet = function (editor, stylesheetUrl, styleSheetLoader) {\n      return new global$c(function (resolve, reject) {\n        styleSheetLoader.load(stylesheetUrl, resolve, reject);\n        editor.on('remove', function () {\n          return styleSheetLoader.unload(stylesheetUrl);\n        });\n      });\n    };\n    var loadUiSkins = function (editor, skinUrl) {\n      var skinUiCss = skinUrl + '/skin.min.css';\n      return loadStylesheet(editor, skinUiCss, editor.ui.styleSheetLoader);\n    };\n    var loadShadowDomUiSkins = function (editor, skinUrl) {\n      var isInShadowRoot$1 = isInShadowRoot(SugarElement.fromDom(editor.getElement()));\n      if (isInShadowRoot$1) {\n        var shadowDomSkinCss = skinUrl + '/skin.shadowdom.min.css';\n        return loadStylesheet(editor, shadowDomSkinCss, global$b.DOM.styleSheetLoader);\n      } else {\n        return global$c.resolve();\n      }\n    };\n    var loadSkin = function (isInline, editor) {\n      var skinUrl = getSkinUrl(editor);\n      if (skinUrl) {\n        editor.contentCSS.push(skinUrl + (isInline ? '/content.inline' : '/content') + '.min.css');\n      }\n      if (isSkinDisabled(editor) === false && isString(skinUrl)) {\n        global$c.all([\n          loadUiSkins(editor, skinUrl),\n          loadShadowDomUiSkins(editor, skinUrl)\n        ]).then(fireSkinLoaded(editor), fireSkinLoadError(editor, 'Skin could not be loaded'));\n      } else {\n        fireSkinLoaded(editor)();\n      }\n    };\n    var iframe = curry(loadSkin, false);\n    var inline = curry(loadSkin, true);\n\n    var onSetupFormatToggle = function (editor, name) {\n      return function (api) {\n        var boundCallback = unbindable();\n        var init = function () {\n          api.setActive(editor.formatter.match(name));\n          var binding = editor.formatter.formatChanged(name, api.setActive);\n          boundCallback.set(binding);\n        };\n        editor.initialized ? init() : editor.once('init', init);\n        return function () {\n          editor.off('init', init);\n          boundCallback.clear();\n        };\n      };\n    };\n    var onSetupEvent = function (editor, event, f) {\n      return function (api) {\n        var handleEvent = function () {\n          return f(api);\n        };\n        var init = function () {\n          f(api);\n          editor.on(event, handleEvent);\n        };\n        editor.initialized ? init() : editor.once('init', init);\n        return function () {\n          editor.off('init', init);\n          editor.off(event, handleEvent);\n        };\n      };\n    };\n    var onActionToggleFormat$1 = function (editor) {\n      return function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('mceToggleFormat', false, rawItem.format);\n          });\n        };\n      };\n    };\n    var onActionExecCommand = function (editor, command) {\n      return function () {\n        return editor.execCommand(command);\n      };\n    };\n\n    var generateSelectItems = function (_editor, backstage, spec) {\n      var generateItem = function (rawItem, response, disabled, value) {\n        var translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Optional.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          var items = bind$3(rawItem.getStyleItems(), function (si) {\n            return validate(si, response, value);\n          });\n          if (response === 0 && items.length <= 0) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              disabled: items.length <= 0,\n              getSubmenuItems: function () {\n                return bind$3(rawItem.getStyleItems(), function (si) {\n                  return validate(si, response, value);\n                });\n              }\n            });\n          }\n        } else {\n          return Optional.some(__assign({\n            type: 'togglemenuitem',\n            text: translatedText,\n            icon: rawItem.icon,\n            active: rawItem.isSelected(value),\n            disabled: disabled,\n            onAction: spec.onAction(rawItem)\n          }, rawItem.getStylePreview().fold(function () {\n            return {};\n          }, function (preview) {\n            return { meta: { style: preview } };\n          })));\n        }\n      };\n      var validate = function (item, response, value) {\n        var invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      var validateItems = function (preItems) {\n        var value = spec.getCurrentValue();\n        var response = spec.shouldHide ? 0 : 1;\n        return bind$3(preItems, function (item) {\n          return validate(item, response, value);\n        });\n      };\n      var getFetch = function (backstage, getStyleItems) {\n        return function (comp, callback) {\n          var preItems = getStyleItems();\n          var items = validateItems(preItems);\n          var menu = build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false);\n          callback(menu);\n        };\n      };\n      return {\n        validateItems: validateItems,\n        getFetch: getFetch\n      };\n    };\n    var createMenuItems = function (editor, backstage, spec) {\n      var dataset = spec.dataset;\n      var getStyleItems = dataset.type === 'basic' ? function () {\n        return map$2(dataset.data, function (d) {\n          return processBasic(d, spec.isSelectedFor, spec.getPreviewFor);\n        });\n      } : dataset.getData;\n      return {\n        items: generateSelectItems(editor, backstage, spec),\n        getStyleItems: getStyleItems\n      };\n    };\n    var createSelectButton = function (editor, backstage, spec) {\n      var _a = createMenuItems(editor, backstage, spec), items = _a.items, getStyleItems = _a.getStyleItems;\n      var getApi = function (comp) {\n        return { getComponent: constant$1(comp) };\n      };\n      var onSetup = onSetupEvent(editor, 'NodeChange', function (api) {\n        var comp = api.getComponent();\n        spec.updateText(comp);\n      });\n      return renderCommonDropdown({\n        text: spec.icon.isSome() ? Optional.none() : spec.text,\n        icon: spec.icon,\n        tooltip: Optional.from(spec.tooltip),\n        role: Optional.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup: onSetup,\n        getApi: getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: []\n      }, 'tox-tbtn', backstage.shared);\n    };\n\n    var process = function (rawFormats) {\n      return map$2(rawFormats, function (item) {\n        var title = item, format = item;\n        var values = item.split('=');\n        if (values.length > 1) {\n          title = values[0];\n          format = values[1];\n        }\n        return {\n          title: title,\n          format: format\n        };\n      });\n    };\n    var buildBasicStaticDataset = function (data) {\n      return {\n        type: 'basic',\n        data: data\n      };\n    };\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    var split = function (rawFormats, delimiter) {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    var buildBasicSettingsDataset = function (editor, settingName, defaults, delimiter) {\n      var rawFormats = editor.getParam(settingName, defaults, 'string');\n      var data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data: data\n      };\n    };\n\n    var alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft',\n        command: 'JustifyLeft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter',\n        command: 'JustifyCenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright',\n        command: 'JustifyRight'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify',\n        command: 'JustifyFull'\n      }\n    ];\n    var getSpec$4 = function (editor) {\n      var getMatchingValue = function () {\n        return find$5(alignMenuItems, function (item) {\n          return editor.formatter.match(item.format);\n        });\n      };\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (_format) {\n        return Optional.none;\n      };\n      var updateSelectMenuIcon = function (comp) {\n        var match = getMatchingValue();\n        var alignment = match.fold(constant$1('left'), function (item) {\n          return item.title.toLowerCase();\n        });\n        emitWith(comp, updateMenuIcon, { icon: 'align-' + alignment });\n      };\n      var dataset = buildBasicStaticDataset(alignMenuItems);\n      var onAction = function (rawItem) {\n        return function () {\n          return find$5(alignMenuItems, function (item) {\n            return item.format === rawItem.format;\n          }).each(function (item) {\n            return editor.execCommand(item.command);\n          });\n        };\n      };\n      return {\n        tooltip: 'Align',\n        text: Optional.none(),\n        icon: Optional.some('align-left'),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onAction,\n        updateText: updateSelectMenuIcon,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        }\n      };\n    };\n    var createAlignSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$4(editor));\n    };\n    var alignSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$4(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate('Align'),\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';\n    var systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    var splitFonts = function (fontFamily) {\n      var fonts = fontFamily.split(/\\s*,\\s*/);\n      return map$2(fonts, function (font) {\n        return font.replace(/^['\"]+|['\"]+$/g, '');\n      });\n    };\n    var isSystemFontStack = function (fontFamily) {\n      var matchesSystemStack = function () {\n        var fonts = splitFonts(fontFamily.toLowerCase());\n        return forall(systemStackFonts, function (font) {\n          return fonts.indexOf(font.toLowerCase()) > -1;\n        });\n      };\n      return fontFamily.indexOf('-apple-system') === 0 && matchesSystemStack();\n    };\n    var getSpec$3 = function (editor) {\n      var systemFont = 'System Font';\n      var getMatchingValue = function () {\n        var getFirstFont = function (fontFamily) {\n          return fontFamily ? splitFonts(fontFamily)[0] : '';\n        };\n        var fontFamily = editor.queryCommandValue('FontName');\n        var items = dataset.data;\n        var font = fontFamily ? fontFamily.toLowerCase() : '';\n        var matchOpt = find$5(items, function (item) {\n          var format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(function () {\n          return someIf(isSystemFontStack(font), {\n            title: systemFont,\n            format: font\n          });\n        });\n        return {\n          matchOpt: matchOpt,\n          font: fontFamily\n        };\n      };\n      var isSelectedFor = function (item) {\n        return function (valueOpt) {\n          return valueOpt.exists(function (value) {\n            return value.format === item;\n          });\n        };\n      };\n      var getCurrentValue = function () {\n        var matchOpt = getMatchingValue().matchOpt;\n        return matchOpt;\n      };\n      var getPreviewFor = function (item) {\n        return function () {\n          return Optional.some({\n            tag: 'div',\n            styles: item.indexOf('dings') === -1 ? { 'font-family': item } : {}\n          });\n        };\n      };\n      var onAction = function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('FontName', false, rawItem.format);\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var _a = getMatchingValue(), matchOpt = _a.matchOpt, font = _a.font;\n        var text = matchOpt.fold(constant$1(font), function (item) {\n          return item.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'font_formats', defaultFontsFormats, Delimiter.SemiColon);\n      return {\n        tooltip: 'Fonts',\n        text: Optional.some(systemFont),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: getCurrentValue,\n        getPreviewFor: getPreviewFor,\n        onAction: onAction,\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    var createFontSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$3(editor));\n    };\n    var fontSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('fontformats', {\n        text: backstage.shared.providers.translate('Fonts'),\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';\n    var legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    var keywordFontSizes = {\n      'xx-small': '7pt',\n      'x-small': '8pt',\n      'small': '10pt',\n      'medium': '12pt',\n      'large': '14pt',\n      'x-large': '18pt',\n      'xx-large': '24pt'\n    };\n    var round = function (number, precision) {\n      var factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    var toPt = function (fontSize, precision) {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      } else {\n        return get$e(keywordFontSizes, fontSize).getOr(fontSize);\n      }\n    };\n    var toLegacy = function (fontSize) {\n      return get$e(legacyFontSizes, fontSize).getOr('');\n    };\n    var getSpec$2 = function (editor) {\n      var getMatchingValue = function () {\n        var matchOpt = Optional.none();\n        var items = dataset.data;\n        var fontSize = editor.queryCommandValue('FontSize');\n        if (fontSize) {\n          var _loop_1 = function (precision) {\n            var pt = toPt(fontSize, precision);\n            var legacy = toLegacy(pt);\n            matchOpt = find$5(items, function (item) {\n              return item.format === fontSize || item.format === pt || item.format === legacy;\n            });\n          };\n          for (var precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            _loop_1(precision);\n          }\n        }\n        return {\n          matchOpt: matchOpt,\n          size: fontSize\n        };\n      };\n      var isSelectedFor = function (item) {\n        return function (valueOpt) {\n          return valueOpt.exists(function (value) {\n            return value.format === item;\n          });\n        };\n      };\n      var getCurrentValue = function () {\n        var matchOpt = getMatchingValue().matchOpt;\n        return matchOpt;\n      };\n      var getPreviewFor = constant$1(Optional.none);\n      var onAction = function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('FontSize', false, rawItem.format);\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var _a = getMatchingValue(), matchOpt = _a.matchOpt, size = _a.size;\n        var text = matchOpt.fold(constant$1(size), function (match) {\n          return match.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'fontsize_formats', defaultFontsizeFormats, Delimiter.Space);\n      return {\n        tooltip: 'Font sizes',\n        text: Optional.some('12pt'),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getPreviewFor: getPreviewFor,\n        getCurrentValue: getCurrentValue,\n        onAction: onAction,\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    var createFontsizeSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$2(editor));\n    };\n    var fontsizeSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontsizes', {\n        text: 'Font sizes',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var findNearest = function (editor, getStyles) {\n      var styles = getStyles();\n      var formats = map$2(styles, function (style) {\n        return style.format;\n      });\n      return Optional.from(editor.formatter.closest(formats)).bind(function (fmt) {\n        return find$5(styles, function (data) {\n          return data.format === fmt;\n        });\n      }).orThunk(function () {\n        return someIf(editor.formatter.match('p'), {\n          title: 'Paragraph',\n          format: 'p'\n        });\n      });\n    };\n\n    var defaultBlocks = 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre';\n    var getSpec$1 = function (editor) {\n      var fallbackFormat = 'Paragraph';\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var detectedFormat = findNearest(editor, function () {\n          return dataset.data;\n        });\n        var text = detectedFormat.fold(constant$1(fallbackFormat), function (fmt) {\n          return fmt.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'block_formats', defaultBlocks, Delimiter.SemiColon);\n      return {\n        tooltip: 'Blocks',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        }\n      };\n    };\n    var createFormatSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$1(editor));\n    };\n    var formatSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('blockformats', {\n        text: 'Blocks',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var getSpec = function (editor, dataset) {\n      var fallbackFormat = 'Paragraph';\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return fmt !== undefined ? Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          }) : Optional.none();\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var getFormatItems = function (fmt) {\n          var subs = fmt.items;\n          return subs !== undefined && subs.length > 0 ? bind$3(subs, getFormatItems) : [{\n              title: fmt.title,\n              format: fmt.format\n            }];\n        };\n        var flattenedItems = bind$3(getStyleFormats(editor), getFormatItems);\n        var detectedFormat = findNearest(editor, constant$1(flattenedItems));\n        var text = detectedFormat.fold(constant$1(fallbackFormat), function (fmt) {\n          return fmt.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      return {\n        tooltip: 'Formats',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        shouldHide: editor.getParam('style_formats_autohide', false, 'boolean'),\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        },\n        dataset: dataset\n      };\n    };\n    var createStyleSelect = function (editor, backstage) {\n      var dataset = __assign({ type: 'advanced' }, backstage.styleselect);\n      return createSelectButton(editor, backstage, getSpec(editor, dataset));\n    };\n    var styleSelectMenu = function (editor, backstage) {\n      var dataset = __assign({ type: 'advanced' }, backstage.styleselect);\n      var menuItems = createMenuItems(editor, backstage, getSpec(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('formats', {\n        text: 'Formats',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var events$3 = function (reflectingConfig, reflectingState) {\n      var update = function (component, data) {\n        reflectingConfig.updateState.each(function (updateState) {\n          var newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(function (renderComponents) {\n          var newComponents = renderComponents(data, reflectingState.get());\n          var newChildren = map$2(newComponents, component.getSystem().build);\n          replaceChildren(component, newChildren);\n        });\n      };\n      return derive$2([\n        run$1(receive(), function (component, message) {\n          var receivingData = message;\n          if (!receivingData.universal) {\n            var channel = reflectingConfig.channel;\n            if (contains$2(receivingData.channels, channel)) {\n              update(component, receivingData.data);\n            }\n          }\n        }),\n        runOnAttached(function (comp, _se) {\n          reflectingConfig.initialData.each(function (rawData) {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$3\n    });\n\n    var getState = function (component, replaceConfig, reflectState) {\n      return reflectState;\n    };\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getState: getState\n    });\n\n    var ReflectingSchema = [\n      required$1('channel'),\n      option('renderComponents'),\n      option('updateState'),\n      option('initialData')\n    ];\n\n    var init$3 = function () {\n      var cell = Cell(Optional.none());\n      var clear = function () {\n        return cell.set(Optional.none());\n      };\n      var readState = function () {\n        return cell.get().getOr('none');\n      };\n      return {\n        readState: readState,\n        get: cell.get,\n        set: cell.set,\n        clear: clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$3\n    });\n\n    var Reflecting = create$8({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    var schema$7 = constant$1([\n      required$1('toggleClass'),\n      required$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      onStrictHandler('onItemExecute'),\n      option('lazySink'),\n      required$1('dom'),\n      onHandler('onOpen'),\n      field('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      defaulted('eventOrder', {}),\n      option('role')\n    ].concat(sandboxFields()));\n    var arrowPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'arrow',\n      defaults: function () {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: function (detail) {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: function (arrow) {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    var buttonPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'button',\n      defaults: function () {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: function (detail) {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: function (btn) {\n            btn.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    var parts$3 = constant$1([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: function (spec) {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: function (detail) {\n          return {\n            onExecute: function (tmenu, item) {\n              tmenu.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType$1()\n    ]);\n\n    var factory$5 = function (detail, components, spec, externals) {\n      var _a;\n      var switchToMenu = function (sandbox) {\n        Composing.getCurrent(sandbox).each(function (current) {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      var action = function (component) {\n        var onOpenSync = switchToMenu;\n        togglePopup(detail, identity$1, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      var openMenu = function (comp) {\n        action(comp);\n        return Optional.some(true);\n      };\n      var executeOnButton = function (comp) {\n        var button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Optional.some(true);\n      };\n      var buttonEvents = __assign(__assign({}, derive$2([runOnAttached(function (component, _simulatedEvent) {\n          var ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n          ariaDescriptor.each(function (descriptor) {\n            var descriptorId = generate$6('aria');\n            set$8(descriptor.element, 'id', descriptorId);\n            set$8(component.element, 'aria-describedby', descriptorId);\n          });\n        })])), events$a(Optional.some(action)));\n      var apis = {\n        repositionMenus: function (comp) {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: apis,\n        eventOrder: __assign(__assign({}, detail.eventOrder), (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'toggling',\n          'alloy.base.behaviour'\n        ], _a)),\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: function (hotspot) {\n                var arrow = getPartOrDie(hotspot, detail, 'arrow');\n                var extras = {\n                  onOpen: function () {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: function () {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox$1(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    var SplitDropdown = composite({\n      name: 'SplitDropdown',\n      configFields: schema$7(),\n      partFields: parts$3(),\n      factory: factory$5,\n      apis: {\n        repositionMenus: function (apis, comp) {\n          return apis.repositionMenus(comp);\n        }\n      }\n    });\n\n    var getButtonApi = function (component) {\n      return {\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n    var getToggleApi = function (component) {\n      return {\n        setActive: function (state) {\n          Toggling.set(component, state);\n        },\n        isActive: function () {\n          return Toggling.isOn(component);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n    var getTooltipAttributes = function (tooltip, providersBackstage) {\n      return tooltip.map(function (tooltip) {\n        return {\n          'aria-label': providersBackstage.translate(tooltip),\n          'title': providersBackstage.translate(tooltip)\n        };\n      }).getOr({});\n    };\n    var focusButtonEvent = generate$6('focus-button');\n    var renderCommonStructure = function (icon, text, tooltip, receiver, behaviours, providersBackstage) {\n      var _d;\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(text.isSome() ? ['tox-tbtn--select'] : []),\n          attributes: getTooltipAttributes(tooltip, providersBackstage)\n        },\n        components: componentRenderPipeline([\n          icon.map(function (iconName) {\n            return renderIconFromPack(iconName, providersBackstage.icons);\n          }),\n          text.map(function (text) {\n            return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n          })\n        ]),\n        eventOrder: (_d = {}, _d[mousedown()] = [\n          'focusing',\n          'alloy.base.behaviour',\n          'common-button-display-events'\n        ], _d),\n        buttonBehaviours: derive$1([\n          DisablingConfigs.toolbarButton(providersBackstage.isDisabled),\n          receivingConfig(),\n          config('common-button-display-events', [run$1(mousedown(), function (button, se) {\n              se.event.prevent();\n              emit(button, focusButtonEvent);\n            })])\n        ].concat(receiver.map(function (r) {\n          return Reflecting.config({\n            channel: r,\n            initialData: {\n              icon: icon,\n              text: text\n            },\n            renderComponents: function (data, _state) {\n              return componentRenderPipeline([\n                data.icon.map(function (iconName) {\n                  return renderIconFromPack(iconName, providersBackstage.icons);\n                }),\n                data.text.map(function (text) {\n                  return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n                })\n              ]);\n            }\n          });\n        }).toArray()).concat(behaviours.getOr([])))\n      };\n    };\n    var renderFloatingToolbarButton = function (spec, backstage, identifyButtons, attributes) {\n      var sharedBackstage = backstage.shared;\n      return FloatingToolbarButton.sketch({\n        lazySink: sharedBackstage.getSink,\n        fetch: function () {\n          return Future.nu(function (resolve) {\n            resolve(map$2(identifyButtons(spec.items), renderToolbarGroup));\n          });\n        },\n        markers: { toggledClass: 'tox-tbtn--enabled' },\n        parts: {\n          button: renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), sharedBackstage.providers),\n          toolbar: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: attributes\n            }\n          }\n        }\n      });\n    };\n    var renderCommonToolbarButton = function (spec, specialisation, providersBackstage) {\n      var editorOffCell = Cell(noop);\n      var structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), providersBackstage);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: derive$1([\n          config('toolbar-button-events', [\n            onToolbarButtonExecute({\n              onAction: spec.onAction,\n              getApi: specialisation.getApi\n            }),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          DisablingConfigs.toolbarButton(function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }),\n          receivingConfig()\n        ].concat(specialisation.toolbarButtonBehaviours))\n      });\n    };\n    var renderToolbarButton = function (spec, providersBackstage) {\n      return renderToolbarButtonWith(spec, providersBackstage, []);\n    };\n    var renderToolbarButtonWith = function (spec, providersBackstage, bonusEvents) {\n      return renderCommonToolbarButton(spec, {\n        toolbarButtonBehaviours: [].concat(bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : []),\n        getApi: getButtonApi,\n        onSetup: spec.onSetup\n      }, providersBackstage);\n    };\n    var renderToolbarToggleButton = function (spec, providersBackstage) {\n      return renderToolbarToggleButtonWith(spec, providersBackstage, []);\n    };\n    var renderToolbarToggleButtonWith = function (spec, providersBackstage, bonusEvents) {\n      return deepMerge(renderCommonToolbarButton(spec, {\n        toolbarButtonBehaviours: [\n          Replacing.config({}),\n          Toggling.config({\n            toggleClass: 'tox-tbtn--enabled',\n            aria: { mode: 'pressed' },\n            toggleOnExecute: false\n          })\n        ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n        getApi: getToggleApi,\n        onSetup: spec.onSetup\n      }, providersBackstage));\n    };\n    var fetchChoices = function (getApi, spec, providersBackstage) {\n      return function (comp) {\n        return Future.nu(function (callback) {\n          return spec.fetch(callback);\n        }).map(function (items) {\n          return Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n            spec.onItemAction(getApi(comp), value);\n          }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), providersBackstage), {\n            movement: deriveMenuMovement(spec.columns, spec.presets),\n            menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached(function (comp, _se) {\n                detectSize(comp, 4, classForPreset(spec.presets)).each(function (_d) {\n                  var numRows = _d.numRows, numColumns = _d.numColumns;\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              })])\n          })));\n        });\n      };\n    };\n    var renderSplitButton = function (spec, sharedBackstage) {\n      var _d;\n      var displayChannel = generate$6('channel-update-split-dropdown-display');\n      var getApi = function (comp) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(comp);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(comp, state);\n          },\n          setIconFill: function (id, value) {\n            descendant(comp.element, 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n              set$8(underlinePath, 'fill', value);\n            });\n          },\n          setIconStroke: function (id, value) {\n            descendant(comp.element, 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n              set$8(underlinePath, 'stroke', value);\n            });\n          },\n          setActive: function (state) {\n            set$8(comp.element, 'aria-pressed', state);\n            descendant(comp.element, 'span').each(function (button) {\n              comp.getSystem().getByDom(button).each(function (buttonComp) {\n                return Toggling.set(buttonComp, state);\n              });\n            });\n          },\n          isActive: function () {\n            return descendant(comp.element, 'span').exists(function (button) {\n              return comp.getSystem().getByDom(button).exists(Toggling.isOn);\n            });\n          }\n        };\n      };\n      var editorOffCell = Cell(noop);\n      var specialisation = {\n        getApi: getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: __assign({ 'aria-pressed': false }, getTooltipAttributes(spec.tooltip, sharedBackstage.providers))\n        },\n        onExecute: function (button) {\n          spec.onAction(getApi(button));\n        },\n        onItemExecute: function (_a, _b, _c) {\n        },\n        splitDropdownBehaviours: derive$1([\n          DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          config('split-dropdown-events', [\n            run$1(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          Unselecting.config({})\n        ]),\n        eventOrder: (_d = {}, _d[attachedToDom()] = [\n          'alloy.base.behaviour',\n          'split-dropdown-events'\n        ], _d),\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts.button(renderCommonStructure(spec.icon, spec.text, Optional.none(), Optional.some(displayChannel), Optional.some([Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            })]), sharedBackstage.providers)),\n          SplitDropdown.parts.arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$1('chevron-down', sharedBackstage.providers.icons)\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n              receivingConfig(),\n              addFocusableBehaviour()\n            ])\n          }),\n          SplitDropdown.parts['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    var defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styleselect']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    var renderFromBridge = function (bridgeBuilder, render) {\n      return function (spec, extras, editor) {\n        var internal = bridgeBuilder(spec).mapError(function (errInfo) {\n          return formatError(errInfo);\n        }).getOrDie();\n        return render(internal, extras, editor);\n      };\n    };\n    var types = {\n      button: renderFromBridge(createToolbarButton, function (s, extras) {\n        return renderToolbarButton(s, extras.backstage.shared.providers);\n      }),\n      togglebutton: renderFromBridge(createToggleButton, function (s, extras) {\n        return renderToolbarToggleButton(s, extras.backstage.shared.providers);\n      }),\n      menubutton: renderFromBridge(createMenuButton, function (s, extras) {\n        return renderMenuButton(s, 'tox-tbtn', extras.backstage, Optional.none());\n      }),\n      splitbutton: renderFromBridge(createSplitButton, function (s, extras) {\n        return renderSplitButton(s, extras.backstage.shared);\n      }),\n      grouptoolbarbutton: renderFromBridge(createGroupToolbarButton, function (s, extras, editor) {\n        var _a;\n        var buttons = editor.ui.registry.getAll().buttons;\n        var identify = function (toolbar) {\n          return identifyButtons(editor, {\n            buttons: buttons,\n            toolbar: toolbar,\n            allowToolbarGroups: false\n          }, extras, Optional.none());\n        };\n        var attributes = (_a = {}, _a[Attribute] = extras.backstage.shared.header.isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop, _a);\n        switch (getToolbarMode(editor)) {\n        case ToolbarMode.floating:\n          return renderFloatingToolbarButton(s, extras.backstage, identify, attributes);\n        default:\n          throw new Error('Toolbar groups are only supported when using floating toolbar mode');\n        }\n      }),\n      styleSelectButton: function (editor, extras) {\n        return createStyleSelect(editor, extras.backstage);\n      },\n      fontsizeSelectButton: function (editor, extras) {\n        return createFontsizeSelect(editor, extras.backstage);\n      },\n      fontSelectButton: function (editor, extras) {\n        return createFontSelect(editor, extras.backstage);\n      },\n      formatButton: function (editor, extras) {\n        return createFormatSelect(editor, extras.backstage);\n      },\n      alignMenuButton: function (editor, extras) {\n        return createAlignSelect(editor, extras.backstage);\n      }\n    };\n    var extractFrom = function (spec, extras, editor) {\n      return get$e(types, spec.type).fold(function () {\n        console.error('skipping button defined by', spec);\n        return Optional.none();\n      }, function (render) {\n        return Optional.some(render(spec, extras, editor));\n      });\n    };\n    var bespokeButtons = {\n      styleselect: types.styleSelectButton,\n      fontsizeselect: types.fontsizeSelectButton,\n      fontselect: types.fontSelectButton,\n      formatselect: types.formatButton,\n      align: types.alignMenuButton\n    };\n    var removeUnusedDefaults = function (buttons) {\n      var filteredItemGroups = map$2(defaultToolbar, function (group) {\n        var items = filter$2(group.items, function (subItem) {\n          return has$2(buttons, subItem) || has$2(bespokeButtons, subItem);\n        });\n        return {\n          name: group.name,\n          items: items\n        };\n      });\n      return filter$2(filteredItemGroups, function (group) {\n        return group.items.length > 0;\n      });\n    };\n    var convertStringToolbar = function (strToolbar) {\n      var groupsStrings = strToolbar.split('|');\n      return map$2(groupsStrings, function (g) {\n        return { items: g.trim().split(' ') };\n      });\n    };\n    var isToolbarGroupSettingArray = function (toolbar) {\n      return isArrayOf(toolbar, function (t) {\n        return has$2(t, 'name') && has$2(t, 'items');\n      });\n    };\n    var createToolbar = function (toolbarConfig) {\n      var toolbar = toolbarConfig.toolbar;\n      var buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    var lookupButton = function (editor, buttons, toolbarItem, allowToolbarGroups, extras, prefixes) {\n      return get$e(buttons, toolbarItem.toLowerCase()).orThunk(function () {\n        return prefixes.bind(function (ps) {\n          return findMap(ps, function (prefix) {\n            return get$e(buttons, prefix + toolbarItem.toLowerCase());\n          });\n        });\n      }).fold(function () {\n        return get$e(bespokeButtons, toolbarItem.toLowerCase()).map(function (r) {\n          return r(editor, extras);\n        }).orThunk(function () {\n          return Optional.none();\n        });\n      }, function (spec) {\n        if (spec.type === 'grouptoolbarbutton' && !allowToolbarGroups) {\n          console.warn('Ignoring the \\'' + toolbarItem + '\\' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.');\n          return Optional.none();\n        } else {\n          return extractFrom(spec, extras, editor);\n        }\n      });\n    };\n    var identifyButtons = function (editor, toolbarConfig, extras, prefixes) {\n      var toolbarGroups = createToolbar(toolbarConfig);\n      var groups = map$2(toolbarGroups, function (group) {\n        var items = bind$3(group.items, function (toolbarItem) {\n          return toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, toolbarConfig.allowToolbarGroups, extras, prefixes).toArray();\n        });\n        return {\n          title: Optional.from(editor.translate(group.name)),\n          items: items\n        };\n      });\n      return filter$2(groups, function (group) {\n        return group.items.length > 0;\n      });\n    };\n\n    var setToolbar = function (editor, uiComponents, rawUiConfig, backstage) {\n      var comp = uiComponents.outerContainer;\n      var toolbarConfig = rawUiConfig.toolbar;\n      var toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        var toolbars = toolbarConfig.map(function (t) {\n          var config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig,\n            allowToolbarGroups: rawUiConfig.allowToolbarGroups\n          };\n          return identifyButtons(editor, config, { backstage: backstage }, Optional.none());\n        });\n        OuterContainer.setToolbars(comp, toolbars);\n      } else {\n        OuterContainer.setToolbar(comp, identifyButtons(editor, rawUiConfig, { backstage: backstage }, Optional.none()));\n      }\n    };\n\n    var detection = detect$1();\n    var isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    var setupEvents$1 = function (editor, uiComponents) {\n      var dom = editor.dom;\n      var contentWindow = editor.getWin();\n      var initialDocEle = editor.getDoc().documentElement;\n      var lastWindowDimensions = Cell(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n      var lastDocumentDimensions = Cell(SugarPosition(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      var resizeWindow = function () {\n        var outer = lastWindowDimensions.get();\n        if (outer.left !== contentWindow.innerWidth || outer.top !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n          fireResizeContent(editor);\n        }\n      };\n      var resizeDocument = function () {\n        var docEle = editor.getDoc().documentElement;\n        var inner = lastDocumentDimensions.get();\n        if (inner.left !== docEle.offsetWidth || inner.top !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth, docEle.offsetHeight));\n          fireResizeContent(editor);\n        }\n      };\n      var scroll = function (e) {\n        return fireScrollContent(editor, e);\n      };\n      dom.bind(contentWindow, 'resize', resizeWindow);\n      dom.bind(contentWindow, 'scroll', scroll);\n      var elementLoad = capture(SugarElement.fromDom(editor.getBody()), 'load', resizeDocument);\n      var mothership = uiComponents.uiMothership.element;\n      editor.on('hide', function () {\n        set$7(mothership, 'display', 'none');\n      });\n      editor.on('show', function () {\n        remove$6(mothership, 'display');\n      });\n      editor.on('NodeChange', resizeDocument);\n      editor.on('remove', function () {\n        elementLoad.unbind();\n        dom.unbind(contentWindow, 'resize', resizeWindow);\n        dom.unbind(contentWindow, 'scroll', scroll);\n        contentWindow = null;\n      });\n    };\n    var render$1 = function (editor, uiComponents, rawUiConfig, backstage, args) {\n      var lastToolbarWidth = Cell(0);\n      var outerContainer = uiComponents.outerContainer;\n      iframe(editor);\n      var eTargetNode = SugarElement.fromDom(args.targetNode);\n      var uiRoot = getContentContainer(getRootNode(eTargetNode));\n      attachSystemAfter(eTargetNode, uiComponents.mothership);\n      attachSystem(uiRoot, uiComponents.uiMothership);\n      editor.on('PostRender', function () {\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        OuterContainer.setSidebar(outerContainer, rawUiConfig.sidebar);\n        setupEvents$1(editor, uiComponents);\n      });\n      var socket = OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12) {\n        setAll(socket.element, {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        var limit = first(function () {\n          editor.fire('ScrollContent');\n        }, 20);\n        var unbinder = bind(socket.element, 'scroll', limit.throttle);\n        editor.on('remove', unbinder.unbind);\n      }\n      setupReadonlyModeSwitch(editor, uiComponents);\n      editor.addCommand('ToggleSidebar', function (_ui, value) {\n        OuterContainer.toggleSidebar(outerContainer, value);\n        editor.fire('ToggleSidebar');\n      });\n      editor.addQueryValueHandler('ToggleSidebar', function () {\n        return OuterContainer.whichSidebar(outerContainer);\n      });\n      var toolbarMode = getToolbarMode(editor);\n      var refreshDrawer = function () {\n        OuterContainer.refreshToolbar(uiComponents.outerContainer);\n      };\n      if (toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', function () {\n          var width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      var api = {\n        enable: function () {\n          broadcastReadonly(uiComponents, false);\n        },\n        disable: function () {\n          broadcastReadonly(uiComponents, true);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(outerContainer);\n        }\n      };\n      return {\n        iframeContainer: socket.element.dom,\n        editorContainer: outerContainer.element.dom,\n        api: api\n      };\n    };\n\n    var Iframe = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render$1\n    });\n\n    var parseToInt = function (val) {\n      var re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Optional.some(parseInt('' + val, 10));\n      }\n      return Optional.none();\n    };\n    var numToPx = function (val) {\n      return isNumber(val) ? val + 'px' : val;\n    };\n    var calcCappedSize = function (size, minSize, maxSize) {\n      var minOverride = minSize.filter(function (min) {\n        return size < min;\n      });\n      var maxOverride = maxSize.filter(function (max) {\n        return size > max;\n      });\n      return minOverride.or(maxOverride).getOr(size);\n    };\n\n    var getHeight = function (editor) {\n      var baseHeight = getHeightSetting(editor);\n      var minHeight = getMinHeightSetting(editor);\n      var maxHeight = getMaxHeightSetting(editor);\n      return parseToInt(baseHeight).map(function (height) {\n        return calcCappedSize(height, minHeight, maxHeight);\n      });\n    };\n    var getHeightWithFallback = function (editor) {\n      var height = getHeight(editor);\n      return height.getOr(getHeightSetting(editor));\n    };\n    var getWidth = function (editor) {\n      var baseWidth = getWidthSetting(editor);\n      var minWidth = getMinWidthSetting(editor);\n      var maxWidth = getMaxWidthSetting(editor);\n      return parseToInt(baseWidth).map(function (width) {\n        return calcCappedSize(width, minWidth, maxWidth);\n      });\n    };\n    var getWidthWithFallback = function (editor) {\n      var width = getWidth(editor);\n      return width.getOr(getWidthSetting(editor));\n    };\n\n    var InlineHeader = function (editor, targetElm, uiComponents, backstage, floatContainer) {\n      var uiMothership = uiComponents.uiMothership, outerContainer = uiComponents.outerContainer;\n      var DOM = global$b.DOM;\n      var useFixedToolbarContainer = useFixedContainer(editor);\n      var isSticky = isStickyToolbar(editor);\n      var editorMaxWidthOpt = getMaxWidthSetting(editor).or(getWidth(editor));\n      var headerBackstage = backstage.shared.header;\n      var isPositionedAtTop = headerBackstage.isPositionedAtTop;\n      var toolbarMode = getToolbarMode(editor);\n      var isSplitToolbar = toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating;\n      var visible = Cell(false);\n      var isVisible = function () {\n        return visible.get() && !editor.removed;\n      };\n      var calcToolbarOffset = function (toolbar) {\n        return isSplitToolbar ? toolbar.fold(constant$1(0), function (tbar) {\n          return tbar.components().length > 1 ? get$b(tbar.components()[1].element) : 0;\n        }) : 0;\n      };\n      var calcMode = function (container) {\n        switch (getToolbarLocation(editor)) {\n        case ToolbarLocation.auto:\n          var toolbar_1 = OuterContainer.getToolbar(outerContainer);\n          var offset = calcToolbarOffset(toolbar_1);\n          var toolbarHeight = get$b(container.element) - offset;\n          var targetBounds = box$1(targetElm);\n          var roomAtTop = targetBounds.y > toolbarHeight;\n          if (roomAtTop) {\n            return 'top';\n          } else {\n            var doc = documentElement(targetElm);\n            var docHeight = Math.max(doc.dom.scrollHeight, get$b(doc));\n            var roomAtBottom = targetBounds.bottom < docHeight - toolbarHeight;\n            if (roomAtBottom) {\n              return 'bottom';\n            } else {\n              var winBounds = win();\n              var isRoomAtBottomViewport = winBounds.bottom < targetBounds.bottom - toolbarHeight;\n              return isRoomAtBottomViewport ? 'bottom' : 'top';\n            }\n          }\n        case ToolbarLocation.bottom:\n          return 'bottom';\n        case ToolbarLocation.top:\n        default:\n          return 'top';\n        }\n      };\n      var setupMode = function (mode) {\n        var container = floatContainer.get();\n        Docking.setModes(container, [mode]);\n        headerBackstage.setDockingMode(mode);\n        var verticalDir = isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop;\n        set$8(container.element, Attribute, verticalDir);\n      };\n      var updateChromeWidth = function () {\n        var maxWidth = editorMaxWidthOpt.getOrThunk(function () {\n          var bodyMargin = parseToInt(get$c(body(), 'margin-left')).getOr(0);\n          return get$a(body()) - absolute$3(targetElm).left + bodyMargin;\n        });\n        set$7(floatContainer.get().element, 'max-width', maxWidth + 'px');\n      };\n      var updateChromePosition = function () {\n        var toolbar = OuterContainer.getToolbar(outerContainer);\n        var offset = calcToolbarOffset(toolbar);\n        var targetBounds = box$1(targetElm);\n        var top = isPositionedAtTop() ? Math.max(targetBounds.y - get$b(floatContainer.get().element) + offset, 0) : targetBounds.bottom;\n        setAll(outerContainer.element, {\n          position: 'absolute',\n          top: Math.round(top) + 'px',\n          left: Math.round(targetBounds.x) + 'px'\n        });\n      };\n      var repositionPopups$1 = function () {\n        uiMothership.broadcastOn([repositionPopups()], {});\n      };\n      var updateChromeUi = function (resetDocking) {\n        if (resetDocking === void 0) {\n          resetDocking = false;\n        }\n        if (!isVisible()) {\n          return;\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromeWidth();\n        }\n        if (isSplitToolbar) {\n          OuterContainer.refreshToolbar(outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromePosition();\n        }\n        if (isSticky) {\n          var floatContainerComp = floatContainer.get();\n          resetDocking ? Docking.reset(floatContainerComp) : Docking.refresh(floatContainerComp);\n        }\n        repositionPopups$1();\n      };\n      var updateMode = function (updateUi) {\n        if (updateUi === void 0) {\n          updateUi = true;\n        }\n        if (useFixedToolbarContainer || !isSticky || !isVisible()) {\n          return;\n        }\n        var currentMode = headerBackstage.getDockingMode();\n        var newMode = calcMode(floatContainer.get());\n        if (newMode !== currentMode) {\n          setupMode(newMode);\n          if (updateUi) {\n            updateChromeUi(true);\n          }\n        }\n      };\n      var show = function () {\n        visible.set(true);\n        set$7(outerContainer.element, 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        remove$6(uiMothership.element, 'display');\n        updateMode(false);\n        updateChromeUi();\n      };\n      var hide = function () {\n        visible.set(false);\n        if (uiComponents.outerContainer) {\n          set$7(outerContainer.element, 'display', 'none');\n          DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        }\n        set$7(uiMothership.element, 'display', 'none');\n      };\n      return {\n        isVisible: isVisible,\n        isPositionedAtTop: isPositionedAtTop,\n        show: show,\n        hide: hide,\n        update: updateChromeUi,\n        updateMode: updateMode,\n        repositionPopups: repositionPopups$1\n      };\n    };\n\n    var getTargetPosAndBounds = function (targetElm, isToolbarTop) {\n      var bounds = box$1(targetElm);\n      return {\n        pos: isToolbarTop ? bounds.y : bounds.bottom,\n        bounds: bounds\n      };\n    };\n    var setupEvents = function (editor, targetElm, ui, toolbarPersist) {\n      var prevPosAndBounds = Cell(getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()));\n      var resizeContent = function (e) {\n        var _a = getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()), pos = _a.pos, bounds = _a.bounds;\n        var _b = prevPosAndBounds.get(), prevPos = _b.pos, prevBounds = _b.bounds;\n        var hasResized = bounds.height !== prevBounds.height || bounds.width !== prevBounds.width;\n        prevPosAndBounds.set({\n          pos: pos,\n          bounds: bounds\n        });\n        if (hasResized) {\n          fireResizeContent(editor, e);\n        }\n        if (ui.isVisible()) {\n          if (prevPos !== pos) {\n            ui.update(true);\n          } else if (hasResized) {\n            ui.updateMode();\n            ui.repositionPopups();\n          }\n        }\n      };\n      if (!toolbarPersist) {\n        editor.on('activate', ui.show);\n        editor.on('deactivate', ui.hide);\n      }\n      editor.on('SkinLoaded ResizeWindow', function () {\n        return ui.update(true);\n      });\n      editor.on('NodeChange keydown', function (e) {\n        global$f.requestAnimationFrame(function () {\n          return resizeContent(e);\n        });\n      });\n      editor.on('ScrollWindow', function () {\n        return ui.updateMode();\n      });\n      var elementLoad = unbindable();\n      elementLoad.set(capture(SugarElement.fromDom(editor.getBody()), 'load', resizeContent));\n      editor.on('remove', function () {\n        elementLoad.clear();\n      });\n    };\n    var render = function (editor, uiComponents, rawUiConfig, backstage, args) {\n      var mothership = uiComponents.mothership, uiMothership = uiComponents.uiMothership, outerContainer = uiComponents.outerContainer;\n      var floatContainer = Cell(null);\n      var targetElm = SugarElement.fromDom(args.targetNode);\n      var ui = InlineHeader(editor, targetElm, uiComponents, backstage, floatContainer);\n      var toolbarPersist = isToolbarPersist(editor);\n      inline(editor);\n      var render = function () {\n        if (floatContainer.get()) {\n          ui.show();\n          return;\n        }\n        floatContainer.set(OuterContainer.getHeader(outerContainer).getOrDie());\n        var uiContainer = getUiContainer(editor);\n        attachSystem(uiContainer, mothership);\n        attachSystem(uiContainer, uiMothership);\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        ui.show();\n        setupEvents(editor, targetElm, ui, toolbarPersist);\n        editor.nodeChanged();\n      };\n      editor.on('show', render);\n      editor.on('hide', ui.hide);\n      if (!toolbarPersist) {\n        editor.on('focus', render);\n        editor.on('blur', ui.hide);\n      }\n      editor.on('init', function () {\n        if (editor.hasFocus() || toolbarPersist) {\n          render();\n        }\n      });\n      setupReadonlyModeSwitch(editor, uiComponents);\n      var api = {\n        show: function () {\n          ui.show();\n        },\n        hide: function () {\n          ui.hide();\n        },\n        enable: function () {\n          broadcastReadonly(uiComponents, false);\n        },\n        disable: function () {\n          broadcastReadonly(uiComponents, true);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(outerContainer);\n        }\n      };\n      return {\n        editorContainer: outerContainer.element.dom,\n        api: api\n      };\n    };\n\n    var Inline = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render\n    });\n\n    var showContextToolbarEvent = 'contexttoolbar-show';\n    var hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    var getFormApi = function (input) {\n      return {\n        hide: function () {\n          return emit(input, sandboxClose());\n        },\n        getValue: function () {\n          return Representing.getValue(input);\n        }\n      };\n    };\n    var runOnExecute = function (memInput, original) {\n      return run$1(internalToolbarButtonExecute, function (comp, se) {\n        var input = memInput.get(comp);\n        var formApi = getFormApi(input);\n        original.onAction(formApi, se.event.buttonApi);\n      });\n    };\n    var renderContextButton = function (memInput, button, extras) {\n      var _a = button.original; _a.primary; var rest = __rest(_a, ['primary']);\n      var bridged = getOrDie(createToolbarButton(__assign(__assign({}, rest), {\n        type: 'button',\n        onAction: noop\n      })));\n      return renderToolbarButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    var renderContextToggleButton = function (memInput, button, extras) {\n      var _a = button.original; _a.primary; var rest = __rest(_a, ['primary']);\n      var bridged = getOrDie(createToggleButton(__assign(__assign({}, rest), {\n        type: 'togglebutton',\n        onAction: noop\n      })));\n      return renderToolbarToggleButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    var generateOne = function (memInput, button, providersBackstage) {\n      var extras = { backstage: { shared: { providers: providersBackstage } } };\n      if (button.type === 'contextformtogglebutton') {\n        return renderContextToggleButton(memInput, button, extras);\n      } else {\n        return renderContextButton(memInput, button, extras);\n      }\n    };\n    var generate = function (memInput, buttons, providersBackstage) {\n      var mementos = map$2(buttons, function (button) {\n        return record(generateOne(memInput, button, providersBackstage));\n      });\n      var asSpecs = function () {\n        return map$2(mementos, function (mem) {\n          return mem.asSpec();\n        });\n      };\n      var findPrimary = function (compInSystem) {\n        return findMap(buttons, function (button, i) {\n          if (button.primary) {\n            return Optional.from(mementos[i]).bind(function (mem) {\n              return mem.getOpt(compInSystem);\n            }).filter(not(Disabling.isDisabled));\n          } else {\n            return Optional.none();\n          }\n        });\n      };\n      return {\n        asSpecs: asSpecs,\n        findPrimary: findPrimary\n      };\n    };\n\n    var buildInitGroups = function (ctx, providers) {\n      var inputAttributes = ctx.label.fold(function () {\n        return {};\n      }, function (label) {\n        return { 'aria-label': label };\n      });\n      var memInput = record(Input.sketch({\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        data: ctx.initValue(),\n        inputAttributes: inputAttributes,\n        selectOnFocus: true,\n        inputBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onEnter: function (input) {\n              return commands.findPrimary(input).map(function (primary) {\n                emitExecute(primary);\n                return true;\n              });\n            },\n            onLeft: function (comp, se) {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: function (comp, se) {\n              se.cut();\n              return Optional.none();\n            }\n          })])\n      }));\n      var commands = generate(memInput, ctx.commands, providers);\n      return [\n        {\n          title: Optional.none(),\n          items: [memInput.asSpec()]\n        },\n        {\n          title: Optional.none(),\n          items: commands.asSpecs()\n        }\n      ];\n    };\n    var renderContextForm = function (toolbarType, ctx, providers) {\n      return renderToolbar({\n        type: toolbarType,\n        uid: generate$6('context-toolbar'),\n        initGroups: buildInitGroups(ctx, providers),\n        onEscape: Optional.none,\n        cyclicKeying: true,\n        providers: providers\n      });\n    };\n    var ContextForm = {\n      renderContextForm: renderContextForm,\n      buildInitGroups: buildInitGroups\n    };\n\n    var isVerticalOverlap = function (a, b, threshold) {\n      if (threshold === void 0) {\n        threshold = 0.01;\n      }\n      return b.bottom - a.y >= threshold && a.bottom - b.y >= threshold;\n    };\n    var getRangeRect = function (rng) {\n      var rect = rng.getBoundingClientRect();\n      if (rect.height <= 0 && rect.width <= 0) {\n        var leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset).element;\n        var elm = isText$1(leaf$1) ? parent(leaf$1) : Optional.some(leaf$1);\n        return elm.filter(isElement$2).map(function (e) {\n          return e.dom.getBoundingClientRect();\n        }).getOr(rect);\n      } else {\n        return rect;\n      }\n    };\n    var getSelectionBounds = function (editor) {\n      var rng = editor.selection.getRng();\n      var rect = getRangeRect(rng);\n      if (editor.inline) {\n        var scroll_1 = get$9();\n        return bounds(scroll_1.left + rect.left, scroll_1.top + rect.top, rect.width, rect.height);\n      } else {\n        var bodyPos = absolute$2(SugarElement.fromDom(editor.getBody()));\n        return bounds(bodyPos.x + rect.left, bodyPos.y + rect.top, rect.width, rect.height);\n      }\n    };\n    var getAnchorElementBounds = function (editor, lastElement) {\n      return lastElement.filter(inBody).map(absolute$2).getOrThunk(function () {\n        return getSelectionBounds(editor);\n      });\n    };\n    var getHorizontalBounds = function (contentAreaBox, viewportBounds, margin) {\n      var x = Math.max(contentAreaBox.x + margin, viewportBounds.x);\n      var right = Math.min(contentAreaBox.right - margin, viewportBounds.right);\n      return {\n        x: x,\n        width: right - x\n      };\n    };\n    var getVerticalBounds = function (editor, contentAreaBox, viewportBounds, isToolbarLocationTop, toolbarType, margin) {\n      var container = SugarElement.fromDom(editor.getContainer());\n      var header = descendant(container, '.tox-editor-header').getOr(container);\n      var headerBox = box$1(header);\n      var isToolbarBelowContentArea = headerBox.y >= contentAreaBox.bottom;\n      var isToolbarAbove = isToolbarLocationTop && !isToolbarBelowContentArea;\n      if (editor.inline && isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: viewportBounds.bottom\n        };\n      }\n      if (editor.inline && !isToolbarAbove) {\n        return {\n          y: viewportBounds.y,\n          bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n        };\n      }\n      var containerBounds = toolbarType === 'line' ? box$1(container) : contentAreaBox;\n      if (isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: Math.min(containerBounds.bottom - margin, viewportBounds.bottom)\n        };\n      }\n      return {\n        y: Math.max(containerBounds.y + margin, viewportBounds.y),\n        bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n      };\n    };\n    var getContextToolbarBounds = function (editor, sharedBackstage, toolbarType, margin) {\n      if (margin === void 0) {\n        margin = 0;\n      }\n      var viewportBounds = getBounds$3(window);\n      var contentAreaBox = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n      var toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      var _a = getHorizontalBounds(contentAreaBox, viewportBounds, margin), x = _a.x, width = _a.width;\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return bounds(x, viewportBounds.y, width, viewportBounds.height);\n      } else {\n        var isToolbarTop = sharedBackstage.header.isPositionedAtTop();\n        var _b = getVerticalBounds(editor, contentAreaBox, viewportBounds, isToolbarTop, toolbarType, margin), y = _b.y, bottom = _b.bottom;\n        return bounds(x, y, width, bottom - y);\n      }\n    };\n\n    var bubbleSize$1 = 12;\n    var bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top'],\n      inset: ['tox-pop--inset']\n    };\n    var anchorOverrides = {\n      maxHeightFunction: expandable$1(),\n      maxWidthFunction: expandable()\n    };\n    var isEntireElementSelected = function (editor, elem) {\n      var rng = editor.selection.getRng();\n      var leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      return rng.startContainer === rng.endContainer && rng.startOffset === rng.endOffset - 1 && eq(leaf$1.element, elem);\n    };\n    var preservePosition = function (elem, position, f) {\n      var currentPosition = getRaw(elem, 'position');\n      set$7(elem, 'position', position);\n      var result = f(elem);\n      currentPosition.each(function (pos) {\n        return set$7(elem, 'position', pos);\n      });\n      return result;\n    };\n    var shouldUseInsetLayouts = function (position) {\n      return position === 'node';\n    };\n    var determineInsetLayout = function (editor, contextbar, elem, data, bounds) {\n      var selectionBounds = getSelectionBounds(editor);\n      var isSameAnchorElement = data.lastElement().exists(function (prev) {\n        return eq(elem, prev);\n      });\n      if (isEntireElementSelected(editor, elem)) {\n        return isSameAnchorElement ? preserve : north;\n      } else if (isSameAnchorElement) {\n        return preservePosition(contextbar, data.getMode(), function () {\n          var isOverlapping = isVerticalOverlap(selectionBounds, box$1(contextbar));\n          return isOverlapping && !data.isReposition() ? flip$2 : preserve;\n        });\n      } else {\n        var yBounds = data.getMode() === 'fixed' ? bounds.y + get$9().top : bounds.y;\n        var contextbarHeight = get$b(contextbar) + bubbleSize$1;\n        return yBounds + contextbarHeight <= selectionBounds.y ? north : south;\n      }\n    };\n    var getAnchorSpec$2 = function (editor, mobile, data, position) {\n      var smartInsetLayout = function (elem) {\n        return function (anchor, element, bubbles, placee, bounds) {\n          var layout = determineInsetLayout(editor, placee, elem, data, bounds);\n          var newAnchor = __assign(__assign({}, anchor), {\n            y: bounds.y,\n            height: bounds.height\n          });\n          return __assign(__assign({}, layout(newAnchor, element, bubbles, placee, bounds)), { alwaysFit: true });\n        };\n      };\n      var getInsetLayouts = function (elem) {\n        return shouldUseInsetLayouts(position) ? [smartInsetLayout(elem)] : [];\n      };\n      var desktopAnchorSpecLayouts = {\n        onLtr: function (elem) {\n          return [\n            north$2,\n            south$2,\n            northeast$2,\n            southeast$2,\n            northwest$2,\n            southwest$2\n          ].concat(getInsetLayouts(elem));\n        },\n        onRtl: function (elem) {\n          return [\n            north$2,\n            south$2,\n            northwest$2,\n            southwest$2,\n            northeast$2,\n            southeast$2\n          ].concat(getInsetLayouts(elem));\n        }\n      };\n      var mobileAnchorSpecLayouts = {\n        onLtr: function (elem) {\n          return [\n            south$2,\n            southeast$2,\n            southwest$2,\n            northeast$2,\n            northwest$2,\n            north$2\n          ].concat(getInsetLayouts(elem));\n        },\n        onRtl: function (elem) {\n          return [\n            south$2,\n            southwest$2,\n            southeast$2,\n            northwest$2,\n            northeast$2,\n            north$2\n          ].concat(getInsetLayouts(elem));\n        }\n      };\n      return mobile ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts;\n    };\n    var getAnchorLayout = function (editor, position, isTouch, data) {\n      if (position === 'line') {\n        return {\n          bubble: nu$5(bubbleSize$1, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: function () {\n              return [east$2];\n            },\n            onRtl: function () {\n              return [west$2];\n            }\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$5(0, bubbleSize$1, bubbleAlignments$1, 1 / bubbleSize$1),\n          layouts: getAnchorSpec$2(editor, isTouch, data, position),\n          overrides: anchorOverrides\n        };\n      }\n    };\n\n    var matchTargetWith = function (elem, candidates) {\n      var ctxs = filter$2(candidates, function (toolbarApi) {\n        return toolbarApi.predicate(elem.dom);\n      });\n      var _a = partition$3(ctxs, function (t) {\n          return t.type === 'contexttoolbar';\n        }), pass = _a.pass, fail = _a.fail;\n      return {\n        contextToolbars: pass,\n        contextForms: fail\n      };\n    };\n    var filterByPositionForStartNode = function (toolbars) {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        var doesPositionExist = function (value) {\n          return exists(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var filterToolbarsByPosition = function (value) {\n          return filter$2(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var hasSelectionToolbars = doesPositionExist('selection');\n        var hasNodeToolbars = doesPositionExist('node');\n        if (hasSelectionToolbars || hasNodeToolbars) {\n          if (hasNodeToolbars && hasSelectionToolbars) {\n            var nodeToolbars = filterToolbarsByPosition('node');\n            var selectionToolbars = map$2(filterToolbarsByPosition('selection'), function (t) {\n              return __assign(__assign({}, t), { position: 'node' });\n            });\n            return nodeToolbars.concat(selectionToolbars);\n          } else {\n            return hasSelectionToolbars ? filterToolbarsByPosition('selection') : filterToolbarsByPosition('node');\n          }\n        } else {\n          return filterToolbarsByPosition('line');\n        }\n      }\n    };\n    var filterByPositionForAncestorNode = function (toolbars) {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        var findPosition_1 = function (value) {\n          return find$5(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var basePosition = findPosition_1('selection').orThunk(function () {\n          return findPosition_1('node');\n        }).orThunk(function () {\n          return findPosition_1('line');\n        }).map(function (t) {\n          return t.position;\n        });\n        return basePosition.fold(function () {\n          return [];\n        }, function (pos) {\n          return filter$2(toolbars, function (t) {\n            return t.position === pos;\n          });\n        });\n      }\n    };\n    var matchStartNode = function (elem, nodeCandidates, editorCandidates) {\n      var nodeMatches = matchTargetWith(elem, nodeCandidates);\n      if (nodeMatches.contextForms.length > 0) {\n        return Optional.some({\n          elem: elem,\n          toolbars: [nodeMatches.contextForms[0]]\n        });\n      } else {\n        var editorMatches = matchTargetWith(elem, editorCandidates);\n        if (editorMatches.contextForms.length > 0) {\n          return Optional.some({\n            elem: elem,\n            toolbars: [editorMatches.contextForms[0]]\n          });\n        } else if (nodeMatches.contextToolbars.length > 0 || editorMatches.contextToolbars.length > 0) {\n          var toolbars = filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));\n          return Optional.some({\n            elem: elem,\n            toolbars: toolbars\n          });\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    var matchAncestor = function (isRoot, startNode, scopes) {\n      if (isRoot(startNode)) {\n        return Optional.none();\n      } else {\n        return ancestor$2(startNode, function (ancestorElem) {\n          if (isElement$2(ancestorElem)) {\n            var _a = matchTargetWith(ancestorElem, scopes.inNodeScope), contextToolbars = _a.contextToolbars, contextForms = _a.contextForms;\n            var toolbars = contextForms.length > 0 ? contextForms : filterByPositionForAncestorNode(contextToolbars);\n            return toolbars.length > 0 ? Optional.some({\n              elem: ancestorElem,\n              toolbars: toolbars\n            }) : Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }, isRoot);\n      }\n    };\n    var lookup$1 = function (scopes, editor) {\n      var rootElem = SugarElement.fromDom(editor.getBody());\n      var isRoot = function (elem) {\n        return eq(elem, rootElem);\n      };\n      var isOutsideRoot = function (startNode) {\n        return !isRoot(startNode) && !contains(rootElem, startNode);\n      };\n      var startNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isOutsideRoot(startNode)) {\n        return Optional.none();\n      }\n      return matchStartNode(startNode, scopes.inNodeScope, scopes.inEditorScope).orThunk(function () {\n        return matchAncestor(isRoot, startNode, scopes);\n      });\n    };\n\n    var categorise = function (contextToolbars, navigate) {\n      var forms = {};\n      var inNodeScope = [];\n      var inEditorScope = [];\n      var formNavigators = {};\n      var lookupTable = {};\n      var registerForm = function (key, toolbarSpec) {\n        var contextForm = getOrDie(createContextForm(toolbarSpec));\n        forms[key] = contextForm;\n        contextForm.launch.map(function (launch) {\n          formNavigators['form:' + key + ''] = __assign(__assign({}, toolbarSpec.launch), {\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: function () {\n              navigate(contextForm);\n            }\n          });\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      var registerToolbar = function (key, toolbarSpec) {\n        createContextToolbar(toolbarSpec).each(function (contextToolbar) {\n          if (toolbarSpec.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      var keys$1 = keys(contextToolbars);\n      each$1(keys$1, function (key) {\n        var toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms: forms,\n        inNodeScope: inNodeScope,\n        inEditorScope: inEditorScope,\n        lookupTable: lookupTable,\n        formNavigators: formNavigators\n      };\n    };\n\n    var forwardSlideEvent = generate$6('forward-slide');\n    var backSlideEvent = generate$6('backward-slide');\n    var changeSlideEvent = generate$6('change-slide-event');\n    var resizingClass = 'tox-pop--resizing';\n    var renderContextToolbar = function (spec) {\n      var stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: function (comp) {\n          stack.set([]);\n          InlineView.getContent(comp).each(function (c) {\n            remove$6(c.element, 'visibility');\n          });\n          remove$2(comp.element, resizingClass);\n          remove$6(comp.element, 'width');\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), function (comp, se) {\n              if (se.event.raw.propertyName === 'width') {\n                remove$2(comp.element, resizingClass);\n                remove$6(comp.element, 'width');\n              }\n            }),\n            run$1(changeSlideEvent, function (comp, se) {\n              var elem = comp.element;\n              remove$6(elem, 'width');\n              var currentWidth = get$a(elem);\n              InlineView.setContent(comp, se.event.contents);\n              add$2(elem, resizingClass);\n              var newWidth = get$a(elem);\n              set$7(elem, 'width', currentWidth + 'px');\n              InlineView.getContent(comp).each(function (newContents) {\n                se.event.focus.bind(function (f) {\n                  focus$3(f);\n                  return search(elem);\n                }).orThunk(function () {\n                  Keying.focusIn(newContents);\n                  return active(getRootNode(elem));\n                });\n              });\n              global$f.setTimeout(function () {\n                set$7(comp.element, 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run$1(forwardSlideEvent, function (comp, se) {\n              InlineView.getContent(comp).each(function (oldContents) {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active(getRootNode(comp.element))\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event.forwardContents,\n                focus: Optional.none()\n              });\n            }),\n            run$1(backSlideEvent, function (comp, _se) {\n              last$2(stack.get()).each(function (last) {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: function (comp) {\n              return last$2(stack.get()).fold(function () {\n                return spec.onEscape();\n              }, function (_) {\n                emit(comp, backSlideEvent);\n                return Optional.some(true);\n              });\n            }\n          })\n        ]),\n        lazySink: function () {\n          return Result.value(spec.sink);\n        }\n      });\n    };\n\n    var transitionClass = 'tox-pop--transition';\n    var register$7 = function (editor, registryContextToolbars, sink, extras) {\n      var backstage = extras.backstage;\n      var sharedBackstage = backstage.shared;\n      var isTouch = detect$1().deviceType.isTouch;\n      var lastElement = value$1();\n      var lastTrigger = value$1();\n      var lastContextPosition = value$1();\n      var contextbar = build$1(renderContextToolbar({\n        sink: sink,\n        onEscape: function () {\n          editor.focus();\n          return Optional.some(true);\n        }\n      }));\n      var getBounds = function () {\n        var position = lastContextPosition.get().getOr('node');\n        var margin = shouldUseInsetLayouts(position) ? 1 : 0;\n        return getContextToolbarBounds(editor, sharedBackstage, position, margin);\n      };\n      var canLaunchToolbar = function () {\n        return !editor.removed && !(isTouch() && backstage.isContextMenuOpen());\n      };\n      var isSameLaunchElement = function (elem) {\n        return is$1(lift2(elem, lastElement.get(), eq), true);\n      };\n      var shouldContextToolbarHide = function () {\n        if (!canLaunchToolbar()) {\n          return true;\n        } else {\n          var contextToolbarBounds = getBounds();\n          var anchorBounds = is$1(lastContextPosition.get(), 'node') ? getAnchorElementBounds(editor, lastElement.get()) : getSelectionBounds(editor);\n          return contextToolbarBounds.height <= 0 || !isVerticalOverlap(anchorBounds, contextToolbarBounds);\n        }\n      };\n      var close = function () {\n        lastElement.clear();\n        lastTrigger.clear();\n        lastContextPosition.clear();\n        InlineView.hide(contextbar);\n      };\n      var hideOrRepositionIfNecessary = function () {\n        if (InlineView.isOpen(contextbar)) {\n          var contextBarEle = contextbar.element;\n          remove$6(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$7(contextBarEle, 'display', 'none');\n          } else {\n            lastTrigger.set(0);\n            InlineView.reposition(contextbar);\n          }\n        }\n      };\n      var wrapInPopDialog = function (toolbarSpec) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-pop__dialog']\n          },\n          components: [toolbarSpec],\n          behaviours: derive$1([\n            Keying.config({ mode: 'acyclic' }),\n            config('pop-dialog-wrap-events', [\n              runOnAttached(function (comp) {\n                editor.shortcuts.add('ctrl+F9', 'focus statusbar', function () {\n                  return Keying.focusIn(comp);\n                });\n              }),\n              runOnDetached(function (_comp) {\n                editor.shortcuts.remove('ctrl+F9');\n              })\n            ])\n          ])\n        };\n      };\n      var getScopes = cached(function () {\n        return categorise(registryContextToolbars, function (toolbarApi) {\n          var alloySpec = buildToolbar([toolbarApi]);\n          emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n        });\n      });\n      var buildContextToolbarGroups = function (allButtons, ctx) {\n        return identifyButtons(editor, {\n          buttons: allButtons,\n          toolbar: ctx.items,\n          allowToolbarGroups: false\n        }, extras, Optional.some(['form:']));\n      };\n      var buildContextFormGroups = function (ctx, providers) {\n        return ContextForm.buildInitGroups(ctx, providers);\n      };\n      var buildToolbar = function (toolbars) {\n        var buttons = editor.ui.registry.getAll().buttons;\n        var scopes = getScopes();\n        var allButtons = __assign(__assign({}, buttons), scopes.formNavigators);\n        var toolbarType = getToolbarMode(editor) === ToolbarMode.scrolling ? ToolbarMode.scrolling : ToolbarMode.default;\n        var initGroups = flatten(map$2(toolbars, function (ctx) {\n          return ctx.type === 'contexttoolbar' ? buildContextToolbarGroups(allButtons, ctx) : buildContextFormGroups(ctx, sharedBackstage.providers);\n        }));\n        return renderToolbar({\n          type: toolbarType,\n          uid: generate$6('context-toolbar'),\n          initGroups: initGroups,\n          onEscape: Optional.none,\n          cyclicKeying: true,\n          providers: sharedBackstage.providers\n        });\n      };\n      var getAnchor = function (position, element) {\n        var anchorage = position === 'node' ? sharedBackstage.anchors.node(element) : sharedBackstage.anchors.cursor();\n        var anchorLayout = getAnchorLayout(editor, position, isTouch(), {\n          lastElement: lastElement.get,\n          isReposition: function () {\n            return is$1(lastTrigger.get(), 0);\n          },\n          getMode: function () {\n            return Positioning.getMode(sink);\n          }\n        });\n        return deepMerge(anchorage, anchorLayout);\n      };\n      var launchContext = function (toolbarApi, elem) {\n        launchContextToolbar.cancel();\n        if (!canLaunchToolbar()) {\n          return;\n        }\n        var toolbarSpec = buildToolbar(toolbarApi);\n        var position = toolbarApi[0].position;\n        var anchor = getAnchor(position, elem);\n        lastContextPosition.set(position);\n        lastTrigger.set(1);\n        var contextBarEle = contextbar.element;\n        remove$6(contextBarEle, 'display');\n        if (!isSameLaunchElement(elem)) {\n          remove$2(contextBarEle, transitionClass);\n          Positioning.reset(sink, contextbar);\n        }\n        InlineView.showWithinBounds(contextbar, wrapInPopDialog(toolbarSpec), {\n          anchor: anchor,\n          transition: {\n            classes: [transitionClass],\n            mode: 'placement'\n          }\n        }, function () {\n          return Optional.some(getBounds());\n        });\n        elem.fold(lastElement.clear, lastElement.set);\n        if (shouldContextToolbarHide()) {\n          set$7(contextBarEle, 'display', 'none');\n        }\n      };\n      var launchContextToolbar = last(function () {\n        if (!editor.hasFocus() || editor.removed) {\n          return;\n        }\n        if (has(contextbar.element, transitionClass)) {\n          launchContextToolbar.throttle();\n        } else {\n          var scopes = getScopes();\n          lookup$1(scopes, editor).fold(close, function (info) {\n            launchContext(info.toolbars, Optional.some(info.elem));\n          });\n        }\n      }, 17);\n      editor.on('init', function () {\n        editor.on('remove', close);\n        editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup focus SetContent', launchContextToolbar.throttle);\n        editor.on(hideContextToolbarEvent, close);\n        editor.on(showContextToolbarEvent, function (e) {\n          var scopes = getScopes();\n          get$e(scopes.lookupTable, e.toolbarKey).each(function (ctx) {\n            launchContext([ctx], someIf(e.target !== editor, e.target));\n            InlineView.getContent(contextbar).each(Keying.focusIn);\n          });\n        });\n        editor.on('focusout', function (_e) {\n          global$f.setEditorTimeout(editor, function () {\n            if (search(sink.element).isNone() && search(contextbar.element).isNone()) {\n              close();\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', function () {\n          if (editor.mode.isReadOnly()) {\n            close();\n          }\n        });\n        editor.on('AfterProgressState', function (event) {\n          if (event.state) {\n            close();\n          } else if (editor.hasFocus()) {\n            launchContextToolbar.throttle();\n          }\n        });\n        editor.on('NodeChange', function (_e) {\n          search(contextbar.element).fold(launchContextToolbar.throttle, noop);\n        });\n      });\n    };\n\n    var register$6 = function (editor) {\n      var alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      each$1(alignToolbarButtons, function (item) {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          icon: item.icon,\n          onAction: onActionExecCommand(editor, item.cmd),\n          onSetup: onSetupFormatToggle(editor, item.name)\n        });\n      });\n      editor.ui.registry.addButton('alignnone', {\n        tooltip: 'No alignment',\n        icon: 'align-none',\n        onAction: onActionExecCommand(editor, 'JustifyNone')\n      });\n    };\n\n    var units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    var pattern = function () {\n      var decimalDigits = '[0-9]+';\n      var signedInteger = '[+-]?' + decimalDigits;\n      var exponentPart = '[eE]' + signedInteger;\n      var dot = '\\\\.';\n      var opt = function (input) {\n        return '(?:' + input + ')?';\n      };\n      var unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      var float = '[+-]?(?:' + unsignedDecimalLiteral + ')';\n      return new RegExp('^(' + float + ')(.*)$');\n    }();\n    var isUnit = function (unit, accepted) {\n      return exists(accepted, function (acc) {\n        return exists(units[acc], function (check) {\n          return unit === check;\n        });\n      });\n    };\n    var parse = function (input, accepted) {\n      var match = Optional.from(pattern.exec(input));\n      return match.bind(function (array) {\n        var value = Number(array[1]);\n        var unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value: value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var normalise = function (input, accepted) {\n      return parse(input, accepted).map(function (_a) {\n        var value = _a.value, unit = _a.unit;\n        return value + unit;\n      });\n    };\n\n    var registerController = function (editor, spec) {\n      var getMenuItems = function () {\n        var options = spec.getOptions(editor);\n        var initial = spec.getCurrent(editor).map(spec.hash);\n        var current = value$1();\n        return map$2(options, function (value) {\n          return {\n            type: 'togglemenuitem',\n            text: spec.display(value),\n            onSetup: function (api) {\n              var setActive = function (active) {\n                if (active) {\n                  current.on(function (oldApi) {\n                    return oldApi.setActive(false);\n                  });\n                  current.set(api);\n                }\n                api.setActive(active);\n              };\n              setActive(is$1(initial, spec.hash(value)));\n              var unbindWatcher = spec.watcher(editor, value, setActive);\n              return function () {\n                current.clear();\n                unbindWatcher();\n              };\n            },\n            onAction: function () {\n              return spec.setCurrent(editor, value);\n            }\n          };\n        });\n      };\n      editor.ui.registry.addMenuButton(spec.name, {\n        tooltip: spec.text,\n        icon: spec.icon,\n        fetch: function (callback) {\n          return callback(getMenuItems());\n        },\n        onSetup: spec.onToolbarSetup\n      });\n      editor.ui.registry.addNestedMenuItem(spec.name, {\n        type: 'nestedmenuitem',\n        text: spec.text,\n        getSubmenuItems: getMenuItems,\n        onSetup: spec.onMenuSetup\n      });\n    };\n    var lineHeightSpec = {\n      name: 'lineheight',\n      text: 'Line height',\n      icon: 'line-height',\n      getOptions: getLineHeightFormats,\n      hash: function (input) {\n        return normalise(input, [\n          'fixed',\n          'relative',\n          'empty'\n        ]).getOr(input);\n      },\n      display: identity$1,\n      watcher: function (editor, value, callback) {\n        return editor.formatter.formatChanged('lineheight', callback, false, { value: value }).unbind;\n      },\n      getCurrent: function (editor) {\n        return Optional.from(editor.queryCommandValue('LineHeight'));\n      },\n      setCurrent: function (editor, value) {\n        return editor.execCommand('LineHeight', false, value);\n      }\n    };\n    var languageSpec = function (editor) {\n      var settingsOpt = Optional.from(getContentLanguages(editor));\n      return settingsOpt.map(function (settings) {\n        return {\n          name: 'language',\n          text: 'Language',\n          icon: 'language',\n          getOptions: constant$1(settings),\n          hash: function (input) {\n            return isUndefined(input.customCode) ? input.code : input.code + '/' + input.customCode;\n          },\n          display: function (input) {\n            return input.title;\n          },\n          watcher: function (editor, value, callback) {\n            return editor.formatter.formatChanged('lang', callback, false, {\n              value: value.code,\n              customValue: value.customCode\n            }).unbind;\n          },\n          getCurrent: function (editor) {\n            var node = SugarElement.fromDom(editor.selection.getNode());\n            return closest$4(node, function (n) {\n              return Optional.some(n).filter(isElement$2).bind(function (ele) {\n                var codeOpt = getOpt(ele, 'lang');\n                return codeOpt.map(function (code) {\n                  var customCode = getOpt(ele, 'data-mce-lang').getOrUndefined();\n                  return {\n                    code: code,\n                    customCode: customCode,\n                    title: ''\n                  };\n                });\n              });\n            });\n          },\n          setCurrent: function (editor, lang) {\n            return editor.execCommand('Lang', false, lang);\n          },\n          onToolbarSetup: function (api) {\n            var unbinder = unbindable();\n            api.setActive(editor.formatter.match('lang', {}, undefined, true));\n            unbinder.set(editor.formatter.formatChanged('lang', api.setActive, true));\n            return unbinder.clear;\n          }\n        };\n      });\n    };\n    var register$5 = function (editor) {\n      registerController(editor, lineHeightSpec);\n      languageSpec(editor).each(function (spec) {\n        return registerController(editor, spec);\n      });\n    };\n\n    var register$4 = function (editor, backstage) {\n      alignSelectMenu(editor, backstage);\n      fontSelectMenu(editor, backstage);\n      styleSelectMenu(editor, backstage);\n      formatSelectMenu(editor, backstage);\n      fontsizeSelectMenu(editor, backstage);\n    };\n\n    var onSetupOutdentState = function (editor) {\n      return onSetupEvent(editor, 'NodeChange', function (api) {\n        api.setDisabled(!editor.queryCommandState('outdent'));\n      });\n    };\n    var registerButtons$2 = function (editor) {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: onSetupOutdentState(editor),\n        onAction: onActionExecCommand(editor, 'outdent')\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onAction: onActionExecCommand(editor, 'indent')\n      });\n    };\n    var register$3 = function (editor) {\n      registerButtons$2(editor);\n    };\n\n    var onActionToggleFormat = function (editor, fmt) {\n      return function () {\n        editor.execCommand('mceToggleFormat', false, fmt);\n      };\n    };\n    var registerFormatButtons = function (editor) {\n      global$5.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], function (btn, _idx) {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupFormatToggle(editor, btn.name),\n          onAction: onActionToggleFormat(editor, btn.name)\n        });\n      });\n      for (var i = 1; i <= 6; i++) {\n        var name_1 = 'h' + i;\n        editor.ui.registry.addToggleButton(name_1, {\n          text: name_1.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupFormatToggle(editor, name_1),\n          onAction: onActionToggleFormat(editor, name_1)\n        });\n      }\n    };\n    var registerCommandButtons = function (editor) {\n      global$5.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        }\n      ], function (btn) {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n    };\n    var registerCommandToggleButtons = function (editor) {\n      global$5.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], function (btn) {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          onSetup: onSetupFormatToggle(editor, btn.name)\n        });\n      });\n    };\n    var registerButtons$1 = function (editor) {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    var registerMenuItems$2 = function (editor) {\n      global$5.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through',\n          shortcut: ''\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript',\n          shortcut: ''\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript',\n          shortcut: ''\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting',\n          shortcut: ''\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document',\n          shortcut: ''\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        }\n      ], function (btn) {\n        editor.ui.registry.addMenuItem(btn.name, {\n          text: btn.text,\n          icon: btn.icon,\n          shortcut: btn.shortcut,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onAction: onActionToggleFormat(editor, 'code')\n      });\n    };\n    var register$2 = function (editor) {\n      registerButtons$1(editor);\n      registerMenuItems$2(editor);\n    };\n\n    var onSetupUndoRedoState = function (editor, type) {\n      return onSetupEvent(editor, 'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', function (api) {\n        api.setDisabled(editor.mode.isReadOnly() || !editor.undoManager[type]());\n      });\n    };\n    var registerMenuItems$1 = function (editor) {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    var registerButtons = function (editor) {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        disabled: true,\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        disabled: true,\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    var register$1 = function (editor) {\n      registerMenuItems$1(editor);\n      registerButtons(editor);\n    };\n\n    var onSetupVisualAidState = function (editor) {\n      return onSetupEvent(editor, 'VisualAid', function (api) {\n        api.setActive(editor.hasVisual);\n      });\n    };\n    var registerMenuItems = function (editor) {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: onSetupVisualAidState(editor),\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    var registerToolbarButton = function (editor) {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    var register = function (editor) {\n      registerToolbarButton(editor);\n      registerMenuItems(editor);\n    };\n\n    var setup$6 = function (editor, backstage) {\n      register$6(editor);\n      register$2(editor);\n      register$4(editor, backstage);\n      register$1(editor);\n      register$a(editor);\n      register(editor);\n      register$3(editor);\n      register$5(editor);\n    };\n\n    var nu = function (x, y) {\n      return {\n        type: 'makeshift',\n        x: x,\n        y: y\n      };\n    };\n    var transpose = function (pos, dx, dy) {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    var isTouchEvent = function (e) {\n      return e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    };\n    var fromPageXY = function (e) {\n      if (isTouchEvent(e)) {\n        var touch = e.touches[0];\n        return nu(touch.pageX, touch.pageY);\n      } else {\n        return nu(e.pageX, e.pageY);\n      }\n    };\n    var fromClientXY = function (e) {\n      if (isTouchEvent(e)) {\n        var touch = e.touches[0];\n        return nu(touch.clientX, touch.clientY);\n      } else {\n        return nu(e.clientX, e.clientY);\n      }\n    };\n    var transposeContentAreaContainer = function (element, pos) {\n      var containerPos = global$b.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    var getPointAnchor = function (editor, e) {\n      if (e.type === 'contextmenu' || e.type === 'longpress') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    var getSelectionAnchor = function (editor) {\n      return {\n        type: 'selection',\n        root: SugarElement.fromDom(editor.selection.getNode())\n      };\n    };\n    var getNodeAnchor = function (editor) {\n      return {\n        type: 'node',\n        node: Optional.some(SugarElement.fromDom(editor.selection.getNode())),\n        root: SugarElement.fromDom(editor.getBody())\n      };\n    };\n    var getAnchorSpec$1 = function (editor, e, anchorType) {\n      switch (anchorType) {\n      case 'node':\n        return getNodeAnchor(editor);\n      case 'point':\n        return getPointAnchor(editor, e);\n      case 'selection':\n        return getSelectionAnchor(editor);\n      }\n    };\n\n    var initAndShow$1 = function (editor, e, buildMenu, backstage, contextmenu, anchorType) {\n      var items = buildMenu();\n      var anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false).map(function (menuData) {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, { anchor: anchorSpec }, {\n          menu: { markers: markers('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    var layouts = {\n      onLtr: function () {\n        return [\n          south$2,\n          southeast$2,\n          southwest$2,\n          northeast$2,\n          northwest$2,\n          north$2,\n          north,\n          south,\n          northeast,\n          southeast,\n          northwest,\n          southwest\n        ];\n      },\n      onRtl: function () {\n        return [\n          south$2,\n          southwest$2,\n          southeast$2,\n          northwest$2,\n          northeast$2,\n          north$2,\n          north,\n          south,\n          northwest,\n          southwest,\n          northeast,\n          southeast\n        ];\n      }\n    };\n    var bubbleSize = 12;\n    var bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    var isTouchWithinSelection = function (editor, e) {\n      var selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        var touch_1 = e.touches[0];\n        var rng = selection.getRng();\n        var rngRectOpt = getFirstRect(editor.getWin(), SimSelection.domRange(rng));\n        return rngRectOpt.exists(function (rngRect) {\n          return rngRect.left <= touch_1.clientX && rngRect.right >= touch_1.clientX && rngRect.top <= touch_1.clientY && rngRect.bottom >= touch_1.clientY;\n        });\n      }\n    };\n    var setupiOSOverrides = function (editor) {\n      var originalSelection = editor.selection.getRng();\n      var selectionReset = function () {\n        global$f.setEditorTimeout(editor, function () {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      var preventMousedown = function (e) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      var clearSelectionReset = function () {\n        return unbindEventListeners();\n      };\n      editor.once('longpresscancel', clearSelectionReset);\n      var unbindEventListeners = function () {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    var getAnchorSpec = function (editor, e, anchorType) {\n      var anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      var bubbleYOffset = anchorType === 'point' ? bubbleSize : 0;\n      return __assign({\n        bubble: nu$5(0, bubbleYOffset, bubbleAlignments),\n        layouts: layouts,\n        overrides: {\n          maxWidthFunction: expandable(),\n          maxHeightFunction: expandable$1()\n        }\n      }, anchorSpec);\n    };\n    var show = function (editor, e, items, backstage, contextmenu, anchorType, highlightImmediately) {\n      var anchorSpec = getAnchorSpec(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, true).map(function (menuData) {\n        e.preventDefault();\n        InlineView.showMenuWithinBounds(contextmenu, { anchor: anchorSpec }, {\n          menu: {\n            markers: markers('normal'),\n            highlightImmediately: highlightImmediately\n          },\n          data: menuData,\n          type: 'horizontal'\n        }, function () {\n          return Optional.some(getContextToolbarBounds(editor, backstage.shared, anchorType === 'node' ? 'node' : 'selection'));\n        });\n        editor.fire(hideContextToolbarEvent);\n      });\n    };\n    var initAndShow = function (editor, e, buildMenu, backstage, contextmenu, anchorType) {\n      var detection = detect$1();\n      var isiOS = detection.os.isiOS();\n      var isOSX = detection.os.isOSX();\n      var isAndroid = detection.os.isAndroid();\n      var isTouch = detection.deviceType.isTouch();\n      var shouldHighlightImmediately = function () {\n        return !(isAndroid || isiOS || isOSX && isTouch);\n      };\n      var open = function () {\n        var items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, anchorType, shouldHighlightImmediately());\n      };\n      if ((isOSX || isiOS) && anchorType !== 'node') {\n        var openiOS_1 = function () {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS_1();\n        } else {\n          editor.once('selectionchange', openiOS_1);\n          editor.once('touchend', function () {\n            return editor.off('selectionchange', openiOS_1);\n          });\n        }\n      } else {\n        open();\n      }\n    };\n\n    var patchPipeConfig = function (config) {\n      return typeof config === 'string' ? config.split(/[ ,]/) : config;\n    };\n    var shouldNeverUseNative = function (editor) {\n      return editor.getParam('contextmenu_never_use_native', false, 'boolean');\n    };\n    var getMenuItems = function (editor, name, defaultItems) {\n      var contextMenus = editor.ui.registry.getAll().contextMenus;\n      return Optional.from(editor.getParam(name)).map(patchPipeConfig).getOrThunk(function () {\n        return filter$2(patchPipeConfig(defaultItems), function (item) {\n          return has$2(contextMenus, item);\n        });\n      });\n    };\n    var isContextMenuDisabled = function (editor) {\n      return editor.getParam('contextmenu') === false;\n    };\n    var getContextMenu = function (editor) {\n      return getMenuItems(editor, 'contextmenu', 'link linkchecker image imagetools table spellchecker configurepermanentpen');\n    };\n    var getAvoidOverlapSelector = function (editor) {\n      return editor.getParam('contextmenu_avoid_overlap', '', 'string');\n    };\n\n    var isSeparator = function (item) {\n      return isString(item) ? item === '|' : item.type === 'separator';\n    };\n    var separator = { type: 'separator' };\n    var makeContextItem = function (item) {\n      var commonMenuItem = function (item) {\n        return {\n          text: item.text,\n          icon: item.icon,\n          disabled: item.disabled,\n          shortcut: item.shortcut\n        };\n      };\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator;\n        case 'submenu':\n          return __assign(__assign({ type: 'nestedmenuitem' }, commonMenuItem(item)), {\n            getSubmenuItems: function () {\n              var items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map$2(items, makeContextItem);\n              }\n            }\n          });\n        default:\n          return __assign(__assign({ type: 'menuitem' }, commonMenuItem(item)), { onAction: noarg(item.onAction) });\n        }\n      }\n    };\n    var addContextMenuGroup = function (xs, groupItems) {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      var lastMenuItem = last$2(xs).filter(function (item) {\n        return !isSeparator(item);\n      });\n      var before = lastMenuItem.fold(function () {\n        return [];\n      }, function (_) {\n        return [separator];\n      });\n      return xs.concat(before).concat(groupItems).concat([separator]);\n    };\n    var generateContextMenu = function (contextMenus, menuConfig, selectedElement) {\n      var sections = foldl(menuConfig, function (acc, name) {\n        return get$e(contextMenus, name.toLowerCase()).map(function (menu) {\n          var items = menu.update(selectedElement);\n          if (isString(items)) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (items.length > 0) {\n            var allItems = map$2(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        }).getOrThunk(function () {\n          return acc.concat([name]);\n        });\n      }, []);\n      if (sections.length > 0 && isSeparator(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    var isNativeOverrideKeyEvent = function (editor, e) {\n      return e.ctrlKey && !shouldNeverUseNative(editor);\n    };\n    var isTriggeredByKeyboard = function (editor, e) {\n      return e.type !== 'longpress' && (e.button !== 2 || e.target === editor.getBody() && e.pointerType === '');\n    };\n    var getSelectedElement = function (editor, e) {\n      return isTriggeredByKeyboard(editor, e) ? editor.selection.getStart(true) : e.target;\n    };\n    var getAnchorType = function (editor, e) {\n      var selector = getAvoidOverlapSelector(editor);\n      var anchorType = isTriggeredByKeyboard(editor, e) ? 'selection' : 'point';\n      if (isNotEmpty(selector)) {\n        var target = getSelectedElement(editor, e);\n        var selectorExists = closest(SugarElement.fromDom(target), selector);\n        return selectorExists ? 'node' : anchorType;\n      } else {\n        return anchorType;\n      }\n    };\n    var setup$5 = function (editor, lazySink, backstage) {\n      var detection = detect$1();\n      var isTouch = detection.deviceType.isTouch;\n      var contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink: lazySink,\n        onEscape: function () {\n          return editor.focus();\n        },\n        onShow: function () {\n          return backstage.setContextMenuState(true);\n        },\n        onHide: function () {\n          return backstage.setContextMenuState(false);\n        },\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run$1(dismissRequested(), function (comp, _se) {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      var hideContextMenu = function (_e) {\n        return InlineView.hide(contextmenu);\n      };\n      var showContextMenu = function (e) {\n        if (shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || isContextMenuDisabled(editor)) {\n          return;\n        }\n        var anchorType = getAnchorType(editor, e);\n        var buildMenu = function () {\n          var selectedElement = getSelectedElement(editor, e);\n          var registry = editor.ui.registry.getAll();\n          var menuConfig = getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        var initAndShow$2 = isTouch() ? initAndShow : initAndShow$1;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, anchorType);\n      };\n      editor.on('init', function () {\n        var hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : ' ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on('longpress contextmenu', showContextMenu);\n      });\n    };\n\n    var adt = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    var subtract = function (change) {\n      return function (point) {\n        return point.translate(-change.left, -change.top);\n      };\n    };\n    var add = function (change) {\n      return function (point) {\n        return point.translate(change.left, change.top);\n      };\n    };\n    var transform = function (changes) {\n      return function (x, y) {\n        return foldl(changes, function (rest, f) {\n          return f(rest);\n        }, SugarPosition(x, y));\n      };\n    };\n    var asFixed = function (coord, scroll, origin) {\n      return coord.fold(transform([\n        add(origin),\n        subtract(scroll)\n      ]), transform([subtract(scroll)]), transform([]));\n    };\n    var asAbsolute = function (coord, scroll, origin) {\n      return coord.fold(transform([add(origin)]), transform([]), transform([add(scroll)]));\n    };\n    var asOffset = function (coord, scroll, origin) {\n      return coord.fold(transform([]), transform([subtract(origin)]), transform([\n        add(scroll),\n        subtract(origin)\n      ]));\n    };\n    var withinRange = function (coord1, coord2, xRange, yRange, scroll, origin) {\n      var a1 = asAbsolute(coord1, scroll, origin);\n      var a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left - a2.left) <= xRange && Math.abs(a1.top - a2.top) <= yRange;\n    };\n    var getDeltas = function (coord1, coord2, xRange, yRange, scroll, origin) {\n      var a1 = asAbsolute(coord1, scroll, origin);\n      var a2 = asAbsolute(coord2, scroll, origin);\n      var left = Math.abs(a1.left - a2.left);\n      var top = Math.abs(a1.top - a2.top);\n      return SugarPosition(left, top);\n    };\n    var toStyles = function (coord, scroll, origin) {\n      var stylesOpt = coord.fold(function (x, y) {\n        return {\n          position: Optional.some('absolute'),\n          left: Optional.some(x + 'px'),\n          top: Optional.some(y + 'px')\n        };\n      }, function (x, y) {\n        return {\n          position: Optional.some('absolute'),\n          left: Optional.some(x - origin.left + 'px'),\n          top: Optional.some(y - origin.top + 'px')\n        };\n      }, function (x, y) {\n        return {\n          position: Optional.some('fixed'),\n          left: Optional.some(x + 'px'),\n          top: Optional.some(y + 'px')\n        };\n      });\n      return __assign({\n        right: Optional.none(),\n        bottom: Optional.none()\n      }, stylesOpt);\n    };\n    var translate = function (coord, deltaX, deltaY) {\n      return coord.fold(function (x, y) {\n        return offset(x + deltaX, y + deltaY);\n      }, function (x, y) {\n        return absolute(x + deltaX, y + deltaY);\n      }, function (x, y) {\n        return fixed(x + deltaX, y + deltaY);\n      });\n    };\n    var absorb = function (partialCoord, originalCoord, scroll, origin) {\n      var absorbOne = function (stencil, nu) {\n        return function (optX, optY) {\n          var original = stencil(originalCoord, scroll, origin);\n          return nu(optX.getOr(original.left), optY.getOr(original.top));\n        };\n      };\n      return partialCoord.fold(absorbOne(asOffset, offset), absorbOne(asAbsolute, absolute), absorbOne(asFixed, fixed));\n    };\n    var offset = adt.offset;\n    var absolute = adt.absolute;\n    var fixed = adt.fixed;\n\n    var parseAttrToInt = function (element, name) {\n      var value = get$d(element, name);\n      return isUndefined(value) ? NaN : parseInt(value, 10);\n    };\n    var get = function (component, snapsInfo) {\n      var element = component.element;\n      var x = parseAttrToInt(element, snapsInfo.leftAttr);\n      var y = parseAttrToInt(element, snapsInfo.topAttr);\n      return isNaN(x) || isNaN(y) ? Optional.none() : Optional.some(SugarPosition(x, y));\n    };\n    var set = function (component, snapsInfo, pt) {\n      var element = component.element;\n      set$8(element, snapsInfo.leftAttr, pt.left + 'px');\n      set$8(element, snapsInfo.topAttr, pt.top + 'px');\n    };\n    var clear = function (component, snapsInfo) {\n      var element = component.element;\n      remove$7(element, snapsInfo.leftAttr);\n      remove$7(element, snapsInfo.topAttr);\n    };\n\n    var getCoords = function (component, snapInfo, coord, delta) {\n      return get(component, snapInfo).fold(function () {\n        return coord;\n      }, function (fixed$1) {\n        return fixed(fixed$1.left + delta.left, fixed$1.top + delta.top);\n      });\n    };\n    var moveOrSnap = function (component, snapInfo, coord, delta, scroll, origin) {\n      var newCoord = getCoords(component, snapInfo, coord, delta);\n      var snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      var fixedCoord = asFixed(newCoord, scroll, origin);\n      set(component, snapInfo, fixedCoord);\n      return snap.fold(function () {\n        return {\n          coord: fixed(fixedCoord.left, fixedCoord.top),\n          extra: Optional.none()\n        };\n      }, function (spanned) {\n        return {\n          coord: spanned.output,\n          extra: spanned.extra\n        };\n      });\n    };\n    var stopDrag = function (component, snapInfo) {\n      clear(component, snapInfo);\n    };\n    var findMatchingSnap = function (snaps, newCoord, scroll, origin) {\n      return findMap(snaps, function (snap) {\n        var sensor = snap.sensor;\n        var inRange = withinRange(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n        return inRange ? Optional.some({\n          output: absorb(snap.output, newCoord, scroll, origin),\n          extra: snap.extra\n        }) : Optional.none();\n      });\n    };\n    var findClosestSnap = function (component, snapInfo, newCoord, scroll, origin) {\n      var snaps = snapInfo.getSnapPoints(component);\n      var matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(function () {\n        var bestSnap = foldl(snaps, function (acc, snap) {\n          var sensor = snap.sensor;\n          var deltas = getDeltas(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n          return acc.deltas.fold(function () {\n            return {\n              deltas: Optional.some(deltas),\n              snap: Optional.some(snap)\n            };\n          }, function (bestDeltas) {\n            var currAvg = (deltas.left + deltas.top) / 2;\n            var bestAvg = (bestDeltas.left + bestDeltas.top) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Optional.some(deltas),\n                snap: Optional.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Optional.none(),\n          snap: Optional.none()\n        });\n        return bestSnap.snap.map(function (snap) {\n          return {\n            output: absorb(snap.output, newCoord, scroll, origin),\n            extra: snap.extra\n          };\n        });\n      });\n    };\n    var findSnap = function (component, snapInfo, newCoord, scroll, origin) {\n      var snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    var snapTo$1 = function (snap, scroll, origin) {\n      return {\n        coord: absorb(snap.output, snap.output, scroll, origin),\n        extra: snap.extra\n      };\n    };\n\n    var snapTo = function (component, dragConfig, _state, snap) {\n      var target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        var doc = owner$4(component.element);\n        var scroll_1 = get$9(doc);\n        var origin_1 = getOrigin(target);\n        var snapPin = snapTo$1(snap, scroll_1, origin_1);\n        var styles = toStyles(snapPin.coord, scroll_1, origin_1);\n        setOptions(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        snapTo: snapTo\n    });\n\n    var initialAttribute = 'data-initial-z-index';\n    var resetZIndex = function (blocker) {\n      parent(blocker.element).filter(isElement$2).each(function (root) {\n        getOpt(root, initialAttribute).fold(function () {\n          return remove$6(root, 'z-index');\n        }, function (zIndex) {\n          return set$7(root, 'z-index', zIndex);\n        });\n        remove$7(root, initialAttribute);\n      });\n    };\n    var changeZIndex = function (blocker) {\n      parent(blocker.element).filter(isElement$2).each(function (root) {\n        getRaw(root, 'z-index').each(function (zindex) {\n          set$8(root, initialAttribute, zindex);\n        });\n        set$7(root, 'z-index', get$c(blocker.element, 'z-index'));\n      });\n    };\n    var instigate = function (anyComponent, blocker) {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    var discard = function (blocker) {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n    var createComponent = function (component, blockerClass, blockerEvents) {\n      return component.getSystem().build(Container.sketch({\n        dom: {\n          styles: {\n            'left': '0px',\n            'top': '0px',\n            'width': '100%',\n            'height': '100%',\n            'position': 'fixed',\n            'z-index': '1000000000000000'\n          },\n          classes: [blockerClass]\n        },\n        events: blockerEvents\n      }));\n    };\n\n    var SnapSchema = optionObjOf('snaps', [\n      required$1('getSnapPoints'),\n      onHandler('onSensor'),\n      required$1('leftAttr'),\n      required$1('topAttr'),\n      defaulted('lazyViewport', win),\n      defaulted('mustSnap', false)\n    ]);\n\n    var schema$6 = [\n      defaulted('useFixed', never),\n      required$1('blockerClass'),\n      defaulted('getTarget', identity$1),\n      defaulted('onDrag', noop),\n      defaulted('repositionTarget', true),\n      defaulted('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema\n    ];\n\n    var getCurrentCoord = function (target) {\n      return lift3(getRaw(target, 'left'), getRaw(target, 'top'), getRaw(target, 'position'), function (left, top, position) {\n        var nu = position === 'fixed' ? fixed : offset;\n        return nu(parseInt(left, 10), parseInt(top, 10));\n      }).getOrThunk(function () {\n        var location = absolute$3(target);\n        return absolute(location.left, location.top);\n      });\n    };\n    var clampCoords = function (component, coords, scroll, origin, startData) {\n      var bounds = startData.bounds;\n      var absoluteCoord = asAbsolute(coords, scroll, origin);\n      var newX = clamp$1(absoluteCoord.left, bounds.x, bounds.x + bounds.width - startData.width);\n      var newY = clamp$1(absoluteCoord.top, bounds.y, bounds.y + bounds.height - startData.height);\n      var newCoords = absolute(newX, newY);\n      return coords.fold(function () {\n        var offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left, offset$1.top);\n      }, constant$1(newCoords), function () {\n        var fixed$1 = asFixed(newCoords, scroll, origin);\n        return fixed(fixed$1.left, fixed$1.top);\n      });\n    };\n    var calcNewCoord = function (component, optSnaps, currentCoord, scroll, origin, delta, startData) {\n      var newCoord = optSnaps.fold(function () {\n        var translated = translate(currentCoord, delta.left, delta.top);\n        var fixedCoord = asFixed(translated, scroll, origin);\n        return fixed(fixedCoord.left, fixedCoord.top);\n      }, function (snapInfo) {\n        var snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(function (extra) {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    var dragBy = function (component, dragConfig, startData, delta) {\n      var target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        var doc = owner$4(component.element);\n        var scroll_1 = get$9(doc);\n        var origin_1 = getOrigin(target);\n        var currentCoord = getCurrentCoord(target);\n        var newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll_1, origin_1, delta, startData);\n        var styles = toStyles(newCoord, scroll_1, origin_1);\n        setOptions(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    var calcStartData = function (dragConfig, comp) {\n      return {\n        bounds: dragConfig.getBounds(),\n        height: getOuter$2(comp.element),\n        width: getOuter$1(comp.element)\n      };\n    };\n    var move = function (component, dragConfig, dragState, dragMode, event) {\n      var delta = dragState.update(dragMode, event);\n      var dragStartData = dragState.getStartData().getOrThunk(function () {\n        return calcStartData(dragConfig, component);\n      });\n      delta.each(function (dlt) {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    };\n    var stop = function (component, blocker, dragConfig, dragState) {\n      blocker.each(discard);\n      dragConfig.snaps.each(function (snapInfo) {\n        stopDrag(component, snapInfo);\n      });\n      var target = dragConfig.getTarget(component.element);\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    };\n    var handlers = function (events) {\n      return function (dragConfig, dragState) {\n        var updateStartState = function (comp) {\n          dragState.setStartData(calcStartData(dragConfig, comp));\n        };\n        return derive$2(__spreadArray([run$1(windowScroll(), function (comp) {\n            dragState.getStartData().each(function () {\n              return updateStartState(comp);\n            });\n          })], events(dragConfig, dragState, updateStartState), true));\n      };\n    };\n\n    var init$2 = function (dragApi) {\n      return derive$2([\n        run$1(mousedown(), dragApi.forceDrop),\n        run$1(mouseup(), dragApi.drop),\n        run$1(mousemove(), function (comp, simulatedEvent) {\n          dragApi.move(simulatedEvent.event);\n        }),\n        run$1(mouseout(), dragApi.delayDrop)\n      ]);\n    };\n\n    var getData$1 = function (event) {\n      return Optional.from(SugarPosition(event.x, event.y));\n    };\n    var getDelta$1 = function (old, nu) {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    var events$2 = function (dragConfig, dragState, updateStartState) {\n      return [run$1(mousedown(), function (component, simulatedEvent) {\n          var raw = simulatedEvent.event.raw;\n          if (raw.button !== 0) {\n            return;\n          }\n          simulatedEvent.stop();\n          var stop$1 = function () {\n            return stop(component, Optional.some(blocker), dragConfig, dragState);\n          };\n          var delayDrop = DelayedFunction(stop$1, 200);\n          var dragApi = {\n            drop: stop$1,\n            delayDrop: delayDrop.schedule,\n            forceDrop: stop$1,\n            move: function (event) {\n              delayDrop.cancel();\n              move(component, dragConfig, dragState, MouseData, event);\n            }\n          };\n          var blocker = createComponent(component, dragConfig.blockerClass, init$2(dragApi));\n          var start = function () {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        })];\n    };\n    var schema$5 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events$2) })], false);\n\n    var init$1 = function (dragApi) {\n      return derive$2([\n        run$1(touchstart(), dragApi.forceDrop),\n        run$1(touchend(), dragApi.drop),\n        run$1(touchcancel(), dragApi.drop),\n        run$1(touchmove(), function (comp, simulatedEvent) {\n          dragApi.move(simulatedEvent.event);\n        })\n      ]);\n    };\n\n    var getDataFrom = function (touches) {\n      var touch = touches[0];\n      return Optional.some(SugarPosition(touch.clientX, touch.clientY));\n    };\n    var getData = function (event) {\n      var raw = event.raw;\n      var touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Optional.none();\n    };\n    var getDelta = function (old, nu) {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData,\n        getDelta: getDelta\n    });\n\n    var events$1 = function (dragConfig, dragState, updateStartState) {\n      var blockerSingleton = value$1();\n      var stopBlocking = function (component) {\n        stop(component, blockerSingleton.get(), dragConfig, dragState);\n        blockerSingleton.clear();\n      };\n      return [\n        run$1(touchstart(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          var stop = function () {\n            return stopBlocking(component);\n          };\n          var dragApi = {\n            drop: stop,\n            delayDrop: noop,\n            forceDrop: stop,\n            move: function (event) {\n              move(component, dragConfig, dragState, TouchData, event);\n            }\n          };\n          var blocker = createComponent(component, dragConfig.blockerClass, init$1(dragApi));\n          blockerSingleton.set(blocker);\n          var start = function () {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        }),\n        run$1(touchmove(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          move(component, dragConfig, dragState, TouchData, simulatedEvent.event);\n        }),\n        run$1(touchend(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          stopBlocking(component);\n        }),\n        run$1(touchcancel(), stopBlocking)\n      ];\n    };\n    var schema$4 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events$1) })], false);\n\n    var events = function (dragConfig, dragState, updateStartState) {\n      return __spreadArray(__spreadArray([], events$2(dragConfig, dragState, updateStartState), true), events$1(dragConfig, dragState, updateStartState), true);\n    };\n    var schema$3 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events) })], false);\n\n    var mouse = schema$5;\n    var touch = schema$4;\n    var mouseOrTouch = schema$3;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        mouse: mouse,\n        touch: touch,\n        mouseOrTouch: mouseOrTouch\n    });\n\n    var init = function () {\n      var previous = Optional.none();\n      var startData = Optional.none();\n      var reset = function () {\n        previous = Optional.none();\n        startData = Optional.none();\n      };\n      var calculateDelta = function (mode, nu) {\n        var result = previous.map(function (old) {\n          return mode.getDelta(old, nu);\n        });\n        previous = Optional.some(nu);\n        return result;\n      };\n      var update = function (mode, dragEvent) {\n        return mode.getData(dragEvent).bind(function (nuData) {\n          return calculateDelta(mode, nuData);\n        });\n      };\n      var setStartData = function (data) {\n        startData = Optional.some(data);\n      };\n      var getStartData = function () {\n        return startData;\n      };\n      var readState = constant$1({});\n      return nu$8({\n        readState: readState,\n        reset: reset,\n        update: update,\n        getStartData: getStartData,\n        setStartData: setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init\n    });\n\n    var Dragging = createModes({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: function (dragConfig, dragState) {\n          var dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: function (sConfig) {\n          return {\n            sensor: sConfig.sensor,\n            range: sConfig.range,\n            output: sConfig.output,\n            extra: Optional.from(sConfig.extra)\n          };\n        }\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    var snapWidth = 40;\n    var snapOffset = snapWidth / 2;\n    var calcSnap = function (selectorOpt, td, x, y, width, height) {\n      return selectorOpt.fold(function () {\n        return Dragging.snap({\n          sensor: absolute(x - snapOffset, y - snapOffset),\n          range: SugarPosition(width, height),\n          output: absolute(Optional.some(x), Optional.some(y)),\n          extra: { td: td }\n        });\n      }, function (selectorHandle) {\n        var sensorLeft = x - snapOffset;\n        var sensorTop = y - snapOffset;\n        var sensorWidth = snapWidth;\n        var sensorHeight = snapWidth;\n        var rect = selectorHandle.element.dom.getBoundingClientRect();\n        return Dragging.snap({\n          sensor: absolute(sensorLeft, sensorTop),\n          range: SugarPosition(sensorWidth, sensorHeight),\n          output: absolute(Optional.some(x - rect.width / 2), Optional.some(y - rect.height / 2)),\n          extra: { td: td }\n        });\n      });\n    };\n    var getSnapsConfig = function (getSnapPoints, cell, onChange) {\n      var isSameCell = function (cellOpt, td) {\n        return cellOpt.exists(function (currentTd) {\n          return eq(currentTd, td);\n        });\n      };\n      return {\n        getSnapPoints: getSnapPoints,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: function (component, extra) {\n          var td = extra.td;\n          if (!isSameCell(cell.get(), td)) {\n            cell.set(td);\n            onChange(td);\n          }\n        },\n        mustSnap: true\n      };\n    };\n    var createSelector = function (snaps) {\n      return record(Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-selector']\n        },\n        buttonBehaviours: derive$1([\n          Dragging.config({\n            mode: 'mouseOrTouch',\n            blockerClass: 'blocker',\n            snaps: snaps\n          }),\n          Unselecting.config({})\n        ]),\n        eventOrder: {\n          mousedown: [\n            'dragging',\n            'alloy.base.behaviour'\n          ],\n          touchstart: [\n            'dragging',\n            'alloy.base.behaviour'\n          ]\n        }\n      }));\n    };\n    var setup$4 = function (editor, sink) {\n      var tlTds = Cell([]);\n      var brTds = Cell([]);\n      var isVisible = Cell(false);\n      var startCell = value$1();\n      var finishCell = value$1();\n      var getTopLeftSnap = function (td) {\n        var box = absolute$2(td);\n        return calcSnap(memTopLeft.getOpt(sink), td, box.x, box.y, box.width, box.height);\n      };\n      var getTopLeftSnaps = function () {\n        return map$2(tlTds.get(), function (td) {\n          return getTopLeftSnap(td);\n        });\n      };\n      var getBottomRightSnap = function (td) {\n        var box = absolute$2(td);\n        return calcSnap(memBottomRight.getOpt(sink), td, box.right, box.bottom, box.width, box.height);\n      };\n      var getBottomRightSnaps = function () {\n        return map$2(brTds.get(), function (td) {\n          return getBottomRightSnap(td);\n        });\n      };\n      var topLeftSnaps = getSnapsConfig(getTopLeftSnaps, startCell, function (start) {\n        finishCell.get().each(function (finish) {\n          editor.fire('TableSelectorChange', {\n            start: start,\n            finish: finish\n          });\n        });\n      });\n      var bottomRightSnaps = getSnapsConfig(getBottomRightSnaps, finishCell, function (finish) {\n        startCell.get().each(function (start) {\n          editor.fire('TableSelectorChange', {\n            start: start,\n            finish: finish\n          });\n        });\n      });\n      var memTopLeft = createSelector(topLeftSnaps);\n      var memBottomRight = createSelector(bottomRightSnaps);\n      var topLeft = build$1(memTopLeft.asSpec());\n      var bottomRight = build$1(memBottomRight.asSpec());\n      var showOrHideHandle = function (selector, cell, isAbove, isBelow) {\n        var cellRect = cell.dom.getBoundingClientRect();\n        remove$6(selector.element, 'display');\n        var viewportHeight = defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;\n        var aboveViewport = isAbove(cellRect);\n        var belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$7(selector.element, 'display', 'none');\n        }\n      };\n      var snapTo = function (selector, cell, getSnapConfig, pos) {\n        var snap = getSnapConfig(cell);\n        Dragging.snapTo(selector, snap);\n        var isAbove = function (rect) {\n          return rect[pos] < 0;\n        };\n        var isBelow = function (rect, viewportHeight) {\n          return rect[pos] > viewportHeight;\n        };\n        showOrHideHandle(selector, cell, isAbove, isBelow);\n      };\n      var snapTopLeft = function (cell) {\n        return snapTo(topLeft, cell, getTopLeftSnap, 'top');\n      };\n      var snapLastTopLeft = function () {\n        return startCell.get().each(snapTopLeft);\n      };\n      var snapBottomRight = function (cell) {\n        return snapTo(bottomRight, cell, getBottomRightSnap, 'bottom');\n      };\n      var snapLastBottomRight = function () {\n        return finishCell.get().each(snapBottomRight);\n      };\n      if (detect$1().deviceType.isTouch()) {\n        editor.on('TableSelectionChange', function (e) {\n          if (!isVisible.get()) {\n            attach(sink, topLeft);\n            attach(sink, bottomRight);\n            isVisible.set(true);\n          }\n          startCell.set(e.start);\n          finishCell.set(e.finish);\n          e.otherCells.each(function (otherCells) {\n            tlTds.set(otherCells.upOrLeftCells);\n            brTds.set(otherCells.downOrRightCells);\n            snapTopLeft(e.start);\n            snapBottomRight(e.finish);\n          });\n        });\n        editor.on('ResizeEditor ResizeWindow ScrollContent', function () {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('TableSelectionClear', function () {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n          startCell.clear();\n          finishCell.clear();\n        });\n      }\n    };\n\n    var isHidden = function (elm) {\n      if (elm.nodeType === 1) {\n        if (elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus')) {\n          return true;\n        }\n        if (elm.getAttribute('data-mce-type') === 'bookmark') {\n          return true;\n        }\n      }\n      return false;\n    };\n    var renderElementPath = function (editor, settings, providersBackstage) {\n      if (!settings.delimiter) {\n        settings.delimiter = '\\xBB';\n      }\n      var getDataPath = function (data) {\n        var parts = data || [];\n        var newPathElements = map$2(parts, function (part, index) {\n          return Button.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-statusbar__path-item'],\n              attributes: {\n                'role': 'button',\n                'data-index': index,\n                'tab-index': -1,\n                'aria-level': index + 1\n              },\n              innerHtml: part.name\n            },\n            action: function (_btn) {\n              editor.focus();\n              editor.selection.select(part.element);\n              editor.nodeChanged();\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.button(providersBackstage.isDisabled),\n              receivingConfig()\n            ])\n          });\n        });\n        var divider = {\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__path-divider'],\n            attributes: { 'aria-hidden': true },\n            innerHtml: ' ' + settings.delimiter + ' '\n          }\n        };\n        return foldl(newPathElements.slice(1), function (acc, element) {\n          var newAcc = acc;\n          newAcc.push(divider);\n          newAcc.push(element);\n          return newAcc;\n        }, [newPathElements[0]]);\n      };\n      var updatePath = function (parents) {\n        var newPath = [];\n        var i = parents.length;\n        while (i-- > 0) {\n          var parent_1 = parents[i];\n          if (parent_1.nodeType === 1 && !isHidden(parent_1)) {\n            var args = editor.fire('ResolveName', {\n              name: parent_1.nodeName.toLowerCase(),\n              target: parent_1\n            });\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent_1\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Disabling.config({ disabled: providersBackstage.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached(function (comp, _e) {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', function () {\n                return Keying.focusIn(comp);\n              });\n              editor.on('NodeChange', function (e) {\n                var newPath = updatePath(e.parents);\n                if (newPath.length > 0) {\n                  Replacing.set(comp, getDataPath(newPath));\n                } else {\n                  Replacing.set(comp, []);\n                }\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    var getDimensions = function (editor, deltas, resizeType, originalHeight, originalWidth) {\n      var dimensions = {};\n      dimensions.height = calcCappedSize(originalHeight + deltas.top, getMinHeightSetting(editor), getMaxHeightSetting(editor));\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth + deltas.left, getMinWidthSetting(editor), getMaxWidthSetting(editor));\n      }\n      return dimensions;\n    };\n    var resize = function (editor, deltas, resizeType) {\n      var container = SugarElement.fromDom(editor.getContainer());\n      var dimensions = getDimensions(editor, deltas, resizeType, get$b(container), get$a(container));\n      each(dimensions, function (val, dim) {\n        return set$7(container, dim, numToPx(val));\n      });\n      fireResizeEditor(editor);\n    };\n\n    var getResizeType = function (editor) {\n      var fallback = !editor.hasPlugin('autoresize');\n      var resize = editor.getParam('resize', fallback);\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n    var keyboardHandler = function (editor, resizeType, x, y) {\n      var scale = 20;\n      var delta = SugarPosition(x * scale, y * scale);\n      resize(editor, delta, resizeType);\n      return Optional.some(true);\n    };\n    var renderResizeHandler = function (editor, providersBackstage) {\n      var resizeType = getResizeType(editor);\n      if (resizeType === ResizeTypes.None) {\n        return Optional.none();\n      }\n      return Optional.some(render$3('resize-handle', {\n        tag: 'div',\n        classes: ['tox-statusbar__resize-handle'],\n        attributes: { title: providersBackstage.translate('Resize') },\n        behaviours: [\n          Dragging.config({\n            mode: 'mouse',\n            repositionTarget: false,\n            onDrag: function (_comp, _target, delta) {\n              return resize(editor, delta, resizeType);\n            },\n            blockerClass: 'tox-blocker'\n          }),\n          Keying.config({\n            mode: 'special',\n            onLeft: function () {\n              return keyboardHandler(editor, resizeType, -1, 0);\n            },\n            onRight: function () {\n              return keyboardHandler(editor, resizeType, 1, 0);\n            },\n            onUp: function () {\n              return keyboardHandler(editor, resizeType, 0, -1);\n            },\n            onDown: function () {\n              return keyboardHandler(editor, resizeType, 0, 1);\n            }\n          }),\n          Tabstopping.config({}),\n          Focusing.config({})\n        ]\n      }, providersBackstage.icons));\n    };\n\n    var renderWordCount = function (editor, providersBackstage) {\n      var _a;\n      var replaceCountText = function (comp, count, mode) {\n        return Replacing.set(comp, [text$1(providersBackstage.translate([\n            '{0} ' + mode,\n            count[mode]\n          ]))]);\n      };\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            runOnExecute$1(function (comp) {\n              var currentVal = Representing.getValue(comp);\n              var newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(function (comp) {\n              editor.on('wordCountUpdate', function (e) {\n                var mode = Representing.getValue(comp).mode;\n                Representing.setValue(comp, {\n                  mode: mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'alloy.base.behaviour',\n          'wordcount-events'\n        ], _a)\n      });\n    };\n\n    var renderStatusbar = function (editor, providersBackstage) {\n      var renderBranding = function () {\n        var label = global$e.translate([\n          'Powered by {0}',\n          'Tiny'\n        ]);\n        var linkHtml = '<a href=\"https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5\" rel=\"noopener\" target=\"_blank\" tabindex=\"-1\" aria-label=\"' + label + '\">' + label + '</a>';\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding'],\n            innerHtml: linkHtml\n          }\n        };\n      };\n      var getTextComponents = function () {\n        var components = [];\n        if (editor.getParam('elementpath', true, 'boolean')) {\n          components.push(renderElementPath(editor, {}, providersBackstage));\n        }\n        if (editor.hasPlugin('wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (editor.getParam('branding', true, 'boolean')) {\n          components.push(renderBranding());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-statusbar__text-container']\n              },\n              components: components\n            }];\n        }\n        return [];\n      };\n      var getComponents = function () {\n        var components = getTextComponents();\n        var resizeHandler = renderResizeHandler(editor, providersBackstage);\n        return components.concat(resizeHandler.toArray());\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    var setup$3 = function (editor) {\n      var _a;\n      var isInline = editor.inline;\n      var mode = isInline ? Inline : Iframe;\n      var header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      var lazyOuterContainer = Optional.none();\n      var platform = detect$1();\n      var isIE = platform.browser.isIE();\n      var platformClasses = isIE ? ['tox-platform-ie'] : [];\n      var isTouch = platform.deviceType.isTouch();\n      var touchPlatformClass = 'tox-platform-touch';\n      var deviceClasses = isTouch ? [touchPlatformClass] : [];\n      var isToolbarBottom = isToolbarLocationBottom(editor);\n      var uiContainer = getUiContainer(editor);\n      var dirAttributes = global$e.isRtl() ? { attributes: { dir: 'rtl' } } : {};\n      var verticalDirAttributes = { attributes: (_a = {}, _a[Attribute] = isToolbarBottom ? AttributeValue.BottomToTop : AttributeValue.TopToBottom, _a) };\n      var lazyHeader = function () {\n        return lazyOuterContainer.bind(OuterContainer.getHeader);\n      };\n      var isHeaderDocked = function () {\n        return header.isDocked(lazyHeader);\n      };\n      var resizeUiMothership = function () {\n        set$7(uiMothership.element, 'width', document.body.clientWidth + 'px');\n      };\n      var makeSinkDefinition = function () {\n        var isGridUiContainer = eq(body(), uiContainer) && get$c(uiContainer, 'display') === 'grid';\n        var sinkSpec = {\n          dom: __assign({\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-tinymce-aux'\n            ].concat(platformClasses).concat(deviceClasses)\n          }, dirAttributes),\n          behaviours: derive$1([Positioning.config({\n              useFixed: function () {\n                return isHeaderDocked();\n              }\n            })])\n        };\n        var reactiveWidthSpec = {\n          dom: { styles: { width: document.body.clientWidth + 'px' } },\n          events: derive$2([run$1(windowResize(), resizeUiMothership)])\n        };\n        return deepMerge(sinkSpec, isGridUiContainer ? reactiveWidthSpec : {});\n      };\n      var sink = build$1(makeSinkDefinition());\n      var lazySink = function () {\n        return Result.value(sink);\n      };\n      var memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      var lazyAnchorBar = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return memAnchorBar.getOpt(container);\n        }).getOrDie('Could not find a anchor bar element');\n      };\n      var lazyToolbar = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return OuterContainer.getToolbar(container);\n        }).getOrDie('Could not find more toolbar element');\n      };\n      var lazyThrobber = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return OuterContainer.getThrobber(container);\n        }).getOrDie('Could not find throbber element');\n      };\n      var backstage = init$7(sink, editor, lazyAnchorBar);\n      var partMenubar = OuterContainer.parts.menubar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-menubar']\n        },\n        backstage: backstage,\n        onEscape: function () {\n          editor.focus();\n        }\n      });\n      var toolbarMode = getToolbarMode(editor);\n      var partToolbar = OuterContainer.parts.toolbar(__assign({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar']\n        },\n        getSink: lazySink,\n        providers: backstage.shared.providers,\n        onEscape: function () {\n          editor.focus();\n        },\n        type: toolbarMode,\n        lazyToolbar: lazyToolbar,\n        lazyHeader: function () {\n          return lazyHeader().getOrDie('Could not find header element');\n        }\n      }, verticalDirAttributes));\n      var partMultipleToolbar = OuterContainer.parts['multiple-toolbar']({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        providers: backstage.shared.providers,\n        onEscape: function () {\n          editor.focus();\n        },\n        type: toolbarMode\n      });\n      var partSocket = OuterContainer.parts.socket({\n        dom: {\n          tag: 'div',\n          classes: ['tox-edit-area']\n        }\n      });\n      var partSidebar = OuterContainer.parts.sidebar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar']\n        }\n      });\n      var partThrobber = OuterContainer.parts.throbber({\n        dom: {\n          tag: 'div',\n          classes: ['tox-throbber']\n        },\n        backstage: backstage\n      });\n      var sb = editor.getParam('statusbar', true, 'boolean');\n      var statusbar = sb && !isInline ? Optional.some(renderStatusbar(editor, backstage.shared.providers)) : Optional.none();\n      var socketSidebarContainer = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar-wrap']\n        },\n        components: [\n          partSocket,\n          partSidebar\n        ]\n      };\n      var hasMultipleToolbar = isMultipleToolbars(editor);\n      var hasToolbar = isToolbarEnabled(editor);\n      var hasMenubar = isMenubarEnabled(editor);\n      var getPartToolbar = function () {\n        if (hasMultipleToolbar) {\n          return [partMultipleToolbar];\n        } else if (hasToolbar) {\n          return [partToolbar];\n        } else {\n          return [];\n        }\n      };\n      var partHeader = OuterContainer.parts.header({\n        dom: __assign({\n          tag: 'div',\n          classes: ['tox-editor-header']\n        }, verticalDirAttributes),\n        components: flatten([\n          hasMenubar ? [partMenubar] : [],\n          getPartToolbar(),\n          useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n        ]),\n        sticky: isStickyToolbar(editor),\n        editor: editor,\n        sharedBackstage: backstage.shared\n      });\n      var editorComponents = flatten([\n        isToolbarBottom ? [] : [partHeader],\n        isInline ? [] : [socketSidebarContainer],\n        isToolbarBottom ? [partHeader] : []\n      ]);\n      var editorContainer = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-editor-container']\n        },\n        components: editorComponents\n      };\n      var containerComponents = flatten([\n        [editorContainer],\n        isInline ? [] : statusbar.toArray(),\n        [partThrobber]\n      ]);\n      var isHidden = isDistractionFree(editor);\n      var attributes = __assign(__assign({ role: 'application' }, global$e.isRtl() ? { dir: 'rtl' } : {}), isHidden ? { 'aria-hidden': 'true' } : {});\n      var outerContainer = build$1(OuterContainer.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox',\n            'tox-tinymce'\n          ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(isToolbarBottom ? ['tox-tinymce--toolbar-bottom'] : []).concat(deviceClasses).concat(platformClasses),\n          styles: __assign({ visibility: 'hidden' }, isHidden ? {\n            opacity: '0',\n            border: '0'\n          } : {}),\n          attributes: attributes\n        },\n        components: containerComponents,\n        behaviours: derive$1([\n          receivingConfig(),\n          Disabling.config({ disableClass: 'tox-tinymce--disabled' }),\n          Keying.config({\n            mode: 'cyclic',\n            selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'\n          })\n        ])\n      }));\n      lazyOuterContainer = Optional.some(outerContainer);\n      editor.shortcuts.add('alt+F9', 'focus menubar', function () {\n        OuterContainer.focusMenubar(outerContainer);\n      });\n      editor.shortcuts.add('alt+F10', 'focus toolbar', function () {\n        OuterContainer.focusToolbar(outerContainer);\n      });\n      editor.addCommand('ToggleToolbarDrawer', function () {\n        OuterContainer.toggleToolbarDrawer(outerContainer);\n      });\n      editor.addQueryStateHandler('ToggleToolbarDrawer', function () {\n        return OuterContainer.isToolbarDrawerToggled(outerContainer);\n      });\n      var mothership = takeover(outerContainer);\n      var uiMothership = takeover(sink);\n      setup$b(editor, mothership, uiMothership);\n      var getUi = function () {\n        var channels = {\n          broadcastAll: uiMothership.broadcast,\n          broadcastOn: uiMothership.broadcastOn,\n          register: noop\n        };\n        return { channels: channels };\n      };\n      var setEditorSize = function () {\n        var parsedHeight = numToPx(getHeightWithFallback(editor));\n        var parsedWidth = numToPx(getWidthWithFallback(editor));\n        if (!editor.inline) {\n          if (isValidValue('div', 'width', parsedWidth)) {\n            set$7(outerContainer.element, 'width', parsedWidth);\n          }\n          if (isValidValue('div', 'height', parsedHeight)) {\n            set$7(outerContainer.element, 'height', parsedHeight);\n          } else {\n            set$7(outerContainer.element, 'height', '200px');\n          }\n        }\n        return parsedHeight;\n      };\n      var renderUI = function () {\n        header.setup(editor, backstage.shared, lazyHeader);\n        setup$6(editor, backstage);\n        setup$5(editor, lazySink, backstage);\n        setup$8(editor);\n        setup$7(editor, lazyThrobber, backstage.shared);\n        map$1(getToolbarGroups(editor), function (toolbarGroupButtonConfig, name) {\n          editor.ui.registry.addGroupToolbarButton(name, toolbarGroupButtonConfig);\n        });\n        var _a = editor.ui.registry.getAll(), buttons = _a.buttons, menuItems = _a.menuItems, contextToolbars = _a.contextToolbars, sidebars = _a.sidebars;\n        var toolbarOpt = getMultipleToolbarsSetting(editor);\n        var rawUiConfig = {\n          menuItems: menuItems,\n          menus: getMenus(editor),\n          menubar: getMenubar(editor),\n          toolbar: toolbarOpt.getOrThunk(function () {\n            return getToolbar(editor);\n          }),\n          allowToolbarGroups: toolbarMode === ToolbarMode.floating,\n          buttons: buttons,\n          sidebar: sidebars\n        };\n        register$7(editor, contextToolbars, sink, { backstage: backstage });\n        setup$4(editor, sink);\n        var elm = editor.getElement();\n        var height = setEditorSize();\n        var uiComponents = {\n          mothership: mothership,\n          uiMothership: uiMothership,\n          outerContainer: outerContainer\n        };\n        var args = {\n          targetNode: elm,\n          height: height\n        };\n        return mode.render(editor, uiComponents, rawUiConfig, backstage, args);\n      };\n      return {\n        mothership: mothership,\n        uiMothership: uiMothership,\n        backstage: backstage,\n        renderUI: renderUI,\n        getUi: getUi\n      };\n    };\n\n    var describedBy = function (describedElement, describeElement) {\n      var describeId = Optional.from(get$d(describedElement, 'id')).fold(function () {\n        var id = generate$6('dialog-describe');\n        set$8(describeElement, 'id', id);\n        return id;\n      }, identity$1);\n      set$8(describedElement, 'aria-describedby', describeId);\n    };\n\n    var labelledBy = function (labelledElement, labelElement) {\n      var labelId = getOpt(labelledElement, 'id').fold(function () {\n        var id = generate$6('dialog-label');\n        set$8(labelElement, 'id', id);\n        return id;\n      }, identity$1);\n      set$8(labelledElement, 'aria-labelledby', labelId);\n    };\n\n    var schema$2 = constant$1([\n      required$1('lazySink'),\n      option('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted('useTabstopAt', always),\n      defaulted('eventOrder', {}),\n      field('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    var basic = { sketch: identity$1 };\n    var parts$2 = constant$1([\n      optional({\n        name: 'draghandle',\n        overrides: function (detail, spec) {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: function (handle) {\n                  return ancestor(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [required$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'footer'\n      }),\n      external$1({\n        factory: {\n          sketch: function (spec, detail) {\n            return __assign(__assign({}, spec), {\n              dom: detail.dom,\n              components: detail.components\n            });\n          }\n        },\n        schema: [\n          defaulted('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    var factory$4 = function (detail, components, spec, externals) {\n      var _a;\n      var dialogComp = value$1();\n      var showDialog = function (dialog) {\n        dialogComp.set(dialog);\n        var sink = detail.lazySink(dialog).getOrDie();\n        var externalBlocker = externals.blocker();\n        var blocker = sink.getSystem().build(__assign(__assign({}, externalBlocker), {\n          components: externalBlocker.components.concat([premade(dialog)]),\n          behaviours: derive$1([\n            Focusing.config({}),\n            config('dialog-blocker-events', [runOnSource(focusin(), function () {\n                Keying.focusIn(dialog);\n              })])\n          ])\n        }));\n        attach(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      var hideDialog = function (dialog) {\n        dialogComp.clear();\n        parent(dialog.element).each(function (blockerDom) {\n          dialog.getSystem().getByDom(blockerDom).each(function (blocker) {\n            detach(blocker);\n          });\n        });\n      };\n      var getDialogBody = function (dialog) {\n        return getPartOrDie(dialog, detail, 'body');\n      };\n      var getDialogFooter = function (dialog) {\n        return getPartOrDie(dialog, detail, 'footer');\n      };\n      var setBusy = function (dialog, getBusySpec) {\n        Blocking.block(dialog, getBusySpec);\n      };\n      var setIdle = function (dialog) {\n        Blocking.unblock(dialog);\n      };\n      var modalEventsId = generate$6('modal-events');\n      var eventOrder = __assign(__assign({}, detail.eventOrder), (_a = {}, _a[attachedToDom()] = [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || []), _a));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle: setIdle,\n          setBusy: setBusy\n        },\n        eventOrder: eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt\n          }),\n          Blocking.config({ getRoot: dialogComp.get }),\n          config(modalEventsId, [runOnAttached(function (c) {\n              labelledBy(c.element, getPartOrDie(c, detail, 'title').element);\n              describedBy(c.element, getPartOrDie(c, detail, 'body').element);\n            })])\n        ])\n      };\n    };\n    var ModalDialog = composite({\n      name: 'ModalDialog',\n      configFields: schema$2(),\n      partFields: parts$2(),\n      factory: factory$4,\n      apis: {\n        show: function (apis, dialog) {\n          apis.show(dialog);\n        },\n        hide: function (apis, dialog) {\n          apis.hide(dialog);\n        },\n        getBody: function (apis, dialog) {\n          return apis.getBody(dialog);\n        },\n        getFooter: function (apis, dialog) {\n          return apis.getFooter(dialog);\n        },\n        setBusy: function (apis, dialog, getBusySpec) {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: function (apis, dialog) {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    var dialogToggleMenuItemSchema = objOf([\n      requiredString('type'),\n      requiredString('name')\n    ].concat(commonMenuItemFields));\n    var dialogToggleMenuItemDataProcessor = boolean;\n\n    var baseFooterButtonFields = [\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('button-name');\n      }), string),\n      optionString('icon'),\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      defaultedBoolean('primary', false),\n      defaultedBoolean('disabled', false)\n    ];\n    var dialogFooterButtonFields = __spreadArray(__spreadArray([], baseFooterButtonFields, true), [requiredString('text')], false);\n    var normalFooterButtonFields = __spreadArray([requiredStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ])], dialogFooterButtonFields, true);\n    var menuFooterButtonFields = __spreadArray([\n      requiredStringEnum('type', ['menu']),\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      requiredArrayOf('items', dialogToggleMenuItemSchema)\n    ], baseFooterButtonFields, true);\n    var dialogFooterButtonSchema = choose$1('type', {\n      submit: normalFooterButtonFields,\n      cancel: normalFooterButtonFields,\n      custom: normalFooterButtonFields,\n      menu: menuFooterButtonFields\n    });\n\n    var alertBannerFields = [\n      requiredString('type'),\n      requiredString('text'),\n      requiredStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      requiredString('icon'),\n      defaulted('url', '')\n    ];\n    var alertBannerSchema = objOf(alertBannerFields);\n\n    var createBarFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        itemsField\n      ];\n    };\n\n    var buttonFields = [\n      requiredString('type'),\n      requiredString('text'),\n      defaultedBoolean('disabled', false),\n      defaultedBoolean('primary', false),\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('button-name');\n      }), string),\n      optionString('icon'),\n      defaultedBoolean('borderless', false)\n    ];\n    var buttonSchema = objOf(buttonFields);\n\n    var checkboxFields = [\n      requiredString('type'),\n      requiredString('name'),\n      requiredString('label'),\n      defaultedBoolean('disabled', false)\n    ];\n    var checkboxSchema = objOf(checkboxFields);\n    var checkboxDataProcessor = boolean;\n\n    var formComponentFields = [\n      requiredString('type'),\n      requiredString('name')\n    ];\n    var formComponentWithLabelFields = formComponentFields.concat([optionString('label')]);\n\n    var collectionFields = formComponentWithLabelFields.concat([defaulted('columns', 'auto')]);\n    var collectionSchema = objOf(collectionFields);\n    var collectionDataProcessor = arrOfObj([\n      requiredString('value'),\n      requiredString('text'),\n      requiredString('icon')\n    ]);\n\n    var colorInputFields = formComponentWithLabelFields;\n    var colorInputSchema = objOf(colorInputFields);\n    var colorInputDataProcessor = string;\n\n    var colorPickerFields = formComponentWithLabelFields;\n    var colorPickerSchema = objOf(colorPickerFields);\n    var colorPickerDataProcessor = string;\n\n    var customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredString('scriptId'),\n      requiredString('scriptUrl'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    var customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredFunction('init')\n    ]);\n    var customEditorSchema = valueOf(function (v) {\n      return asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(function () {\n        return asRaw('customeditor.new', objOfOnly(customEditorFields), v);\n      });\n    });\n    var customEditorDataProcessor = string;\n\n    var dropZoneFields = formComponentWithLabelFields;\n    var dropZoneSchema = objOf(dropZoneFields);\n    var dropZoneDataProcessor = arrOfVal();\n\n    var createGridFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        requiredNumber('columns'),\n        itemsField\n      ];\n    };\n\n    var htmlPanelFields = [\n      requiredString('type'),\n      requiredString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ])\n    ];\n    var htmlPanelSchema = objOf(htmlPanelFields);\n\n    var iframeFields = formComponentWithLabelFields.concat([defaultedBoolean('sandboxed', true)]);\n    var iframeSchema = objOf(iframeFields);\n    var iframeDataProcessor = string;\n\n    var imageToolsFields = formComponentWithLabelFields.concat([requiredOf('currentState', objOf([\n        required$1('blob'),\n        requiredString('url')\n      ]))]);\n    var imageToolsSchema = objOf(imageToolsFields);\n\n    var inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      defaultedBoolean('disabled', false)\n    ]);\n    var inputSchema = objOf(inputFields);\n    var inputDataProcessor = string;\n\n    var createLabelFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        requiredString('label'),\n        itemsField\n      ];\n    };\n\n    var listBoxSingleItemFields = [\n      requiredString('text'),\n      requiredString('value')\n    ];\n    var listBoxNestedItemFields = [\n      requiredString('text'),\n      requiredArrayOf('items', thunkOf('items', function () {\n        return listBoxItemSchema;\n      }))\n    ];\n    var listBoxItemSchema = oneOf([\n      objOf(listBoxSingleItemFields),\n      objOf(listBoxNestedItemFields)\n    ]);\n    var listBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOf('items', listBoxItemSchema),\n      defaultedBoolean('disabled', false)\n    ]);\n    var listBoxSchema = objOf(listBoxFields);\n    var listBoxDataProcessor = string;\n\n    var selectBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOfObj('items', [\n        requiredString('text'),\n        requiredString('value')\n      ]),\n      defaultedNumber('size', 1),\n      defaultedBoolean('disabled', false)\n    ]);\n    var selectBoxSchema = objOf(selectBoxFields);\n    var selectBoxDataProcessor = string;\n\n    var sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      defaultedBoolean('disabled', false)\n    ]);\n    var sizeInputSchema = objOf(sizeInputFields);\n    var sizeInputDataProcessor = objOf([\n      requiredString('width'),\n      requiredString('height')\n    ]);\n\n    var tableFields = [\n      requiredString('type'),\n      requiredArrayOf('header', string),\n      requiredArrayOf('cells', arrOf(string))\n    ];\n    var tableSchema = objOf(tableFields);\n\n    var textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      defaultedBoolean('disabled', false)\n    ]);\n    var textAreaSchema = objOf(textAreaFields);\n    var textAreaDataProcessor = string;\n\n    var urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      defaulted('disabled', false)\n    ]);\n    var urlInputSchema = objOf(urlInputFields);\n    var urlInputDataProcessor = objOf([\n      requiredString('value'),\n      defaulted('meta', {})\n    ]);\n\n    var createItemsField = function (name) {\n      return field$1('items', 'items', required$2(), arrOf(valueOf(function (v) {\n        return asRaw('Checking item of ' + name, itemSchema, v).fold(function (sErr) {\n          return Result.error(formatError(sErr));\n        }, function (passValue) {\n          return Result.value(passValue);\n        });\n      })));\n    };\n    var itemSchema = valueThunk(function () {\n      return choose$2('type', {\n        alertbanner: alertBannerSchema,\n        bar: objOf(createBarFields(createItemsField('bar'))),\n        button: buttonSchema,\n        checkbox: checkboxSchema,\n        colorinput: colorInputSchema,\n        colorpicker: colorPickerSchema,\n        dropzone: dropZoneSchema,\n        grid: objOf(createGridFields(createItemsField('grid'))),\n        iframe: iframeSchema,\n        input: inputSchema,\n        listbox: listBoxSchema,\n        selectbox: selectBoxSchema,\n        sizeinput: sizeInputSchema,\n        textarea: textAreaSchema,\n        urlinput: urlInputSchema,\n        customeditor: customEditorSchema,\n        htmlpanel: htmlPanelSchema,\n        imagetools: imageToolsSchema,\n        collection: collectionSchema,\n        label: objOf(createLabelFields(createItemsField('label'))),\n        table: tableSchema,\n        panel: panelSchema\n      });\n    });\n    var panelFields = [\n      requiredString('type'),\n      defaulted('classes', []),\n      requiredArrayOf('items', itemSchema)\n    ];\n    var panelSchema = objOf(panelFields);\n\n    var tabFields = [\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('tab-name');\n      }), string),\n      requiredString('title'),\n      requiredArrayOf('items', itemSchema)\n    ];\n    var tabPanelFields = [\n      requiredString('type'),\n      requiredArrayOfObj('tabs', tabFields)\n    ];\n    var tabPanelSchema = objOf(tabPanelFields);\n\n    var dialogButtonFields = dialogFooterButtonFields;\n    var dialogButtonSchema = dialogFooterButtonSchema;\n    var dialogSchema = objOf([\n      requiredString('title'),\n      requiredOf('body', choose$2('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      requiredArrayOf('buttons', dialogButtonSchema),\n      defaulted('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaulted('onTabChange', noop)\n    ]);\n    var createDialog = function (spec) {\n      return asRaw('dialog', dialogSchema, spec);\n    };\n\n    var urlDialogButtonSchema = objOf(__spreadArray([requiredStringEnum('type', [\n        'cancel',\n        'custom'\n      ])], dialogButtonFields, true));\n    var urlDialogSchema = objOf([\n      requiredString('title'),\n      requiredString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    var createUrlDialog = function (spec) {\n      return asRaw('dialog', urlDialogSchema, spec);\n    };\n\n    var getAllObjects = function (obj) {\n      if (isObject(obj)) {\n        return [obj].concat(bind$3(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind$3(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    var isNamedItem = function (obj) {\n      return isString(obj.type) && isString(obj.name);\n    };\n    var dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      listbox: listBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    var getDataProcessor = function (item) {\n      return Optional.from(dataProcessors[item.type]);\n    };\n    var getNamedItems = function (structure) {\n      return filter$2(getAllObjects(structure), isNamedItem);\n    };\n\n    var createDataValidator = function (structure) {\n      var namedItems = getNamedItems(structure);\n      var fields = bind$3(namedItems, function (item) {\n        return getDataProcessor(item).fold(function () {\n          return [];\n        }, function (schema) {\n          return [requiredOf(item.name, schema)];\n        });\n      });\n      return objOf(fields);\n    };\n\n    var extract = function (structure) {\n      var internalDialog = getOrDie(createDialog(structure));\n      var dataValidator = createDataValidator(structure);\n      var initialData = structure.initialData;\n      return {\n        internalDialog: internalDialog,\n        dataValidator: dataValidator,\n        initialData: initialData\n      };\n    };\n    var DialogManager = {\n      open: function (factory, structure) {\n        var extraction = extract(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: function (factory, structure) {\n        var internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: function (structure) {\n        return extract(structure);\n      }\n    };\n\n    var toValidValues = function (values) {\n      var errors = [];\n      var result = {};\n      each(values, function (value, name) {\n        value.fold(function () {\n          errors.push(name);\n        }, function (v) {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    var renderBodyPanel = function (spec, backstage) {\n      var memForm = record(Form.sketch(function (parts) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form'].concat(spec.classes)\n          },\n          components: map$2(spec.items, function (item) {\n            return interpretInForm(parts, item, backstage);\n          })\n        };\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          RepresentingConfigs.memento(memForm, {\n            postprocess: function (formValue) {\n              return toValidValues(formValue).fold(function (err) {\n                console.error(err);\n                return {};\n              }, identity$1);\n            }\n          })\n        ])\n      };\n    };\n\n    var factory$3 = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events: events$a(detail.action),\n        behaviours: augment(detail.tabButtonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.value\n            }\n          })\n        ]),\n        domModification: detail.domModification\n      };\n    };\n    var TabButton = single({\n      name: 'TabButton',\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('value'),\n        field$1('dom', 'dom', mergeWithThunk(function () {\n          return {\n            attributes: {\n              'role': 'tab',\n              'id': generate$6('aria'),\n              'aria-selected': 'false'\n            }\n          };\n        }), anyValue()),\n        option('action'),\n        defaulted('domModification', {}),\n        field('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        required$1('view')\n      ],\n      factory: factory$3\n    });\n\n    var schema$1 = constant$1([\n      required$1('tabs'),\n      required$1('dom'),\n      defaulted('clickToDismiss', false),\n      field('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers$1([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    var tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: function (barDetail) {\n        var dismissTab$1 = function (tabbar, button) {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar: tabbar,\n            button: button\n          });\n        };\n        var changeTab$1 = function (tabbar, button) {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar: tabbar,\n            button: button\n          });\n        };\n        return {\n          action: function (button) {\n            var tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            var activeButton = Highlighting.isHighlighted(tabbar, button);\n            var response = function () {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            }();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    var parts$1 = constant$1([tabsPart]);\n\n    var factory$2 = function (detail, components, _spec, _externals) {\n      return {\n        'uid': detail.uid,\n        'dom': detail.dom,\n        components: components,\n        'debug.sketcher': 'Tabbar',\n        'domModification': { attributes: { role: 'tablist' } },\n        'behaviours': augment(detail.tabbarBehaviours, [\n          Highlighting.config({\n            highlightClass: detail.markers.selectedClass,\n            itemClass: detail.markers.tabClass,\n            onHighlight: function (tabbar, tab) {\n              set$8(tab.element, 'aria-selected', 'true');\n            },\n            onDehighlight: function (tabbar, tab) {\n              set$8(tab.element, 'aria-selected', 'false');\n            }\n          }),\n          Keying.config({\n            mode: 'flow',\n            getInitial: function (tabbar) {\n              return Highlighting.getHighlighted(tabbar).map(function (tab) {\n                return tab.element;\n              });\n            },\n            selector: '.' + detail.markers.tabClass,\n            executeOnMove: true\n          })\n        ])\n      };\n    };\n    var Tabbar = composite({\n      name: 'Tabbar',\n      configFields: schema$1(),\n      partFields: parts$1(),\n      factory: factory$2\n    });\n\n    var factory$1 = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n        domModification: { attributes: { role: 'tabpanel' } }\n      };\n    };\n    var Tabview = single({\n      name: 'Tabview',\n      configFields: [field('tabviewBehaviours', [Replacing])],\n      factory: factory$1\n    });\n\n    var schema = constant$1([\n      defaulted('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted('tabs', []),\n      field('tabSectionBehaviours', [])\n    ]);\n    var barPart = required({\n      factory: Tabbar,\n      schema: [\n        required$1('dom'),\n        requiredObjOf('markers', [\n          required$1('tabClass'),\n          required$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: function (detail) {\n        return { tabs: detail.tabs };\n      }\n    });\n    var viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    var parts = constant$1([\n      barPart,\n      viewPart\n    ]);\n\n    var factory = function (detail, components, _spec, _externals) {\n      var changeTab$1 = function (button) {\n        var tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(function (tabview) {\n          var tabWithValue = find$5(detail.tabs, function (t) {\n            return t.value === tabValue;\n          });\n          tabWithValue.each(function (tabData) {\n            var panel = tabData.view();\n            getOpt(button.element, 'id').each(function (id) {\n              set$8(tabview.element, 'aria-labelledby', id);\n            });\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      var changeTabBy = function (section, byPred) {\n        getPart(section, detail, 'tabbar').each(function (tabbar) {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: get$2(detail.tabSectionBehaviours),\n        events: derive$2(flatten([\n          detail.selectFirst ? [runOnAttached(function (section, _simulatedEvent) {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run$1(changeTab(), function (section, simulatedEvent) {\n              var button = simulatedEvent.event.button;\n              changeTab$1(button);\n            }),\n            run$1(dismissTab(), function (section, simulatedEvent) {\n              var button = simulatedEvent.event.button;\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: function (section) {\n            return getPart(section, detail, 'tabview').map(function (tabview) {\n              return Replacing.contents(tabview);\n            }).getOr([]);\n          },\n          showTab: function (section, tabKey) {\n            var getTabIfNotActive = function (tabbar) {\n              var candidates = Highlighting.getCandidates(tabbar);\n              var optTab = find$5(candidates, function (c) {\n                return Representing.getValue(c) === tabKey;\n              });\n              return optTab.filter(function (tab) {\n                return !Highlighting.isHighlighted(tabbar, tab);\n              });\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    var TabSection = composite({\n      name: 'TabSection',\n      configFields: schema(),\n      partFields: parts(),\n      factory: factory,\n      apis: {\n        getViewItems: function (apis, component) {\n          return apis.getViewItems(component);\n        },\n        showTab: function (apis, component, tabKey) {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    var measureHeights = function (allTabs, tabview, tabviewComp) {\n      return map$2(allTabs, function (_tab, i) {\n        Replacing.set(tabviewComp, allTabs[i].view());\n        var rect = tabview.dom.getBoundingClientRect();\n        Replacing.set(tabviewComp, []);\n        return rect.height;\n      });\n    };\n    var getMaxHeight = function (heights) {\n      return head(sort(heights, function (a, b) {\n        if (a > b) {\n          return -1;\n        } else if (a < b) {\n          return +1;\n        } else {\n          return 0;\n        }\n      }));\n    };\n    var getMaxTabviewHeight = function (dialog, tabview, tablist) {\n      var documentElement$1 = documentElement(dialog).dom;\n      var rootElm = ancestor(dialog, '.tox-dialog-wrap').getOr(dialog);\n      var isFixed = get$c(rootElm, 'position') === 'fixed';\n      var maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(documentElement$1.clientHeight, window.innerHeight);\n      } else {\n        maxHeight = Math.max(documentElement$1.offsetHeight, documentElement$1.scrollHeight);\n      }\n      var tabviewHeight = get$b(tabview);\n      var isTabListBeside = tabview.dom.offsetLeft >= tablist.dom.offsetLeft + get$a(tablist);\n      var currentTabHeight = isTabListBeside ? Math.max(get$b(tablist), tabviewHeight) : tabviewHeight;\n      var dialogTopMargin = parseInt(get$c(dialog, 'margin-top'), 10) || 0;\n      var dialogBottomMargin = parseInt(get$c(dialog, 'margin-bottom'), 10) || 0;\n      var dialogHeight = get$b(dialog) + dialogTopMargin + dialogBottomMargin;\n      var chromeHeight = dialogHeight - currentTabHeight;\n      return maxHeight - chromeHeight;\n    };\n    var showTab = function (allTabs, comp) {\n      head(allTabs).each(function (tab) {\n        return TabSection.showTab(comp, tab.value);\n      });\n    };\n    var setTabviewHeight = function (tabview, height) {\n      set$7(tabview, 'height', height + 'px');\n      if (!detect$1().browser.isIE()) {\n        set$7(tabview, 'flex-basis', height + 'px');\n      } else {\n        remove$6(tabview, 'flex-basis');\n      }\n    };\n    var updateTabviewHeight = function (dialogBody, tabview, maxTabHeight) {\n      ancestor(dialogBody, '[role=\"dialog\"]').each(function (dialog) {\n        descendant(dialog, '[role=\"tablist\"]').each(function (tablist) {\n          maxTabHeight.get().map(function (height) {\n            set$7(tabview, 'height', '0');\n            set$7(tabview, 'flex-basis', '0');\n            return Math.min(height, getMaxTabviewHeight(dialog, tabview, tablist));\n          }).each(function (height) {\n            setTabviewHeight(tabview, height);\n          });\n        });\n      });\n    };\n    var getTabview = function (dialog) {\n      return descendant(dialog, '[role=\"tabpanel\"]');\n    };\n    var setMode = function (allTabs) {\n      var smartTabHeight = function () {\n        var maxTabHeight = value$1();\n        var extraEvents = [\n          runOnAttached(function (comp) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              set$7(tabview, 'visibility', 'hidden');\n              comp.getSystem().getByDom(tabview).toOptional().each(function (tabviewComp) {\n                var heights = measureHeights(allTabs, tabview, tabviewComp);\n                var maxTabHeightOpt = getMaxHeight(heights);\n                maxTabHeightOpt.fold(maxTabHeight.clear, maxTabHeight.set);\n              });\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n              remove$6(tabview, 'visibility');\n              showTab(allTabs, comp);\n              global$f.requestAnimationFrame(function () {\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              });\n            });\n          }),\n          run$1(windowResize(), function (comp) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            });\n          }),\n          run$1(formResizeEvent, function (comp, _se) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              var oldFocus = active(getRootNode(tabview));\n              set$7(tabview, 'visibility', 'hidden');\n              var oldHeight = getRaw(tabview, 'height').map(function (h) {\n                return parseInt(h, 10);\n              });\n              remove$6(tabview, 'height');\n              remove$6(tabview, 'flex-basis');\n              var newHeight = tabview.dom.getBoundingClientRect().height;\n              var hasGrown = oldHeight.forall(function (h) {\n                return newHeight > h;\n              });\n              if (hasGrown) {\n                maxTabHeight.set(newHeight);\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              } else {\n                oldHeight.each(function (h) {\n                  setTabviewHeight(tabview, h);\n                });\n              }\n              remove$6(tabview, 'visibility');\n              oldFocus.each(focus$3);\n            });\n          })\n        ];\n        var selectFirst = false;\n        return {\n          extraEvents: extraEvents,\n          selectFirst: selectFirst\n        };\n      }();\n      var naiveTabHeight = function () {\n        var extraEvents = [];\n        var selectFirst = true;\n        return {\n          extraEvents: extraEvents,\n          selectFirst: selectFirst\n        };\n      }();\n      return {\n        smartTabHeight: smartTabHeight,\n        naiveTabHeight: naiveTabHeight\n      };\n    };\n\n    var SendDataToSectionChannel = 'send-data-to-section';\n    var SendDataToViewChannel = 'send-data-to-view';\n    var renderTabPanel = function (spec, backstage) {\n      var storedValue = Cell({});\n      var updateDataWithForm = function (form) {\n        var formData = Representing.getValue(form);\n        var validData = toValidValues(formData).getOr({});\n        var currentData = storedValue.get();\n        var newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      var setDataOnForm = function (form) {\n        var tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      var oldTab = Cell(null);\n      var allTabs = map$2(spec.tabs, function (tab) {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item'],\n            innerHtml: backstage.shared.providers.translate(tab.title)\n          },\n          view: function () {\n            return [Form.sketch(function (parts) {\n                return {\n                  dom: {\n                    tag: 'div',\n                    classes: ['tox-form']\n                  },\n                  components: map$2(tab.items, function (item) {\n                    return interpretInForm(parts, item, backstage);\n                  }),\n                  formBehaviours: derive$1([\n                    Keying.config({\n                      mode: 'acyclic',\n                      useTabstopAt: not(isPseudoStop)\n                    }),\n                    config('TabView.form.events', [\n                      runOnAttached(setDataOnForm),\n                      runOnDetached(updateDataWithForm)\n                    ]),\n                    Receiving.config({\n                      channels: wrapAll([\n                        {\n                          key: SendDataToSectionChannel,\n                          value: { onReceive: updateDataWithForm }\n                        },\n                        {\n                          key: SendDataToViewChannel,\n                          value: { onReceive: setDataOnForm }\n                        }\n                      ])\n                    })\n                  ])\n                };\n              })];\n          }\n        };\n      });\n      var tabMode = setMode(allTabs).smartTabHeight;\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: function (section, button, _viewItems) {\n          var name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name: name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts.tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts.tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts.tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({\n            find: function (comp) {\n              return head(TabSection.getViewItems(comp));\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (tsection) {\n                tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n                return storedValue.get();\n              },\n              setValue: function (tsection, value) {\n                storedValue.set(value);\n                tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n              }\n            }\n          })\n        ])\n      });\n    };\n\n    var dialogChannel = generate$6('update-dialog');\n    var titleChannel = generate$6('update-title');\n    var bodyChannel = generate$6('update-body');\n    var footerChannel = generate$6('update-footer');\n    var bodySendMessageChannel = generate$6('body-send-message');\n\n    var renderBody = function (spec, id, backstage, ariaAttrs) {\n      var renderComponents = function (incoming) {\n        switch (incoming.body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(incoming.body, backstage)];\n          }\n        default: {\n            return [renderBodyPanel(incoming.body, backstage)];\n          }\n        }\n      };\n      var updateState = function (_comp, incoming) {\n        return Optional.some({\n          isTabPanel: function () {\n            return incoming.body.type === 'tabpanel';\n          }\n        });\n      };\n      var ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: __assign(__assign({}, id.map(function (x) {\n            return { id: x };\n          }).getOr({})), ariaAttrs ? ariaAttributes : {})\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: bodyChannel,\n            updateState: updateState,\n            renderComponents: renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    var renderInlineBody = function (spec, contentId, backstage, ariaAttrs) {\n      return renderBody(spec, Optional.some(contentId), backstage, ariaAttrs);\n    };\n    var renderModalBody = function (spec, backstage) {\n      var bodySpec = renderBody(spec, Optional.none(), backstage, false);\n      return ModalDialog.parts.body(bodySpec);\n    };\n    var renderIframeBody = function (spec) {\n      var bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [craft({\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts.body(bodySpec);\n    };\n\n    function _typeof(obj) {\n      '@babel/helpers - typeof';\n      return _typeof = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && 'function' == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n      }, _typeof(obj);\n    }\n    function _setPrototypeOf(o, p) {\n      _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n      };\n      return _setPrototypeOf(o, p);\n    }\n    function _isNativeReflectConstruct() {\n      if (typeof Reflect === 'undefined' || !Reflect.construct)\n        return false;\n      if (Reflect.construct.sham)\n        return false;\n      if (typeof Proxy === 'function')\n        return true;\n      try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {\n        }));\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }\n    function _construct(Parent, args, Class) {\n      if (_isNativeReflectConstruct()) {\n        _construct = Reflect.construct;\n      } else {\n        _construct = function _construct(Parent, args, Class) {\n          var a = [null];\n          a.push.apply(a, args);\n          var Constructor = Function.bind.apply(Parent, a);\n          var instance = new Constructor();\n          if (Class)\n            _setPrototypeOf(instance, Class.prototype);\n          return instance;\n        };\n      }\n      return _construct.apply(null, arguments);\n    }\n    function _toConsumableArray(arr) {\n      return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n    }\n    function _arrayWithoutHoles(arr) {\n      if (Array.isArray(arr))\n        return _arrayLikeToArray(arr);\n    }\n    function _iterableToArray(iter) {\n      if (typeof Symbol !== 'undefined' && iter[Symbol.iterator] != null || iter['@@iterator'] != null)\n        return Array.from(iter);\n    }\n    function _unsupportedIterableToArray(o, minLen) {\n      if (!o)\n        return;\n      if (typeof o === 'string')\n        return _arrayLikeToArray(o, minLen);\n      var n = Object.prototype.toString.call(o).slice(8, -1);\n      if (n === 'Object' && o.constructor)\n        n = o.constructor.name;\n      if (n === 'Map' || n === 'Set')\n        return Array.from(o);\n      if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n        return _arrayLikeToArray(o, minLen);\n    }\n    function _arrayLikeToArray(arr, len) {\n      if (len == null || len > arr.length)\n        len = arr.length;\n      for (var i = 0, arr2 = new Array(len); i < len; i++)\n        arr2[i] = arr[i];\n      return arr2;\n    }\n    function _nonIterableSpread() {\n      throw new TypeError('Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.');\n    }\n    var hasOwnProperty = Object.hasOwnProperty, setPrototypeOf = Object.setPrototypeOf, isFrozen = Object.isFrozen, getPrototypeOf = Object.getPrototypeOf, getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    var freeze = Object.freeze, seal = Object.seal, create = Object.create;\n    var _ref = typeof Reflect !== 'undefined' && Reflect, apply = _ref.apply, construct = _ref.construct;\n    if (!apply) {\n      apply = function apply(fun, thisValue, args) {\n        return fun.apply(thisValue, args);\n      };\n    }\n    if (!freeze) {\n      freeze = function freeze(x) {\n        return x;\n      };\n    }\n    if (!seal) {\n      seal = function seal(x) {\n        return x;\n      };\n    }\n    if (!construct) {\n      construct = function construct(Func, args) {\n        return _construct(Func, _toConsumableArray(args));\n      };\n    }\n    var arrayForEach = unapply(Array.prototype.forEach);\n    var arrayPop = unapply(Array.prototype.pop);\n    var arrayPush = unapply(Array.prototype.push);\n    var stringToLowerCase = unapply(String.prototype.toLowerCase);\n    var stringMatch = unapply(String.prototype.match);\n    var stringReplace = unapply(String.prototype.replace);\n    var stringIndexOf = unapply(String.prototype.indexOf);\n    var stringTrim = unapply(String.prototype.trim);\n    var regExpTest = unapply(RegExp.prototype.test);\n    var typeErrorCreate = unconstruct(TypeError);\n    function unapply(func) {\n      return function (thisArg) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return apply(func, thisArg, args);\n      };\n    }\n    function unconstruct(func) {\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return construct(func, args);\n      };\n    }\n    function addToSet(set, array) {\n      if (setPrototypeOf) {\n        setPrototypeOf(set, null);\n      }\n      var l = array.length;\n      while (l--) {\n        var element = array[l];\n        if (typeof element === 'string') {\n          var lcElement = stringToLowerCase(element);\n          if (lcElement !== element) {\n            if (!isFrozen(array)) {\n              array[l] = lcElement;\n            }\n            element = lcElement;\n          }\n        }\n        set[element] = true;\n      }\n      return set;\n    }\n    function clone(object) {\n      var newObject = create(null);\n      var property;\n      for (property in object) {\n        if (apply(hasOwnProperty, object, [property])) {\n          newObject[property] = object[property];\n        }\n      }\n      return newObject;\n    }\n    function lookupGetter(object, prop) {\n      while (object !== null) {\n        var desc = getOwnPropertyDescriptor(object, prop);\n        if (desc) {\n          if (desc.get) {\n            return unapply(desc.get);\n          }\n          if (typeof desc.value === 'function') {\n            return unapply(desc.value);\n          }\n        }\n        object = getPrototypeOf(object);\n      }\n      function fallbackValue(element) {\n        console.warn('fallback value for', element);\n        return null;\n      }\n      return fallbackValue;\n    }\n    var html$1 = freeze([\n      'a',\n      'abbr',\n      'acronym',\n      'address',\n      'area',\n      'article',\n      'aside',\n      'audio',\n      'b',\n      'bdi',\n      'bdo',\n      'big',\n      'blink',\n      'blockquote',\n      'body',\n      'br',\n      'button',\n      'canvas',\n      'caption',\n      'center',\n      'cite',\n      'code',\n      'col',\n      'colgroup',\n      'content',\n      'data',\n      'datalist',\n      'dd',\n      'decorator',\n      'del',\n      'details',\n      'dfn',\n      'dialog',\n      'dir',\n      'div',\n      'dl',\n      'dt',\n      'element',\n      'em',\n      'fieldset',\n      'figcaption',\n      'figure',\n      'font',\n      'footer',\n      'form',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'head',\n      'header',\n      'hgroup',\n      'hr',\n      'html',\n      'i',\n      'img',\n      'input',\n      'ins',\n      'kbd',\n      'label',\n      'legend',\n      'li',\n      'main',\n      'map',\n      'mark',\n      'marquee',\n      'menu',\n      'menuitem',\n      'meter',\n      'nav',\n      'nobr',\n      'ol',\n      'optgroup',\n      'option',\n      'output',\n      'p',\n      'picture',\n      'pre',\n      'progress',\n      'q',\n      'rp',\n      'rt',\n      'ruby',\n      's',\n      'samp',\n      'section',\n      'select',\n      'shadow',\n      'small',\n      'source',\n      'spacer',\n      'span',\n      'strike',\n      'strong',\n      'style',\n      'sub',\n      'summary',\n      'sup',\n      'table',\n      'tbody',\n      'td',\n      'template',\n      'textarea',\n      'tfoot',\n      'th',\n      'thead',\n      'time',\n      'tr',\n      'track',\n      'tt',\n      'u',\n      'ul',\n      'var',\n      'video',\n      'wbr'\n    ]);\n    var svg$1 = freeze([\n      'svg',\n      'a',\n      'altglyph',\n      'altglyphdef',\n      'altglyphitem',\n      'animatecolor',\n      'animatemotion',\n      'animatetransform',\n      'circle',\n      'clippath',\n      'defs',\n      'desc',\n      'ellipse',\n      'filter',\n      'font',\n      'g',\n      'glyph',\n      'glyphref',\n      'hkern',\n      'image',\n      'line',\n      'lineargradient',\n      'marker',\n      'mask',\n      'metadata',\n      'mpath',\n      'path',\n      'pattern',\n      'polygon',\n      'polyline',\n      'radialgradient',\n      'rect',\n      'stop',\n      'style',\n      'switch',\n      'symbol',\n      'text',\n      'textpath',\n      'title',\n      'tref',\n      'tspan',\n      'view',\n      'vkern'\n    ]);\n    var svgFilters = freeze([\n      'feBlend',\n      'feColorMatrix',\n      'feComponentTransfer',\n      'feComposite',\n      'feConvolveMatrix',\n      'feDiffuseLighting',\n      'feDisplacementMap',\n      'feDistantLight',\n      'feFlood',\n      'feFuncA',\n      'feFuncB',\n      'feFuncG',\n      'feFuncR',\n      'feGaussianBlur',\n      'feImage',\n      'feMerge',\n      'feMergeNode',\n      'feMorphology',\n      'feOffset',\n      'fePointLight',\n      'feSpecularLighting',\n      'feSpotLight',\n      'feTile',\n      'feTurbulence'\n    ]);\n    var svgDisallowed = freeze([\n      'animate',\n      'color-profile',\n      'cursor',\n      'discard',\n      'fedropshadow',\n      'font-face',\n      'font-face-format',\n      'font-face-name',\n      'font-face-src',\n      'font-face-uri',\n      'foreignobject',\n      'hatch',\n      'hatchpath',\n      'mesh',\n      'meshgradient',\n      'meshpatch',\n      'meshrow',\n      'missing-glyph',\n      'script',\n      'set',\n      'solidcolor',\n      'unknown',\n      'use'\n    ]);\n    var mathMl$1 = freeze([\n      'math',\n      'menclose',\n      'merror',\n      'mfenced',\n      'mfrac',\n      'mglyph',\n      'mi',\n      'mlabeledtr',\n      'mmultiscripts',\n      'mn',\n      'mo',\n      'mover',\n      'mpadded',\n      'mphantom',\n      'mroot',\n      'mrow',\n      'ms',\n      'mspace',\n      'msqrt',\n      'mstyle',\n      'msub',\n      'msup',\n      'msubsup',\n      'mtable',\n      'mtd',\n      'mtext',\n      'mtr',\n      'munder',\n      'munderover'\n    ]);\n    var mathMlDisallowed = freeze([\n      'maction',\n      'maligngroup',\n      'malignmark',\n      'mlongdiv',\n      'mscarries',\n      'mscarry',\n      'msgroup',\n      'mstack',\n      'msline',\n      'msrow',\n      'semantics',\n      'annotation',\n      'annotation-xml',\n      'mprescripts',\n      'none'\n    ]);\n    var text = freeze(['#text']);\n    var html = freeze([\n      'accept',\n      'action',\n      'align',\n      'alt',\n      'autocapitalize',\n      'autocomplete',\n      'autopictureinpicture',\n      'autoplay',\n      'background',\n      'bgcolor',\n      'border',\n      'capture',\n      'cellpadding',\n      'cellspacing',\n      'checked',\n      'cite',\n      'class',\n      'clear',\n      'color',\n      'cols',\n      'colspan',\n      'controls',\n      'controlslist',\n      'coords',\n      'crossorigin',\n      'datetime',\n      'decoding',\n      'default',\n      'dir',\n      'disabled',\n      'disablepictureinpicture',\n      'disableremoteplayback',\n      'download',\n      'draggable',\n      'enctype',\n      'enterkeyhint',\n      'face',\n      'for',\n      'headers',\n      'height',\n      'hidden',\n      'high',\n      'href',\n      'hreflang',\n      'id',\n      'inputmode',\n      'integrity',\n      'ismap',\n      'kind',\n      'label',\n      'lang',\n      'list',\n      'loading',\n      'loop',\n      'low',\n      'max',\n      'maxlength',\n      'media',\n      'method',\n      'min',\n      'minlength',\n      'multiple',\n      'muted',\n      'name',\n      'nonce',\n      'noshade',\n      'novalidate',\n      'nowrap',\n      'open',\n      'optimum',\n      'pattern',\n      'placeholder',\n      'playsinline',\n      'poster',\n      'preload',\n      'pubdate',\n      'radiogroup',\n      'readonly',\n      'rel',\n      'required',\n      'rev',\n      'reversed',\n      'role',\n      'rows',\n      'rowspan',\n      'spellcheck',\n      'scope',\n      'selected',\n      'shape',\n      'size',\n      'sizes',\n      'span',\n      'srclang',\n      'start',\n      'src',\n      'srcset',\n      'step',\n      'style',\n      'summary',\n      'tabindex',\n      'title',\n      'translate',\n      'type',\n      'usemap',\n      'valign',\n      'value',\n      'width',\n      'xmlns',\n      'slot'\n    ]);\n    var svg = freeze([\n      'accent-height',\n      'accumulate',\n      'additive',\n      'alignment-baseline',\n      'ascent',\n      'attributename',\n      'attributetype',\n      'azimuth',\n      'basefrequency',\n      'baseline-shift',\n      'begin',\n      'bias',\n      'by',\n      'class',\n      'clip',\n      'clippathunits',\n      'clip-path',\n      'clip-rule',\n      'color',\n      'color-interpolation',\n      'color-interpolation-filters',\n      'color-profile',\n      'color-rendering',\n      'cx',\n      'cy',\n      'd',\n      'dx',\n      'dy',\n      'diffuseconstant',\n      'direction',\n      'display',\n      'divisor',\n      'dur',\n      'edgemode',\n      'elevation',\n      'end',\n      'fill',\n      'fill-opacity',\n      'fill-rule',\n      'filter',\n      'filterunits',\n      'flood-color',\n      'flood-opacity',\n      'font-family',\n      'font-size',\n      'font-size-adjust',\n      'font-stretch',\n      'font-style',\n      'font-variant',\n      'font-weight',\n      'fx',\n      'fy',\n      'g1',\n      'g2',\n      'glyph-name',\n      'glyphref',\n      'gradientunits',\n      'gradienttransform',\n      'height',\n      'href',\n      'id',\n      'image-rendering',\n      'in',\n      'in2',\n      'k',\n      'k1',\n      'k2',\n      'k3',\n      'k4',\n      'kerning',\n      'keypoints',\n      'keysplines',\n      'keytimes',\n      'lang',\n      'lengthadjust',\n      'letter-spacing',\n      'kernelmatrix',\n      'kernelunitlength',\n      'lighting-color',\n      'local',\n      'marker-end',\n      'marker-mid',\n      'marker-start',\n      'markerheight',\n      'markerunits',\n      'markerwidth',\n      'maskcontentunits',\n      'maskunits',\n      'max',\n      'mask',\n      'media',\n      'method',\n      'mode',\n      'min',\n      'name',\n      'numoctaves',\n      'offset',\n      'operator',\n      'opacity',\n      'order',\n      'orient',\n      'orientation',\n      'origin',\n      'overflow',\n      'paint-order',\n      'path',\n      'pathlength',\n      'patterncontentunits',\n      'patterntransform',\n      'patternunits',\n      'points',\n      'preservealpha',\n      'preserveaspectratio',\n      'primitiveunits',\n      'r',\n      'rx',\n      'ry',\n      'radius',\n      'refx',\n      'refy',\n      'repeatcount',\n      'repeatdur',\n      'restart',\n      'result',\n      'rotate',\n      'scale',\n      'seed',\n      'shape-rendering',\n      'specularconstant',\n      'specularexponent',\n      'spreadmethod',\n      'startoffset',\n      'stddeviation',\n      'stitchtiles',\n      'stop-color',\n      'stop-opacity',\n      'stroke-dasharray',\n      'stroke-dashoffset',\n      'stroke-linecap',\n      'stroke-linejoin',\n      'stroke-miterlimit',\n      'stroke-opacity',\n      'stroke',\n      'stroke-width',\n      'style',\n      'surfacescale',\n      'systemlanguage',\n      'tabindex',\n      'targetx',\n      'targety',\n      'transform',\n      'transform-origin',\n      'text-anchor',\n      'text-decoration',\n      'text-rendering',\n      'textlength',\n      'type',\n      'u1',\n      'u2',\n      'unicode',\n      'values',\n      'viewbox',\n      'visibility',\n      'version',\n      'vert-adv-y',\n      'vert-origin-x',\n      'vert-origin-y',\n      'width',\n      'word-spacing',\n      'wrap',\n      'writing-mode',\n      'xchannelselector',\n      'ychannelselector',\n      'x',\n      'x1',\n      'x2',\n      'xmlns',\n      'y',\n      'y1',\n      'y2',\n      'z',\n      'zoomandpan'\n    ]);\n    var mathMl = freeze([\n      'accent',\n      'accentunder',\n      'align',\n      'bevelled',\n      'close',\n      'columnsalign',\n      'columnlines',\n      'columnspan',\n      'denomalign',\n      'depth',\n      'dir',\n      'display',\n      'displaystyle',\n      'encoding',\n      'fence',\n      'frame',\n      'height',\n      'href',\n      'id',\n      'largeop',\n      'length',\n      'linethickness',\n      'lspace',\n      'lquote',\n      'mathbackground',\n      'mathcolor',\n      'mathsize',\n      'mathvariant',\n      'maxsize',\n      'minsize',\n      'movablelimits',\n      'notation',\n      'numalign',\n      'open',\n      'rowalign',\n      'rowlines',\n      'rowspacing',\n      'rowspan',\n      'rspace',\n      'rquote',\n      'scriptlevel',\n      'scriptminsize',\n      'scriptsizemultiplier',\n      'selection',\n      'separator',\n      'separators',\n      'stretchy',\n      'subscriptshift',\n      'supscriptshift',\n      'symmetric',\n      'voffset',\n      'width',\n      'xmlns'\n    ]);\n    var xml = freeze([\n      'xlink:href',\n      'xml:id',\n      'xlink:title',\n      'xml:space',\n      'xmlns:xlink'\n    ]);\n    var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm);\n    var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n    var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/);\n    var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/);\n    var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i);\n    var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n    var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g);\n    var DOCTYPE_NAME = seal(/^html$/i);\n    var getGlobal = function getGlobal() {\n      return typeof window === 'undefined' ? null : window;\n    };\n    var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n      if (_typeof(trustedTypes) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n        return null;\n      }\n      var suffix = null;\n      var ATTR_NAME = 'data-tt-policy-suffix';\n      if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n        suffix = document.currentScript.getAttribute(ATTR_NAME);\n      }\n      var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n      try {\n        return trustedTypes.createPolicy(policyName, {\n          createHTML: function createHTML(html) {\n            return html;\n          }\n        });\n      } catch (_) {\n        console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n        return null;\n      }\n    };\n    function createDOMPurify() {\n      var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n      var DOMPurify = function DOMPurify(root) {\n        return createDOMPurify(root);\n      };\n      DOMPurify.version = '2.3.8';\n      DOMPurify.removed = [];\n      if (!window || !window.document || window.document.nodeType !== 9) {\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n      }\n      var originalDocument = window.document;\n      var document = window.document;\n      var DocumentFragment = window.DocumentFragment, HTMLTemplateElement = window.HTMLTemplateElement, Node = window.Node, Element = window.Element, NodeFilter = window.NodeFilter, _window$NamedNodeMap = window.NamedNodeMap, NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap, HTMLFormElement = window.HTMLFormElement, DOMParser = window.DOMParser, trustedTypes = window.trustedTypes;\n      var ElementPrototype = Element.prototype;\n      var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n      var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n      var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n      var getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n      if (typeof HTMLTemplateElement === 'function') {\n        var template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n          document = template.content.ownerDocument;\n        }\n      }\n      var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n      var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n      var _document = document, implementation = _document.implementation, createNodeIterator = _document.createNodeIterator, createDocumentFragment = _document.createDocumentFragment, getElementsByTagName = _document.getElementsByTagName;\n      var importNode = originalDocument.importNode;\n      var documentMode = {};\n      try {\n        documentMode = clone(document).documentMode ? document.documentMode : {};\n      } catch (_) {\n      }\n      var hooks = {};\n      DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n      var MUSTACHE_EXPR$1 = MUSTACHE_EXPR, ERB_EXPR$1 = ERB_EXPR, DATA_ATTR$1 = DATA_ATTR, ARIA_ATTR$1 = ARIA_ATTR, IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA, ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n      var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n      var ALLOWED_TAGS = null;\n      var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n      var ALLOWED_ATTR = null;\n      var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n      var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n        tagNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        attributeNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        allowCustomizedBuiltInElements: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: false\n        }\n      }));\n      var FORBID_TAGS = null;\n      var FORBID_ATTR = null;\n      var ALLOW_ARIA_ATTR = true;\n      var ALLOW_DATA_ATTR = true;\n      var ALLOW_UNKNOWN_PROTOCOLS = false;\n      var SAFE_FOR_TEMPLATES = false;\n      var WHOLE_DOCUMENT = false;\n      var SET_CONFIG = false;\n      var FORCE_BODY = false;\n      var RETURN_DOM = false;\n      var RETURN_DOM_FRAGMENT = false;\n      var RETURN_TRUSTED_TYPE = false;\n      var SANITIZE_DOM = true;\n      var KEEP_CONTENT = true;\n      var IN_PLACE = false;\n      var USE_PROFILES = {};\n      var FORBID_CONTENTS = null;\n      var DEFAULT_FORBID_CONTENTS = addToSet({}, [\n        'annotation-xml',\n        'audio',\n        'colgroup',\n        'desc',\n        'foreignobject',\n        'head',\n        'iframe',\n        'math',\n        'mi',\n        'mn',\n        'mo',\n        'ms',\n        'mtext',\n        'noembed',\n        'noframes',\n        'noscript',\n        'plaintext',\n        'script',\n        'style',\n        'svg',\n        'template',\n        'thead',\n        'title',\n        'video',\n        'xmp'\n      ]);\n      var DATA_URI_TAGS = null;\n      var DEFAULT_DATA_URI_TAGS = addToSet({}, [\n        'audio',\n        'video',\n        'img',\n        'source',\n        'image',\n        'track'\n      ]);\n      var URI_SAFE_ATTRIBUTES = null;\n      var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n        'alt',\n        'class',\n        'for',\n        'id',\n        'label',\n        'name',\n        'pattern',\n        'placeholder',\n        'role',\n        'summary',\n        'title',\n        'value',\n        'style',\n        'xmlns'\n      ]);\n      var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n      var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n      var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n      var NAMESPACE = HTML_NAMESPACE;\n      var IS_EMPTY_INPUT = false;\n      var PARSER_MEDIA_TYPE;\n      var SUPPORTED_PARSER_MEDIA_TYPES = [\n        'application/xhtml+xml',\n        'text/html'\n      ];\n      var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n      var transformCaseFunc;\n      var CONFIG = null;\n      var formElement = document.createElement('form');\n      var isRegexOrFunction = function isRegexOrFunction(testValue) {\n        return testValue instanceof RegExp || testValue instanceof Function;\n      };\n      var _parseConfig = function _parseConfig(cfg) {\n        if (CONFIG && CONFIG === cfg) {\n          return;\n        }\n        if (!cfg || _typeof(cfg) !== 'object') {\n          cfg = {};\n        }\n        cfg = clone(cfg);\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n        DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n        FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS) : DEFAULT_FORBID_CONTENTS;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n        USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false;\n        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false;\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false;\n        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false;\n        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false;\n        RETURN_DOM = cfg.RETURN_DOM || false;\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false;\n        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false;\n        FORCE_BODY = cfg.FORCE_BODY || false;\n        SANITIZE_DOM = cfg.SANITIZE_DOM !== false;\n        KEEP_CONTENT = cfg.KEEP_CONTENT !== false;\n        IN_PLACE = cfg.IN_PLACE || false;\n        IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n        NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n        }\n        PARSER_MEDIA_TYPE = SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE;\n        transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? function (x) {\n          return x;\n        } : stringToLowerCase;\n        if (SAFE_FOR_TEMPLATES) {\n          ALLOW_DATA_ATTR = false;\n        }\n        if (RETURN_DOM_FRAGMENT) {\n          RETURN_DOM = true;\n        }\n        if (USE_PROFILES) {\n          ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n          ALLOWED_ATTR = [];\n          if (USE_PROFILES.html === true) {\n            addToSet(ALLOWED_TAGS, html$1);\n            addToSet(ALLOWED_ATTR, html);\n          }\n          if (USE_PROFILES.svg === true) {\n            addToSet(ALLOWED_TAGS, svg$1);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.svgFilters === true) {\n            addToSet(ALLOWED_TAGS, svgFilters);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.mathMl === true) {\n            addToSet(ALLOWED_TAGS, mathMl$1);\n            addToSet(ALLOWED_ATTR, mathMl);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n        }\n        if (cfg.ADD_TAGS) {\n          if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n            ALLOWED_TAGS = clone(ALLOWED_TAGS);\n          }\n          addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n          if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n            ALLOWED_ATTR = clone(ALLOWED_ATTR);\n          }\n          addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n          addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n        if (cfg.FORBID_CONTENTS) {\n          if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n            FORBID_CONTENTS = clone(FORBID_CONTENTS);\n          }\n          addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS);\n        }\n        if (KEEP_CONTENT) {\n          ALLOWED_TAGS['#text'] = true;\n        }\n        if (WHOLE_DOCUMENT) {\n          addToSet(ALLOWED_TAGS, [\n            'html',\n            'head',\n            'body'\n          ]);\n        }\n        if (ALLOWED_TAGS.table) {\n          addToSet(ALLOWED_TAGS, ['tbody']);\n          delete FORBID_TAGS.tbody;\n        }\n        if (freeze) {\n          freeze(cfg);\n        }\n        CONFIG = cfg;\n      };\n      var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n        'mi',\n        'mo',\n        'mn',\n        'ms',\n        'mtext'\n      ]);\n      var HTML_INTEGRATION_POINTS = addToSet({}, [\n        'foreignobject',\n        'desc',\n        'title',\n        'annotation-xml'\n      ]);\n      var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n        'title',\n        'style',\n        'font',\n        'a',\n        'script'\n      ]);\n      var ALL_SVG_TAGS = addToSet({}, svg$1);\n      addToSet(ALL_SVG_TAGS, svgFilters);\n      addToSet(ALL_SVG_TAGS, svgDisallowed);\n      var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n      addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n      var _checkValidNamespace = function _checkValidNamespace(element) {\n        var parent = getParentNode(element);\n        if (!parent || !parent.tagName) {\n          parent = {\n            namespaceURI: HTML_NAMESPACE,\n            tagName: 'template'\n          };\n        }\n        var tagName = stringToLowerCase(element.tagName);\n        var parentTagName = stringToLowerCase(parent.tagName);\n        if (element.namespaceURI === SVG_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'svg';\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE) {\n            return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n          }\n          return Boolean(ALL_SVG_TAGS[tagName]);\n        }\n        if (element.namespaceURI === MATHML_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'math';\n          }\n          if (parent.namespaceURI === SVG_NAMESPACE) {\n            return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n          }\n          return Boolean(ALL_MATHML_TAGS[tagName]);\n        }\n        if (element.namespaceURI === HTML_NAMESPACE) {\n          if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n        }\n        return false;\n      };\n      var _forceRemove = function _forceRemove(node) {\n        arrayPush(DOMPurify.removed, { element: node });\n        try {\n          node.parentNode.removeChild(node);\n        } catch (_) {\n          try {\n            node.outerHTML = emptyHTML;\n          } catch (_) {\n            node.remove();\n          }\n        }\n      };\n      var _removeAttribute = function _removeAttribute(name, node) {\n        try {\n          arrayPush(DOMPurify.removed, {\n            attribute: node.getAttributeNode(name),\n            from: node\n          });\n        } catch (_) {\n          arrayPush(DOMPurify.removed, {\n            attribute: null,\n            from: node\n          });\n        }\n        node.removeAttribute(name);\n        if (name === 'is' && !ALLOWED_ATTR[name]) {\n          if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n            try {\n              _forceRemove(node);\n            } catch (_) {\n            }\n          } else {\n            try {\n              node.setAttribute(name, '');\n            } catch (_) {\n            }\n          }\n        }\n      };\n      var _initDocument = function _initDocument(dirty) {\n        var doc;\n        var leadingWhitespace;\n        if (FORCE_BODY) {\n          dirty = '<remove></remove>' + dirty;\n        } else {\n          var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n          leadingWhitespace = matches && matches[0];\n        }\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml') {\n          dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n        }\n        var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        if (NAMESPACE === HTML_NAMESPACE) {\n          try {\n            doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n          } catch (_) {\n          }\n        }\n        if (!doc || !doc.documentElement) {\n          doc = implementation.createDocument(NAMESPACE, 'template', null);\n          try {\n            doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n          } catch (_) {\n          }\n        }\n        var body = doc.body || doc.documentElement;\n        if (dirty && leadingWhitespace) {\n          body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n        }\n        if (NAMESPACE === HTML_NAMESPACE) {\n          return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n        }\n        return WHOLE_DOCUMENT ? doc.documentElement : body;\n      };\n      var _createIterator = function _createIterator(root) {\n        return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n      };\n      var _isClobbered = function _isClobbered(elm) {\n        return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function');\n      };\n      var _isNode = function _isNode(object) {\n        return _typeof(Node) === 'object' ? object instanceof Node : object && _typeof(object) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n      };\n      var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) {\n          return;\n        }\n        arrayForEach(hooks[entryPoint], function (hook) {\n          hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n      };\n      var _sanitizeElements = function _sanitizeElements(currentNode) {\n        var content;\n        _executeHook('beforeSanitizeElements', currentNode, null);\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        var tagName = transformCaseFunc(currentNode.nodeName);\n        _executeHook('uponSanitizeElement', currentNode, {\n          tagName: tagName,\n          allowedTags: ALLOWED_TAGS\n        });\n        if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (tagName === 'select' && regExpTest(/<template/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName))\n              return false;\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))\n              return false;\n          }\n          if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n            var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n            var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n            if (childNodes && parentNode) {\n              var childCount = childNodes.length;\n              for (var i = childCount - 1; i >= 0; --i) {\n                parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n              }\n            }\n          }\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n          content = currentNode.textContent;\n          content = stringReplace(content, MUSTACHE_EXPR$1, ' ');\n          content = stringReplace(content, ERB_EXPR$1, ' ');\n          if (currentNode.textContent !== content) {\n            arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n            currentNode.textContent = content;\n          }\n        }\n        _executeHook('afterSanitizeElements', currentNode, null);\n        return false;\n      };\n      var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n        if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n          return false;\n        }\n        if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName));\n        else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName));\n        else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n          if (_basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value)));\n          else {\n            return false;\n          }\n        } else if (URI_SAFE_ATTRIBUTES[lcName]);\n        else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, '')));\n        else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]);\n        else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, '')));\n        else if (!value);\n        else {\n          return false;\n        }\n        return true;\n      };\n      var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n        return tagName.indexOf('-') > 0;\n      };\n      var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n        var attr;\n        var value;\n        var lcName;\n        var l;\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n        var attributes = currentNode.attributes;\n        if (!attributes) {\n          return;\n        }\n        var hookEvent = {\n          attrName: '',\n          attrValue: '',\n          keepAttr: true,\n          allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n        while (l--) {\n          attr = attributes[l];\n          var _attr = attr, name = _attr.name, namespaceURI = _attr.namespaceURI;\n          value = name === 'value' ? attr.value : stringTrim(attr.value);\n          lcName = transformCaseFunc(name);\n          hookEvent.attrName = lcName;\n          hookEvent.attrValue = value;\n          hookEvent.keepAttr = true;\n          hookEvent.forceKeepAttr = undefined;\n          _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n          value = hookEvent.attrValue;\n          if (hookEvent.forceKeepAttr) {\n            continue;\n          }\n          _removeAttribute(name, currentNode);\n          if (!hookEvent.keepAttr) {\n            continue;\n          }\n          if (regExpTest(/\\/>/i, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SAFE_FOR_TEMPLATES) {\n            value = stringReplace(value, MUSTACHE_EXPR$1, ' ');\n            value = stringReplace(value, ERB_EXPR$1, ' ');\n          }\n          var lcTag = transformCaseFunc(currentNode.nodeName);\n          if (!_isValidAttribute(lcTag, lcName, value)) {\n            continue;\n          }\n          try {\n            if (namespaceURI) {\n              currentNode.setAttributeNS(namespaceURI, name, value);\n            } else {\n              currentNode.setAttribute(name, value);\n            }\n            arrayPop(DOMPurify.removed);\n          } catch (_) {\n          }\n        }\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n      };\n      var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n        while (shadowNode = shadowIterator.nextNode()) {\n          _executeHook('uponSanitizeShadowNode', shadowNode, null);\n          if (_sanitizeElements(shadowNode)) {\n            continue;\n          }\n          if (shadowNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(shadowNode.content);\n          }\n          _sanitizeAttributes(shadowNode);\n        }\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n      };\n      DOMPurify.sanitize = function (dirty, cfg) {\n        var body;\n        var importedNode;\n        var currentNode;\n        var oldNode;\n        var returnNode;\n        IS_EMPTY_INPUT = !dirty;\n        if (IS_EMPTY_INPUT) {\n          dirty = '<!-->';\n        }\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n          if (typeof dirty.toString !== 'function') {\n            throw typeErrorCreate('toString is not a function');\n          } else {\n            dirty = dirty.toString();\n            if (typeof dirty !== 'string') {\n              throw typeErrorCreate('dirty is not a string, aborting');\n            }\n          }\n        }\n        if (!DOMPurify.isSupported) {\n          if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n            if (typeof dirty === 'string') {\n              return window.toStaticHTML(dirty);\n            }\n            if (_isNode(dirty)) {\n              return window.toStaticHTML(dirty.outerHTML);\n            }\n          }\n          return dirty;\n        }\n        if (!SET_CONFIG) {\n          _parseConfig(cfg);\n        }\n        DOMPurify.removed = [];\n        if (typeof dirty === 'string') {\n          IN_PLACE = false;\n        }\n        if (IN_PLACE) {\n          if (dirty.nodeName) {\n            var tagName = transformCaseFunc(dirty.nodeName);\n            if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n              throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n            }\n          }\n        } else if (dirty instanceof Node) {\n          body = _initDocument('<!---->');\n          importedNode = body.ownerDocument.importNode(dirty, true);\n          if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n            body = importedNode;\n          } else if (importedNode.nodeName === 'HTML') {\n            body = importedNode;\n          } else {\n            body.appendChild(importedNode);\n          }\n        } else {\n          if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n            return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n          }\n          body = _initDocument(dirty);\n          if (!body) {\n            return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n          }\n        }\n        if (body && FORCE_BODY) {\n          _forceRemove(body.firstChild);\n        }\n        var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n        while (currentNode = nodeIterator.nextNode()) {\n          if (currentNode.nodeType === 3 && currentNode === oldNode) {\n            continue;\n          }\n          if (_sanitizeElements(currentNode)) {\n            continue;\n          }\n          if (currentNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(currentNode.content);\n          }\n          _sanitizeAttributes(currentNode);\n          oldNode = currentNode;\n        }\n        oldNode = null;\n        if (IN_PLACE) {\n          return dirty;\n        }\n        if (RETURN_DOM) {\n          if (RETURN_DOM_FRAGMENT) {\n            returnNode = createDocumentFragment.call(body.ownerDocument);\n            while (body.firstChild) {\n              returnNode.appendChild(body.firstChild);\n            }\n          } else {\n            returnNode = body;\n          }\n          if (ALLOWED_ATTR.shadowroot) {\n            returnNode = importNode.call(originalDocument, returnNode, true);\n          }\n          return returnNode;\n        }\n        var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n        if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n          serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, ' ');\n          serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, ' ');\n        }\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n      };\n      DOMPurify.setConfig = function (cfg) {\n        _parseConfig(cfg);\n        SET_CONFIG = true;\n      };\n      DOMPurify.clearConfig = function () {\n        CONFIG = null;\n        SET_CONFIG = false;\n      };\n      DOMPurify.isValidAttribute = function (tag, attr, value) {\n        if (!CONFIG) {\n          _parseConfig({});\n        }\n        var lcTag = transformCaseFunc(tag);\n        var lcName = transformCaseFunc(attr);\n        return _isValidAttribute(lcTag, lcName, value);\n      };\n      DOMPurify.addHook = function (entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') {\n          return;\n        }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        arrayPush(hooks[entryPoint], hookFunction);\n      };\n      DOMPurify.removeHook = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          return arrayPop(hooks[entryPoint]);\n        }\n      };\n      DOMPurify.removeHooks = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          hooks[entryPoint] = [];\n        }\n      };\n      DOMPurify.removeAllHooks = function () {\n        hooks = {};\n      };\n      return DOMPurify;\n    }\n    var purify = createDOMPurify();\n\n    var sanitizeHtmlString = function (html) {\n      return purify().sanitize(html);\n    };\n\n    var isTouch = global$9.deviceType.isTouch();\n    var hiddenHeader = function (title, close) {\n      return {\n        dom: {\n          tag: 'div',\n          styles: { display: 'none' },\n          classes: ['tox-dialog__header']\n        },\n        components: [\n          title,\n          close\n        ]\n      };\n    };\n    var pClose = function (onClose, providersBackstage) {\n      return ModalDialog.parts.close(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-button',\n            'tox-button--icon',\n            'tox-button--naked'\n          ],\n          attributes: {\n            'type': 'button',\n            'aria-label': providersBackstage.translate('Close')\n          }\n        },\n        action: onClose,\n        buttonBehaviours: derive$1([Tabstopping.config({})])\n      }));\n    };\n    var pUntitled = function () {\n      return ModalDialog.parts.title({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          innerHtml: '',\n          styles: { display: 'none' }\n        }\n      });\n    };\n    var pBodyMessage = function (message, providersBackstage) {\n      return ModalDialog.parts.body({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [{ dom: fromHtml('<p>' + sanitizeHtmlString(providersBackstage.translate(message)) + '</p>') }]\n          }]\n      });\n    };\n    var pFooter = function (buttons) {\n      return ModalDialog.parts.footer({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer']\n        },\n        components: buttons\n      });\n    };\n    var pFooterGroup = function (startButtons, endButtons) {\n      return [\n        Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-start']\n          },\n          components: startButtons\n        }),\n        Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-end']\n          },\n          components: endButtons\n        })\n      ];\n    };\n    var renderDialog$1 = function (spec) {\n      var _a;\n      var dialogClass = 'tox-dialog';\n      var blockerClass = dialogClass + '-wrap';\n      var blockerBackdropClass = blockerClass + '__backdrop';\n      var scrollLockClass = dialogClass + '__disable-scroll';\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: function (comp) {\n          spec.onEscape(comp);\n          return Optional.some(true);\n        },\n        useTabstopAt: function (elem) {\n          return !isPseudoStop(elem);\n        },\n        dom: {\n          tag: 'div',\n          classes: [dialogClass].concat(spec.extraClasses),\n          styles: __assign({ position: 'relative' }, spec.extraStyles)\n        },\n        components: __spreadArray([\n          spec.header,\n          spec.body\n        ], spec.footer.toArray(), true),\n        parts: {\n          blocker: {\n            dom: fromHtml('<div class=\"' + blockerClass + '\"></div>'),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch ? [\n                    blockerBackdropClass,\n                    blockerBackdropClass + '--opaque'\n                  ] : [blockerBackdropClass]\n                }\n              }]\n          }\n        },\n        dragBlockClass: blockerClass,\n        modalBehaviours: derive$1(__spreadArray([\n          Focusing.config({}),\n          config('dialog-events', spec.dialogEvents.concat([runOnSource(focusin(), function (comp, _se) {\n              Keying.focusIn(comp);\n            })])),\n          config('scroll-lock', [\n            runOnAttached(function () {\n              add$2(body(), scrollLockClass);\n            }),\n            runOnDetached(function () {\n              remove$2(body(), scrollLockClass);\n            })\n          ])\n        ], spec.extraBehaviours, true)),\n        eventOrder: __assign((_a = {}, _a[execute$5()] = ['dialog-events'], _a[attachedToDom()] = [\n          'scroll-lock',\n          'dialog-events',\n          'alloy.base.behaviour'\n        ], _a[detachedFromDom()] = [\n          'alloy.base.behaviour',\n          'dialog-events',\n          'scroll-lock'\n        ], _a), spec.eventOrder)\n      });\n    };\n\n    var renderClose = function (providersBackstage) {\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-button',\n            'tox-button--icon',\n            'tox-button--naked'\n          ],\n          attributes: {\n            'type': 'button',\n            'aria-label': providersBackstage.translate('Close'),\n            'title': providersBackstage.translate('Close')\n          }\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon']\n          }, providersBackstage.icons)],\n        action: function (comp) {\n          emit(comp, formCancelEvent);\n        }\n      });\n    };\n    var renderTitle = function (spec, id, providersBackstage) {\n      var renderComponents = function (data) {\n        return [text$1(providersBackstage.translate(data.title))];\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          attributes: __assign({}, id.map(function (x) {\n            return { id: x };\n          }).getOr({}))\n        },\n        components: renderComponents(spec),\n        behaviours: derive$1([Reflecting.config({\n            channel: titleChannel,\n            renderComponents: renderComponents\n          })])\n      };\n    };\n    var renderDragHandle = function () {\n      return { dom: fromHtml('<div class=\"tox-dialog__draghandle\"></div>') };\n    };\n    var renderInlineHeader = function (spec, titleId, providersBackstage) {\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components: [\n          renderTitle(spec, Optional.some(titleId), providersBackstage),\n          renderDragHandle(),\n          renderClose(providersBackstage)\n        ],\n        containerBehaviours: derive$1([Dragging.config({\n            mode: 'mouse',\n            blockerClass: 'blocker',\n            getTarget: function (handle) {\n              return closest$1(handle, '[role=\"dialog\"]').getOrDie();\n            },\n            snaps: {\n              getSnapPoints: function () {\n                return [];\n              },\n              leftAttr: 'data-drag-left',\n              topAttr: 'data-drag-top'\n            }\n          })])\n      });\n    };\n    var renderModalHeader = function (spec, providersBackstage) {\n      var pTitle = ModalDialog.parts.title(renderTitle(spec, Optional.none(), providersBackstage));\n      var pHandle = ModalDialog.parts.draghandle(renderDragHandle());\n      var pClose = ModalDialog.parts.close(renderClose(providersBackstage));\n      var components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components: components\n      });\n    };\n\n    var getHeader = function (title, backstage) {\n      return renderModalHeader({\n        title: backstage.shared.providers.translate(title),\n        draggable: backstage.dialog.isDraggableModal()\n      }, backstage.shared.providers);\n    };\n    var getBusySpec = function (message, bs, providers) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__busy-spinner'],\n          attributes: { 'aria-label': providers.translate(message) },\n          styles: {\n            left: '0px',\n            right: '0px',\n            bottom: '0px',\n            top: '0px',\n            position: 'absolute'\n          }\n        },\n        behaviours: bs,\n        components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n      };\n    };\n    var getEventExtras = function (lazyDialog, providers, extra) {\n      return {\n        onClose: function () {\n          return extra.closeWindow();\n        },\n        onBlock: function (blockEvent) {\n          ModalDialog.setBusy(lazyDialog(), function (_comp, bs) {\n            return getBusySpec(blockEvent.message, bs, providers);\n          });\n        },\n        onUnblock: function () {\n          ModalDialog.setIdle(lazyDialog());\n        }\n      };\n    };\n    var renderModalDialog = function (spec, initialData, dialogEvents, backstage) {\n      var _a;\n      var updateState = function (_comp, incoming) {\n        return Optional.some(incoming);\n      };\n      return build$1(renderDialog$1(__assign(__assign({}, spec), {\n        lazySink: backstage.shared.getSink,\n        extraBehaviours: __spreadArray([\n          Reflecting.config({\n            channel: dialogChannel,\n            updateState: updateState,\n            initialData: initialData\n          }),\n          RepresentingConfigs.memory({})\n        ], spec.extraBehaviours, true),\n        onEscape: function (comp) {\n          emit(comp, formCancelEvent);\n        },\n        dialogEvents: dialogEvents,\n        eventOrder: (_a = {}, _a[receive()] = [\n          Reflecting.name(),\n          Receiving.name()\n        ], _a[attachedToDom()] = [\n          'scroll-lock',\n          Reflecting.name(),\n          'messages',\n          'dialog-events',\n          'alloy.base.behaviour'\n        ], _a[detachedFromDom()] = [\n          'alloy.base.behaviour',\n          'dialog-events',\n          'messages',\n          Reflecting.name(),\n          'scroll-lock'\n        ], _a)\n      })));\n    };\n    var mapMenuButtons = function (buttons) {\n      var mapItems = function (button) {\n        var items = map$2(button.items, function (item) {\n          var cell = Cell(false);\n          return __assign(__assign({}, item), { storage: cell });\n        });\n        return __assign(__assign({}, button), { items: items });\n      };\n      return map$2(buttons, function (button) {\n        if (button.type === 'menu') {\n          return mapItems(button);\n        }\n        return button;\n      });\n    };\n    var extractCellsToObject = function (buttons) {\n      return foldl(buttons, function (acc, button) {\n        if (button.type === 'menu') {\n          var menuButton = button;\n          return foldl(menuButton.items, function (innerAcc, item) {\n            innerAcc[item.name] = item.storage;\n            return innerAcc;\n          }, acc);\n        }\n        return acc;\n      }, {});\n    };\n\n    var initCommonEvents = function (fireApiEvent, extras) {\n      return [\n        runWithTarget(focusin(), onFocus),\n        fireApiEvent(formCloseEvent, function (_api, spec) {\n          extras.onClose();\n          spec.onClose();\n        }),\n        fireApiEvent(formCancelEvent, function (api, spec, _event, self) {\n          spec.onCancel(api);\n          emit(self, formCloseEvent);\n        }),\n        run$1(formUnblockEvent, function (_c, _se) {\n          return extras.onUnblock();\n        }),\n        run$1(formBlockEvent, function (_c, se) {\n          return extras.onBlock(se.event);\n        })\n      ];\n    };\n    var initUrlDialog = function (getInstanceApi, extras) {\n      var fireApiEvent = function (eventName, f) {\n        return run$1(eventName, function (c, se) {\n          withSpec(c, function (spec, _c) {\n            f(getInstanceApi(), spec, se.event, c);\n          });\n        });\n      };\n      var withSpec = function (c, f) {\n        Reflecting.getState(c).get().each(function (currentDialog) {\n          f(currentDialog, c);\n        });\n      };\n      return __spreadArray(__spreadArray([], initCommonEvents(fireApiEvent, extras), true), [fireApiEvent(formActionEvent, function (api, spec, event) {\n          spec.onAction(api, { name: event.name });\n        })], false);\n    };\n    var initDialog = function (getInstanceApi, extras, getSink) {\n      var fireApiEvent = function (eventName, f) {\n        return run$1(eventName, function (c, se) {\n          withSpec(c, function (spec, _c) {\n            f(getInstanceApi(), spec, se.event, c);\n          });\n        });\n      };\n      var withSpec = function (c, f) {\n        Reflecting.getState(c).get().each(function (currentDialogInit) {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return __spreadArray(__spreadArray([], initCommonEvents(fireApiEvent, extras), true), [\n        fireApiEvent(formSubmitEvent, function (api, spec) {\n          return spec.onSubmit(api);\n        }),\n        fireApiEvent(formChangeEvent, function (api, spec, event) {\n          spec.onChange(api, { name: event.name });\n        }),\n        fireApiEvent(formActionEvent, function (api, spec, event, component) {\n          var focusIn = function () {\n            return Keying.focusIn(component);\n          };\n          var isDisabled = function (focused) {\n            return has$1(focused, 'disabled') || getOpt(focused, 'aria-disabled').exists(function (val) {\n              return val === 'true';\n            });\n          };\n          var rootNode = getRootNode(component.element);\n          var current = active(rootNode);\n          spec.onAction(api, {\n            name: event.name,\n            value: event.value\n          });\n          active(rootNode).fold(focusIn, function (focused) {\n            if (isDisabled(focused)) {\n              focusIn();\n            } else if (current.exists(function (cur) {\n                return contains(focused, cur) && isDisabled(cur);\n              })) {\n              focusIn();\n            } else {\n              getSink().toOptional().filter(function (sink) {\n                return !contains(sink.element, focused);\n              }).each(focusIn);\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, function (api, spec, event) {\n          spec.onTabChange(api, {\n            newTabName: event.name,\n            oldTabName: event.oldName\n          });\n        }),\n        runOnDetached(function (component) {\n          var api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ], false);\n    };\n    var SilverDialogEvents = {\n      initUrlDialog: initUrlDialog,\n      initDialog: initDialog\n    };\n\n    var makeButton = function (button, backstage) {\n      return renderFooterButton(button, button.type, backstage);\n    };\n    var lookup = function (compInSystem, footerButtons, buttonName) {\n      return find$5(footerButtons, function (button) {\n        return button.name === buttonName;\n      }).bind(function (memButton) {\n        return memButton.memento.getOpt(compInSystem);\n      });\n    };\n    var renderComponents = function (_data, state) {\n      var footerButtons = state.map(function (s) {\n        return s.footerButtons;\n      }).getOr([]);\n      var buttonGroups = partition$3(footerButtons, function (button) {\n        return button.align === 'start';\n      });\n      var makeGroup = function (edge, buttons) {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-' + edge]\n          },\n          components: map$2(buttons, function (button) {\n            return button.memento.asSpec();\n          })\n        });\n      };\n      var startButtons = makeGroup('start', buttonGroups.pass);\n      var endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    var renderFooter = function (initSpec, backstage) {\n      var updateState = function (_comp, data) {\n        var footerButtons = map$2(data.buttons, function (button) {\n          var memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        var lookupByName = function (compInSystem, buttonName) {\n          return lookup(compInSystem, footerButtons, buttonName);\n        };\n        return Optional.some({\n          lookupByName: lookupByName,\n          footerButtons: footerButtons\n        });\n      };\n      return {\n        dom: fromHtml('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: footerChannel,\n            initialData: initSpec,\n            updateState: updateState,\n            renderComponents: renderComponents\n          })])\n      };\n    };\n    var renderInlineFooter = function (initSpec, backstage) {\n      return renderFooter(initSpec, backstage);\n    };\n    var renderModalFooter = function (initSpec, backstage) {\n      return ModalDialog.parts.footer(renderFooter(initSpec, backstage));\n    };\n\n    var getCompByName = function (access, name) {\n      var root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        var form_1 = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form_1, name).fold(function () {\n          var footer = access.getFooter();\n          var footerState = Reflecting.getState(footer);\n          return footerState.get().bind(function (f) {\n            return f.lookupByName(form_1, name);\n          });\n        }, function (comp) {\n          return Optional.some(comp);\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    var validateData$1 = function (access, data) {\n      var root = access.getRoot();\n      return Reflecting.getState(root).get().map(function (dialogState) {\n        return getOrDie(asRaw('data', dialogState.dataValidator, data));\n      }).getOr(data);\n    };\n    var getDialogApi = function (access, doRedial, menuItemStates) {\n      var withRoot = function (f) {\n        var root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      var getData = function () {\n        var root = access.getRoot();\n        var valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        var representedValues = Representing.getValue(valueComp);\n        var menuItemCurrentState = map$1(menuItemStates, function (cell) {\n          return cell.get();\n        });\n        return __assign(__assign({}, representedValues), menuItemCurrentState);\n      };\n      var setData = function (newData) {\n        withRoot(function (_) {\n          var prevData = instanceApi.getData();\n          var mergedData = __assign(__assign({}, prevData), newData);\n          var newInternalData = validateData$1(access, mergedData);\n          var form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each(menuItemStates, function (v, k) {\n            if (has$2(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      var disable = function (name) {\n        getCompByName(access, name).each(Disabling.disable);\n      };\n      var enable = function (name) {\n        getCompByName(access, name).each(Disabling.enable);\n      };\n      var focus = function (name) {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      var block = function (message) {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(function (root) {\n          emitWith(root, formBlockEvent, { message: message });\n        });\n      };\n      var unblock = function () {\n        withRoot(function (root) {\n          emit(root, formUnblockEvent);\n        });\n      };\n      var showTab = function (name) {\n        withRoot(function (_) {\n          var body = access.getBody();\n          var bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(function (b) {\n              return b.isTabPanel();\n            })) {\n            Composing.getCurrent(body).each(function (tabSection) {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      var redial = function (d) {\n        withRoot(function (root) {\n          var dialogInit = doRedial(d);\n          root.getSystem().broadcastOn([dialogChannel], dialogInit);\n          root.getSystem().broadcastOn([titleChannel], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([bodyChannel], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([footerChannel], dialogInit.internalDialog);\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      var close = function () {\n        withRoot(function (root) {\n          emit(root, formCloseEvent);\n        });\n      };\n      var instanceApi = {\n        getData: getData,\n        setData: setData,\n        disable: disable,\n        enable: enable,\n        focus: focus,\n        block: block,\n        unblock: unblock,\n        showTab: showTab,\n        redial: redial,\n        close: close\n      };\n      return instanceApi;\n    };\n\n    var getDialogSizeClasses = function (size) {\n      switch (size) {\n      case 'large':\n        return ['tox-dialog--width-lg'];\n      case 'medium':\n        return ['tox-dialog--width-md'];\n      default:\n        return [];\n      }\n    };\n    var renderDialog = function (dialogInit, extra, backstage) {\n      var header = getHeader(dialogInit.internalDialog.title, backstage);\n      var body = renderModalBody({ body: dialogInit.internalDialog.body }, backstage);\n      var storagedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons);\n      var objOfCells = extractCellsToObject(storagedMenuButtons);\n      var footer = renderModalFooter({ buttons: storagedMenuButtons }, backstage);\n      var dialogEvents = SilverDialogEvents.initDialog(function () {\n        return instanceApi;\n      }, getEventExtras(function () {\n        return dialog;\n      }, backstage.shared.providers, extra), backstage.shared.getSink);\n      var dialogSize = getDialogSizeClasses(dialogInit.internalDialog.size);\n      var spec = {\n        header: header,\n        body: body,\n        footer: Optional.some(footer),\n        extraClasses: dialogSize,\n        extraBehaviours: [],\n        extraStyles: {}\n      };\n      var dialog = renderModalDialog(spec, dialogInit, dialogEvents, backstage);\n      var modalAccess = function () {\n        var getForm = function () {\n          var outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        return {\n          getRoot: constant$1(dialog),\n          getBody: function () {\n            return ModalDialog.getBody(dialog);\n          },\n          getFooter: function () {\n            return ModalDialog.getFooter(dialog);\n          },\n          getFormWrapper: getForm\n        };\n      }();\n      var instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var renderInlineDialog = function (dialogInit, extra, backstage, ariaAttrs) {\n      var _a, _b;\n      var dialogLabelId = generate$6('dialog-label');\n      var dialogContentId = generate$6('dialog-content');\n      var updateState = function (_comp, incoming) {\n        return Optional.some(incoming);\n      };\n      var memHeader = record(renderInlineHeader({\n        title: dialogInit.internalDialog.title,\n        draggable: true\n      }, dialogLabelId, backstage.shared.providers));\n      var memBody = record(renderInlineBody({ body: dialogInit.internalDialog.body }, dialogContentId, backstage, ariaAttrs));\n      var storagedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons);\n      var objOfCells = extractCellsToObject(storagedMenuButtons);\n      var memFooter = record(renderInlineFooter({ buttons: storagedMenuButtons }, backstage));\n      var dialogEvents = SilverDialogEvents.initDialog(function () {\n        return instanceApi;\n      }, {\n        onBlock: function (event) {\n          Blocking.block(dialog, function (_comp, bs) {\n            return getBusySpec(event.message, bs, backstage.shared.providers);\n          });\n        },\n        onUnblock: function () {\n          Blocking.unblock(dialog);\n        },\n        onClose: function () {\n          return extra.closeWindow();\n        }\n      }, backstage.shared.getSink);\n      var dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            'tox-dialog-inline'\n          ],\n          attributes: (_a = { role: 'dialog' }, _a['aria-labelledby'] = dialogLabelId, _a['aria-describedby'] = dialogContentId, _a)\n        },\n        eventOrder: (_b = {}, _b[receive()] = [\n          Reflecting.name(),\n          Receiving.name()\n        ], _b[execute$5()] = ['execute-on-form'], _b[attachedToDom()] = [\n          'reflecting',\n          'execute-on-form'\n        ], _b),\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: function (c) {\n              emit(c, formCloseEvent);\n              return Optional.some(true);\n            },\n            useTabstopAt: function (elem) {\n              return !isPseudoStop(elem) && (name$2(elem) !== 'button' || get$d(elem, 'disabled') !== 'disabled');\n            }\n          }),\n          Reflecting.config({\n            channel: dialogChannel,\n            updateState: updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), function (comp, _se) {\n              Keying.focusIn(comp);\n            })])),\n          Blocking.config({\n            getRoot: function () {\n              return Optional.some(dialog);\n            }\n          }),\n          Replacing.config({}),\n          RepresentingConfigs.memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          memFooter.asSpec()\n        ]\n      });\n      var instanceApi = getDialogApi({\n        getRoot: constant$1(dialog),\n        getFooter: function () {\n          return memFooter.get(dialog);\n        },\n        getBody: function () {\n          return memBody.get(dialog);\n        },\n        getFormWrapper: function () {\n          var body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        }\n      }, extra.redial, objOfCells);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var getUrlDialogApi = function (root) {\n      var withRoot = function (f) {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      var block = function (message) {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(function (root) {\n          emitWith(root, formBlockEvent, { message: message });\n        });\n      };\n      var unblock = function () {\n        withRoot(function (root) {\n          emit(root, formUnblockEvent);\n        });\n      };\n      var close = function () {\n        withRoot(function (root) {\n          emit(root, formCloseEvent);\n        });\n      };\n      var sendMessage = function (data) {\n        withRoot(function (root) {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block: block,\n        unblock: unblock,\n        close: close,\n        sendMessage: sendMessage\n      };\n    };\n\n    var SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    var isSupportedMessage = function (data) {\n      return isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    };\n    var isCustomMessage = function (data) {\n      return !isSupportedMessage(data) && isObject(data) && has$2(data, 'mceAction');\n    };\n    var handleMessage = function (editor, api, data) {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        var ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    var renderUrlDialog = function (internalDialog, extra, editor, backstage) {\n      var _a;\n      var header = getHeader(internalDialog.title, backstage);\n      var body = renderIframeBody(internalDialog);\n      var footer = internalDialog.buttons.bind(function (buttons) {\n        if (buttons.length === 0) {\n          return Optional.none();\n        } else {\n          return Optional.some(renderModalFooter({ buttons: buttons }, backstage));\n        }\n      });\n      var dialogEvents = SilverDialogEvents.initUrlDialog(function () {\n        return instanceApi;\n      }, getEventExtras(function () {\n        return dialog;\n      }, backstage.shared.providers, extra));\n      var styles = __assign(__assign({}, internalDialog.height.fold(function () {\n        return {};\n      }, function (height) {\n        return {\n          'height': height + 'px',\n          'max-height': height + 'px'\n        };\n      })), internalDialog.width.fold(function () {\n        return {};\n      }, function (width) {\n        return {\n          'width': width + 'px',\n          'max-width': width + 'px'\n        };\n      }));\n      var classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      var iframeUri = new global$1(internalDialog.url, { base_uri: new global$1(window.location.href) });\n      var iframeDomain = iframeUri.protocol + '://' + iframeUri.host + (iframeUri.port ? ':' + iframeUri.port : '');\n      var messageHandlerUnbinder = unbindable();\n      var extraBehaviours = [\n        config('messages', [\n          runOnAttached(function () {\n            var unbind = bind(SugarElement.fromDom(window), 'message', function (e) {\n              if (iframeUri.isSameOrigin(new global$1(e.raw.origin))) {\n                var data = e.raw.data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(unbind);\n          }),\n          runOnDetached(messageHandlerUnbinder.clear)\n        ]),\n        Receiving.config({\n          channels: (_a = {}, _a[bodySendMessageChannel] = {\n            onReceive: function (comp, data) {\n              descendant(comp.element, 'iframe').each(function (iframeEle) {\n                var iframeWin = iframeEle.dom.contentWindow;\n                iframeWin.postMessage(data, iframeDomain);\n              });\n            }\n          }, _a)\n        })\n      ];\n      var spec = {\n        header: header,\n        body: body,\n        footer: footer,\n        extraClasses: classes,\n        extraBehaviours: extraBehaviours,\n        extraStyles: styles\n      };\n      var dialog = renderModalDialog(spec, internalDialog, dialogEvents, backstage);\n      var instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var setup$2 = function (extras) {\n      var sharedBackstage = extras.backstage.shared;\n      var open = function (message, callback) {\n        var closeDialog = function () {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        var memFooterClose = record(renderFooterButton({\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage));\n        var titleSpec = pUntitled();\n        var closeSpec = pClose(closeDialog, sharedBackstage.providers);\n        var alertDialog = build$1(renderDialog$1({\n          lazySink: function () {\n            return sharedBackstage.getSink();\n          },\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [memFooterClose.asSpec()]))),\n          onEscape: closeDialog,\n          extraClasses: ['tox-alert-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [run$1(formCancelEvent, closeDialog)],\n          eventOrder: {}\n        }));\n        ModalDialog.show(alertDialog);\n        var footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open: open };\n    };\n\n    var setup$1 = function (extras) {\n      var sharedBackstage = extras.backstage.shared;\n      var open = function (message, callback) {\n        var closeDialog = function (state) {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        var memFooterYes = record(renderFooterButton({\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'submit', extras.backstage));\n        var footerNo = renderFooterButton({\n          name: 'no',\n          text: 'No',\n          primary: false,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage);\n        var titleSpec = pUntitled();\n        var closeSpec = pClose(function () {\n          return closeDialog(false);\n        }, sharedBackstage.providers);\n        var confirmDialog = build$1(renderDialog$1({\n          lazySink: function () {\n            return sharedBackstage.getSink();\n          },\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [\n            footerNo,\n            memFooterYes.asSpec()\n          ]))),\n          onEscape: function () {\n            return closeDialog(false);\n          },\n          extraClasses: ['tox-confirm-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [\n            run$1(formCancelEvent, function () {\n              return closeDialog(false);\n            }),\n            run$1(formSubmitEvent, function () {\n              return closeDialog(true);\n            })\n          ],\n          eventOrder: {}\n        }));\n        ModalDialog.show(confirmDialog);\n        var footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open: open };\n    };\n\n    var validateData = function (data, validator) {\n      return getOrDie(asRaw('data', validator, data));\n    };\n    var isAlertOrConfirmDialog = function (target) {\n      return closest(target, '.tox-alert-dialog') || closest(target, '.tox-confirm-dialog');\n    };\n    var inlineAdditionalBehaviours = function (editor, isStickyToolbar, isToolbarLocationTop) {\n      if (isStickyToolbar && isToolbarLocationTop) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: function () {\n                return Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer())));\n              },\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            modes: ['top']\n          })];\n      }\n    };\n    var setup = function (extras) {\n      var backstage = extras.backstage;\n      var editor = extras.editor;\n      var isStickyToolbar$1 = isStickyToolbar(editor);\n      var alertDialog = setup$2(extras);\n      var confirmDialog = setup$1(extras);\n      var open = function (config, params, closeWindow) {\n        if (params !== undefined && params.inline === 'toolbar') {\n          return openInlineDialog(config, backstage.shared.anchors.inlineDialog(), closeWindow, params.ariaAttrs);\n        } else if (params !== undefined && params.inline === 'cursor') {\n          return openInlineDialog(config, backstage.shared.anchors.cursor(), closeWindow, params.ariaAttrs);\n        } else {\n          return openModalDialog(config, closeWindow);\n        }\n      };\n      var openUrl = function (config, closeWindow) {\n        return openModalUrlDialog(config, closeWindow);\n      };\n      var openModalUrlDialog = function (config, closeWindow) {\n        var factory = function (contents) {\n          var dialog = renderUrlDialog(contents, {\n            closeWindow: function () {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, backstage);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      var openModalDialog = function (config, closeWindow) {\n        var factory = function (contents, internalInitialData, dataValidator) {\n          var initialData = internalInitialData;\n          var dialogInit = {\n            dataValidator: dataValidator,\n            initialData: initialData,\n            internalDialog: contents\n          };\n          var dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: function () {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, backstage);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      var openInlineDialog = function (config$1, anchor, closeWindow, ariaAttrs) {\n        var factory = function (contents, internalInitialData, dataValidator) {\n          var initialData = validateData(internalInitialData, dataValidator);\n          var inlineDialog = value$1();\n          var isToolbarLocationTop = backstage.shared.header.isPositionedAtTop();\n          var dialogInit = {\n            dataValidator: dataValidator,\n            initialData: initialData,\n            internalDialog: contents\n          };\n          var refreshDocking = function () {\n            return inlineDialog.on(function (dialog) {\n              InlineView.reposition(dialog);\n              Docking.refresh(dialog);\n            });\n          };\n          var dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: function () {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, backstage, ariaAttrs);\n          var inlineDialogComp = build$1(InlineView.sketch(__assign(__assign({\n            lazySink: backstage.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: {}\n          }, isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} }), {\n            inlineBehaviours: derive$1(__spreadArray([config('window-manager-inline-events', [run$1(dismissRequested(), function (_comp, _se) {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })])], inlineAdditionalBehaviours(editor, isStickyToolbar$1, isToolbarLocationTop), true)),\n            isExtraPart: function (_comp, target) {\n              return isAlertOrConfirmDialog(target);\n            }\n          })));\n          inlineDialog.set(inlineDialogComp);\n          InlineView.showWithin(inlineDialogComp, premade(dialogUi.dialog), { anchor: anchor }, Optional.some(body()));\n          if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      var confirm = function (message, callback) {\n        confirmDialog.open(message, function (state) {\n          callback(state);\n        });\n      };\n      var alert = function (message, callback) {\n        alertDialog.open(message, function () {\n          callback();\n        });\n      };\n      var close = function (instanceApi) {\n        instanceApi.close();\n      };\n      return {\n        open: open,\n        openUrl: openUrl,\n        alert: alert,\n        close: close,\n        confirm: confirm\n      };\n    };\n\n    function Theme () {\n      global$g.add('silver', function (editor) {\n        var _a = setup$3(editor), uiMothership = _a.uiMothership, backstage = _a.backstage, renderUI = _a.renderUI, getUi = _a.getUi;\n        Autocompleter.register(editor, backstage.shared);\n        var windowMgr = setup({\n          editor: editor,\n          backstage: backstage\n        });\n        return {\n          renderUI: renderUI,\n          getWindowManagerImpl: constant$1(windowMgr),\n          getNotificationManagerImpl: function () {\n            return NotificationManagerImpl(editor, { backstage: backstage }, uiMothership);\n          },\n          ui: getUi()\n        };\n      });\n    }\n\n    Theme();\n\n}());\n","import \"core-js/modules/es.array.push.js\";\nimport { unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nimport { ref, watch } from \"vue\";\nexport default {\n  __name: 'dynamic-table',\n  props: {\n    data: {\n      type: Array,\n      default: () => []\n    },\n    header: {\n      type: Array,\n      default: () => []\n    },\n    operations: {\n      type: Array,\n      default: () => null\n    },\n    preNum: {\n      type: Number,\n      default: 0\n    }\n  },\n  emits: ['commands'],\n  setup(__props, {\n    emit: emits\n  }) {\n    const props = __props;\n    let tableHeader = ref([]);\n    let tableData = ref([]);\n    let operationsData = ref(null);\n\n    // \n\n    watch(() => props.data, val => {\n      tableData.value = val;\n    }, {\n      immediate: true\n    });\n    watch(() => props.header, val => {\n      tableHeader.value = generateHeader(val);\n    }, {\n      immediate: true\n    });\n    watch(() => props.operations, val => {\n      if (val) operationsData.value = val;else operationsData.value = null;\n    }, {\n      immediate: true\n    });\n    function generateHeader(data) {\n      const ret = [];\n      for (let key of data) {\n        if (key !== \"id\") {\n          const obj = {\n            key: key,\n            value: key.replace(/\\_/g, \" \")\n          };\n          ret.push(obj);\n        }\n      }\n      return ret;\n    }\n    function handleClick(event, item) {\n      emits('commands', {\n        command: event,\n        data: item\n      });\n    }\n    return (_ctx, _cache) => {\n      const _component_el_table_column = _resolveComponent(\"el-table-column\");\n      const _component_el_button = _resolveComponent(\"el-button\");\n      const _component_el_tooltip = _resolveComponent(\"el-tooltip\");\n      const _component_el_empty = _resolveComponent(\"el-empty\");\n      const _component_el_table = _resolveComponent(\"el-table\");\n      return _openBlock(), _createBlock(_component_el_table, {\n        data: _unref(tableData),\n        style: {\n          \"width\": \"100%\",\n          \"min-height\": \"360px\"\n        }\n      }, {\n        empty: _withCtx(() => [_createVNode(_component_el_empty, {\n          style: {\n            \"margin\": \"0 auto\"\n          }\n        })]),\n        default: _withCtx(() => [_createVNode(_component_el_table_column, {\n          label: \"No.\",\n          \"min-width\": \"50\"\n        }, {\n          default: _withCtx(scope => [_createTextVNode(_toDisplayString(scope.$index + __props.preNum + 1), 1)]),\n          _: 1\n        }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(tableHeader), (item, index) => {\n          return _openBlock(), _createBlock(_component_el_table_column, {\n            key: index,\n            label: item.value,\n            prop: item.key,\n            \"min-width\": \"120\"\n          }, null, 8, [\"label\", \"prop\"]);\n        }), 128)), _unref(operationsData) ? (_openBlock(), _createBlock(_component_el_table_column, {\n          key: 0,\n          label: \"Operations\",\n          \"min-width\": \"120\"\n        }, {\n          default: _withCtx(scope => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(operationsData), item => {\n            return _openBlock(), _createElementBlock(\"span\", {\n              key: item.id,\n              style: {\n                \"padding-left\": \"5px\",\n                \"padding-right\": \"5px\"\n              }\n            }, [_createVNode(_component_el_tooltip, {\n              content: item.name,\n              placement: \"top\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_button, {\n                type: item.type,\n                size: \"small\",\n                onClick: $event => handleClick(item.event, scope.row, scope.$index),\n                circle: \"\"\n              }, {\n                default: _withCtx(() => [_createElementVNode(\"i\", {\n                  class: _normalizeClass(item.icon)\n                }, null, 2)]),\n                _: 2\n              }, 1032, [\"type\", \"onClick\"])]),\n              _: 2\n            }, 1032, [\"content\"])]);\n          }), 128))]),\n          _: 1\n        })) : _createCommentVNode(\"\", true)]),\n        _: 1\n      }, 8, [\"data\"]);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./dynamic-table.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./dynamic-table.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./dynamic-table.vue?vue&type=style&index=0&id=6416a9ef&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6416a9ef\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card-text\",\n  style: {\n    \"display\": \"block\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"card-title\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"card-category\"\n};\nimport { ref, watch } from \"vue\";\nexport default {\n  __name: 'page-title',\n  props: {\n    option: Object,\n    default: () => {}\n  },\n  emits: ['refresh'],\n  setup(__props, {\n    emit\n  }) {\n    const props = __props;\n    const title = ref({});\n    watch(() => props.option, val => {\n      title.value = val;\n    }, {\n      immediate: true\n    });\n    return (_ctx, _cache) => {\n      const _component_el_col = _resolveComponent(\"el-col\");\n      const _component_el_row = _resolveComponent(\"el-row\");\n      return _openBlock(), _createElementBlock(\"div\", {\n        class: _normalizeClass(`card-header card-header-text card-header-${title.value.type}`)\n      }, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_row, null, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 22\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"h4\", _hoisted_2, _toDisplayString(title.value.title), 1), title.value.desc ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, _toDisplayString(title.value.desc), 1)) : _createCommentVNode(\"\", true)]),\n          _: 1\n        }), _createVNode(_component_el_col, {\n          span: 2,\n          style: {\n            \"text-align\": \"right\"\n          }\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"i\", {\n            class: \"fa fa-refresh page-refresh\",\n            onClick: _cache[0] || (_cache[0] = $event => emit('refresh'))\n          })]),\n          _: 1\n        })]),\n        _: 1\n      })])], 2);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./page-title.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./page-title.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import type { ComputedRef, InjectionKey } from 'vue'\n\nexport interface UploadContext {\n  accept: ComputedRef<string>\n}\n\nexport const uploadContextKey: InjectionKey<UploadContext> =\n  Symbol('uploadContextKey')\n","import { buildProps, definePropType } from '@element-plus/utils'\nimport type { ExtractPropTypes, SVGAttributes } from 'vue'\nimport type Progress from './progress.vue'\n\nexport type ProgressColor = { color: string; percentage: number }\nexport type ProgressFn = (percentage: number) => string\n\nexport const progressProps = buildProps({\n  /**\n   * @description type of progress bar\n   */\n  type: {\n    type: String,\n    default: 'line',\n    values: ['line', 'circle', 'dashboard'],\n  },\n  /**\n   * @description percentage, required\n   */\n  percentage: {\n    type: Number,\n    default: 0,\n    validator: (val: number): boolean => val >= 0 && val <= 100,\n  },\n  /**\n   * @description the current status of progress bar\n   */\n  status: {\n    type: String,\n    default: '',\n    values: ['', 'success', 'exception', 'warning'],\n  },\n  /**\n   * @description set indeterminate progress\n   */\n  indeterminate: {\n    type: Boolean,\n    default: false,\n  },\n  /**\n   * @description control the animation duration of indeterminate progress or striped flow progress\n   */\n  duration: {\n    type: Number,\n    default: 3,\n  },\n  /**\n   * @description the width of progress bar\n   */\n  strokeWidth: {\n    type: Number,\n    default: 6,\n  },\n  /**\n   * @description butt/circle/dashboard type shape at the end path\n   */\n  strokeLinecap: {\n    type: definePropType<NonNullable<SVGAttributes['stroke-linecap']>>(String),\n    default: 'round',\n  },\n  /**\n   * @description whether to place the percentage inside progress bar, only works when `type` is 'line'\n   */\n  textInside: {\n    type: Boolean,\n    default: false,\n  },\n  /**\n   * @description the canvas width of circle progress bar\n   */\n  width: {\n    type: Number,\n    default: 126,\n  },\n  /**\n   * @description whether to show percentage\n   */\n  showText: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description background color of progress bar. Overrides `status` prop\n   */\n  color: {\n    type: definePropType<string | ProgressColor[] | ProgressFn>([\n      String,\n      Array,\n      Function,\n    ]),\n    default: '',\n  },\n  /**\n   * @description stripe over the progress bar's color\n   */\n  striped: Boolean,\n  /**\n   * @description get the stripes to flow\n   */\n  stripedFlow: Boolean,\n  /**\n   * @description custom text format\n   */\n  format: {\n    type: definePropType<ProgressFn>(Function),\n    default: (percentage: number): string => `${percentage}%`,\n  },\n} as const)\n\nexport type ProgressProps = ExtractPropTypes<typeof progressProps>\nexport type ProgressInstance = InstanceType<typeof Progress>\n","<template>\n  <div\n    :class=\"[\n      ns.b(),\n      ns.m(type),\n      ns.is(status),\n      {\n        [ns.m('without-text')]: !showText,\n        [ns.m('text-inside')]: textInside,\n      },\n    ]\"\n    role=\"progressbar\"\n    :aria-valuenow=\"percentage\"\n    aria-valuemin=\"0\"\n    aria-valuemax=\"100\"\n  >\n    <div v-if=\"type === 'line'\" :class=\"ns.b('bar')\">\n      <div\n        :class=\"ns.be('bar', 'outer')\"\n        :style=\"{ height: `${strokeWidth}px` }\"\n      >\n        <div\n          :class=\"[\n            ns.be('bar', 'inner'),\n            { [ns.bem('bar', 'inner', 'indeterminate')]: indeterminate },\n            { [ns.bem('bar', 'inner', 'striped')]: striped },\n            { [ns.bem('bar', 'inner', 'striped-flow')]: stripedFlow },\n          ]\"\n          :style=\"barStyle\"\n        >\n          <div\n            v-if=\"(showText || $slots.default) && textInside\"\n            :class=\"ns.be('bar', 'innerText')\"\n          >\n            <slot :percentage=\"percentage\">\n              <span>{{ content }}</span>\n            </slot>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      v-else\n      :class=\"ns.b('circle')\"\n      :style=\"{ height: `${width}px`, width: `${width}px` }\"\n    >\n      <svg viewBox=\"0 0 100 100\">\n        <path\n          :class=\"ns.be('circle', 'track')\"\n          :d=\"trackPath\"\n          :stroke=\"`var(${ns.cssVarName('fill-color-light')}, #e5e9f2)`\"\n          :stroke-width=\"relativeStrokeWidth\"\n          fill=\"none\"\n          :style=\"trailPathStyle\"\n        />\n        <path\n          :class=\"ns.be('circle', 'path')\"\n          :d=\"trackPath\"\n          :stroke=\"stroke\"\n          fill=\"none\"\n          :opacity=\"percentage ? 1 : 0\"\n          :stroke-linecap=\"strokeLinecap\"\n          :stroke-width=\"relativeStrokeWidth\"\n          :style=\"circlePathStyle\"\n        />\n      </svg>\n    </div>\n    <div\n      v-if=\"(showText || $slots.default) && !textInside\"\n      :class=\"ns.e('text')\"\n      :style=\"{ fontSize: `${progressTextSize}px` }\"\n    >\n      <slot :percentage=\"percentage\">\n        <span v-if=\"!status\">{{ content }}</span>\n        <el-icon v-else><component :is=\"statusIcon\" /></el-icon>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { ElIcon } from '@element-plus/components/icon'\nimport {\n  Check,\n  CircleCheck,\n  CircleClose,\n  Close,\n  WarningFilled,\n} from '@element-plus/icons-vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { isFunction, isString } from '@element-plus/utils'\nimport { progressProps } from './progress'\nimport type { CSSProperties } from 'vue'\nimport type { ProgressColor } from './progress'\n\ndefineOptions({\n  name: 'ElProgress',\n})\n\nconst STATUS_COLOR_MAP: Record<string, string> = {\n  success: '#13ce66',\n  exception: '#ff4949',\n  warning: '#e6a23c',\n  default: '#20a0ff',\n}\n\nconst props = defineProps(progressProps)\n\nconst ns = useNamespace('progress')\n\nconst barStyle = computed<CSSProperties>(() => ({\n  width: `${props.percentage}%`,\n  animationDuration: `${props.duration}s`,\n  backgroundColor: getCurrentColor(props.percentage),\n}))\n\nconst relativeStrokeWidth = computed(() =>\n  ((props.strokeWidth / props.width) * 100).toFixed(1)\n)\n\nconst radius = computed(() => {\n  if (['circle', 'dashboard'].includes(props.type)) {\n    return Number.parseInt(\n      `${50 - Number.parseFloat(relativeStrokeWidth.value) / 2}`,\n      10\n    )\n  }\n  return 0\n})\n\nconst trackPath = computed(() => {\n  const r = radius.value\n  const isDashboard = props.type === 'dashboard'\n  return `\n          M 50 50\n          m 0 ${isDashboard ? '' : '-'}${r}\n          a ${r} ${r} 0 1 1 0 ${isDashboard ? '-' : ''}${r * 2}\n          a ${r} ${r} 0 1 1 0 ${isDashboard ? '' : '-'}${r * 2}\n          `\n})\n\nconst perimeter = computed(() => 2 * Math.PI * radius.value)\n\nconst rate = computed(() => (props.type === 'dashboard' ? 0.75 : 1))\n\nconst strokeDashoffset = computed(() => {\n  const offset = (-1 * perimeter.value * (1 - rate.value)) / 2\n  return `${offset}px`\n})\n\nconst trailPathStyle = computed<CSSProperties>(() => ({\n  strokeDasharray: `${perimeter.value * rate.value}px, ${perimeter.value}px`,\n  strokeDashoffset: strokeDashoffset.value,\n}))\n\nconst circlePathStyle = computed<CSSProperties>(() => ({\n  strokeDasharray: `${\n    perimeter.value * rate.value * (props.percentage / 100)\n  }px, ${perimeter.value}px`,\n  strokeDashoffset: strokeDashoffset.value,\n  transition:\n    'stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s',\n}))\n\nconst stroke = computed(() => {\n  let ret: string\n  if (props.color) {\n    ret = getCurrentColor(props.percentage)\n  } else {\n    ret = STATUS_COLOR_MAP[props.status] || STATUS_COLOR_MAP.default\n  }\n  return ret\n})\n\nconst statusIcon = computed(() => {\n  if (props.status === 'warning') {\n    return WarningFilled\n  }\n  if (props.type === 'line') {\n    return props.status === 'success' ? CircleCheck : CircleClose\n  } else {\n    return props.status === 'success' ? Check : Close\n  }\n})\n\nconst progressTextSize = computed(() => {\n  return props.type === 'line'\n    ? 12 + props.strokeWidth * 0.4\n    : props.width * 0.111111 + 2\n})\n\nconst content = computed(() => props.format(props.percentage))\n\nfunction getColors(color: ProgressColor[]) {\n  const span = 100 / color.length\n  const seriesColors = color.map((seriesColor, index) => {\n    if (isString(seriesColor)) {\n      return {\n        color: seriesColor,\n        percentage: (index + 1) * span,\n      }\n    }\n    return seriesColor\n  })\n  return seriesColors.sort((a, b) => a.percentage - b.percentage)\n}\n\nconst getCurrentColor = (percentage: number) => {\n  const { color } = props\n  if (isFunction(color)) {\n    return color(percentage)\n  } else if (isString(color)) {\n    return color\n  } else {\n    const colors = getColors(color)\n    for (const color of colors) {\n      if (color.percentage > percentage) return color.color\n    }\n    return colors[colors.length - 1]?.color\n  }\n}\n</script>\n","import { withInstall } from '@element-plus/utils'\nimport Progress from './src/progress.vue'\n\nexport const ElProgress = withInstall(Progress)\nexport default ElProgress\n\nexport * from './src/progress'\n","import { isNil } from 'lodash-unified'\nimport { throwError } from '@element-plus/utils'\nimport type {\n  UploadProgressEvent,\n  UploadRequestHandler,\n  UploadRequestOptions,\n} from './upload'\n\nconst SCOPE = 'ElUpload'\n\nexport class UploadAjaxError extends Error {\n  name = 'UploadAjaxError'\n  status: number\n  method: string\n  url: string\n\n  constructor(message: string, status: number, method: string, url: string) {\n    super(message)\n    this.status = status\n    this.method = method\n    this.url = url\n  }\n}\n\nfunction getError(\n  action: string,\n  option: UploadRequestOptions,\n  xhr: XMLHttpRequest\n) {\n  let msg: string\n  if (xhr.response) {\n    msg = `${xhr.response.error || xhr.response}`\n  } else if (xhr.responseText) {\n    msg = `${xhr.responseText}`\n  } else {\n    msg = `fail to ${option.method} ${action} ${xhr.status}`\n  }\n\n  return new UploadAjaxError(msg, xhr.status, option.method, action)\n}\n\nfunction getBody(xhr: XMLHttpRequest): XMLHttpRequestResponseType {\n  const text = xhr.responseText || xhr.response\n  if (!text) {\n    return text\n  }\n\n  try {\n    return JSON.parse(text)\n  } catch {\n    return text\n  }\n}\n\nexport const ajaxUpload: UploadRequestHandler = (option) => {\n  if (typeof XMLHttpRequest === 'undefined')\n    throwError(SCOPE, 'XMLHttpRequest is undefined')\n\n  const xhr = new XMLHttpRequest()\n  const action = option.action\n\n  if (xhr.upload) {\n    xhr.upload.addEventListener('progress', (evt) => {\n      const progressEvt = evt as UploadProgressEvent\n      progressEvt.percent = evt.total > 0 ? (evt.loaded / evt.total) * 100 : 0\n      option.onProgress(progressEvt)\n    })\n  }\n\n  const formData = new FormData()\n  if (option.data) {\n    for (const [key, value] of Object.entries(option.data)) {\n      if (Array.isArray(value)) formData.append(key, ...value)\n      else formData.append(key, value)\n    }\n  }\n  formData.append(option.filename, option.file, option.file.name)\n\n  xhr.addEventListener('error', () => {\n    option.onError(getError(action, option, xhr))\n  })\n\n  xhr.addEventListener('load', () => {\n    if (xhr.status < 200 || xhr.status >= 300) {\n      return option.onError(getError(action, option, xhr))\n    }\n    option.onSuccess(getBody(xhr))\n  })\n\n  xhr.open(option.method, action, true)\n\n  if (option.withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true\n  }\n\n  const headers = option.headers || {}\n  if (headers instanceof Headers) {\n    headers.forEach((value, key) => xhr.setRequestHeader(key, value))\n  } else {\n    for (const [key, value] of Object.entries(headers)) {\n      if (isNil(value)) continue\n      xhr.setRequestHeader(key, String(value))\n    }\n  }\n\n  xhr.send(formData)\n  return xhr\n}\n","import { NOOP } from '@vue/shared'\nimport { buildProps, definePropType, mutable } from '@element-plus/utils'\nimport { ajaxUpload } from './ajax'\n\nimport type { UploadAjaxError } from './ajax'\nimport type { Awaitable } from '@element-plus/utils'\nimport type { ExtractPropTypes } from 'vue'\nimport type Upload from './upload.vue'\n\nexport const uploadListTypes = ['text', 'picture', 'picture-card'] as const\n\nlet fileId = 1\nexport const genFileId = () => Date.now() + fileId++\n\nexport type UploadStatus = 'ready' | 'uploading' | 'success' | 'fail'\nexport interface UploadProgressEvent extends ProgressEvent {\n  percent: number\n}\n\nexport interface UploadRequestOptions {\n  action: string\n  method: string\n  data: Record<string, string | Blob | [string | Blob, string]>\n  filename: string\n  file: File\n  headers: Headers | Record<string, string | number | null | undefined>\n  onError: (evt: UploadAjaxError) => void\n  onProgress: (evt: UploadProgressEvent) => void\n  onSuccess: (response: any) => void\n  withCredentials: boolean\n}\nexport interface UploadFile {\n  name: string\n  percentage?: number\n  status: UploadStatus\n  size?: number\n  response?: unknown\n  uid: number\n  url?: string\n  raw?: UploadRawFile\n}\nexport type UploadUserFile = Omit<UploadFile, 'status' | 'uid'> &\n  Partial<Pick<UploadFile, 'status' | 'uid'>>\n\nexport type UploadFiles = UploadFile[]\nexport interface UploadRawFile extends File {\n  uid: number\n}\nexport type UploadRequestHandler = (\n  options: UploadRequestOptions\n) => XMLHttpRequest | Promise<unknown>\nexport interface UploadHooks {\n  beforeUpload: (\n    rawFile: UploadRawFile\n  ) => Awaitable<void | undefined | null | boolean | File | Blob>\n  beforeRemove: (\n    uploadFile: UploadFile,\n    uploadFiles: UploadFiles\n  ) => Awaitable<boolean>\n  onRemove: (uploadFile: UploadFile, uploadFiles: UploadFiles) => void\n  onChange: (uploadFile: UploadFile, uploadFiles: UploadFiles) => void\n  onPreview: (uploadFile: UploadFile) => void\n  onSuccess: (\n    response: any,\n    uploadFile: UploadFile,\n    uploadFiles: UploadFiles\n  ) => void\n  onProgress: (\n    evt: UploadProgressEvent,\n    uploadFile: UploadFile,\n    uploadFiles: UploadFiles\n  ) => void\n  onError: (\n    error: Error,\n    uploadFile: UploadFile,\n    uploadFiles: UploadFiles\n  ) => void\n  onExceed: (files: File[], uploadFiles: UploadUserFile[]) => void\n}\n\nexport const uploadBaseProps = buildProps({\n  action: {\n    type: String,\n    default: '#',\n  },\n  headers: {\n    type: definePropType<Headers | Record<string, any>>(Object),\n  },\n  method: {\n    type: String,\n    default: 'post',\n  },\n  data: {\n    type: Object,\n    default: () => mutable({} as const),\n  },\n  multiple: {\n    type: Boolean,\n    default: false,\n  },\n  name: {\n    type: String,\n    default: 'file',\n  },\n  drag: {\n    type: Boolean,\n    default: false,\n  },\n  withCredentials: Boolean,\n  showFileList: {\n    type: Boolean,\n    default: true,\n  },\n  accept: {\n    type: String,\n    default: '',\n  },\n  type: {\n    type: String,\n    default: 'select',\n  },\n  fileList: {\n    type: definePropType<UploadUserFile[]>(Array),\n    default: () => mutable([] as const),\n  },\n  autoUpload: {\n    type: Boolean,\n    default: true,\n  },\n  listType: {\n    type: String,\n    values: uploadListTypes,\n    default: 'text',\n  },\n  httpRequest: {\n    type: definePropType<UploadRequestHandler>(Function),\n    default: ajaxUpload,\n  },\n  disabled: Boolean,\n  limit: Number,\n} as const)\n\nexport const uploadProps = buildProps({\n  ...uploadBaseProps,\n  beforeUpload: {\n    type: definePropType<UploadHooks['beforeUpload']>(Function),\n    default: NOOP,\n  },\n  beforeRemove: {\n    type: definePropType<UploadHooks['beforeRemove']>(Function),\n  },\n  onRemove: {\n    type: definePropType<UploadHooks['onRemove']>(Function),\n    default: NOOP,\n  },\n  onChange: {\n    type: definePropType<UploadHooks['onChange']>(Function),\n    default: NOOP,\n  },\n  onPreview: {\n    type: definePropType<UploadHooks['onPreview']>(Function),\n    default: NOOP,\n  },\n  onSuccess: {\n    type: definePropType<UploadHooks['onSuccess']>(Function),\n    default: NOOP,\n  },\n  onProgress: {\n    type: definePropType<UploadHooks['onProgress']>(Function),\n    default: NOOP,\n  },\n  onError: {\n    type: definePropType<UploadHooks['onError']>(Function),\n    default: NOOP,\n  },\n  onExceed: {\n    type: definePropType<UploadHooks['onExceed']>(Function),\n    default: NOOP,\n  },\n} as const)\n\nexport type UploadProps = ExtractPropTypes<typeof uploadProps>\n\nexport type UploadInstance = InstanceType<typeof Upload>\n","import { NOOP } from '@vue/shared'\nimport { buildProps, definePropType, mutable } from '@element-plus/utils'\nimport { uploadListTypes } from './upload'\nimport type { ExtractPropTypes } from 'vue'\nimport type { UploadFile, UploadFiles, UploadHooks } from './upload'\nimport type UploadList from './upload-list.vue'\n\nexport const uploadListProps = buildProps({\n  files: {\n    type: definePropType<UploadFiles>(Array),\n    default: () => mutable([]),\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n  handlePreview: {\n    type: definePropType<UploadHooks['onPreview']>(Function),\n    default: NOOP,\n  },\n  listType: {\n    type: String,\n    values: uploadListTypes,\n    default: 'text',\n  },\n} as const)\n\nexport type UploadListProps = ExtractPropTypes<typeof uploadListProps>\nexport const uploadListEmits = {\n  remove: (file: UploadFile) => !!file,\n}\nexport type UploadListEmits = typeof uploadListEmits\nexport type UploadListInstance = InstanceType<typeof UploadList>\n","<template>\n  <transition-group\n    tag=\"ul\"\n    :class=\"[\n      nsUpload.b('list'),\n      nsUpload.bm('list', listType),\n      nsUpload.is('disabled', disabled),\n    ]\"\n    :name=\"nsList.b()\"\n  >\n    <li\n      v-for=\"file in files\"\n      :key=\"file.uid || file.name\"\n      :class=\"[\n        nsUpload.be('list', 'item'),\n        nsUpload.is(file.status),\n        { focusing },\n      ]\"\n      tabindex=\"0\"\n      @keydown.delete=\"!disabled && handleRemove(file)\"\n      @focus=\"focusing = true\"\n      @blur=\"focusing = false\"\n      @click=\"focusing = false\"\n    >\n      <slot :file=\"file\">\n        <img\n          v-if=\"\n            listType === 'picture' ||\n            (file.status !== 'uploading' && listType === 'picture-card')\n          \"\n          :class=\"nsUpload.be('list', 'item-thumbnail')\"\n          :src=\"file.url\"\n          alt=\"\"\n        />\n        <div\n          v-if=\"file.status === 'uploading' || listType !== 'picture-card'\"\n          :class=\"nsUpload.be('list', 'item-info')\"\n        >\n          <a\n            :class=\"nsUpload.be('list', 'item-name')\"\n            @click.prevent=\"handlePreview(file)\"\n          >\n            <el-icon :class=\"nsIcon.m('document')\">\n              <Document />\n            </el-icon>\n            <span :class=\"nsUpload.be('list', 'item-file-name')\">\n              {{ file.name }}\n            </span>\n          </a>\n          <el-progress\n            v-if=\"file.status === 'uploading'\"\n            :type=\"listType === 'picture-card' ? 'circle' : 'line'\"\n            :stroke-width=\"listType === 'picture-card' ? 6 : 2\"\n            :percentage=\"Number(file.percentage)\"\n            :style=\"listType === 'picture-card' ? '' : 'margin-top: 0.5rem'\"\n          />\n        </div>\n\n        <label :class=\"nsUpload.be('list', 'item-status-label')\">\n          <el-icon\n            v-if=\"listType === 'text'\"\n            :class=\"[nsIcon.m('upload-success'), nsIcon.m('circle-check')]\"\n          >\n            <circle-check />\n          </el-icon>\n          <el-icon\n            v-else-if=\"['picture-card', 'picture'].includes(listType)\"\n            :class=\"[nsIcon.m('upload-success'), nsIcon.m('check')]\"\n          >\n            <Check />\n          </el-icon>\n        </label>\n        <el-icon\n          v-if=\"!disabled\"\n          :class=\"nsIcon.m('close')\"\n          @click=\"handleRemove(file)\"\n        >\n          <Close />\n        </el-icon>\n        <!-- Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn-->\n        <!-- This is a bug which needs to be fixed -->\n        <!-- TODO: Fix the incorrect navigation interaction -->\n        <i v-if=\"!disabled\" :class=\"nsIcon.m('close-tip')\">{{\n          t('el.upload.deleteTip')\n        }}</i>\n        <span\n          v-if=\"listType === 'picture-card'\"\n          :class=\"nsUpload.be('list', 'item-actions')\"\n        >\n          <span\n            :class=\"nsUpload.be('list', 'item-preview')\"\n            @click=\"handlePreview(file)\"\n          >\n            <el-icon :class=\"nsIcon.m('zoom-in')\"><zoom-in /></el-icon>\n          </span>\n          <span\n            v-if=\"!disabled\"\n            :class=\"nsUpload.be('list', 'item-delete')\"\n            @click=\"handleRemove(file)\"\n          >\n            <el-icon :class=\"nsIcon.m('delete')\">\n              <Delete />\n            </el-icon>\n          </span>\n        </span>\n      </slot>\n    </li>\n    <slot name=\"append\" />\n  </transition-group>\n</template>\n<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport { ElIcon } from '@element-plus/components/icon'\nimport {\n  Check,\n  CircleCheck,\n  Close,\n  Delete,\n  Document,\n  ZoomIn,\n} from '@element-plus/icons-vue'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport ElProgress from '@element-plus/components/progress'\nimport { useFormDisabled } from '@element-plus/components/form'\n\nimport { uploadListEmits, uploadListProps } from './upload-list'\nimport type { UploadFile } from './upload'\n\ndefineOptions({\n  name: 'ElUploadList',\n})\n\ndefineProps(uploadListProps)\nconst emit = defineEmits(uploadListEmits)\n\nconst { t } = useLocale()\nconst nsUpload = useNamespace('upload')\nconst nsIcon = useNamespace('icon')\nconst nsList = useNamespace('list')\nconst disabled = useFormDisabled()\n\nconst focusing = ref(false)\n\nconst handleRemove = (file: UploadFile) => {\n  emit('remove', file)\n}\n</script>\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nexport default cloneDeep;\n","import { buildProps, isArray } from '@element-plus/utils'\n\nimport type { ExtractPropTypes } from 'vue'\nimport type UploadDragger from './upload-dragger.vue'\n\nexport const uploadDraggerProps = buildProps({\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n} as const)\nexport type UploadDraggerProps = ExtractPropTypes<typeof uploadDraggerProps>\n\nexport const uploadDraggerEmits = {\n  file: (file: File[]) => isArray(file),\n}\nexport type UploadDraggerEmits = typeof uploadDraggerEmits\n\nexport type UploadDraggerInstance = InstanceType<typeof UploadDragger>\n","<template>\n  <div\n    :class=\"[ns.b('dragger'), ns.is('dragover', dragover)]\"\n    @drop.prevent=\"onDrop\"\n    @dragover.prevent=\"onDragover\"\n    @dragleave.prevent=\"dragover = false\"\n  >\n    <slot />\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport { inject, ref } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { useFormDisabled } from '@element-plus/components/form'\nimport { throwError } from '@element-plus/utils/error'\nimport { uploadContextKey } from './constants'\nimport { uploadDraggerEmits, uploadDraggerProps } from './upload-dragger'\n\nconst COMPONENT_NAME = 'ElUploadDrag'\n\ndefineOptions({\n  name: COMPONENT_NAME,\n})\n\ndefineProps(uploadDraggerProps)\nconst emit = defineEmits(uploadDraggerEmits)\n\nconst uploaderContext = inject(uploadContextKey)\nif (!uploaderContext) {\n  throwError(\n    COMPONENT_NAME,\n    'usage: <el-upload><el-upload-dragger /></el-upload>'\n  )\n}\n\nconst ns = useNamespace('upload')\nconst dragover = ref(false)\nconst disabled = useFormDisabled()\n\nconst onDrop = (e: DragEvent) => {\n  if (disabled.value) return\n  dragover.value = false\n\n  e.stopPropagation()\n\n  const files = Array.from(e.dataTransfer!.files)\n  const accept = uploaderContext.accept.value\n  if (!accept) {\n    emit('file', files)\n    return\n  }\n\n  const filesFiltered = files.filter((file) => {\n    const { type, name } = file\n    const extension = name.includes('.') ? `.${name.split('.').pop()}` : ''\n    const baseType = type.replace(/\\/.*$/, '')\n    return accept\n      .split(',')\n      .map((type) => type.trim())\n      .filter((type) => type)\n      .some((acceptedType) => {\n        if (acceptedType.startsWith('.')) {\n          return extension === acceptedType\n        }\n        if (/\\/\\*$/.test(acceptedType)) {\n          return baseType === acceptedType.replace(/\\/\\*$/, '')\n        }\n        if (/^[^/]+\\/[^/]+$/.test(acceptedType)) {\n          return type === acceptedType\n        }\n        return false\n      })\n  })\n\n  emit('file', filesFiltered)\n}\n\nconst onDragover = () => {\n  if (!disabled.value) dragover.value = true\n}\n</script>\n","import { NOOP } from '@vue/shared'\nimport { buildProps, definePropType } from '@element-plus/utils'\nimport { uploadBaseProps } from './upload'\n\nimport type { ExtractPropTypes } from 'vue'\nimport type {\n  UploadFile,\n  UploadHooks,\n  UploadProgressEvent,\n  UploadRawFile,\n} from './upload'\nimport type UploadContent from './upload-content.vue'\nimport type { UploadAjaxError } from './ajax'\n\nexport const uploadContentProps = buildProps({\n  ...uploadBaseProps,\n\n  beforeUpload: {\n    type: definePropType<UploadHooks['beforeUpload']>(Function),\n    default: NOOP,\n  },\n  onRemove: {\n    type: definePropType<\n      (file: UploadFile | UploadRawFile, rawFile?: UploadRawFile) => void\n    >(Function),\n    default: NOOP,\n  },\n  onStart: {\n    type: definePropType<(rawFile: UploadRawFile) => void>(Function),\n    default: NOOP,\n  },\n  onSuccess: {\n    type: definePropType<(response: any, rawFile: UploadRawFile) => unknown>(\n      Function\n    ),\n    default: NOOP,\n  },\n  onProgress: {\n    type: definePropType<\n      (evt: UploadProgressEvent, rawFile: UploadRawFile) => void\n    >(Function),\n    default: NOOP,\n  },\n  onError: {\n    type: definePropType<\n      (err: UploadAjaxError, rawFile: UploadRawFile) => void\n    >(Function),\n    default: NOOP,\n  },\n  onExceed: {\n    type: definePropType<UploadHooks['onExceed']>(Function),\n    default: NOOP,\n  },\n} as const)\n\nexport type UploadContentProps = ExtractPropTypes<typeof uploadContentProps>\n\nexport type UploadContentInstance = InstanceType<typeof UploadContent>\n","<template>\n  <div\n    :class=\"[ns.b(), ns.m(listType), ns.is('drag', drag)]\"\n    tabindex=\"0\"\n    @click=\"handleClick\"\n    @keydown.self.enter.space=\"handleKeydown\"\n  >\n    <template v-if=\"drag\">\n      <upload-dragger :disabled=\"disabled\" @file=\"uploadFiles\">\n        <slot />\n      </upload-dragger>\n    </template>\n    <template v-else>\n      <slot />\n    </template>\n    <input\n      ref=\"inputRef\"\n      :class=\"ns.e('input')\"\n      :name=\"name\"\n      :multiple=\"multiple\"\n      :accept=\"accept\"\n      type=\"file\"\n      @change=\"handleChange\"\n      @click.stop\n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { shallowRef } from 'vue'\nimport { isObject } from '@vue/shared'\nimport { cloneDeep, isEqual } from 'lodash-unified'\nimport { useNamespace } from '@element-plus/hooks'\nimport { entriesOf } from '@element-plus/utils'\nimport { useFormDisabled } from '@element-plus/components/form'\nimport UploadDragger from './upload-dragger.vue'\nimport { uploadContentProps } from './upload-content'\nimport { genFileId } from './upload'\nimport type { UploadContentProps } from './upload-content'\n\nimport type {\n  UploadFile,\n  UploadHooks,\n  UploadRawFile,\n  UploadRequestOptions,\n} from './upload'\n\ndefineOptions({\n  name: 'ElUploadContent',\n  inheritAttrs: false,\n})\n\nconst props = defineProps(uploadContentProps)\nconst ns = useNamespace('upload')\nconst disabled = useFormDisabled()\n\nconst requests = shallowRef<Record<string, XMLHttpRequest | Promise<unknown>>>(\n  {}\n)\nconst inputRef = shallowRef<HTMLInputElement>()\n\nconst uploadFiles = (files: File[]) => {\n  if (files.length === 0) return\n\n  const { autoUpload, limit, fileList, multiple, onStart, onExceed } = props\n\n  if (limit && fileList.length + files.length > limit) {\n    onExceed(files, fileList)\n    return\n  }\n\n  if (!multiple) {\n    files = files.slice(0, 1)\n  }\n\n  for (const file of files) {\n    const rawFile = file as UploadRawFile\n    rawFile.uid = genFileId()\n    onStart(rawFile)\n    if (autoUpload) upload(rawFile)\n  }\n}\n\nconst upload = async (rawFile: UploadRawFile) => {\n  inputRef.value!.value = ''\n\n  if (!props.beforeUpload) {\n    return doUpload(rawFile)\n  }\n\n  let hookResult: Exclude<ReturnType<UploadHooks['beforeUpload']>, Promise<any>>\n  let beforeData: UploadContentProps['data'] = {}\n\n  try {\n    // origin data: Handle data changes after synchronization tasks are executed\n    const originData = props.data\n    const beforeUploadPromise = props.beforeUpload(rawFile)\n    beforeData = isObject(props.data) ? cloneDeep(props.data) : props.data\n    hookResult = await beforeUploadPromise\n    if (isObject(props.data) && isEqual(originData, beforeData)) {\n      beforeData = cloneDeep(props.data)\n    }\n  } catch {\n    hookResult = false\n  }\n\n  if (hookResult === false) {\n    props.onRemove(rawFile)\n    return\n  }\n\n  let file: File = rawFile\n  if (hookResult instanceof Blob) {\n    if (hookResult instanceof File) {\n      file = hookResult\n    } else {\n      file = new File([hookResult], rawFile.name, {\n        type: rawFile.type,\n      })\n    }\n  }\n\n  doUpload(\n    Object.assign(file, {\n      uid: rawFile.uid,\n    }),\n    beforeData\n  )\n}\n\nconst doUpload = (\n  rawFile: UploadRawFile,\n  beforeData?: UploadContentProps['data']\n) => {\n  const {\n    headers,\n    data,\n    method,\n    withCredentials,\n    name: filename,\n    action,\n    onProgress,\n    onSuccess,\n    onError,\n    httpRequest,\n  } = props\n\n  const { uid } = rawFile\n  const options: UploadRequestOptions = {\n    headers: headers || {},\n    withCredentials,\n    file: rawFile,\n    data: beforeData ?? data,\n    method,\n    filename,\n    action,\n    onProgress: (evt) => {\n      onProgress(evt, rawFile)\n    },\n    onSuccess: (res) => {\n      onSuccess(res, rawFile)\n      delete requests.value[uid]\n    },\n    onError: (err) => {\n      onError(err, rawFile)\n      delete requests.value[uid]\n    },\n  }\n  const request = httpRequest(options)\n  requests.value[uid] = request\n  if (request instanceof Promise) {\n    request.then(options.onSuccess, options.onError)\n  }\n}\n\nconst handleChange = (e: Event) => {\n  const files = (e.target as HTMLInputElement).files\n  if (!files) return\n  uploadFiles(Array.from(files))\n}\n\nconst handleClick = () => {\n  if (!disabled.value) {\n    inputRef.value!.value = ''\n    inputRef.value!.click()\n  }\n}\n\nconst handleKeydown = () => {\n  handleClick()\n}\n\nconst abort = (file?: UploadFile) => {\n  const _reqs = entriesOf(requests.value).filter(\n    file ? ([uid]) => String(file.uid) === uid : () => true\n  )\n  _reqs.forEach(([uid, req]) => {\n    if (req instanceof XMLHttpRequest) req.abort()\n    delete requests.value[uid]\n  })\n}\n\ndefineExpose({\n  abort,\n  upload,\n})\n</script>\n","import { watch } from 'vue'\nimport { isNil } from 'lodash-unified'\nimport { useVModel } from '@vueuse/core'\nimport { debugWarn, throwError } from '@element-plus/utils'\nimport { genFileId } from './upload'\nimport type { ShallowRef } from 'vue'\nimport type {\n  UploadContentInstance,\n  UploadContentProps,\n} from './upload-content'\nimport type {\n  UploadFile,\n  UploadFiles,\n  UploadProps,\n  UploadRawFile,\n  UploadStatus,\n} from './upload'\n\nconst SCOPE = 'ElUpload'\n\nconst revokeObjectURL = (file: UploadFile) => {\n  if (file.url?.startsWith('blob:')) {\n    URL.revokeObjectURL(file.url)\n  }\n}\n\nexport const useHandlers = (\n  props: UploadProps,\n  uploadRef: ShallowRef<UploadContentInstance | undefined>\n) => {\n  const uploadFiles = useVModel(\n    props as Omit<UploadProps, 'fileList'> & { fileList: UploadFiles },\n    'fileList',\n    undefined,\n    { passive: true }\n  )\n\n  const getFile = (rawFile: UploadRawFile) =>\n    uploadFiles.value.find((file) => file.uid === rawFile.uid)\n\n  function abort(file: UploadFile) {\n    uploadRef.value?.abort(file)\n  }\n\n  function clearFiles(\n    /** @default ['ready', 'uploading', 'success', 'fail'] */\n    states: UploadStatus[] = ['ready', 'uploading', 'success', 'fail']\n  ) {\n    uploadFiles.value = uploadFiles.value.filter(\n      (row) => !states.includes(row.status)\n    )\n  }\n\n  const handleError: UploadContentProps['onError'] = (err, rawFile) => {\n    const file = getFile(rawFile)\n    if (!file) return\n\n    console.error(err)\n    file.status = 'fail'\n    uploadFiles.value.splice(uploadFiles.value.indexOf(file), 1)\n    props.onError(err, file, uploadFiles.value)\n    props.onChange(file, uploadFiles.value)\n  }\n\n  const handleProgress: UploadContentProps['onProgress'] = (evt, rawFile) => {\n    const file = getFile(rawFile)\n    if (!file) return\n\n    props.onProgress(evt, file, uploadFiles.value)\n    file.status = 'uploading'\n    file.percentage = Math.round(evt.percent)\n  }\n\n  const handleSuccess: UploadContentProps['onSuccess'] = (\n    response,\n    rawFile\n  ) => {\n    const file = getFile(rawFile)\n    if (!file) return\n\n    file.status = 'success'\n    file.response = response\n    props.onSuccess(response, file, uploadFiles.value)\n    props.onChange(file, uploadFiles.value)\n  }\n\n  const handleStart: UploadContentProps['onStart'] = (file) => {\n    if (isNil(file.uid)) file.uid = genFileId()\n    const uploadFile: UploadFile = {\n      name: file.name,\n      percentage: 0,\n      status: 'ready',\n      size: file.size,\n      raw: file,\n      uid: file.uid,\n    }\n    if (props.listType === 'picture-card' || props.listType === 'picture') {\n      try {\n        uploadFile.url = URL.createObjectURL(file)\n      } catch (err: unknown) {\n        debugWarn(SCOPE, (err as Error).message)\n        props.onError(err as Error, uploadFile, uploadFiles.value)\n      }\n    }\n    uploadFiles.value = [...uploadFiles.value, uploadFile]\n    props.onChange(uploadFile, uploadFiles.value)\n  }\n\n  const handleRemove: UploadContentProps['onRemove'] = async (\n    file\n  ): Promise<void> => {\n    const uploadFile = file instanceof File ? getFile(file) : file\n    if (!uploadFile) throwError(SCOPE, 'file to be removed not found')\n\n    const doRemove = (file: UploadFile) => {\n      abort(file)\n      const fileList = uploadFiles.value\n      fileList.splice(fileList.indexOf(file), 1)\n      props.onRemove(file, fileList)\n      revokeObjectURL(file)\n    }\n\n    if (props.beforeRemove) {\n      const before = await props.beforeRemove(uploadFile, uploadFiles.value)\n      if (before !== false) doRemove(uploadFile)\n    } else {\n      doRemove(uploadFile)\n    }\n  }\n\n  function submit() {\n    uploadFiles.value\n      .filter(({ status }) => status === 'ready')\n      .forEach(({ raw }) => raw && uploadRef.value?.upload(raw))\n  }\n\n  watch(\n    () => props.listType,\n    (val) => {\n      if (val !== 'picture-card' && val !== 'picture') {\n        return\n      }\n\n      uploadFiles.value = uploadFiles.value.map((file) => {\n        const { raw, url } = file\n        if (!url && raw) {\n          try {\n            file.url = URL.createObjectURL(raw)\n          } catch (err: unknown) {\n            props.onError(err as Error, file, uploadFiles.value)\n          }\n        }\n        return file\n      })\n    }\n  )\n\n  watch(\n    uploadFiles,\n    (files) => {\n      for (const file of files) {\n        file.uid ||= genFileId()\n        file.status ||= 'success'\n      }\n    },\n    { immediate: true, deep: true }\n  )\n\n  return {\n    /** @description two-way binding ref from props `fileList` */\n    uploadFiles,\n    abort,\n    clearFiles,\n    handleError,\n    handleProgress,\n    handleStart,\n    handleSuccess,\n    handleRemove,\n    submit,\n  }\n}\n","<template>\n  <div>\n    <upload-list\n      v-if=\"isPictureCard && showFileList\"\n      :disabled=\"disabled\"\n      :list-type=\"listType\"\n      :files=\"uploadFiles\"\n      :handle-preview=\"onPreview\"\n      @remove=\"handleRemove\"\n    >\n      <template v-if=\"$slots.file\" #default=\"{ file }\">\n        <slot name=\"file\" :file=\"file\" />\n      </template>\n      <template #append>\n        <upload-content ref=\"uploadRef\" v-bind=\"uploadContentProps\">\n          <slot v-if=\"slots.trigger\" name=\"trigger\" />\n          <slot v-if=\"!slots.trigger && slots.default\" />\n        </upload-content>\n      </template>\n    </upload-list>\n\n    <upload-content\n      v-if=\"!isPictureCard || (isPictureCard && !showFileList)\"\n      ref=\"uploadRef\"\n      v-bind=\"uploadContentProps\"\n    >\n      <slot v-if=\"slots.trigger\" name=\"trigger\" />\n      <slot v-if=\"!slots.trigger && slots.default\" />\n    </upload-content>\n\n    <slot v-if=\"$slots.trigger\" />\n    <slot name=\"tip\" />\n    <upload-list\n      v-if=\"!isPictureCard && showFileList\"\n      :disabled=\"disabled\"\n      :list-type=\"listType\"\n      :files=\"uploadFiles\"\n      :handle-preview=\"onPreview\"\n      @remove=\"handleRemove\"\n    >\n      <template v-if=\"$slots.file\" #default=\"{ file }\">\n        <slot name=\"file\" :file=\"file\" />\n      </template>\n    </upload-list>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n  computed,\n  onBeforeUnmount,\n  provide,\n  shallowRef,\n  toRef,\n  useSlots,\n} from 'vue'\nimport { useFormDisabled } from '@element-plus/components/form'\nimport { uploadContextKey } from './constants'\nimport UploadList from './upload-list.vue'\nimport UploadContent from './upload-content.vue'\nimport { useHandlers } from './use-handlers'\nimport { uploadProps } from './upload'\n\nimport type {\n  UploadContentInstance,\n  UploadContentProps,\n} from './upload-content'\n\ndefineOptions({\n  name: 'ElUpload',\n})\n\nconst props = defineProps(uploadProps)\n\nconst slots = useSlots()\nconst disabled = useFormDisabled()\n\nconst uploadRef = shallowRef<UploadContentInstance>()\nconst {\n  abort,\n  submit,\n  clearFiles,\n  uploadFiles,\n  handleStart,\n  handleError,\n  handleRemove,\n  handleSuccess,\n  handleProgress,\n} = useHandlers(props, uploadRef)\n\nconst isPictureCard = computed(() => props.listType === 'picture-card')\n\nconst uploadContentProps = computed<UploadContentProps>(() => ({\n  ...props,\n  fileList: uploadFiles.value,\n  onStart: handleStart,\n  onProgress: handleProgress,\n  onSuccess: handleSuccess,\n  onError: handleError,\n  onRemove: handleRemove,\n}))\n\nonBeforeUnmount(() => {\n  uploadFiles.value.forEach(({ url }) => {\n    if (url?.startsWith('blob:')) URL.revokeObjectURL(url)\n  })\n})\n\nprovide(uploadContextKey, {\n  accept: toRef(props, 'accept'),\n})\n\ndefineExpose({\n  /** @description cancel upload request */\n  abort,\n  /** @description upload the file list manually */\n  submit,\n  /** @description clear the file list  */\n  clearFiles,\n  /** @description select the file manually */\n  handleStart,\n  /** @description remove the file manually */\n  handleRemove,\n})\n</script>\n","import { withInstall } from '@element-plus/utils'\nimport Upload from './src/upload.vue'\n\nexport const ElUpload = withInstall(Upload)\nexport default ElUpload\n\nexport * from './src/upload'\nexport * from './src/upload-content'\nexport * from './src/upload-list'\nexport * from './src/upload-dragger'\nexport * from './src/constants'\n","// ==========tinymce.js==========\nexport const plugins = [\n    'advlist anchor autolink autosave code codesample  directionality  fullscreen hr insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus  template  textpattern visualblocks visualchars wordcount'\n]\n\nexport const toolbar = [\n    'fontsizeselect lineheight searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample',\n    'hr bullist numlist link  preview anchor pagebreak insertdatetime media  forecolor backcolor fullscreen'\n]","export function buildShortUUID() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0,\n            v = c == \"x\" ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n","const validEvents = [\n  'onActivate',\n  'onAddUndo',\n  'onBeforeAddUndo',\n  'onBeforeExecCommand',\n  'onBeforeGetContent',\n  'onBeforeRenderUI',\n  'onBeforeSetContent',\n  'onBeforePaste',\n  'onBlur',\n  'onChange',\n  'onClearUndos',\n  'onClick',\n  'onContextMenu',\n  'onCopy',\n  'onCut',\n  'onDblclick',\n  'onDeactivate',\n  'onDirty',\n  'onDrag',\n  'onDragDrop',\n  'onDragEnd',\n  'onDragGesture',\n  'onDragOver',\n  'onDrop',\n  'onExecCommand',\n  'onFocus',\n  'onFocusIn',\n  'onFocusOut',\n  'onGetContent',\n  'onHide',\n  'onInit',\n  'onKeyDown',\n  'onKeyPress',\n  'onKeyUp',\n  'onLoadContent',\n  'onMouseDown',\n  'onMouseEnter',\n  'onMouseLeave',\n  'onMouseMove',\n  'onMouseOut',\n  'onMouseOver',\n  'onMouseUp',\n  'onNodeChange',\n  'onObjectResizeStart',\n  'onObjectResized',\n  'onObjectSelected',\n  'onPaste',\n  'onPostProcess',\n  'onPostRender',\n  'onPreProcess',\n  'onProgressState',\n  'onRedo',\n  'onRemove',\n  'onReset',\n  'onSaveContent',\n  'onSelectionChange',\n  'onSetAttrib',\n  'onSetContent',\n  'onShow',\n  'onSubmit',\n  'onUndo',\n  'onVisualAid'\n]\n\nconst isValidKey = (key) => validEvents.indexOf(key) !== -1\n\nexport const bindHandlers = (initEvent, listeners, editor) => {\n  Object.keys(listeners)\n    .filter(isValidKey)\n    .forEach((key) => {\n      const handler = listeners[key]\n      if (typeof handler === 'function') {\n        if (key === 'onInit') {\n          handler(initEvent, editor)\n        } else {\n          editor.on(key.substring(2), (e) => handler(e, editor))\n        }\n      }\n    })\n}\n","// ==== onMountedOrActivated  hook====\nimport { nextTick, onMounted, onActivated } from 'vue'\nexport function onMountedOrActivated (hook) {\n  let mounted\n  onMounted(() => {\n    hook()\n    nextTick(() => {\n      mounted = true\n    })\n  })\n  onActivated(() => {\n    if (mounted) {\n      hook()\n    }\n  })\n}\n","// ==== isNumber  ====\nconst toString = Object.prototype.toString\nexport function is (val, type) {\n  return toString.call(val) === `[object ${type}]`\n}\nexport function isNumber (val) {\n  return is(val, 'Number')\n}\n","import { createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-c422595a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = [\"id\"];\nimport tinymce from 'tinymce/tinymce';\nimport 'tinymce/themes/silver';\nimport 'tinymce/icons/default/icons';\nimport 'tinymce/plugins/advlist';\nimport 'tinymce/plugins/anchor';\nimport 'tinymce/plugins/autolink';\nimport 'tinymce/plugins/autosave';\nimport 'tinymce/plugins/code';\nimport 'tinymce/plugins/codesample';\nimport 'tinymce/plugins/directionality';\nimport 'tinymce/plugins/fullscreen';\nimport 'tinymce/plugins/hr';\nimport 'tinymce/plugins/insertdatetime';\nimport 'tinymce/plugins/link';\nimport 'tinymce/plugins/lists';\nimport 'tinymce/plugins/media';\nimport 'tinymce/plugins/nonbreaking';\nimport 'tinymce/plugins/noneditable';\nimport 'tinymce/plugins/pagebreak';\nimport 'tinymce/plugins/paste';\nimport 'tinymce/plugins/preview';\nimport 'tinymce/plugins/print';\nimport 'tinymce/plugins/save';\nimport 'tinymce/plugins/searchreplace';\nimport 'tinymce/plugins/spellchecker';\nimport 'tinymce/plugins/tabfocus';\nimport 'tinymce/plugins/template';\nimport 'tinymce/plugins/textpattern';\nimport 'tinymce/plugins/visualblocks';\nimport 'tinymce/plugins/visualchars';\nimport 'tinymce/plugins/wordcount';\n// import 'tinymce/plugins/table';\n\nimport { computed, nextTick, ref, unref, watch, onDeactivated, onBeforeUnmount, getCurrentInstance } from 'vue';\nimport { toolbar, plugins } from './tinymce';\nimport { buildShortUUID } from '@/utils/uuid';\nimport { bindHandlers } from './helper';\nimport { onMountedOrActivated } from '@/hooks/core';\nimport { isNumber } from '@/utils/is';\nexport default {\n  __name: 'tinymce',\n  props: {\n    options: {\n      type: Object,\n      default: () => {}\n    },\n    value: {\n      type: String\n    },\n    toolbar: {\n      type: Array,\n      default: toolbar\n    },\n    plugins: {\n      type: Array,\n      default: plugins\n    },\n    modelValue: {\n      type: String\n    },\n    height: {\n      type: [Number, String],\n      required: false,\n      default: 400\n    },\n    width: {\n      type: [Number, String],\n      required: false,\n      default: 'auto'\n    },\n    showImageUpload: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: ['change', 'update:modelValue', 'inited', 'init-error'],\n  setup(__props, {\n    emit: emits\n  }) {\n    const props = __props;\n    const {\n      attrs\n    } = getCurrentInstance();\n    const tinymceId = ref(buildShortUUID('tiny-vue'));\n    const containerWidth = computed(() => {\n      const width = props.width;\n      if (isNumber(width)) {\n        return `${width}px`;\n      }\n      return width;\n    });\n    const editorRef = ref(null);\n    const fullscreen = ref(false);\n    const elRef = ref(null);\n    const tinymceContent = computed(() => props.modelValue);\n    const initOptions = computed(() => {\n      const {\n        height,\n        options,\n        toolbar,\n        plugins\n      } = props;\n      const publicPath = '/';\n      return {\n        selector: `#${unref(tinymceId)}`,\n        height,\n        toolbar,\n        menubar: 'file edit insert view format table',\n        plugins,\n        //language_url: '/resource/tinymce/langs/zh_CN.js',\n        //language: 'zh_CN',\n        branding: false,\n        default_link_target: '_blank',\n        link_title: false,\n        object_resizing: false,\n        auto_focus: true,\n        skin: 'oxide',\n        skin_url: '/tinymce/skins/ui/oxide',\n        content_css: '/tinymce/skins/ui/oxide/content.min.css',\n        ...options,\n        setup: editor => {\n          editorRef.value = editor;\n          editor.on('init', e => initSetup(e));\n        }\n      };\n    });\n    const disabled = computed(() => {\n      const {\n        options\n      } = props;\n      const getdDisabled = options && Reflect.get(options, 'readonly');\n      const editor = unref(editorRef);\n      if (editor) {\n        editor.setMode(getdDisabled ? 'readonly' : 'design');\n      }\n      return getdDisabled ?? false;\n    });\n    watch(() => attrs.disabled, () => {\n      const editor = unref(editorRef);\n      if (!editor) {\n        return;\n      }\n      editor.setMode(attrs.disabled ? 'readonly' : 'design');\n    });\n    onMountedOrActivated(() => {\n      if (!initOptions.value.inline) {\n        tinymceId.value = buildShortUUID('tiny-vue');\n      }\n      nextTick(() => {\n        setTimeout(() => {\n          initEditor();\n        }, 30);\n      });\n    });\n    onBeforeUnmount(() => {\n      destory();\n    });\n    onDeactivated(() => {\n      destory();\n    });\n    function destory() {\n      if (tinymce !== null) {\n        // tinymce?.remove?.(unref(initOptions).selector!);\n      }\n    }\n    function initSetup(e) {\n      const editor = unref(editorRef);\n      if (!editor) {\n        return;\n      }\n      const value = props.modelValue || '';\n      editor.setContent(value);\n      bindModelHandlers(editor);\n      bindHandlers(e, attrs, unref(editorRef));\n    }\n    function initEditor() {\n      const el = unref(elRef);\n      if (el) {\n        el.style.visibility = '';\n      }\n      tinymce.init(unref(initOptions)).then(editor => {\n        emits('inited', editor);\n      }).catch(err => {\n        emits('init-error', err);\n      });\n    }\n    function setValue(editor, val, prevVal) {\n      if (editor && typeof val === 'string' && val !== prevVal && val !== editor.getContent({\n        format: attrs.outputFormat\n      })) {\n        editor.setContent(val);\n      }\n    }\n    function bindModelHandlers(editor) {\n      const modelEvents = attrs.modelEvents ? attrs.modelEvents : null;\n      const normalizedEvents = Array.isArray(modelEvents) ? modelEvents.join(' ') : modelEvents;\n      watch(() => props.modelValue, (val, prevVal) => {\n        setValue(editor, val, prevVal);\n      });\n      watch(() => props.value, (val, prevVal) => {\n        setValue(editor, val, prevVal);\n      }, {\n        immediate: true\n      });\n      editor.on(normalizedEvents || 'change keyup undo redo', () => {\n        const content = editor.getContent({\n          format: attrs.outputFormat\n        });\n        emits('update:modelValue', content);\n        emits('change', content);\n      });\n      editor.on('FullscreenStateChanged', e => {\n        fullscreen.value = e.state;\n      });\n    }\n    function handleImageUploading(name) {\n      const editor = unref(editorRef);\n      if (!editor) {\n        return;\n      }\n      editor.execCommand('mceInsertContent', false, getUploadingImgName(name));\n      const content = editor?.getContent() ?? '';\n      setValue(editor, content);\n    }\n    function handleDone(name, url) {\n      const editor = unref(editorRef);\n      if (!editor) {\n        return;\n      }\n      const content = editor?.getContent() ?? '';\n      const val = content?.replace(getUploadingImgName(name), `<img src=\"${url}\"/>`) ?? '';\n      setValue(editor, val);\n    }\n    function getUploadingImgName(name) {\n      return `[uploading:${name}]`;\n    }\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        class: \"prefixCls\",\n        style: _normalizeStyle({\n          width: containerWidth.value\n        })\n      }, [_createElementVNode(\"textarea\", {\n        id: tinymceId.value,\n        ref_key: \"elRef\",\n        ref: elRef,\n        style: {\n          visibility: 'hidden'\n        }\n      }, null, 8, _hoisted_1)], 4);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./tinymce.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./tinymce.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./tinymce.vue?vue&type=style&index=0&id=c422595a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c422595a\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withModifiers as _withModifiers, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = [\"src\"];\nimport { ref, onMounted, onBeforeUnmount } from \"vue\";\nimport Cropper from 'cropperjs';\nimport \"cropperjs/dist/cropper.css\";\nexport default {\n  __name: 'crope-img',\n  props: {\n    //\n    imageSrc: {\n      type: String,\n      required: true\n    },\n    //aspectRatio:\n    aspectRatio: {\n      type: Number,\n      default: 1\n    },\n    //viewMode: \n    viewMode: {\n      type: Number,\n      default: 1\n    },\n    //autoCropArea:   0-1  0.8  80%\n    autoCropArea: {\n      type: Number,\n      default: 1\n    }\n  },\n  emits: ['updateImageSrc'],\n  setup(__props, {\n    emit\n  }) {\n    const props = __props;\n\n    //dom\n    const imageRef = ref(null);\n    let cropper = null;\n    //Cropper\n    onMounted(() => {\n      cropper = new Cropper(imageRef.value, {\n        aspectRatio: props.aspectRatio,\n        viewMode: props.viewMode,\n        autoCropArea: props.autoCropArea\n      });\n    });\n\n    //\n\n    //cropImageURLemitupdateImageSrc\n    // URL\n    const cropImage = () => {\n      const canvas = cropper.getCroppedCanvas();\n      const croppedImage = canvas.toDataURL();\n      emit('updateImageSrc', croppedImage);\n    };\n\n    //\n    onBeforeUnmount(() => {\n      cropper.destroy();\n    });\n    return (_ctx, _cache) => {\n      const _component_el_button = _resolveComponent(\"el-button\");\n      return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"img\", {\n        ref_key: \"imageRef\",\n        ref: imageRef,\n        src: __props.imageSrc,\n        alt: \"image\"\n      }, null, 8, _hoisted_1), _createVNode(_component_el_button, {\n        onClick: _withModifiers(cropImage, [\"stop\"])\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Crop Imgae\")]),\n        _: 1\n      }, 8, [\"onClick\"])]);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./crope-img.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./crope-img.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import \"core-js/modules/web.url-search-params.size.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = [\"src\"];\nimport { ref, watch } from \"vue\";\nimport { blogApi } from \"@/api/request\";\nimport Tinymce from \"@/components/tinymce/tinymce.vue\";\nimport CropeImg from \"@/components/crope-img.vue\";\nimport { loadingHelper } from \"@/utils/loading\";\n\nimport { ElNotification } from 'element-plus/es';\nimport 'element-plus/es/components/base/style/css';\nimport 'element-plus/es/components/notification/style/css';\nexport default {\n  __name: 'blog-addh5',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: 'New Blog'\n    },\n    data: {\n      type: Object,\n      default: () => null\n    }\n  },\n  emits: [\"update:visible\", \"refresh\"],\n  setup(__props, {\n    emit\n  }) {\n    const props = __props;\n    const type = ref(\"add\");\n    const formRef = ref(null);\n    const form = ref({\n      title: \"\",\n      author: \"\",\n      content: \"\",\n      cover: \"\"\n    });\n    const uploadRef = ref(null);\n    const imageUrl = ref(null);\n    const filename = ref(\"\");\n    const imgPreview = ref();\n    watch(() => props.data, val => {\n      if (val) {\n        form.value = val;\n        type.value = \"edit\";\n      } else {\n        reset();\n        type.value = \"add\";\n      }\n    }, {\n      immediate: true\n    });\n    function handleImgSuccess(file) {\n      getImgUrl(file);\n    }\n    function getImgUrl(file) {\n      filename.value = file.raw.name.split(\".\")[0];\n      imageUrl.value = window.URL.createObjectURL(file.raw);\n    }\n    function handleImageSrc(url) {\n      imgPreview.value = url;\n      form.value.cover = base64ToFile(url, filename.value);\n    }\n    //base64\n    function base64ToFile(data, fileName) {\n      const dataArr = data.split(\",\");\n      const byteString = atob(dataArr[1]);\n      const options = {\n        type: \"image/jpeg\",\n        endings: \"native\"\n      };\n      const u8Arr = new Uint8Array(byteString.length);\n      for (let i = 0; i < byteString.length; i++) {\n        u8Arr[i] = byteString.charCodeAt(i);\n      }\n      let fileOfBlob = new File([u8Arr], fileName + \".jpg\", options); //\n      return fileOfBlob;\n    }\n    function handleChange(item) {\n      form.value.content = item;\n    }\n    function submit() {\n      loadingHelper.show();\n      formRef.value.validate(valid => {\n        if (valid) {\n          if (type.value == 'add') {\n            blogApi.add(form.value).then(res => {\n              if (res.code == 0) {\n                ElNotification({\n                  type: \"success\",\n                  message: \"Successed\"\n                });\n              }\n            });\n          } else {\n            blogApi.edit(form.value).then(res => {\n              if (res.code == 0) {\n                ElNotification({\n                  type: \"success\",\n                  message: \"Successed\"\n                });\n              }\n            });\n          }\n          loadingHelper.hide();\n          reset();\n          closeDialog();\n          refresh();\n        } else {\n          loadingHelper.hide();\n        }\n      });\n    }\n    function closeDialog() {\n      emit(\"update:visible\", false);\n    }\n    function refreh() {\n      emit(\"refresh\");\n    }\n    function reset() {\n      form.value = {\n        title: \"\",\n        author: \"\",\n        content: \"\",\n        cover: \"\"\n      };\n    }\n    return (_ctx, _cache) => {\n      const _component_el_input = _resolveComponent(\"el-input\");\n      const _component_el_form_item = _resolveComponent(\"el-form-item\");\n      const _component_el_col = _resolveComponent(\"el-col\");\n      const _component_el_row = _resolveComponent(\"el-row\");\n      const _component_el_button = _resolveComponent(\"el-button\");\n      const _component_el_upload = _resolveComponent(\"el-upload\");\n      const _component_el_form = _resolveComponent(\"el-form\");\n      const _component_el_dialog = _resolveComponent(\"el-dialog\");\n      return _openBlock(), _createBlock(_component_el_dialog, {\n        \"model-value\": __props.visible,\n        width: \"80%\",\n        onClose: closeDialog,\n        title: __props.title,\n        \"destroy-on-close\": \"\"\n      }, {\n        footer: _withCtx(() => [_createVNode(_component_el_button, {\n          onClick: _cache[3] || (_cache[3] = $event => closeDialog())\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"cancel\")]),\n          _: 1\n        }), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: submit\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"submit\")]),\n          _: 1\n        })]),\n        default: _withCtx(() => [_createVNode(_component_el_form, {\n          model: form.value,\n          ref_key: \"formRef\",\n          ref: formRef,\n          \"label-width\": \"64px\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"Title\",\n            prop: \"title\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: form.value.title,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => form.value.title = $event),\n              clearable: \"\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"Author\",\n            prop: \"author\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: form.value.author,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => form.value.author = $event),\n              clearable: \"\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"Cover\",\n            prop: \"cover\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_upload, {\n              ref_key: \"uploadRef\",\n              ref: uploadRef,\n              action: \"#\",\n              \"show-file-list\": false,\n              \"on-change\": handleImgSuccess,\n              \"auto-upload\": false\n            }, {\n              default: _withCtx(() => [imageUrl.value ? (_openBlock(), _createBlock(_component_el_row, {\n                key: 0,\n                gutter: 10\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_col, {\n                  span: 8\n                }, {\n                  default: _withCtx(() => [_createVNode(CropeImg, {\n                    style: {\n                      \"height\": \"180px\"\n                    },\n                    imageSrc: imageUrl.value,\n                    viewMode: 2,\n                    aspectRatio: 1.5,\n                    onUpdateImageSrc: handleImageSrc\n                  }, null, 8, [\"imageSrc\"])]),\n                  _: 1\n                }), imgPreview.value ? (_openBlock(), _createBlock(_component_el_col, {\n                  key: 0,\n                  span: 8\n                }, {\n                  default: _withCtx(() => [_createElementVNode(\"img\", {\n                    src: imgPreview.value,\n                    style: {\n                      \"width\": \"100%\",\n                      \"border\": \"1px solid #eee\"\n                    }\n                  }, null, 8, _hoisted_1)]),\n                  _: 1\n                })) : _createCommentVNode(\"\", true)]),\n                _: 1\n              })) : (_openBlock(), _createBlock(_component_el_button, {\n                key: 1,\n                type: \"primary\",\n                size: \"small\",\n                round: \"\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"\")]),\n                _: 1\n              }))]),\n              _: 1\n            }, 512)]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"Content\",\n            prop: \"content\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(Tinymce, {\n              modelValue: form.value.content,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => form.value.content = $event),\n              onChange: handleChange,\n              width: \"100%\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"model\"])]),\n        _: 1\n      }, 8, [\"model-value\", \"title\"]);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./blog-addh5.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./blog-addh5.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nimport { ref, watch } from \"vue\";\nimport { blogApi } from \"@/api/request\";\nimport Tinymce from \"@/components/tinymce/tinymce.vue\";\nimport CropeImg from \"@/components/crope-img.vue\";\nimport { loadingHelper } from \"@/utils/loading\";\n\nimport { ElNotification } from 'element-plus/es';\nimport 'element-plus/es/components/base/style/css';\nimport 'element-plus/es/components/notification/style/css';\nexport default {\n  __name: 'blog-addvlog',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: 'New Vlog'\n    },\n    data: {\n      type: Object,\n      default: () => null\n    }\n  },\n  emits: [\"update:visible\", \"refresh\"],\n  setup(__props, {\n    emit\n  }) {\n    const props = __props;\n    const type = ref(\"add\");\n    const formRef = ref(null);\n    const form = ref({\n      title: \"\",\n      plat: \"\",\n      cover: \"\",\n      vlog: \"\"\n    });\n    watch(() => props.data, val => {\n      if (val) {\n        form.value = val;\n        type.value = \"edit\";\n      } else {\n        reset();\n        type.value = \"add\";\n      }\n    }, {\n      immediate: true\n    });\n    function submit() {\n      loadingHelper.show();\n      formRef.value.validate(valid => {\n        if (valid) {\n          if (type.value == 'add') {\n            blogApi.add(form.value).then(res => {\n              if (res.code == 0) {\n                ElNotification({\n                  type: \"success\",\n                  message: \"Successed\"\n                });\n              }\n            });\n          } else {\n            blogApi.edit(form.value).then(res => {\n              if (res.code == 0) {\n                ElNotification({\n                  type: \"success\",\n                  message: \"Successed\"\n                });\n              }\n            });\n          }\n          loadingHelper.hide();\n          reset();\n          closeDialog();\n          refresh();\n        } else {\n          loadingHelper.hide();\n        }\n      });\n    }\n    function refreh() {\n      emit(\"refresh\");\n    }\n    function closeDialog() {\n      emit(\"update:visible\", false);\n    }\n    function reset() {\n      form.value = {\n        title: \"\",\n        plat: \"\",\n        cover: \"\",\n        vlog: \"\"\n      };\n    }\n    return (_ctx, _cache) => {\n      const _component_el_input = _resolveComponent(\"el-input\");\n      const _component_el_form_item = _resolveComponent(\"el-form-item\");\n      const _component_el_form = _resolveComponent(\"el-form\");\n      const _component_el_button = _resolveComponent(\"el-button\");\n      const _component_el_dialog = _resolveComponent(\"el-dialog\");\n      return _openBlock(), _createBlock(_component_el_dialog, {\n        \"model-value\": __props.visible,\n        onClose: closeDialog,\n        title: __props.title,\n        \"destroy-on-close\": \"\"\n      }, {\n        footer: _withCtx(() => [_createVNode(_component_el_button, {\n          onClick: _cache[4] || (_cache[4] = $event => closeDialog())\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"cancel\")]),\n          _: 1\n        }), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: submit\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"submit\")]),\n          _: 1\n        })]),\n        default: _withCtx(() => [_createVNode(_component_el_form, {\n          model: form.value,\n          ref_key: \"formRef\",\n          ref: formRef,\n          \"label-width\": \"96px\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"Vlog Title\",\n            prop: \"title\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: form.value.title,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => form.value.title = $event),\n              clearable: \"\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"Platform\",\n            prop: \"plat\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: form.value.plat,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => form.value.plat = $event),\n              placeholder: \"example: Youtobe\",\n              clearable: \"\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"Cover Link\",\n            prop: \"cover\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: form.value.cover,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => form.value.cover = $event),\n              clearable: \"\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"Vlog Link\",\n            prop: \"vlog\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: form.value.vlog,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => form.value.vlog = $event),\n              clearable: \"\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"model\"])]),\n        _: 1\n      }, 8, [\"model-value\", \"title\"]);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./blog-addvlog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./blog-addvlog.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { unref as _unref, createVNode as _createVNode, isRef as _isRef, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card\"\n};\nconst _hoisted_2 = {\n  class: \"card-body\"\n};\nconst _hoisted_3 = {\n  class: \"row\"\n};\nconst _hoisted_4 = {\n  class: \"col-md-3\"\n};\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = {\n  class: \"input-group no-border\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-search\"\n}, null, -1);\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"ripple-container\"\n}, null, -1);\nconst _hoisted_9 = [_hoisted_7, _hoisted_8];\nconst _hoisted_10 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-plus\",\n  style: {\n    \"font-size\": \"12px\",\n    \"vertical-align\": \"baseline\"\n  }\n}, null, -1);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-plus\",\n  style: {\n    \"font-size\": \"12px\",\n    \"vertical-align\": \"baseline\"\n  }\n}, null, -1);\nconst _hoisted_13 = [\"src\"];\nimport { ref, onMounted } from \"vue\";\nimport { blogApi } from \"@/api/request\";\nimport PageTitle from \"@/components/page-title.vue\";\nimport DynamicTable from \"@/components/dynamic-table.vue\";\nimport BlogH5 from \"@/components/blog/blog-addh5.vue\";\nimport BlogVlog from \"@/components/blog/blog-addvlog.vue\";\nexport default {\n  __name: 'blog',\n  setup(__props) {\n    let title = ref({\n      type: \"warning\",\n      title: \"Blog\",\n      desc: \"We provide timely, relevant, and credible information about game releases as they come available.\"\n    });\n    let tableData = ref([]);\n    let tableHeader = ref([\"id\", \"type\", \"title\", \"author\", \"post_at\"]);\n    let operations = ref([{\n      id: 1,\n      type: 'success',\n      icon: \"fa fa-eye\",\n      name: \"view\",\n      event: 'view'\n    }, {\n      id: 2,\n      type: 'primary',\n      icon: \"fa fa-edit\",\n      name: \"edit\",\n      event: 'edit'\n    }]);\n    let visible = ref(false);\n    let rowData = ref({});\n    let pageNum = ref(1);\n    let total = ref(1);\n    let pageSize = ref(10);\n    let search = ref(\"\");\n    let type = ref(null);\n    let dialogShow = ref(false);\n    let dialogShow1 = ref(false);\n    let editData = ref(null);\n    const dialogTitle = ref(\"\");\n    const loading = ref(false);\n    function view(data) {\n      if (data.command == \"view\") {\n        visible.value = true;\n        queryRow(data.data);\n      }\n      if (data.command == \"edit\") {\n        if (data.data.type == \"h5\") {\n          editData.value = data.data;\n          dialogShow.value = true;\n        } else if (data.data.type == \"vlog\") {\n          editData.value = data.data;\n          dialogShow1.value = true;\n        }\n      }\n    }\n    function query() {\n      let data = {\n        pageSize: pageSize.value,\n        pageNum: pageNum.value,\n        search: search.value\n      };\n      loading.value = true;\n      blogApi.list(data).then(res => {\n        if (res.data.data) {\n          tableData.value = res.data.data;\n          total.value = res.data.total;\n        }\n        loading.value = false;\n      });\n    }\n    function queryRow(data) {\n      rowData.value = data;\n    }\n    function handlePageChange(val) {\n      pageNum.value = val;\n      query();\n    }\n    function handleSizeChange(val) {\n      pageSize.value = val;\n      query();\n    }\n    function add(val) {\n      type.value = val;\n      editData.value = null;\n      if (val == 'h5') {\n        dialogShow.value = true;\n        dialogTitle.value = 'New Blog';\n      } else if (val == 'vlog') {\n        dialogShow1.value = true;\n        dialogTitle.value = 'New Vlog';\n      }\n    }\n    onMounted(() => {\n      query();\n    });\n    return (_ctx, _cache) => {\n      const _component_el_pagination = _resolveComponent(\"el-pagination\");\n      const _component_el_dialog = _resolveComponent(\"el-dialog\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(PageTitle, {\n        option: _unref(title)\n      }, null, 8, [\"option\"]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _isRef(search) ? search.value = $event : search = $event),\n        class: \"form-control\",\n        placeholder: \"Search ...\"\n      }, null, 512), [[_vModelText, _unref(search)]]), _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"btn btn-info btn-round btn-just-icon\",\n        onClick: _cache[1] || (_cache[1] = $event => query())\n      }, _hoisted_9)])])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"btn btn-info btn-round\",\n        style: {\n          \"margin-top\": \"10px\"\n        },\n        onClick: _cache[2] || (_cache[2] = $event => add('vlog'))\n      }, [_hoisted_11, _createTextVNode(\" New vlog \")]), _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"btn btn-warning btn-round\",\n        style: {\n          \"margin-top\": \"10px\",\n          \"margin-left\": \"10px\"\n        },\n        onClick: _cache[3] || (_cache[3] = $event => add('h5'))\n      }, [_hoisted_12, _createTextVNode(\" New H5 \")])])]), _createVNode(DynamicTable, {\n        data: _unref(tableData),\n        header: _unref(tableHeader),\n        operations: _unref(operations),\n        preNum: _unref(pageNum) * _unref(pageSize) - _unref(pageSize),\n        onCommands: view\n      }, null, 8, [\"data\", \"header\", \"operations\", \"preNum\"]), _createVNode(_component_el_pagination, {\n        background: \"\",\n        layout: \"total, sizes, prev, pager, next\",\n        total: _unref(total),\n        \"current-page\": _unref(pageNum),\n        onCurrentChange: handlePageChange,\n        onSizeChange: handleSizeChange,\n        \"page-size\": _unref(pageSize)\n      }, null, 8, [\"total\", \"current-page\", \"page-size\"])]), _createVNode(_component_el_dialog, {\n        modelValue: _unref(visible),\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _isRef(visible) ? visible.value = $event : visible = $event),\n        title: \"View\",\n        width: \"80%\",\n        \"destroy-on-close\": \"\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"iframe\", {\n          src: _unref(rowData).link,\n          width: \"100%\",\n          height: \"400\",\n          style: {\n            \"border\": \"none\"\n          }\n        }, null, 8, _hoisted_13)]),\n        _: 1\n      }, 8, [\"modelValue\"]), _createVNode(BlogH5, {\n        visible: _unref(dialogShow),\n        \"onUpdate:visible\": _cache[5] || (_cache[5] = $event => _isRef(dialogShow) ? dialogShow.value = $event : dialogShow = $event),\n        title: dialogTitle.value,\n        data: _unref(editData)\n      }, null, 8, [\"visible\", \"title\", \"data\"]), _createVNode(BlogVlog, {\n        visible: _unref(dialogShow1),\n        \"onUpdate:visible\": _cache[6] || (_cache[6] = $event => _isRef(dialogShow1) ? dialogShow1.value = $event : dialogShow1 = $event),\n        title: dialogTitle.value,\n        data: _unref(editData)\n      }, null, 8, [\"visible\", \"title\", \"data\"])]);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./blog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./blog.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["global","factory","module","exports","this","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","value","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","from","o","minLen","n","toString","call","slice","name","test","len","arr2","IS_BROWSER","window","document","WINDOW","IS_TOUCH_DEVICE","documentElement","HAS_POINTER_EVENT","NAMESPACE","ACTION_ALL","ACTION_CROP","ACTION_MOVE","ACTION_ZOOM","ACTION_EAST","ACTION_WEST","ACTION_SOUTH","ACTION_NORTH","ACTION_NORTH_EAST","ACTION_NORTH_WEST","ACTION_SOUTH_EAST","ACTION_SOUTH_WEST","CLASS_CROP","concat","CLASS_DISABLED","CLASS_HIDDEN","CLASS_HIDE","CLASS_INVISIBLE","CLASS_MODAL","CLASS_MOVE","DATA_ACTION","DATA_PREVIEW","DRAG_MODE_CROP","DRAG_MODE_MOVE","DRAG_MODE_NONE","EVENT_CROP","EVENT_CROP_END","EVENT_CROP_MOVE","EVENT_CROP_START","EVENT_DBLCLICK","EVENT_TOUCH_START","EVENT_TOUCH_MOVE","EVENT_TOUCH_END","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_READY","EVENT_RESIZE","EVENT_WHEEL","EVENT_ZOOM","MIME_TYPE_JPEG","REGEXP_ACTIONS","REGEXP_DATA_URL","REGEXP_DATA_URL_JPEG","REGEXP_TAG_NAME","MIN_CONTAINER_WIDTH","MIN_CONTAINER_HEIGHT","DEFAULTS","viewMode","dragMode","initialAspectRatio","NaN","aspectRatio","data","preview","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","center","highlight","background","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRatio","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","minContainerWidth","minContainerHeight","ready","cropstart","cropmove","cropend","crop","zoom","TEMPLATE","isNaN","Number","isNumber","isPositiveNumber","Infinity","isUndefined","isObject","hasOwnProperty","isPlainObject","_constructor","error","isFunction","toArray","callback","assign","_len","args","_key","arg","REGEXP_DECIMALS","normalizeDecimalNumber","times","undefined","Math","round","REGEXP_SUFFIX","setStyle","element","styles","style","property","hasClass","classList","contains","className","indexOf","addClass","elem","add","trim","removeClass","remove","replace","toggleClass","added","REGEXP_CAMEL_CASE","toParamCase","toLowerCase","getData","dataset","getAttribute","setData","setAttribute","removeData","removeAttribute","REGEXP_SPACES","onceSupported","supported","once","listener","options","get","set","addEventListener","removeEventListener","removeListener","type","handler","split","event","listeners","addListener","_handler","_element$listeners","_len2","_key2","dispatchEvent","Event","CustomEvent","detail","bubbles","cancelable","createEvent","initCustomEvent","getOffset","box","getBoundingClientRect","left","pageXOffset","clientLeft","top","pageYOffset","clientTop","location","REGEXP_ORIGINS","isCrossOriginURL","url","parts","match","protocol","hostname","port","addTimestamp","timestamp","Date","getTime","getTransforms","_ref","rotate","scaleX","scaleY","translateX","translateY","values","transform","join","WebkitTransform","msTransform","getMaxZoomRatio","pointers","pointers2","maxRatio","pointer","pointerId","pointer2","x1","abs","startX","y1","startY","x2","endX","y2","endY","z1","sqrt","z2","ratio","getPointer","_ref2","endOnly","pageX","pageY","end","getPointersCenter","count","_ref3","getAdjustedSizes","_ref4","height","width","isValidWidth","isValidHeight","adjustedWidth","getRotatedSizes","_ref5","degree","arc","PI","sinArc","sin","cosArc","cos","newWidth","newHeight","getSourceCanvas","image","_ref6","_ref7","_ref8","imageAspectRatio","imageNaturalWidth","naturalWidth","imageNaturalHeight","naturalHeight","_ref6$rotate","_ref6$scaleX","_ref6$scaleY","_ref8$fillColor","fillColor","_ref8$imageSmoothingE","imageSmoothingEnabled","_ref8$imageSmoothingQ","imageSmoothingQuality","_ref8$maxWidth","maxWidth","_ref8$maxHeight","maxHeight","_ref8$minWidth","minWidth","_ref8$minHeight","minHeight","canvas","createElement","context","getContext","maxSizes","minSizes","min","max","destMaxSizes","destMinSizes","destWidth","destHeight","params","fillStyle","fillRect","save","translate","scale","drawImage","map","param","floor","fromCharCode","String","getStringFromCharCode","dataView","start","str","getUint8","REGEXP_DATA_URL_HEAD","dataURLToArrayBuffer","dataURL","base64","binary","atob","arrayBuffer","ArrayBuffer","uint8","Uint8Array","charCodeAt","arrayBufferToDataURL","mimeType","chunks","chunkSize","subarray","btoa","resetAndGetOrientation","orientation","DataView","littleEndian","app1Start","ifdStart","byteLength","offset","exifIDCode","tiffOffset","endianness","getUint16","firstIFDOffset","getUint32","_offset","_length","setUint16","parseOrientation","render","initContainer","initCanvas","initCropBox","renderCanvas","cropped","renderCropBox","container","cropper","containerData","offsetWidth","offsetHeight","imageData","rotated","canvasWidth","canvasHeight","canvasData","limited","limitCanvas","oldLeft","oldTop","initialCanvasData","sizeLimited","positionLimited","cropBoxData","_getAdjustedSizes","newCanvasLeft","newCanvasTop","minLeft","minTop","maxLeft","maxTop","changed","transformed","_getRotatedSizes","renderImage","limitCropBox","output","initialCropBoxData","maxCropBoxWidth","maxCropBoxHeight","face","cropBox","disabled","initPreview","crossOrigin","crossOriginUrl","alt","src","viewBox","appendChild","viewBoxImage","previews","ownerDocument","querySelectorAll","querySelector","el","img","html","innerHTML","cssText","resetPreview","cropBoxWidth","cropBoxHeight","originalWidth","originalHeight","getElementsByTagName","events","bind","onCropStart","cropStart","onWheel","wheel","passive","capture","onDblclick","dblclick","onCropMove","cropMove","onCropEnd","cropEnd","onResize","resize","unbind","handlers","ratioX","ratioY","getCanvasData","getCropBoxData","setCanvasData","setCropBoxData","setDragMode","dragBox","_this","delta","preventDefault","wheeling","setTimeout","deltaY","wheelDelta","buttons","button","pointerType","ctrlKey","action","changedTouches","touch","identifier","originalEvent","cropping","change","right","bottom","renderable","shiftKey","range","x","y","check","side","move","p","methods","reset","initialImageData","clear","hasSameSize","isImg","replaced","uncreate","load","enable","disable","destroy","originalUrl","offsetX","offsetY","_this$canvasData","moveTo","_originalEvent","zoomTo","pivot","oldRatio","rotateTo","_scaleX","_scaleY","rounded","getContainerData","getImageData","sized","widthChanged","heightChanged","getCroppedCanvas","HTMLCanvasElement","_this$getData","initialX","initialY","initialWidth","initialHeight","_options$imageSmoothi","srcWidth","srcHeight","dstX","dstY","dstWidth","dstHeight","sourceWidth","sourceHeight","srcX","srcY","setAspectRatio","mode","croppable","AnotherCropper","Cropper","tagName","Error","reloading","sizing","init","toDataURL","read","clone","xhr","XMLHttpRequest","onabort","onerror","ontimeout","onprogress","getResponseHeader","abort","onload","response","onloadend","open","responseType","withCredentials","send","_parseOrientation","stop","parentNode","insertBefore","nextSibling","_this2","isIOSWebKit","navigator","userAgent","done","build","sizingImage","body","removeChild","template","getElementsByClassName","unbuild","tinymce","IconManager","icons","require","global$1","util","Tools","resolve","applyListFormat","editor","listName","styleValue","cmd","execCommand","register$1","addCommand","ui","getNumberStyles","getParam","getBulletStyles","noop","constant","identity","never","always","none","NONE","thunk","id","me","fold","_s","isSome","isNone","getOr","getOrThunk","getOrDie","msg","getOrNull","getOrUndefined","or","orThunk","each","exists","forall","some","a","constant_a","self","f","s","Optional","isChildOfBody","elm","$","getBody","isTableCellNode","node","nodeName","isListNode","getSelectedStyleType","listElm","dom","getParent","selection","getNode","getStyle","findIndex","list","predicate","index","styleValueToText","chr","toUpperCase","isWithinList","e","tableCellIndex","parents","lists","grep","makeSetupHandler","api","nodeChangeHandler","setActive","on","off","addSplitButton","tooltip","registry","icon","presets","columns","fetch","items","iconStyle","iconName","itemValue","displayText","text","onAction","onItemAction","_splitButtonApi","select","listStyleType","listStyle","onSetup","addButton","_styles","addToggleButton","active","addControl","register","Plugin","hasPlugin","console","global$2","allowHtmlInNamedAnchor","namedAnchorSelector","isEmptyString","getIdFromAnchor","isAnchor","isNamedAnchor","isEmptyNamedAnchor","firstChild","removeEmptyNamedAnchorsInSelection","walk","getRng","nodes","isValidId","getNamedAnchor","getStart","getId","anchor","createAnchor","undoManager","transact","collapse","isCollapsed","insertContent","createHTML","formatter","addVisual","updateAnchor","anchorElement","insert","focus","insertAnchor","newId","windowManager","alert","currentId","title","size","label","placeholder","primary","initialData","onSubmit","close","isNamedAnchorNode","attr","isEmptyNamedAnchorNode","setContentEditable","state","setup","parser","addNodeFilter","serializer","registerFormats","inline","selector","deep","attributes","onmatch","_fmt","_itemName","buttonApi","selectorChangedWithUnbind","addMenuItem","checkRange","substr","startsWith","prefix","link","defaultLinkPattern","RegExp","getAutoLinkPattern","getDefaultLinkTarget","getDefaultLinkProtocol","rangeEqualsBracketOrSpace","rangeString","isTextNode","nodeType","isElement","handleBracket","parseCurrentLine","handleSpacebar","handleEnter","scopeIndex","setStart","rng","hasChildNodes","setStartBefore","setEnd","setEndAfter","hasProtocol","isPunctuation","char","endOffset","endContainer","bookmark","prev","rngText","autoLinkPattern","defaultLinkTarget","cloneRange","startOffset","previousSibling","nodeValue","charAt","matches","getBookmark","setRng","setAttrib","moveToBookmark","nodeChanged","autoUrlDetectState","keyCode","browser","isIE","ex","global$4","eq","t","global$3","fireRestoreDraft","fire","fireStoreDraft","fireRemoveDraft","parse","timeString","defaultTime","multiples","m","toParse","parsedTime","exec","parseInt","shouldAskBeforeUnload","getAutoSavePrefix","pathname","search","hash","shouldRestoreWhenEmpty","getAutoSaveInterval","getAutoSaveRetention","isEmpty","trimmedHtml","fragment","DOMParser","parseFromString","hasDraft","time","getItem","removeDraft","removeItem","storeDraft","isDirty","setItem","getContent","format","no_events","restoreDraft","setContent","startStoreDraft","interval","setEditorInterval","restoreLastDraft","editorManager","plugins","autosave","returnValue","setDisabled","editorEventCallback","setCursorLocation","source_view","editorContent","code","get$1","xs","head","someIf","b","isCodeSample","trimArg","predicateFn","arg1","arg2","Global","Function","exports$1","define","oldprism","Prism","manual","amd","globalThis","EphoxContactWrapper","commonjsGlobal","prismCore","_self","WorkerGlobalScope","lang","uniqueId","plainTextGrammar","_","disableWorkerMessageHandler","encode","tokens","Token","content","alias","objId","deepClone","visited","v","getLanguage","parentElement","setLanguage","language","currentScript","err","stack","scripts","isActive","defaultActivation","no","languages","plain","plaintext","txt","extend","redef","inside","before","root","grammar","ret","token","newToken","old","DFS","propertyType","highlightAll","async","highlightAllUnder","env","hooks","run","elements","highlightElement","parent","textContent","insertHighlightedCode","highlightedCode","hasAttribute","Worker","worker","filename","onmessage","evt","postMessage","JSON","stringify","immediateClose","tokenize","rest","tokenList","LinkedList","addAfter","matchGrammar","all","callbacks","matchedStr","matchPattern","pattern","pos","lookbehind","lastIndex","lookbehindLength","startNode","startPos","rematch","patterns","j","cause","patternObj","greedy","flags","currentNode","next","tail","reach","removeCount","to","k","matchStr","after","removeFrom","removeRange","wrapped","nestedRematch","newNode","array","tag","classes","aliases","message","script","highlightAutomaticallyCallback","readyState","defer","requestAnimationFrame","clike","getPlaceholder","buildPlaceholders","placeholderPattern","replaceFilter","tokenStack","markup","tokenizePlaceholders","walkTokens","substring","middle","replacement","splice","c","keyword","modName","cpp","replacements","re","nested","depthLog2","keywordKinds","typeDeclaration","contextual","other","keywordsToPattern","words","typeDeclarationKeywords","keywords","nonTypeKeywords","nonContextualKeywords","generic","nestedRound","genericName","typeExpressionWithoutTuple","tupleElement","tuple","typeExpression","typeInside","character","regularString","verbatimString","csharp","regularStringOrCharacter","regularStringCharacterOrComment","roundExpression","attrTarget","formatString","mInterpolationRound","mInterpolation","sInterpolationRound","sInterpolation","createInterpolationInside","interpolation","interpolationRound","dotnet","cs","string","css","addInlined","addAttribute","classNamePrefix","java","function","namespace","javascript","regex","js","includedCdataInside","def","attrName","mathml","svg","xml","ssml","atom","rss","comment","number","operator","punctuation","php","string_interpolation","phpPattern","python","py","ruby","percentExpression","symbolName","rb","Prism$1","prismjs","boltExport","prism","getLanguages$1","useGlobalPrismJS","getSelectedCodeSample","insertCodeSample","DOM","removeAttr","getCurrentCode","getLanguages","defaultLanguages","customLanguages","getCurrentLanguage","fallback","defaultLanguage","l","currentLanguage","currentCode","toggle","idx","$elm","empty","append","unprocessedCodeSamples","contentEditable","find","replaceChild","getDoc","createTextNode","isCodeSampleSelection","is","ev","typeOf","isPrototypeOf","isType$1","isSimpleType","isString","isBoolean","isNullable","isNonNullable","compose1","fbc","fab","r","pred","DOCUMENT","DOCUMENT_FRAGMENT","ELEMENT","TEXT","fromHtml","scope","doc","div","childNodes","fromDom","fromTag","fromText","fromPoint","docElm","elementFromPoint","SugarElement","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","isType","isText","isDocument","isDocumentFragment","isTag","owner","documentOrOwner","dos","children$2","rawSet","isShadowRoot","host","Element","attachShadow","Node","getRootNode","getShadowRoot","getShadowHost","inBody","ancestor$1","isRoot","ancestor","isSupported","getPropertyValue","getComputedStyle","getUnsafeProperty","getDirection","children$1","children","getParentElement","getNormalizedBlock","isListItem","normalizedElement","setDir","dir","selectedBlocks","getSelectedBlocks","block","blockElement","isBlockElementListItem","normalizedBlock","normalizedBlockParent","parentDirection","listItems","listItem","getNodeChangeHandler","Cell","initial","get$5","fullscreenState","isFullscreen","compose","fa","fb","_i","curry","fn","initialArgs","restArgs","__assign","singleton","doRevoke","subject","revoke","isSet","unbindable","nativePush","each$1","filter$1","findUntil","until","find$1","flatten","bind$3","get$4","findMap","isSupported$1","cached","called","DeviceType","os","mediaMatch","isiPad","isiOS","isiPhone","isMobile","isAndroid","isTouch","isTablet","isPhone","iOSwebview","isSafari","isDesktop","isWebView","firstMatch","regexes","agent","major","minor","group","nu$2","detect$3","versionRegexes","cleanedAgent","unknown$2","Version","nu","detect","unknown","detectBrowser$1","browsers","userAgentData","brands","uaBrand","lcBrand","brand","_a","info","current","version","detect$2","candidates","candidate","detectBrowser","detectOs","oses","normalVersionRegex","checkContains","uastring","PlatformInfo","edge","chrome","ie","opera","firefox","safari","unknown$1","nu$1","isBrowser","isEdge","isChrome","isOpera","isFirefox","Browser","windows","ios","android","linux","osx","solaris","freebsd","chromeos","isOS","isWindows","isOSX","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","detect$1","userAgentDataOpt","deviceType","PlatformDetection","query","matchMedia","platform","bypassSelector","childElementCount","all$1","base","e1","e2","rawParent","siblings$2","filterSelf","getOriginalEventTarget","isOpenShadowHost","composed","composedPath","shadowRoot","get$3","internalSet","setProperty","setAll","get$2","mkEvent","prevent","kill","raw","fromRawEvent","rawEvent","stopPropagation","clientX","clientY","handle","binder","useCapture","bind$2","bind$1","SugarPosition","_DOC","scrollLeft","scrollTop","_win","win","bounds","getBounds","scroll","clientWidth","clientHeight","visualViewport","pageLeft","pageTop","fireFullscreenStateChanged","getFullscreenNative","getFullscreenRoot","getElement","getFullscreenElement","fullscreenElement","msFullscreenElement","webkitFullscreenElement","getFullscreenchangeEventName","requestFullscreen","sugarElem","msRequestFullscreen","webkitRequestFullScreen","exitFullscreen","sugarDoc","msExitFullscreen","webkitCancelFullScreen","isFullscreenElement","ancestors$1","siblings$1","ancestors","siblings","siblingStyles","ancestorPosition","ancestorStyles","bgFallback","matchColor","editorBody","color","clobberStyles","gatherSiblings","clobber","clobberStyle","backup","parseStyle","bgColor","containerStyles","restoreStyles","clobberedEls","getScrollPos","setScrollPos","scrollTo","viewportUpdate","editorContainer","resizeBinder","scrollBinder","refreshScroll","refreshVisualViewport","offsetTop","offsetLeft","update","throttle","toggleFullscreen","getContainer","editorContainerS","fullscreenRoot","fullscreenInfo","editorContainerStyle","iframe","iframeElement","iframeStyle","handleClasses","cleanup","fullscreenChangeHandler","iframeWidth","iframeHeight","containerWidth","containerHeight","containerTop","containerLeft","scrollPos","_evt","newFullScreenInfo","addToggleMenuItem","shortcut","addShortcut","getDateFormat","getTimeFormat","getFormats","getDefaultDateTime","formats","shouldInsertTimeElement","daysShort","daysLong","monthsShort","monthsLong","addZeros","getDateTime","fmt","date","getFullYear","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","updateElement","timeElm","computerTime","userTime","newTimeElm","create","datetime","insertDateTime","_ui","defaultFormat","_api","makeMenuItemHandler","addNestedMenuItem","getSubmenuItems","global$7","global$6","isNull","tripleEquals","nativeIndexOf","rawIndexOf","ts","foldl","acc","lhs","rhs","comparator","cat","assumeExternalTargets","externalTargets","hasContextToolbar","getLinkList","getTargetList","getRelList","getLinkClassList","shouldShowLinkTitle","allowUnsafeLinkTarget","useQuickLink","global$5","getValue","item","getText","sanitizeList","extractValue","out","menu","sanitizeWith","extracter","sanitize","createUi","ListOptions","objAcc","internalFilter","onTrue","onFalse","has","hasNonNullableKey","isLink","getHref","collectNodesInRange","collapsed","contents","cloneContents","walker","href","applyRelTargetRules","rel","isUnsafe","rules","rels","sort","addTargetRules","removeTargetRules","val","inArray","newRels","trimCaretContainers","getAnchorElement","selectedElm","isImageFigure","getAnchorText","anchorElm","innerText","hasLinks","hasLinksInSelection","isOnlyTextSelected","inlineTextElements","schema","getTextInlineElements","getLinkAttrs","attrs","handleExternalTargets","applyLinkOverrides","linkAttrs","newLinkAttrs","newRel","updateLink","setAttribs","createLink","linkImageFigure","linkDomMutation","attachState","attach","unlinkSelection","startAnchorElm","startContainer","endAnchorElm","unlinkDomMutation","unlinkImageFigure","unwrapOptions","cls","class","_k","sanitizeData","isDomSafe","settings","sanitizedData","unlink","fig","getParents","isListGroup","findTextByValue","catalog","getDelta","persistentText","fieldName","hasPersistentText","meta","findCatalog","catalogs","linkCatalog","persistentData","getTitleFromUrlChange","getTextFromUrlChange","onUrlChange","onCatalogChange","onChange","DialogChanges","delayedConfirm","setEditorTimeout","confirm","tryEmailTransform","suggestMailTo","preprocess","oldData","tryProtocolTransform","defaultLinkProtocol","suggestProtocol","DialogConfirms","getAnchors","anchorNodes","anchors","AnchorListOptions","getClasses","ClassListOptions","parseJson","getLinks","extractor","convertURL","linkList","success","then","optItems","noneItem","LinkListOptions","getRels","initialTarget","isTargetBlank_1","enforceSafe","safeRelExtractor","sanitizer","RelOptions","fallbacks","getTargets","TargetOptions","nonEmptyAttr","getAttrib","extractFromAnchor","onlyText","linkClass","collect","linkNode","links","targets","optNode","titleEnabled","DialogInfo","handleSubmit","getChangedValue","changedData","pData","collectData","anchorNode","getInitialData","defaultTarget","original","makeDialog","urlInput","filetype","titleText","dialogDelta","newData","open$1","spec","appendClickRemove","initMouseEvent","getLink","getSelectedLink","hasOnlyAltModifier","altKey","metaKey","gotoLink","targetEl","scrollIntoView","openDialog","gotoSelectedLink","setupGotoLinks","metaKeyPressed","toggleState","toggler","toggleActiveState","updateState","isReadOnly","toggleEnabledState","toggleUnlinkState","hasLinks$1","toolbarKey","setupButtons","setupMenuItems","setupContextMenu","inLink","noLink","addContextMenu","setupContextToolbars","collapseSelectionToEnd","onSetupLink","getLinkText","addContextForm","launch","initValue","commands","formApi","hide","not","nativeSlice","groupBy","wasType","reverse","last","__spreadArray","pack","ar","contains$1","blank","isNotEmpty","isEmpty$1","compareDocumentPosition","documentPositionContainedBy","DOCUMENT_POSITION_CONTAINED_BY","is$2","regularContains","d1","d2","ieContains","is$1","clone$1","child","lastChild","before$1","marker","parent$1","append$1","isDeep","cloneNode","shallowAs","mutate","matchNodeName","matchNodeNames","isOlUlNode","isOlNode","isListItemNode","isDlItemNode","isBr","isFirstChild","isTextBlock","getTextBlockElements","isBlock","blockElements","isBogusBr","keepBookmarks","isChildOf","getRoot","shouldIndentOnTab","getForcedRootBlock","getForcedRootBlockAttrs","createTextBlock","contentNode","textBlock","hasContentNode","getBlockElements","createFragment","blockName","DOM$2","splitList","li","removeAndKeepBookmarks","targetNode","bookmarks","newBlock","tmpRng","createRng","setStartAfter","extractContents","insertAfter","isDescriptionDetail","isDescriptionTerm","outdentDlItem","dl","indentDlItem","dlIndentation","indentation","dlItems","getNormalizedPoint","normalizeRange","outRng","rangeStart","rangeEnd","getParentList","selectionStart","getClosestListRootElm","isParentListSelected","parentList","findSubLists","getSelectedSubLists","findParentListItemsNodes","elms","listItemsElms","parentLi","unique","getSelectedListItems","getSelectedDlItems","parentTableCell","findLastParentListNode","parentLists","getSelectedLists","firstList","subsequentLists","getSelectedListRoots","selectedLists","getUniqueListRoots","listRoots","lift2","oa","ob","fromElements","createDocumentFragment","fireListEvent","joinSegment","joinSegments","segments","appendSegments","head$1","createSegment","listType","segment","createSegments","entry","populateSegments","listAttributes","itemAttributes","normalizeSegment","createItem","appendItem","writeShallow","cast","newCast","depth","writeDeep","composeList","entries","isList","hasFirstChildList","hasLastChildList","isIndented","isSelected","cloneItemContent","createEntry","dirty","indentEntry","cloneListProperties","cleanListProperties","_value","closestSiblingEntry","normalizeEntries","matchingEntry","parseItem","itemSelection","selectionState","currentItemEntry","childListEntries","parseList","newDepth","parseLists","initialDepth","sourceList","outdentedComposer","normalizedEntries","indentedComposer","contentDocument","composeEntries","groupIsIndented","indentSelectedEntries","getItemSelection","selectedListItems","listIndentation","entrySets","entrySet","composedLists","composedList","selectionIndentation","isHandled","indentListSelection","outdentListSelection","flattenListSelection","DOM$1","createBookmark","setupEndPoint","offsetNode","resolveBookmark","restoreEndPoint","nodeIndex","listToggleActionFromListName","isCustomList","listState","activate","inList","updateListStyle","updateListAttrs","updateListWithDetails","removeStyles","getEndPointNode","getSelectedTextBlocks","textBlocks","endNode","isBookmarkNode","hasCompatibleStyle","sib","sibStyle","detailStyle","applyList","listItemName","getContentEditable","selectedTextBlocks","listBlock","sibling","rename","mergeWithAdjacentLists","isValidLists","list1","list2","hasSameListStyle","targetStyle","hasSameClasses","elm1","elm2","shouldMerge","updateList$1","newList","toggleMultipleLists","parentIsList","hasListStyleDetail","allLists","toggleSingleList","toggleList","_detail","selectedSubLists","normalizeList","normalizeLists","findNextCaretContainer","isForward","nonEmptyBlocks","getNonEmptyElements","hasOnlyOneBlockChild","unwrapSingleBlockChild","moveChildren","fromElm","toElm","targetElm","mergeLiElements","listNode","ul","nestedLists","mergeIntoEmptyLi","fromLi","toLi","mergeForward","mergeBackward","resolvedBookmark","backspaceDeleteFromListToListCaret","selectionStartElm","rng_1","otherLi_1","removeBlock","parentBlock","backspaceDeleteIntoListCaret","otherLi_2","backspaceDeleteCaret","backspaceDeleteRange","startListParent","backspaceDelete","setup$1","BACKSPACE","DELETE","updateList","setStyles","parseAlphabeticBase26","chars","charValue","pow","sum","composeAlphabeticBase26","remainder","quotient","isUppercase","isLowercase","isNumeric","deduceListType","parseStartValue","parseDetail","currentList","inputMode","queryListCommandState","registerDialog","register$2","command","addQueryStateHandler","setupTabKey","TAB","listProperties","global$9","getScripts","getAudioTemplateCallback","getVideoTemplateCallback","hasLiveEmbeds","shouldFilterHtml","getUrlResolver","hasAltSource","hasPoster","hasDimensions","global$8","getVideoScriptMatch","prefixes","trimPx","getEphoxEmbedData","altsource","poster","htmlToData","isEphoxEmbed","validate","allow_conditional_comments","movie","videoScript","guess","mimes","mp3","m4a","wav","mp4","webm","ogg","swf","fileEnd","pop","mime","addPx","setAttributes","updatedAttrs","updateEphoxEmbed","styleMap","serializeStyle","sources","updateHtml","updateAll","hasImage","writer","sourceCount","cdata","imgAttrs","urlPatterns","w","h","allowFullscreen","getProtocol","protocolMatches","getUrl","newUrl","_loop_1","getIframeHtml","allowfullscreen","getFlashHtml","getAudioHtml","audioTemplateCallback","altsourcemime","getVideoHtml","videoTemplateCallback","sourcemime","getScriptHtml","dataToHtml","dataIn","embed","isMediaElement","setup$2","selectedNode","objectType","unescape","escape","cache","embedPromise","res","rej","wrappedResolve","defaultPromise","loadedData","getEmbedHtml","embedHandler","isCached","extractMeta","sourceInput","mainData","metaData","prop","getFromData","getFromMetaData","getNonEmptyValue","getFromValueFirst","getFromMetaFirst","getDimensions","dimensions","dims","unwrap","wrap","handleError","errorMessage","notificationManager","snippetToData","embedSnippet","getEditorData","snippet","serialize","addEmbedHtml","snippetData","nuData","selectPlaceholder","beforeObjects","afterObjects","handleInsert","submitForm","prevData","catch","showDialog","editorData","currentData","handleSource","serviceData","handleEmbed","dataFromEmbed","handleUpdate","mediaInput","sizeInput","constrain","generalTab","embedTextarea","embedTab","advancedFormItems","advancedTab","tabs","showDialog$1","blocked","isLiveEmbedNode","getDimension","dimension","defaultValue","setDimensions","previewNode","useDefaults","defaultWidth","fallbackHeight","defaultHeight","appendNodeContent","forced_root_block","createPlaceholderNode","placeHolder","shortEnded","retainAttributesAndInnerHtml","transparentSrc","createPreviewNode","previewWrapper","frameborder","sanitizedHtml","shimNode","sourceNode","attribs","ai","attrValue","innerHtml","isPageEmbedWrapper","nodeClass","isWithinEmbedWrapper","placeHolderConverter","ceFalse","specialElements","getSpecialElements","boolAttrs","getBoolAttrs","addAttributeFilter","realElm","innerNode","realElmName","getKeyboardSpaces","spaces","wrapNbsps","stringRepeat","repeats","isVisualCharsEnabled","visualchars","isEnabled","insertNbsp","nbspSpan","shouldWrap","isDefaultPrevented","stopImmediatePropagation","getNonEditableClass","getEditableClass","getNonEditableRegExps","nonEditableRegExps","checkClassName","replaceMatchWithSpan","prevChar","findStartTagIndex","lastIndexOf","tagHtml","convertRegExpsToNonEditable","contentEditableAttrName","editClass","nonEditClass","hasEditClass","hasNonEditClass","getSeparatorHtml","shouldSplitBlock","pageBreakClass","getPlaceholderHtml","separatorHtml","shouldSplitBlock$1","pageBreakSeparatorRegExp","global$b","hasProPlugin","log","clipboard","from$1","endsWith","suffix","repeat","global$a","firePastePreProcess","internal","isWordHtml","wordContent","firePastePostProcess","firePastePlainTextToggle","firePaste","ieFake","shouldBlockDrop","shouldPasteDataImages","shouldFilterDrop","getPreProcess","getPostProcess","getWebkitStyles","shouldRemoveWebKitStyles","shouldMergeFormats","isSmartPasteEnabled","isPasteAsTextEnabled","getRetainStyleProps","getWordValidElements","defaultValidElements","shouldConvertWordFakeLists","shouldUseDefaultFilters","getValidate","getAllowHtmlDataUrls","getPasteDataImages","getImagesDataImgFilter","getImagesReuseFilename","getTabSpaces","getAllowedImageFileTypes","defaultImageFileTypes","explode","internalMimeType","internalMark","mark","unmark","isMarked","internalHtmlMime","isPlainText","toBRs","openContainer","rootTag","rootAttrs","encodeAllRaw","toBlockElements","blocks","tagOpen","tagClose","paragraphs","stitch","convert","nbsp","isRegExp","domParser","shortEndedElements","getShortEndedElements","ignoreElements","makeMap","trimHtml","trimSpaces","s1","s2","createIdGenerator","getImageMimeType","ext","lowerExt","mimeOverrides","jpg","jpe","jfi","jif","jfif","pjpeg","pjp","hasOwn","isWordContent","isNumericList","found","isBulletList","convertFakeListsToProperLists","currentListNode","prevListNode","lastLevel","trimListStart","regExp","removeIgnoredNodes","_listIgnore","convertParagraphToLi","paragraphNode","level","_listLevel","nodeText","filterStyles","validStyles","outputStyles","outputStyle","filterWordContent","retainStyleProperties","validElements","valid_elements","valid_children","rule","attributesOrder","rootNode","preProcess$1","preProcess","isRootContent","processResult","cancelled","postProcessFilter","tempBody","postProcessArgs","filterContent","preProcessArgs","filteredContent","hasEventListeners","process","pasteHtml$1","merge","paste","isAbsoluteUrl","isImageUrl","createImage","pasteHtmlFn","extra","linkSelection","insertImage","smartInsertContent","pasteAsText","isCollapsibleWhitespace","isNewLineChar","isNewline","normalizeWhitespace","tabSpace","normalizedText","result","pcIsSpace","doPaste","pasteHtml","internalFlag","pasteText","encodedText","getDataTransferItems","dataTransfer","mceInternalUrlPrefix","legacyText","types","contentType","getClipboardContent","clipboardEvent","clipboardData","hasContentType","clipboardContent","hasHtmlOrText","parseDataUri","uri","decodeURIComponent","isValidDataUriImage","imgElm","extractFilename","pasteImage","imageItem","file","blob","Image","blobCache","editorUpload","blobInfo","existingBlobInfo","getByData","useFileName","name_1","blobUri","isClipboardEvent","isDataTransferItem","getAsFile","readFilesAsDataUris","reader","FileReader","readAsDataURL","isImage","allowedExtensions","extension","getImagesFromDataTransfer","kind","files","pasteImageData","images","fileResults","isBrokenAndroidClipboardEvent","isKeyboardPasteEvent","registerEventHandlers","pasteBin","pasteFormat","keyboardPastePlainTextState","keyboardPasteEvent","keyboardPastePressed","removePasteBinOnKeyUp","webkit","insertClipboardContent","isKeyBoardPaste","plainTextMode","getHtml","isDefaultContent","isPlainTextHtml","isAbsoluteUrl$1","getLastRng","isKeyboardPaste","getEl","registerEventsAndFilters","isPasteInsert","isWebKitFakeUrl","isDataUri","getPasteBinParent","isExternalPasteBin","delegatePasteEvents","pasteBinElm","pasteBinDefaultContent","_e","isDefault","lastRngCell","gecko","pasteBinClone","lastRng","copyAndRemove","pasteBinClones","shift","dirtyWrappers","cleanWrapper","isPasteBin","PasteBin","Clipboard","togglePlainTextPaste","hasWorkingClipboardApi","iOS","setHtml5Clipboard","clearData","setClipboardData","markedHtml","outer","inner","contenteditable","position","overflow","offscreenRange","selectNodeContents","isTableSelection","hasSelectedContent","cut","copy","getCaretRangeFromEvent","getCaretRangeFromPoint","isPlainTextFileUrl","plainTextContent","setFocusedRange","draggingInternallyState","dropContent","content_1","plugin","postProcess","addPreProcessFilter","filterFunc","addPostProcessFilter","removeExplorerBrElementsAfterBlocks","explorerBlocksRegExp","removeWebKitStyles","webKitStyles","webKitStylesSetting","dom_1","node_1","inputStyles","decode","inputValue","currentValue","toHex","removeUnderlineAndFontInAnchor","pastePlainTextToggleHandler","getContentStyle","shouldUseContentCssCors","getBodyClassByHash","bodyClass","getBodyClass","getBodyIdByHash","bodyId","getBodyId","getPreviewHtml","headHtml","contentStyle","documentBaseURI","getURI","cors","contentCSS","toAbsolute","isMetaKeyPressed","mac","preventClicksOnLinksScript","directionality","dirAttr","previewHtml","dataApi","sandboxed","getWin","print","enableWhenDirty","hasOnSaveCallback","hasOnCancelCallback","displayErrorMessage","formObj","execCallback","setDirty","onsubmit","submit","cancel","startContent","resetContent","stateToggle","punctuationStr","punctuation$1","eachr","isText$1","documentPositionPreceding","DOCUMENT_POSITION_PRECEDING","spot","leaf","wrapper","NodeValue","getOption","descendants","isSimpleBoundary","isContentEditableFalse","isContentEditableTrueInCef","getContentEditableParent","isHidden","getWhiteSpaceElements","isBoundary","nuSection","sOffset","fOffset","toLeaf","walkerFn","skipStart","isCefNode","stopWalking","cef","boundary","collectTextToBoundary","section","forwards","rootBlock","sections","finishSection","collectRangeSections","commonAncestorContainer","ceTrueNode","fromRng","fromNode","selectNode","fromNodes","find$2","finish","results","matchedText","matchIndex","matchStart","matchFinish","extract","nodePositions","positions","matchIdx","matchId","replacementNode","textNode","splitText","matchNode","findAndMark","textSections","findAndMarkInSelection","getElmIndex","markAllMatches","currentSearchState","inSelection","findSpansByIndex","spans","moveSelection","forward","searchState","testIndex","removeNode","escapeSearchText","wholeWord","escapedText","wordRegex","matchCase","isForwardSelection","newIndex","isMatchSpan","currentMatchIndex","currentIndex","nextIndex","keepEditorSelection","hasNext","hasPrev","currentState","done$1","next$1","prev$1","replace$1","dialogApi","selectedText","updateButtonStates","updateNext","updatePrev","updateSearchState","matchcase","wholewords","inselection","disableAll","notFoundAlert","focusButtonIfRequired","doFind","findtext","initialState","replacetext","maximized","borderless","align","details","onClose","shortcuts","fireSpellcheckStart","fireSpellcheckEnd","getRpcUrl","getSpellcheckerCallback","getSpellcheckerWordcharPattern","defaultPattern","DomTextMatcher","blockElementsMap","hiddenTextElementsMap","shortEndedElementsMap","createMatch","stepThroughMatches","replaceFn","startNodeIndex","endNodeIndex","matchLocation","innerNodes","atIndex","curNode","genReplacer","makeReplacementNode","fill","stencil","elA","innerEl","elB","unwrapElement","getWrappersByIndex","wrappers","dataIndex","filteredMatches","matchFromElement","elementFromMatch","rangeFromMatch","deleteContents","insertNode","getTextMatcher","textMatcherState","textMatcher","defaultSpellcheckCallback","pluginUrl","currentLanguageState","method","doneCallback","errorCallback","postData","encodeURIComponent","content_type","parseResult","sendRpcCall","successCallback","userSpellcheckCallback","spellCheckCallback","spellchecker","spellcheck","startedState","lastSuggestionsState","setProgressState","markErrors","checkIfFinished","addToDictionary","word","ignoreWord","span","hasDictionarySupport","dictionary","suggestions","getWordCharPattern","markErrors$1","spellcheckerEvents","buildMenuItems","languageValues","languageValue","selectable","getItems","langPair","langPairs","languageMenuItems","startSpellchecking","buttonArgs","setButtonState","splitButtonArgs","languageItem","splitButtonApi","menuApi","setMenuItemCheck","ignoreAll","getSuggestions","suggestion","getTabFocusElements","getTabFocus","tabCancel","tabHandler","direction","canSelectRecursive","castElem","display","visibility","canSelect","tabIndex","focusEditor","getCreationDateClasses","getModificationDateClasses","getSelectedContentClasses","getPreviewReplaceValues","getTemplateReplaceValues","getTemplates","getCdateFormat","getMdateFormat","getBodyClassFromHash","createTemplateList","templateList","replaceTemplateValues","templateValues","replaceVals","vl","insertTemplate","sel","entitiesAttr","htmlEscape","getPreviewContent","contentCssEntries_1","cors_1","createTemplates","isUrlTemplate","selected","description","createSelectBoxItems","templates","findTemplate","templateTitle","loadFailedAlert","getTemplateContent","reject","updateDialog","newTemplateTitle","selectBoxItems","buildDialogSpec","bodyItems","unblock","redial","optTemplates","dateFormat","die","foldr","generate$1","cases","constructors","adt","acase","keys$1","argLength","branches","branchKeys","allReqd","reqKey","foldArgs","Adt","generate","bothErrors","firstError","secondError","bothValues","partition","errors","_opt","_f","mapError","onValue","toOptional","isValue","isError","error$1","onError","fromOption","opt","Result","isInlinePattern","isBlockPattern","sortPatterns","normalizePattern","formatOrCmd","onFormat","onCommand","start_1","end_1","commandValue","denormalizePattern","createPatternSet","inlinePatterns","blockPatterns","patternsState","setPatterns","newPatterns","normalized","getPatterns","defaultPatterns","getPatternSet","zeroWidth","point","TEXT_NODE","cleanEmptyNodes","parent_1","deleteRng","clean","startParent","endParent","isBlockFormatName","formatSet","isReplacementPattern","getParentBlock","parentBlockOpt","alwaysNext","textBefore","textSeeker","backwards","textAfter","scanLeft","prevText","scanRight","repeatLeft","generatePath","generatePathRange","resolvePath","path","nodePath","resolvedNode","resolvePathRange","createRange","generatePathRangeFromRange","stripPattern","firstTextNode","applyPattern$1","findPattern$1","nuText","findPatterns$1","forcedRootBlock","matchesForcedRootBlock","blockText","matchedPattern","applyMatches$1","random","newMarker","rangeFromMarker","setEndBefore","createMarker","markerPrefix","pathRange","textEnd","textStart","removeMarker","matchesPattern","patternContent","searchText","startEndIndex","startIndex","findPatternStartFromSpot","startPattern","startSpot","nextSpot","findPatternStart","requireGap","startRange","findPattern","endPathRng","startRng","endRng","resultsOpt","findPatternsRec","remainingPatterns","results_1","startPathRng","endSpot","patternsWithoutCurrent","applyPattern","patternRange","applyReplacementPattern","markerRange","applyPatternWithContent","startMarker","endMarker","markerEndRange","markerStartRange","patternMarker","addMarkers","matchesWithEnds","findPatterns","space","applyMatches","matchesWithMarkers","patternSet","inlineMatches","blockMatches","deleteData","handleInlineKey","checkKeyEvent","codes","checkKeyCode","modifierPressed","checkCharCode","charCode","charCodes","keyCodes","fireVisualBlocks","toggleVisualBlocks","enabledState","isEnabledByDefault","fireVisualChars","remove$3","add$2","remove$2","supports","add$1","clazz","remove$1","cleanClass","charMap","charMapToRegExp","charMapToSelector","regExpGlobal","nbspClass","wrapCharWithSpan","isMatch","value$1","filterDescendants","findParentElm","rootElm","replaceWithSpans","isWrappedNbsp","show","nodeList","withSpans","applyVisualChars","toggleVisualChars","hasForcedRootBlock","debouncedToggle","debounce","enabledStated","removeZwsp$1","regExps","aletter","midnumlet","midletter","midnum","numeric","cr","lf","newline","katakana","extendnumlet","characterIndices","ALETTER","MIDNUMLET","MIDLETTER","MIDNUM","NUMERIC","CR","LF","NEWLINE","EXTEND","FORMAT","KATAKANA","EXTENDNUMLET","AT","OTHER","SETS$1","EMPTY_STRING$1","PUNCTUATION$1","WHITESPACE$1","SETS","getType","setsLength","memoize","func","classify","characters","memoized","isWordBoundary","nextType","nextNextType","prevType","EMPTY_STRING","WHITESPACE","PUNCTUATION","isProtocol","findWordEnd","findUrlEnd","endIndex","peakedWord","findWords","sChars","characterMap","ch","includeWhitespace","includePunctuation","startOfWord","endOfWord","endOfUrl","getDefaultOptions","getWords$1","filteredChars","extractedChars","getWords","treeWalker","removeZwsp","strLen","countWords","countCharacters","countCharactersWithoutSpaces","createBodyCounter","createSelectionCounter","createBodyWordCounter","getWordCount","getCharacterCount","getCharacterCountWithoutSpaces","getCount","header","cells","fireWordCountUpdate","wordCount","charactersWithoutSpaces","updateCount","delay","debouncedUpdate","eq$1","isArrayOf","noarg","constant$1","identity$1","global$g","__rest","propertyIsEnumerable","contains$2","range$2","num","chunk$1","map$2","partition$3","pass","fail","filter$2","find$5","findIndex$1","difference","a1","a2","mapToObject","pure$2","get$f","last$2","hasOwnProperty$1","map$1","tupleMap","mapToArray","find$4","get$e","has$2","equals","sequence","lift3","oc","mapFrom","addToEnd","removeFromStart","numChars","removeLeading","ensureTrailing","trim$1","fromHtml$2","SimpleResultType","name$2","isElement$2","find$3","nu$d","detect$4","unknown$3","nu$c","nu$b","all$3","one","owner$4","defaultView","offsetParent","child$2","getContentContainer","isInShadowRoot","set$8","setAll$1","get$d","getOpt","has$1","remove$7","internalRemove","removeProperty","set$7","setOptions","get$c","getRaw","getAllRaw","ruleName","isValidValue","remove$6","reflow","Dimension","parseFloat","getOuter","aggregate","properties","cumulativeInclusions","absoluteMax","api$3","get$b","getOuter$2","setMax$1","inclusions","absMax","r$1","boxPosition","firstDefinedOrZero","absolute$3","viewport$1","api$2","set$6","get$a","getOuter$1","setMax","fromRawEvent$1","capture$1","before$2","after$2","append$2","prepend$1","firstChild$1","appendAt","rogue","remove$5","get$9","get$8","bounds$1","getBounds$3","walkUp","navigation","frame","view","pathTo","d","paths","frameElement","owner$3","Navigation","freeze","__proto__","frames","loc","pointed","rect","box$1","xy","absolute$2","value$3","fold$1","stype","serror","svalue","partition$2","Value","bindError","toResult$1","fromResult$1","SimpleResult","fromResult","toResult","field$2","newKey","presence","customField$1","instantiator","ifField","ifCustom","shallow$1","bothObjects","deepMerge","baseMerge","merger","objects","curObject","merge$1","required$2","defaultedThunk","fallbackThunk","defaulted$1","asOption","mergeWithThunk","baseThunk","mergeWith","mergeValues$1","mergeErrors$1","consolidateObj","consolidateArr","partitions","ResultCombine","formatObj","input","formatErrors","es","getErrorInfo","nu$a","missingRequired","missingKey","missingBranch","branch","unsupportedFields","unsupported","custom","value$2","validator","anyValue$1","requiredAccess","bundle","fallbackAccess","optionAccess","optionDefaultedAccess","extractField","field","av","bundleAsOption","optValue","ov","extractFields","fields","fields_1","valueThunk","getDelegate","getSetKeys","objOfOnly","delegate","objOf","fieldNames","fieldStrings","_okey","_presence","_instantiator","arrOf","oneOf","props_1","setOf$1","validateKeys","validatedKeys","validKeys","vk","_desc","processor","getP","arrOfObj","anyValue","typedValue","expectedType","actualType","boolean","functionProcessor","isPostMessageable","every","postMessageable","chooseFrom","vp","choose$2","choice","chosen","arrOfVal","valueOf","setOf","errs","asRaw","extraction","errInfo","formatError","asRawOrDie$1","choose$1","thunkOf","desc","field$1","customField","validateEnum","required$1","requiredOf","requiredNumber","requiredString","requiredStringEnum","requiredBoolean","requiredFunction","forbid","_v","requiredObjOf","objSchema","requiredArrayOfObj","objFields","requiredArrayOf","option","optionOf","optionNumber","optionString","optionFunction","optionArrayOf","optionObjOf","optionObjOfOnly","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedPostMsg","defaultedArrayOf","defaultedObjOf","generate$7","_a$2","partition$1","exclude$1","wrap$2","wrapAll$1","keyvalues","kv","exclude","wrap$1","wrapAll","mergeValues","mergeErrors","consolidate","objs","ensureIsRoot","ancestor$2","closest$4","isSource","component","simulatedEvent","defaultEventHandler","can","nu$9","all$2","any","read$2","fuse$1","touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseup","mouseover","focusin","focusout","keydown","keyup","click","transitioncancel","transitionend","transitionstart","selectstart","prefixName","alloy","tap","focus$4","postBlur","postPaste","receive","execute$5","focusItem","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","changeTab","dismissTab","highlight$1","dehighlight$1","emit","dispatchWith","emitWith","emitExecute","dispatch","getSystem","triggerEvent","derive$2","configs","run$1","runActionExtra","runOnName","runOnSourceName","redirectToUid","uid","getByUid","redirectee","redirectToPart","partName","partUids","runWithTarget","getByDom","closest","cutter","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute$1","fromHtml$1","get$7","set$5","docDom","contentElements","clone$2","shallow","isRecursive","originator","events$i","warn","DefaultEvents","generate$6","prefix$1","idAttr$1","idAttr","write","writeOnly","read$1","generate$5","make$8","NoContextApi","getComp","getMessage","debugInfo","triggerFocus","triggerEscape","broadcast","broadcastOn","broadcastEvent","addToWorld","removeFromWorld","addToGui","removeFromGui","isConnected","singleton$1","markAsBehaviourApi","apiName","apiFunction","openBracketIndex","parameters","toFunctionAnnotation","cleanParameters","markAsExtraApi","extraName","markAsSketchApi","premadeTag","premade$1","comp","getPremade","makeApi","getApis","NoState","nu$8","readState","generateFrom$1","validated","behaviours","optBlobThunk","config","getBehaviours$3","bData","getData$2","byInnerKey","indexKey","chain","nu$7","defnA","mod","combine$2","baseMod","modsByBehaviour","behaviour","exhibit","byAspect","modification","combineObjects","combinedClasses","combinedAttributes","combinedStyles","sortKeys","keyName","order","sorted","aKey","bKey","aIndex","bIndex","uncurried","purpose","curried","cHandler","curryArgs","descHandler","extraArgs","getCurried","behaviourTuple","nameToHandlers","groupByEvents","behaviourEvents","combine$1","eventOrder","byEventName","combineGroups","assemble","rawHandler","missingOrderError","eventName","tuples","fuse","sortedTuples","combined","assembled","baseBehaviour","schema$z","toInfo","toDefinition","domChildren","components","toModification","domModification","toEvents","add$4","remove$4","get$6","add$3","hasAll","set$4","renderToDom","definition","getBehaviours$2","generateFrom","generate$4","getDomDefinition","bList","infoModification","baseModification","getEvents","baseEvents","build$2","getMe","systemApi","bBlob","modDefinition","subcomponents","connect","newApi","disconnect","syncComponents","subs","hasConfigured","apis","behaviourName","buildSubcomponents","build$1","buildFromSpec","userSpec","specEvents","completeSpec","text$1","external$2","extSpec","uids","isSketchSpec$1","userSpecWithUid","premade","ClosestOrAncestor","EventConfiguration","closest$3","child$1","descendant$1","descend","child_1","closest$2","descendant","closest$1","queryElem","dependent","dep","manager","ariaId","isAriaPartOf","isPartOf$1","eventConfig","makeEventLogger","startTime","logEventCut","_name","outcome","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","finishTime","processEvent","status","NORMAL","noLogger","LOGGING","logger","STOP","getTrace","lines","line","ignoreEvent","monitorEvent","menuFields","itemFields","itemSchema$3","_initSize","itemMarkers","tieredMenuMarkers","markers$1","required","onPresenceHandler","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","output$1","snapshot","initSize","nu$6","bubble","placement","boundsRestriction","labelPrefix","alwaysFit","restriction","adt$a","southeast","southwest","northeast","northwest","south","north","east","west","cata$2","cataVertical","cataHorizontal","southeast$3","southwest$3","northeast$3","northwest$3","south$3","north$3","east$3","west$3","cycleBy","clamp$1","getRestriction","restrictions","adjustBounds","bubbleOffset","applyRestriction","isVerticalAxis","newPos","adjustedLeft","adjustedTop","adjustedRight","adjustedBottom","labelPrefix$2","eastX$1","middleX$1","westX$1","northY$2","southY$2","centreY$1","eastEdgeX$1","westEdgeX$1","southeast$2","southwest$2","northeast$2","northwest$2","north$2","south$2","east$2","west$2","allRtl$1","aboveOrBelow","aboveOrBelowRtl","belowOrAbove","belowOrAboveRtl","chooseChannels","channels","universal","events$h","receiveConfig","channelMap","receivingData","targetChannels","channelInfo","channelSchema","onReceive","ActiveReceiving","ReceivingSchema","executeEvent","bConfig","bState","executor","loadEvent","_simulatedEvent","create$9","configSchema","schemaSchema","doCreate","createModes$1","modes","wrapApi","bName","revokeBehaviour","getConfig","wrappedApis","apiF","wrappedExtra","extraF","prepared","configAsRaw","initialConfig","behaviourInfo","exhibitor","derive$1","capabilities","simpleSchema","create$8","modeSchema","createModes","branchKey","Receiving","exhibit$6","posConfig","useFixed","ActivePosition","getDocument","focus$3","blur$1","blur","hasFocus","activeElement","preserve$1","refocus","focused","oldFocus","newFocus","NuPositionCss","toPx","toOptions","applyPositionCss","adt$9","relative","fixed","positionWithDirection","posName","decision","decisionRect","decisionX","decisionY","decisionWidth","decisionHeight","decisionRight","decisionBottom","reposition","origin","toBox","viewport","translate$2","removeScroll","outerScroll","cata$1","onNone","onRelative","onFixed","AttributeValue","relative$1","fixed$1","anchorBox","placementAttribute","setPlacement$1","getPlacement","reset$2","adt$8","fit","nofit","determinePosition","boundsX","boundsY","boundsRight","boundsBottom","xInBounds","yInBounds","originInBounds","rightInBounds","bottomInBounds","sizeInBounds","visibleW","visibleH","calcReposition","maxX","maxY","restrictedX","restrictedY","restrictedWidth","restrictedHeight","calcMaxSizes","upAvailable","downAvailable","westAvailable","eastAvailable","attempt","adjustedBounds","newX","newY","fits","fittedBox","isPartlyVisible","_b","classesOn","classesOff","layout","testY","attempts","elementBox","panelWidth","panelHeight","attemptBestFit","isVisible","attemptLayout","newReposition","newVisibleW","newVisibleH","newIsVisible","improved","abc","bestNext","destroyable","api$1","timerAttr","isTransitioning$1","transition","shouldApplyTransitionCss","lastPlacement","placer","hasChanges","intermediate","toFixed","newValue","getTransitionDuration","duration","dur","setupTransitionListeners","timer","transitionEnd","transitionCancel","isSourceTransition","pseudoElement","propertyName","transitionDone","clearTimeout","transitionStarted","transitionStart_1","startTransitioning","timerId","applyTransitionCss","shouldTransition","intermediatePosition_1","intermediateCssOptions","elementSize","preference","setClasses","classInfo","setHeight","maxHeightFunction","setWidth","maxWidthFunction","position$2","positionCss","setPlacement","setMaxHeight","anchored","available","expandable$1","defaultOr","dephault","simple","layouts","overrideOptions","go","allAlignments","nu$5","xOffset","yOffset","insetModifier","insetXOffset","insetYOffset","make","xDelta","yDelta","alignmentsOn","alignmentsOff","insetNortheast","insetNorthwest","insetNorth","insetSoutheast","insetSouthwest","insetSouth","insetEast","insetWest","nu$4","onDirection","isLtr","isRtl","Attribute","isBottomToTopDir","BottomToTop","schema$y","defaultLtr","defaultRtl","defaultBottomLtr","defaultBottomRtl","dirElement","isBottomToTop","customLtr","ls","onLtr","customRtl","onRtl","ltr","onBottomLtr","rtl","onBottomRtl","placement$4","anchorInfo","hotspot","overrides","HotspotAnchor","placement$3","MakeshiftAnchor","adt$7","screen","absolute","points","sumAsFixed","sumAsAbsolute","absolute$1","hasSameOwner","frameOwner","compOwner","getRootPoint","getBox","calcNewAnchor","optBox","rootPoint","topLeft","layoutsLtr","showAbove","layoutsRtl","placement$2","nodeBox","NodeAnchor","create$7","soffset","foffset","SimRange","adt$6","cata","onBefore","onOn","onAfter","getStart$1","situ","on$1","after$1","Situ","adt$5","domRange","exact","exactFromRange","simRange","startSitu","_finishSitu","_soffset","_finish","_foffset","range$1","SimSelection","setFinish","relativeToNative","finishSitu","exactToNative","toRect","getFirstRect$1","rects","getClientRects","getBounds$2","adt$4","fromRange","getRanges","doDiagnose","ranges","reversed","rev","diagnose","asLtrRange","diagnosis","FocusInsideModes","getEnd","isTextNodeWithCursorPosition","elementsWithCursorPosition","isCursorPosition","hasCursorPosition","last$1","descendantRtl","makeRange","same","getNativeSelection","getSelection","readRange","rangeCount","firstRng","getRangeAt","doGetExact","focusNode","focus_1","anchorOffset","focusOffset","getExact","getFirstRect","getBounds$1","point$1","descendOnce$1","descendOnce","getAnchorSelection","modStart","modFinish","placement$1","selectionBox","optRect","rawRect","targetElement","SelectionAnchor","labelPrefix$1","eastX","westX","northY$1","southY$1","southeast$1","southwest$1","northeast$1","northwest$1","allRtl","submenuInfo","SubmenuAnchor","AnchorSchema","submenu","makeshift","TransitionSchema","PositionSchema","PlacementSchema","getFixedOrigin","getRelativeOrigin","place","anchoring","placee","lastPlace","position$1","posState","placementSpec","positionWithin","boxElement","boundsBox","positionWithinBounds","placeeDetail","anchorage","placeeState","oldVisibility","doPlace","newState","vis","getMode","pConfig","_pState","reset$1","PositionApis","init$g","PositioningState","Positioning","fireDetaching","fireAttaching","attach$1","detachChildren$1","childComp","replaceChildren","newChildren","deleted","attachWith","insertion","doDetach","detach","detachChildren","attachSystem","guiSystem","attachSystemWith","attachSystemAfter","inserter","detachSystem","rebuild","sandbox","sConfig","sState","_data","getAttachPoint","built","onOpen","openWhileCloaked","transaction","cloak","decloak","close$1","isOpen$1","_sandbox","_sConfig","isOpen","isPartOf","getState$2","store","cssKey","oldValue","_sState","sink","cloakVisibilityAttr","hasPosition","SandboxApis","getState","events$g","sandboxConfig","sandboxState","ActiveSandbox","SandboxSchema","init$f","SandboxState","Sandboxing","dismissPopups","repositionPopups","mouseReleased","schema$x","receivingChannel$1","rawSpec","isPart","isExtraPart","fireEventInstead","fe","schema$w","receivingChannel","doReposition","onLoad$5","repConfig","repState","onLoad","onUnload$2","onUnload","setValue$3","setValue","getValue$3","getState$1","RepresentApis","events$f","resetOnDom","_se","ActiveRepresenting","memory$1","isNotSet","dataByValue","dataByText","lookup","itemString","currentDataByValue","currentDataByText","newDataByValue","newDataByText","init$e","RepresentState","memory","setValue$2","onSetValue","getValue$2","getDataKey","getFallbackEntry","onLoad$4","initialValue","onUnload$1","DatasetStore","getValue$1","_repState","setValue$1","onLoad$3","ManualStore","onLoad$2","initVal","MemoryStore","RepresentSchema","Representing","setValueFrom","forbidden","dump","augment","SketchBehaviours","_placeholder","adt$3","single","multiple","isSubstituted","subPlaceholder","compSpec","placeholders","newSpec","scan","uiType","substitute","req","childSpecs","substituted","valuesThunk","preprocessor","substituteAll","oneReplace","used","substitutePlaces","ps","ph","single$2","adt$2","external","optional","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","part","name$1","asCommon","adtConstructor","partSchema","external$1","PartType","combine","partSpec","partValidated","defaults","internals","externals","pname","_partSpec","_partValidated","units","u","generate$3","np","g","doGenerateOne","generateOne$1","schemas","names","substitutes","components$1","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","generateOne","partSchemas","partUidsSchemas","asRawOrDie","baseS","single$1","specWithUid","supplyUid","composite$1","partUidsSchema","hasUid","isSketchSpec","singleSchema","compositeSchema","rawConfig","configFields","extraApis","composite","partFields","getCurrent","composeConfig","_composeState","ComposeApis","ComposeSchema","Composing","nativeDisabled","onLoad$1","disableConfig","disableState","disable$1","enable$1","hasNative","useNative","nativeIsDisabled","nativeDisable","nativeEnable","ariaIsDisabled","ariaDisable","ariaEnable","_disableState","disableClass","onDisabled","onEnabled","isDisabled","set$3","DisableApis","exhibit$5","events$e","ActiveDisable","DisableSchema","Disabling","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","skipComp","onDehighlight","dehighlightAll","dehighlight","isHighlighted","onHighlight","highlightFirst","getFirst","firstComp","highlightLast","getLast","lastComp","highlightAt","getByIndex","highlightBy","getCandidates","targetComp","queryTarget","getHighlighted","_hState","itemClass","getDelta$2","dest","getPrevious","getNext","HighlightApis","HighlightSchema","Highlighting","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","which","and","preds","isShift","isControl","isNotShift","classification","choose","transitions","reportFocusShifting","prevFocus","noChange","dom$2","focusee","highlights","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","onFocusHandler","focusInside","OnFocusMode","focusIn","tryGoInsideComponent","isEnterOrSpace","OnEnterOrSpaceMode","keyboardEvents","create$6","cyclicField","tabbingConfig","visibilitySelector","findInitial","tabstops","visibles","firstTabstop","findCurrent","focusManager","isTabstop","useTabstopAt","_tabbingState","goFromTabstop","stopIndex","cycle","cyclic","tabstop","optStopIndex","goBackwards","navigate","goForwards","execute","onEnter","exit","onEscape","AcyclicType","CyclicType","doDefaultExecute","defaultExecute","isComplex","stopEventForFirefox","_component","schema$v","execute$4","executeConfig","getKeydownRules$5","_executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","getKeyupRules$5","ExecutionType","flatgrid$1","setGridSize","numRows","numColumns","getNumRows","getNumColumns","init$d","KeyingState","flatgrid","useH","movement","use","west$1","moveLeft","moveRight","east$1","useV","north$1","south$1","move$1","isHidden$1","locate","locateVisible","visible","withGrid","numCols","oldRow","oldColumn","address","row","column","cycleHorizontal$1","onLastRow","colsInRow","newColumn","cycleVertical$1","newRow","newCol","cycleRight$1","cycleLeft$1","cycleUp$1","cycleDown$1","schema$u","focusIn$3","gridConfig","_gridState","first","findCurrent$1","execute$3","doMove$2","gridState","identified","handleTab","captureTab","doEscape$1","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$4","getKeyupRules$4","FlatgridType","horizontal","isDisabledButton","tryCycle","schema$t","flowConfig","execute$2","focusIn$2","_state","getInitial","moveLeft$2","moveRight$2","doMove$1","flowState","executeOnMove","doEscape","getKeydownRules$3","_flowState","westMovers","allowVertical","eastMovers","getKeyupRules$3","FlowType","toCell","matrix","rowIndex","columnIndex","cell","cycleHorizontal","startCol","deltaCol","newColIndex","cycleVertical","colIndex","startRow","deltaRow","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","cycleRight","cycleLeft","cycleUp","cycleDown","moveLeft$1","moveRight$1","moveUp$1","moveDown$1","schema$s","focusIn$1","matrixConfig","previousSelector","selectors","execute$1","toMatrix","rows","doMove","ifCycle","ifMove","cycles","inRow","cellsInRow","allRows","moveNorth","moveSouth","getKeydownRules$2","getKeyupRules$2","MatrixType","schema$r","menuConfig","moveUp","moveDown","fireShiftTab","menuState","moveOnTab","fireTab","getKeydownRules$1","getKeyupRules$1","MenuType","schema$q","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","SpecialType","acyclic","flow","execution","special","KeyboardBranches","isFlatgridState","keyState","Keying","keyConfig","sendFocusIn","set$2","replaceConfig","replaceState","childSpec","appendee","prepend","prependee","removee","foundChild","_replaceConfig","replaceAt","replaceeIndex","replacer","replacee","replaceBy","replaceePred","ReplaceApis","Replacing","events$d","eventHandlers","focus$2","focusConfig","ignore","onFocus","isFocused","FocusApis","exhibit$4","tabindex","events$c","stopMousedown","ActiveFocus","FocusSchema","Focusing","SetupBehaviourCellState","updateAriaState","toggleConfig","ariaInfo","aria","updateClass","toggle$2","set$1","isOn","ToggleApis","exhibit$3","events$b","toggleOnExecute","ActiveToggle","updatePressed","syncWithExpanded","updateExpanded","updateSelected","updateChecked","ToggleSchema","pressed","checked","expanded","Toggling","pointerEvents","onClick","events$a","optAction","executeHandler","hoverEvent","focusEvent","onHover","onFocus$1","hover","focus$1","builder$2","toggling","hasSubmenu","itemBehaviours","tConfig","ignoreFocus","schema$p","builder$1","schema$o","owner$2","parts$h","builder","focusWidget","widget","onHorizontalArrow","autofocus","setSource","_widget","widgetBehaviours","schema$n","itemSchema$2","separator","configureGrid","movementInfo","markers","configureMatrix","rowSelector","configureMenu","parts$g","itemInfo","unit","fakeFocus","schema$m","grid","make$7","_spec","_externals","menuBehaviours","selectedItem","role","Menu","transpose$1","trace","byItem","byMenu","triggerItem","triggerMenu","generate$2","menus","expansions","menuItems","menuPaths","_triggerItem","init$c","directory","isClear","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","getTriggeringItem","menuValue","getTriggerData","getItemByValue","getPreparedMenu","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","getTriggeringPath","extraPath","lookupItem","revPath","triggers","menuIndex","expand","refresh","lookupMenu","extractPreparedMenu","otherMenus","menuValues","getPrimary","getMenus","prep","LayeredState","make$6","_rawUiSpec","ExpandHighlightDecision","submenuParentItems","buildMenus","primaryName","makeSketch","nbMenu","layeredState","componentMap","toDirectory","getItemValue","_container","_menuName","setActiveMenu","mv","closeOthers","others","backgroundMenu","stayInDom","getSubmenuParents","parentItems","itemComp","updateAriaExpansions","updateMenuPath","latestMenuName","menuPrep","activeMenu","buildIfRequired","expandRight","HighlightSubmenu","activeMenuPrep","onOpenSubmenu","collapseLeft","onCollapseMenu","updateView","keyOnItem","getSource","onExecute","onOpenMenu","highlightImmediately","navigateOnHover","HighlightParent","getActiveItem","collapseMenuApi","currentItem","highlightPrimary","extractMenuFromContainer","repositionMenus","maybeActivePrimary","allMenus","preparedMenus","primaryMenu","onRepositionMenu","collapseMenu","tmenuBehaviours","_keyInfo","selectedMenu","collapseItem$1","tieredData","singleData","collapseItem","tieredMenu","tmenu","makeMenu","menuSandbox","menuSpec","lazySink","isFirstTierSubmenu","triggeringPaths","getSubmenuLayouts","submenuTriggers","st","submenuLayouts","factory$m","isPartOfRelated","related","getRelated","thing","showAt","showWithin","showWithinBounds","showMenuAt","showMenuWithinBounds","inlineBehaviours","onShow","onHide","fireDismissalEventInstead","fireRepositionEventInstead","InlineView","westEdgeX","middleX","eastEdgeX","northY","southY","centreY","lookupPreserveLayout","preserve","lookupFlippedLayout","flip$2","global$f","factory$l","lookupAttr","getModAttributes","roleAttrs","buttonBehaviours","Button","record","anyInSystem","asSpec","global$e","rtlTransform","defaultIconName","defaultIcon","getIconName","lcName","rtlName","lookupIcon","iconProvider","fallbackIcon","needsRtlTransform","addFocusableBehaviour","renderIcon$2","rtlIconClasses","iconHtml","render$3","renderFirst","iconNames","notificationIconMap","warning","factory$k","memBannerText","translationProvider","renderPercentBar","percent","renderPercentText","memBannerProgress","progress","updateProgress","updateText","banner","iconChoices","memButton","notificationIconSpec","notificationBodySpec","closeButton","Notification","NotificationManagerImpl","extras","uiMothership","sharedBackstage","backstage","shared","getLayoutDirection","notifications","notification","moveRel","closeCallback","hideCloseButton","timeout","notificationWrapper","progressBar","providers","getSink","isPositionedAtTop","contentArea","getContentAreaContainer","win$1","notificationSpec","anchorOverrides","layoutDirection_1","nodeAnchor","getArgs","ItemResponse","rate","global$d","autocompleteSelector","create$5","normalize","isValidTextRange","isWhitespace","stripTriggerChar","triggerCh","findChar","findStart","initRange","minChars","findTriggerChIndex","triggerCharIndex","triggerChar","setup$e","onKeypress","redirectKeyToItem","getView","cancelIfNecessary","isMenuOpen","isProcessingAction","AutocompleterEditorEvents","global$c","isElement$1","toLast","isPreviousCharContent","isStartOfWord","getTriggerContext","database","triggerChars","lookup$2","getDatabase","lookupWithContext","fetchOptions","startText","autocompleters","lookupByChar","autocompleter","lookupData","ac","fetchResult","maxResults","matchText","highlightOn","separatorMenuItemSchema","createSeparatorMenuItem","autocompleterItemSchema","autocompleterSchema","createSeparatorItem","createAutocompleterItem","createAutocompleter","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","createContextForm","contextToolbarSchema","createContextToolbar","stringArray","register$b","popups","getAll","popup","datasetValues","dv","ToolbarMode","ItemResponse$1","navClass","selectableClass","colorClass","presetClasses","normal","tickedClass","groupHeadingClass","iconClass","textClass","accessoryClass","caretClass","checkmarkClass","activeClass","containerClass","containerColumnClass","containerRowClass","containerAlignRightClass","containerAlignLeftClass","containerValignTopClass","containerValignMiddleClass","containerValignBottomClass","classForPreset","forMenu","hasIcons","menuClasses","dom$1","chunk","rowDom","forSwatch","forToolbar","preprocessCollection","isSeparator","allSplits","currentSplit","forCollection","initItems","_hasIcons","_item","forHorizontalCollection","menuHasIcons","createHorizontalPartialMenuWithAlloyItems","_columns","_presets","structure","createPartialMenuWithAlloyItems","cardImageFields","cardImageSchema","cardTextFields","cardTextSchema","itemSchema$1","cardimage","cardtext","cardcontainer","cardContainerSchema","commonMenuItemFields","cardMenuItemSchema","createCardMenuItem","choiceMenuItemSchema","createChoiceMenuItem","baseFields","insertTableFields","colorSwatchFields","fancyMenuItemSchema","inserttable","colorswatch","createFancyMenuItem","menuItemSchema","createMenuItem","nestedMenuItemSchema","createNestedMenuItem","toggleMenuItemSchema","createToggleMenuItem","detectSize","margin","selectorClass","descendants$1","columnLength","thisTop","cTop","ceil","namedEvents","unnamedEvents","SimpleBehaviours","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","hideAllExclusive","_tConfig","_tState","setComponents","tState","specs","getTooltip","TooltippingApis","events$9","tooltipConfig","clearTooltip","clearTimer","isShowing","tooltipDom","tooltipComponents","setTooltip","resetTimer","ActiveTooltipping","TooltippingSchema","init$b","TooltippingState","Tooltipping","getSkinUrl","skin","skinUrl","skinName","baseURL","isSkinDisabled","getHeightSetting","getWidthSetting","getMinWidthSetting","getMinHeightSetting","getMaxWidthSetting","getMaxHeightSetting","getUserStyleFormats","isMergeStyleFormats","getLineHeightFormats","getContentLanguages","getRemovedMenuItems","isMenubarEnabled","isToolbarEnabled","toolbar","isToolbarTrue","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsSetting","toolbars","toolbarArray","ToolbarLocation","getToolbarMode","_a$1","getToolbarGroups","getToolbarLocation","auto","isToolbarLocationBottom","fixedContainerSelector","fixedToolbarContainerTarget","isToolbarPersist","fixedContainerTarget","useFixedContainer","getUiContainer","fixedContainer","isDistractionFree","isStickyToolbar","getStickyToolbarOffset","isDraggableModal$1","getMenubar","getToolbar","getFilePickerCallback","getFilePickerTypes","getFileBrowserCallbackTypes","noTypeaheadUrls","getAnchorTop","getAnchorBottom","getFilePickerValidatorHandler","ReadOnlyChannel","ReadOnlyDataSchema","broadcastReadonly","uiComponents","readonly","outerContainer","mothership","setupReadonlyModeSwitch","setMode","receivingConfig","splitButton","toolbarButton","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onControlDetached","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","providersbackstage","optComponents","buildData","convertText","ctrl","access","updated","renderIcon$1","renderText","renderHtml","renderStyledText","renderShortcut","renderCheckmark","renderSubmenuCaret","renderDownwardsCaret","renderContainer","directionClass","alignClass","getValignClass","valign","renderColorStructure","providerBackstage","colorPickerCommand","removeColorCommand","itemText","ariaLabel","iconSvg","iconContent","getDom","common","baseDom","renderItemDomStructure","domTitle","renderNormalItemStructure","providersBackstage","renderIcons","iconSpec","renderIcon","renderEmptyIcon","leftIcon","checkmark","checkMark","textRender","htmlContent","menuItem","shortcutContent","caret","renderItemStructure","tooltipBehaviour","tooltipWorker","_tooltip","encodeText","replaceText","translated","encoded","escapedMatchRegex","renderAutocompleteItem","useText","onItemValueHandler","render$2","shouldHighlight","cardText","renderCardMenuItem","renderChoiceItem","parts$f","hexColour","shorthandRegex","longformRegex","isHexString","hex","normalizeHex","fromString$1","getLongForm","hexString","extractValues","longForm","splitForm","fromRgba","rgbaColour","red","green","blue","round$1","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","chroma","fromHex","fromStringValues","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","fireSkinLoaded$1","fireSkinLoadError$1","fireResizeEditor","fireResizeContent","fireScrollContent","fireTextColorChange","hsvColour","fromRgb","minRGB","maxRGB","hexToHsv","hsvToHex","anyToHex","canvasContext","clearRect","storageName","ColorCache","storageString","localstorage","prune","diff","unshift","FocusMode","choiceItem","defaultColors","colorCache","mapColors","colorMap","colors","getColorCols$2","defaultCols","hasCustomColors$1","getColorMap","getColors$2","unmapped","getCurrentColors","addColor","fallbackColor","getCurrentColor","applyFormat","removeFormat","registerCommands","calcCols","getColorCols$1","getAdditionalColors","hasCustom","applyColor","onChoice","dialog","colorPickerDialog","colorOpt","getColors$1","getFetch$1","setIconColor","newColor","setIconFill","registerTextColorButton","lastColor","optCurrentRgb","currentRgb","currentHex","registerTextColorMenuItem","fancytype","isValid","colorpicker","onCancel","register$a","lastForeColor","lastBackColor","createPartialChoiceMenu","presetItemTypes","alloyItems","createChoiceItems","itemPresets","deriveMenuMovement","menuMarkers","rowClass","deriveCollectionMovement","renderColorSwatchItem","getColorItems","colorinput","getColorCols","widgetSpec","useCustomColors","initData","allowCustomColors","hasCustomColors","getColors","cellOverEvent","cellExecuteEvent","makeCell","col","labelId","emitCellOver","se","makeCells","selectCells","selectedRow","selectedColumn","makeComponents","cellRow","makeLabelText","renderInsertTableMenuItem","sizeLabelId","emptyLabelText","memLabel","fancyMenuItems","renderFancyMenuItem","renderNestedItem","downwardsCaret","renderNormalItem","renderSeparatorItem","renderToggleMenuItem","autocomplete","separator$3","toggle$1","fancy","card","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createAutocompleteItems","createPartialMenu","itemHasIcon","createPartial","createTieredDataFrom","partialMenu","createMenuFrom","focusMode","ContentFocus","register$9","activeAutocompleter","processingAction","hideIfNecessary","lastElement","getAutocompleters","getCombinedItems","choices","itemMeta","nr","autocompleterApi","reload","BUBBLE_TO_SANDBOX","commenceIfNecessary","matchLength","ld","doLookup","newContext","lookupInfo","combinedItems","autocompleterUiApi","Autocompleter","DelayedFunction","fun","ref","schedule","SIGNIFICANT_MOVE","LONGPRESS_DELAY","getTouch","touches","isFarEnough","distX","distY","monitor","startData","longpressFired","longpress$1","handleTouchstart","handleTouchmove","handleTouchend","isSame","fireIfReady","isDangerous","keyEv","bindFocus","bindBlur","setup$d","rawSettings","stopBackspace","tapEvent","simpleEvents","tapStopped","stopped","pasteTimeout","onPaste","onKeydown","onFocusIn","focusoutTimeout","onFocusOut","derive","rawTarget","fromSource","isStopped","isCut","fromExternal","adt$1","resume","complete","doTriggerHandler","eventType","handlerInfo","eventHandler","doTriggerOnUntilStopped","triggerHandler","_logger","triggerUntilStopped","triggerOnUntilStopped","broadcastHandler","EventRegistry","registerId","findHandler","filterByType","isAboveRoot","unregisterId","handlersById","_eventName","Registry","readOrTag","failOnDuplicate","tagId","conflict","unregister","getById","factory$j","domWithoutAttributes","containerBehaviours","Container","takeover","domEvents","_alloyId","broadcast$1","broadcastData","receivers","receiver","renderBar","interpreter","schema$l","parts$e","excludeFactory","factory$i","fieldBehaviours","descriptorId","getField","getLabel","FormField","exhibit$2","tabConfig","tabAttr","ActiveTabstopping","TabstopSchema","Tabstopping","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormField","renderFormFieldDomWith","renderFormFieldDom","renderLabel$2","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderCollection","runOnItem","htmlLines","mapItemName","disabledClass","tgt","collectionEvents","currentActive","iterCollectionItems","applyAttributes","childElm","schema$k","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","inputAttributes","inputClasses","factory$h","Input","promise","setTimeoutFunc","thisArg","Promise","_handled","_deferreds","doResolve","deferred","_immediateFn","cb","onFulfilled","onRejected","finale","_unhandledRejectionFn","Handler","reason","prom","remaining","race","setImmediate","_setImmediateFn","_setUnhandledRejectionFn","promisePolyfill","promisePolyfill_1","HighlightOnOpen","Promise$1","nu$3","baseFn","nCallback","isReady","cbs","pure$1","LazyValue","pure","errorReporter","make$5","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","Future","ariaElements","isAriaElement","markValid","invalidConfig","invalidClass","notify","notifyInfo","validHtml","onValid","markInvalid","invalidState","onInvalid","_invalidState","validatorInfo","onValidate","valid","isInvalid","InvalidateApis","events$8","onEvent","validateOnLoad","ActiveInvalidate","InvalidateSchema","Invalidating","validation","getCoupled","coupleConfig","coupleState","getOrCreate","CouplingApis","CouplingSchema","init$a","coupled","CouplingState","Coupling","partType$1","getAnchor","getHotspot","getAnchorOverrides","mapFetch","fetcher","openF","highlightOnOpen","futureData","getLazySink","tdata","HighlightFirst","onOpenSync","processed","_onOpenSync","_highlightOnOpen","togglePopup","showing","matchWidth","useMinWidth","buttonWidth","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox$1","ariaOwner","sandboxClasses","sandboxBehaviours","sandboxFields","schema$j","parts$d","factory$g","switchToMenu","HighlightNone","triggerExecute","dropdownBehaviours","Dropdown","exhibit$1","unselectable","events$7","ActiveUnselecting","Unselecting","renderPanelButton","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","emitSwatchChange","colorBit","memColorButton","colorPicker","valueOpt","colorButton","_field","labelPart","edgePart","model","edgeActions","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","ledgePart","thumbPart","spectrumPart","modelDetail","getValueFromEvent","spectrum","SliderParts","_sliderChangeEvent","sliderChangeEvent","isTouchEvent$2","getEventSource","touchEvent","mouseEvent","minX","minY","min1X","min1Y","max1X","max1Y","xRange","yRange","halfX","halfY","step","stepSize","snap","snapToGrid","snapStart","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","xValue","yValue","xyValue","fireSliderChange$3","setToTLEdgeXY","setToTEdge","setToTEdgeXY","setToTREdgeXY","setToREdge","setToREdgeXY","setToBREdgeXY","setToBEdge","setToBEdgeXY","setToBLEdgeXY","setToLEdge","setToLEdgeXY","reduceBy","increaseBy","capValue","snapValueOf","extraValue","adjustment","rawSteps","maxSteps","numSteps","findOffsetOf","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOfValue$2","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$2","sliderValue$2","findValueOfOffset$1","setValueFrom$2","sliderVal","setToMin$2","setToMax$2","moveBy$2","handleMovement$2","getValueFromEvent$2","findOffsetOfValue$1","minEdge","maxEdge","minOffset","findPositionOfValue$1","slider","setPositionFromValue$2","thumb","edges","getSpectrum","getLeftEdge","getRightEdge","thumbRadius","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","HorizontalModel","setToMin","setToMax","findValueOfOffset","findPositionOfValue","setPositionFromValue","fireSliderChange$1","sliderValue$1","setValueFrom$1","setToMin$1","setToMax$1","moveBy$1","handleMovement$1","getValueFromEvent$1","findOffsetOfValue","setPositionFromValue$1","getTopEdge","getBottomEdge","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","fireSliderChange","sliderValue","moveBy","isVerticalMovement","handleMovement","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","TwoDModel","SliderSchema","sketch$2","getThumb","changeValue","resetToMin","resetToMax","fireOnChoose","onChoose","wasDown","onDragStart","onDragEnd","sliderBehaviours","getInitialValue","onInit","Slider","fieldsUpdate","sliderUpdate","paletteUpdate","sliderFactory","getClass","_thumb","owner$1","schema$i","getPartName$1","sketch$1","fSpec","fieldParts","make$4","formBehaviours","form","resPs","resPThunk","pName","Form","validInput","invalidInput","validatingInput","translatePrefix","rgbFormFactory","onValidHexx","onInvalidHexx","invalidation","renderTextField","helptext","comps","concats","copyRgbToHex","hexField","copyRgbToForm","rgb","memPreview","updatePreview","copyHexToRgb","setValueRgb","getValueRgb","onInvalidInput","onValidHex","onValidRgb","isHexInputEvent","onValidInput","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","rgbFormSketcher","paletteFactory","_translate","setColour","ctx","grdWhite","createLinearGradient","addColorStop","grdBlack","setPaletteHue","setPaletteThumb","_slider","saturationBrightnessPaletteSketcher","setHue","_apis","setThumb","makeFactory","rgbForm","onInvalidHex","sbPalette","hueSliderToDegrees","hueDegreesToSlider","paletteRgba","paletteHue","memSlider","memPalette","memRgb","updatePalette","_hex","palette","updateFields","updateSlider","updatePaletteThumb","runUpdates","updates","onPaletteUpdate","oldHue","newHsv","newHex","onSliderUpdate","oldRgb","oldHsv","onFieldsUpdate","colourPickerSketcher","self$1","memento$1","mem","childAt","ComposingConfigs","memento","english","getEnglishText","translate$1","renderColorPicker","colourPickerFactory","memPicker","picker","optRgbForm","optHex","formValues","isOldCustomEditor","renderCustomEditor","editorApi","memReplaced","ta","scriptId","scriptUrl","ea","cvalue","ed","processors","rawProcessors","rawValue","postprocess","withComp","optInitialValue","getter","setter","withElement","domValue","domHtml","RepresentingConfigs","filterByExtension","allowedImageFileTypes","getSetting","isFileInAllowedTypes","renderDropZone","actions","onDrop","transferEvent","handleFiles","onSelect","memInput","accept","renderField","inputComp","renderGrid","beforeObject","afterObject","craftWithClasses","outline","craft","triggerTab","isPseudoStop","platformNeedsSandboxing","getDynamicSource","isSandbox","cachedValue","_frameComponent","frameComponent","contentWindow","renderIFrame","sourcing","create$4","resize$3","tCanvas","get2dContext","getWidth$1","getHeight$1","blobToImage","blobUrl","URL","createObjectURL","removeListeners","loaded","dataUriToBlobSync","mimetype","sliceSize","byteCharacters","bytesLength","slicesCount","byteArrays","sliceIndex","begin","bytes","Blob","dataUriToBlob","canvasToBlob","quality","toBlob","canvasToDataURL","blobToCanvas","revokeImageUrl","blobToDataUri","revokeObjectURL","create$3","getCanvas","initialType","toBase64","toAdjustedBlob","toAdjustedDataURL","toAdjustedBase64","dataurl","toCanvas","fromBlob","fromCanvas","blobToImageResult","clamp","parsedValue","DELTA_INDEX","multiply","matrix1","matrix2","adjustContrast","adjustBrightness","adjustColors","adjustR","adjustG","adjustB","colorFilter","ir","applyColorFilter","applyMatrix","pixelsData","m0","m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","pixels","putImageData","convoluteFilter","applyConvoluteFilter","pIn","pOut","aMatrix","halfSide","drgba","cy","cx","scx","scy","innerOffset","wt","pixelsIn","pixelsOut","functionColorFilter","colorFn","filterImpl","applyLookup","complexAdjustableColorFilter","matrixAdjustFn","adjust","basicColorFilter","basicConvolutionFilter","kernel","invert$1","brightness$1","contrast$1","colorize$1","sharpen$1","gamma$1","dW","dH","sW","sH","wRatio","hRatio","scaleCapped","scaled","_scale","ceilWithPrecision","precision","mul","upper","rotate$1","angle","applyRotate","degrees","rad","flip$1","axis","applyFlip","crop$1","applyCrop","resize$2","newCanvas","invert","sharpen","gamma","colorize","contrast","flip","resize$1","iconsProvider","renderIconFromPack","renderReplacableIconFromPack","renderLabel$1","internalToolbarButtonExecute","onToolbarButtonExecute","itemApi","toolbarButtonEventOrder","updateMenuText","updateMenuIcon","renderCommonDropdown","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","dropdown","tooltipAttributes","translatedTooltip","memDropdown","displayIcon","isMenuItemReference","isSeparator$1","isExpandingMenuItem","separator$2","unwrapReferences","realItems","getFromExpandingItem","submenuItems","newMenus","newExpansions","getFromItem","generateValueIfRequired","itemWithValue","mainMenu","submenus","getMenuButtonApi","renderMenuButton","_comp","getFetch","getButton","getMenuItemAction","storage","orig","getMenuItemSetup","renderCommonSpec","actionOpt","domFinal","renderIconButtonSpec","renderIconButton","iconButtonSpec","renderButtonSpec","translatedText","renderButton","buttonSpec","getAction","buttonType","isMenuFooterButtonSpec","isNormalFooterButtonSpec","renderFooterButton","memButton_1","menuButtonSpec","fixedSpec","renderDialogButton","schema$h","coupledPart","selfName","otherName","lock","onLockedChange","parts$c","locked","lockClass","factory$f","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","FormCoupledInputs","formatSize","unitDec","maxDecimal","numText","parseSize","sizeText","numPattern","convertUnit","inInch","noSizeConversion","_input","ratioSizeConversion","makeRatioConverter","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","renderSizeInput","converter","ratioEvent","makeIcon","pLock","formGroup","getFieldPart","isField1","widthField","heightField","_lock","newSize","optCurrent","optOther","value1","value2","undo","redo","back","apply$1","swap","transform$1","tempTransform","transformApply","saveState","renderEditPanel","imagePanel","createButton","createIconButton","disableAllComponents","eventcomp","enableAllComponents","panelDom","noop$1","emit$1","emitDisable","emitEnable","emitTransform","emitTempTransform","getBackSwap","memContainer","ButtonPanel","emitTransformApply","createBackButton","createSpacer","createApplyButton","makeCropTransform","getRect","cropPanelComponents","hideCrop","CropPanel","memSize","makeResizeTransform","resizePanelComponents","ResizePanel","makeValueTransform","horizontalFlip","verticalFlip","counterclockwiseRotate","clockwiseRotate","flipRotateOnAction","operation","flipRotateComponents","FlipRotatePanel","makeSlider","makeVariableSlider","valTransform","variableFilterPanelComponents","createVariableFilterPanel","filterPanelComponents","FilterPanel","BrightnessPanel","ContrastPanel","GammaPanel","makeColorTransform","makeColorSlider","redOpt","memRed","blueOpt","memBlue","greenOpt","memGreen","colorizePanelComponents","ColorizePanel","getTransformPanelEvent","panel","cropPanelUpdate","_anyInSystem","showCrop","resizePanelUpdate","measurements","getMeasurements","sharpenTransform","invertTransform","buttonPanelComponents","getApplyButton","getDocumentSize","scrollWidth","scrollHeight","isTouchEvent$1","updateWithTouchData","DragHelper","_c","eventOverlay","downButton","handleEvents","overlayEvents","handleElement","getElementById","docSize","screenX","screenY","cursor","drag","deltaX","create$2","currentRect","viewPortRect","clampRect","containerElm","dragHelpers","handles","xMul","yMul","deltaW","deltaH","blockers","getAbsoluteRect","outerRect","relativeRect","getRelativeRect","innerRect","getInnerRect","moveRect","startRect","setInnerRect","createDragHelper","cropContainer","blocker","blockerElm","cropBlocker","handleElm","cropHandle","repaint","handleFocus","handleKeydown","activeHandle","moveAndBlock","SPACEBAR","toggleVisibility","elems","updateElementRect","newRect","setRect","setViewPortRect","setClampRect","helper","CropRect","loadImage","renderImagePanel","initialUrl","memBg","zoomState","cropRect","rectState","viewRectState","repaintImg","panelW","panelH","bg","cRect","zoomFit","updateSrc","aImg","lastViewRect","viewRect","inflate","currentZoom","newZoom","setButtonEnabled","enabled","renderSideBar","updateButtonUndoStates","undoEnabled","redoEnabled","memUndo","memRedo","UndoStack","removed","canUndo","canRedo","Delimiter","makeState","blobState","tempState","undoStack","getBlobState","setBlobState","getTempState","updateTempState","newTempState","createState","destroyTempState","destroyState","destroyStates","states","addBlobState","addTempState","applyTempState","postApply","temp","getHistoryStates","renderImageTools","historyStates","sideBar","disableUndoRedo","_oImg","imageResultToBlob","editPanel","applyButton","blobManipulate","manipulate","tempManipulate","manipulateApply","currentUrl","renderLabel","backstageShared","isSingleListItem","dataAttribute","fetchItems","dropdownComp","selectedValue","findItemByValue","renderListBox","initialItem","sketchSpec","listBoxWrap","renderPanel","factory$e","initialValues","selectClasses","selectAttributes","selectBehaviours","HtmlSelect","renderSelectBox","translatedOptions","chevron","selectWrap","renderTable","renderTh","renderHeader","renderTd","renderTr","renderRows","baseInputBehaviours","multiline","validatingBehaviours","inputmode","classname","flex","extraClasses2","renderInput","renderTextarea","events$6","streamConfig","streamState","streams","stream","cancelEvent","ActiveStreaming","_config","setTimer","init$9","StreamingState","setup$c","streamInfo","sInfo","throttler","onStream","stopEvent","StreamingSchema","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","setSelectionToEnd","attemptSelectOver","selectsOver","inputDisplay_1","getDisplayText","itemDisplay","itemExecute","make$3","navigateList","highlighter","previewing","focusBehaviours$1","responseTime","focusInInput","previousValue_1","pv","sandboxIsOpen","openClass","onItemExecute","dismissOnBlur","typeahead","typeaheadBehaviours","schema$g","parts$b","populateFromBrowse","Typeahead","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","errorThunk","timedOut","fromFuture","future","fromPromise","completer","FutureResult","separator$1","toMenuItem","staticMenuItem","toMenuItems","filterLinkTargets","filteredTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","historyTargets","history","joinMenuLists","bothEmpty","filterByQuery","term","lowerCaseTerm","fileType","urlBackstage","urlInputValue","getLinkInformation","getHistory","errorId","renderUrlInput","updateHistory","urlEntry","addToHistory","memUrlBox","_newValue","getValidationHandler","memInvalidIcon","invalidComp","_menu","_entry","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","controlHWrapper","openUrlPicker","componentData","urlData","fieldname","chosenData","renderAlertBanner","iconTooltip","renderCheckbox","repBehaviour","toggleCheckboxHandler","memIcons","renderHtmlPanel","make$2","makeIframe","iframeSpec","factories","bar","collection","alertbanner","textarea","checkbox","dropzone","listbox","selectbox","sizeinput","urlinput","customeditor","htmlpanel","imagetools","table","noFormParts","interpretInForm","oldBackstage","newBackstage","interpretParts","interpretWithoutForm","bubbleAlignments$2","valignCentre","alignCentre","alignLeft","alignRight","getInlineDialogAnchor","contentAreaElement","lazyAnchorbar","lazyUseEditableAreaAnchor","bubbleSize","editableAreaAnchor","standardAnchor","getBannerAnchor","getCursorAnchor","bodyElement","getNodeAnchor$1","isToolbarTop","useFixedToolbarContainer","inlineDialog","ColorInputBackstage","isDraggableModal","DialogBackstage","HeaderBackstage","getDockingMode","setDockingMode","defaultStyleFormats","isNestedFormat","isBlockFormat","isInlineFormat","isSelectorFormat","mapFormats","userFormats","customFormats","formatName","formatNameWithPrefix","registerCustomFormats","getStyleFormats","registeredUserFormats","processBasic","isSelectedFor","getPreviewFor","formatterSpec","getStylePreview","register$8","enrichSupported","enrichMenu","submenuSpec","enrichCustom","customSpec","newItem","doEnrich","newItems","getStyleItems","init$8","getCssText","settingsFormats","settingsFlattenedFormats","eventsFormats","eventsFlattenedFormats","replaceSettings","enriched","modifications","fromSettings","fromEvents","getFlattenedKeys","hasContentEditableState","isContentEditableTrue","create$1","isChildOfContentEditableTrue","getElementText","getOrGenerateId","isValidAnchor","isEditable","isHeader","isValidHeader","getLevel","headerTarget","headerId","anchorTarget","anchorId","anchorText","getHeaderTargets","getAnchorTargets","getTargetElements","hasTitle","LinkTargets","STORAGE_KEY","HISTORY_LENGTH","isHttpUrl","isArrayOfUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","SyntaxError","setAllHistory","itemsWithoutUrl","isTruthy","getPicker","getPickerTypes","optFileTypes","optLegacyTypes","optTypes","_picker","getPickerSetting","pickerTypes","getTextSetting","UrlInputBackstage","init$7","contextMenuState","styleselect","isContextMenuOpen","setContextMenuState","setup$b","ship","channel","fireDismissPopups","onTouchstart","onTouchmove","onTouchend","onMousedown","onMouseup","onContentClick","onContentMouseup","onContentMousedown","loopEditor","relatedTarget","onWindowScroll","onWindowResize","onEditorResize","onEditorProgress","onDismissPopups","parts$a","partType","schema$f","customListDetail","itemsPart","parts$9","factory$d","_external","setItems","getListContainer","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","shell","listBehaviours","CustomList","schema$e","enhanceGroups","parts$8","factory$c","setGroups","groups","getGroupContainer","toolbarBehaviours","Toolbar","setup$a","isDocked$2","getBehaviours$1","StaticHeader","isDocked","getBehaviours","getOffsetParent","isFixed","offsetParent$1","getOrigin","morphAdt","static","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isPartiallyVisible","isTopCompletelyVisible","isBottomCompletelyVisible","isVisibleForModes","getPrior","getInitialPos","storePrior","setInitialPos","revertToOriginal","clearInitialPos","offsetBox_1","_left","_top","_right","_bottom","morphToOriginal","getModes","morphToFixed","winBox","top_1","isTop","getMorph","getMorphToOriginal","morphToStatic","setDocked","onUndocked","morphToCoord","onDocked","updateVisibility","morphToDocked","contextInfo","lazyContext","setVisible","refreshInternal","lazyViewport","morph","resetInternal","refresh$4","isDocked$1","setModes","DockingApis","events$5","dockInfo","dockState","onShown","onHidden","ActiveDocking","DockingSchema","init$6","docked","initialBounds","DockingState","Docking","toolbarHeightChange","editorStickyOnClass","editorStickyOffClass","scrollFromBehindHeader","containerHeader","viewHeight","innerHeight","markerElement","markerPos","markerHeight","markerTop","markerBottom","editorHeaderPos","editorHeaderHeight","editorHeaderTop","editorHeaderBottom","editorHeaderDockedAtTop","editorHeaderDockedAtBottom","isDockedMode","updateIframeContentFlow","getOccupiedHeight","parentElem","padding","parentWidth","updateSinkVisibility","sinkElem","updateEditorClasses","restoreFocus","headerElem","focusedElem","ownerDoc","activeElm","findFocusedElem","setup$9","lazyHeader","getIframeBehaviours","focusedElm","runOnSinkElement","onDockingSwitch","additionalBehaviours","headerHeight","boxHeight","topBound","StickyHeader","sticky","groupToolbarButtonSchema","createGroupToolbarButton","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","createSplitButton","factory$b","setMenus","activeButton","hoveredButton","activeComp","hoveredComp","SilverMenubar","getAnimationRoot","slideConfig","getDimensionProperty","disableTransitions","shrinkingClass","growingClass","setShrunk","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","shrinker","doStartGrow","wasShrinking","beforeSize","fullSize","startPartialGrow","startCompleteGrow","setStartSize","setExpanded","onStartGrow","refresh$3","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isGrowing","_slideState","isShrinking","isTransitioning","toggleGrow","SlidingApis","events$4","onGrown","ActiveSliding","SlidingSchema","init$5","SlidingState","Sliding","schema$d","getPartName","sSpec","slot","make$1","getSlotNames","getSlot","onSlot","onSlots","doShowing","doShow","doHide","hideSlot","hideSlots","hideAllSlots","showSlot","slotBehaviours","slotApis","SlotContainer","sidebarSchema","createSidebar","setup$8","sidebars","queryCommandValue","handleToggle","makePanels","panelConfigs","bridged","sidepanel","optSidePanelSpec","sidePanelSpec","makeSidebar","slotContainer","setSidebar","sidebar","optSlider","toggleSidebar","optSlotContainer","whichSidebar","sidebarOpen","fixSize","autoSize","renderSidebar","getBusySpec","blockerBehaviours","blockSpec","isBlocked","onBlock","blockWith","onUnblock","BlockingApis","BlockingSchema","init$4","BlockingState","Blocking","getAttrs","getBusySpec$1","_root","_behaviours","focusBusyComponent","throbber","toggleEditorTabIndex","tabIndexAttr","dataTabIndexAttr","toggleThrobber","throbberFocus","busyComp","renderThrobber","isFocusEvent","isPasteBinTarget","setup$7","lazyThrobber","throbberState","stealFocus","within","withinWidth","apportion","total","parray","toUnit","fitLast","overflower","fitAll","tryFit","divide","setGroups$1","storedGroups","bGroups","findFocusedComp","refresh$2","setOverflow","builtGroups","overflowGroup","focusedComp","availableWidth","overflows","schema$c","schema$b","parts$7","expandable","schema$a","parts$6","toggledClass","toolbarSandbox","bounder","makeSandbox","factory$a","FloatingToolbarButton","schema$9","parts$5","factory$9","tgroupBehaviours","itemSelector","ToolbarGroup","buildGroups","refresh$1","memFloatingToolbarButton","overflowGroups","floatingToolbarButton","factory$8","getOverflowBounds","overflowToggledClass","splitToolbarBehaviours","getOverflow","SplitFloatingToolbar","schema$8","parts$4","onClosed","onOpened","toggleToolbar","overf","factory$7","toolbarToggleEvent","doSetGroups","_button","SplitSlidingToolbar","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarbehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","overflowXOffset","moreDrawerData","headerBounds","docElem","docBounds","renderSlidingMoreToolbar","renderToolbar","scrolling","factory$6","getSocket","getHeader","setToolbar","setToolbars","mToolbar","refreshToolbar","toggleToolbarDrawer","isToolbarDrawerToggled","getThrobber","focusToolbar","optToolbar","setMenubar","menubar","focusMenubar","partMenubar","toolbarFactory","sliding","floating","partMultipleToolbar","_mToolbar","tc","_index","partToolbar","renderer","lazyToolbar","lazyMoreButton","partHeader","partSocket","partSidebar","partThrobber","OuterContainer","grps","grp","renderedToolbars","defaultMenubar","defaultMenus","edit","tools","help","removedMenuItems","itemName","removedMenuItem","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","isDefaultMenu","menuData","isNotSeparator","fireSkinLoaded","_skinLoaded","initialized","fireSkinLoadError","loadStylesheet","stylesheetUrl","styleSheetLoader","unload","loadUiSkins","skinUiCss","loadShadowDomUiSkins","isInShadowRoot$1","shadowDomSkinCss","loadSkin","isInline","onSetupFormatToggle","boundCallback","binding","formatChanged","onSetupEvent","handleEvent","onActionToggleFormat$1","rawItem","onActionExecCommand","generateSelectItems","_editor","generateItem","si","invalid","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","getComponent","rawFormats","buildBasicStaticDataset","ResizeTypes","delimiter","SemiColon","buildBasicSettingsDataset","settingName","alignMenuItems","getSpec$4","getMatchingValue","_format","updateSelectMenuIcon","alignment","canApply","createAlignSelect","alignSelectMenu","defaultFontsFormats","systemStackFonts","splitFonts","fontFamily","fonts","font","isSystemFontStack","matchesSystemStack","getSpec$3","systemFont","getFirstFont","matchOpt","updateSelectMenuText","createFontSelect","fontSelectMenu","defaultFontsizeFormats","legacyFontSizes","keywordFontSizes","factor","toPt","fontSize","toLegacy","getSpec$2","pt","legacy","Space","createFontsizeSelect","fontsizeSelectMenu","findNearest","getStyles","defaultBlocks","getSpec$1","fallbackFormat","detectedFormat","createFormatSelect","formatSelectMenu","getSpec","getFormatItems","flattenedItems","createStyleSelect","styleSelectMenu","events$3","reflectingConfig","reflectingState","renderComponents","newComponents","rawData","ActiveReflecting","reflectState","ReflectingApis","ReflectingSchema","init$3","ReflectingState","Reflecting","schema$7","arrowPart","arrow","buttonPart","btn","splitDropdown","parts$3","factory$5","openMenu","executeOnButton","buttonEvents","ariaDescriptor","splitDropdownBehaviours","SplitDropdown","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","renderCommonStructure","_d","renderFloatingToolbarButton","identifyButtons","renderCommonToolbarButton","specialisation","toolbarButtonBehaviours","renderToolbarButton","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButton","renderToolbarToggleButtonWith","fetchChoices","renderSplitButton","displayChannel","underlinePath","setIconStroke","buttonComp","defaultToolbar","renderFromBridge","bridgeBuilder","togglebutton","menubutton","splitbutton","grouptoolbarbutton","identify","allowToolbarGroups","TopToBottom","styleSelectButton","fontsizeSelectButton","fontSelectButton","formatButton","alignMenuButton","extractFrom","bespokeButtons","fontsizeselect","fontselect","formatselect","removeUnusedDefaults","filteredItemGroups","subItem","convertStringToolbar","strToolbar","groupsStrings","isToolbarGroupSettingArray","createToolbar","toolbarConfig","lookupButton","toolbarItem","toolbarGroups","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","setupEvents$1","initialDocEle","lastWindowDimensions","innerWidth","lastDocumentDimensions","resizeWindow","resizeDocument","docEle","elementLoad","render$1","lastToolbarWidth","eTargetNode","uiRoot","socket","limit","unbinder","addQueryValueHandler","toolbarMode","refreshDrawer","iframeContainer","Iframe","parseToInt","numToPx","calcCappedSize","minSize","maxSize","minOverride","maxOverride","getHeight","baseHeight","getHeightWithFallback","getWidth","baseWidth","getWidthWithFallback","InlineHeader","floatContainer","isSticky","editorMaxWidthOpt","headerBackstage","isSplitToolbar","calcToolbarOffset","tbar","calcMode","toolbar_1","toolbarHeight","targetBounds","roomAtTop","docHeight","roomAtBottom","winBounds","isRoomAtBottomViewport","setupMode","verticalDir","updateChromeWidth","bodyMargin","updateChromePosition","repositionPopups$1","updateChromeUi","resetDocking","floatContainerComp","updateMode","updateUi","currentMode","newMode","getTargetPosAndBounds","setupEvents","toolbarPersist","prevPosAndBounds","resizeContent","prevPos","prevBounds","hasResized","uiContainer","Inline","showContextToolbarEvent","hideContextToolbarEvent","getFormApi","runOnExecute","renderContextButton","renderContextToggleButton","mementos","asSpecs","findPrimary","compInSystem","buildInitGroups","renderContextForm","toolbarType","ContextForm","isVerticalOverlap","threshold","getRangeRect","leaf$1","getSelectionBounds","scroll_1","bodyPos","getAnchorElementBounds","getHorizontalBounds","contentAreaBox","viewportBounds","getVerticalBounds","isToolbarLocationTop","headerBox","isToolbarBelowContentArea","isToolbarAbove","containerBounds","getContextToolbarBounds","toolbarOrMenubarEnabled","bubbleSize$1","bubbleAlignments$1","inset","isEntireElementSelected","preservePosition","currentPosition","shouldUseInsetLayouts","determineInsetLayout","contextbar","selectionBounds","isSameAnchorElement","isOverlapping","isReposition","yBounds","contextbarHeight","getAnchorSpec$2","mobile","smartInsetLayout","newAnchor","getInsetLayouts","desktopAnchorSpecLayouts","mobileAnchorSpecLayouts","getAnchorLayout","matchTargetWith","ctxs","toolbarApi","contextToolbars","contextForms","filterByPositionForStartNode","doesPositionExist","filterToolbarsByPosition","hasSelectionToolbars","hasNodeToolbars","nodeToolbars","selectionToolbars","filterByPositionForAncestorNode","findPosition_1","basePosition","matchStartNode","nodeCandidates","editorCandidates","nodeMatches","editorMatches","matchAncestor","scopes","ancestorElem","inNodeScope","lookup$1","rootElem","isOutsideRoot","inEditorScope","categorise","forms","formNavigators","lookupTable","registerForm","contextForm","registerToolbar","contextToolbar","forwardSlideEvent","backSlideEvent","changeSlideEvent","resizingClass","renderContextToolbar","currentWidth","newContents","oldContents","forwardContents","register$7","registryContextToolbars","lastTrigger","lastContextPosition","canLaunchToolbar","isSameLaunchElement","shouldContextToolbarHide","contextToolbarBounds","anchorBounds","hideOrRepositionIfNecessary","contextBarEle","wrapInPopDialog","getScopes","alloySpec","buildToolbar","buildContextToolbarGroups","allButtons","buildContextFormGroups","default","anchorLayout","launchContext","launchContextToolbar","register$6","alignToolbarButtons","unsupportedLength","decimalDigits","signedInteger","exponentPart","dot","unsignedDecimalLiteral","float","isUnit","accepted","unitRaw","normalise","registerController","getMenuItems","getOptions","oldApi","unbindWatcher","watcher","setCurrent","addMenuButton","onToolbarSetup","onMenuSetup","lineHeightSpec","languageSpec","settingsOpt","customCode","customValue","ele","codeOpt","register$5","register$4","onSetupOutdentState","queryCommandState","registerButtons$2","register$3","onActionToggleFormat","registerFormatButtons","_idx","registerCommandButtons","registerCommandToggleButtons","registerButtons$1","registerMenuItems$2","onSetupUndoRedoState","registerMenuItems$1","registerButtons","onSetupVisualAidState","hasVisual","registerMenuItems","registerToolbarButton","setup$6","transpose","dx","dy","isTouchEvent","fromPageXY","fromClientXY","transposeContentAreaContainer","containerPos","getPos","getPointAnchor","getSelectionAnchor","getNodeAnchor","getAnchorSpec$1","anchorType","initAndShow$1","buildMenu","contextmenu","anchorSpec","bubbleAlignments","isTouchWithinSelection","touch_1","rngRectOpt","rngRect","setupiOSOverrides","originalSelection","selectionReset","unbindEventListeners","preventMousedown","clearSelectionReset","getAnchorSpec","bubbleYOffset","initAndShow","shouldHighlightImmediately","openiOS_1","patchPipeConfig","shouldNeverUseNative","defaultItems","contextMenus","isContextMenuDisabled","getContextMenu","getAvoidOverlapSelector","makeContextItem","commonMenuItem","addContextMenuGroup","groupItems","lastMenuItem","generateContextMenu","selectedElement","allItems","isNativeOverrideKeyEvent","isTriggeredByKeyboard","getSelectedElement","getAnchorType","selectorExists","setup$5","hideContextMenu","showContextMenu","initAndShow$2","hideEvents","subtract","changes","asFixed","coord","asAbsolute","asOffset","withinRange","coord1","coord2","getDeltas","toStyles","stylesOpt","absorb","partialCoord","originalCoord","absorbOne","optX","optY","parseAttrToInt","snapsInfo","leftAttr","topAttr","getCoords","snapInfo","moveOrSnap","newCoord","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","stopDrag","findMatchingSnap","snaps","sensor","inRange","getSnapPoints","matchSnap","bestSnap","deltas","bestDeltas","currAvg","bestAvg","snapTo$1","snapTo","dragConfig","getTarget","repositionTarget","origin_1","snapPin","DraggingApis","initialAttribute","resetZIndex","zIndex","changeZIndex","zindex","instigate","anyComponent","discard","createComponent","blockerClass","blockerEvents","SnapSchema","schema$6","getCurrentCoord","clampCoords","coords","absoluteCoord","newCoords","offset$1","calcNewCoord","optSnaps","currentCoord","snapping","onSensor","dragBy","onDrag","calcStartData","dragState","dragStartData","getStartData","dlt","updateStartState","setStartData","init$2","dragApi","forceDrop","drop","delayDrop","getData$1","getDelta$1","MouseData","events$2","stop$1","schema$5","init$1","getDataFrom","TouchData","events$1","blockerSingleton","stopBlocking","schema$4","schema$3","mouse","mouseOrTouch","DraggingBranches","previous","calculateDelta","dragEvent","DragState","Dragging","dragger","snapWidth","snapOffset","calcSnap","selectorOpt","td","selectorHandle","sensorLeft","sensorTop","sensorWidth","sensorHeight","getSnapsConfig","isSameCell","cellOpt","currentTd","createSelector","setup$4","tlTds","brTds","startCell","finishCell","getTopLeftSnap","memTopLeft","getTopLeftSnaps","getBottomRightSnap","memBottomRight","getBottomRightSnaps","topLeftSnaps","bottomRightSnaps","bottomRight","showOrHideHandle","isAbove","isBelow","cellRect","viewportHeight","aboveViewport","belowViewport","getSnapConfig","snapTopLeft","snapLastTopLeft","snapBottomRight","snapLastBottomRight","otherCells","upOrLeftCells","downOrRightCells","renderElementPath","getDataPath","newPathElements","_btn","divider","newAcc","updatePath","newPath","isPropagationStopped","resizeType","Both","dim","getResizeType","None","Vertical","keyboardHandler","renderResizeHandler","_target","renderWordCount","replaceCountText","currentVal","renderStatusbar","renderBranding","linkHtml","getTextComponents","getComponents","resizeHandler","setup$3","lazyOuterContainer","platformClasses","touchPlatformClass","deviceClasses","isToolbarBottom","dirAttributes","verticalDirAttributes","isHeaderDocked","resizeUiMothership","makeSinkDefinition","isGridUiContainer","sinkSpec","reactiveWidthSpec","memAnchorBar","lazyAnchorBar","sb","statusbar","socketSidebarContainer","hasMultipleToolbar","hasToolbar","hasMenubar","getPartToolbar","editorComponents","containerComponents","opacity","border","getUi","broadcastAll","setEditorSize","parsedHeight","parsedWidth","renderUI","toolbarGroupButtonConfig","addGroupToolbarButton","toolbarOpt","describedBy","describedElement","describeElement","describeId","labelledBy","labelledElement","labelElement","schema$2","basic","parts$2","dragBlockClass","getDragBounds","factory$4","dialogComp","externalBlocker","hideDialog","blockerDom","getDialogBody","getDialogFooter","setBusy","setIdle","modalEventsId","getFooter","modalBehaviours","ModalDialog","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseFooterButtonFields","dialogFooterButtonFields","normalFooterButtonFields","menuFooterButtonFields","dialogFooterButtonSchema","alertBannerFields","alertBannerSchema","createBarFields","itemsField","buttonFields","buttonSchema","checkboxFields","checkboxSchema","checkboxDataProcessor","formComponentFields","formComponentWithLabelFields","collectionFields","collectionSchema","collectionDataProcessor","colorInputFields","colorInputSchema","colorInputDataProcessor","colorPickerFields","colorPickerSchema","colorPickerDataProcessor","customEditorFields","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","dropZoneFields","dropZoneSchema","dropZoneDataProcessor","createGridFields","htmlPanelFields","htmlPanelSchema","iframeFields","iframeSchema","iframeDataProcessor","imageToolsFields","imageToolsSchema","inputFields","inputSchema","inputDataProcessor","createLabelFields","listBoxSingleItemFields","listBoxNestedItemFields","listBoxItemSchema","listBoxFields","listBoxSchema","listBoxDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","tableFields","tableSchema","textAreaFields","textAreaSchema","textAreaDataProcessor","urlInputFields","urlInputSchema","urlInputDataProcessor","createItemsField","itemSchema","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogButtonFields","dialogButtonSchema","dialogSchema","tabpanel","createDialog","urlDialogButtonSchema","urlDialogSchema","createUrlDialog","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","getDataProcessor","getNamedItems","createDataValidator","namedItems","internalDialog","dataValidator","DialogManager","openUrl","toValidValues","renderBodyPanel","memForm","formValue","factory$3","tabButtonBehaviours","TabButton","schema$1","tabsPart","barDetail","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$1","factory$2","tabbarBehaviours","selectedClass","tab","Tabbar","factory$1","tabviewBehaviours","Tabview","barPart","viewPart","tabValue","tabview","tabWithValue","tabData","onChangeTab","changeTabBy","byPred","tabSectionBehaviours","selectFirst","onDismissTab","getViewItems","showTab","tabKey","getTabIfNotActive","optTab","TabSection","measureHeights","allTabs","tabviewComp","_tab","getMaxHeight","heights","getMaxTabviewHeight","tablist","documentElement$1","tabviewHeight","isTabListBeside","currentTabHeight","dialogTopMargin","dialogBottomMargin","dialogHeight","chromeHeight","setTabviewHeight","updateTabviewHeight","dialogBody","maxTabHeight","getTabview","smartTabHeight","extraEvents","maxTabHeightOpt","oldHeight","naiveTabHeight","SendDataToSectionChannel","SendDataToViewChannel","renderTabPanel","storedValue","updateDataWithForm","formData","validData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","renderBody","ariaAttrs","incoming","isTabPanel","ariaAttributes","renderInlineBody","contentId","renderModalBody","bodySpec","renderIframeBody","_setPrototypeOf","setPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","_construct","Parent","Class","isFrozen","getPrototypeOf","seal","thisValue","Func","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","typeErrorCreate","unconstruct","addToSet","lcElement","newObject","lookupGetter","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","mathMl","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","_createTrustedTypesPolicy","trustedTypes","createPolicy","ATTR_NAME","policyName","createDOMPurify","DOMPurify","originalDocument","DocumentFragment","HTMLTemplateElement","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","ElementPrototype","getNextSibling","getChildNodes","getParentNode","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","importNode","documentMode","createHTMLDocument","PARSER_MEDIA_TYPE","transformCaseFunc","MUSTACHE_EXPR$1","ERB_EXPR$1","DATA_ATTR$1","ARIA_ATTR$1","IS_SCRIPT_OR_DATA$1","ATTR_WHITESPACE$1","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","IS_EMPTY_INPUT","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","namespaceURI","parentTagName","_forceRemove","outerHTML","_removeAttribute","attribute","getAttributeNode","_initDocument","leadingWhitespace","dirtyPayload","createDocument","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","_isNode","_executeHook","entryPoint","hook","_sanitizeElements","allowedTags","firstElementChild","_basicCustomElementTest","childCount","_isValidAttribute","lcTag","_sanitizeAttributes","hookEvent","keepAttr","allowedAttributes","_attr","forceKeepAttr","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","nextNode","importedNode","oldNode","returnNode","toStaticHTML","nodeIterator","shadowroot","serializedHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","purify","sanitizeHtmlString","hiddenHeader","pClose","pUntitled","pBodyMessage","pFooter","footer","pFooterGroup","startButtons","endButtons","renderDialog$1","dialogClass","blockerBackdropClass","scrollLockClass","extraStyles","dialogEvents","renderClose","renderTitle","renderDragHandle","renderInlineHeader","titleId","renderModalHeader","pTitle","pHandle","draghandle","draggable","bs","getEventExtras","lazyDialog","closeWindow","blockEvent","renderModalDialog","mapMenuButtons","mapItems","extractCellsToObject","menuButton","innerAcc","initCommonEvents","fireApiEvent","_event","initUrlDialog","getInstanceApi","withSpec","currentDialog","initDialog","currentDialogInit","cur","onTabChange","newTabName","oldTabName","SilverDialogEvents","makeButton","footerButtons","buttonName","buttonGroups","makeGroup","renderFooter","initSpec","lookupByName","renderInlineFooter","renderModalFooter","getCompByName","form_1","getFormWrapper","footerState","validateData$1","dialogState","getDialogApi","doRedial","menuItemStates","withRoot","valueComp","representedValues","menuItemCurrentState","instanceApi","mergedData","newInternalData","bodyState","tabSection","dialogInit","getDialogSizeClasses","renderDialog","storagedMenuButtons","objOfCells","dialogSize","modalAccess","getForm","outerForm","renderInlineDialog","dialogLabelId","dialogContentId","memHeader","memBody","memFooter","getUrlDialogApi","sendMessage","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","isCustomMessage","handleMessage","renderUrlDialog","iframeUri","base_uri","iframeDomain","messageHandlerUnbinder","isSameOrigin","onMessage","iframeEle","iframeWin","closeDialog","alertDialog","memFooterClose","titleSpec","closeSpec","footerCloseButton","confirmDialog","memFooterYes","footerNo","footerYesButton","validateData","isAlertOrConfirmDialog","inlineAdditionalBehaviours","isStickyToolbar$1","openInlineDialog","openModalDialog","openModalUrlDialog","internalInitialData","config$1","refreshDocking","dialogUi","inlineDialogComp","Theme","windowMgr","getWindowManagerImpl","getNotificationManagerImpl","__name","operations","preNum","emits","__props","tableHeader","tableData","operationsData","generateHeader","handleClick","immediate","_ctx","_cache","_component_el_table_column","_component_el_button","_component_el_tooltip","_component_el_empty","_component_el_table","$index","$event","circle","__exports__","_hoisted_1","_hoisted_2","_hoisted_3","_component_el_col","_component_el_row","uploadContextKey","progressProps","buildProps","percentage","indeterminate","strokeWidth","strokeLinecap","definePropType","textInside","showText","striped","stripedFlow","STATUS_COLOR_MAP","exception","ns","useNamespace","barStyle","computed","animationDuration","backgroundColor","relativeStrokeWidth","radius","includes","trackPath","isDashboard","perimeter","strokeDashoffset","trailPathStyle","strokeDasharray","circlePathStyle","stroke","statusIcon","WarningFilled","CircleCheck","CircleClose","Check","Close","progressTextSize","seriesColors","seriesColor","color2","ElProgress","withInstall","Progress","SCOPE","UploadAjaxError","getError","responseText","ajaxUpload","throwError","upload","progressEvt","onProgress","FormData","onSuccess","headers","Headers","setRequestHeader","isNil","uploadListTypes","fileId","genFileId","now","uploadBaseProps","mutable","showFileList","fileList","autoUpload","httpRequest","uploadProps","beforeUpload","NOOP","beforeRemove","onRemove","onPreview","onExceed","uploadListProps","handlePreview","uploadListEmits","useLocale","nsUpload","nsIcon","nsList","useFormDisabled","focusing","handleRemove","CLONE_DEEP_FLAG","CLONE_SYMBOLS_FLAG","cloneDeep","baseClone","uploadDraggerProps","uploadDraggerEmits","COMPONENT_NAME","uploaderContext","inject","dragover","filesFiltered","baseType","type2","acceptedType","onDragover","uploadContentProps","onStart","inheritAttrs","requests","shallowRef","inputRef","uploadFiles","rawFile","doUpload","hookResult","beforeData","originData","beforeUploadPromise","isEqual","File","request","handleChange","_reqs","entriesOf","expose","useHandlers","uploadRef","useVModel","getFile","clearFiles","handleProgress","handleSuccess","handleStart","uploadFile","debugWarn","doRemove","file2","watch","slots","useSlots","isPictureCard","onBeforeUnmount","provide","toRef","ElUpload","Upload","buildShortUUID","validEvents","isValidKey","bindHandlers","initEvent","onMountedOrActivated","mounted","onMounted","nextTick","onActivated","modelValue","showImageUpload","tinymceId","editorRef","fullscreen","elRef","initOptions","branding","default_link_target","link_title","object_resizing","auto_focus","skin_url","content_css","initSetup","getdDisabled","destory","bindModelHandlers","initEditor","prevVal","outputFormat","modelEvents","normalizedEvents","ref_key","imageSrc","imageRef","cropImage","croppedImage","formRef","author","cover","imageUrl","imgPreview","handleImgSuccess","getImgUrl","handleImageSrc","base64ToFile","fileName","dataArr","byteString","endings","u8Arr","fileOfBlob","loading","_component_el_input","_component_el_form_item","_component_el_upload","_component_el_form","_component_el_dialog","clearable","gutter","onUpdateImageSrc","plat","vlog","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","rowData","pageNum","pageSize","dialogShow","dialogShow1","editData","dialogTitle","queryRow","handlePageChange","handleSizeChange","_component_el_pagination","onCommands","onCurrentChange","onSizeChange"],"sourceRoot":""}