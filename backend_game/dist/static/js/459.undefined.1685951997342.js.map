{"version":3,"file":"static/js/459.undefined.1685951997342.js","mappings":"ugCA4EA,IAAIA,GAAaC,EAAAA,EAAAA,IAAI,MACjBC,GAAYD,EAAAA,EAAAA,IAAI,IAChBE,GAAcF,EAAAA,EAAAA,IAAI,CAAC,KAAM,OAAQ,aAAc,oBAAqB,2BAA4B,WAChGG,GAAaH,EAAAA,EAAAA,IAAI,CAAC,CAAEI,GAAI,EAAGC,KAAM,UAAWC,KAAM,cAAeC,KAAM,eAAgBC,MAAO,QAAU,CAAEJ,GAAI,EAAGC,KAAM,UAAWC,KAAM,WAAYC,KAAM,kBAAmBC,MAAO,cACpLC,GAAUT,EAAAA,EAAAA,KAAI,GACdU,GAAUV,EAAAA,EAAAA,IAAI,CAAC,GACfW,GAAUX,EAAAA,EAAAA,IAAI,GAAQY,GAAQZ,EAAAA,EAAAA,IAAI,GAClCa,GAAWb,EAAAA,EAAAA,IAAI,IACfc,GAAQd,EAAAA,EAAAA,IAAI,IACZe,GAASf,EAAAA,EAAAA,IAAI,IACjB,SAASgB,EAAKC,GACQ,QAAhBA,EAAKC,UACPT,EAAQU,OAAQ,EAChBC,EAASH,EAAKA,MAElB,CACA,SAASI,IACP,IAAIJ,EAAO,CACTJ,SAAUA,EAASM,MACnBR,QAASA,EAAQQ,MACjBd,KAAMN,EAAWoB,MACjBL,MAAOA,EAAMK,MAAQL,EAAMK,MAAQ,KACnCJ,OAAQA,EAAOI,MAAQJ,EAAOI,MAAQ,MAExCG,EAAAA,GAAAA,QAAgBL,GAAMM,MAAMC,IACtBA,EAAIP,KAAKA,OACXhB,EAAUkB,MAAQK,EAAIP,KAAKA,KAC3BL,EAAMO,MAAQK,EAAIP,KAAKL,MACzB,GAEJ,CACA,SAASQ,EAASH,GAChB,IAAIO,EAAM,CAACP,GAAMQ,KAAIC,IACZ,CACLC,SAAUD,EAAEE,SACZC,aAAcH,EAAEI,aAChBC,WAAYL,EAAEM,WACdC,SAAUP,EAAEQ,SACZC,iBAAkBT,EAAEU,iBACpBC,UAAWX,EAAEY,UACbC,IAAKb,EAAEa,QAGX7B,EAAQS,MAAQK,EAAI,EACtB,CACA,SAASgB,EAAYC,GACnB1C,EAAWoB,MAAQsB,EACnB9B,EAAQQ,MAAQ,EAChBL,EAAMK,MAAQ,GACdJ,EAAOI,MAAQ,GACfE,GACF,CACA,SAASqB,EAAiBC,GACxBhC,EAAQQ,MAAQwB,EAChBtB,GACF,C,OACAuB,EAAAA,EAAAA,KAAU,KACRvB,GAAO,I,qkGC3GT,IAAInB,GAAcF,EAAAA,EAAAA,IAAI,IAClBC,GAAYD,EAAAA,EAAAA,IAAI,IAChB6C,GAAiB7C,EAAAA,EAAAA,IAAI,MA+BzB,SAAS8C,EAAe7B,GACtB,MAAM8B,EAAM,GACZ,IAAK,IAAIC,KAAO/B,EACd,GAAY,OAAR+B,EAAc,CAChB,MAAMC,EAAM,CACVD,IAAKA,EACL7B,MAAO6B,EAAIE,QAAQ,MAAO,MAE5BH,EAAII,KAAKF,EACX,CAEF,OAAOF,CACT,CACA,SAASP,EAAYhC,EAAO4C,GAC1BC,EAAM,WAAY,CAAEnC,QAASV,EAAOS,KAAMmC,GAC5C,C,OAzBAE,EAAAA,EAAAA,KAAM,IAAMC,EAAMtC,OAAO0B,IACvB1C,EAAUkB,MAAQwB,CAAG,GACpB,CAAEa,WAAW,KAChBF,EAAAA,EAAAA,KAAM,IAAMC,EAAME,SAASd,IACzBzC,EAAYiB,MAAQ2B,EAAeH,EAAI,GACtC,CAAEa,WAAW,KAChBF,EAAAA,EAAAA,KAAM,IAAMC,EAAMpD,aAAawC,IACrBE,EAAe1B,MAApBwB,GACyB,IAAI,GAC/B,CAAEa,WAAW,I,8mCCpDhB,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,gHCLA,MAAMA,EAAc,IAEpB,e","sources":["webpack://knowledge/./src/views/admin/promotion-rewards.vue","webpack://knowledge/./src/components/dynamic-table.vue","webpack://knowledge/./src/components/dynamic-table.vue?a5fc","webpack://knowledge/./src/views/admin/promotion-rewards.vue?34da"],"sourcesContent":["<template>\n  <div class=\"card\">\n    <div class=\"card-header card-header-tabs card-header-warning\">\n      <div class=\"nav-tabs-navigation\">\n        <div class=\"nav-tabs-wrapper\">\n          <ul class=\"nav nav-tabs\" data-tabs=\"tabs\">\n            <li class=\"nav-item\" @click=\"handleClick('cp')\">\n              <a class=\"nav-link\" :class=\"activeName =='cp'?' active show':''\" href=\"javascript:void(0);\" data-toggle=\"tab\">\n                <i class=\"fa fa-share-alt\"></i> Channel Providers\n                <div class=\"ripple-container\"></div>\n              </a>\n            </li>\n            <li class=\"nav-item\" @click=\"handleClick('ca')\">\n              <a class=\"nav-link\" :class=\"activeName =='ca'?' active show':''\" href=\"javascript:void(0);\" data-toggle=\"tab\">\n                <i class=\"fa fa-group\"></i> Club Administrators\n                <div class=\"ripple-container\"></div>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n    <div class=\"card-body\">\n      <div class=\"row\">\n        <div class=\"col-md-3\">\n          <label>Epoch:&nbsp;</label>\n          <div class=\"dropdown bootstrap-select\" id=\"selectpicker\">\n            <el-select v-model=\"epoch\" class=\"selectpicker btn btn-info btn-round\" placeholder=\"Select Epoch\">\n              <el-option label=\"1 2023-05-01 - 2023-05-31\" value=\"1\"></el-option>\n              <el-option label=\"2\" value=\"2\"></el-option>\n              <el-option label=\"3\" value=\"3\"></el-option>\n              <el-option label=\"4\" value=\"4\">4</el-option>\n              <el-option label=\"5\" value=\"5\"></el-option>\n            </el-select>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"form-group\">\n            <div class=\"input-group no-border\">\n              <input type=\"text\" v-model=\"search\" class=\"form-control\" placeholder=\"Search user...\">\n              <button type=\"button\" class=\"btn btn-info btn-round btn-just-icon\" @click=\"query()\">\n                <i class=\"fa fa-search\"></i>\n                <div class=\"ripple-container\"></div>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <dynamic-table :data=\"tableData\" :header=\"tableHeader\" :preNum=\"pageNum * pageSize - pageSize\" :operations=\"operations\" @commands=\"view\"></dynamic-table>\n      <el-pagination background layout=\"prev, pager, next\" :total=\"total\" v-model:current-page=\"pageNum\" @current-change=\"handlePageChange\" :page-size=\"pageSize\" />\n    </div>\n    <!--View NFT on Blockchain-->\n    <el-dialog v-model=\"visible\" title=\"View NFT on Blockchain\" destroy-on-close>\n      <div class=\"detail-box\">\n        <el-row :gutter=\"40\">\n          <el-col :span=\"8\">\n            <el-image :src=\"rowData.src\"></el-image>\n          </el-col>\n          <el-col :span=\"16\">\n            <template v-for=\"(item,key) in rowData\">\n              <div v-if=\"key !='src'\" :key=\"key\" class=\"detail-item\">\n                <span>{{ key.replace(/\\_/g,\" \")+\":\" }}</span>\n                <span>{{ item }}</span>\n              </div>\n            </template>\n          </el-col>\n        </el-row>\n      </div>\n    </el-dialog>\n    <!--View NFT on Blockchain-->\n  </div>\n</template>\n  <script setup>\nimport { ref, onMounted } from \"vue\";\nimport { gameApi } from \"@/api/request\";\nimport DynamicTable from \"@/components/dynamic-table.vue\";\nlet activeName = ref(\"cp\");\nlet tableData = ref([])\nlet tableHeader = ref([\"id\", \"user\", \"commission\", \"count_of_promoted\", \"total_amount_of_promoted\", \"awards\"])\nlet operations = ref([{ id: 1, type: 'success', icon: \"fa fa-group\", name: \"view members\", event: 'view' }, { id: 1, type: 'primary', icon: \"fa fa-cc\", name: \"Allocate awards\", event: 'allocate' }])\nlet visible = ref(false);\nlet rowData = ref({});\nlet pageNum = ref(1); let total = ref(1);\nlet pageSize = ref(10);\nlet epoch = ref(\"\")\nlet search = ref(\"\")\nfunction view(data) {\n  if (data.command == \"view\") {\n    visible.value = true;\n    queryRow(data.data);\n  }\n}\nfunction query() {\n  let data = {\n    pageSize: pageSize.value,\n    pageNum: pageNum.value,\n    type: activeName.value,\n    epoch: epoch.value ? epoch.value : null,\n    search: search.value ? search.value : null\n  }\n  gameApi.rewards(data).then((res) => {\n    if (res.data.data) {\n      tableData.value = res.data.data;\n      total.value = res.data.total;\n    }\n  })\n}\nfunction queryRow(data) {\n  let res = [data].map(i => {\n    return {\n      NFT_type: i.nft_type,\n      Game_chances: i.game_chances,\n      Blockchain: i.blockchain,\n      Token_ID: i.token_id,\n      Contract_Address: i.contract_address,\n      Minted_at: i.minted_at,\n      src: i.src\n    }\n  });\n  rowData.value = res[0];\n}\nfunction handleClick(tab) {\n  activeName.value = tab;\n  pageNum.value = 1;\n  epoch.value = \"\";\n  search.value = \"\"\n  query();\n}\nfunction handlePageChange(val) {\n  pageNum.value = val;\n  query();\n}\nonMounted(() => {\n  query();\n})\n  </script>","<template>\n  <el-table :data=\"tableData\" fit>\n    <el-table-column label=\"No.\" :width=\"50\">\n      <template #default=\"scope\">\n        {{ scope.$index + preNum+1 }}\n      </template>\n    </el-table-column>\n    <el-table-column v-for=\"(item, index) in tableHeader\" :key=\"index\" :label=\"item.value\" :prop=\"item.key\">\n    </el-table-column>\n    <el-table-column label=\"Operations\" width=\"120\" v-if=\"operationsData\">\n      <template #default=\"scope\">\n        <span v-for=\"item in operationsData\" :key=\"item.id\" style=\"padding-left:5px;padding-right:5px;\">\n          <el-tooltip :content=\"item.name\" placement=\"top\">\n            <el-button :type=\"item.type\" size=\"small\" @click=\"handleClick(item.event,scope.row,scope.$index)\" circle><i :class=\"item.icon\"></i></el-button>\n          </el-tooltip>\n        </span>\n      </template>\n    </el-table-column>\n    <template #empty>\n      <el-empty style=\"margin:0 auto\"></el-empty>\n    </template>\n  </el-table>\n</template>\n  \n<script setup>\nimport { ref, defineProps, defineEmits, watch } from \"vue\";\nlet tableHeader = ref([]);\nlet tableData = ref([]);\nlet operationsData = ref(null);\nlet emits = defineEmits(['commands']);\n// 表格展示数据\nconst props = defineProps({\n  data: {\n    type: Array,\n    default: () => []\n  },\n  header: {\n    type: Array,\n    default: () => []\n  },\n  operations: {\n    type: Array,\n    default: () => null\n  },\n  preNum: {\n    type: Number,\n    default: 0\n  }\n})\nwatch(() => props.data, (val) => {\n  tableData.value = val;\n}, { immediate: true })\nwatch(() => props.header, (val) => {\n  tableHeader.value = generateHeader(val);\n}, { immediate: true })\nwatch(() => props.operations, (val) => {\n  if(val) operationsData.value = val;\n  else operationsData.value = null\n}, { immediate: true })\nfunction generateHeader(data) {\n  const ret = [];\n  for (let key of data) {\n    if (key !== \"id\") {\n      const obj = {\n        key: key,\n        value: key.replace(/\\_/g, \" \"),\n      };\n      ret.push(obj);\n    }\n  }\n  return ret;\n}\nfunction handleClick(event, item) {\n  emits('commands', { command: event, data: item })\n}\n  </script>\n<style scoped>\n/deep/ .el-table {\n  min-height: 400px;\n}\n/deep/ .el-table__header {\n  text-transform: capitalize;\n}\n</style>\n  \n  ","import script from \"./dynamic-table.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./dynamic-table.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./dynamic-table.vue?vue&type=style&index=0&id=07c19c6d&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/liudongxue/Documents/brilliance/game/backend_game/backend_game/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-07c19c6d\"]])\n\nexport default __exports__","import script from \"./promotion-rewards.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./promotion-rewards.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["activeName","ref","tableData","tableHeader","operations","id","type","icon","name","event","visible","rowData","pageNum","total","pageSize","epoch","search","view","data","command","value","queryRow","query","gameApi","then","res","map","i","NFT_type","nft_type","Game_chances","game_chances","Blockchain","blockchain","Token_ID","token_id","Contract_Address","contract_address","Minted_at","minted_at","src","handleClick","tab","handlePageChange","val","onMounted","operationsData","generateHeader","ret","key","obj","replace","push","item","emits","watch","props","immediate","header","__exports__"],"sourceRoot":""}