"use strict";(self["webpackChunkchessofstars"]=self["webpackChunkchessofstars"]||[]).push([[90],{15339:function(e,t,a){a.a(e,(async function(e,n){try{var s=a(92561),i=(a(41602),a(65710),a(54349)),r=(a(96618),a(90973)),l=(a(402),a(74116)),d=(a(47903),a(66433)),u=(a(59339),a(98671)),o=(a(2938),a(73396)),p=a(82268),c=a(44870),y=a(87139),m=a(34862),v=a(74804),f=a(29322),b=a(86520),T=a(69552),h=a(71118),w=a(6729),_=a(2361),g=a(86853),k=(a(69097),a(40470),e([b,T,w]));[b,T,w]=k.then?(await k)():k;const M={class:"content"},x={class:"container-fluid"},I={class:"row"},U={class:"col-lg-3 col-md-6 col-sm-6"},A={class:"card card-stats"},C={class:"card-header card-header-warning card-header-icon"},W=(0,o._)("div",{class:"card-icon"},[(0,o._)("i",{class:"fa fa-btc"})],-1),V=(0,o._)("p",{class:"card-category"},"COSD",-1),E={class:"card-title"},F=(0,o._)("div",{class:"card-footer"},[(0,o._)("div",{class:"stats"},[(0,o._)("i",{class:"fa fa-btc"}),(0,o.Uk)(" All COSD staked for the game ")])],-1),z={class:"col-lg-3 col-md-6 col-sm-6"},H={class:"card card-stats"},B={class:"card-header card-header-warning card-header-icon"},D=(0,o._)("div",{class:"card-icon"},[(0,o._)("i",{class:"fa fa-money"})],-1),N=(0,o._)("p",{class:"card-category"},"Evics",-1),O={class:"card-title"},K=(0,o._)("div",{class:"card-footer"},[(0,o._)("div",{class:"stats"},[(0,o._)("i",{class:"fa fa-money"}),(0,o.Uk)(" Evics earned in the game ")])],-1),S={class:"col-lg-3 col-md-6 col-sm-6"},q={class:"card card-stats"},Z={class:"card-header card-header-info card-header-icon"},R=(0,o._)("div",{class:"card-icon"},[(0,o._)("i",{class:"fa fa-ticket"})],-1),j=(0,o._)("p",{class:"card-category"},"NFTs",-1),G={class:"card-title"},P=(0,o._)("div",{class:"card-footer"},[(0,o._)("div",{class:"stats"},[(0,o._)("i",{class:"fa fa-ticket"}),(0,o.Uk)("  "),(0,o._)("a",{href:"#pablo"},"Get More NFTs")])],-1),J={class:"col-lg-3 col-md-6 col-sm-6"},L={class:"card card-stats"},Q={class:"card-header card-header-info card-header-icon"},X=(0,o._)("div",{class:"card-icon"},[(0,o._)("i",{class:"fa fa-gamepad"})],-1),Y=(0,o._)("p",{class:"card-category"},"Games played",-1),$={class:"card-title"},ee=(0,o._)("div",{class:"card-footer"},[(0,o._)("div",{class:"stats"},[(0,o._)("i",{class:"fa fa-gamepad"}),(0,o.Uk)("  "),(0,o._)("a",{href:"#pablo"},"View games remaining")])],-1),te={class:"card"},ae={style:{display:"flex","align-items":"center","justify-content":"space-between",padding:"10px"}},ne={class:"card"},se={style:{display:"flex","align-items":"center","justify-content":"space-between",padding:"10px"}};t.Z={__name:"dashboard",setup(e){const t=(0,y.oR)(),a=(0,c.iH)({cosd:0,nft:0,games:1,evics:0}),n=new b.MV,k=(0,c.iH)({cosd:m,nft:v,busd:f}),ie=(0,c.iH)(0),re=(0,c.iH)(0),le=(0,c.iH)(!1),de=(0,c.iH)({title:"",btn:""}),ue=(0,c.iH)(1/0),oe=(0,c.iH)(100);function pe(){return ie.value||_.z8.error("amount is required!"),!ie.value}function ce(e){let t=100;"evic"==e?ie.value=re.value/t:"usdt"==e&&(re.value=ie.value*t)}function ye(){let e={userId:t.state.user.id,assetType:3};T.sh.data(e).then((e=>{0==e.code&&(a.value.evics=e.data.amount)}))}function me(e){let s={abi:k.value[e],address:b.qE[e].address,from:t.state.metaMask.account,key:e};n.getBalanceByContract(s).then((t=>{a.value[e]=Math.round(1e3*t)/1e3}))}function ve(e){n.isAvailable()&&(de.value={btn:"buy"==e?"Buy":"Withdraw",title:"Evics Transcation",command:e},be[e],le.value=!0)}function fe(){Te[de.value.command]}const be={withdraw:()=>{ue.value=a.value.evics,oe.value=1e3,a.value.evics<1e3?_.z8.warning("Lower limit of withdrawal 1000 evic!"):(ie.value=10,re.value=1e3)},buy:()=>{ue.value=1/0,oe.value=100,ie.value=1,re.value=100}},Te={buy:()=>{if(!n.isAvailable())return;if(pe())return;let e={from:t.state.metaMask.account,to:b.qE.evic.address,address:b.qE.busd.address,money:ie.value,abi:k.value.busd};h.K.show(),n.transferEvicByContract(e).then((e=>{le.value=!1,h.K.hide();let n={txId:e.transactionHash,transType:b.hC.evic,fromUserId:t.state.user.id,fromAssetType:b.pn.usdt,fromAmount:ie.value,toUserId:t.state.user.id,toAssetType:b.pn.evic,toAmount:re.value,nftVo:{}};(0,b.pd)(n),a.value.evics=a.value.evics+100*ie.value})).catch((e=>{h.K.hide()}))},withdraw:()=>{if(!re.value)return;if(re.value>a.value.evics)return void _.z8.error("cannot exceed the balance!");let e={transType:b.hC.evic1,fromUserId:t.state.user.id,fromAssetType:b.pn.evic,fromAmount:0-re.value,toUserId:t.state.user.id,toAssetType:b.pn.usdt,toAmount:0-ie.value,nftVo:{}};h.K.show(),T.sh.withdraw(e).then((e=>{le.value=!1,h.K.hide(),(0,g.bM)({type:"success",message:"it will take a few minutes,please refresh later"}),a.value.evics=a.value.evics-re.value})).catch((e=>{h.K.hide()}))}};return(0,o.bv)((()=>{ye(),n.isAvailable()&&(me("cosd"),me("nft"))})),(e,t)=>{const n=u.ElButton,c=d.v,y=l.Dv,m=r.d6,v=i.dq,f=s.d0;return(0,o.wg)(),(0,o.iD)("div",M,[(0,o._)("div",x,[(0,o._)("div",I,[(0,o._)("div",U,[(0,o._)("div",A,[(0,o._)("div",C,[W,V,(0,o._)("h3",E,(0,p.zw)(a.value.cosd),1)]),F])]),(0,o._)("div",z,[(0,o._)("div",H,[(0,o._)("div",B,[D,N,(0,o._)("h3",O,(0,p.zw)(a.value.evics),1)]),K])]),(0,o._)("div",S,[(0,o._)("div",q,[(0,o._)("div",Z,[R,j,(0,o._)("h3",G,(0,p.zw)(a.value.nft),1)]),P])]),(0,o._)("div",J,[(0,o._)("div",L,[(0,o._)("div",Q,[X,Y,(0,o._)("h3",$,(0,p.zw)(a.value.games),1)]),ee])])]),(0,o._)("div",te,[(0,o._)("div",ae,[(0,o._)("div",null,[(0,o.Uk)("Current Evics: "),(0,o._)("b",null,(0,p.zw)(a.value.evics),1)]),(0,o._)("div",null,[(0,o.Wm)(n,{type:"primary",onClick:t[0]||(t[0]=e=>ve("buy")),round:""},{default:(0,o.w5)((()=>[(0,o.Uk)("Purchase")])),_:1}),(0,o.Wm)(n,{type:"success",style:{"margin-left":"10px"},disabled:!a.value.evics,onClick:t[1]||(t[1]=e=>ve("withdraw")),round:""},{default:(0,o.w5)((()=>[(0,o.Uk)("Withdraw")])),_:1},8,["disabled"])])])]),(0,o._)("div",ne,[(0,o._)("div",se,[(0,o._)("div",null,[(0,o.Uk)("Current COSD: "),(0,o._)("b",null,(0,p.zw)(a.value.cosd),1)]),(0,o._)("div",null,[(0,o.Wm)(w.Z,{onBalance:t[2]||(t[2]=e=>me("cosd"))})])])])]),(0,o.Wm)(f,{modelValue:le.value,"onUpdate:modelValue":t[7]||(t[7]=e=>le.value=e),title:de.value.title,width:"400px","destroy-on-close":""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{title:"TIP: 1 USDT = 100 EVIC",type:"info",style:{"margin-bottom":"20px"}}),(0,o.Wm)(v,{gutter:10},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{span:6},{default:(0,o.w5)((()=>[(0,o.Uk)("EVIC")])),_:1}),(0,o.Wm)(y,{span:18},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:re.value,"onUpdate:modelValue":t[3]||(t[3]=e=>re.value=e),modelModifiers:{number:!0},"controls-position":"right",step:100,min:oe.value,max:ue.value,style:{width:"100%"},onChange:t[4]||(t[4]=e=>ce("evic")),clearable:""},null,8,["modelValue","min","max"])])),_:1}),(0,o.Wm)(y,{span:6,style:{"margin-top":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)("USDT")])),_:1}),(0,o.Wm)(y,{span:18,style:{"margin-top":"10px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:ie.value,"onUpdate:modelValue":t[5]||(t[5]=e=>ie.value=e),modelModifiers:{number:!0},"controls-position":"right",step:1,min:oe.value/100,max:ue.value/100,style:{width:"100%"},onChange:t[6]||(t[6]=e=>ce("usdt")),clearable:""},null,8,["modelValue","min","max"])])),_:1}),(0,o.Wm)(y,{span:24,style:{"margin-top":"30px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{type:"success",style:{width:"100%"},onClick:fe},{default:(0,o.w5)((()=>[(0,o.Uk)((0,p.zw)(de.value.btn),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","title"])])}}},n()}catch(M){n(M)}}))},47307:function(e,t,a){a.a(e,(async function(e,n){try{a.r(t);var s=a(99858),i=e([s]);s=(i.then?(await i)():i)[0];const r=s.Z;t["default"]=r,n()}catch(r){n(r)}}))},99858:function(e,t,a){a.a(e,(async function(e,n){try{a.d(t,{Z:function(){return s.Z}});var s=a(15339),i=e([s]);s=(i.then?(await i)():i)[0],n()}catch(r){n(r)}}))},74804:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getNFT","outputs":[{"components":[{"internalType":"string","name":"number","type":"string"},{"internalType":"string","name":"chances","type":"string"},{"internalType":"string","name":"uri","type":"string"}],"internalType":"struct MyNFT.NFT","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getNftsByOwner","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"string","name":"_number","type":"string"},{"internalType":"string","name":"_chances","type":"string"}],"name":"mintAndTransfer","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"nfts","outputs":[{"internalType":"string","name":"number","type":"string"},{"internalType":"string","name":"chances","type":"string"},{"internalType":"string","name":"uri","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"}]')}}]);
//# sourceMappingURL=90.undefined.1686304155202.js.map